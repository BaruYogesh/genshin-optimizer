"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[592],{73673:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(6620),o=n(52322);const a=(0,r.Z)((0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},68164:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(6620),o=n(52322);const a=(0,r.Z)((0,o.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},30460:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(6620),o=n(52322);const a=(0,r.Z)((0,o.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"InsertLink")},70034:(e,t,n)=>{n.d(t,{Z:()=>a});n(2784);var r=n(6620),o=n(52322);const a=(0,r.Z)((0,o.jsx)("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube")},17206:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(31461),o=n(80422),a=n(67550),l=n(38951),i=n(2784),s=n(21548),c=n(74637),d=n(25434),u=n(86482),h=n(26578),p=n(71765),Z=n(42117),g=n(52903);const m=["artSetKey","setArtSetKey","label"];function y(e){let{artSetKey:t,setArtSetKey:n,label:y=""}=e,b=(0,r.Z)(e,m);const f=(0,d.Z)((()=>c.yp.getAll),[]),{t:v}=(0,s.$G)(["artifact","artifactNames_gen"]);y=y||v("artifact:autocompleteLabels.set");const x=(0,i.useMemo)((()=>f?Object.entries(c.yp.setKeysByRarities(f)).flatMap((([e,t])=>t.map((t=>({key:t,label:v(`artifactNames_gen:${t}`),grouper:+e}))))).sort(Z.Z):[]),[f,v]),_=(0,i.useCallback)((e=>e?(0,g.tZ)(h.Z,{src:(0,c.jU)(e),sx:{fontSize:"1.5em"}}):void 0),[]);return(0,g.tZ)(u._,Object.assign({options:x,valueKey:t,onChange:e=>n(null!=e?e:""),toImg:_,label:y,groupBy:e=>{var t,n;return null!=(t=null==(n=e.grouper)?void 0:n.toString())?t:""},renderGroup:e=>e.group&&(0,g.BX)(o.Z,{component:a.Z,children:[(0,g.BX)(l.Z,{sx:{top:"-1em"},children:[e.group," ",(0,g.tZ)(p.q,{stars:+e.group})]},`${e.group}Header`),e.children]},e.group)},b))}},52757:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(65992).ZP)("img")({width:"100%",height:"auto"})},87051:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(31461),o=n(65992),a=n(83249),l=n(52903);const i=["children","disabled"],s=(0,o.ZP)(a.Z)((({theme:e})=>({"&.Mui-disabled":{backgroundColor:e.palette.primary.dark,color:e.palette.text.secondary}})));function c(e){let{children:t}=e,n=(0,r.Z)(e,i);return(0,l.tZ)(s,Object.assign({},n,{disabled:!0,children:t}))}},59236:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(31461),o=n(25674),a=n(67550),l=n(66198),i=n(36893),s=n(10618),c=n(65992),d=n(92794);const u=(0,c.ZP)(d.Z,{shouldForwardProp:e=>"baseColor"!==e&&"selectedColor"!==e})((({theme:e,baseColor:t="secondary",selectedColor:n="success"})=>({"&":{backgroundColor:e.palette[t].main,color:e.palette[t].contrastText},"&:hover":{backgroundColor:e.palette[t].dark},"&.Mui-selected":{backgroundColor:e.palette[n].main,color:e.palette[n].contrastText},"&.Mui-selected:hover":{backgroundColor:e.palette[n].dark},"&.Mui-disabled":{backgroundColor:e.palette[t].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:e.palette[n].dark}})));var h=n(52972),p=n(52903);const Z=["value","totals","onChange"],g=(0,s.X)([...i.N]);function m(e){let{value:t,totals:n,onChange:s}=e,c=(0,r.Z)(e,Z);return(0,p.tZ)(o.Z,Object.assign({exclusive:!0,value:t},c,{children:i.N.map((e=>(0,p.BX)(u,{value:e,sx:{minWidth:"7em"},selectedColor:e,onClick:()=>s(g(t,e)),children:[(0,p.BX)(a.Z,{sx:{fontSize:"2em",lineHeight:1},children:[h.Z[e],"  "]}),(0,p.tZ)(l.Z,{label:n[e],size:"small"})]},e)))}))}},62978:(e,t,n)=>{n.d(t,{Z:()=>Z});var r=n(31461),o=n(92794),a=n(67550),l=n(66198),i=n(36893),s=n(10618),c=n(29432),d=n(71765),u=n(52903);const h=["value","totals","onChange"],p=(0,s.X)([...i.wC]);function Z(e){let{value:t,totals:n,onChange:s}=e,Z=(0,r.Z)(e,h);return(0,u.tZ)(c.Z,Object.assign({exclusive:!0,value:t},Z,{children:i.wC.map((e=>(0,u.tZ)(o.Z,{value:e,sx:{minWidth:"7em"},onClick:()=>s(p(t,e)),children:(0,u.BX)(a.Z,{display:"flex",children:[(0,u.tZ)("strong",{children:e}),(0,u.tZ)(d.q,{stars:1}),(0,u.tZ)(l.Z,{label:n[e],size:"small"})]})},e)))}))}},89431:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(44565),o=n(7671),a=n(41075),l=n(30609),i=n(56961),s=n(75213),c=n(67550),d=n(62197),u=n(2784),h=n(21548),p=n(79536),Z=n(71026),g=n(25870),m=n(25434),y=n(36893),b=n(40775),f=n(87985),v=n(67937),x=n(72055),_=n(26578),w=n(98927),C=n(71765),k=n(62978),H=n(29117),S=n(52903);function q({show:e,ascension:t=0,onHide:n,onSelect:q,filter:P=(()=>!0),weaponTypeFilter:W}){const{t:V}=(0,h.$G)(["page_weapon","weaponNames_gen"]),B=(0,m.Z)((()=>Z.Z.getAll),[]),[M,X]=(0,u.useState)(W?[W]:[...y.yd]),{database:T}=(0,u.useContext)(g.t),[z,$]=(0,u.useState)(T.displayWeapon.get());(0,u.useEffect)((()=>T.displayWeapon.follow(((e,t)=>$(t)))),[T]),(0,u.useEffect)((()=>W&&X([W])),[W]);const[O,N]=(0,u.useState)(""),j=(0,u.useDeferredValue)(O),{rarity:G}=z,I=(0,u.useMemo)((()=>B?y.fG.filter((e=>P(B(e)))).filter((e=>M.includes(B(e).weaponType))).filter((e=>!j||V(`weaponNames_gen:${e}`).toLowerCase().includes(j.toLowerCase()))).filter((e=>G.includes(B(e).rarity))).sort(((e,t)=>B(t).rarity-B(e).rarity)):[]),[j,P,G,V,M,B]),D=(0,u.useMemo)((()=>(0,b.W)(y.yd,(e=>B&&y.fG.forEach((t=>{const n=B(t).weaponType;e[n].total++,I.includes(t)&&e[n].current++}))))),[B,I]),E=(0,u.useMemo)((()=>(0,b.W)(y.wC,(e=>B&&y.fG.forEach((t=>{const n=B(t).rarity;e[n].total++,I.includes(t)&&e[n].current++}))))),[B,I]);return B?(0,S.tZ)(w.Z,{open:e,onClose:n,children:(0,S.BX)(f.Z,{children:[(0,S.tZ)(o.Z,{sx:{py:1},children:(0,S.BX)(a.ZP,{container:!0,spacing:1,children:[(0,S.tZ)(a.ZP,{item:!0,children:(0,S.tZ)(H.Z,{value:M,totals:D,onChange:X,disabled:!!W,size:"small"})}),(0,S.tZ)(a.ZP,{item:!0,children:(0,S.tZ)(k.Z,{sx:{height:"100%"},onChange:e=>T.displayWeapon.set({rarity:e}),value:G,totals:E,size:"small"})}),(0,S.tZ)(a.ZP,{item:!0,flexGrow:1,children:(0,S.tZ)(l.Z,{autoFocus:!0,size:"small",value:O,onChange:e=>N(e.target.value),label:V("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,S.tZ)(a.ZP,{item:!0,children:(0,S.tZ)(x.Z,{onClick:n})})]})}),(0,S.tZ)(i.Z,{}),(0,S.tZ)(o.Z,{children:(0,S.tZ)(a.ZP,{container:!0,spacing:1,children:I.map((e=>{var o;const l=B(e);return(0,S.tZ)(a.ZP,{item:!0,lg:3,md:4,children:(0,S.tZ)(v.Z,{sx:{height:"100%"},children:(0,S.BX)(s.Z,{onClick:()=>{n(),q(e)},sx:{display:"flex"},children:[(0,S.tZ)(c.Z,{component:"img",src:(0,r.Aq)(e,t>=2),sx:{width:100,height:"auto"},className:` grad-${l.rarity}star`}),(0,S.BX)(c.Z,{sx:{flexGrow:1,px:1},children:[(0,S.tZ)(d.Z,{variant:"subtitle1",children:l.name}),(0,S.BX)(d.Z,{children:[(0,S.tZ)(_.Z,{src:null==(o=p.Z.weaponTypes)?void 0:o[l.weaponType]})," ",(0,S.tZ)(C.q,{stars:l.rarity,colored:!0})]})]})]})})},e)}))})}),(0,S.tZ)(i.Z,{}),(0,S.tZ)(o.Z,{sx:{py:1},children:(0,S.tZ)(x.Z,{large:!0,onClick:n})})]})}):null}},2679:(e,t,n)=>{n.d(t,{WC:()=>C,KX:()=>H,SJ:()=>k,r:()=>X,Zu:()=>S,xm:()=>W,L1:()=>M,q8:()=>B,qp:()=>P,s_:()=>V,M:()=>q});var r=n(34958),o=n(30507),a=n(19807),l=n(61215),i=n(36893),s=n(41015),c=n(97797);const d=(0,c.lp)(r.qH.lvl,l.PO,a.ZP.info("crystallize_level_multi")),u=(0,c.WV)(40/9,(0,c.F9)(r.qH.total.eleMas,1400)),h=(0,c.ce)((0,c.WV)((0,c.ce)((0,c.Sm)(c.J_,u),Object.assign({pivot:!0},a.ZP.info("base_crystallize_multi"))),d),a.ZP.info("crystallize")),p=(0,c.lp)(r.qH.lvl,l.P_,a.ZP.info("transformative_level_multi")),Z=(0,c.WV)(16,(0,c.F9)(r.qH.total.eleMas,2e3)),g=Object.assign({},(0,s.O)(Object.keys(l.Ne),(e=>{const{multi:t,resist:n,canCrit:o}=l.Ne[e];return(0,c.ce)((0,c.WV)((0,c.WV)((0,c.a9)(t,a.ZP.info(`${e}_multi`)),p),(0,c.Sm)((0,c.ce)((0,c.Sm)(c.J_,Z),Object.assign({pivot:!0},a.ZP.info("base_transformative_multi"))),r.qH.total[`${e}_dmg_`]),(0,c.P5)(r.qH.hit.hitMode,{hit:c.J_,critHit:o?(0,c.Sm)(c.J_,r.qH.total[`${e}_critDMG_`]):c.J_,avgHit:o?(0,c.Sm)(c.J_,(0,c.WV)((0,c.ce)((0,c.Fp)((0,c.VV)(r.qH.total[`${e}_critRate_`],(0,c.Sm)(c.J_,c.J_)),c.zv),Object.assign({},r.qH.total[`${e}_critRate_`].info,{pivot:!0})),r.qH.total[`${e}_critDMG_`])):c.J_},NaN),r.qH.enemy[`${n}_resMulti`]),a.ZP.info(`${e}_hit`))})),{swirl:(0,s.O)(l.Ne.swirl.variants,(e=>{const t=(0,c.WV)((0,c.WV)((0,c.a9)(l.Ne.swirl.multi,a.ZP.info("swirl_multi")),p),(0,c.Sm)((0,c.ce)((0,c.Sm)(c.J_,Z),Object.assign({pivot:!0},a.ZP.info("base_transformative_multi"))),r.qH.total.swirl_dmg_)),n=r.qH.enemy[`${e}_resMulti`];return(0,c.ce)(["pyro","hydro","cryo","electro"].includes(e)?"electro"===e?(0,c.aT)((0,c.WV)((0,c.Sm)(t,r.qH.hit.addTerm),n),{hit:{ele:(0,c.a9)(e)}}):(0,c.aT)((0,c.WV)(t,n,r.qH.hit.ampMulti),{hit:{ele:(0,c.a9)(e)}}):(0,c.WV)(t,n),a.ZP.info(`${e}_swirl_hit`))}))}),m={overloaded:(0,c.ce)((0,c.Dg)(r._d,"pyro",g.overloaded),a.ZP.info("overloaded_hit")),electrocharged:(0,c.ce)((0,c.Dg)(r._d,"hydro",g.electrocharged),a.ZP.info("electrocharged_hit")),superconduct:(0,c.ce)((0,c.Dg)(r._d,"cryo",g.superconduct),a.ZP.info("superconduct_hit")),burning:(0,c.ce)((0,c.Dg)(r._d,"pyro",g.burning),a.ZP.info("burning_hit")),bloom:(0,c.ce)((0,c.Dg)(r._d,"hydro",g.bloom),a.ZP.info("bloom_hit")),burgeon:(0,c.ce)((0,c.Dg)(r._d,"pyro",g.burgeon),a.ZP.info("burgeon_hit"))},y={anemo:{electroSwirl:g.swirl.electro,pyroSwirl:g.swirl.pyro,cryoSwirl:g.swirl.cryo,hydroSwirl:g.swirl.hydro,overloaded:g.overloaded,electrocharged:g.electrocharged,superconduct:g.superconduct,shattered:g.shattered,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon,hyperbloom:g.hyperbloom},geo:Object.assign({crystallize:h},Object.fromEntries(i.gs.map((e=>[`${e}Crystallize`,(0,c.ce)((0,c.WV)((0,c.aQ)(2.5),h),a.ZP.info(`${e}_crystallize`))]))),{shattered:g.shattered,overloaded:m.overloaded,electrocharged:m.electrocharged,superconduct:m.superconduct,burning:m.burning,bloom:m.bloom,burgeon:m.burgeon}),electro:{overloaded:g.overloaded,electrocharged:g.electrocharged,superconduct:g.superconduct,shattered:g.shattered,hyperbloom:g.hyperbloom,burning:m.burning,bloom:m.bloom,burgeon:m.burgeon},hydro:{electrocharged:g.electrocharged,shattered:g.shattered,bloom:g.bloom,overloaded:m.overloaded,superconduct:m.superconduct,burning:m.burning,burgeon:m.burgeon},pyro:{overloaded:g.overloaded,shattered:g.shattered,burning:g.burning,burgeon:g.burgeon,electrocharged:m.electrocharged,superconduct:m.superconduct,bloom:m.bloom},cryo:{superconduct:g.superconduct,shattered:g.shattered,overloaded:m.overloaded,electrocharged:m.electrocharged,burning:m.burning,bloom:m.bloom,burgeon:m.burgeon},dendro:{shattered:g.shattered,burning:g.burning,bloom:g.bloom,overloaded:m.overloaded,electrocharged:m.electrocharged,superconduct:m.superconduct,burgeon:m.burgeon}};var b=n(69190);const f=JSON.parse('{"GROW_CURVE_HP_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_ATTACK_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_HP_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652},"GROW_CURVE_ATTACK_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652}}'),v=(0,s.xh)(f,(e=>[0,...Object.values(e)])),x=(0,s.O)(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],(e=>r.qH.total[e])),_=(0,c.Qq)((0,c.P5)(r.qH.hit.move,{skill:r.qH.charEle,burst:r.qH.charEle},void 0),(0,c.P5)(r.qH.weaponType,{sword:r._d,claymore:r._d,polearm:r._d,catalyst:r.qH.charEle},void 0),"physical");function w(e){switch(e){case"normal":case"charged":case"plunging":return"auto";case"skill":return"skill";case"burst":return"burst"}}function C(e,t,n={}){var a;return(0,c.aT)(r.qH.hit.dmg,(0,o.b3)([{hit:{base:e,move:(0,c.a9)(t),ele:null!=n&&null!=(a=n.hit)&&a.ele?void 0:_}},n]))}function k(e,t){const n=(0,c.WV)(e,(0,c.Sm)(c.J_,r.qH.total.shield_));return t?(0,c.aT)(n,t):n}function H(e,t){const n=r.qH.total.healInc,o=(0,c.WV)((0,c.Sm)(e,n),(0,c.Sm)(c.J_,r.qH.total.heal_,r.qH.total.incHeal_));return t?(0,c.aT)(o,t):o}function S(e,t,n,o={},a){const l=w(n);return C(a?(0,c.WV)((0,c.lp)(r.qH.total[`${l}Index`],t,{unit:"%"}),r.qH.total[e],a):(0,c.WV)((0,c.lp)(r.qH.total[`${l}Index`],t,{unit:"%"}),r.qH.total[e]),n,o)}function q(e,t,n,o={}){const a=w(n);return C((0,c.Sm)(...e.map(((e,n)=>(0,c.WV)((0,c.lp)(r.qH.total[`${a}Index`],t[n],{unit:"%"}),r.qH.total[e])))),n,o)}function P(e,t,n,o){return k((0,c.Sm)((0,c.WV)(t,r.qH.total[e]),n),o)}function W(e,t,n,o){return H((0,c.Sm)((0,c.WV)(t,r.qH.total[e]),n),o)}function V(e,t,n,o,a){const l=w(o),i=r.qH.total[`${l}Index`];return k((0,c.Sm)((0,c.WV)((0,c.lp)(i,t,{unit:"%"}),r.qH.total[e]),(0,c.lp)(i,n)),a)}function B(e,t){return(0,c.ce)((0,c.WV)((0,c.aQ)("geo"===e?1.5:2.5),t),{variant:e})}function M(e,t,n,o,a){const l=w(o),i=r.qH.total[`${l}Index`];return H((0,c.Sm)((0,c.WV)((0,c.lp)(i,t,{unit:"%"}),r.qH.total[e]),(0,c.lp)(i,n)),a)}function X(e,t,n,l,i,d={}){i.basic=Object.assign({},x);const u={charKey:(0,c.a9)(e),base:{},weaponType:(0,c.a9)(l.weaponTypeKey),premod:{},display:i};let h;t&&(u.charEle=(0,c.a9)(t),u.teamBuff={tally:{[t]:(0,c.a9)(1)}},u.display.basic[`${t}_dmg_`]=r.qH.total[`${t}_dmg_`],u.display.reaction=y[t]),n&&(0,s.SR)(u,["teamBuff","tally",n],(0,c.a9)(1)),(0,s.SR)(u,["teamBuff","tally","maxEleMas"],r.qH.premod.eleMas),"catalyst"!==l.weaponTypeKey&&(u.display.basic||(u.display.basic={}),u.display.basic.physical_dmg_=r.qH.total.physical_dmg_);for(const o of[...b.r,"def"]){const e=[];l.curves[o]&&e.push((p=l.base[o],Z=l.curves[o],(0,c.WV)(p,(0,c.lp)(r.qH.lvl,v[Z]))));if(l.ascensions.some((e=>e.props[o]))&&e.push((0,c.lp)(r.qH.asc,l.ascensions.map((e=>{var t;return null!=(t=e.props[o])?t:NaN})))),!e.length)continue;const t=(0,c.ce)(1===e.length?e[0]:(0,c.Sm)(...e),Object.assign({},a.ZP.info(o),{prefix:"char",asConst:!0}));if(o.endsWith("_dmg_")&&(t.info.variant=o.slice(0,-5)),"atk"===o||"def"===o||"hp"===o)u.base[o]=t;else{if(h)throw new Error("Duplicated Char Special");h=!0,u.special=t,u.premod[o]=r.qH.special}}var p,Z;return(0,o.b3)([u,(0,o.d1)(d)])}},1296:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(31461),o=n(16068),a=n(66147),l=n(7671),i=n(67550),s=n(30609),c=n(56961),d=n(41075),u=n(65992),h=n(99479),p=n(43894),Z=n(85801),g=n(75213),m=n(62197),y=n(2784),b=n(21548),f=n(44565),v=n(87985),x=n(67937),_=n(50875),w=n(72055),C=n(98927),k=n(46026),H=n(83673),S=n(71765),q=n(59236),P=n(29117),W=n(790),V=n(13913),B=n(21626),M=n(25870),X=n(44304),T=n(32560),z=n(10002),$=n(36617),O=n(25434),N=n(36893),j=n(45069),G=n(1661),I=n(40775),D=n(52903);const E=["className"],K=Object.keys(j.V3);function R({show:e,onHide:t,onSelect:n,filter:r=(()=>!0),newFirst:o=!1}){const{t:a}=(0,b.$G)(["page_character","charNames_gen"]),{database:u}=(0,y.useContext)(M.t),[h,p]=(0,y.useState)((()=>u.displayCharacter.get()));(0,y.useEffect)((()=>u.displayCharacter.follow(((e,t)=>p(t)))),[u,p]);const Z=(0,O.Z)((()=>V.Z.getAll),[]),[g,m]=(0,$.Z)();(0,y.useEffect)((()=>u.charMeta.followAny((e=>m()))),[m,u]);const[f,x]=(0,y.useState)(""),_=(0,y.useDeferredValue)(f),H=(0,y.useDeferredValue)(h),S=(0,y.useDeferredValue)(g),B=(0,y.useMemo)((()=>{var e;if(!Z)return[];const{element:t,weaponType:n,sortType:a,ascending:l}=H,i=[...o?["new"]:[],...null!=(e=j.V3[a])?e:[]];return S&&N.IV.filter((e=>r(u.chars.get(e),Z[e]))).filter((0,G.C)({element:t,weaponType:n,name:_},(0,j.zU)(u,Z))).sort((0,G.e)(i,l,(0,j._L)(u,Z),["new","favorite"]))}),[u,o,H,Z,S,_,r]),X=(0,y.useMemo)((()=>(0,I.W)(N.yd,(e=>Z&&N.IV.forEach((t=>{const n=Z(t,u.gender).weaponTypeKey;e[n].total++,B.includes(t)&&e[n].current++}))))),[Z,B,u]),T=(0,y.useMemo)((()=>(0,I.W)(N.N,(e=>Z&&N.IV.forEach((t=>{const n=Z(t,u.gender).elementKey;e[n].total++,B.includes(t)&&e[n].current++}))))),[Z,B,u]);if(!Z)return null;const{weaponType:z,element:E,sortType:R,ascending:J}=h;return(0,D.tZ)(C.Z,{open:e,onClose:t,sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:(0,D.BX)(v.Z,{children:[(0,D.BX)(l.Z,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,D.tZ)(P.Z,{sx:{height:"100%"},onChange:e=>u.displayCharacter.set({weaponType:e}),value:z,totals:X,size:"small"}),(0,D.tZ)(q.Z,{sx:{height:"100%"},onChange:e=>u.displayCharacter.set({element:e}),value:E,totals:T,size:"small"}),(0,D.tZ)(i.Z,{flexGrow:1,children:(0,D.tZ)(s.Z,{autoFocus:!0,value:f,onChange:e=>x(e.target.value),label:a("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,D.tZ)(k.Z,{sx:{height:"100%"},sortKeys:K,value:R,onChange:e=>u.displayCharacter.set({sortType:e}),ascending:J,onChangeAsc:e=>u.displayCharacter.set({ascending:e})}),(0,D.tZ)(w.Z,{onClick:t})]}),(0,D.tZ)(c.Z,{}),(0,D.tZ)(W.R.Provider,{value:{teamData:void 0},children:(0,D.tZ)(l.Z,{children:(0,D.tZ)(d.ZP,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:B.map((e=>(0,D.tZ)(d.ZP,{item:!0,xs:1,children:(0,D.tZ)(L,{characterKey:e,onClick:()=>{t(),null==n||n(e)}})},e)))})})})]})})}const J=(0,u.ZP)((e=>{let{className:t}=e,n=(0,r.Z)(e,E);return(0,D.tZ)(h.Z,Object.assign({},n,{classes:{popper:t}}))}))({[`& .${p.Z.tooltip}`]:{padding:0}});function L({characterKey:e,onClick:t}){var n;const{gender:r}=(0,z.Z)(),l=(0,O.Z)((()=>V.Z.get(e,r)),[e,r]),s=(0,X.Z)(e),{favorite:c}=(0,T.Z)(e),{database:d}=(0,y.useContext)(M.t),[u,h]=(0,y.useState)(!1),p=(0,y.useCallback)((()=>h(!1)),[]),b=(0,y.useCallback)((()=>h(!0)),[]),{level:v=1,ascension:w=0,constellation:C=0}=null!=s?s:{};return(0,D.tZ)(J,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",open:u,onClose:p,onOpen:b,title:(0,D.tZ)(i.Z,{sx:{width:300},children:(0,D.tZ)(_.Z,{hideStats:!0,characterKey:e})}),children:(0,D.tZ)(i.Z,{children:(0,D.BX)(x.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,D.tZ)(i.Z,{sx:{position:"absolute",opacity:.7,zIndex:2},children:(0,D.tZ)(Z.Z,{sx:{p:.25},onClick:t=>{h(!1),d.charMeta.set(e,{favorite:!c})},children:c?(0,D.tZ)(o.Z,{}):(0,D.tZ)(a.Z,{})})}),(0,D.tZ)(g.Z,{onClick:t,children:(0,D.BX)(i.Z,{display:"flex",position:"relative",className:`grad-${null==l?void 0:l.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${(0,f.Li)(e,"banner",r)})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,D.tZ)(i.Z,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,D.tZ)(i.Z,{component:"img",src:(0,f.Li)(e,"icon",r),width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,D.BX)(i.Z,{flexGrow:1,sx:{pr:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[(0,D.tZ)(m.Z,{variant:"body2",sx:{flexGrow:1},children:(0,D.tZ)(H.Z,{color:null==l?void 0:l.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:null==l?void 0:l.name})}),s?(0,D.BX)(i.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,D.BX)(i.Z,{sx:{textShadow:"0 0 5px gray"},children:[(0,D.BX)(m.Z,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",v]}),(0,D.BX)(m.Z,{variant:"body2",component:"span",color:"text.secondary",children:["/",B.SJ[w]]})]}),(0,D.BX)(m.Z,{variant:"body2",children:["C",C]})]}):(0,D.tZ)(m.Z,{component:"span",variant:"body2",children:(0,D.tZ)(H.Z,{children:"NEW"})}),(0,D.tZ)(m.Z,{variant:"body2",children:(0,D.tZ)(S.q,{stars:null!=(n=null==l?void 0:l.rarity)?n:1,colored:!0})})]})]})})]})})})}},3694:(e,t,n)=>{n.d(t,{Z:()=>$});var r=n(9725),o=n(67732),a=n(44565),l=n(54278),i=n(40535),s=n(75213),c=n(67550),d=n(79906),u=n(85801),h=n(62197),p=n(7671),Z=n(38553),g=n(99479),m=n(83249),y=n(2784),b=n(21548),f=n(79536),v=n(67937),x=n(43007),_=n(37923),w=n(57889),C=n(26578),k=n(71765),H=n(21626),S=n(71026),q=n(25870),P=n(34958),W=n(30507),V=n(61278),B=n(25434),M=n(94758),X=n(52903);let T,z=e=>e;function $({weaponId:e,onClick:t,onEdit:n,onDelete:$,canEquip:O=!1,extraButtons:N}){var j;const{t:G}=(0,b.$G)(["page_weapon","ui"]),{database:I}=(0,y.useContext)(q.t),D=(0,M.Z)(e),E=(0,B.Z)((()=>null!=D&&D.key?S.Z.get(D.key):void 0),[null==D?void 0:D.key]),K=(0,y.useCallback)((e=>e.weaponTypeKey===(null==E?void 0:E.weaponType)),[E]),R=(0,y.useCallback)((n=>(0,X.tZ)(s.Z,{onClick:()=>null==t?void 0:t(e),children:n})),[t,e]),J=(0,y.useCallback)((e=>(0,X.tZ)(c.Z,{children:e})),[]),L=(0,y.useCallback)((t=>e&&I.weapons.set(e,{location:t})),[I,e]),A=(0,y.useMemo)((()=>E&&D&&(0,W.mP)([E.data,(0,W.v0)(D)])),[E,D]);if(!D||!E||!A)return null;const{level:F,ascension:U,refinement:Q,id:Y,location:ee="",lock:te}=D,ne=A.get(P.ri.weapon.type).value,re=[P.ri.weapon.main,P.ri.weapon.sub,P.ri.weapon.sub2].map((e=>A.get(e))),oe=(0,a.Aq)(D.key,U>=2);return(0,X.tZ)(y.Suspense,{fallback:(0,X.tZ)(d.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,X.BX)(v.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,X.BX)(w.Z,{condition:!!t,wrapper:R,falseWrapper:J,children:[(0,X.BX)(c.Z,{className:`grad-${E.rarity}star`,sx:{position:"relative",pt:2,px:2},children:[!t&&(0,X.tZ)(u.Z,{color:"primary",onClick:()=>I.weapons.set(Y,{lock:!te}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:te?(0,X.tZ)(l.Z,{}):(0,X.tZ)(i.Z,{})}),(0,X.BX)(c.Z,{sx:{position:"relative",zIndex:1},children:[(0,X.BX)(c.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,X.tZ)(C.Z,{sx:{fontSize:"1.5em"},src:null==(j=f.Z.weaponTypes)?void 0:j[ne]}),(0,X.tZ)(h.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,X.tZ)("strong",{children:E.name})})]}),(0,X.BX)(h.Z,{component:"span",variant:"h5",children:["Lv. ",F]}),(0,X.BX)(h.Z,{component:"span",variant:"h5",color:"text.secondary",children:["/",H.SJ[U]]}),(0,X.BX)(h.Z,{variant:"h6",children:["Refinement ",(0,X.tZ)("strong",{children:Q})]}),(0,X.tZ)(h.Z,{children:(0,X.tZ)(k.q,{stars:E.rarity,colored:!0})})]}),(0,X.tZ)(c.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,X.tZ)(c.Z,{component:"img",src:null!=oe?oe:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,X.tZ)(p.Z,{children:re.map((e=>e.info.name?(0,X.BX)(c.Z,{sx:{display:"flex"},children:[(0,X.BX)(h.Z,{flexGrow:1,children:[e.info.icon," ",e.info.name]}),(0,X.tZ)(h.Z,{children:(0,V.p)(e)})]},JSON.stringify(e.info)):null))})]}),(0,X.BX)(c.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,X.tZ)(c.Z,{sx:{flexGrow:1},children:O?(0,X.tZ)(x.W,{location:ee,setLocation:L,filter:K,autoCompleteProps:{getOptionDisabled:e=>!e.key,disableClearable:!0}}):(0,X.tZ)(_.Z,{location:ee})}),(0,X.BX)(Z.Z,{sx:{height:"100%"},children:[!!n&&(0,X.tZ)(g.Z,{title:(0,X.tZ)(h.Z,{children:G(T||(T=z`page_weapon:edit`))}),placement:"top",arrow:!0,children:(0,X.tZ)(m.Z,{color:"info",onClick:()=>n(Y),children:(0,X.tZ)(o.G,{icon:r.Xcf,className:"fa-fw"})})}),!!$&&(0,X.tZ)(m.Z,{color:"error",onClick:()=>$(Y),disabled:!!ee||te,children:(0,X.tZ)(o.G,{icon:r.I7k,className:"fa-fw"})}),N]})]})]})})}}}]);