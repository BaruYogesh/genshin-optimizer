"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[445],{78437:(e,t,n)=>{var a=n(71600);t.Z=void 0;var r=a(n(68671)),i=n(52322),o=(0,r.default)((0,i.jsx)("path",{d:"m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z"}),"StarRounded");t.Z=o},16068:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),r=n(52322);const i=(0,a.Z)((0,r.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite")},75213:(e,t,n)=>{n.d(t,{Z:()=>C});var a=n(7896),r=n(31461),i=n(2784),o=n(6277),l=n(69075),c=n(43853),s=n(65992),h=n(69222),Z=n(15672);function d(e){return(0,Z.Z)("MuiCardActionArea",e)}const u=(0,h.Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]);var p=n(94345),g=n(52322);const m=["children","className","focusVisibleClassName"],f=(0,s.ZP)(p.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({display:"block",textAlign:"inherit",width:"100%",[`&:hover .${u.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${u.focusVisible} .${u.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}}))),y=(0,s.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})((({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}))),C=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiCardActionArea"}),{children:i,className:s,focusVisibleClassName:h}=n,Z=(0,r.Z)(n,m),u=n,p=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"],focusHighlight:["focusHighlight"]},d,t)})(u);return(0,g.jsxs)(f,(0,a.Z)({className:(0,o.Z)(p.root,s),focusVisibleClassName:(0,o.Z)(h,p.focusVisible),ref:t,ownerState:u},Z,{children:[i,(0,g.jsx)(y,{className:p.focusHighlight,ownerState:u})]}))}))},56748:(e,t,n)=>{n.d(t,{Z:()=>a});const a=(0,n(65992).ZP)("img")((({theme:e})=>({display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:e.spacing(-3),marginLeft:e.spacing(-1.25),marginRight:e.spacing(-1),marginBottom:e.spacing(-1)})))},57889:(e,t,n)=>{function a({condition:e,wrapper:t,falseWrapper:n,children:a}){return e?t(a):n?n(a):a}n.d(t,{Z:()=>a})},71765:(e,t,n)=>{n.d(t,{q:()=>o});var a=n(78437),r=n(2344),i=n(52903);const o=({stars:e=1,colored:t=!1,inline:n=!1})=>(0,i.tZ)(r.Z,{color:t?"warning":void 0,children:[...Array(e).keys()].map(((e,t)=>(0,i.tZ)(a.Z,{fontSize:n?"inherit":void 0,sx:n?{verticalAlign:"text-top"}:void 0},t)))})},24991:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(85439),r=n(36380),i=n(61391),o=n(60319),l=n(46342),c=n(93553),s=n(67550),h=n(7671),Z=n(41075),d=n(13780),u=n(5896),p=n(83249),g=n(79906),m=n(56961),f=n(62197),y=n(85801),C=n(2784),v=n(61877),x=n(21548),w=n(73557),b=n(7300),k=n(87985),P=n(50875),A=n(46026),S=n(59236),N=n(29117),$=n(70630),H=n(51077),T=n(25870),V=n(97856),j=n(10002),M=n(36617),z=n(82716),B=n(36893),X=n(45069),I=n(1661),L=n(40775),K=n(41015),R=n(52903);let W,E=e=>e;const O=C.lazy((()=>n.e(592).then(n.bind(n,1296)))),D={xs:1,sm:2,md:3,lg:4,xl:4},F={xs:6,sm:8,md:12,lg:16,xl:16},G=Object.keys(X.V3);function _(){const{t:e}=(0,x.$G)(["page_character","charNames_gen"]),{database:t}=(0,C.useContext)(T.t),[n,_]=(0,C.useState)((()=>t.displayCharacter.get()));(0,C.useEffect)((()=>t.displayCharacter.follow(((e,t)=>_(t)))),[t,_]);const[U,Y]=(0,C.useState)(""),J=(0,C.useDeferredValue)(U),Q=(0,C.useRef)(null),ee=(0,C.useCallback)(((e,n)=>{var a;null==(a=Q.current)||a.scrollIntoView({behavior:"smooth"}),t.displayCharacter.set({pageIndex:n-1})}),[t,Q]),te=(0,z.Z)(),ne=F[te],[ae,re]=(0,C.useState)(!1),[ie,oe]=(0,M.Z)();(0,C.useEffect)((()=>(v.ZP.send({hitType:"pageview",page:"/characters"}),t.chars.followAny(((e,t)=>("new"===t||"remove"===t)&&oe())))),[oe,t]),(0,C.useEffect)((()=>t.charMeta.followAny((e=>oe()))),[oe,t]);const{gender:le}=(0,j.Z)(),ce=(0,C.useCallback)((async n=>{const a=await(0,$.m)(n,le);let r=null==a?void 0:a.name;"object"==typeof r&&(r=e(`charNames_gen:${(0,B.LP)(n,le)}`)),window.confirm(e("removeCharacter",{value:r}))&&t.chars.remove(n)}),[t,le,e]),se=(0,V.Z)(),he=(0,w.s0)(),Ze=(0,C.useDeferredValue)(n),de=(0,C.useDeferredValue)(ie),{charKeyList:ue,totalCharNum:pe}=(0,C.useMemo)((()=>{var e;const n=t.chars.keys.length,{element:a,weaponType:r,sortType:i,ascending:o}=Ze,l=t.chars.keys.filter((0,I.C)({element:a,weaponType:r,name:J},(0,X.zU)(t))).sort((0,I.e)(null!=(e=X.V3[i])?e:[],o,(0,X._L)(t),["new","favorite"]));return de&&{charKeyList:l,totalCharNum:n}}),[de,t,Ze,J]),{weaponType:ge,element:me,sortType:fe,ascending:ye,pageIndex:Ce=0}=n,{charKeyListToShow:ve,numPages:xe,currentPageIndex:we}=(0,C.useMemo)((()=>{const e=Math.ceil(ue.length/ne),t=(0,K.uZ)(Ce,0,e-1);return{charKeyListToShow:ue.slice(t*ne,(t+1)*ne),numPages:e,currentPageIndex:t}}),[ue,Ce,ne]),be=ue.length!==pe?`${ue.length}/${pe}`:`${pe}`,ke=(0,C.useMemo)((()=>(0,L.W)(B.yd,(e=>Object.entries(t.chars.data).forEach((([n,a])=>{const r=t.weapons.get(a.equippedWeapon);if(!r)return;const i=(0,H.ub)(r.key).weaponType;e[i].total++,ue.includes(n)&&e[i].current++}))))),[t,ue]),Pe=(0,C.useMemo)((()=>(0,L.W)(B.N,(e=>Object.entries(t.chars.data).forEach((([n,a])=>{const r=(0,$.m)(a.key,t.gender).elementKey;e[r].total++,ue.includes(n)&&e[r].current++}))))),[t,ue]);return(0,R.BX)(s.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,R.tZ)(C.Suspense,{fallback:!1,children:(0,R.tZ)(O,{newFirst:!0,show:ae,onHide:()=>re(!1),onSelect:se})}),(0,R.tZ)(k.Z,{ref:Q,children:(0,R.BX)(h.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,R.BX)(Z.ZP,{container:!0,spacing:1,children:[(0,R.tZ)(Z.ZP,{item:!0,children:(0,R.tZ)(N.Z,{sx:{height:"100%"},onChange:e=>t.displayCharacter.set({weaponType:e}),value:ge,totals:ke,size:"small"})}),(0,R.tZ)(Z.ZP,{item:!0,children:(0,R.tZ)(S.Z,{sx:{height:"100%"},onChange:e=>t.displayCharacter.set({element:e}),value:me,totals:Pe,size:"small"})}),(0,R.tZ)(Z.ZP,{item:!0,flexGrow:1}),(0,R.tZ)(Z.ZP,{item:!0,children:(0,R.tZ)(d.Z,{autoFocus:!0,value:U,onChange:e=>Y(e.target.value),label:e("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})})]}),(0,R.BX)(s.Z,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:[(0,R.tZ)(u.Z,{count:xe,page:we+1,onChange:ee}),(0,R.tZ)(q,{numShowing:ve.length,total:be,t:e}),(0,R.tZ)(A.Z,{sortKeys:G,value:fe,onChange:e=>t.displayCharacter.set({sortType:e}),ascending:ye,onChangeAsc:e=>t.displayCharacter.set({ascending:e})})]})]})}),(0,R.tZ)(p.Z,{fullWidth:!0,onClick:()=>re(!0),color:"info",startIcon:(0,R.tZ)(c.Z,{}),children:e(W||(W=E`addNew`))}),(0,R.tZ)(C.Suspense,{fallback:(0,R.tZ)(g.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,R.tZ)(Z.ZP,{container:!0,spacing:1,columns:D,children:ve.map((t=>(0,R.tZ)(Z.ZP,{item:!0,xs:1,children:(0,R.tZ)(P.Z,{characterKey:t,onClick:()=>he(`${t}`),footer:(0,R.BX)(R.HY,{children:[(0,R.tZ)(m.Z,{}),(0,R.BX)(s.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:[(0,R.tZ)(b.Z,{placement:"top",title:(0,R.tZ)(f.Z,{children:e("tabs.talent")}),children:(0,R.tZ)(y.Z,{onClick:()=>he(`${t}/talent`),children:(0,R.tZ)(a.Z,{})})}),(0,R.tZ)(b.Z,{placement:"top",title:(0,R.tZ)(f.Z,{children:e("tabs.teambuffs")}),children:(0,R.tZ)(y.Z,{onClick:()=>he(`${t}/teambuffs`),children:(0,R.tZ)(r.Z,{})})}),(0,R.tZ)(b.Z,{placement:"top",title:(0,R.tZ)(f.Z,{children:e("tabs.optimize")}),children:(0,R.tZ)(y.Z,{onClick:()=>he(`${t}/optimize`),children:(0,R.tZ)(i.Z,{})})}),(0,R.tZ)(b.Z,{placement:"top",title:(0,R.tZ)(f.Z,{children:e("tabs.theorycraft")}),children:(0,R.tZ)(y.Z,{onClick:()=>he(`${t}/theorycraft`),children:(0,R.tZ)(o.Z,{})})}),(0,R.tZ)(m.Z,{orientation:"vertical"}),(0,R.tZ)(b.Z,{placement:"top",title:(0,R.tZ)(f.Z,{children:e("delete")}),children:(0,R.tZ)(y.Z,{color:"error",onClick:()=>ce(t),children:(0,R.tZ)(l.Z,{})})})]})]})})},t)))})}),xe>1&&(0,R.tZ)(k.Z,{children:(0,R.BX)(h.Z,{sx:{display:"flex",gap:1},children:[(0,R.tZ)(p.Z,{onClick:()=>re(!0),color:"info",sx:{minWidth:0},children:(0,R.tZ)(c.Z,{})}),(0,R.BX)(Z.ZP,{container:!0,alignItems:"flex-end",sx:{flexGrow:1},children:[(0,R.tZ)(Z.ZP,{item:!0,flexGrow:1,children:(0,R.tZ)(u.Z,{count:xe,page:we+1,onChange:ee})}),(0,R.tZ)(Z.ZP,{item:!0,children:(0,R.tZ)(q,{numShowing:ve.length,total:be,t:e})})]})]})})]})}function q({numShowing:e,total:t,t:n}){return(0,R.tZ)(f.Z,{color:"text.secondary",children:(0,R.BX)(x.cC,{t:n,i18nKey:"showingNum",count:e,value:t,children:["Showing ",(0,R.tZ)("b",{children:{count:e}})," out of ",{value:t}," Characters"]})})}},82716:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(47746),r=n(86432);function i(){const e=(0,a.Z)(),t=(0,r.Z)(e.breakpoints.up("sm")),n=(0,r.Z)(e.breakpoints.up("md")),i=(0,r.Z)(e.breakpoints.up("lg"));return(0,r.Z)(e.breakpoints.up("xl"))?"xl":i?"lg":n?"md":t?"sm":"xs"}},10618:(e,t,n)=>{n.d(t,{X:()=>r});var a=n(41015);function r(e){return(t,n)=>{const r=t.length;return r===e.length?[n]:1===r&&t[0]===n?[...e]:[...new Set((0,a.nh)(t,n))]}}},1661:(e,t,n)=>{function a(e,t,n,a=[]){return(r,i)=>{for(const o of e){let e=0;const l=n[o],c=l(r),s=l(i);if(e="string"==typeof c&&"string"==typeof s?c.localeCompare(s):s-c,0!==e)return a.includes(o)?e:(t?-1:1)*e}return 0}}function r(e,t){return n=>Object.entries(e).every((([a,r])=>t[a]&&t[a](n,r,e)))}n.d(t,{C:()=>r,e:()=>a})}}]);