(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[20],{276:function(e,t,n){"use strict";var a=n(10),c=n(396),i=Object(a.a)(c.a)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.a=i},277:function(e,t,n){"use strict";var a=n(10),c=n(396),i=Object(a.a)(c.a)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.a=i},278:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5),c=n(3),i=n(130),r=n(699),o=n(271),s=n(169),l=n(674),u=n(1),j=n(0);function d(e){var t=e.title,n=e.children,d=e.id,b=void 0===d?"dropdownbtn":d,O=Object(i.a)(e,["title","children","id"]),x=Object(u.useState)(null),p=Object(c.a)(x,2),h=p[0],f=p[1],v=Boolean(h),g=Object(u.useCallback)((function(e){return f(e.currentTarget)}),[f]),m=Object(u.useCallback)((function(){return f(null)}),[f]);return Object(j.jsxs)(u.Suspense,{fallback:Object(j.jsx)(o.a,Object(a.a)(Object(a.a)({endIcon:Object(j.jsx)(r.a,{})},O),{},{children:Object(j.jsx)(s.a,{width:50})})),children:[Object(j.jsx)(o.a,Object(a.a)(Object(a.a)({},O),{},{id:b,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":v?"true":void 0,onClick:g,endIcon:Object(j.jsx)(r.a,{}),children:t})),Object(j.jsx)(l.a,{id:"basic-menu",anchorEl:h,open:v,onClose:m,MenuListProps:{"aria-labelledby":b},onClick:m,children:Object(j.jsx)(u.Suspense,{fallback:Object(j.jsx)(s.a,{width:"100%",height:"1000"}),children:n})})]})}},281:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(11),c=n(51),i=n(17),r=n(79),o=n(0),s=function(){return Object(o.jsx)(i.a,{icon:c.A})},l=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(o.jsx)(r.a,{color:c?"warning.main":void 0,component:"span",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(o.jsx)(s,{},t)})):null})}},283:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:n.p+"static/media/icon_catalyst.db078b7b.png",claymore:n.p+"static/media/icon_claymore.63b1abb8.png",polearm:n.p+"static/media/icon_polearm.e5f4a2a1.png",sword:n.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},284:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,c=n(5),i=n(46),r=n(130),o=n(697),s=n(271),l=n(129),u=n(0);function j(e){var t=e.large,n=void 0!==t&&t,j=Object(r.a)(e,["large"]),d=Object(l.a)("ui").t;return n?Object(u.jsx)(s.a,Object(c.a)(Object(c.a)({color:"error",startIcon:Object(u.jsx)(o.a,{})},j),{},{children:d(a||(a=Object(i.a)(["close"])))})):Object(u.jsx)(s.a,Object(c.a)(Object(c.a)({color:"error",sx:{p:1,minWidth:0}},j),{},{children:Object(u.jsx)(o.a,{})}))}},287:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(5),c=n(130),i=n(10),r=n(260),o=n(273),s=n(397),l=n(169),u=n(1),j=n(276),d=n(0),b=Object(i.a)(r.a)((function(e){var t=e.theme;return{overflow:"scroll",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)}})),O=Object(i.a)(o.a)((function(e){e.theme;return{padding:0,minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center",pointerEvents:"none","& > *":{pointerEvents:"auto"}}}));function x(e){var t=e.children,n=e.containerProps,i=Object(c.a)(e,["children","containerProps"]);return Object(d.jsx)(b,Object(a.a)(Object(a.a)({},i),{},{children:Object(d.jsx)(O,Object(a.a)(Object(a.a)({},n),{},{children:Object(d.jsx)(u.Suspense,{fallback:Object(d.jsx)(j.a,{children:Object(d.jsx)(s.a,{children:Object(d.jsx)(l.a,{variant:"rectangular",width:"100%",height:300})})}),children:t})}))}))}},288:function(e,t,n){"use strict";var a=n(10),c=n(715),i=Object(a.a)(c.a,{shouldForwardProp:function(e){return"baseColor"!==e}})((function(e){var t=e.theme,n=e.baseColor,a=void 0===n?"primary":n,c=e.selectedColor,i=void 0===c?"success":c;return{"& .MuiToggleButtonGroup-grouped":{"&":{backgroundColor:t.palette[a].main,color:t.palette[a].contrastText},"&:hover":{backgroundColor:t.palette[a].dark},"&.Mui-selected":{backgroundColor:t.palette[i].main,color:t.palette[i].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[i].dark},"&.Mui-disabled":{backgroundColor:t.palette[a].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[i].dark}}}}));t.a=i},289:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(3),c=n(1);function i(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],i=t[1];return[n,Object(c.useCallback)((function(){return i({})}),[])]}},291:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return C}));var a,c,i,r,o=n(5),s=n(46),l=n(130),u=n(332),j=n(333),d=n(719),b=n(252),O=n(79),x=n(253),p=n(1),h=n(129),f=n(134),v=n(173),g=n(131),m=n(278),y=n(296),w=n(0);function k(e){var t,n=e.value,k=e.onChange,T=e.inventory,I=void 0!==T&&T,W=e.noUnselect,S=void 0!==W&&W,_=e.filter,A=void 0===_?function(){return!0}:_,N=Object(l.a)(e,["value","onChange","inventory","noUnselect","filter"]),D=Object(h.a)("ui").t,M=Object(p.useContext)(v.b),E=Object(g.a)(f.b.getAll(),[]),z=Object(g.a)(f.b.get(n),[n]),B=M._getCharKeys().filter((function(e){return(null===E||void 0===E?void 0:E[e])&&A(E[e])})).sort();return Object(w.jsxs)(m.a,Object(o.a)(Object(o.a)({},N),{},{title:null!==(t=null===z||void 0===z?void 0:z.name)&&void 0!==t?t:D(I?a||(a=Object(s.a)(["inventory"])):c||(c=Object(s.a)(["unselect"]))),color:n?"success":"primary",startIcon:(null===z||void 0===z?void 0:z.thumbImg)?Object(w.jsx)(y.a,{src:z.thumbImgSide}):I?Object(w.jsx)(u.a,{}):Object(w.jsx)(j.a,{}),children:[!S&&(I?Object(w.jsxs)(d.a,{onClick:function(){return k("")},selected:""===n,disabled:""===n,children:[Object(w.jsx)(b.a,{children:Object(w.jsx)(u.a,{})}),Object(w.jsx)(O.a,{variant:"inherit",noWrap:!0,children:D(i||(i=Object(s.a)(["inventory"])))})]}):Object(w.jsxs)(d.a,{onClick:function(){return k("")},selected:""===n,disabled:""===n,children:[Object(w.jsx)(b.a,{children:Object(w.jsx)(j.a,{})}),Object(w.jsx)(O.a,{variant:"inherit",noWrap:!0,children:D(r||(r=Object(s.a)(["unselect"])))})]})),!S&&Object(w.jsx)(x.a,{},"div"),!!E&&C(E,B,k,n)]}))}function C(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c;return Object(w.jsxs)(d.a,{onClick:function(){return n(t)},selected:a===t,disabled:a===t,children:[Object(w.jsx)(b.a,{children:Object(w.jsx)(y.a,{src:e[t].thumbImgSide})}),Object(w.jsx)(O.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.name})]},t)}))}},296:function(e,t,n){"use strict";var a=n(331),c=Object(a.a)("img")((function(e){var t=e.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:t.spacing(-3),marginLeft:t.spacing(-1.25),marginRight:t.spacing(-1),marginBottom:t.spacing(-1)}}));t.a=c},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,c=n(46),i=n(332),r=n(79),o=n(129),s=n(134),l=n(131),u=n(0);function j(e){var t=e.location,n=Object(o.a)("ui").t,j=Object(l.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(u.jsx)(r.a,{component:"span",children:(null===j||void 0===j?void 0:j.name)?j.nameWIthIcon:Object(u.jsxs)("span",{children:[Object(u.jsx)(i.a,{sx:{verticalAlign:"text-bottom"}})," ",n(a||(a=Object(c.a)(["inventory"])))]})})}},298:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5),c=n(130),i=n(720),r=n(1),o=n(283),s=n(20),l=n(97),u=n(288),j=n(0);function d(e){var t=e.value,n=e.onChange,d=Object(c.a)(e,["value","onChange"]),b=Object(r.useCallback)((function(e,t){return n(t||"")}),[n]);return Object(j.jsx)(u.a,Object(a.a)(Object(a.a)({exclusive:!0,onChange:b,value:t||s.j},d),{},{children:s.j.map((function(e){var t;return Object(j.jsx)(i.a,{value:e,children:Object(j.jsx)(l.a,{src:null===(t=o.a.weaponTypes)||void 0===t?void 0:t[e],size:2})},e)}))}))}},299:function(e,t,n){"use strict";function a(e){var t=e.condition,n=e.wrapper,a=e.children;return t?n(a):a}n.d(t,"a",(function(){return a}))},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(5),c=n(130),i=n(51),r=n(17),o=n(675),s=n(719),l=n(271),u=n(129),j=n(94),d=n(278),b=n(0);function O(e){var t=e.sortKeys,n=e.value,O=e.onChange,x=e.ascending,p=e.onChangeAsc,h=Object(c.a)(e,["sortKeys","value","onChange","ascending","onChangeAsc"]),f=Object(u.a)("ui").t;return Object(b.jsxs)(o.a,Object(a.a)(Object(a.a)({},h),{},{children:[Object(b.jsx)(d.a,{title:Object(b.jsxs)(j.a,{t:f,i18nKey:"sortByFormat",value:f("sortMap.".concat(n)),children:["Sort By: ",{value:f("sortMap.".concat(n))}]}),children:t.map((function(e){return Object(b.jsx)(s.a,{selected:n===e,disabled:n===e,onClick:function(){return O(e)},children:f("sortMap.".concat(e))},e)}))}),Object(b.jsx)(l.a,{onClick:function(){return p(!x)},startIcon:Object(b.jsx)(r.a,{icon:x?i.x:i.y,className:"fa-fw"}),children:x?Object(b.jsx)(j.a,{t:f,i18nKey:"ascending",children:"Ascending"}):Object(b.jsx)(j.a,{t:f,i18nKey:"descending",children:"Descending"})})]}))}},307:function(e,t,n){"use strict";function a(e,t,n){function a(e,t,n,a){var c=a.getValue(e),i=a.getValue(t);return(n?-1:1)*("string"===typeof c&&"string"===typeof c?e.localeCompare(t):i-c)}return function(c,i){var r=n[e],o=a(c,i,t,r);return!o&&r.tieBreaker&&(o=a(c,i,t,n[r.tieBreaker])),o}}n.d(t,"a",(function(){return a}))},308:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(11),c=n(3),i=n(397),r=n(264),o=n(253),s=n(353),l=n(220),u=n(79),j=n(1),d=n(283),b=n(131),O=n(20),x=n(135),p=n(277),h=n(276),f=n(284),v=n(97),g=n(287),m=n(281),y=n(298),w=n(0);function k(e){var t=e.show,n=e.onHide,k=e.onSelect,C=e.filter,T=void 0===C?function(){return!0}:C,I=e.weaponFilter,W=Object(b.a)(x.a.getAll(),[]),S=Object(j.useState)(null!==I&&void 0!==I?I:""),_=Object(c.a)(S,2),A=_[0],N=_[1];Object(j.useEffect)((function(){return I&&N(I)}),[I]);var D=W?Object(a.a)(new Set(O.i)).filter((function(e){return T(W[e])})).filter((function(e){var t;return!A||A===(null===W||void 0===W||null===(t=W[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var n,a,c,i;return(null!==(n=null===W||void 0===W||null===(a=W[t])||void 0===a?void 0:a.rarity)&&void 0!==n?n:0)-(null!==(c=null===W||void 0===W||null===(i=W[e])||void 0===i?void 0:i.rarity)&&void 0!==c?c:0)})):[];return W?Object(w.jsx)(g.a,{open:t,onClose:n,children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(i.a,{sx:{py:1},children:Object(w.jsxs)(r.a,{container:!0,children:[Object(w.jsx)(r.a,{item:!0,flexGrow:1,children:Object(w.jsx)(y.a,{value:A,onChange:N,disabled:!!I,size:"small"})}),Object(w.jsx)(r.a,{item:!0,children:Object(w.jsx)(f.a,{onClick:n})})]})}),Object(w.jsx)(o.a,{}),Object(w.jsx)(i.a,{children:Object(w.jsx)(r.a,{container:!0,spacing:1,children:D.map((function(e){var t,a=W[e];return Object(w.jsx)(r.a,{item:!0,lg:3,md:4,children:Object(w.jsx)(h.a,{sx:{height:"100%"},children:Object(w.jsxs)(s.a,{onClick:function(){n(),k(e)},sx:{display:"flex"},children:[Object(w.jsx)(l.a,{component:"img",src:a.img,sx:{width:100,height:"auto"},className:" grad-".concat(a.rarity,"star")}),Object(w.jsxs)(l.a,{sx:{flexGrow:1,px:1},children:[Object(w.jsx)(u.a,{variant:"subtitle1",children:a.name}),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(v.a,{src:null===(t=d.a.weaponTypes)||void 0===t?void 0:t[a.weaponType]})," ",Object(w.jsx)(m.a,{stars:a.rarity,colored:!0})]})]})]})})},e)}))})}),Object(w.jsx)(o.a,{}),Object(w.jsx)(i.a,{sx:{py:1},children:Object(w.jsx)(f.a,{large:!0,onClick:n})})]})}):null}},309:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a=n(3),c=n(51),i=n(17),r=n(343),o=n(344),s=n(353),l=n(169),u=n(324),j=n(272),d=n(264),b=n(79),O=n(220),x=n(397),p=n(675),h=n(271),f=n(1),v=n(283),g=n(276),m=n(291),y=n(297),w=n(299),k=n(97),C=n(281),T=n(133),I=n(47),W=n(173),S=n(131),_=n(40),A=n(135),N=n(0);function D(e){var t,n=e.weaponId,D=e.onClick,M=e.onEdit,E=e.onDelete,z=e.canEquip,B=void 0!==z&&z,G=Object(f.useContext)(W.b),K=Object(f.useState)(void 0),P=Object(a.a)(K,2),H=P[0],L=P[1];Object(f.useEffect)((function(){return n?G.followWeapon(n,L):void 0}),[n,L,G]);var R=H,V=Object(S.a)((null===R||void 0===R?void 0:R.key)&&A.a.get(R.key),[null===R||void 0===R?void 0:R.key]),F=Object(f.useCallback)((function(e){return e.weaponTypeKey===(null===V||void 0===V?void 0:V.weaponType)}),[V]),U=Object(f.useCallback)((function(e){return Object(N.jsx)(s.a,{onClick:function(){return null===D||void 0===D?void 0:D(n)},sx:{height:"100%"},children:e})}),[D,n]),q=Object(f.useCallback)((function(e){return G.setWeaponLocation(n,e)}),[G,n]);if(!R||!V)return null;var J=R.level,Q=R.ascension,X=R.refinement,Y=R.id,Z=R.location,$=void 0===Z?"":Z,ee=R.lock,te=V.weaponType,ne=V.getMainStatValue(J,Q).toFixed(_.b.fixedUnit("atk")),ae=V.getSubStatKey(),ce=V.getSubStatValue(J,Q).toFixed(_.b.fixedUnit(ae)),ie=[["weaponATK",ne]];(null===V||void 0===V?void 0:V.passiveName)&&ie.push([ae,ce]);var re=Q<2?null===V||void 0===V?void 0:V.img:null===V||void 0===V?void 0:V.imgAwaken;return Object(N.jsx)(f.Suspense,{fallback:Object(N.jsx)(l.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(N.jsx)(w.a,{condition:!!D,wrapper:U,children:Object(N.jsxs)(g.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(N.jsxs)("div",{className:"grad-".concat(V.rarity,"star"),children:[Object(N.jsx)(u.a,{title:V.name,avatar:Object(N.jsx)(k.a,{sx:{fontSize:"2em"},src:null===(t=v.a.weaponTypes)||void 0===t?void 0:t[te]}),titleTypographyProps:{variant:"h6"},action:!D&&Object(N.jsx)(j.a,{color:"primary",onClick:function(){return G.updateWeapon({lock:!ee},Y)},children:ee?Object(N.jsx)(r.a,{}):Object(N.jsx)(o.a,{})})}),Object(N.jsxs)(d.a,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[Object(N.jsxs)(d.a,{item:!0,flexGrow:1,children:[Object(N.jsxs)(b.a,{component:"span",variant:"h4",children:["Lv. ",J]}),Object(N.jsxs)(b.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",I.b[Q]]}),Object(N.jsxs)(b.a,{variant:"h6",children:["Refinement ",Object(N.jsx)("strong",{children:X})]}),Object(N.jsx)(b.a,{children:Object(N.jsx)(C.a,{stars:V.rarity,colored:!0})})]}),Object(N.jsx)(d.a,{item:!0,container:!0,xs:4,alignContent:"flex-end",children:Object(N.jsx)(O.a,{component:"img",src:re,width:"100%",height:"auto",sx:{mt:"auto"}})})]})]}),Object(N.jsx)(x.a,{children:ie.map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1],i=_.b.getStatUnit(n);return Object(N.jsxs)(O.a,{sx:{display:"flex"},children:[Object(N.jsxs)(b.a,{flexGrow:1,children:[T.a[n]," ",_.b.getStatName(n)]}),Object(N.jsx)(b.a,{children:c+i})]},n)}))}),Object(N.jsx)(O.a,{flexGrow:1}),Object(N.jsx)(x.a,{sx:{py:1},children:Object(N.jsxs)(d.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(N.jsx)(d.a,{item:!0,xs:"auto",flexShrink:1,children:B?Object(N.jsx)(m.b,{size:"small",noUnselect:!0,inventory:!0,value:$,onChange:q,filter:F}):Object(N.jsx)(y.a,{location:$})}),Object(N.jsx)(d.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(N.jsx)(d.a,{item:!0,xs:"auto",children:Object(N.jsxs)(p.a,{sx:{height:"100%"},children:[!!M&&Object(N.jsx)(h.a,{color:"info",size:"small",onClick:function(){return M(Y)},children:Object(N.jsx)(i.a,{icon:c.m,className:"fa-fw"})}),!!E&&Object(N.jsx)(h.a,{color:"error",size:"small",onClick:function(){return E(Y)},disabled:!!$||ee,children:Object(N.jsx)(i.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})})}},717:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var a=n(52),c=n.n(a),i=n(99),r=n(3),o=n(5),s=n(51),l=n(17),u=n(220),j=n(264),d=n(720),b=n(672),O=n(79),x=n(169),p=n(397),h=n(271),f=n(119),v=n(1),g=n(83),m=n(277),y=n(288),w=n(301),k=n(281),C=n(298),T=n(173),I=n(136),W=n(289),S=n(131),_=n(20),A=n(307),N=n(15),D=["level","rarity"];var M=n(309),E=n(308),z=n(135),B=n(140),G=n(0),K=Object(v.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(21)]).then(n.bind(null,322))})),P=function(){return{editWeaponId:"",sortType:D[0],ascending:!1,rarity:[5,4],weaponType:"",maxNumToDisplay:30}};function H(e,t){return Object(o.a)(Object(o.a)({},e),t)}function L(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return Object(o.a)(Object(o.a)({},t),null!==(e=I.b.get("WeaponDisplay.state"))&&void 0!==e?e:{})}function R(e){var t=Object(v.useContext)(T.b),n=Object(v.useReducer)(H,P(),L),a=Object(r.a)(n,2),o=a[0],R=a[1],V=Object(v.useState)(!1),F=Object(r.a)(V,2),U=F[0],q=F[1],J=Object(W.a)(),Q=Object(r.a)(J,2),X=Q[0],Y=Q[1],Z=Object(v.useRef)(null),$=Object(v.useRef)(null),ee=Object(v.useState)(0),te=Object(r.a)(ee,2),ne=te[0],ae=te[1];Object(v.useEffect)((function(){return g.a.pageview("/weapon"),t.followAnyWeapon(Y)}),[Y,t]),Object(v.useEffect)((function(){I.b.set("WeaponDisplay.state",o)}),[o]);var ce=Object(S.a)(z.a.getAll(),[]),ie=Object(v.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(n){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._getWeapon(n)){e.next=3;break}return e.abrupt("return");case 3:if(i=f.a.t("weapon_".concat(a.key,"_gen:name")),window.confirm("Are you sure you want to remove ".concat(i,"?"))){e.next=6;break}return e.abrupt("return");case 6:t.removeWeapon(n),o.editWeaponId===n&&R({editWeaponId:""});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o.editWeaponId,R,t]),re=Object(v.useCallback)((function(e){R({editWeaponId:e}),setTimeout((function(){var e;null===(e=Z.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[R,Z]),oe=Object(v.useCallback)((function(e){re(t.createWeapon(Object(B.b)(e)))}),[t,re]),se=Object(v.useMemo)((function(){return ce&&function(e,t){return{level:{getValue:function(t){var n,a;return null!==(n=null===(a=e._getWeapon(t))||void 0===a?void 0:a.level)&&void 0!==n?n:0},tieBreaker:"rarity"},rarity:{getValue:function(n){var a,c;return null===t||void 0===t||null===(a=t[null===(c=e._getWeapon(n))||void 0===c?void 0:c.key])||void 0===a?void 0:a.rarity},tieBreaker:"level"}}}(t,ce)}),[t,ce]),le=Object(v.useMemo)((function(){var e=t.weapons.keys;if(!se)return{weaponIdList:[],totalWeaponNum:e.length};var n=e.filter((function(e){var n,a,c=t._getWeapon(e);return!!c&&((!o.weaponType||o.weaponType===(null===ce||void 0===ce||null===(n=ce[c.key])||void 0===n?void 0:n.weaponType))&&!!o.rarity.includes(null===ce||void 0===ce||null===(a=ce[c.key])||void 0===a?void 0:a.rarity))})).sort(Object(A.a)(o.sortType,o.ascending,se));return X&&{weaponIdList:n,totalWeaponNum:e.length}}),[X,ce,t,se,o.sortType,o.ascending,o.rarity,o.weaponType]),ue=le.weaponIdList,je=le.totalWeaponNum,de=Object(v.useMemo)((function(){var e=Math.ceil(ue.length/o.maxNumToDisplay),t=Object(N.a)(ne,0,e-1);return{weaponIdsToShow:ue.slice(t*o.maxNumToDisplay,(t+1)*o.maxNumToDisplay),numPages:e,currentPageIndex:t}}),[ue,ne,o.maxNumToDisplay]),be=de.weaponIdsToShow,Oe=de.numPages,xe=de.currentPageIndex,pe=ue.length!==je?"".concat(ue.length,"/").concat(je):"".concat(je),he=Object(v.useCallback)((function(e,t){var n;null===(n=$.current)||void 0===n||n.scrollIntoView({behavior:"smooth"}),ae(t-1)}),[ae,$]),fe=Object(v.useCallback)((function(){return R({editWeaponId:""})}),[R]),ve=o.editWeaponId;return Object(G.jsxs)(u.a,{sx:{mt:1,"> div":{mb:1}},children:[!!ve&&Object(G.jsx)(u.a,{ref:Z,children:Object(G.jsx)(K,{weaponId:ve,footer:!0,onClose:fe})}),Object(G.jsxs)(m.a,{ref:$,sx:{p:2,pb:1},children:[Object(G.jsxs)(j.a,{container:!0,spacing:1,sx:{mb:1},children:[Object(G.jsx)(j.a,{item:!0,children:Object(G.jsx)(C.a,{sx:{height:"100%"},onChange:function(e){return R({weaponType:e})},value:o.weaponType,size:"small"})}),Object(G.jsx)(j.a,{item:!0,flexGrow:1,children:Object(G.jsx)(y.a,{sx:{height:"100%"},onChange:function(e,t){return R({rarity:t})},value:o.rarity,size:"small",children:_.f.map((function(e){return Object(G.jsxs)(d.a,{value:e,children:[Object(G.jsxs)("strong",{children:[e," "]}),Object(G.jsx)(k.a,{stars:1})]},e)}))})}),Object(G.jsx)(j.a,{item:!0,children:Object(G.jsx)(w.a,{sx:{height:"100%"},sortKeys:D,value:o.sortType,onChange:function(e){return R({sortType:e})},ascending:o.ascending,onChangeAsc:function(e){return R({ascending:e})}})})]}),Object(G.jsxs)(j.a,{container:!0,alignItems:"flex-end",children:[Object(G.jsx)(j.a,{item:!0,flexGrow:1,children:Object(G.jsx)(b.a,{count:Oe,page:xe+1,onChange:he})}),Object(G.jsx)(j.a,{item:!0,children:Object(G.jsxs)(O.a,{color:"text.secondary",children:["Showing ",Object(G.jsx)("b",{children:be.length})," out of ",pe," Weapons"]})})]})]}),Object(G.jsx)(j.a,{container:!0,spacing:1,children:Object(G.jsxs)(v.Suspense,{fallback:Object(G.jsx)(j.a,{item:!0,xs:12,children:Object(G.jsx)(x.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:500}})}),children:[!ve&&Object(G.jsx)(j.a,{item:!0,xs:6,md:4,lg:4,xl:3,children:Object(G.jsxs)(m.a,{sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[Object(G.jsx)(p.a,{children:Object(G.jsx)(O.a,{sx:{textAlign:"center"},children:"Add New Weapon"})}),Object(G.jsx)(E.a,{show:U,onHide:function(){return q(!1)},onSelect:oe}),Object(G.jsx)(u.a,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(G.jsx)(h.a,{onClick:function(){return q(!0)},sx:{borderRadius:"1em"},children:Object(G.jsx)(O.a,{variant:"h1",children:Object(G.jsx)(l.a,{icon:s.u,className:"fa-fw"})})})})]})}),be.map((function(e){return Object(G.jsx)(j.a,{item:!0,xs:12,sm:6,md:4,lg:4,xl:3,children:Object(G.jsx)(M.a,{weaponId:e,onDelete:ie,onEdit:re,canEquip:!0})},e)}))]})})]})}}}]);
//# sourceMappingURL=20.e51e6c41.chunk.js.map