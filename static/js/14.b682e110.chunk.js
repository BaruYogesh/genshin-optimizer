(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[14],{180:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(16),c=a(0),r=a(105),i=a(1);function s(e){var t=e.value,a=e.onChange,s=e.disabled,l=void 0!==s&&s,o=e.float,u=void 0!==o&&o,j=e.placeholder,d=e.allowEmpty,b=void 0!==d&&d,f=Object(c.useState)(null!==t&&void 0!==t?t:""),h=Object(n.a)(f,2),O=h[0],x=h[1],m=Object(c.useState)({}),v=Object(n.a)(m,2),p=v[0],y=v[1],g=Object(c.useCallback)((function(){if(y({}),b&&""===O)return a(null);""===O&&x(0);var e=u?parseFloat:parseInt;a(e(O)||0)}),[a,O,u,b]);return Object(c.useEffect)((function(){return x(null!==t&&void 0!==t?t:"")}),[t,x,p]),Object(i.jsx)(r.a,{value:O,"aria-label":"custom-input",className:"hide-appearance",type:"number",placeholder:j,onChange:function(e){return x(e.target.value)},onBlur:g,disabled:l,onKeyDown:function(e){return"Enter"===e.key&&g()}})}},191:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));var n=["hp","hp_","atk","atk_","def_","eleMas","enerRech_","critRate_","critDMG_","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_","heal_"],c=["hp","hp_","atk","atk_","def_","def","eleMas","enerRech_","critRate_","critDMG_"]},193:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a(89),c=a(51),r=a(59),i=a(1),s={flower:n.a,plume:n.i,sands:n.m,goblet:n.J,circlet:n.e};function l(e){return Object(i.jsx)(c.a,{icon:s[e],className:"fa-fw"},e)}function o(e){var t=e.slotKey,a=Object(r.a)("artifact").t,n=l(t);return Object(i.jsxs)("span",{children:[n," ",a("slotName.".concat(t))]})}},195:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(63),c=a(171),r=a(26),i=a(91),s=a(1);function l(e){var t=e.onSelect;return Object(s.jsx)(s.Fragment,{children:r.a.getCharacterKeyList().sort((function(e,t){return e<t?-1:e>t?1:0})).map((function(e){return Object(s.jsx)(o,{characterKey:e,onSelect:t},e)}))})}function o(e){var t=e.characterKey,a=e.onSelect,r=Object(i.b)(c.b.get(t));return r?Object(s.jsx)(n.a.Item,{onClick:function(){return a(t)},children:r.name}):null}},196:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(16),c=a(89),r=a(51),i=a(0),s=a(314),l=a(19),o=a(45),u=a(21),j=a(44),d=a(159),b=a(9),f=a(1);function h(e){var t,a,h=e.pageKey,O=void 0===h?"":h,x=e.text,m=void 0===x?"":x,v=e.modalTitle,p=void 0===v?"":v,y=e.children,g=Object(i.useState)(null===(t=null===(a=Object(b.n)("infoShown"))||void 0===a?void 0:a[O])||void 0===t||t),S=Object(n.a)(g,2),w=S[0],k=S[1],N=Object(i.useState)(Array.isArray(m)?Object(b.j)(m):m),K=Object(n.a)(N,1)[0],C=function(){var e,t=null!==(e=Object(b.n)("infoShown"))&&void 0!==e?e:{};t[O]=!1,Object(b.r)("infoShown",t),k(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{show:w,onHide:function(){return C()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(f.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(f.jsx)(l.a.Header,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(l.a.Title,{children:p})}),Object(f.jsx)(u.a,{xs:"auto",children:Object(f.jsx)(j.a,{variant:"danger",onClick:function(){return C()},children:Object(f.jsx)(r.a,{icon:c.B})})})]})}),Object(f.jsx)(l.a.Body,{children:Object(f.jsx)(i.Suspense,{fallback:Object(f.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(f.jsx)(d.a,{animation:"border",variant:"primary"})]}),children:y})}),Object(f.jsx)(l.a.Footer,{children:Object(f.jsx)(j.a,{variant:"danger",onClick:function(){return C()},children:Object(f.jsx)("span",{children:"Close"})})})]})}),Object(f.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(f.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)("small",{children:K})}),Object(f.jsx)(u.a,{xs:"auto",children:Object(f.jsx)(j.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return k(!0)},children:Object(f.jsx)(r.a,{icon:c.s})})})]})})})]})}},199:function(e,t,a){"use strict";function n(e,t){switch(t){case"%":return(Math.round(10*e)/10).toFixed(1);case"eff":return e.toFixed(2)+"%";default:return Math.round(e).toFixed(0)}}a.d(t,"a",(function(){return n}))},206:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(16),c=a(89),r=a(51),i=a(0),s=a(127),l=a(44),o=a(182),u=a(19),j=a(21),d=a(63),b=a(189),f=a(174),h=a(45),O=a(173),x=a(171),m=a(195),v=a(175),p=a(29),y=a(161),g=a(191),S=a(91),w=a(199),k=a(184),N=a(166),K=a(193),C=a(207),A=a(1),I=new Set(g.b);function L(e){var t,a,g,L,E,M,F,T=e.artifactId,R=e.artifactObj,D=e.onEdit,P=e.onDelete,U=e.mainStatAssumptionLevel,_=void 0===U?0:U,z=e.effFilter,B=void 0===z?I:z,W=Object(S.a)(),q=Object(n.a)(W,2)[1];Object(i.useEffect)((function(){return T&&p.a.registerArtListener(T,q),function(){T&&p.a.unregisterArtListener(T,q)}}),[T,q]);var V=Object(S.b)(N.a.get(null===(t=null!==R&&void 0!==R?R:T?p.a.get(T):void 0)||void 0===t?void 0:t.setKey)),H=function(e){return k.a.equipArtifactOnChar(T,e)},G=!R,J=null!==R&&void 0!==R?R:p.a.get(T),Y=Object(S.b)(x.b.get(null!==(a=null===J||void 0===J?void 0:J.location)&&void 0!==a?a:""));if(!J)return null;void 0===J.substats[0].rolls&&k.a.substatsValidation(J);var $=J.id,Q=J.slotKey,X=J.numStars,Z=J.level,ee=J.mainStatKey,te=J.substats,ae=J.lock,ne=Math.max(Math.min(_,4*X),Z),ce=Object(A.jsxs)("span",{className:ne!==Z?"text-orange":"",children:[null!==(g=k.a.mainStatValue(ee,X,ne))&&void 0!==g?g:"",y.a.getStatUnit(ee)]}),re=k.a.getArtifactEfficiency(J,B),ie=re.currentEfficiency,se=re.maximumEfficiency,le=0!==se,oe=null!==(L=null===Y||void 0===Y?void 0:Y.name)&&void 0!==L?L:"Inventory";return Object(A.jsxs)(u.a,{className:"h-100",border:"".concat(X,"star"),bg:"lightcontent",text:"lightfont",children:[Object(A.jsx)(u.a.Header,{className:"p-0",children:Object(A.jsxs)(h.a,{children:[Object(A.jsx)(j.a,{xs:2,md:3,children:Object(A.jsx)(b.a,{src:null!==(E=null===V||void 0===V?void 0:V.slotIcons[Q])&&void 0!==E?E:"",className:"w-100 h-auto grad-".concat(X,"star m-1"),thumbnail:!0})}),Object(A.jsxs)(j.a,{className:"pt-3",children:[Object(A.jsx)("h6",{children:Object(A.jsx)("b",{children:null!==(M=null===V||void 0===V?void 0:V.slotNames[Q])&&void 0!==M?M:"Unknown Piece Name"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)(K.b,{slotKey:Q})," +".concat(Z)]})]})]})}),Object(A.jsxs)(u.a.Body,{className:"d-flex flex-column py-2",children:[Object(A.jsxs)(u.a.Title,{children:[Object(A.jsx)("div",{children:null!==(F=null===V||void 0===V?void 0:V.name)&&void 0!==F?F:"Artifact Set"}),Object(A.jsx)("small",{className:"text-halfsize",children:Object(A.jsx)(v.a,{stars:X})})]}),Object(A.jsx)("h5",{className:"mb-1",children:Object(A.jsxs)("b",{children:[y.a.getStatName(ee)," ",ce]})}),Object(A.jsx)(h.a,{className:"mb-0",children:te.map((function(e,t){var a,n,c;if(!e.value)return null;var r=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,i=null!==(c=e.efficiency)&&void 0!==c?c:0,l=.3+.7*i,o=y.a.getStatName(e.key);return Object(A.jsxs)(j.a,{xs:12,children:[Object(A.jsx)(s.a,{variant:r?"".concat(r,"roll"):"danger",className:"text-darkcontent",children:Object(A.jsx)("b",{children:r||"?"})})," ",Object(A.jsxs)("span",{className:"text-".concat(r,"roll"),children:[o,"+".concat(Object(w.a)(e.value,y.a.getStatUnit(e.key))).concat(y.a.getStatUnit(e.key))]}),Object(A.jsx)("span",{className:"float-right",style:{opacity:l},children:e.key&&B.has(e.key)?Object(w.a)(i,"eff"):"-"})]},t)}))}),Object(A.jsxs)(h.a,{className:"mt-auto",children:[Object(A.jsxs)(j.a,{children:["Current SS Eff.: ",Object(A.jsx)(C.a,{value:ie,valid:le,className:"float-right"})]}),ie!==se&&Object(A.jsxs)(j.a,{className:"text-right",children:["Max SS Eff.: ",Object(A.jsx)(C.a,{value:se,valid:le})]})]})]}),Object(A.jsx)(u.a.Footer,{className:"pr-3",children:Object(A.jsxs)(h.a,{className:"d-flex justify-content-between no-gutters",children:[G?Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsxs)(d.a,{children:[Object(A.jsx)(d.a.Toggle,{size:"sm",className:"text-left",children:oe}),Object(A.jsxs)(d.a.Menu,{children:[Object(A.jsx)(d.a.Item,{onClick:function(){return H("")},children:"Inventory"}),Object(A.jsx)(d.a.Divider,{}),Object(A.jsx)(m.a,{onSelect:H})]})]})}):Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsx)("b",{children:oe})}),Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsxs)(o.a,{children:[G?Object(A.jsx)(f.a,{placement:"top",overlay:Object(A.jsx)(O.a,{id:"lock-artifact-tip",children:"Locking a artifact will prevent the build generator from picking it for builds."}),children:Object(A.jsx)("span",{className:"d-inline-block",children:Object(A.jsx)(l.a,{size:"sm",onClick:function(){return p.a.setLocked($,!ae)},children:Object(A.jsx)(r.a,{icon:ae?c.o:c.p,className:"fa-fw"})})})}):null,!!D&&Object(A.jsx)(l.a,{variant:"info",size:"sm",onClick:D,children:Object(A.jsx)(r.a,{icon:c.h,className:"fa-fw"})}),!!P&&Object(A.jsx)(l.a,{variant:"danger",size:"sm",onClick:P,children:Object(A.jsx)(r.a,{icon:c.E,className:"fa-fw"})})]})})]})})]})}},207:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(16),c=a(127),r=a(1);function i(e){var t=e.value,a=e.valid,i="number"===typeof t?["".concat(Math.floor(.05*t)+1,"roll"),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(i,2),l=s[0],o=s[1];return a||(l="danger"),Object(r.jsx)(c.a,{variant:l,className:"secondary"===l?"":"text-darkcontent",children:o})}},318:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return xt}));var n=a(188),c=a(167),r=a(16),i=a(163),s=a(76),l=a(89),o=a(51),u=a(0),j=a.n(u),d=a(19),b=a(182),f=a(44),h=a(63),O=a(214),x=a(231),m=a(202),v=a(310),p=a(21),y=a(147),g=a(45),S=a(35),w=a(59),k=a(18),N=a(171),K=a(195),C=a(180),A=a(175),I=a(29),L=a(26),E=a(196),M=a(161),F=a(191),T=a(90),R=a(91),D=a(9),P=a(184),U=a(206),_=a(78),z=a.n(_),B=a(101),W=a(230),q=a(105),V=a(174),H=a(321),G=a(153),J=a(127),Y=a(199),$=a(166),Q=a(193),X=a(207),Z=a(305),ee=a(154),te=a(314),ae=a(274),ne=a.p+"static/media/scan_art_main.ab1cfe61.png",ce=a.p+"static/media/snippet.d223e797.png",re=a(60),ie=a(61),se=function(){function e(t,a){Object(re.a)(this,e),this.data={},this.init=void 0,this.deinit=void 0,this.init=t,this.deinit=a}return Object(ie.a)(e,[{key:"borrow",value:function(){var e=Object(B.a)(z.a.mark((function e(t,a){var n,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data[t]||(this.data[t]={value:this.init(t),refCount:0}),(n=this.data[t]).refCount+=1,e.next=5,a(n.value);case 5:return c=e.sent,n.refCount-=1,n.refCount||(delete this.data[t],this.deinit(t,n.value)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),le=a(1),oe={r:255,g:204,b:50},ue=new se(function(){var e=Object(B.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ae.createScheduler)(),n=Array(2).fill(0).map(function(){var e=Object(B.a)(z.a.mark((function e(n){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(ae.createWorker)({errorHandler:console.error}),e.next=3,c.load();case 3:return e.next=5,c.loadLanguage(t);case 5:return e.next=7,c.initialize(t);case 7:a.addWorker(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.any(n);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t){t.then((function(e){return e.terminate()}))}));function je(e){var t,a,n,c=e.setState,l=e.setReset,o=e.artifactInEditor,j=Object(u.useState)(!1),b=Object(r.a)(j,2),h=b[0],O=b[1],x=Object(u.useReducer)(be,{processed:[],outstanding:[]}),m=Object(r.a)(x,2),v=m[0],y=v.processed,w=v.outstanding,k=m[1],N=y[0],K=w[0],C=Object(R.b)(null===K||void 0===K?void 0:K.imageURL),A=Object(R.b)(null===K||void 0===K?void 0:K.result),I=y.length+w.length,L=null!==(t=null===N||void 0===N?void 0:N.imageURL)&&void 0!==t?t:C,E=null!==N&&void 0!==N?N:{},M=E.artifact,F=E.texts,T=null!==(a=null!==(n=null===N||void 0===N?void 0:N.fileName)&&void 0!==n?n:null===K||void 0===K?void 0:K.fileName)&&void 0!==a?a:"Click here to upload Artifact screenshot files";Object(u.useEffect)((function(){!o&&M&&c(M)}),[o,M,c]),Object(u.useEffect)((function(){var e=Math.min(16-y.length,3,w.length),t=e&&!w[0].result;w.slice(0,e).forEach(fe),t&&k({type:"processing"})}),[y.length,w]),Object(u.useEffect)((function(){A&&k(Object(i.a)({type:"processed"},A))}),[A,k]);var D=Object(u.useCallback)((function(){return k({type:"pop"})}),[k]),P=Object(u.useCallback)((function(e){return k({type:"upload",files:Object(s.a)(e).map((function(e){return{file:e,fileName:e.name}}))})}),[k]),U=Object(u.useCallback)((function(){return k({type:"clear"})}),[k]);Object(u.useEffect)((function(){var e=function(e){return P(e.clipboardData.files)};return window.addEventListener("paste",e),null===l||void 0===l||l(D),function(){return window.removeEventListener("paste",e)}}),[l,D,P]);var _=L&&Object(le.jsx)("img",{src:L,className:"w-100 h-auto",alt:"Screenshot to parse for artifact values"});return Object(le.jsxs)(g.a,{children:[Object(le.jsx)(de,{modalShow:h,hide:function(){return O(!1)}}),Object(le.jsx)(p.a,{xs:12,className:"mb-2",children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)("h6",{className:"mb-0",children:"Parse Artifact by Uploading Image"})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsx)(f.a,{variant:"info",size:"sm",onClick:function(){O(!0),S.a.modalview("/artifact/how-to-upload")},children:"Show Me How!"})})]})}),I>0&&Object(le.jsx)(p.a,{xs:12,children:Object(le.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{className:"p-1 ml-2",children:["Screenshots in file-queue: ",Object(le.jsx)("b",{children:I}),!1]}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsx)(f.a,{size:"sm",variant:"danger",onClick:U,children:"Clear file-queue"})})]})})}),Object(le.jsx)(p.a,{xs:8,lg:L?4:0,children:_}),Object(le.jsxs)(p.a,{xs:12,lg:L?8:12,children:[!N&&K&&Object(le.jsxs)("div",{className:"mb-2",children:[Object(le.jsx)("h6",{className:"mb-0",children:"Scanning current artifact"}),Object(le.jsx)(Z.a,{animated:!0,now:100})]}),Object(le.jsx)(ee.a.File,{type:"file",className:"mb-0",label:T,onChange:function(e){P(e.target.files),e.target.value=null},accept:"image/*",custom:!0,multiple:!0}),F&&Object(le.jsxs)("div",{className:"mb-2",children:[Object(le.jsx)("div",{children:F.slotKey}),Object(le.jsx)("div",{children:F.mainStatKey}),Object(le.jsx)("div",{children:F.mainStatVal}),Object(le.jsx)("div",{children:F.numStars}),Object(le.jsx)("div",{children:F.level}),Object(le.jsx)("div",{children:F.substats}),Object(le.jsx)("div",{children:F.setKey})]}),Boolean(!L)&&Object(le.jsx)(ee.a.Label,{className:"mb-0",children:"Please Select an Image, or paste a screenshot here (Ctrl+V)"})]})]})}function de(e){var t=e.modalShow,a=e.hide;return Object(le.jsx)(te.a,{show:t,onHide:a,size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(le.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",children:[Object(le.jsx)(d.a.Header,{children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)(d.a.Title,{children:"How do Upload Screenshots for parsing"})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsx)(f.a,{variant:"danger",onClick:a,children:Object(le.jsx)(o.a,{icon:l.B})})})]})}),Object(le.jsxs)(d.a.Body,{children:[Object(le.jsx)("h5",{className:"text-warning",children:"NOTE: Artifact Scanning currently only work for ENGLISH artifacts."}),Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{xs:8,md:4,children:Object(le.jsx)("img",{alt:"snippet of the screen to take",src:ce,className:"w-100 h-auto"})}),Object(le.jsxs)(p.a,{xs:12,md:8,children:[Object(le.jsx)("p",{children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(le.jsx)("h5",{children:"Where to snip the screenshot."}),Object(le.jsxs)("p",{children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",Object(le.jsx)("b",{children:"Only artifact from this screen can be scanned."})]}),Object(le.jsx)("h6",{children:"Single artifact"}),Object(le.jsxs)("p",{children:["To take a screenshot, in Windows, the shortcut is ",Object(le.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),Object(le.jsx)("h6",{children:"Multiple artifacts"}),Object(le.jsxs)("p",{children:["To take advantage of batch uploads, you can use a tool like ",Object(le.jsx)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),Object(le.jsx)("h5",{children:"What to include in the screenshot."}),Object(le.jsx)("p",{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]})]}),Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{children:[Object(le.jsx)("h5",{children:"Adding Screenshot to Genshin Optimizer"}),Object(le.jsx)("p",{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),Object(le.jsx)("p",{className:"mb-0",children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),Object(le.jsxs)("p",{children:["For single screenshots from the snippets, just press ",Object(le.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),Object(le.jsxs)("p",{children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(le.jsx)("b",{children:"Artifact Editor"}),"."]})]}),Object(le.jsxs)(p.a,{xs:12,children:[Object(le.jsx)("h5",{children:"Finishing the Artifact"}),Object(le.jsxs)("p",{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",Object(le.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]}),Object(le.jsx)("img",{alt:"main screen after importing stats",src:ne,className:"w-75 h-auto"})]})]})]}),Object(le.jsx)(d.a.Footer,{children:Object(le.jsx)(f.a,{variant:"danger",onClick:a,children:Object(le.jsx)("span",{children:"Close"})})})]})})}var be=function(e,t){switch(t.type){case"upload":return{processed:e.processed,outstanding:[].concat(Object(s.a)(e.outstanding),Object(s.a)(t.files))};case"processing":return{processed:e.processed,outstanding:Object(s.a)(e.outstanding)};case"processed":return e.outstanding[0].file===t.file?{processed:[].concat(Object(s.a)(e.processed),[t.result]),outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function fe(e){if(!e.result){var t=e.file,a=e.fileName;e.imageURL=ze(t),e.result=e.imageURL.then(function(){var e=Object(B.a)(z.a.mark((function e(n){var c,i,s,l,o,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.getAll();case 2:return c=e.sent,e.next=5,qe(n);case 5:return i=e.sent,s=Je(c,i.rarities,Ye(i.artifactSetTexts,c),Xe(i.whiteTexts),tt(i.substatTexts),Ze(i.whiteTexts),et(i.whiteTexts)),l=Object(r.a)(s,2),o=l[0],u=l[1],e.abrupt("return",{file:t,result:{fileName:a,imageURL:n,artifact:o,texts:u}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}var he,Oe,xe,me,ve,pe,ye,ge,Se,we,ke,Ne,Ke,Ce,Ae,Ie,Le,Ee,Me,Fe,Te,Re,De,Pe,Ue,_e,ze=function(e){return new Promise((function(t){var a=new FileReader;a.onloadend=function(e){var a=e.target;return t(a.result)},a.readAsDataURL(e)}))},Be=function(e){return new Promise((function(t){var a=new Image;a.onload=function(e){var a=e.target;return t(function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,a.drawImage(e,0,0,e.width,e.height),a.getImageData(0,0,e.width,e.height)}(a))},a.src=e}))};function We(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}function qe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(B.a)(z.a.mark((function e(t){var a,n,c,i,s,l,o,u,j,d,b;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(t);case 2:return a=e.sent,n=a.width,c=Math.floor(a.height/2),i={rectangle:{top:c,left:0,width:n,height:c}},s=[He(at(a,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),He(at(a,[30,50,80],[160,160,160],{region:"bot"}),i),He(at(a,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),i)],l=$e(a.data,a.width,a.height),e.next=9,Promise.all(s);case 9:return o=e.sent,u=Object(r.a)(o,3),j=u[0],d=u[1],b=u[2],e.abrupt("return",{whiteTexts:j,substatTexts:d,artifactSetTexts:b,rarities:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(B.a)(z.a.mark((function e(t){var a,n,c,r=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:void 0,n=We(t),e.next=4,ue.borrow("eng",function(){var e=Object(B.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,e.sent.addJob("recognize",n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return c=e.sent,e.abrupt("return",c.data.lines.map((function(e){return e.text})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t,a,n,i,l,o){var u,j=Object(s.a)(new Set([].concat(Object(s.a)(a),["Adventurer","ArchaicPetra"]))),d=-1,b=[{setKey:"Adventurer",numStars:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1}],f=Object.fromEntries(T.a.map((function(t){var n=0;a.size&&(n+=Object(s.a)(a).reduce((function(a,n){return a+(e[n].rarity.includes(t)?1:0)}),0)/a.size);i.length&&(n+=i.reduce((function(e,a){return e+(P.a.getSubstatRolls(a.key,a.value,t).length?1:0)}),0)/i.length*2);return[t,n]}))),h=Object(c.a)(T.h);try{for(h.s();!(u=h.n()).done;){var O,x=u.value,m=Object(c.a)(P.a.slotMainStats(x));try{var v=function(){for(var t=O.value,i=(n.has(x)?1:0)+(l.has(t)?1:0),s=o.filter((function(e){return"%"!==e.unit||"%"===M.a.getStatUnit(t)})).map((function(e){return e.mainStatValue})),u=function(){var n=Object(r.a)(m[h],2),l=n[0],o=n[1],u=parseInt(l),f=j.filter((function(t){return e[t].rarity.includes(u)})),O=i+o;if(O+2<d)return"continue";var v,p=Object(c.a)(s);try{var y=function(){var e,n=v.value,r=P.a.mainStatValues(u,t),i=Math.max(0,r.findIndex((function(e){return e>=n}))),s=r[i],l=O+(s===n?1:0),o=Object(c.a)(f);try{for(o.s();!(e=o.n()).done;){var j=e.value,h=l+(a.has(j)?1:0);h>=d&&(h>d&&(b=[]),d=h,b.push({setKey:j,numStars:u,level:i,slotKey:x,mainStatKey:t,substats:[],location:"",lock:!1}))}}catch(m){o.e(m)}finally{o.f()}};for(p.s();!(v=p.n()).done;)y()}catch(N){p.e(N)}finally{p.f()}if(O>=d){var g,S=Object(c.a)(f);try{for(S.s();!(g=S.n()).done;){var w=g.value,k=O+(a.has(w)?1:0);k>d&&(b=[]),d=k,b.push({setKey:w,numStars:u,level:0,slotKey:x,mainStatKey:t,substats:[],location:"",lock:!1})}}catch(N){S.e(N)}finally{S.f()}}},h=0,m=Object.entries(f);h<m.length;h++)u()};for(m.s();!(O=m.n()).done;)v()}catch(F){m.e(F)}finally{m.f()}}}catch(F){h.e(F)}finally{h.f()}var p={},y={setKey:new Set,numStars:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},g=b[0],S=P.a.mainStatValue(g.mainStatKey,g.numStars,g.level);g.substats=i.filter((function(e,t){return e.key!==g.mainStatKey&&i.slice(0,t).every((function(t){return t.key!==e.key}))}));for(var w=g.substats.length;w<4;w++)g.substats.push({key:"",value:0});for(var k=0,N=b;k<N.length;k++){var K=N[k];y.setKey.add(K.setKey),y.numStars.add(K.numStars),y.level.add(K.level),y.slotKey.add(K.slotKey),y.mainStatKey.add(K.mainStatKey)}function C(e,t,a){return Object(le.jsxs)(le.Fragment,{children:["Unknown ",t," : Set to ",Object(le.jsx)("span",{className:"text-danger",children:a(e)})]})}function A(e,t,a){return Object(le.jsxs)(le.Fragment,{children:["Detected ",t," ",Object(le.jsx)("span",{className:"text-success",children:a(e)})]})}function I(e,t,a){return Object(le.jsxs)(le.Fragment,{children:["Inferred ",t," ",Object(le.jsx)("span",{className:"text-warning",children:a(e)})]})}function L(e,t,a,n){var c=new Set(Object(s.a)(y[e]).filter((function(e){return t.has(e)})));c.size>1?p[e]=function(e,t,a,n){return Object(le.jsxs)(le.Fragment,{children:["Ambiguous ",a," ",Object(le.jsx)("span",{className:"text-danger",children:n(e)})," : May also be ",t.filter((function(t){return t!==e})).map((function(e,t){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("b",{children:t>0?"/":""}),Object(le.jsx)("span",{className:"text-warning",children:n(e)})]})}))]})}(g[e],Object(s.a)(t),a,n):1===c.size?p[e]=A(g[e],a,n):y[e].size>1?p[e]=C(g[e],a,n):p[e]=I(g[e],a,n)}L("setKey",a,"Set",(function(t){return e[t].name})),L("numStars",t,"Rarity",(function(e){return Object(le.jsxs)(le.Fragment,{children:[e," ",1!==e?"Stars":"Star"]})})),L("slotKey",n,"Slot",(function(e){return Object(le.jsx)(le.Fragment,{children:P.a.slotName(e)})})),L("mainStatKey",l,"Main Stat",(function(e){return Object(le.jsx)(le.Fragment,{children:M.a.getStatNameRaw(e)})})),p.substats=Object(le.jsx)(le.Fragment,{children:g.substats.filter((function(e){return""!==e.key})).map((function(e,t){return Object(le.jsx)("div",{children:A(e,"Sub Stat",(function(e){return Object(le.jsxs)(le.Fragment,{children:[M.a.getStatNameRaw(e.key),"+",e.value,"%"===M.a.getStatUnit(e.key)?"%":""]})}))},t)}))});var E=M.a.getStatUnit(g.mainStatKey);return o.find((function(e){return e.mainStatValue===S}))?l.has(g.mainStatKey)?(p.level=A(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=A(S,"Main Stat value",(function(e){return Object(le.jsxs)(le.Fragment,{children:[Object(Y.a)(e,E),"%"===E?"%":""]})}))):(p.level=I(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=I(S,"Main Stat value",(function(e){return Object(le.jsxs)(le.Fragment,{children:[Object(Y.a)(e,E),"%"===E?"%":""]})}))):(p.level=C(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=C(S,"Main Stat value",(function(e){return Object(le.jsxs)(le.Fragment,{children:[Object(Y.a)(e,E),"%"===E?"%":""]})}))),[g,p]}function Ye(e,t){var a,n=new Set([]),r=Object(c.a)(e);try{for(r.s();!(a=r.n()).done;){var i,s=a.value,l=Object(c.a)(T.b);try{for(l.s();!(i=l.n()).done;){var o=i.value;Object(D.l)(s.replace(/\W/g,""),t[o].name.replace(/\W/g,""))<=2&&n.add(o)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return n}function $e(e,t,a){for(var n=e,c=0,r=0,i=new Set([]),s=0;s<a;s++){for(var l=0,o=!1,u=0;u<t;u++){var j=4*(s*t+u);Qe({r:n[j],g:n[j+1],b:n[j+2]},oe)?o||(o=!0,l++):o=!1}c!==l?(c=l,r=1):c&&++r>=10&&i.add(Object(D.a)(c,3,5))}return i}function Qe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=function(e,t){return Math.abs(e-t)<=a};return n(e.r,t.r)&&n(e.g,t.g)&&n(e.b,t.b)}function Xe(e){var t,a=new Set,n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=Object(c.a)(T.h);try{for(s.s();!(r=s.n()).done;){var l=r.value;Object(D.l)(i.replace(/\W/g,""),P.a.slotName(l).replace(/\W/g,""))<=2&&a.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}function Ze(e){var t,a=new Set([]),n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=Object(c.a)(F.a);try{for(s.s();!(r=s.n()).done;){var l=r.value;i.toLowerCase().includes(M.a.getStatNameRaw(l).toLowerCase())&&a.add(l),l.includes("_bonu")&&Object(D.l)(i.replace(/\W/g,""),M.a.getStatNameRaw(l).replace(/\W/g,""))<=1&&a.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}function et(e){var t,a=[],n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=/(\d+[,|\\.]+\d)%/,s=i.exec(r);s&&a.push({mainStatValue:parseFloat(s[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),(s=(i=/(\d+[,|\\.]\d{3}|\d{2,3})/).exec(r))&&a.push({mainStatValue:parseInt(s[1].replace(/[,|\\.]+/g,""))})}}catch(l){n.e(l)}finally{n.f()}return a}function tt(e){var t,a=[],n=Object(c.a)(e);try{var r=function(){var e=t.value;e=e.replace(/^[\W]+/,"").replace(/\n/,""),F.b.forEach((function(t){var n=M.a.getStatNameRaw(t),c=("%"===M.a.getStatUnit(t)?new RegExp(n+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(n+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);c&&a.push({key:t,value:parseFloat(c[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}))};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}return a}function at(e,t,a,n){for(var c=n.region,r=void 0===c?"all":c,i=n.mode,s=void 0===i?"color":i,l=Uint8ClampedArray.from(e.data),o="top"===r,u="bot"===r,j="all"===r,d="bw"===s,b="invert"===s,f=Math.floor(e.width*(e.height/2)*4),h=0;h<l.length;h+=4){var O=l[h],x=l[h+1],m=l[h+2];(j||o&&h<f||u&&h>f)&&O>=t[0]&&O<=a[0]&&x>=t[1]&&x<=a[1]&&m>=t[2]&&m<=a[2]?d?l[h]=l[h+1]=l[h+2]=0:b&&(l[h]=255-O,l[h+1]=255-x,l[h+2]=255-m):l[h]=l[h+1]=l[h+2]=255}return new ImageData(l,e.width,e.height)}var nt,ct=new Set(F.b);function rt(e){var t,a,c,i=e.artifactIdToEdit,b=e.cancelEdit,x=Object(w.a)("artifact").t,m=Object(u.useReducer)(st,void 0),v=Object(r.a)(m,2),y=v[0],S=v[1],N=Object(R.b)($.a.getAll()),K=void 0!==y,L=y?null===N||void 0===N?void 0:N[y.setKey]:void 0;Object(u.useEffect)((function(){if(i&&i!==(null===y||void 0===y?void 0:y.id)){var e=I.a.get(i);e&&S({type:"overwrite",artifact:Object(D.f)(e)})}}),[i,null===y||void 0===y?void 0:y.id]);var E=Object(u.useCallback)((function(){var e;null===b||void 0===b||b(),null===(e=nt)||void 0===e||e(),S({type:"reset"})}),[b,S]),F=Object(u.useCallback)((function(e){var t,a,n=e.setKey?N[e.setKey]:L;function c(e,t,a){return e&&t.includes(e)?e:null!==a&&void 0!==a?a:t[0]}e.setKey&&(e.numStars=c(null===y||void 0===y?void 0:y.numStars,n.rarity,Math.max.apply(Math,Object(s.a)(n.rarity))),e.slotKey=c(null===y||void 0===y?void 0:y.slotKey,Object.keys(n.slotNames))),e.numStars&&(e.level=null!==(t=null===y||void 0===y?void 0:y.level)&&void 0!==t?t:0),e.level&&(e.level=Object(D.a)(e.level,0,4*(null!==(a=e.numStars)&&void 0!==a?a:y.numStars))),e.slotKey&&(e.mainStatKey=c(null===y||void 0===y?void 0:y.mainStatKey,P.a.slotMainStats(e.slotKey))),e.mainStatKey&&(e.substats=[0,1,2,3].map((function(t){return y&&y.substats[t].key!==e.mainStatKey?y.substats[t]:{key:"",value:0}}))),S({type:"update",artifact:e})}),[y,N,L,S]),T=Object(u.useCallback)((function(e,t){S({type:"substat",index:e,substat:t})}),[S]),_=Object(u.useMemo)((function(){return function(e){var t,a;if(!e)return{isDup:!1};var n=e.id,c=e.setKey,r=e.numStars,i=e.level,s=e.slotKey,l=e.mainStatKey,o=e.substats;if(n)return{isDup:!1};var u=Object.values(I.a.getArtifactDatabase()).filter((function(e){return c===e.setKey&&r===e.numStars&&s===e.slotKey&&l===e.mainStatKey&&i>=e.level&&e.substats.every((function(e){return!e.key||o.some((function(t){return t.key===e.key&&t.value>=e.value}))}))}));if(!u.length)return{isDup:!1};var j=u.filter((function(e){return i===e.level&&o.every((function(t){return!t.key||e.substats.some((function(e){return t.key===e.key&&t.value===e.value}))}))}));return{dupId:null!==(t=null===(a=j[0])||void 0===a?void 0:a.id)&&void 0!==t?t:u[0].id,isDup:j.length>0}}(y)}),[y]),z=_.dupId,B=_.isDup,J=null!==y&&void 0!==y?y:{},Y=J.numStars,Z=void 0===Y?5:Y,ee=J.level,te=void 0===ee?0:ee,ae=J.slotKey,ne=void 0===ae?"flower":ae,ce=y?P.a.substatsValidation(y):[],re=y?P.a.getArtifactEfficiency(y,ct):{},ie=re.currentEfficiency,se=void 0===ie?0:ie,oe=re.maximumEfficiency,ue=void 0===oe?0:oe;return Object(le.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",children:[Object(le.jsx)(d.a.Header,{children:Object(le.jsx)(k.a,{t:x,i18nKey:"editor.title",children:"Artifact Editor"})}),Object(le.jsxs)(d.a.Body,{children:[Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{xs:12,lg:6,children:[Object(le.jsxs)(O.a,{className:"w-100 d-flex mb-2",children:[Object(le.jsxs)(h.a,{as:O.a.Prepend,className:"flex-grow-1",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:y?"success":"primary",children:null!==(t=null===L||void 0===L?void 0:L.name)&&void 0!==t?t:x(Oe||(Oe=Object(n.a)(["editor.set.artifactSet"])))}),Object(le.jsx)(h.a.Menu,{children:N&&$.a.namesByMaxRarities(N).map((function(e,t){var a=Object(r.a)(e,2),n=a[0],c=a[1];return Object(le.jsxs)(j.a.Fragment,{children:[t>0&&Object(le.jsx)(h.a.Divider,{}),Object(le.jsx)(h.a.ItemText,{children:Object(le.jsxs)(k.a,{t:x,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",Object(le.jsx)(A.a,{stars:n})]})}),c.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(le.jsx)(h.a.Item,{onClick:function(){return F({setKey:a})},children:n},a)}))]},n)}))})]}),Object(le.jsx)(W.a,{as:O.a.Append,title:y?Object(le.jsx)(A.a,{stars:Z}):x(xe||(xe=Object(n.a)(["editor.rarity"]))),disabled:!L,variant:y?"success":"primary",children:[5,4,3].map((function(e,t){return Object(le.jsx)(h.a.Item,{disabled:!(null===L||void 0===L?void 0:L.rarity.includes(e)),onClick:function(){return F({numStars:e})},children:Object(le.jsx)(A.a,{stars:e})},t)}))})]}),Object(le.jsxs)(O.a,{className:"mb-2",children:[Object(le.jsx)(O.a.Prepend,{children:Object(le.jsx)(O.a.Text,{children:x(me||(me=Object(n.a)(["editor.level"])))})}),Object(le.jsx)(C.a,{value:te,disabled:!L,placeholder:"0~".concat(4*Z),onChange:function(e){return F({level:e})}}),Object(le.jsxs)(O.a.Append,{children:[Object(le.jsx)(f.a,{onClick:function(){return F({level:te-1})},disabled:!L||0===te,children:"-"}),Z?Object(s.a)(Array(Z+1).keys()).map((function(e){return 4*e})).map((function(e){return Object(le.jsx)(f.a,{onClick:function(){return F({level:e})},disabled:!L||te===e,children:e},e)})):null,Object(le.jsx)(f.a,{onClick:function(){return F({level:te+1})},disabled:!L||te===4*Z,children:"+"})]})]}),Object(le.jsxs)(O.a,{className:"mb-2",children:[Object(le.jsx)(W.a,{title:Object(le.jsx)(Q.b,{slotKey:ne}),disabled:!L,variant:y?"success":"primary",as:O.a.Prepend,children:Object.keys(null!==(a=null===L||void 0===L?void 0:L.slotNames)&&void 0!==a?a:{}).map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return F({slotKey:e})},children:Object(le.jsx)(Q.b,{slotKey:e})},e)}))}),Object(le.jsx)(q.a,{value:null!==(c=null===L||void 0===L?void 0:L.slotNames[y.slotKey])&&void 0!==c?c:x(ve||(ve=Object(n.a)(["editor.unknownPieceName"]))),disabled:!0,readOnly:!0})]}),Object(le.jsxs)(O.a,{className:"mb-2",children:[Object(le.jsxs)(W.a,{title:Object(le.jsx)("b",{children:y?M.a.getStatNameWithPercent(y.mainStatKey):x(pe||(pe=Object(n.a)(["mainStat"])))}),disabled:!L,variant:y?"success":"primary",as:O.a.Prepend,children:[Object(le.jsx)(h.a.ItemText,{children:x(ye||(ye=Object(n.a)(["editor.mainSelect"])))}),P.a.slotMainStats(ne).map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return F({mainStatKey:e})},children:M.a.getStatNameWithPercent(e)},e)}))]}),Object(le.jsx)(q.a,{value:y?"".concat(P.a.mainStatValue(y.mainStatKey,Z,te)).concat(M.a.getStatUnit(y.mainStatKey)):x(ge||(ge=Object(n.a)(["mainStat"]))),disabled:!0,readOnly:!0})]}),Object(le.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(le.jsx)(d.a.Body,{className:"py-1 px-2",children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{className:"text-center",children:x(Se||(Se=Object(n.a)(["editor.curSubEff"])))}),Object(le.jsxs)(p.a,{xs:"auto",children:[Object(le.jsx)(X.a,{valid:!ce.length,value:ce.length?"ERR":se}),Object(le.jsx)(V.a,{placement:"bottom",overlay:Object(le.jsxs)(H.a,{id:"current-efficiency",children:[Object(le.jsx)(H.a.Title,{as:"h5",children:x(we||(we=Object(n.a)(["editor.curSubEff"])))}),Object(le.jsx)(H.a.Content,{children:Object(le.jsx)(k.a,{t:x,i18nKey:"editor.curSubEffDesc"})})]}),children:Object(le.jsx)(o.a,{icon:l.s,className:"ml-2",style:{cursor:"help"}})})]})]})})}),Object(le.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(le.jsx)(d.a.Body,{className:"py-1 px-2",children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{className:"text-center",children:x(ke||(ke=Object(n.a)(["editor.maxSubEff"])))}),Object(le.jsxs)(p.a,{xs:"auto",children:[Object(le.jsx)(X.a,{valid:!ce.length,value:ce.length?"ERR":ue}),Object(le.jsx)(V.a,{placement:"bottom",overlay:Object(le.jsxs)(H.a,{id:"max-efficiency",children:[Object(le.jsx)(H.a.Title,{as:"h5",children:x(Ne||(Ne=Object(n.a)(["editor.maxSubEff"])))}),Object(le.jsx)(H.a.Content,{children:Object(le.jsx)(k.a,{t:x,i18nKey:"editor.maxSubEffDesc"})})]}),children:Object(le.jsx)(o.a,{icon:l.s,className:"ml-2",style:{cursor:"help"}})})]})]})})})]}),Object(le.jsx)(p.a,{xs:12,lg:6,children:[0,1,2,3].map((function(e){return Object(le.jsx)(it,{className:"mb-2",index:e,artifact:y,setSubstat:T},e)}))})]}),Object(le.jsxs)(g.a,{className:"mb-n2",children:[Object(le.jsx)(p.a,{xs:12,className:"mb-2",children:Object(le.jsx)(je,{setState:function(e){return S({type:"overwrite",artifact:e})},setReset:function(e){return nt=e},artifactInEditor:K})}),(z||(null===y||void 0===y?void 0:y.id))&&Object(le.jsx)(p.a,{xs:12,className:"mb-2",children:Object(le.jsxs)(g.a,{className:"d-flex justify-content-around mb-n2",children:[Object(le.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(le.jsx)("h6",{className:"text-center",children:x(Ke||(Ke=Object(n.a)(["editor.preview"])))}),Object(le.jsx)("div",{children:Object(le.jsx)(U.a,{artifactObj:y})})]}),Object(le.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(le.jsx)("h6",{className:"text-center",children:x(z?B?Ce||(Ce=Object(n.a)(["editor.dupArt"])):Ae||(Ae=Object(n.a)(["editor.upArt"])):Ie||(Ie=Object(n.a)(["editor.beforeEdit"])))}),Object(le.jsx)("div",{children:Object(le.jsx)(U.a,{artifactId:z||(null===y||void 0===y?void 0:y.id)})})]})]})}),Boolean(ce.length)&&Object(le.jsx)(p.a,{xs:12,className:"mb-2",children:Object(le.jsx)(G.a,{variant:"danger",className:"py-2 px-3 mb-0 ",children:ce.map((function(e,t){return Object(le.jsx)("div",{children:e},t)}))})})]})]}),Object(le.jsxs)(d.a.Footer,{children:[Object(le.jsx)(f.a,{className:"mr-2",onClick:function(){jt(y,y.id),E()},disabled:I.a.isInvalid(y)||ce.length,variant:z?"warning":"primary",children:(null===y||void 0===y?void 0:y.id)?x(Le||(Le=Object(n.a)(["editor.btnSave"]))):x(Ee||(Ee=Object(n.a)(["editor.btnAdd"])))}),Object(le.jsx)(f.a,{className:"mr-2",disabled:!K,onClick:function(){window.confirm(x(he||(he=Object(n.a)(["editor.clearPrompt"]))))&&E()},variant:"success",children:x(Me||(Me=Object(n.a)(["editor.btnClear"])))}),!1,Boolean(z)&&Object(le.jsx)(f.a,{className:"float-right",onClick:function(){jt(y,z),E()},disabled:I.a.isInvalid(y)||ce.length,variant:"success",children:x(Fe||(Fe=Object(n.a)(["editor.btnUpdate"])))})]})]})}function it(e){var t,a=e.index,c=e.artifact,r=e.setSubstat,i=e.className,s=Object(w.a)("artifact").t,l=null!==c&&void 0!==c?c:{},o=l.mainStatKey,u=void 0===o?"":o,j=l.substats,x=void 0===j?[]:j,m=null!==(t=null===c||void 0===c?void 0:c.substats[a])&&void 0!==t?t:{},v=m.key,y=void 0===v?"":v,S=m.value,N=void 0===S?0:S,K=m.rolls,A=void 0===K?[]:K,I=m.efficiency,L=void 0===I?0:I,E=A.reduce((function(e,t){return e+t}),0),T=M.a.getStatUnit(y),R=A.length,D="",U=[],_=0,z=null;if(c){var B=c.numStars,q=P.a.rollInfo(B),V=q.numUpgrades,H=q.high;_=V+H-3-R,U=P.a.getSubstatRollData(y,B)}var G=7-U.length;if(!R&&y&&N&&(D=D||s(Te||(Te=Object(n.a)(["editor.substat.error.noCalc"])))),_<0&&(D=D||s("editor.substat.error.noOverRoll",{value:_+R})),!D){var $=Object(le.jsx)(J.a,{variant:0===R?"secondary":"".concat(R,"roll"),className:"text-darkcontent",children:R?s("editor.substat.RollCount",{count:R}):s(Re||(Re=Object(n.a)(["editor.substat.noRoll"])))}),Q=A.map((function(e,t){return Object(le.jsx)("span",{className:"mr-2 text-".concat(G+U.indexOf(e),"roll"),children:Object(Y.a)(e,T)},t)}));z=Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{children:[$," ",Q]}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsxs)(k.a,{t:s,i18nKey:"editor.substat.eff",children:["Efficiency: ",Object(le.jsx)(X.a,{valid:!0,value:L||s(De||(De=Object(n.a)(["editor.substat.noStat"])))})]})})]})}return Object(le.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",className:i,children:[Object(le.jsxs)(O.a,{children:[Object(le.jsxs)(W.a,{title:y?M.a.getStatNameWithPercent(y):s("editor.substat.substatFormat",{value:a+1}),disabled:!c,variant:y?"success":"primary",as:O.a.Prepend,children:[Boolean(y)&&Object(le.jsx)(h.a.Item,{onClick:function(){return r(a,{key:"",value:0})},children:s(Pe||(Pe=Object(n.a)(["editor.substat.noSubstat"])))},y),F.b.filter((function(e){return u!==e&&x.every((function(t){return t.key!==e}))})).map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return r(a,{key:e,value:0})},children:M.a.getStatNameWithPercent(e)},e)}))]}),Object(le.jsx)(C.a,{float:"%"===T,placeholder:s(Ue||(Ue=Object(n.a)(["editor.substat.selectSub"]))),value:y?N:"",onChange:function(e){return r(a,{key:y,value:e})},disabled:!y,allowEmpty:!0}),Object(le.jsx)(b.a,{size:"sm",as:O.a.Append,children:U.map((function(e,t){var n=Object(Y.a)(E+e,T);return Object(le.jsx)(f.a,{variant:"".concat(G+t,"roll"),className:"py-0 text-darkcontent",disabled:N&&!R||_<=0,onClick:function(){return r(a,{key:y,value:parseFloat(n)})},children:n},t)}))})]}),Object(le.jsxs)("div",{className:"p-1",children:[D&&Object(le.jsx)(J.a,{variant:"danger",children:s(_e||(_e=Object(n.a)(["ui:error"])))})," ",D||z]})]})}function st(e,t){switch(t.type){case"reset":return;case"substat":var a=t.index,n=t.substat;return e.substats[a]=n,Object(i.a)({},e);case"overwrite":return t.artifact;case"update":return Object(i.a)(Object(i.a)({},e),t.artifact)}}var lt,ot,ut,jt=function(e,t){var a=Object(D.f)(e);if(t){var n=I.a.get(t);n&&(a.id=n.id,a.location=n.location)}I.a.update(a)},dt=j.a.lazy((function(){return a.e(21).then(a.bind(null,320))})),bt=["quality","level","efficiency","mefficiency"],ft=function(){return{filterArtSetKey:"",filterStars:[3,4,5],filterLevelLow:0,filterLevelHigh:20,filterSlotKey:"",filterMainStatKey:"",filterSubstats:["","","",""],filterLocation:"",filterLocked:"",ascending:!1,sortType:bt[0],maxNumArtifactsToDisplay:50,effFilter:Object(s.a)(F.b)}};function ht(e,t){return"reset"===t.type?Object(i.a)(Object(i.a)({},ft()),{},{effFilter:e.effFilter}):Object(i.a)(Object(i.a)({},e),t)}function Ot(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return Object(i.a)(Object(i.a)({},t),null!==(e=Object(D.n)("ArtifactDisplay.state"))&&void 0!==e?e:{})}function xt(e){var t,a,_,z=Object(w.a)(["artifact","ui"]).t,B=Object(u.useReducer)(ht,ft(),Ot),W=Object(r.a)(B,2),q=W[0],V=W[1],H=q.effFilter,G=Object(u.useState)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.artToEditId),J=Object(r.a)(G,2),Y=J[0],X=J[1],Z=Object(u.useState)(0),ee=Object(r.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(u.useRef)(null),ce=Object(u.useRef)(null),re=Object(R.a)(),ie=Object(r.a)(re,2),se=ie[0],oe=ie[1],ue=Object(R.b)($.a.getAll()),je=Object(u.useMemo)((function(){return new Set(H)}),[H]),de=Object(u.useCallback)((function(e){var t=I.a.get(e);t&&t.location&&L.a.equipArtifactOnSlot(t.location,t.slotKey,""),I.a.removeArtifactById(e)}),[]),be=Object(u.useCallback)((function(e){var t;X(e),null===ne||void 0===ne||null===(t=ne.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[]),fe=Object(u.useCallback)((function(){return X(null)}),[]);Object(u.useEffect)((function(){return S.a.pageview("/artifact"),I.a.registerListener(oe),function(){return I.a.unregisterListener(oe)}}),[oe]),Object(u.useEffect)((function(){Object(D.r)("ArtifactDisplay.state",q)}),[q]);var he,Oe,xe=Object(u.useMemo)((function(){var e,t=q.filterArtSetKey,a=q.filterSlotKey,n=q.filterMainStatKey,r=q.filterStars,s=q.filterLevelLow,l=q.filterLevelHigh,o=q.filterSubstats,u=void 0===o?ft().filterSubstats:o,j=q.filterLocation,d=void 0===j?"":j,b=q.filterLocked,f=void 0===b?"":b,h=q.sortType,O=void 0===h?bt[0]:h,x=q.ascending,m=void 0!==x&&x,v=I.a.getArtifactDatabase()||{},p=Object.values(v).filter((function(e){if(f){if("locked"===f&&!e.lock)return!1;if("unlocked"===f&&e.lock)return!1}if("Inventory"===d){if(e.location)return!1}else if("Equipped"===d){if(!e.location)return!1}else if(d&&d!==e.location)return!1;if(t&&t!==e.setKey)return!1;if(a&&a!==e.slotKey)return!1;if(n&&n!==e.mainStatKey)return!1;if(e.level<s||e.level>l)return!1;if(!r.includes(e.numStars))return!1;var i,o=Object(c.a)(u);try{var j=function(){var t=i.value;if(t&&!e.substats.some((function(e){return e.key===t})))return{v:!1}};for(o.s();!(i=o.n()).done;){var b=j();if("object"===typeof b)return b.v}}catch(h){o.e(h)}finally{o.f()}return!0})).map((function(e){switch(O){case"quality":return{value:[e.numStars],art:e};case"level":return{value:[e.level,e.numStars],art:e};case"efficiency":return{value:[P.a.getArtifactEfficiency(e,je).currentEfficiency],art:e};case"mefficiency":return{value:[P.a.getArtifactEfficiency(e,je).maximumEfficiency],art:e}}return{value:[0],art:e}})).sort((function(e,t){for(var a=0;a<e.value.length;a++)if(e.value[a]!==t.value[a])return(e.value[a]-t.value[a])*(m?1:-1);return 0})).map((function(e){return e.art})),y=p.reduce((function(e,t){return e+(t.location?1:0)}),0),g=p.reduce((function(e,t){return e+(t.lock?1:0)}),0),S=p.length-g;return Object(i.a)({artifacts:p,totalArtNum:(null===(e=Object.keys(v))||void 0===e?void 0:e.length)||0,numUnequip:y,numUnlock:g,numLock:S},se)}),[q,se,je]),me=xe.artifacts,ve=xe.totalArtNum,pe=xe.numUnequip,ye=xe.numUnlock,ge=xe.numLock,Se=q.filterArtSetKey,we=q.filterSlotKey,ke=q.filterMainStatKey,Ne=q.filterStars,Ke=q.filterLevelLow,Ce=q.filterLevelHigh,Ae=q.filterSubstats,Ie=void 0===Ae?ft().filterSubstats:Ae,Le=q.maxNumArtifactsToDisplay,Ee=q.filterLocation,Me=void 0===Ee?"":Ee,Fe=q.filterLocked,Te=void 0===Fe?"":Fe,Re=q.sortType,De=void 0===Re?bt[0]:Re,Pe=q.ascending,Ue=void 0!==Pe&&Pe,_e=Object(u.useMemo)((function(){var e=Math.ceil(me.length/Le),t=Object(D.a)(te,0,e-1);return{artifactsToShow:me.slice(t*Le,(t+1)*Le),numPages:e,currentPageIndex:t}}),[me,te,Le]),ze=_e.artifactsToShow,Be=_e.numPages,We=_e.currentPageIndex,qe=Object(R.b)(N.b.get(Me));he=Me?"Inventory"===Me?z("locationDisplay",{value:z("filterLocation.inventory")}):"Equipped"===Me?z("filterLocation.currentlyEquipped"):Object(le.jsx)("b",{children:null===qe||void 0===qe?void 0:qe.name}):z("locationDisplay",{value:z("filterLocation.any")}),Oe="locked"===Te?Object(le.jsxs)("span",{children:[Object(le.jsx)(o.a,{icon:l.o})," ",z(lt||(lt=Object(n.a)(["lock.locked"])))]}):"unlocked"===Te?Object(le.jsxs)("span",{children:[Object(le.jsx)(o.a,{icon:l.p})," ",z(ot||(ot=Object(n.a)(["lock.unlocked"])))]}):z("lockDisplay",{value:z("lock.any")});var Ve=Object(u.useMemo)((function(){var e=me.length!==ve?"".concat(me.length,"/").concat(ve):"".concat(ve);return Object(le.jsx)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(le.jsx)(d.a.Body,{children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)(b.a,{size:"sm",children:Object(s.a)(Array(Be).keys()).map((function(e){return Object(le.jsxs)(f.a,{className:"px-3",variant:We===e?"success":"primary",onClick:function(){var t;ae(e),null===(t=ce.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:[0===e?"Page ":"",e+1]},e)}))})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsxs)(k.a,{t:z,i18nKey:"showingNum",count:ze.length,value:e,children:["Showing ",Object(le.jsx)("b",{children:{count:ze.length}})," out of ",{value:e}," Artifacts"]})})]})})})}),[Be,We,ze.length,me.length,ve,z]);return Object(le.jsxs)(y.a,{className:"mt-2",children:[Object(le.jsx)(E.a,{pageKey:"artifactPage",modalTitle:z(ut||(ut=Object(n.a)(["info.title"]))),text:z("tipsOfTheDay",{returnObjects:!0}),children:Object(le.jsx)(dt,{})}),Object(le.jsx)("div",{className:"mb-2",ref:ne,children:Object(le.jsx)(rt,{artifactIdToEdit:Y,cancelEdit:fe})}),Object(le.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ce,children:[Object(le.jsx)(d.a.Header,{children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)("span",{children:Object(le.jsx)(k.a,{t:z,i18nKey:"artifactFilter",children:"Artifact Filter"})})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return V({type:"reset"})},children:[Object(le.jsx)(o.a,{icon:l.F,className:"fa-fw"})," ",Object(le.jsx)(k.a,{t:z,i18nKey:"resetFilters"})]})})]})}),Object(le.jsxs)(d.a.Body,{children:[Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{xs:12,lg:6,children:[Object(le.jsxs)(h.a,{as:O.a.Prepend,className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:Se?"success":"primary",children:null!==(a=null===ue||void 0===ue||null===(_=ue[Se])||void 0===_?void 0:_.name)&&void 0!==a?a:z("editor.set.artifactSet")}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterArtSetKey:""})},children:Object(le.jsx)(k.a,{t:z,i18nKey:"ui:unselect",children:"Unselect"})}),ue&&$.a.namesByMaxRarities(ue).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(le.jsxs)(j.a.Fragment,{children:[Object(le.jsx)(h.a.Divider,{}),Object(le.jsxs)(h.a.ItemText,{children:["Max Rarity ",Object(le.jsx)(A.a,{stars:a})]}),n.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterArtSetKey:a})},children:n},a)}))]},a)}))]})]}),Object(le.jsx)(x.a,{className:"w-100 d-flex mb-2",type:"checkbox",as:O.a.Append,onChange:function(e){return V({filterStars:e})},value:Ne,children:T.a.map((function(e){var t=Ne.includes(e);return Object(le.jsxs)(m.a,{value:e,variant:t?"success":"primary",children:[Object(le.jsx)(o.a,{icon:t?l.b:l.y})," ",Object(le.jsx)(A.a,{stars:e})]},e)}))}),Object(le.jsxs)(O.a,{className:"mb-2",children:[Object(le.jsx)(O.a.Prepend,{children:Object(le.jsx)(O.a.Text,{children:Object(le.jsx)("span",{children:Object(le.jsxs)(k.a,{t:z,i18nKey:"filterLevelFormat",children:["Level ",Object(le.jsx)("span",{className:"text-".concat(Ke>0?"success":""),children:"Low"}),"/",Object(le.jsx)("span",{className:"text-".concat(Ce<20?"success":""),children:"High"})," (Inclusive)"]})})})}),Object(le.jsx)(C.a,{value:Ke,placeholder:z("ui:game.minLevel"),onChange:function(e){return V({filterLevelLow:Object(D.a)(e,0,Ce)})}}),Object(le.jsx)(C.a,{value:Ce,placeholder:z("ui:game.maxLevel"),onChange:function(e){return V({filterLevelHigh:Object(D.a)(e,Ke,20)})}})]}),Object(le.jsxs)(b.a,{className:"w-100 d-flex flex-row mb-2",children:[Object(le.jsxs)(h.a,{as:b.a,className:"flex-grow-1",children:[Object(le.jsx)(h.a.Toggle,{children:Object(le.jsx)("span",{children:Object(le.jsxs)(k.a,{t:z,i18nKey:"ui:sortByFormat",value:z("sortMap.".concat(De)),children:["Sort By: ",{value:z("sortMap.".concat(De))}]})})}),Object(le.jsx)(h.a.Menu,{children:bt.map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return V({sortType:e})},children:z("sortMap.".concat(e))},e)}))})]}),Object(le.jsxs)(f.a,{onClick:function(){return V({ascending:!Ue})},className:"flex-shrink-1",children:[Object(le.jsx)(o.a,{icon:Ue?l.w:l.x,className:"fa-fw"}),Object(le.jsxs)("span",{children:[" ",Ue?Object(le.jsx)(k.a,{t:z,i18nKey:"ui:ascending",children:"Ascending"}):Object(le.jsx)(k.a,{t:z,i18nKey:"ui:descending",children:"Descending"})]})]})]})]}),Object(le.jsx)(p.a,{xs:12,lg:6,children:Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{children:[Object(le.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:we?"success":"primary",children:we?Object(le.jsx)(Q.b,{slotKey:we}):z("slot")}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterSlotKey:""})},children:Object(le.jsx)(k.a,{t:z,i18nKey:"ui:unselect",children:"Unselect"})}),T.h.map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterSlotKey:e})},children:Object(le.jsx)(Q.b,{slotKey:e})},e)}))]})]}),Object(le.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:ke?"success":"primary",children:M.a.getStatNameWithPercent(ke,z("mainStat"))}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterMainStatKey:""})},children:Object(le.jsx)(k.a,{t:z,i18nKey:"ui:unselect",children:"Unselect"})}),F.a.map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterMainStatKey:e})},children:M.a.getStatNameWithPercent(e)},e)}))]})]}),Object(le.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:Me?"success":"primary",children:he}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterLocation:""})},children:Object(le.jsx)(k.a,{t:z,i18nKey:"ui:unselect",children:"Unselect"})}),Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterLocation:"Inventory"})},children:Object(le.jsx)(k.a,{t:z,i18nKey:"filterLocation.inventory",children:"Inventory"})}),Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterLocation:"Equipped"})},children:Object(le.jsx)(k.a,{t:z,i18nKey:"filterLocation.currentlyEquipped",children:"Currently Equipped"})}),Object(le.jsx)(h.a.Divider,{}),Object(le.jsx)(K.a,{onSelect:function(e){return V({filterLocation:e})}})]})]}),Object(le.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:Te?"success":"primary",children:Oe}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterLocked:""})},children:Object(le.jsx)(k.a,{t:z,i18nKey:"lock.any",children:"Any"})}),Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterLocked:"locked"})},children:Object(le.jsxs)("span",{children:[Object(le.jsx)(o.a,{icon:l.o})," ",Object(le.jsx)(k.a,{t:z,i18nKey:"lock.locked",children:"Locked"})]})}),Object(le.jsx)(h.a.Item,{onClick:function(){return V({filterLocked:"unlocked"})},children:Object(le.jsxs)("span",{children:[Object(le.jsx)(o.a,{icon:l.p})," ",Object(le.jsx)(k.a,{t:z,i18nKey:"lock.unlocked",children:"Unlocked"})]})})]})]})]}),Object(le.jsx)(p.a,{children:Ie.map((function(e,t){return Object(le.jsxs)(h.a,{className:"mb-2",children:[Object(le.jsx)(h.a.Toggle,{id:"dropdown-basic",className:"w-100",variant:e?"success":"primary",children:e?M.a.getStatNameWithPercent(e):z("editor.substat.substatFormat",{value:t+1})}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){Ie[t]="",V({filterSubstats:Ie})},children:Object(le.jsx)(k.a,{t:z,i18nKey:"editor.substat.noSubstat",children:"No Substat"})}),P.a.getSubstatKeys().filter((function(e){return!Ie.includes(e)})).map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){Ie[t]=e,V({filterSubstats:Ie})},children:M.a.getStatNameWithPercent(e)},e)}))]})]},t)}))})]})})]}),Object(le.jsxs)(g.a,{className:"mb-n2",children:[Object(le.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(le.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!pe,onClick:function(){return window.confirm("Are you sure you want to unequip ".concat(pe," artifacts currently equipped on characters?"))&&me.map((function(e){return P.a.unequipArtifact(e.id)}))},children:[Object(le.jsx)(o.a,{icon:l.G})," ",Object(le.jsx)(k.a,{t:z,i18nKey:"button.unequipArtifacts",children:"Unequip Artifacts"})]})}),Object(le.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(le.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!me.length,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(me.length," artifacts?"))&&me.map((function(e){return I.a.removeArtifactById(e.id)}))},children:[Object(le.jsx)(o.a,{icon:l.D})," ",Object(le.jsx)(k.a,{t:z,i18nKey:"button.deleteArtifacts",children:"Delete Artifacts"})]})}),Object(le.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(le.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ge,onClick:function(){return window.confirm("Are you sure you want to lock ".concat(ge," artifacts?"))&&me.map((function(e){return I.a.setLocked(e.id,!0)}))},children:[Object(le.jsx)(o.a,{icon:l.o})," ",Object(le.jsx)(k.a,{t:z,i18nKey:"button.lockArtifacts",children:"Lock Artifacts"})]})}),Object(le.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(le.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ye,onClick:function(){return window.confirm("Are you sure you want to unlock ".concat(ye," artifacts?"))&&me.map((function(e){return I.a.setLocked(e.id,!1)}))},children:[Object(le.jsx)(o.a,{icon:l.p})," ",Object(le.jsx)(k.a,{t:z,i18nKey:"button.unlockArtifacts",children:"Unlock Artifacts"})]})}),Object(le.jsx)(p.a,{xs:12,className:"mt-n2",children:Object(le.jsx)("small",{children:Object(le.jsxs)(k.a,{t:z,i18nKey:"buttonHint",children:["Note: the above buttons only applies to ",Object(le.jsx)("b",{children:"filtered artifacts"})]})})})]})]})]}),Object(le.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ce,children:[Object(le.jsx)(d.a.Header,{children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)("span",{children:Object(le.jsx)(k.a,{t:z,i18nKey:"efficiencyFilter.title",children:"Efficiency Filter"})})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return V({effFilter:Object(s.a)(F.b)})},children:[Object(le.jsx)(o.a,{icon:l.F,className:"fa-fw"})," ",Object(le.jsx)(k.a,{t:z,i18nKey:"ui:reset"})]})})]})}),Object(le.jsx)(d.a.Body,{children:Object(le.jsx)(v.a,{as:g.a,className:"w-100 d-flex flex-row",children:[[0,6],[6]].map((function(e){return Object(le.jsx)(x.a,{as:p.a,type:"checkbox",value:H,onChange:function(e){return V({effFilter:e})},className:"flex-grow-1 mb-2",children:F.b.slice.apply(F.b,Object(s.a)(e)).map((function(e){return Object(le.jsx)(m.a,{value:e,variant:H.includes(e)?"success":"primary",children:M.a.getStatNameWithPercent(e)},e)}))},e.toString())}))})})]}),Ve,Object(le.jsx)(g.a,{children:ze.map((function(e,t){return Object(le.jsx)(p.a,{lg:4,md:6,className:"mb-2",children:Object(le.jsx)(U.a,{artifactId:e.id,effFilter:je,onDelete:function(){return de(e.id)},onEdit:function(){return be(e.id)}})},t)}))}),Be>1&&Ve]})}}}]);
//# sourceMappingURL=14.b682e110.chunk.js.map