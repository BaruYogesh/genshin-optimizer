(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[4],{169:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(163),i=a(106),r=a(168),o=a(76),l=a(167),c=a(16),v=a(60),s=a(61),u=a(184),d=a(166),f=a(197),m=a(209),p=a(165),h=a(29),L=a(26),g=a(194),b=a(190),y=a(204),O=a(90),_=a(9),S=a(187),j=function(){function e(){if(Object(v.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(s.a)(e,null,[{key:"remove",value:function(e){var t=L.a.get(e);t&&(Object.values(t.equippedArtifacts).forEach((function(e){return h.a.moveToNewLocation(e,"")})),L.a.remove(e))}},{key:"getDisplayHeading",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anemo";if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var i,r,o=e.split("talentKey_")[1];return null!==(i=null===t||void 0===t||null===(r=t.getTalentOfKey(o,n))||void 0===r?void 0:r.name)&&void 0!==i?i:o}if(e.startsWith("weapon_")){var l,c=e.split("weapon_")[1];return null!==(l=null===a||void 0===a?void 0:a.name)&&void 0!==l?l:c}return""}}]),e}();j.getElementalName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===p.a||void 0===p.a||null===(t=p.a[e])||void 0===t?void 0:t.name)||a},j.getlevelKeys=function(){return Object.keys(m.b)},j.getlevelTemplateName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===m.b||void 0===m.b||null===(t=m.b[e])||void 0===t?void 0:t.name)||a},j.getLevelString=function(e,t,a){var n=j.getStatValueWithOverride(e,t,a,"characterLevel");return j.getLevel(e.levelKey)===n?j.getlevelTemplateName(e.levelKey):"Lvl. ".concat(n)},j.getIndexFromlevelkey=function(e){return j.getlevelKeys().indexOf(e)},j.getLevel=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(null===m.b||void 0===m.b||null===(t=m.b[e])||void 0===t?void 0:t.level)||a},j.getAscension=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===m.b||void 0===m.b||null===(t=m.b[e])||void 0===t?void 0:t.asend)||a},j.getTalentFieldValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(null===e||void 0===e?void 0:e[t])?Object(_.h)(null===e||void 0===e?void 0:e[t],a):n},j.hasOverride=function(e,t){return"finalHP"===t?j.hasOverride(e,"hp")||j.hasOverride(e,"hp_")||j.hasOverride(e,"characterHP")||!1:"finalDEF"===t?j.hasOverride(e,"def")||j.hasOverride(e,"def_")||j.hasOverride(e,"characterDEF")||!1:"finalATK"===t?j.hasOverride(e,"atk")||j.hasOverride(e,"atk_")||j.hasOverride(e,"characterATK")||!1:!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},j.getBaseStatValue=function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=e.levelKey;return"specializedStatKey"===n?t.specializeStat.key:"specializedStatVal"===n?t.specializeStat.value[j.getIndexFromlevelkey(r)]:"weaponATK"===n?S.a.getWeaponMainStatValWithOverride(null===e||void 0===e?void 0:e.weapon,a):"characterLevel"===n||"enemyLevel"===n?j.getLevel(r):n.includes("enemyRes_")?10:n in m.c?m.c[n]:n in t.baseStat?t.baseStat[n][j.getIndexFromlevelkey(r)]:i},j.getStatValueWithOverride=function(e,t,a,n){var i,r,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return j.hasOverride(e,n)?null!==(i=null===e||void 0===e||null===(r=e.baseStatOverrides)||void 0===r?void 0:r[n])&&void 0!==i?i:o:j.getBaseStatValue(e,t,a,n,o)},j.equipArtifacts=function(e,t){var a=L.a.get(e);if(a){var n=a.equippedArtifacts;O.h.forEach((function(a){var i,r,o=h.a.get(t[a]);if((null===o||void 0===o?void 0:o.location)!==e){var l=h.a.get(null===n||void 0===n?void 0:n[a]),c=null!==(i=null===o||void 0===o?void 0:o.location)&&void 0!==i?i:"";l&&h.a.moveToNewLocation(l.id,c),c&&L.a.equipArtifactOnSlot(c,a,null!==(r=null===l||void 0===l?void 0:l.id)&&void 0!==r?r:""),o&&h.a.moveToNewLocation(o.id,e)}})),L.a.equipArtifactBuild(e,t)}},j.calculateBuild=function(e,t,a,n){var i,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.artifacts?i=Object.fromEntries(e.artifacts.map((function(e,t){return[t,e]}))):e.equippedArtifacts&&(i=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return[a,h.a.get(n)]}))));var o=j.createInitialStats(e,t,a);return o.mainStatAssumptionLevel=r,j.calculateBuildwithArtifact(o,i,n)},j.calculateBuildwithArtifact=function(e,t,a){var n,i=u.a.setToSlots(t),r=d.a.setEffectsStats(a,e,i),o=Object(_.f)(e);Object.values(t).forEach((function(e){e&&(o[e.mainStatKey]=(o[e.mainStatKey]||0)+u.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(o.mainStatAssumptionLevel,4*e.numStars),e.level)),e.substats.forEach((function(e){return e&&e.key&&(o[e.key]=(o[e.key]||0)+e.value)})))})),r.forEach((function(e){return o[e.key]=(o[e.key]||0)+e.value})),f.a.parseConditionalValues({artifact:null===o||void 0===o||null===(n=o.conditionalValues)||void 0===n?void 0:n.artifact},(function(e,t,a){var n,r,l=Object(c.a)(a,2)[1],v=e.setNumKey;if(!(parseInt(v)>(null!==(n=null===i||void 0===i||null===(r=i[l])||void 0===r?void 0:r.length)&&void 0!==n?n:0))){var s=f.a.resolve(e,o,t).stats;Object.entries(s).forEach((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return o[a]=(o[a]||0)+n}))}})),o.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),o.setToSlots=i;var l=Object(y.a)(null===o||void 0===o?void 0:o.modifiers);return Object(b.c)(l,o).formula(o),o},j.mergeStats=function(e,t){return t&&Object.entries(t).forEach((function(t){var a=Object(c.a)(t,2),n=a[0],i=a[1];if("modifiers"===n){var r;e.modifiers=null!==(r=e.modifiers)&&void 0!==r?r:{};var o,v=Object(l.a)(Object.entries(i));try{for(v.s();!(o=v.n()).done;){var s,u=Object(c.a)(o.value,2),d=u[0],f=u[1];e.modifiers[d]=null!==(s=e.modifiers[d])&&void 0!==s?s:{};var m,p=Object(l.a)(Object.entries(f));try{for(p.s();!(m=p.n()).done;){var h,L=Object(c.a)(m.value,2),g=L[0],b=L[1];e.modifiers[d][g]=(null!==(h=e.modifiers[d][g])&&void 0!==h?h:0)+b}}catch(y){p.e(y)}finally{p.f()}}}catch(y){v.e(y)}finally{v.f()}}else void 0===e[n]?e[n]=i:"number"===typeof e[n]&&(e[n]+=i)}))},j.createInitialStats=function(e,t,a){var l,v,s,u,d=e=Object(_.f)(e),p=d.characterKey,h=d.elementKey,L=d.levelKey,g=d.hitMode,b=d.infusionAura,y=d.reactionMode,A=d.talentLevelKeys,w=d.constellation,E=d.equippedArtifacts,K=d.conditionalValues,k=void 0===K?{}:K,W=d.weapon,V=void 0===W?{key:"",refineIndex:0}:W,T=j.getAscension(L),I=["characterHP","characterATK","characterDEF","weaponATK","characterLevel","enemyLevel","physical_enemyRes_","physical_enemyImmunity"].concat(Object(o.a)(Object.keys(m.c))),x=Object.fromEntries(I.map((function(n){return[n,j.getStatValueWithOverride(e,t,a,n)]})));x.characterEle=null!==(l=null!==(v=t.elementKey)&&void 0!==v?v:h)&&void 0!==l?l:"anemo",x.characterKey=p,x.hitMode=g,x.infusionAura=b,x.reactionMode=y,x.conditionalValues=k,x.weaponType=t.weaponTypeKey,x.tlvl=A,x.constellation=w,x.ascension=T;var M=V.key,R=V.refineIndex;x.weapon={key:M,refineIndex:R},x.equippedArtifacts=E,["physical"].concat(Object(o.a)(O.d)).forEach((function(n){var i="".concat(n,"_enemyRes_");x[i]=j.getStatValueWithOverride(e,t,a,i),i="".concat(n,"_enemyImmunity"),x[i]=j.getStatValueWithOverride(e,t,a,i)}));var z=(null===(s=e)||void 0===s?void 0:s.baseStatOverrides)||{};Object.entries(z).forEach((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];"specializedStatKey"!==a&&"specializedStatVal"!==a&&(x.hasOwnProperty(a)||(x[a]=n))}));var q=j.getStatValueWithOverride(e,t,a,"specializedStatVal"),D=j.getStatValueWithOverride(e,t,a,"specializedStatKey");for(var P in j.mergeStats(x,Object(r.a)({},D,q)),t.getTalentStatsAll(x,x.characterEle).forEach((function(e){return j.mergeStats(x,e)})),x.tlvl){var B;x.tlvl[P]+=null!==(B=x["".concat(P,"Boost")])&&void 0!==B?B:0}var F=S.a.getWeaponSubstatKey(a);F&&j.mergeStats(x,Object(r.a)({},F,S.a.getWeaponSubstatValWithOverride(null===(u=e)||void 0===u?void 0:u.weapon,a))),j.mergeStats(x,a.stats(x));k.artifact;var N=k.weapon,H=Object(i.a)(k,["artifact","weapon"]);return f.a.parseConditionalValues(Object(n.a)(Object(n.a)({},V.key&&{weapon:Object(r.a)({},V.key,null===N||void 0===N?void 0:N[V.key])}),H),(function(e,t,a){if(f.a.canShow(e,x)){var n=f.a.resolve(e,x,t).stats;j.mergeStats(x,n)}})),x},j.getDisplayStatKeys=function(e,t){var a=e.characterEle,i=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(a,"_dmg_")];t.isAutoElemental||i.push("physical_dmg_");var r=Object(_.f)(b.a[a]),o=t.weaponTypeKey;r.includes("shattered_hit")||"claymore"!==o||r.push("shattered_hit");var l={},v=t.getTalent(a);v&&Object.entries(v.formula).forEach((function(t){var a=Object(c.a)(t,2),n=a[0],i=a[1];Object.values(i).forEach((function(t){if(t.field.canShow(e)){"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto");var a="talentKey_".concat(n);l[a]||(l[a]=[]),l[a].push(t.keys)}}))}));var s=g.a.formulas.weapon[e.weapon.key];return s&&Object.values(s).forEach((function(t){if(t.field.canShow(e)){var a="weapon_".concat(e.weapon.key);l[a]||(l[a]=[]),l[a].push(t.keys)}})),Object(n.a)(Object(n.a)({basicKeys:i},l),{},{transReactions:r})}},177:function(e,t,a){"use strict";var n={elements:{anemo:a.p+"static/media/Element_Anemo.f809fde3.png",cryo:a.p+"static/media/Element_Cryo.019d72f9.png",dendro:a.p+"static/media/Element_Dendro.8ee0f26d.png",electro:a.p+"static/media/Element_Electro.342332ac.png",geo:a.p+"static/media/Element_Geo.b7e865c6.png",hydro:a.p+"static/media/Element_Hydro.f2f8bd8a.png",pyro:a.p+"static/media/Element_Pyro.f65c2e38.png"},weaponTypes:{bow:a.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:a.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:a.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:a.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:a.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:a.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:a.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:a.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:a.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:a.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},187:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(60),i=a(203),r=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};r.getLevelName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.a[e]||t},r.getLevelIndex=function(e){return i.b.indexOf(e)},r.getWeaponMainStatVal=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.baseStats.main[r.getLevelIndex(t)]||a},r.getWeaponSubstatVal=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(a=e.baseStats.sub)||void 0===a?void 0:a[r.getLevelIndex(t)])||n},r.getWeaponSubstatKey=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=e.baseStats)||void 0===t?void 0:t.substatKey)||a},r.getWeaponTypeName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.c[e]||t},r.getWeaponTypeKeys=function(){return Object.keys(i.c)},r.getWeaponMainStatValWithOverride=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.overrideMainVal)||r.getWeaponMainStatVal(t,null===e||void 0===e?void 0:e.levelKey,a)},r.getWeaponSubstatValWithOverride=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.overrideSubVal)||r.getWeaponSubstatVal(t,null===e||void 0===e?void 0:e.levelKey,a)}},194:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(60),i=a(9),r=Promise.all([a.e(5),a.e(19)]).then(a.bind(null,273)).then((function(e){o.formulas=e.default,Object(i.e)(e.default,[],(function(e){return"function"===typeof e}),(function(e,t){return e.keys=t}))})),o=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};o.formulas={},o.get=function(e){return r.then((function(){return Object(i.q)(o.formulas,e)}))}},203:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r}));var n=["L1","L5","L10","L15","L20","L20A","L25","L30","L35","L40","L40A","L45","L50","L50A","L55","L60","L60A","L65","L70","L70A","L75","L80","L80A","L85","L90"],i={L1:"Lvl. 1",L5:"Lvl. 5",L10:"Lvl. 10",L15:"Lvl. 15",L20:"Lvl. 20",L20A:"Lvl. 20/40",L25:"Lvl. 25",L30:"Lvl. 30",L35:"Lvl. 35",L40:"Lvl. 40",L40A:"Lvl. 40/50",L45:"Lvl. 45",L50:"Lvl. 50",L50A:"Lvl. 50/60",L55:"Lvl. 55",L60:"Lvl. 60",L60A:"Lvl. 60/70",L65:"Lvl. 65",L70:"Lvl. 70",L70A:"Lvl. 70/80",L75:"Lvl. 75",L80:"Lvl. 80",L80A:"Lvl. 80/90",L85:"Lvl. 85",L90:"Lvl. 90"},r={sword:"Sword",claymore:"Claymore",catalyst:"Catalyst",bow:"Bow",polearm:"Polearm"}},204:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(16);var n=a(76),i=a(190);function r(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a)}}),new Proxy({},{get:function(e,a,n){t.add(a)}})),Object(n.a)(t)}var o=Object.freeze(Object.fromEntries(Object.keys(i.b).map((function(e){return[e,r(i.b[e])]}))));function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(i.d),a=new Set;return t.forEach((function(t){return c(t,e,a)})),Object(n.a)(a)}function c(e,t,a){var n,i;a.has(e)||(null===(n=o[e])||void 0===n||n.forEach((function(e){return c(e,t,a)})),Object.keys(null!==(i=t[e])&&void 0!==i?i:{}).forEach((function(e){return c(e,t,a)})),a.add(e))}},209:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));var n={L1:{name:"Lv. 1",level:1,asend:0},L20:{name:"Lv. 20",level:20,asend:0},L20A:{name:"Lv. 20/40",level:20,asend:1},L40:{name:"Lv. 40",level:40,asend:1},L40A:{name:"Lv. 40/50",level:40,asend:2},L50:{name:"Lv. 50",level:50,asend:2},L50A:{name:"Lv. 50/60",level:50,asend:3},L60:{name:"Lv. 60",level:60,asend:3},L60A:{name:"Lv. 60/70",level:60,asend:4},L70:{name:"Lv. 70",level:70,asend:4},L70A:{name:"Lv. 70/80",level:70,asend:5},L80:{name:"Lv. 80",level:80,asend:5},L80A:{name:"Lv. 80/90",level:80,asend:6},L90:{name:"Lv. 90",level:90,asend:6}},i={critRate_:5,critDMG_:50,enerRech_:100,stamina:100},r=["hp_","atk_","def_","eleMas","enerRech_","heal_","critRate_","critDMG_","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_"]}}]);
//# sourceMappingURL=4.184026eb.chunk.js.map