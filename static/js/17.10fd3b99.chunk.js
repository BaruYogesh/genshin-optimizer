(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[17],{276:function(e,t,a){"use strict";var n=a(10),c=a(467),r=Object(n.a)(c.a)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.a=r},278:function(e,t,a){"use strict";var n=a(10),c=a(467),r=Object(n.a)(c.a)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.a=r},279:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),c=a(3),r=a(132),o=a(989),i=a(272),l=a(170),s=a(961),u=a(1),d=a(0);function b(e){var t=e.title,a=e.children,b=e.id,j=void 0===b?"dropdownbtn":b,O=Object(r.a)(e,["title","children","id"]),h=Object(u.useState)(null),f=Object(c.a)(h,2),p=f[0],v=f[1],m=Boolean(p),x=Object(u.useCallback)((function(e){return v(e.currentTarget)}),[v]),g=Object(u.useCallback)((function(){return v(null)}),[v]);return Object(d.jsxs)(u.Suspense,{fallback:Object(d.jsx)(i.a,Object(n.a)(Object(n.a)({endIcon:Object(d.jsx)(o.a,{})},O),{},{children:Object(d.jsx)(l.a,{width:50})})),children:[Object(d.jsx)(i.a,Object(n.a)(Object(n.a)({},O),{},{id:j,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":m?"true":void 0,onClick:x,endIcon:Object(d.jsx)(o.a,{}),children:t})),Object(d.jsx)(s.a,{id:"basic-menu",anchorEl:p,open:m,onClose:g,MenuListProps:{"aria-labelledby":j},onClick:g,children:Object(d.jsx)(u.Suspense,{fallback:Object(d.jsx)(l.a,{width:"100%",height:"1000"}),children:a})})]})}},281:function(e,t,a){"use strict";var n=a(10),c=Object(n.a)("span",{name:"SqBadge",slot:"Root"})((function(e){var t,a,n=e.theme,c=e.color,r=void 0===c?"primary":c;return{display:"inline-block",padding:".25em .4em",fontSize:"75%",fontWeight:700,lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:null===(t=n.palette[r])||void 0===t?void 0:t.main,color:null===(a=n.palette[r])||void 0===a?void 0:a.contrastText}}));t.a=c},282:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(11),c=a(51),r=a(17),o=a(79),i=a(0),l=function(){return Object(i.jsx)(r.a,{icon:c.A})},s=function(e){var t=e.stars,a=e.colored,c=void 0!==a&&a;return Object(i.jsx)(o.a,{color:c?"warning.main":void 0,component:"span",children:t?Object(n.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(l,{},t)})):null})}},283:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(132),c=a(7),r=a(5),o=a(3),i=a(23),l=a(81),s=a(134),u=a(114),d=a(47),b=a(63),j=a(48),O=a(307),h=a(42),f=a(15),p=a(141),v=function e(){if(Object(i.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};v.getElementalName=function(e){return b.a[e].name},v.getLevelString=function(e){return"".concat(e.level,"/").concat(d.b[e.ascension])},v.getTalentFieldValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(f.f)(e[t],a):n},v.hasBonusStats=function(e,t){return"finalHP"===t?v.hasBonusStats(e,"hp")||v.hasBonusStats(e,"hp_")||v.hasBonusStats(e,"characterHP"):"finalDEF"===t?v.hasBonusStats(e,"def")||v.hasBonusStats(e,"def_")||v.hasBonusStats(e,"characterDEF"):"finalATK"===t?v.hasBonusStats(e,"atk")||v.hasBonusStats(e,"atk_")||v.hasBonusStats(e,"characterATK"):!!(null===e||void 0===e?void 0:e.bonusStats)&&t in e.bonusStats},v.getStatValueWithBonus=function(e,t){var a,n,c,r,o;return h.e.includes(t)?null!==(a=null!==(n=null===(c=e.bonusStats)||void 0===c?void 0:c[t])&&void 0!==n?n:Object(h.a)(e)[t])&&void 0!==a?a:0:null!==(r=null===(o=e.bonusStats)||void 0===o?void 0:o[t])&&void 0!==r?r:0},v.calculateBuild=function(e,t,a,n,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var a=Object(o.a)(e,2),n=a[0],c=a[1];return[n,t._getArt(c)]}))),l=v.createInitialStats(e,t,a,n);return l.mainStatAssumptionLevel=r,v.calculateBuildwithArtifact(l,i,c)},v.calculateBuildwithArtifact=function(e,t,a){var n,c=l.a.setToSlots(t),i=s.a.setEffectsStats(a,e,c),d=Object(f.d)(e);Object.values(t).forEach((function(e){e&&(d[e.mainStatKey]=(d[e.mainStatKey]||0)+l.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(d.mainStatAssumptionLevel,4*e.rarity),e.level)),e.substats.forEach((function(e){return e&&e.key&&(d[e.key]=(d[e.key]||0)+e.value)})))})),Object(h.d)(d,i),u.a.parseConditionalValues({artifact:null===d||void 0===d||null===(n=d.conditionalValues)||void 0===n?void 0:n.artifact},(function(e,t,a){var n,r,i=Object(o.a)(a,3),l=i[1],s=i[2];if(!(parseInt(s)>(null!==(n=null===c||void 0===c||null===(r=c[l])||void 0===r?void 0:r.length)&&void 0!==n?n:0))){var b=u.a.resolve(e,d,t).stats;Object(h.d)(d,b)}})),d.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),d.setToSlots=c;var b=Object(O.a)(d,null===d||void 0===d?void 0:d.modifiers),p=Object(j.c)(b,d),v=p.initialStats;return(0,p.formula)(v),Object(r.a)(Object(r.a)({},d),v)},v.createInitialStats=function(e,t,a,i){var l,s,d,b=e.key,j=e.bonusStats,O=void 0===j?{}:j,f=e.elementKey,v=e.level,m=e.ascension,x=e.hitMode,g=e.infusionAura,y=e.reactionMode,C=e.talent,S=e.constellation,w=e.equippedArtifacts,k=e.conditionalValues,K=void 0===k?{}:k,T=e.equippedWeapon,E=null!==(l=t._getWeapon(T))&&void 0!==l?l:Object(p.a)(a.weaponTypeKey),A=Object.fromEntries(Object.entries(O).filter((function(e){var t=Object(o.a)(e,1)[0];return h.e.includes(t)}))),I=Object.fromEntries(Object.entries(O).filter((function(e){var t=Object(o.a)(e,1)[0];return!h.e.includes(t)}))),_=Object(h.a)(e);_.characterKey=b,_.characterLevel=v,_.characterHP=a.getBase("characterHP",v,m),_.characterDEF=a.getBase("characterDEF",v,m),_.characterATK=a.getBase("characterATK",v,m),_.characterEle=null!==(s=null!==(d=a.elementKey)&&void 0!==d?d:f)&&void 0!==s?s:"anemo",_.hitMode=x,_.infusionAura=g,_.reactionMode=y,_.conditionalValues=K,_.weaponType=a.weaponTypeKey,_.tlvl=Object.fromEntries(Object.entries(null!==C&&void 0!==C?C:{}).map((function(e){var t=Object(o.a)(e,2);return[t[0],t[1]-1]}))),_.constellation=S,_.ascension=m,_.weapon={key:E.key,refineIndex:E.refinement-1},_.equippedArtifacts=w,_=Object(r.a)(Object(r.a)({},_),A),Object(h.d)(_,I);var M=a.getSpecializedStat(m);if(M){var z=a.getSpecializedStatVal(m);Object(h.d)(_,Object(c.a)({},M,z))}for(var B in a.getTalentStatsAll(_,_.characterEle).forEach((function(e){return Object(h.d)(_,e)})),_.tlvl){var V;_.tlvl[B]+=null!==(V=_["".concat(B,"Boost")])&&void 0!==V?V:0}var R=i.getMainStatValue(E.level,E.ascension);_.weaponATK=R;var D=i.getSubStatKey();D&&Object(h.d)(_,Object(c.a)({},D,i.getSubStatValue(E.level,E.ascension))),Object(h.d)(_,i.stats(_));K.artifact;var N=K.weapon,H=Object(n.a)(K,["artifact","weapon"]);return u.a.parseConditionalValues(Object(r.a)(Object(r.a)({},E.key&&{weapon:Object(c.a)({},E.key,null===N||void 0===N?void 0:N[E.key])}),H),(function(e,t,a){if(("character"!==a[0]||"talents"!==a[3]||a[4]===f)&&u.a.canShow(e,_)){var n=u.a.resolve(e,_,t).stats;Object(h.d)(_,n)}})),_},v.getDisplayStatKeys=function(e,t){var a=t.characterSheet,n=t.weaponSheet,c=t.artifactSheets,i=e.characterEle,l=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(i,"_dmg_")];a.isAutoElemental||l.push("physical_dmg_");var s=Object(f.d)(j.a[i]),d=a.weaponTypeKey;s.includes("shattered_hit")||"claymore"!==d||s.push("shattered_hit");var b={},O=a.getTalent(i),h=function(t,a){return t.forEach((function(t){var n;t.formula&&(null===t||void 0===t||null===(n=t.canShow)||void 0===n?void 0:n.call(t,e))&&(b[a]||(b[a]=[]),b[a].push(t.formula.keys))}))},p=function(t,a){if(t.conditional&&u.a.canShow(t.conditional,e)){var n=u.a.resolve(t.conditional,e,null).fields;n&&h(n,a)}t.fields&&h(t.fields,a)};O&&Object.entries(O.sheets).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1].sections;"normal"!==a&&"charged"!==a&&"plunging"!==a||(a="auto"),n.forEach((function(e){return p(e,"talentKey_".concat(a))}))}));var v="weapon_".concat(e.weapon.key);return n.document&&n.document.map((function(e){return p(e,v)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(o.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1],r=c[a];r&&Object.entries(r.setEffects).forEach((function(e){var t=Object(o.a)(e,2),c=t[0],r=t[1].document;n<parseInt(c)||r&&r.map((function(e){return p(e,"artifact_".concat(a,"_").concat(c))}))}))})),Object(r.a)(Object(r.a)({basicKeys:l},b),{},{transReactions:s})}},284:function(e,t,a){"use strict";var n={weaponTypes:{bow:a.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:a.p+"static/media/icon_catalyst.db078b7b.png",claymore:a.p+"static/media/icon_claymore.63b1abb8.png",polearm:a.p+"static/media/icon_polearm.e5f4a2a1.png",sword:a.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:a.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:a.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:a.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:a.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:a.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},285:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n,c=a(5),r=a(46),o=a(132),i=a(987),l=a(272),s=a(131),u=a(0);function d(e){var t=e.large,a=void 0!==t&&t,d=Object(o.a)(e,["large"]),b=Object(s.a)("ui").t;return a?Object(u.jsx)(l.a,Object(c.a)(Object(c.a)({color:"error",startIcon:Object(u.jsx)(i.a,{})},d),{},{children:b(n||(n=Object(r.a)(["close"])))})):Object(u.jsx)(l.a,Object(c.a)(Object(c.a)({color:"error",sx:{p:1,minWidth:0}},d),{},{children:Object(u.jsx)(i.a,{})}))}},288:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(5),c=a(132),r=a(10),o=a(261),i=a(274),l=a(468),s=a(170),u=a(1),d=a(276),b=a(0),j=Object(r.a)(o.a)((function(e){var t=e.theme;return{overflow:"scroll",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)}})),O=Object(r.a)(i.a)((function(e){e.theme;return{padding:0,minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center",pointerEvents:"none","& > *":{pointerEvents:"auto"}}}));function h(e){var t=e.children,a=e.containerProps,r=Object(c.a)(e,["children","containerProps"]);return Object(b.jsx)(j,Object(n.a)(Object(n.a)({},r),{},{children:Object(b.jsx)(O,Object(n.a)(Object(n.a)({},a),{},{children:Object(b.jsx)(u.Suspense,{fallback:Object(b.jsx)(d.a,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(s.a,{variant:"rectangular",width:"100%",height:300})})}),children:t})}))}))}},289:function(e,t,a){"use strict";var n=a(10),c=a(1008),r=Object(n.a)(c.a,{shouldForwardProp:function(e){return"baseColor"!==e}})((function(e){var t=e.theme,a=e.baseColor,n=void 0===a?"primary":a,c=e.selectedColor,r=void 0===c?"success":c;return{"& .MuiToggleButtonGroup-grouped":{"&":{backgroundColor:t.palette[n].main,color:t.palette[n].contrastText},"&:hover":{backgroundColor:t.palette[n].dark},"&.Mui-selected":{backgroundColor:t.palette[r].main,color:t.palette[r].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[r].dark},"&.Mui-disabled":{backgroundColor:t.palette[n].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[r].dark}}}}));t.a=r},290:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(3),c=a(1);function r(){var e=Object(c.useState)({}),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,Object(c.useCallback)((function(){return r({})}),[])]}},299:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(3),c=a(71),r=a(281),o=a(20),i=a(15),l=a(0);function s(e,t){var a=t.characterSheet,c=t.weaponSheet,o=t.artifactSheets,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"anemo";if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var s,u,d=e.split("talentKey_")[1];return null!==(s=null===a||void 0===a||null===(u=a.getTalentOfKey(d,i))||void 0===u?void 0:u.name)&&void 0!==s?s:d}if(e.startsWith("weapon_")){var b,j=e.split("weapon_")[1];return null!==(b=null===c||void 0===c?void 0:c.name)&&void 0!==b?b:j}if(e.startsWith("artifact_")){var O,h=e.split("_"),f=Object(n.a)(h,3),p=f[1],v=f[2];return Object(l.jsxs)("span",{children:[null===(O=o[p])||void 0===O?void 0:O.name," ",Object(l.jsxs)(r.a,{color:"success",children:[v,"-Set"]})]})}return""}function u(e){return{key:e,level:1,ascension:0,hitMode:"avgHit",reactionMode:"",equippedArtifacts:Object(i.o)(o.h,(function(){return""})),equippedWeapon:"",conditionalValues:{},bonusStats:{},buildSettings:Object(c.a)(),talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0}}},304:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),c=a(132),r=a(1013),o=a(1),i=a(284),l=a(20),s=a(98),u=a(289),d=a(0);function b(e){var t=e.value,a=e.onChange,b=Object(c.a)(e,["value","onChange"]),j=Object(o.useCallback)((function(e,t){return a(t||"")}),[a]);return Object(d.jsx)(u.a,Object(n.a)(Object(n.a)({exclusive:!0,onChange:j,value:t||l.j},b),{},{children:l.j.map((function(e){var t;return Object(d.jsx)(r.a,{value:e,children:Object(d.jsx)(s.a,{src:null===(t=i.a.weaponTypes)||void 0===t?void 0:t[e],size:2})},e)}))}))}},305:function(e,t,a){"use strict";function n(e){var t=e.condition,a=e.wrapper,n=e.children;return t?a(n):n}a.d(t,"a",(function(){return n}))},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(3),c=a(11),r=a(83),o=a(48);function i(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a.toString())}})),Object(c.a)(t)}var l=Object.freeze(Object.fromEntries(Object.entries(o.b).map((function(e){var t=Object(n.a)(e,2);return[t[0],i(t[1])]}))));function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(o.d),n=new Set,r=Object(c.a)(Array(o.f)).map((function(e){return new Set}));return a.forEach((function(a){return u(e,a,t,r,n)})),r.flatMap((function(e){return Object(c.a)(e)}))}function u(e,t,a,n,c){var i,s;c.has(t)||(c.add(t),null===(i=l[t])||void 0===i||i.forEach((function(t){return u(e,t,a,n,c)})),(null!==(s=a[t])&&void 0!==s?s:[]).forEach((function(t){return r.a.getCurrent(t,e)[1].forEach((function(t){return u(e,t,a,n,c)}))})),n[Object(o.e)(t)].add(t))}},309:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n=a(3);function c(e,t,a){function n(e,t,a,n){var c=n.getValue(e),r=n.getValue(t);return(a?-1:1)*("string"===typeof c&&"string"===typeof r?c.localeCompare(r):r-c)}return function(c,r){if(!a[e])return 0;var o=a[e],i=n(c,r,t,o);return!i&&o.tieBreaker&&a[o.tieBreaker]&&(i=n(c,r,t,a[o.tieBreaker])),i}}function r(e,t){return function(a){return Object.entries(e).every((function(e){var c=Object(n.a)(e,2),r=c[0],o=c[1];return t[r](a,o)}))}}},310:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(5),c=a(132),r=a(51),o=a(17),i=a(962),l=a(1012),s=a(272),u=a(131),d=a(95),b=a(279),j=a(0);function O(e){var t=e.sortKeys,a=e.value,O=e.onChange,h=e.ascending,f=e.onChangeAsc,p=Object(c.a)(e,["sortKeys","value","onChange","ascending","onChangeAsc"]),v=Object(u.a)("ui").t;return Object(j.jsxs)(i.a,Object(n.a)(Object(n.a)({},p),{},{children:[Object(j.jsx)(b.a,{title:Object(j.jsxs)(d.a,{t:v,i18nKey:"sortByFormat",value:v("sortMap.".concat(a)),children:["Sort By: ",{value:v("sortMap.".concat(a))}]}),children:t.map((function(e){return Object(j.jsx)(l.a,{selected:a===e,disabled:a===e,onClick:function(){return O(e)},children:v("sortMap.".concat(e))},e)}))}),Object(j.jsx)(s.a,{onClick:function(){return f(!h)},startIcon:Object(j.jsx)(o.a,{icon:h?r.x:r.y,className:"fa-fw"}),children:h?Object(j.jsx)(d.a,{t:v,i18nKey:"ascending",children:"Ascending"}):Object(j.jsx)(d.a,{t:v,i18nKey:"descending",children:"Descending"})})]}))}},332:function(e,t,a){"use strict";a.d(t,"a",(function(){return B}));var n=a(11),c=a(3),r=a(468),o=a(265),i=a(254),l=a(398),s=a(221),u=a(79),d=a(1),b=a(134),j=a(284),O=a(283),h=a(136),f=a(174),p=a(133),v=a(20),m=a(333),x=a(309),g=a(137),y=a(278),C=a(276),S=a(285),w=a(98),k=a(288),K=a(310),T=a(281),E=a(282),A=a(135),I=a(334),_=a(304),M=a(0),z=["level","rarity","name"];function B(e){var t=e.show,a=e.onHide,l=e.onSelect,s=e.filter,u=void 0===s?function(){return!0}:s,b=e.newFirst,j=void 0!==b&&b,O=Object(d.useMemo)((function(){return j?["new"].concat(z):z}),[j]),g=Object(d.useContext)(f.b),C=Object(d.useState)(O[0]),w=Object(c.a)(C,2),T=w[0],E=w[1],A=Object(d.useState)(!1),B=Object(c.a)(A,2),R=B[0],D=B[1],N=Object(d.useState)(""),H=Object(c.a)(N,2),W=H[0],P=H[1],L=Object(d.useState)(""),F=Object(c.a)(L,2),G=F[0],q=F[1],U=Object(p.a)(h.b.getAll(),[]),Y=Object(d.useMemo)((function(){return U&&Object(m.b)(g,U)}),[g,U]),J=Object(d.useMemo)((function(){return U&&Object(m.a)(U)}),[U]),Q=Object(d.useMemo)((function(){return U&&Y&&J?Object(n.a)(new Set(v.c)).filter((function(e){return u(g._getChar(e),U[e])})).filter(Object(x.a)({element:W,weaponType:G},J)).sort(Object(x.b)(T,R,Y)):[]}),[g,U,u,W,G,T,R,Y,J]);return U?Object(M.jsx)(k.a,{open:t,onClose:a,children:Object(M.jsxs)(y.a,{children:[Object(M.jsx)(r.a,{sx:{py:1},children:Object(M.jsxs)(o.a,{container:!0,spacing:1,children:[Object(M.jsx)(o.a,{item:!0,children:Object(M.jsx)(_.a,{sx:{height:"100%"},onChange:q,value:G,size:"small"})}),Object(M.jsx)(o.a,{item:!0,flexGrow:1,children:Object(M.jsx)(I.a,{sx:{height:"100%"},onChange:P,value:W,size:"small"})}),Object(M.jsx)(o.a,{item:!0,flexGrow:1}),Object(M.jsx)(o.a,{item:!0,children:Object(M.jsx)(K.a,{sx:{height:"100%"},sortKeys:O,value:T,onChange:E,ascending:R,onChangeAsc:D})}),Object(M.jsx)(o.a,{item:!0,children:Object(M.jsx)(S.a,{onClick:a})})]})}),Object(M.jsx)(i.a,{}),Object(M.jsx)(r.a,{children:Object(M.jsx)(o.a,{container:!0,spacing:1,children:Q.map((function(e){return Object(M.jsx)(o.a,{item:!0,xs:6,md:4,lg:3,children:Object(M.jsx)(V,{characterKey:e,onClick:function(){a(),null===l||void 0===l||l(e)}},e)},e)}))})})]})}):null}function V(e){var t,a=e.onClick,n=e.characterKey,c=Object(d.useContext)(f.b),r=c._getChar(n),o=Object(p.a)(h.b.get(n),[n]),i=(null===r||void 0===r?void 0:r.equippedWeapon)?c._getWeapon(r.equippedWeapon):void 0,v=Object(p.a)(i?g.a.get(i.key):void 0,[null===i||void 0===i?void 0:i.key]),m=Object(p.a)(b.a.getAll(),[]),x=Object(d.useMemo)((function(){return r&&o&&v&&m&&O.a.calculateBuild(r,c,o,v,m)}),[r,o,v,m,c]);if(!o)return null;var y=o.star;return Object(M.jsx)(l.a,{onClick:a,children:Object(M.jsxs)(C.a,{sx:{display:"flex",alignItems:"center"},children:[Object(M.jsx)(s.a,{component:"img",src:o.thumbImg,sx:{width:130,height:"auto"},className:"grad-".concat(y,"star")}),Object(M.jsxs)(s.a,{sx:{pl:1},children:[Object(M.jsx)(u.a,{children:Object(M.jsx)("strong",{children:o.name})}),x&&r?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(u.a,{variant:"h6",children:[" ",o.elementKey&&A.a[o.elementKey]," ",Object(M.jsx)(w.a,{src:null===(t=j.a.weaponTypes)||void 0===t?void 0:t[o.weaponTypeKey]})," ",O.a.getLevelString(r)]}),Object(M.jsxs)(u.a,{children:[Object(M.jsx)(T.a,{color:"success",children:"C".concat(r.constellation)})," ",Object(M.jsx)(T.a,{color:"secondary",children:Object(M.jsx)("strong",{children:x.tlvl.auto+1})})," ",Object(M.jsx)(T.a,{color:x.skillBoost?"info":"secondary",children:Object(M.jsx)("strong",{children:x.tlvl.skill+1})})," ",Object(M.jsx)(T.a,{color:x.burstBoost?"info":"secondary",children:Object(M.jsx)("strong",{children:x.tlvl.burst+1})})]})]}):Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(u.a,{variant:"h6",children:Object(M.jsx)(T.a,{color:"primary",children:"NEW"})})}),Object(M.jsx)("small",{children:Object(M.jsx)(E.a,{stars:o.star,colored:!0})})]})]})})}},333:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n=["level","rarity","name"];function c(e,t){return{new:{getValue:function(t){return e._getChar(t)?0:1},tieBreaker:"name"},name:{getValue:function(e){return e}},level:{getValue:function(t){var a,n;return null!==(a=null===(n=e._getChar(t))||void 0===n?void 0:n.level)&&void 0!==a?a:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var a;return null===t||void 0===t||null===(a=t[e])||void 0===a?void 0:a.star},tieBreaker:"level"}}}function r(e){return{element:function(t,a){var n;return!a||a===(null===e||void 0===e||null===(n=e[t])||void 0===n?void 0:n.elementKey)},weaponType:function(t,a){var n;return!a||a===(null===e||void 0===e||null===(n=e[t])||void 0===n?void 0:n.weaponTypeKey)}}}},334:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),c=a(132),r=a(1013),o=a(221),i=a(1),l=a(20),s=a(289),u=a(135),d=a(0);function b(e){var t=e.value,a=e.onChange,b=Object(c.a)(e,["value","onChange"]),j=Object(i.useCallback)((function(e,t){return a(t||"")}),[a]);return Object(d.jsx)(s.a,Object(n.a)(Object(n.a)({exclusive:!0,onChange:j,value:t||l.d},b),{},{children:l.d.map((function(e){return Object(d.jsx)(r.a,{value:e,children:Object(d.jsx)(o.a,{sx:{fontSize:"2em",lineHeight:1},children:u.b[e]})},e)}))}))}},354:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(3),c=a(51),r=a(17),o=a(265),i=a(79),l=a(272),s=a(468),u=a(254),d=a(170),b=a(1),j=a(82),O=a(15),h=a(278),f=a(285),p=a(288),v=a(96),m=a(0);function x(e){var t,a,x=e.pageKey,g=void 0===x?"":x,y=e.text,C=void 0===y?"":y,S=e.modalTitle,w=void 0===S?"":S,k=e.children,K=Object(b.useState)(null===(t=null===(a=j.b.get("infoShown"))||void 0===a?void 0:a[g])||void 0===t||t),T=Object(n.a)(K,2),E=T[0],A=T[1],I=Object(b.useState)(Array.isArray(C)?Object(O.g)(C):C),_=Object(n.a)(I,1)[0],M=function(){var e,t=null!==(e=j.b.get("infoShown"))&&void 0!==e?e:{};t[g]=!1,j.b.set("infoShown",t),A(!1)};return Object(m.jsxs)(h.a,{children:[Object(m.jsxs)(o.a,{container:!0,children:[Object(m.jsx)(o.a,{item:!0,flexGrow:1,children:Object(m.jsx)(i.a,{variant:"caption",pl:1,children:_})}),Object(m.jsx)(o.a,{item:!0,xs:"auto",children:Object(m.jsx)(l.a,{size:"small",color:"info",variant:"contained",onClick:function(){return A(!0)},startIcon:Object(m.jsx)(r.a,{icon:c.v}),children:Object(m.jsx)(v.a,{ns:"ui",key18:"info"})})})]}),Object(m.jsx)(p.a,{containerProps:{maxWidth:"xl"},open:E,onClose:function(){return M()},children:Object(m.jsxs)(h.a,{children:[Object(m.jsx)(s.a,{sx:{py:1},children:Object(m.jsxs)(o.a,{container:!0,children:[Object(m.jsx)(o.a,{item:!0,flexGrow:1,children:Object(m.jsx)(i.a,{variant:"h6",children:w})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(f.a,{onClick:M})})]})}),Object(m.jsx)(u.a,{}),Object(m.jsx)(s.a,{children:Object(m.jsx)(b.Suspense,{fallback:Object(m.jsx)(d.a,{variant:"rectangular",width:"100%",height:500}),children:k})}),Object(m.jsx)(u.a,{}),Object(m.jsx)(s.a,{sx:{py:1},children:Object(m.jsx)(f.a,{large:!0,onClick:M})})]})})]})}},396:function(e,t,a){"use strict";var n=a(7),c=a(9),r=a(2),o=a(1),i=(a(4),a(8)),l=a(110),s=a(93),u=a(69),d=a(0),b=Object(u.a)(Object(d.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),j=a(34),O=a(13),h=a(219),f=a(12),p=a(10),v=a(94),m=a(111);function x(e){return Object(v.a)("MuiChip",e)}var g=Object(m.a)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),y=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],C=Object(p.a)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState,c=a.color,r=a.clickable,o=a.onDelete,i=a.size,l=a.variant;return[Object(n.a)({},"& .".concat(g.avatar),t.avatar),Object(n.a)({},"& .".concat(g.avatar),t["avatar".concat(Object(O.a)(i))]),Object(n.a)({},"& .".concat(g.avatar),t["avatarColor".concat(Object(O.a)(c))]),Object(n.a)({},"& .".concat(g.icon),t.icon),Object(n.a)({},"& .".concat(g.icon),t["icon".concat(Object(O.a)(i))]),Object(n.a)({},"& .".concat(g.icon),t["iconColor".concat(Object(O.a)(c))]),Object(n.a)({},"& .".concat(g.deleteIcon),t.deleteIcon),Object(n.a)({},"& .".concat(g.deleteIcon),t["deleteIcon".concat(Object(O.a)(i))]),Object(n.a)({},"& .".concat(g.deleteIcon),t["deleteIconColor".concat(Object(O.a)(c))]),Object(n.a)({},"& .".concat(g.deleteIcon),t["deleteIconOutlinedColor".concat(Object(O.a)(c))]),t.root,t["size".concat(Object(O.a)(i))],t["color".concat(Object(O.a)(c))],r&&t.clickable,r&&"default"!==c&&t["clickableColor".concat(Object(O.a)(c),")")],o&&t.deletable,o&&"default"!==c&&t["deletableColor".concat(Object(O.a)(c))],t[l],"outlined"===l&&t["outlined".concat(Object(O.a)(c))]]}})((function(e){var t,a=e.theme,c=e.ownerState,o=Object(s.a)(a.palette.text.primary,.26);return Object(r.a)((t={fontFamily:a.typography.fontFamily,fontSize:a.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:a.palette.text.primary,backgroundColor:a.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:a.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},Object(n.a)(t,"&.".concat(g.disabled),{opacity:a.palette.action.disabledOpacity,pointerEvents:"none"}),Object(n.a)(t,"& .".concat(g.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===a.palette.mode?a.palette.grey[700]:a.palette.grey[300],fontSize:a.typography.pxToRem(12)}),Object(n.a)(t,"& .".concat(g.avatarColorPrimary),{color:a.palette.primary.contrastText,backgroundColor:a.palette.primary.dark}),Object(n.a)(t,"& .".concat(g.avatarColorSecondary),{color:a.palette.secondary.contrastText,backgroundColor:a.palette.secondary.dark}),Object(n.a)(t,"& .".concat(g.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:a.typography.pxToRem(10)}),Object(n.a)(t,"& .".concat(g.icon),Object(r.a)({color:"light"===a.palette.mode?a.palette.grey[700]:a.palette.grey[300],marginLeft:5,marginRight:-6},"small"===c.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==c.color&&{color:"inherit"})),Object(n.a)(t,"& .".concat(g.deleteIcon),Object(r.a)({WebkitTapHighlightColor:"transparent",color:o,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(s.a)(o,.4)}},"small"===c.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==c.color&&{color:Object(s.a)(a.palette[c.color].contrastText,.7),"&:hover, &:active":{color:a.palette[c.color].contrastText}})),t),"small"===c.size&&{height:24},"default"!==c.color&&{backgroundColor:a.palette[c.color].main,color:a.palette[c.color].contrastText},c.onDelete&&Object(n.a)({},"&.".concat(g.focusVisible),{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),c.onDelete&&"default"!==c.color&&Object(n.a)({},"&.".concat(g.focusVisible),{backgroundColor:a.palette[c.color].dark}))}),(function(e){var t,a=e.theme,c=e.ownerState;return Object(r.a)({},c.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity)}},Object(n.a)(t,"&.".concat(g.focusVisible),{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),Object(n.a)(t,"&:active",{boxShadow:a.shadows[1]}),t),c.clickable&&"default"!==c.color&&Object(n.a)({},"&:hover, &.".concat(g.focusVisible),{backgroundColor:a.palette[c.color].dark}))}),(function(e){var t,a,c=e.theme,o=e.ownerState;return Object(r.a)({},"outlined"===o.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===c.palette.mode?c.palette.grey[400]:c.palette.grey[700])},Object(n.a)(t,"&.".concat(g.clickable,":hover"),{backgroundColor:c.palette.action.hover}),Object(n.a)(t,"&.".concat(g.focusVisible),{backgroundColor:c.palette.action.focus}),Object(n.a)(t,"& .".concat(g.avatar),{marginLeft:4}),Object(n.a)(t,"& .".concat(g.avatarSmall),{marginLeft:2}),Object(n.a)(t,"& .".concat(g.icon),{marginLeft:4}),Object(n.a)(t,"& .".concat(g.iconSmall),{marginLeft:2}),Object(n.a)(t,"& .".concat(g.deleteIcon),{marginRight:5}),Object(n.a)(t,"& .".concat(g.deleteIconSmall),{marginRight:3}),t),"outlined"===o.variant&&"default"!==o.color&&(a={color:c.palette[o.color].main,border:"1px solid ".concat(Object(s.a)(c.palette[o.color].main,.7))},Object(n.a)(a,"&.".concat(g.clickable,":hover"),{backgroundColor:Object(s.a)(c.palette[o.color].main,c.palette.action.hoverOpacity)}),Object(n.a)(a,"&.".concat(g.focusVisible),{backgroundColor:Object(s.a)(c.palette[o.color].main,c.palette.action.focusOpacity)}),Object(n.a)(a,"& .".concat(g.deleteIcon),{color:Object(s.a)(c.palette[o.color].main,.7),"&:hover, &:active":{color:c.palette[o.color].main}}),a))})),S=Object(p.a)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var a=e.ownerState.size;return[t.label,t["label".concat(Object(O.a)(a))]]}})((function(e){var t=e.ownerState;return Object(r.a)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function w(e){return"Backspace"===e.key||"Delete"===e.key}var k=o.forwardRef((function(e,t){var a=Object(f.a)({props:e,name:"MuiChip"}),n=a.avatar,s=a.className,u=a.clickable,p=a.color,v=void 0===p?"default":p,m=a.component,g=a.deleteIcon,k=a.disabled,K=void 0!==k&&k,T=a.icon,E=a.label,A=a.onClick,I=a.onDelete,_=a.onKeyDown,M=a.onKeyUp,z=a.size,B=void 0===z?"medium":z,V=a.variant,R=void 0===V?"filled":V,D=Object(c.a)(a,y),N=o.useRef(null),H=Object(j.a)(N,t),W=function(e){e.stopPropagation(),I&&I(e)},P=!(!1===u||!A)||u,L="small"===B,F=P||I?h.a:m||"div",G=Object(r.a)({},a,{component:F,disabled:K,size:B,color:v,onDelete:!!I,clickable:P,variant:R}),q=function(e){var t=e.classes,a=e.disabled,n=e.size,c=e.color,r=e.onDelete,o=e.clickable,i=e.variant,s={root:["root",i,a&&"disabled","size".concat(Object(O.a)(n)),"color".concat(Object(O.a)(c)),o&&"clickable",o&&"clickableColor".concat(Object(O.a)(c)),r&&"deletable",r&&"deletableColor".concat(Object(O.a)(c)),"".concat(i).concat(Object(O.a)(c))],label:["label","label".concat(Object(O.a)(n))],avatar:["avatar","avatar".concat(Object(O.a)(n)),"avatarColor".concat(Object(O.a)(c))],icon:["icon","icon".concat(Object(O.a)(n)),"iconColor".concat(Object(O.a)(c))],deleteIcon:["deleteIcon","deleteIcon".concat(Object(O.a)(n)),"deleteIconColor".concat(Object(O.a)(c)),"deleteIconOutlinedColor".concat(Object(O.a)(c))]};return Object(l.a)(s,x,t)}(G),U=F===h.a?Object(r.a)({component:m||"div",focusVisibleClassName:q.focusVisible},I&&{disableRipple:!0}):{},Y=null;if(I){var J=Object(i.a)("default"!==v&&("outlined"===R?q["deleteIconOutlinedColor".concat(Object(O.a)(v))]:q["deleteIconColor".concat(Object(O.a)(v))]),L&&q.deleteIconSmall);Y=g&&o.isValidElement(g)?o.cloneElement(g,{className:Object(i.a)(g.props.className,q.deleteIcon,J),onClick:W}):Object(d.jsx)(b,{className:Object(i.a)(q.deleteIcon,J),onClick:W})}var Q=null;n&&o.isValidElement(n)&&(Q=o.cloneElement(n,{className:Object(i.a)(q.avatar,n.props.className)}));var X=null;return T&&o.isValidElement(T)&&(X=o.cloneElement(T,{className:Object(i.a)(q.icon,T.props.className)})),Object(d.jsxs)(C,Object(r.a)({as:F,className:Object(i.a)(q.root,s),disabled:!(!P||!K)||void 0,onClick:A,onKeyDown:function(e){e.currentTarget===e.target&&w(e)&&e.preventDefault(),_&&_(e)},onKeyUp:function(e){e.currentTarget===e.target&&(I&&w(e)?I(e):"Escape"===e.key&&N.current&&N.current.blur()),M&&M(e)},ref:H,ownerState:G},U,D,{children:[Q||X,Object(d.jsx)(S,{className:Object(i.a)(q.label),ownerState:G,children:E}),Y]}))}));t.a=k},398:function(e,t,a){"use strict";var n=a(7),c=a(2),r=a(9),o=a(1),i=(a(4),a(8)),l=a(110),s=a(12),u=a(10),d=a(94),b=a(111);function j(e){return Object(d.a)("MuiCardActionArea",e)}var O=Object(b.a)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),h=a(219),f=a(0),p=["children","className","focusVisibleClassName"],v=Object(u.a)(h.a,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,a=e.theme;return t={display:"block",textAlign:"inherit",width:"100%"},Object(n.a)(t,"&:hover .".concat(O.focusHighlight),{opacity:a.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),Object(n.a)(t,"&.".concat(O.focusVisible," .").concat(O.focusHighlight),{opacity:a.palette.action.focusOpacity}),t})),m=Object(u.a)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(e,t){return t.focusHighlight}})((function(e){var t=e.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),x=o.forwardRef((function(e,t){var a=Object(s.a)({props:e,name:"MuiCardActionArea"}),n=a.children,o=a.className,u=a.focusVisibleClassName,d=Object(r.a)(a,p),b=a,O=function(e){var t=e.classes;return Object(l.a)({root:["root"],focusHighlight:["focusHighlight"]},j,t)}(b);return Object(f.jsxs)(v,Object(c.a)({className:Object(i.a)(O.root,o),focusVisibleClassName:Object(i.a)(u,O.focusVisible),ref:t,ownerState:b},d,{children:[n,Object(f.jsx)(m,{className:O.focusHighlight,ownerState:b})]}))}));t.a=x},405:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(3),c=a(51),r=a(17),o=a(398),i=a(170),l=a(221),s=a(396),u=a(79),d=a(265),b=a(468),j=a(272),O=a(1),h=a(58),f=a(134),p=a(278),v=a(276),m=a(305),x=a(98),g=a(281),y=a(282),C=a(135),S=a(47),w=a(174),k=a(133),K=a(40),T=a(137),E=a(283),A=a(136),I=a(0);function _(e){var t=e.characterKey,a=e.onEdit,x=e.onDelete,_=e.footer,z=void 0!==_&&_,B=Object(O.useContext)(w.b),V=Object(O.useState)(void 0),R=Object(n.a)(V,2),D=R[0],N=R[1];Object(O.useEffect)((function(){return t?B.followChar(t,N):void 0}),[t,N,B]);var H=Object(k.a)(f.a.getAll(),[]),W=D,P=Object(k.a)(A.b.get(t),[t]),L=(null===W||void 0===W?void 0:W.equippedWeapon)?B._getWeapon(W.equippedWeapon):void 0,F=Object(k.a)(L?T.a.get(L.key):void 0,[null===L||void 0===L?void 0:L.key]),G=Object(O.useMemo)((function(){return W&&P&&F&&H&&E.a.calculateBuild(W,B,P,F,H)}),[W,P,F,H,B]),q=Object(O.useCallback)((function(e){return Object(I.jsx)(o.a,{onClick:function(){return null===a||void 0===a?void 0:a(t)},sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[a,t]),U=Object(O.useCallback)((function(){return null===x||void 0===x?void 0:x(t)}),[x,t]);if(!W||!L||!P||!F||!G)return null;var Y=W.constellation,J=L.level,Q=L.ascension,X=G.tlvl,Z=G.characterLevel,$=G.ascension,ee=G.characterEle,te=null===F||void 0===F?void 0:F.name,ae=F.getMainStatValue(J,Q).toFixed(K.b.fixedUnit("atk")),ne=F.getSubStatKey(),ce=F.getSubStatValue(J,Q).toFixed(K.b.fixedUnit(ne)),re=T.a.getLevelString(L),oe=null===F||void 0===F?void 0:F.passiveName;return Object(I.jsx)(O.Suspense,{fallback:Object(I.jsx)(i.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(I.jsxs)(v.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(I.jsxs)(m.a,{condition:!!a,wrapper:q,children:[Object(I.jsxs)(l.a,{display:"flex",position:"relative",className:"grad-".concat(P.star,"star"),sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:"url(".concat(P.bannerImg,")"),backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[Object(I.jsx)(l.a,{flexShrink:1,sx:{maxWidth:{xs:"40%",lg:"40%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:Object(I.jsx)(l.a,{component:"img",src:P.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),Object(I.jsxs)(l.a,{flexGrow:1,sx:{p:1},display:"flex",flexDirection:"column",zIndex:1,children:[Object(I.jsx)(s.a,{label:Object(I.jsx)(u.a,{variant:"subtitle1",children:P.name}),size:"small",color:ee}),Object(I.jsxs)(d.a,{container:!0,spacing:1,flexWrap:"nowrap",children:[Object(I.jsxs)(d.a,{item:!0,sx:{textShadow:"0 0 5px gray"},children:[Object(I.jsxs)(u.a,{component:"span",variant:"h6",whiteSpace:"nowrap",children:["Lv. ",Z]}),Object(I.jsxs)(u.a,{component:"span",variant:"h6",color:"text.secondary",children:["/",S.b[$]]})]}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(u.a,{variant:"h6",children:Object(I.jsxs)(g.a,{children:["C",Y]})})})]}),Object(I.jsxs)(d.a,{container:!0,spacing:1,flexWrap:"nowrap",children:[Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(s.a,{color:"secondary",label:Object(I.jsx)("strong",{children:X.auto+1})})}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(s.a,{color:G.skillBoost?"info":"secondary",label:Object(I.jsx)("strong",{children:X.skill+1})})}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(s.a,{color:G.burstBoost?"info":"secondary",label:Object(I.jsx)("strong",{children:X.burst+1})})})]}),Object(I.jsx)(u.a,{mt:1,children:Object(I.jsx)(y.a,{stars:P.star,colored:!0})})]})]}),Object(I.jsxs)(b.a,{sx:{pb:0,width:"100%"},children:[Object(I.jsx)(p.a,{sx:{mb:1},children:Object(I.jsxs)(l.a,{display:"flex",children:[Object(I.jsx)(l.a,{flexShrink:1,maxWidth:"35%",display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(F.rarity,"star"),children:Object(I.jsx)(l.a,{component:"img",src:F.img,width:"100%",height:"auto",sx:{mt:"auto"}})}),Object(I.jsxs)(l.a,{flexGrow:1,sx:{p:1},children:[Object(I.jsx)(u.a,{variant:"body2",children:Object(I.jsx)("strong",{children:te})}),Object(I.jsxs)(u.a,{whiteSpace:"nowrap",lineHeight:1,children:[Object(I.jsxs)(g.a,{color:"primary",sx:{mr:1},children:["Lv. ",re]}),oe&&Object(I.jsxs)(g.a,{color:"info",children:[" Refinement ",L.refinement]})]}),Object(I.jsxs)(u.a,{variant:"subtitle1",children:["ATK: ",ae]}),oe&&Object(I.jsxs)(u.a,{variant:"subtitle2",lineHeight:1,children:[K.b.getStatName(ne),": ",ce,K.b.getStatUnit(ne)]})]})]})}),Object(I.jsx)(M,{stats:G})]}),Object(I.jsx)(l.a,{flexGrow:1}),Object(I.jsx)(b.a,{sx:{py:1,width:"100%"},children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var t=K.b.getStatUnit(e),a=G[e];return Object(I.jsxs)(l.a,{sx:{display:"flex"},children:[Object(I.jsx)(u.a,{flexGrow:1,children:Object(I.jsxs)("strong",{children:[C.a[e]," ",K.b.getStatName(e)]})}),Object(I.jsx)(u.a,{children:(null===a||void 0===a?void 0:a.toFixed(K.b.fixedUnit(e)))+t})]},e)}))})]}),z&&Object(I.jsxs)(d.a,{container:!0,spacing:1,sx:{py:1,px:2},children:[Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(j.a,{size:"small",component:h.b,to:{pathname:"/build",characterKey:t},startIcon:Object(I.jsx)(r.a,{icon:c.d}),children:"Build"})}),Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsx)(j.a,{size:"small",color:"info",component:h.b,to:{pathname:"/flex",characterKey:t},startIcon:Object(I.jsx)(r.a,{icon:c.t}),children:"Share"})}),!!x&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(j.a,{size:"small",color:"error",startIcon:Object(I.jsx)(r.a,{icon:c.C}),onClick:U,children:"Delete"})})]})]})})}function M(e){var t=e.stats,a=Object(k.a)(f.a.getAll(),[]),c=Object(O.useContext)(w.b);if(!a||!t)return null;var r=t.equippedArtifacts;return Object(I.jsx)(d.a,{container:!0,spacing:1,children:Object.entries(null!==r&&void 0!==r?r:{}).map((function(e){var t=Object(n.a)(e,2),r=t[0],o=t[1],i=c._getArt(o);if(!i)return null;var l=i.setKey,u=i.slotKey,b=i.mainStatKey;return Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsx)(s.a,{color:"secondary",sx:{width:"100%"},icon:Object(I.jsx)(x.a,{src:null===a||void 0===a?void 0:a[l].slotIcons[u],size:2.5}),label:Object(I.jsx)("span",{children:K.b.getStatNameWithPercent(b)})})},r)}))})}},990:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(52),c=a.n(n),r=a(100),o=a(3),i=a(5),l=a(51),s=a(17),u=a(221),d=a(170),b=a(265),j=a(468),O=a(79),h=a(272),f=a(122),p=a(1),v=a.n(p),m=a(84),x=a(58),g=a(278),y=a(332),C=a(285),S=a(354),w=a(310),k=a(334),K=a(304),T=a(174),E=a(82),A=a(290),I=a(133),_=a(333),M=a(309),z=a(141),B=a(405),V=a(136),R=a(299),D=a(0),N=v.a.lazy((function(){return a.e(32).then(a.bind(null,959))})),H=Object(p.lazy)((function(){return Promise.all([a.e(1),a.e(3),a.e(6),a.e(23),a.e(18)]).then(a.bind(null,349))})),W=function(){return{characterKeyToEdit:"",sortType:_.c[0],ascending:!1,weaponType:"",element:""}};function P(e,t){return Object(i.a)(Object(i.a)({},e),t)}function L(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W();return Object(i.a)(Object(i.a)({},t),null!==(e=E.b.get("CharacterDisplay.state"))&&void 0!==e?e:{})}function F(e){var t=Object(p.useContext)(T.b),a=Object(p.useReducer)(P,W(),L),n=Object(o.a)(a,2),i=n[0],x=n[1],C=Object(p.useState)(!1),F=Object(o.a)(C,2),q=F[0],U=F[1],Y=Object(A.a)(),J=Object(o.a)(Y,2),Q=J[0],X=J[1],Z=Object(p.useRef)(null);Object(p.useEffect)((function(){return m.a.pageview("/character"),t.followAnyChar(X)}),[X,t]);var $=Object(I.a)(V.b.getAll(),[]);Object(p.useEffect)((function(){E.b.set("CharacterDisplay.state",i)}),[i]);var ee=Object(p.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.b.get(a);case 2:if(n=e.sent,"object"===typeof(r=null===n||void 0===n?void 0:n.name)&&(r=f.a.t("char_".concat(a,"_gen:name"))),window.confirm("Are you sure you want to remove ".concat(r,"?"))){e.next=7;break}return e.abrupt("return");case 7:t.removeChar(a),i.characterKeyToEdit===a&&x({characterKeyToEdit:""});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i.characterKeyToEdit,x,t]),te=Object(p.useCallback)((function(e){t._getChar(e)?x({characterKeyToEdit:e}):Object(r.a)(c.a.mark((function a(){var n,r,o,i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(R.b)(e),t.updateChar(n),a.next=4,V.b.get(e);case 4:if(r=a.sent){a.next=7;break}return a.abrupt("return");case 7:o=Object(z.a)(r.weaponTypeKey),i=t.createWeapon(o),t.setWeaponLocation(i,e),x({characterKeyToEdit:e});case 11:case"end":return a.stop()}}),a)})))(),setTimeout((function(){var e;null===(e=Z.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[x,Z,t]),ae=Object(p.useCallback)((function(){x({characterKeyToEdit:""}),U(!1)}),[x]),ne=i.element,ce=i.weaponType,re=Object(p.useMemo)((function(){return $&&Object(_.b)(t,$)}),[t,$]),oe=Object(p.useMemo)((function(){return $&&Object(_.a)($)}),[$]),ie=Object(p.useMemo)((function(){return re&&oe&&Q&&t._getCharKeys().filter(Object(M.a)({element:ne,weaponType:ce},oe)).sort(Object(M.b)(i.sortType,i.ascending,re))}),[Q,t,re,i.sortType,i.ascending,ne,oe,ce]);return Object(D.jsxs)(u.a,{sx:{mt:1,"> div":{mb:1}},children:[Object(D.jsx)(S.a,{pageKey:"characterPage",modalTitle:"Character Management Page Guide",text:["Every character will be tested with in-game numbers for maximum accuracy.","You can see the details of the calculations of every number.","You need to manually enable auto infusion for characters like Choungyun or Noelle.",'You can change character constellations in both "Character" tab and in "Talents" tab.',"Modified character Stats are bolded."],children:Object(D.jsx)(N,{})}),i.characterKeyToEdit?Object(D.jsx)(u.a,{ref:Z,children:Object(D.jsx)(v.a.Suspense,{fallback:Object(D.jsx)(d.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(D.jsx)(H,{setCharacterKey:te,characterKey:i.characterKeyToEdit,onClose:ae,footer:Object(D.jsx)(G,{onClose:ae,characterKey:i.characterKeyToEdit})})})}):null,Object(D.jsx)(g.a,{sx:{p:2},children:Object(D.jsxs)(b.a,{container:!0,spacing:1,children:[Object(D.jsx)(b.a,{item:!0,children:Object(D.jsx)(K.a,{sx:{height:"100%"},onChange:function(e){return x({weaponType:e})},value:i.weaponType,size:"small"})}),Object(D.jsx)(b.a,{item:!0,flexGrow:1,children:Object(D.jsx)(k.a,{sx:{height:"100%"},onChange:function(e){return x({element:e})},value:i.element,size:"small"})}),Object(D.jsx)(b.a,{item:!0,children:Object(D.jsx)(w.a,{sx:{height:"100%"},sortKeys:_.c,value:i.sortType,onChange:function(e){return x({sortType:e})},ascending:i.ascending,onChangeAsc:function(e){return x({ascending:e})}})})]})}),Object(D.jsx)(b.a,{container:!0,spacing:1,children:Object(D.jsxs)(p.Suspense,{fallback:Object(D.jsx)(b.a,{item:!0,xs:12,children:Object(D.jsx)(d.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}})}),children:[!i.characterKeyToEdit&&Object(D.jsx)(b.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(D.jsxs)(g.a,{sx:{height:"100%",minHeight:400,width:"100%",display:"flex",flexDirection:"column"},children:[Object(D.jsx)(j.a,{children:Object(D.jsx)(O.a,{sx:{textAlign:"center"},children:"Add New Character"})}),Object(D.jsx)(y.a,{newFirst:!0,show:q,onHide:function(){return U(!1)},onSelect:te}),Object(D.jsx)(u.a,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(D.jsx)(h.a,{onClick:function(){return U(!0)},sx:{borderRadius:"1em"},children:Object(D.jsx)(O.a,{variant:"h1",children:Object(D.jsx)(s.a,{icon:l.u,className:"fa-fw"})})})})]})}),!!ie&&ie.map((function(e){return Object(D.jsx)(b.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(D.jsx)(B.a,{characterKey:e,onDelete:ee,onEdit:te,footer:!0})},e)}))]})})]})}function G(e){var t=e.onClose,a=e.characterKey;return Object(D.jsxs)(b.a,{container:!0,spacing:1,children:[Object(D.jsx)(b.a,{item:!0,children:Object(D.jsx)(h.a,{component:x.b,to:{pathname:"/build",characterKey:a},startIcon:Object(D.jsx)(s.a,{icon:l.d}),children:"Generate Builds"})}),Object(D.jsx)(b.a,{item:!0,flexGrow:1,children:Object(D.jsx)(h.a,{color:"info",component:x.b,to:{pathname:"/flex",characterKey:a},startIcon:Object(D.jsx)(s.a,{icon:l.t}),children:"Share Character"})}),Object(D.jsx)(b.a,{item:!0,xs:"auto",children:Object(D.jsx)(C.a,{large:!0,onClick:t})})]})}}}]);
//# sourceMappingURL=17.10fd3b99.chunk.js.map