(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[19],{284:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),c=a(1),i=a(172),r=a(42);function l(e){var t=Object(c.useContext)(i.b);return Object(c.useCallback)((function(a){if(e)if("type"in a)switch(a.type){case"weapon":t.setWeaponLocation(a.id,e);break;case"bonusStats":var c,i=t._getChar(e),l=a.statKey,s=a.value,o=i.bonusStats;if(o[l]===s)return;o[l]=s,(null!==(c=Object(r.b)(i)[l])&&void 0!==c?c:0)===s&&delete o[l],t.updateChar(Object(n.a)(Object(n.a)({},i),{},{bonusStats:o}))}else t.updateChar(Object(n.a)(Object(n.a)({},t._getChar(e)),a))}),[e,t])}},285:function(e,t,a){"use strict";a.d(t,"b",(function(){return O})),a.d(t,"a",(function(){return v}));var n=a(51),c=a(17),i=a(79),r=a(219),l=a(346),s=a(10),o=a(268),j=a(1),d=a(111),u=a(281),b=a(291),h=a(32),x=a(0);function O(e){var t,a,s=e.field,o=Object(j.useContext)(d.a),O=o.newBuild,v=o.equippedBuild,p=o.compareBuild,f=O||v,m=Object(j.useMemo)((function(){var e;return!!f&&(null===s||void 0===s||null===(e=s.canShow)||void 0===e?void 0:e.call(s,f))}),[s,f]),g=(null===s||void 0===s?void 0:s.fixed)||0,y=Object(j.useMemo)((function(){if(s.value)return u.a.getTalentFieldValue(s,"value",f);if(s.formula){var e,t,a=null===(e=u.a.getTalentFieldValue(s,"formula",f))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.call(e,f);if(p&&v&&"number"===typeof a){var n,c,i,r,l,o,j,d,b,O=s.value?s.value:null===(n=s.formula)||void 0===n||null===(c=n.call(s,v))||void 0===c||null===(i=c[0])||void 0===i?void 0:i.call(c,v);"function"===typeof O&&(O=parseInt(null===(r=O)||void 0===r||null===(l=r(v))||void 0===l||null===(o=l.toFixed)||void 0===o?void 0:o.call(l,g)));var m=a-O;a=Object(x.jsxs)("span",{children:[null!==(j=null===(d=O)||void 0===d?void 0:d.toFixed(g))&&void 0!==j?j:O,m?Object(x.jsxs)(h.a,{color:m>0?"success":"error",children:[" (",m>0?"+":"",(null===m||void 0===m||null===(b=m.toFixed)||void 0===b?void 0:b.call(m,g))||m,")"]}):""]})}return a}}),[p,g,v,s,f]),S=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"text",f)}),[s,f]),w=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"variant",f)}),[s,f]),k=Object(j.useMemo)((function(){var e=u.a.getTalentFieldValue(s,"formulaText",f);return e?Object(x.jsx)(b.a,{placement:"top",title:Object(x.jsx)(i.a,{children:e}),children:Object(x.jsx)(r.a,{component:"span",sx:{cursor:"help",ml:1},children:Object(x.jsx)(c.a,{icon:n.v})})}):null}),[s,f]),C=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"unit",f)}),[s,f]);return m?Object(x.jsxs)(l.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("b",{children:S}),k]}),Object(x.jsxs)(i.a,{color:"".concat(w,".main"),children:[null!==(t=null===y||void 0===y||null===(a=y.toFixed)||void 0===a?void 0:a.call(y,g))&&void 0!==t?t:y,C]})]}):null}var v=Object(s.a)(o.a)((function(e){var t=e.theme;return{borderRadius:t.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:t.palette.contentDark.main},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:t.palette.contentDarker.main}}}))},289:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u}));var n=a(5),c=a(3),i=a(129),r=a(10),l=a(391),s=a(1),o=a(0),j=Object(r.a)(l.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),d=Object(r.a)("button",{shouldForwardProp:function(e){return!["fullWidth","disableRipple","disableFocusRipple","disableElevation"].includes(e)}})((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,padding:0,overflow:"hidden",border:"none",borderRadius:t.shape.borderRadius,"& div":{width:"100%",height:"100%"},"&.MuiButtonGroup-grouped:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},"&.MuiButtonGroup-grouped:not(:first-of-type)":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}}));function u(e){var t=e.value,a=e.onChange,r=e.disabled,l=void 0!==r&&r,d=e.float,u=void 0!==d&&d,b=Object(i.a)(e,["value","onChange","disabled","float"]),h=Object(s.useState)(""),x=Object(c.a)(h,2),O=x[0],v=x[1],p=Object(s.useCallback)((function(){if(""===O)return a(0);var e=u?parseFloat:parseInt;a(e(O))}),[a,O,u]);Object(s.useEffect)((function(){var e;return v(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,v]);var f=Object(s.useCallback)((function(e){return v(e.target.value)}),[v]),m=Object(s.useCallback)((function(e){return"Enter"===e.key&&p()}),[p]);return Object(o.jsx)(j,Object(n.a)({value:O,"aria-label":"custom-input",type:"number",onChange:f,onBlur:p,disabled:l,onKeyDown:m},b))}},290:function(e,t,a){"use strict";a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return k}));var n,c,i,r,l=a(5),s=a(46),o=a(129),j=a(328),d=a(329),u=a(716),b=a(251),h=a(79),x=a(252),O=a(1),v=a(128),p=a(133),f=a(172),m=a(130),g=a(277),y=a(96),S=a(0);function w(e){var t,a=e.value,w=e.onChange,C=e.inventory,_=void 0!==C&&C,B=e.noUnselect,K=void 0!==B&&B,A=e.filter,N=void 0===A?function(){return!0}:A,T=Object(o.a)(e,["value","onChange","inventory","noUnselect","filter"]),F=Object(v.a)("ui").t,V=Object(O.useContext)(f.b),E=Object(m.a)(p.b.getAll(),[]),M=Object(m.a)(p.b.get(a),[a]),D=V._getCharKeys().filter((function(e){return(null===E||void 0===E?void 0:E[e])&&N(E[e])})).sort();return Object(S.jsxs)(g.a,Object(l.a)(Object(l.a)({},T),{},{title:null!==(t=null===M||void 0===M?void 0:M.name)&&void 0!==t?t:F(_?n||(n=Object(s.a)(["inventory"])):c||(c=Object(s.a)(["unselect"]))),color:a?"success":"primary",startIcon:(null===M||void 0===M?void 0:M.thumbImg)?Object(S.jsx)(y.a,{src:M.thumbImg}):_?Object(S.jsx)(j.a,{}):Object(S.jsx)(d.a,{}),children:[!K&&(_?Object(S.jsxs)(u.a,{onClick:function(){return w("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:F(i||(i=Object(s.a)(["inventory"])))})]}):Object(S.jsxs)(u.a,{onClick:function(){return w("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(d.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:F(r||(r=Object(s.a)(["unselect"])))})]})),!K&&Object(S.jsx)(x.a,{},"div"),!!E&&k(E,D,w,a)]}))}function k(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c;return Object(S.jsxs)(u.a,{onClick:function(){return a(t)},selected:n===t,disabled:n===t,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(y.a,{src:e[t].thumbImg})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.name})]},t)}))}},291:function(e,t,a){"use strict";var n=a(7),c=a(5),i=a(129),r=a(10),l=a(702),s=a(462),o=a(0),j=Object(r.a)((function(e){var t=e.className,a=Object(i.a)(e,["className"]);return Object(o.jsx)(l.a,Object(c.a)(Object(c.a)({},a),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,a=e.theme;return t={},Object(n.a)(t,"& .".concat(s.a.arrow),{color:a.palette.common.black}),Object(n.a)(t,"& .".concat(s.a.tooltip),{backgroundColor:a.palette.common.black}),t}));t.a=j},293:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(219),c=a(1),i=a(111),r=a(15),l=a(3),s=a(11),o=a(393),j=a(113),d=a(342),u=a(343),b=a(716),h=a(252),x=a(270),O=a(277),v=a(279),p=a(0);function f(e){var t=e.conditional,a=e.conditionalValue,n=e.setConditional,c=e.name,i=e.disabled,o=void 0!==i&&i,j=e.stats,f=Object(l.a)(a,2),m=f[0],g=void 0===m?0:m,y=f[1];if(!t)return c;if("states"in t){var S=y?t.states[y]:Object.values(t.states)[0],w=0===g?"Not Active":Object(p.jsxs)("span",{children:[S.name," ",Object(r.f)(S.maxStack,j)>1?": ".concat(g," stack").concat(g>1?"s":""):""]}),k=Object(p.jsx)(v.a,{color:0===g?"secondary":"success",children:w});return Object(p.jsxs)(O.a,{size:"small",title:Object(p.jsxs)("span",{children:[c," ",k]}),disabled:o,children:[Object(p.jsx)(b.a,{onClick:function(){return n([0])},selected:0===g,disabled:0===g,children:Object(p.jsx)("span",{children:"Not Active"})}),Object(p.jsx)(h.a,{}),Object.entries(t.states).flatMap((function(e,t){var a=Object(l.a)(e,2),c=a[0],i=a[1];return Object(s.a)(Array(i.maxStack).keys()).map((function(e){return e+1})).map((function(e,t){return Object(p.jsxs)(b.a,{onClick:function(){return n([e,c])},selected:y===c&&g===e,disabled:y===c&&g===e,children:[i.name,i.maxStack>1?": ".concat(e," stack").concat(e>1?"s":""):""]},c+t)}))}))]})}var C=Object(r.f)(t.maxStack,j);if(C>1){var _=Object(p.jsx)(v.a,{color:0===g?"secondary":"success",children:g>0?"".concat(g," stack").concat(g>1?"s":""):"Not Active"});return Object(p.jsxs)(O.a,{size:"small",title:Object(p.jsxs)("span",{children:[c," ",_]}),disabled:o,children:[Object(p.jsx)(b.a,{onClick:function(){return n([0])},selected:0===g,disabled:0===g,children:Object(p.jsx)("span",{children:"Not Active"})}),Object(p.jsx)(h.a,{}),Object(s.a)(Array(C).keys()).map((function(e){return e+1})).map((function(e){return Object(p.jsx)(b.a,{onClick:function(){return n([e])},selected:g===e,disabled:g===e,children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})}return 1===C?Object(p.jsx)(x.a,{size:"small",onClick:function(){return n([g?0:1])},disabled:o,startIcon:g?Object(p.jsx)(d.a,{}):Object(p.jsx)(u.a,{}),children:c}):null}var m=a(284),g=a(112),y=a(276),S=a(285);function w(e){var t=e.conditional,a=e.characterKey,n=Object(c.useContext)(i.a),d=n.newBuild,u=n.equippedBuild,b=Object(m.a)(a),h=d||u,x=Object(c.useMemo)((function(){return j.a.canShow(t,h)}),[t,h]),O=Object(c.useMemo)((function(){return x&&j.a.resolve(t,h,void 0)}),[x,t,h]),v=O.stats,w=void 0===v?{}:v,k=O.fields,C=void 0===k?[]:k,_=O.conditionalValue,B=Object(c.useMemo)((function(){return x&&[].concat(Object(s.a)(Object(g.a)(w,h)),Object(s.a)(C))}),[x,w,h,C]),K=Object(c.useCallback)((function(e){if(h){var a=Object(l.a)(e,1)[0];(void 0===a?0:a)?t.keys&&Object(r.k)(h.conditionalValues,t.keys,e):(Object(r.e)(h.conditionalValues,t.keys),Object(r.l)(h.conditionalValues)),b({conditionalValues:h.conditionalValues})}}),[t,h,b]);return x&&h?Object(p.jsxs)(y.a,{children:[Object(p.jsx)(o.a,{children:Object(p.jsx)(f,{conditional:t,conditionalValue:_,setConditional:K,name:t.name,stats:h})}),Object(p.jsx)(S.a,{sx:{m:0},children:B.map((function(e,t){return Object(p.jsx)(S.b,{field:e},t)}))})]}):null}function k(e){var t=e.sections,a=e.characterKey,l=Object(c.useContext)(i.a),s=l.newBuild,o=l.equippedBuild,j=s||o;return j?Object(p.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e,t){var c,i;if(!e.canShow(j))return null;var l=Object(r.f)(e.text,j),s=null!==(c=e.fields)&&void 0!==c?c:[];return Object(p.jsxs)(n.a,{sx:{pb:-1,"& > *":{mb:1}},children:[Object(p.jsx)("div",{children:l}),s.length>0&&Object(p.jsx)(S.a,{children:null===s||void 0===s||null===(i=s.map)||void 0===i?void 0:i.call(s,(function(e,t){return Object(p.jsx)(S.b,{field:e},t)}))}),!!e.conditional&&Object(p.jsx)(w,{conditional:e.conditional,characterKey:a})]},"section"+t)}))}):null}},294:function(e,t,a){"use strict";var n=a(5),c=a(129),i=a(10),r=a(271),l=a(0),s=Object(i.a)((function(e){e.expand;var t=Object(c.a)(e,["expand"]);return Object(l.jsx)(r.a,Object(n.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));t.a=s},295:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n,c=a(46),i=a(328),r=a(79),l=a(128),s=a(133),o=a(130),j=a(0);function d(e){var t=e.location,a=Object(l.a)("ui").t,d=Object(o.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(j.jsx)(r.a,{component:"span",children:(null===d||void 0===d?void 0:d.name)?d.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(i.a,{})," ",a(n||(n=Object(c.a)(["inventory"])))]})})}},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5),c=a(129),i=a(10),r=a(270),l=a(0),s=Object(i.a)(r.a)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function o(e){var t=e.children,a=(e.disabled,Object(c.a)(e,["children","disabled"]));return Object(l.jsx)(s,Object(n.a)(Object(n.a)({},a),{},{disabled:!0,children:t}))}},301:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(219),c=a(79),i=a(1),r=a(281),l=a(82),s=a(130),o=a(40),j=a(42),d=a(32),u=a(132),b=a(0);function h(e){var t,a,i=e.label,r=void 0===i?"":i,l=e.val,s=e.oldVal,o=e.fixed,j=void 0===o?0:o,u=e.unit,h=void 0===u?"":u,x=e.hasBonus,O=void 0!==x&&x;"undefined"===typeof s&&"number"===typeof l&&(s=l,l=void 0);var v=void 0!==l?l-s:0,p="",f="";s||0===v?p=null===(t=s)||void 0===t?void 0:t.toFixed(j):void 0===s&&(p=null===(a=l)||void 0===a?void 0:a.toFixed(j)),p&&(p=Object(b.jsxs)("span",{children:[p,h]})),0!==v&&(f=Object(b.jsxs)(d.a,{color:v>0?"success":"error",children:[v>0?"+":"",null===v||void 0===v?void 0:v.toFixed(j),h]}));var m=Object(b.jsxs)(b.Fragment,{children:[p,f]});return Object(b.jsxs)(n.a,{display:"flex",justifyContent:"space-between",children:[Object(b.jsx)(c.a,{children:r}),Object(b.jsx)(c.a,{children:O?Object(b.jsx)("strong",{children:m}):m})]})}function x(e){var t=e.character,a=e.equippedBuild,n=e.newBuild,c=e.statKey,x=Object(s.a)(Array.isArray(c)?l.a.get(c):void 0,[c]),O=Object(i.useMemo)((function(){var e,i,l,s,h="";if("string"===typeof c){if(n&&a){var O,v;e=null!==(O=null===n||void 0===n?void 0:n[c])&&void 0!==O?O:0,i=null!==(v=null===a||void 0===a?void 0:a[c])&&void 0!==v?v:0}else{var p,f=n||a;e=null!==(p=null===f||void 0===f?void 0:f[c])&&void 0!==p?p:0,i=Object(j.b)(t)[c],f&&("finalHP"===c?i=f.characterHP:"finalDEF"===c?i=f.characterDEF:"finalATK"===c&&(i=f.characterATK+f.weaponATK))}s=o.b.getStatUnit(c),l=o.b.fixedUnit(c),h=Object(b.jsxs)("span",{children:[u.a[c]," ",o.b.getStatName(c)]})}else if(x){var m,g,y,S,w=n||a,k=x.field,C=r.a.getTalentFieldValue(k,"variant",w);if(h=Object(b.jsx)(d.a,{color:C,children:r.a.getTalentFieldValue(k,"text",w)}),l=r.a.getTalentFieldValue(k,"fixed",w,0),s=r.a.getTalentFieldValue(k,"unit",w,""),e=null===(m=r.a.getTalentFieldValue(k,"formula",w))||void 0===m||null===(g=m[0])||void 0===g?void 0:g.call(m,w),n&&a)i=null===(y=r.a.getTalentFieldValue(k,"formula",a))||void 0===y||null===(S=y[0])||void 0===S?void 0:S.call(y,a)}return{val:e,oldVal:i,fixed:l,unit:s,label:h,hasBonus:r.a.hasBonusStats(t,c)}}),[t,a,n,c,x]),v=O.val,p=O.oldVal,f=O.fixed,m=O.unit,g=O.label,y=O.hasBonus;return Object(b.jsx)(h,{val:v,oldVal:p,fixed:f,unit:m,label:g,hasBonus:y})}},302:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),c=a(129),i=a(329),r=a(10),l=a(672),s=a(270),o=a(289),j=a(300),d=a(0),u=Object(r.a)(l.a)({display:"flex"});function b(e){var t=e.name,a=e.children,r=e.value,l=e.placeholder,b=e.defaultValue,h=void 0===b?0:b,x=e.onValueChange,O=e.percent,v=void 0!==O&&O,p=e.disabled,f=void 0!==p&&p,m=Object(c.a)(e,["name","children","value","placeholder","defaultValue","onValueChange","percent","disabled"]);return Object(d.jsxs)(u,Object(n.a)(Object(n.a)({},m),{},{children:[a,Object(d.jsx)(j.a,{sx:{whiteSpace:"nowrap"},children:t}),Object(d.jsx)(o.a,{sx:{flexBasis:30,flexGrow:1},children:Object(d.jsx)(o.c,{sx:{px:1},inputProps:{sx:{textAlign:"right"}},float:v,placeholder:l,value:r,onChange:x,disabled:f,endAdornment:v?"%":void 0})}),Object(d.jsx)(s.a,{onClick:function(){return x(h)},disabled:f||r===h,children:Object(d.jsx)(i.a,{})})]}))}},303:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var n,c,i,r=a(46),l=a(3),s=a(51),o=a(17),j=a(339),d=a(340),u=a(79),b=a(168),h=a(393),x=a(219),O=a(347),v=a(271),p=a(263),f=a(348),m=a(395),g=a(672),y=a(270),S=a(702),w=a(1),k=a(128),C=a(291),_=a(275),B=a(290),K=a(295),A=a(32),N=a(279),T=a(280),F=a(172),V=a(130),E=a(40),M=a(70),D=a(137),L=a(15),R=a(81),q=a(131),W=a(138),z=a(304),I=a(0),G=new Set(M.b);function U(e){var t,a,M,U,P=e.artifactId,H=e.artifactObj,J=e.onEdit,X=e.onDelete,Q=e.mainStatAssumptionLevel,Y=void 0===Q?0:Q,Z=e.effFilter,$=void 0===Z?G:Z,ee=Object(k.a)(["artifact"]).t,te=Object(w.useContext)(F.b),ae=Object(w.useState)(void 0),ne=Object(l.a)(ae,2),ce=ne[0],ie=ne[1];Object(w.useEffect)((function(){return P?te.followArt(P,ie):void 0}),[P,ie,te]);var re=Object(V.a)(q.a.get(null===(t=null!==H&&void 0!==H?H:P?te._getArt(P):void 0)||void 0===t?void 0:t.setKey),[H,P]),le=!H&&te===F.c,se=null!==H&&void 0!==H?H:ce;if(!se)return null;var oe=se.id,je=se.lock,de=se.slotKey,ue=se.rarity,be=se.level,he=se.mainStatKey,xe=se.substats,Oe=se.exclude,ve=se.location,pe=void 0===ve?"":ve,fe=Math.max(Math.min(Y,4*ue),be),me="roll"+(Math.floor(Math.max(be,0)/4)+1),ge=Object(I.jsx)(A.a,{color:fe!==be?"warning":void 0,children:Object(D.b)(null!==(a=R.a.mainStatValue(he,ue,fe))&&void 0!==a?a:0,E.b.getStatUnit(he))}),ye=R.a.getArtifactEfficiency(se,$),Se=ye.currentEfficiency,we=ye.maxEfficiency,ke=0!==we,Ce=(null===re||void 0===re?void 0:re.getSlotName(de))||"Unknown Piece Name",_e=null===re||void 0===re?void 0:re.getSlotDesc(de),Be=_e&&Object(I.jsx)(C.a,{placement:"top",title:Object(I.jsx)(u.a,{children:_e}),children:Object(I.jsx)("span",{children:Object(I.jsx)(o.a,{icon:s.s})})}),Ke=null===re||void 0===re?void 0:re.setEffects,Ae=re&&Ke&&Object(I.jsx)(C.a,{placement:"top",title:Object(I.jsx)("span",{children:Object.keys(Ke).map((function(e){return Object(I.jsxs)("span",{children:[Object(I.jsx)(u.a,{variant:"h6",children:Object(I.jsx)(N.a,{color:"success",children:ee("setEffectNum",{setNum:e})})}),Object(I.jsx)(u.a,{children:re.setEffectDesc(e)})]},e)}))}),children:Object(I.jsx)("span",{children:Object(I.jsx)(o.a,{icon:s.s})})});return Object(I.jsx)(w.Suspense,{fallback:Object(I.jsx)(b.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(I.jsxs)(_.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(I.jsxs)(h.a,{className:"grad-".concat(ue,"star"),sx:{py:1},children:[Object(I.jsxs)(x.a,{component:"div",sx:{display:"flex",alignItems:"center"},children:[Object(I.jsx)(O.a,{label:Object(I.jsx)("strong",{children:" +".concat(be)}),color:me}),Object(I.jsxs)(u.a,{sx:{pl:1,flexGrow:1},children:[Ce," ",Be]}),Object(I.jsx)(v.a,{color:"secondary",disabled:!le,onClick:function(){return te.updateArt({lock:!je},oe)},children:je?Object(I.jsx)(j.a,{}):Object(I.jsx)(d.a,{})})]}),Object(I.jsxs)(p.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(I.jsxs)(p.a,{item:!0,flexGrow:1,children:[Object(I.jsx)(u.a,{color:"text.secondary",variant:"body2",children:Object(I.jsx)(W.c,{slotKey:de})}),Object(I.jsx)(u.a,{variant:"h6",children:E.b.getStatName(he)}),Object(I.jsx)(u.a,{variant:"h5",children:Object(I.jsx)("strong",{children:ge})}),Object(I.jsx)(T.a,{stars:ue,colored:!0})]}),Object(I.jsx)(p.a,{item:!0,xs:3,md:4,children:Object(I.jsx)(f.a,{component:"img",image:null!==(M=null===re||void 0===re?void 0:re.slotIcons[de])&&void 0!==M?M:"",width:"100%",height:"auto"})})]})]}),Object(I.jsxs)(h.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[xe.map((function(e,t){var a,n,c;if(!e.value)return null;var i=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,r="roll".concat(Object(L.a)(i,1,6)),l=null!==(c=e.efficiency)&&void 0!==c?c:0,s=.3+l/100*.7,o=E.b.getStatName(e.key);return Object(I.jsxs)(x.a,{sx:{display:"flex"},children:[Object(I.jsxs)(x.a,{sx:{flexGrow:1},children:[Object(I.jsx)(N.a,{color:i?r:"error",sx:{mr:1},children:Object(I.jsx)("strong",{children:i||"?"})}),Object(I.jsxs)(u.a,{color:i?"".concat(r,".main"):"error.main",component:"span",children:[o,"+".concat(Object(D.b)(e.value,E.b.getStatUnit(e.key)))]})]}),Object(I.jsx)(u.a,{sx:{opacity:s},children:e.key&&$.has(e.key)?Object(D.b)(l,"eff"):"-"})]},t)})),Object(I.jsxs)(x.a,{sx:{display:"flex",my:1},children:[Object(I.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ee(n||(n=Object(r.a)(["editor.curSubEff"])))}),Object(I.jsx)(z.a,{value:Se,valid:ke})]}),Se!==we&&Object(I.jsxs)(x.a,{sx:{display:"flex",mb:1},children:[Object(I.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ee(c||(c=Object(r.a)(["editor.maxSubEff"])))}),Object(I.jsx)(z.a,{value:we,valid:ke})]}),Object(I.jsx)(x.a,{flexGrow:1}),Object(I.jsxs)(u.a,{color:"success.main",children:[null!==(U=null===re||void 0===re?void 0:re.name)&&void 0!==U?U:"Artifact Set"," ",Ae]})]}),Object(I.jsx)(m.a,{children:Object(I.jsxs)(p.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(I.jsx)(p.a,{item:!0,xs:"auto",flexShrink:1,children:le?Object(I.jsx)(B.b,{size:"small",inventory:!0,value:pe,onChange:function(e){return te.setArtLocation(P,e)}}):Object(I.jsx)(K.a,{location:pe})}),Object(I.jsx)(p.a,{item:!0,flexGrow:1,sx:{mr:1}}),le&&Object(I.jsx)(p.a,{item:!0,xs:"auto",children:Object(I.jsxs)(g.a,{sx:{height:"100%"},children:[!!J&&Object(I.jsx)(y.a,{color:"info",onClick:function(){return J(oe)},size:"small",children:Object(I.jsx)(o.a,{icon:s.m,className:"fa-fw"})}),Object(I.jsx)(S.a,{title:Object(I.jsx)(u.a,{children:ee(i||(i=Object(r.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(I.jsx)(y.a,{onClick:function(){return te.updateArt({exclude:!Oe},oe)},color:Oe?"error":"success",size:"small",children:Object(I.jsx)(o.a,{icon:Oe?s.b:s.e,className:"fa-fw"})})}),!!X&&Object(I.jsx)(y.a,{color:"error",size:"small",onClick:function(){return X(oe)},disabled:je,children:Object(I.jsx)(o.a,{icon:s.D,className:"fa-fw"})})]})})]})})]})})}},304:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),c=a(279),i=a(15),r=a(0);function l(e){var t=e.value,a=e.valid,l="number"===typeof t?["roll".concat(Object(i.a)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(l,2),o=s[0],j=s[1];return a||(o="error"),Object(r.jsx)(c.a,{color:o,children:j})}},306:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(11),c=a(3),i=a(393),r=a(263),l=a(252),s=a(349),o=a(219),j=a(79),d=a(1),u=a(282),b=a(130),h=a(20),x=a(134),O=a(276),v=a(275),p=a(283),f=a(96),m=a(286),g=a(280),y=a(296),S=a(0);function w(e){var t=e.show,a=e.onHide,w=e.onSelect,k=e.filter,C=void 0===k?function(){return!0}:k,_=e.weaponFilter,B=Object(b.a)(x.a.getAll(),[]),K=Object(d.useState)(null!==_&&void 0!==_?_:""),A=Object(c.a)(K,2),N=A[0],T=A[1];Object(d.useEffect)((function(){return _&&T(_)}),[_]);var F=B?Object(n.a)(new Set(h.i)).filter((function(e){return C(B[e])})).filter((function(e){var t;return!N||N===(null===B||void 0===B||null===(t=B[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,n,c,i;return(null!==(a=null===B||void 0===B||null===(n=B[t])||void 0===n?void 0:n.rarity)&&void 0!==a?a:0)-(null!==(c=null===B||void 0===B||null===(i=B[e])||void 0===i?void 0:i.rarity)&&void 0!==c?c:0)})):[];return B?Object(S.jsx)(m.a,{open:t,onClose:a,children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(i.a,{sx:{py:1},children:Object(S.jsxs)(r.a,{container:!0,children:[Object(S.jsx)(r.a,{item:!0,flexGrow:1,children:Object(S.jsx)(y.a,{value:N,onChange:T,disabled:!!_,size:"small"})}),Object(S.jsx)(r.a,{item:!0,children:Object(S.jsx)(p.a,{onClick:a})})]})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(i.a,{children:Object(S.jsx)(r.a,{container:!0,spacing:1,children:F.map((function(e){var t,n=B[e];return Object(S.jsx)(r.a,{item:!0,lg:3,md:4,children:Object(S.jsx)(v.a,{sx:{height:"100%"},children:Object(S.jsxs)(s.a,{onClick:function(){a(),w(e)},sx:{display:"flex"},children:[Object(S.jsx)(o.a,{component:"img",src:n.img,sx:{width:100,height:"auto"},className:" grad-".concat(n.rarity,"star")}),Object(S.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(S.jsx)(j.a,{variant:"subtitle1",children:n.name}),Object(S.jsxs)(j.a,{children:[Object(S.jsx)(f.a,{src:null===(t=u.a.weaponTypes)||void 0===t?void 0:t[n.weaponType]})," ",Object(S.jsx)(g.a,{stars:n.rarity,colored:!0})]})]})]})})},e)}))})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(i.a,{sx:{py:1},children:Object(S.jsx)(p.a,{large:!0,onClick:a})})]})}):null}},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var n=a(3),c=a(51),i=a(17),r=a(339),l=a(340),s=a(349),o=a(168),j=a(671),d=a(271),u=a(219),b=a(263),h=a(79),x=a(393),O=a(672),v=a(270),p=a(1),f=a(282),m=a(275),g=a(290),y=a(295),S=a(297),w=a(96),k=a(280),C=a(132),_=a(47),B=a(172),K=a(130),A=a(40),N=a(134),T=a(0);function F(e){var t,a=e.weaponId,F=e.onClick,V=e.onEdit,E=e.onDelete,M=e.canEquip,D=void 0!==M&&M,L=Object(p.useContext)(B.b),R=Object(p.useState)(void 0),q=Object(n.a)(R,2),W=q[0],z=q[1];Object(p.useEffect)((function(){return a?L.followWeapon(a,z):void 0}),[a,z,L]);var I=W,G=Object(K.a)((null===I||void 0===I?void 0:I.key)&&N.a.get(I.key),[null===I||void 0===I?void 0:I.key]),U=Object(p.useCallback)((function(e){return e.weaponTypeKey===(null===G||void 0===G?void 0:G.weaponType)}),[G]),P=Object(p.useCallback)((function(e){return Object(T.jsx)(s.a,{onClick:function(){return null===F||void 0===F?void 0:F(a)},sx:{height:"100%"},children:e})}),[F,a]),H=Object(p.useCallback)((function(e){return L.setWeaponLocation(a,e)}),[L,a]);if(!I||!G)return null;var J=I.level,X=I.ascension,Q=I.refinement,Y=I.id,Z=I.location,$=void 0===Z?"":Z,ee=I.lock,te=G.weaponType,ae=G.getMainStatValue(J,X).toFixed(A.b.fixedUnit("atk")),ne=G.getSubStatKey(),ce=G.getSubStatValue(J,X).toFixed(A.b.fixedUnit(ne)),ie=[["weaponATK",ae]];return(null===G||void 0===G?void 0:G.passiveName)&&ie.push([ne,ce]),Object(T.jsx)(p.Suspense,{fallback:Object(T.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(T.jsx)(S.a,{condition:!!F,wrapper:P,children:Object(T.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(T.jsxs)("div",{className:"grad-".concat(G.rarity,"star"),children:[Object(T.jsx)(j.a,{title:G.name,avatar:Object(T.jsx)(w.a,{sx:{fontSize:"2em"},src:null===(t=f.a.weaponTypes)||void 0===t?void 0:t[te]}),titleTypographyProps:{variant:"h6"},action:!F&&Object(T.jsx)(d.a,{color:"secondary",onClick:function(){return L.updateWeapon({lock:!ee},Y)},children:ee?Object(T.jsx)(r.a,{}):Object(T.jsx)(l.a,{})})}),Object(T.jsx)(u.a,{sx:{px:2},children:Object(T.jsxs)(b.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(T.jsxs)(b.a,{item:!0,flexGrow:1,children:[Object(T.jsxs)(h.a,{component:"span",variant:"h4",children:["Lv. ",J]}),Object(T.jsxs)(h.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",_.b[X]]}),Object(T.jsxs)(h.a,{variant:"h5",children:["Refinement ",Object(T.jsx)("strong",{children:Q})]}),Object(T.jsx)(h.a,{children:Object(T.jsx)(k.a,{stars:G.rarity,colored:!0})})]}),Object(T.jsx)(b.a,{item:!0,container:!0,xs:3,md:4,alignContent:"flex-end",children:Object(T.jsx)(u.a,{component:"img",src:G.img,width:"100%",height:"auto",sx:{mt:"auto"}})})]})})]}),Object(T.jsx)(x.a,{children:ie.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=A.b.getStatUnit(a);return Object(T.jsxs)(u.a,{sx:{display:"flex"},children:[Object(T.jsxs)(h.a,{flexGrow:1,children:[C.a[a]," ",A.b.getStatName(a)]}),Object(T.jsx)(h.a,{children:c+i})]},a)}))}),Object(T.jsx)(u.a,{flexGrow:1}),Object(T.jsxs)(b.a,{container:!0,sx:{flexWrap:"nowrap",py:1,px:2},children:[Object(T.jsx)(b.a,{item:!0,xs:"auto",flexShrink:1,children:D?Object(T.jsx)(g.b,{size:"small",noUnselect:!0,inventory:!0,value:$,onChange:H,filter:U}):Object(T.jsx)(y.a,{location:$})}),Object(T.jsx)(b.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(T.jsx)(b.a,{item:!0,xs:"auto",children:Object(T.jsxs)(O.a,{sx:{height:"100%"},children:[!!V&&Object(T.jsx)(v.a,{color:"info",size:"small",onClick:function(){return V(Y)},children:Object(T.jsx)(i.a,{icon:c.m,className:"fa-fw"})}),!!E&&Object(T.jsx)(v.a,{color:"error",size:"small",onClick:function(){return E(Y)},disabled:!!$||ee,children:Object(T.jsx)(i.a,{icon:c.D,className:"fa-fw"})})]})})]})]})})})}},309:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(219),c=a(393),i=a(79),r=a(276),l=a(293),s=a(285),o=a(279),j=a(130),d=a(112),u=a(131),b=a(0);function h(e){var t=e.setKey,a=e.setNumKey,h=e.equippedBuild,x=e.newBuild,O=Object(j.a)(u.a.get(t),[t]);if(!O)return null;var v=null!==x&&void 0!==x?x:h,p=O.setEffectDesc(a),f=O.setNumStats(a,v),m=Object(d.a)(f,v),g=O.setEffectDocument(a);return Object(b.jsxs)(n.a,{sx:{mt:1,"> div":{mb:1}},children:[Object(b.jsxs)(r.a,{children:[Object(b.jsx)(c.a,{children:Object(b.jsxs)(i.a,{children:[Object(b.jsxs)(o.a,{color:"success",children:[a,"-Set"]})," ",p]})}),Object(b.jsx)(s.a,{sx:{m:0},children:m.map((function(e,t){return Object(b.jsx)(s.b,{field:e},t)}))})]}),g?Object(b.jsx)(l.a,{sections:g,characterKey:v.characterKey}):null]})}},316:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(3),c=a(263),i=a(393),r=a(79),l=a(252),s=a(276),o=a(301),j=a(292),d=a(0);function u(e){var t=e.sheets,a=e.sheets,u=a.characterSheet,b=a.weaponSheet,h=e.character,x=e.equippedBuild,O=e.newBuild,v=e.statsDisplayKeys,p=O||x;return Object(d.jsx)(c.a,{container:!0,spacing:1,children:Object.entries(v).map((function(e){var a=Object(n.a)(e,2),v=a[0],f=a[1],m=Object(j.a)(v,t,null===p||void 0===p?void 0:p.characterEle);return Object(d.jsx)(c.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(d.jsx)(s.a,{sx:{height:"100%"},children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(r.a,{variant:"subtitle1",gutterBottom:!0,children:m}),Object(d.jsx)(l.a,{sx:{mb:1,mx:-2}}),f.map((function(e){return Object(d.jsx)(o.a,{characterSheet:u,weaponSheet:b,character:h,equippedBuild:x,newBuild:O,statKey:e},JSON.stringify(e))}))]})})},v)}))})}},317:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"c",(function(){return B})),a.d(t,"a",(function(){return K}));var n=a(5),c=a(11),i=a(3),r=a(51),l=a(17),s=a(324),o=a(393),j=a(263),d=a(347),u=a(79),b=a(336),h=a(270),x=a(1),O=a(281),v=a(302),p=a(284),f=a(40),m=a(20),g=a(42),y=a(275),S=a(32),w=a(294),k=a(132),C=a(0);function _(e){var t=e.character,a=Object(x.useState)(!1),n=Object(i.a)(a,2),r=n[0],l=n[1],h=Object(x.useCallback)((function(){return l(!r)}),[l,r]);return Object(C.jsxs)(y.a,{children:[Object(C.jsx)(o.a,{children:Object(C.jsxs)(j.a,{container:!0,children:[Object(C.jsx)(j.a,{item:!0,flexGrow:1,alignItems:"center",children:Object(C.jsxs)(j.a,{container:!0,spacing:1,children:[Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(d.a,{size:"small",color:"success",label:Object(C.jsxs)("span",{children:[f.b.getStatName("enemyLevel")," ",Object(C.jsx)("strong",{children:O.a.getStatValueWithBonus(t,"enemyLevel")})]})})}),["physical"].concat(Object(c.a)(m.d)).map((function(e){return Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(u.a,{children:Object(C.jsx)(B,{element:e,character:t})},e)},e)})),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsxs)(u.a,{children:["DEF Reduction ",O.a.getStatValueWithBonus(t,"enemyDEFRed_"),"%"]})})]})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(w.a,{expand:r,onClick:h,"aria-expanded":r,"aria-label":"show more",size:"small",sx:{p:0},children:Object(C.jsx)(s.a,{})})})]})}),Object(C.jsx)(b.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(C.jsx)(o.a,{sx:{pt:0},children:Object(C.jsx)(K,{character:t})})})]})}function B(e){var t=e.character,a=e.element,n=!!O.a.getStatValueWithBonus(t,"".concat(a,"_enemyImmunity")),c="".concat(a,"_enemyRes_"),i=n?Object(C.jsxs)("span",{children:[k.b[a]," IMMUNE"]}):Object(C.jsxs)("span",{children:[k.b[a],"RES ",Object(C.jsxs)("strong",{children:[O.a.getStatValueWithBonus(t,c),"%"]})]});return Object(C.jsx)(S.a,{color:a,children:i})}function K(e){var t=e.character,a=e.character.key,i=e.bsProps,s=void 0===i?{xs:12,md:6}:i,o=Object(p.a)(a),d=Object(g.b)(t);return Object(C.jsxs)(j.a,{container:!0,spacing:1,children:[Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(h.a,{fullWidth:!0,sx:{height:"100%"},size:"small",component:"a",color:"warning",href:"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})),Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:"Enemy Level"}),value:O.a.getStatValueWithBonus(t,"enemyLevel"),placeholder:f.b.getStatNameRaw("enemyLevel"),defaultValue:d.enemyLevel,onValueChange:function(e){return o({type:"bonusStats",statKey:"enemyLevel",value:e})}})})),["physical"].concat(Object(c.a)(m.d)).map((function(e){var a="".concat(e,"_enemyRes_"),c="".concat(e,"_enemyImmunity"),i=O.a.getStatValueWithBonus(t,c);return Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:f.b.getStatName(a)}),value:O.a.getStatValueWithBonus(t,a),placeholder:f.b.getStatNameRaw(a),defaultValue:d[a],onValueChange:function(e){return o({type:"bonusStats",statKey:a,value:e})},disabled:i,percent:!0,children:Object(C.jsxs)(h.a,{color:e,onClick:function(){return o({type:"bonusStats",statKey:c,value:!i})},children:[Object(C.jsx)(l.a,{icon:i?r.f:r.z,className:"fa-fw"})," Immunity"]})})}),e)})),Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:f.b.getStatName("enemyDEFRed_")}),value:O.a.getStatValueWithBonus(t,"enemyDEFRed_"),placeholder:f.b.getStatNameRaw("enemyDEFRed_"),defaultValue:d.enemyDEFRed_,onValueChange:function(e){return o({type:"bonusStats",statKey:"enemyDEFRed_",value:e})},percent:!0})})),Object(C.jsx)(j.a,{item:!0,xs:12,children:Object(C.jsx)("small",{children:"Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)"})})]})}},318:function(e,t,a){"use strict";a.d(t,"c",(function(){return y})),a.d(t,"d",(function(){return S})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return k}));var n=a(5),c=a(3),i=a(129),r=a(716),l=a(717),s=a(393),o=a(263),j=a(1),d=a(111),u=a(133),b=a(284),h=a(130),x=a(275),O=a(32),v=a(277),p=a(287),f=a(132),m=a(0),g={"":Object(m.jsx)("span",{children:"No External Infusion"}),pyro:Object(m.jsxs)("span",{children:[f.b.pyro," Pyro Infusion"]}),cryo:Object(m.jsxs)("span",{children:[f.b.cryo," Cryo Infusion"]})};function y(e){var t=e.character,a=t.infusionAura,l=void 0===a?"":a,s=t.key,o=Object(i.a)(e,["character"]),j=Object(h.a)(u.b.get(s),[s]),d=Object(b.a)(s);return(null===j||void 0===j?void 0:j.isMelee())?Object(m.jsx)(v.a,Object(n.a)(Object(n.a)({title:g[l],color:l||"secondary"},o),{},{children:Object.entries(g).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(m.jsx)(r.a,{sx:a?{color:"".concat(a,".main")}:void 0,selected:a===l,disabled:a===l,onClick:function(){return d({infusionAura:a})},children:n},a)}))})):null}function S(e){var t=e.character,a=t.reactionMode,c=void 0===a?"":a,r=t.infusionAura,s=t.key,o=e.build,j=Object(i.a)(e,["character","build"]),d=Object(b.a)(s);if(!o)return null;var u=o.characterEle;return["pyro","hydro","cryo"].includes(u)||["pyro","hydro","cryo"].includes(r)?Object(m.jsxs)(p.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return d({reactionMode:t})}},j),{},{children:[Object(m.jsx)(l.a,{value:"",children:"No Reactions"}),("pyro"===u||"pyro"===r)&&Object(m.jsx)(l.a,{value:"pyro_vaporize",children:Object(m.jsxs)(O.a,{color:"vaporize",children:["Vaporize(Pyro)",f.a.hydro,"+",f.a.pyro]})}),("pyro"===u||"pyro"===r)&&Object(m.jsx)(l.a,{value:"pyro_melt",children:Object(m.jsxs)(O.a,{color:"melt",children:["Melt(Pyro) ",f.a.cryo,"+",f.a.pyro]})}),("hydro"===u||"hydro"===r)&&Object(m.jsx)(l.a,{value:"hydro_vaporize",children:Object(m.jsxs)(O.a,{color:"vaporize",children:["Vaporize(Hydro) ",f.a.pyro,"+",f.a.hydro]})}),("cryo"===u||"cryo"===r)&&Object(m.jsx)(l.a,{value:"cryo_melt",children:Object(m.jsxs)(O.a,{color:"melt",children:["Melt(Cryo) ",f.a.pyro,"+",f.a.cryo]})})]})):null}function w(e){var t=e.character,a=t.hitMode,c=void 0===a?"avgHit":a,r=t.key,s=Object(i.a)(e,["character"]),o=Object(b.a)(r);return Object(m.jsxs)(p.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return o({hitMode:t})}},s),{},{children:[Object(m.jsx)(l.a,{value:"avgHit",children:"Avg. DMG"}),Object(m.jsx)(l.a,{value:"hit",children:"Non Crit DMG"}),Object(m.jsx)(l.a,{value:"critHit",children:"Crit Hit DMG"})]}))}function k(e){var t=e.character,a=Object(j.useContext)(d.a),n=a.newBuild,c=a.equippedBuild,i=n||c;return Object(m.jsx)(x.a,{children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(o.a,{container:!0,spacing:1,children:[Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(w,{character:t,size:"small"})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(y,{character:t})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(S,{character:t,build:i,size:"small"})})]})})})}},320:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return U}));var n=a(7),c=a(11),i=a(5),r=a(3),l=a(339),s=a(340),o=a(353),j=a(393),d=a(263),u=a(672),b=a(270),h=a(716),x=a(252),O=a(219),v=a(79),p=a(1),f=a(282),m=a(111),g=a(133),y=a(276),S=a(275),w=a(290),k=a(283),C=(a(32),a(289)),_=a(293),B=a(277),K=a(96),A=a(286),N=a(279),T=a(280),F=a(306),V=a(47),E=a(172),M=a(288),D=a(130),L=a(15),R=a(307),q=a(134),W=a(285),z=a(112),I=a(0);function G(e){var t=e.title,a=e.statsVals,n=void 0===a?{}:a,c=e.stats;if(0===Object.keys(n).filter((function(e){return"modifiers"!==e})).length)return null;var i=Object(z.a)(n,c);return Object(I.jsxs)(y.a,{sx:{mb:1},children:[Object(I.jsx)(j.a,{children:Object(I.jsx)(v.a,{children:t})}),Object(I.jsx)(W.a,{children:i.map((function(e,t){return Object(I.jsx)(W.b,{field:e},t)}))})]})}function U(e){var t,a,o=e.weaponId,f=e.charData,y=e.footer,K=void 0!==y&&y,A=e.onClose,R=Object(p.useContext)(E.b),W=Object(M.a)(),z=Object(r.a)(W,2),U=z[0],H=z[1],J=Object(p.useContext)(m.a),X=Object(p.useMemo)((function(){return U&&R._getWeapon(o)}),[o,U,R]),Q=X.key,Y=X.level,Z=X.refinement,$=X.ascension,ee=X.lock,te=X,ae=te.location,ne=void 0===ae?"":ae,ce=te.id,ie=Object(D.a)(q.a.get(Q),[Q]),re=null===ie||void 0===ie?void 0:ie.weaponType;Object(p.useEffect)((function(){return o?R.followWeapon(o,H):void 0}),[o,H,R]);var le=Object(p.useCallback)((function(e){R.updateWeapon(e,o)}),[o,R]),se=Object(p.useCallback)((function(e){e=Object(L.a)(e,1,90);var t=V.b.findIndex((function(t){return e<=t}));le({level:e,ascension:t})}),[le]),oe=Object(p.useCallback)((function(){var e=V.b.findIndex((function(e){return 90!==Y&&Y===e}));le($===e?{ascension:$+1}:{ascension:e})}),[le,$,Y]),je=Object(i.a)({},f?null!==(t=f.newBuild)&&void 0!==t?t:f.equippedBuild:{weapon:{refineIndex:Z-1,level:Y,ascension:$}}),de=Object(D.a)(ne?g.b.get(ne):void 0,[ne]),ue=de?function(e){return e.weaponType===de.weaponTypeKey}:void 0,be=de&&de.weaponTypeKey,he=Object(p.useCallback)((function(e){return ce&&R.setWeaponLocation(ce,e)}),[R,ce]),xe=Object(p.useCallback)((function(e){return e.weaponTypeKey===(null===ie||void 0===ie?void 0:ie.weaponType)}),[ie]),Oe=Object(p.useState)(!1),ve=Object(r.a)(Oe,2),pe=ve[0],fe=ve[1];return Object(I.jsxs)(S.a,{children:[Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,spacing:1,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsxs)(d.a,{container:!0,spacing:1,children:[Object(I.jsxs)(d.a,{item:!0,children:[Object(I.jsx)(F.a,{show:pe,onHide:function(){return fe(!1)},onSelect:function(e){return le({key:e})},filter:ue,weaponFilter:be}),Object(I.jsxs)(u.a,{children:[Object(I.jsx)(b.a,{onClick:function(){return fe(!0)},children:null!==(a=null===ie||void 0===ie?void 0:ie.name)&&void 0!==a?a:"Select a Weapon"}),Object(I.jsxs)(B.a,{title:"Refinement ".concat(Z),children:[Object(I.jsx)(h.a,{children:"Select Weapon Refinement"}),Object(I.jsx)(x.a,{}),Object(c.a)(Array(5).keys()).map((function(e){return Object(I.jsx)(h.a,{onClick:function(){return le({refinement:e+1})},selected:Z===e+1,disabled:Z===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsxs)(u.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(I.jsx)(C.a,{children:Object(I.jsx)(C.c,{onChange:se,value:Y,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(I.jsx)(b.a,{sx:{pl:1},disabled:!Object(V.a)(Y),onClick:oe,children:Object(I.jsxs)("strong",{children:["/ ",V.b[$]]})}),Object(I.jsx)(B.a,{title:"Select Level",children:V.c.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1],c=a===V.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(V.b[n]),i=a===Y&&n===$;return Object(I.jsx)(h.a,{selected:i,disabled:i,onClick:function(){return le({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(b.a,{color:"error",onClick:function(){return ce&&R.updateWeapon({lock:!ee},ce)},startIcon:ee?Object(I.jsx)(l.a,{}):Object(I.jsx)(s.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!A&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{onClick:A})}),!!f&&R===E.c&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(P,{weaponTypeKey:re,onChangeId:function(e){return R.setWeaponLocation(e,f.character.key)}})})]})}),Object(I.jsx)(x.a,{}),Object(I.jsx)(j.a,{children:function(){if(!ie)return null;var e=ie.getSubStatKey(),t=ie.getMainStatValue(Y,$),a=ie.getSubStatValue(Y,$),c=ie.passiveName,i=ie.stats(je),r=ie.document;return Object(I.jsxs)(d.a,{container:!0,spacing:1,children:[Object(I.jsxs)(d.a,{item:!0,xs:12,sm:6,md:3,lg:4,children:[Object(I.jsx)(O.a,{component:"img",src:ie.img,className:"grad-".concat(ie.rarity,"star"),sx:{width:"100%",height:"auto",borderRadius:1}}),Object(I.jsx)(v.a,{children:Object(I.jsx)("small",{children:ie.description})})]}),Object(I.jsxs)(d.a,{item:!0,sx:{mb:-1},xs:12,sm:6,md:9,lg:8,children:[Object(I.jsxs)(v.a,{variant:"h6",children:[!1,ie.name," Lv. ",q.a.getLevelString(X)," ",c&&Object(I.jsxs)(N.a,{color:"info",children:["Refinement ",Z]})]}),Object(I.jsx)(v.a,{children:Object(I.jsx)(T.a,{stars:ie.rarity})}),Object(I.jsx)(v.a,{variant:"subtitle1",children:c}),Object(I.jsx)(v.a,{gutterBottom:!0,children:c&&ie.passiveDescription(je)}),je&&Object(I.jsxs)(m.a.Provider,{value:f?J:{equippedBuild:je,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(I.jsx)(G,{title:"Main Stats",statsVals:Object(n.a)({atk:t},e,e?a:void 0),stats:je}),Object(I.jsx)(G,{title:"Bonus Stats",statsVals:i,stats:je})]}),f&&r?function(){var e,t=f.equippedBuild,a=f.newBuild,n=null===(e=a||t)||void 0===e?void 0:e.characterKey;return!!n&&Object(I.jsx)(_.a,{sections:r,equippedBuild:t,newBuild:a,characterKey:n})}():null]})]})}()}),K&&ce&&Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsx)(w.b,{noUnselect:!0,inventory:!0,value:ne,onChange:he,filter:xe})}),!!A&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{large:!0,onClick:A})})]})})]})}function P(e){var t=e.onChangeId,a=e.weaponTypeKey,n=Object(p.useContext)(E.b),c=Object(p.useState)(!1),i=Object(r.a)(c,2),l=i[0],s=i[1],u=function(){return s(!1)},h=function(e){t(e),u()},O=Object(D.a)(q.a.getAll(),[]),m=n.weapons.keys.filter((function(e){var t,c=n._getWeapon(e);return!!c&&(!a||a===(null===O||void 0===O||null===(t=O[c.key])||void 0===t?void 0:t.weaponType))}));return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(b.a,{color:"info",onClick:function(){return s(!0)},startIcon:Object(I.jsx)(o.a,{}),children:"SWAP WEAPON"}),Object(I.jsx)(A.a,{open:l,onClose:u,children:Object(I.jsxs)(y.a,{children:[Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsxs)(v.a,{variant:"h6",children:[a?Object(I.jsx)(K.a,{src:f.a.weaponTypes[a]}):null," Swap Weapon"]})}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{onClick:u})})]})}),Object(I.jsx)(x.a,{}),Object(I.jsx)(j.a,{children:Object(I.jsx)(d.a,{container:!0,spacing:1,children:m.map((function(e){return Object(I.jsx)(d.a,{item:!0,lg:4,md:6,children:Object(I.jsx)(R.a,{weaponId:e,onClick:h})},e)}))})})]})})]})}},321:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Le}));var n=a(3),c=a(5),i=a(129),r=a(168),l=a(393),s=a(263),o=a(392),j=a(79),d=a(260),u=a(267),b=a(252),h=a(672),x=a(270),O=a(716),v=a(1),p=a(131),f=a(111),m=a(276),g=a(275),y=a(315),S=a(283),w=a(289),k=a(277),C=a(317),_=a(324),B=a(336),K=a(451),A=a(452),N=a(453),T=a(219),F=a(281),V=a(292),E=a(82),M=a(130),D=a(40),L=a(298),R=a(32),q=a(294),W=a(0);function z(e){var t=e.sheets,a=Object(v.useState)(!1),c=Object(n.a)(a,2),i=c[0],r=c[1],o=Object(v.useCallback)((function(){return r(!i)}),[r,i]),d=Object(v.useContext)(f.a),u=d.newBuild,b=d.equippedBuild,h=u||b;return Object(W.jsxs)(g.a,{children:[Object(W.jsx)(l.a,{children:Object(W.jsxs)(s.a,{container:!0,children:[Object(W.jsxs)(s.a,{item:!0,flexGrow:1,children:[Object(W.jsxs)(j.a,{children:["Formulas ","&"," Calculations"]}),Object(W.jsx)(j.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(W.jsx)(s.a,{item:!0,children:Object(W.jsx)(q.a,{expand:i,onClick:o,"aria-expanded":i,"aria-label":"show more",children:Object(W.jsx)(_.a,{})})})]})}),Object(W.jsx)(B.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(W.jsx)(l.a,{sx:{pt:0},children:Object(W.jsx)(I,{sheets:t,build:h})})})]})}function I(e){var t=e.sheets,a=e.build,c=Object(v.useMemo)((function(){return a&&F.a.getDisplayStatKeys(a,t)}),[a,t]);return a?Object(W.jsx)(v.Suspense,{fallback:Object(W.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object.entries(c).map((function(e){var c=Object(n.a)(e,2),i=c[0],r=c[1],s=Object(V.a)(i,t,a.characterEle);return Object(W.jsxs)(m.a,{sx:{mb:1},children:[Object(W.jsx)(l.a,{sx:{pb:1},children:Object(W.jsx)(j.a,{variant:"h6",children:s})}),Object(W.jsx)(b.a,{}),Object(W.jsx)(l.a,{children:r.map((function(e,t){if(Array.isArray(e))return Object(W.jsx)(G,{fieldKeys:e,build:a},t);if("string"===typeof e){var n=D.b.getPrintableFormulaStatKeyList(Object(L.a)(a,null===a||void 0===a?void 0:a.modifiers,[e]),null===a||void 0===a?void 0:a.modifiers).reverse();return Boolean(n.length)&&Object(W.jsxs)(K.a,{sx:{bgcolor:"contentLight.main"},children:[Object(W.jsx)(A.a,{expandIcon:Object(W.jsx)(_.a,{}),children:Object(W.jsx)(j.a,{children:D.b.printStat(e,a)})}),Object(W.jsx)(N.a,{children:n.map((function(e){return Object(W.jsxs)(j.a,{children:[D.b.printStat(e,a)," = ",Object(W.jsx)("small",{children:Object(W.jsx)(D.a,{statKey:e,stats:a,modifiers:a.modifiers,expand:!1})})]},e)}))})]},t)}return null}))})]},i)}))}):null}function G(e){var t,a,c,i,r=e.fieldKeys,l=e.build,s=Object(M.a)(E.a.get(r),[r]);if(!s)return null;var o=s.field,d=F.a.getTalentFieldValue(o,"text",l),u=F.a.getTalentFieldValue(o,"variant",l),b=F.a.getTalentFieldValue(o,"formulaText",l),h=null!==(t=F.a.getTalentFieldValue(o,"fixed",l))&&void 0!==t?t:0,x=null!==(a=F.a.getTalentFieldValue(o,"unit",l))&&void 0!==a?a:"",O=F.a.getTalentFieldValue(o,"formula",l,[]),v=Object(n.a)(O,2),p=v[0],f=v[1];if(!p||!f)return null;var m=null===p||void 0===p||null===(c=p(l))||void 0===c||null===(i=c.toFixed)||void 0===i?void 0:i.call(c,h),g=D.b.getPrintableFormulaStatKeyList(Object(L.a)(l,null===l||void 0===l?void 0:l.modifiers,f),null===l||void 0===l?void 0:l.modifiers).reverse();return Object(W.jsxs)(K.a,{sx:{bgcolor:"contentLight.main"},children:[Object(W.jsx)(A.a,{expandIcon:Object(W.jsx)(_.a,{}),children:Object(W.jsxs)(j.a,{children:[Object(W.jsx)(T.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(W.jsxs)(R.a,{color:"info",children:[m,x]})]})}),Object(W.jsxs)(N.a,{children:[Object(W.jsxs)(j.a,{children:[Object(W.jsx)(T.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(W.jsx)(R.a,{color:"info",children:m})," = ",Object(W.jsx)("small",{children:b})]}),g.map((function(e){return Object(W.jsxs)(j.a,{children:[D.b.printStat(e,l)," = ",Object(W.jsx)("small",{children:Object(W.jsx)(D.a,{statKey:e,stats:l,modifiers:l.modifiers,expand:!1})})]},e)}))]})]})}var U=a(318),P=a(96),H=a(62),J=a(47),X=a(172),Q=a(284),Y=a(288),Z=a(15),$=a(134),ee=a(717),te=a(24),ae=a(303),ne=a(309),ce=a(287),ie=a(20),re=a(316);var le=function(e){var t,a=e.sheets,c=e.character,i=e.character.key,r=Object(v.useContext)(f.a),d=r.newBuild,u=r.equippedBuild,h=r.compareBuild,O=r.setCompareBuild,m=Object(v.useContext)(X.b),y=Object(te.g)(),S=d||u,w=null!==(t=null===S||void 0===S?void 0:S.mainStatAssumptionLevel)&&void 0!==t?t:0,k=Object(v.useMemo)((function(){return S&&F.a.getDisplayStatKeys(S,a)}),[S,a]),C=Object(v.useCallback)((function(e){return y.push({pathname:"/artifact",artToEditId:e})}),[y]),_=Object(M.a)(p.a.getAll(),[]),B=Object(Y.a)(),K=Object(n.a)(B,2)[1];Object(v.useEffect)((function(){return m.followAnyArt(K)}));var A=Object(v.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&d&&d.equippedArtifacts&&m.equipArtifacts(i,d.equippedArtifacts)}),[i,d,m]),N=Object(v.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&m.equipArtifacts(i,Object(Z.o)(ie.h,(function(){return""})))}),[i,m]);return S?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(g.a,{sx:{mb:1},children:[Object(W.jsx)(l.a,{children:Object(W.jsx)(re.a,{sheets:a,character:c,equippedBuild:d&&!h?void 0:u,newBuild:d,statsDisplayKeys:k})}),Object(W.jsx)(b.a,{}),Object(W.jsx)(l.a,{sx:{py:1},children:Object(W.jsxs)(s.a,{container:!0,spacing:1,children:[Object(W.jsx)(s.a,{item:!0,children:d?Object(W.jsx)(x.a,{onClick:A,className:"mr-2",children:"Equip artifacts"}):m===X.c&&Object(W.jsx)(x.a,{color:"error",onClick:N,children:"Unequip all artifacts"})}),Object(W.jsx)(s.a,{item:!0,children:!!d&&Object(W.jsxs)(ce.a,{exclusive:!0,value:h,onChange:function(e,t){return null===O||void 0===O?void 0:O(t)},size:"small",children:[Object(W.jsx)(ee.a,{value:!1,children:Object(W.jsx)("small",{children:"Show New artifact Stats"})}),Object(W.jsx)(ee.a,{value:!0,children:Object(W.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(W.jsx)(s.a,{item:!0,flexGrow:1}),Object(W.jsx)(s.a,{item:!0,children:!!w&&Object(W.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(W.jsx)(j.a,{children:Object(W.jsxs)("strong",{children:["Assume Main Stats are Level ",w]})})})})]})})]}),Object(W.jsxs)(s.a,{container:!0,spacing:1,children:[Object(W.jsx)(s.a,{item:!0,xs:6,md:4,children:Object(W.jsx)(g.a,{sx:{height:"100%"},children:Object(W.jsx)(l.a,{sx:{height:"100%"},children:Object(W.jsx)(s.a,{container:!0,spacing:2,flexDirection:"column",height:"100%",children:_&&Object.entries(p.a.setEffects(_,S.setToSlots)).map((function(e){var t,a=Object(n.a)(e,2),c=a[0],r=a[1];return Object(W.jsxs)(s.a,{item:!0,children:[Object(W.jsx)(j.a,{variant:"subtitle1",gutterBottom:!0,children:null!==(t=null===_||void 0===_?void 0:_[c].name)&&void 0!==t?t:""}),r.map((function(e){return Object(W.jsx)(ne.a,{setKey:c,setNumKey:e,equippedBuild:u,newBuild:d,characterKey:i},c+e)}))]},c)}))})})})}),ie.h.map((function(e){var t,a,n;return!!(null===S||void 0===S||null===(t=S.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(W.jsx)(s.a,{item:!0,xs:6,md:4,children:Object(W.jsx)(ae.a,{artifactId:null===S||void 0===S||null===(n=S.equippedArtifacts)||void 0===n?void 0:n[e],mainStatAssumptionLevel:w,onEdit:function(){var t;return C(null===S||void 0===S||null===(t=S.equippedArtifacts)||void 0===t?void 0:t[e])}})},null===S||void 0===S||null===(a=S.equippedArtifacts)||void 0===a?void 0:a[e])}))]})]}):null},se=a(11),oe=a(51),je=a(17),de=a(348),ue=a(450),be=a(282),he=a(280),xe=a(301),Oe=a(132),ve=a(320),pe=a(302);function fe(e){var t,a=e.characterSheet,n=(e.weaponSheet,e.character),i=e.character,r=i.constellation,o=i.key,d=Object(v.useContext)(f.a),u=d.newBuild,b=d.equippedBuild,h=Object(Q.a)(o),x=u||b;if(!x)return null;var O=x.tlvl,p=x.characterEle,m=a.weaponTypeKey;return Object(W.jsxs)(s.a,{container:!0,spacing:1,children:[Object(W.jsx)(s.a,{item:!0,xs:12,md:3,children:Object(W.jsxs)(g.a,{children:[Object(W.jsx)(de.a,{src:a.cardImg,component:"img",width:"100%",height:"auto"}),Object(W.jsxs)(l.a,{children:[Object(W.jsxs)(j.a,{variant:"h5",children:[a.name," ",Object(W.jsx)(P.a,{src:null===(t=be.a.weaponTypes)||void 0===t?void 0:t[m]})," ",Oe.a[p]," "]}),Object(W.jsx)(j.a,{children:Object(W.jsx)(he.a,{stars:a.star,colored:!0})}),Object(W.jsxs)(j.a,{variant:"subtitle1",children:["Lvl. ",F.a.getLevelString(n)]}),Object(W.jsx)(s.a,{container:!0,spacing:1,children:["auto","skill","burst"].map((function(e){var t;return Object(W.jsx)(s.a,{item:!0,xs:4,children:Object(W.jsx)(ue.a,{badgeContent:O[e]+1,color:"skill"===e&&x.skillBoost||"burst"===e&&x.burstBoost?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(W.jsx)(T.a,{component:"img",src:null===(t=a.getTalentOfKey(e,x.characterEle))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(W.jsx)(j.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:a.constellationName}),Object(W.jsx)(s.a,{container:!0,spacing:1,children:Object(se.a)(Array(6).keys()).map((function(e){var t;return Object(W.jsx)(s.a,{item:!0,xs:4,children:Object(W.jsx)(T.a,{component:"img",src:null===(t=a.getTalentOfKey("constellation".concat(e+1),x.characterEle))||void 0===t?void 0:t.img,sx:Object(c.a)({cursor:"pointer"},r>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return h({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(W.jsxs)(s.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(W.jsx)(ve.default,{charData:{character:n,characterSheet:a,equippedBuild:b,newBuild:u,characterDispatch:h},weaponId:n.equippedWeapon}),Object(W.jsx)(me,{characterSheet:a,character:n,equippedBuild:b,newBuild:u})]})]})}function me(e){var t=e.characterSheet,a=e.character,n=e.character.key,i=e.equippedBuild,r=e.newBuild,l=Object(Q.a)(n),o=["eleMas","critRate_","critDMG_","enerRech_","heal_"],j=["finalHP","finalATK","finalDEF"];j.push.apply(j,o);var d=["hp","hp_","def","def_","atk","atk_"];d.push.apply(d,o);var u=[];["physical"].concat(Object(se.a)(ie.d)).forEach((function(e){u.push("".concat(e,"_dmg_")),u.push("".concat(e,"_res_"))})),u.push("stamina","incHeal_","shield_","cdRed_");var b=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","moveSPD_","atkSPD_","weakspotDMG_"],h=t.getSpecializedStat(a.ascension),x=t.getSpecializedStatVal(a.ascension),O=D.b.getStatUnit(h),v={character:a,equippedBuild:i,newBuild:r};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ge,{title:"Main Base Stats",content:Object(W.jsxs)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:[j.map((function(e){return Object(W.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(W.jsx)(xe.a,Object(c.a)({statKey:e},v))},e)})),Object(W.jsxs)(s.a,{item:!0,xs:12,lg:6,display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(W.jsxs)("span",{children:[Object(W.jsx)("b",{children:"Specialized:"})," ",Object(W.jsxs)("span",{children:[h&&Oe.a[h]," ",D.b.getStatName(h)]})]}),Object(W.jsx)("span",{children:"".concat(x.toFixed(D.b.fixedUnit(h))).concat(O)})]})]}),editContent:Object(W.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:d.map((function(e){var t;return Object(W.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(W.jsx)(pe.a,{disabled:void 0,name:Object(W.jsxs)("span",{children:[Oe.a[e]," ",D.b.getStatNameWithPercent(e)]}),placeholder:D.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===D.b.getStatUnit(e),onValueChange:function(t){return l({type:"bonusStats",statKey:e,value:t})}})},e)}))})}),Object(W.jsx)(ge,{title:"Other Stats",content:Object(W.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:u.map((function(e){return Object(W.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(W.jsx)(xe.a,Object(c.a)({statKey:e},v))},e)}))}),editContent:Object(W.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:u.map((function(e){var t;return Object(W.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(W.jsx)(pe.a,{name:Object(W.jsxs)("span",{children:[Oe.a[e]," ",D.b.getStatName(e)]}),placeholder:D.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:"stamina"===e?100:0,percent:"%"===D.b.getStatUnit(e),defaultValue:"stamina"===e?100:void 0,onValueChange:function(t){return l({type:"bonusStats",statKey:e,value:t})}})},e)}))})}),Object(W.jsx)(ge,{title:"Misc Stats",content:Object(W.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:b.map((function(e){return Object(W.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(W.jsx)(xe.a,Object(c.a)({statKey:e},v))},e)}))}),editContent:Object(W.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:b.map((function(e){var t;return Object(W.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(W.jsx)(pe.a,{name:Object(W.jsxs)("span",{children:[Oe.a[e]," ",D.b.getStatName(e)]}),placeholder:D.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===D.b.getStatUnit(e),onValueChange:function(t){return l({type:"bonusStats",statKey:e,value:t})}})},e)}))})})]})}function ge(e){var t=e.title,a=e.content,c=e.editContent,i=Object(v.useState)(!1),r=Object(n.a)(i,2),o=r[0],d=r[1];return Object(W.jsxs)(g.a,{children:[Object(W.jsx)(l.a,{children:Object(W.jsxs)(s.a,{container:!0,children:[Object(W.jsx)(s.a,{item:!0,flexGrow:1,children:Object(W.jsx)(j.a,{variant:"subtitle1",children:t})}),Object(W.jsx)(s.a,{item:!0,children:Object(W.jsx)(x.a,{size:"small",color:o?"error":"info",onClick:function(){return d(!o)},children:Object(W.jsxs)("span",{children:[Object(W.jsx)(je.a,{icon:o?oe.w:oe.m})," ",o?"EXIT":"Edit Stats"]})})})]})}),Object(W.jsx)(b.a,{}),Object(W.jsx)(l.a,{children:o?c:a})]})}var ye=a(349),Se=a(291),we=a(297),ke=a(293),Ce=a(285),_e=a(48),Be=a(112);function Ke(e){var t=e.characterSheet,a=e.character,c=e.character,i=c.ascension,r=c.constellation,l=c.key,o=Object(v.useContext)(f.a),d=o.newBuild,u=o.equippedBuild,b=Object(Q.a)(l),h=d||u;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ne,{characterSheet:t}),Object(W.jsxs)(s.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var c=Object(n.a)(e,2),i=c[0],r=c[1];return Object(W.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(W.jsx)(Ee,{characterSheet:t,character:a,characterDispatch:b,talentKey:i,subtitle:r})},i)})),!!t.getTalentOfKey("sprint",null===h||void 0===h?void 0:h.characterEle)&&Object(W.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(W.jsx)(Ee,{characterSheet:t,character:a,characterDispatch:b,talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!t.getTalentOfKey("passive",null===h||void 0===h?void 0:h.characterEle)&&Object(W.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(W.jsx)(Ee,{characterSheet:t,character:a,characterDispatch:b,talentKey:"passive",subtitle:"Passive"})})]}),Object(W.jsx)(s.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var c=Object(n.a)(e,3),r=c[0],l=c[1],o=c[2],j=i>=o;return t.getTalentOfKey(r,null===h||void 0===h?void 0:h.characterEle)?Object(W.jsx)(s.a,{item:!0,style:{opacity:j?1:.5},xs:12,md:4,children:Object(W.jsx)(Ee,{characterSheet:t,character:a,characterDispatch:b,talentKey:r,subtitle:l})},r):null}))}),Object(W.jsxs)(j.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",r]}),Object(W.jsx)(s.a,{container:!0,spacing:1,children:Object(se.a)(Array(6).keys()).map((function(e){var n="constellation".concat(e+1);return Object(W.jsx)(s.a,{item:!0,xs:12,md:4,style:{opacity:r>e?1:.5},children:Object(W.jsx)(Ee,{characterSheet:t,character:a,characterDispatch:b,talentKey:n,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return b({constellation:e+1===r?e:e+1})}})},e)}))})]})}var Ae={superconduct_hit:function(e){var t,a=e.stats,n="superconduct_hit";return Object(W.jsx)(m.a,{children:Object(W.jsx)(l.a,{sx:{p:1},children:Object(W.jsxs)(j.a,{color:"superconduct.main",children:[D.b.getStatName(n)," ",Oe.a.electro,"+",Oe.a.cryo," ",Object(W.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(n))})]})})})},electrocharged_hit:function(e){var t,a=e.stats,n="electrocharged_hit";return Object(W.jsx)(m.a,{children:Object(W.jsx)(l.a,{sx:{p:1},children:Object(W.jsxs)(j.a,{color:"electrocharged.main",children:[D.b.getStatName(n)," ",Oe.a.electro,"+",Oe.a.hydro," ",Object(W.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(n))})]})})})},overloaded_hit:function(e){var t,a=e.stats,n="overloaded_hit";return Object(W.jsx)(m.a,{children:Object(W.jsx)(l.a,{sx:{p:1},children:Object(W.jsxs)(j.a,{color:"overloaded.main",children:[D.b.getStatName(n)," ",Oe.a.electro,"+",Oe.a.pyro," ",Object(W.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(n))})]})})})},pyro_swirl_hit:function(e){var t,a=e.stats,c=Object(v.useState)(Object.keys(Te)[0]),i=Object(n.a)(c,2),r=i[0],l=i[1],s="".concat(r,"_swirl_hit");return Object(W.jsxs)(m.a,{sx:{display:"flex"},children:[Object(W.jsx)(k.a,{size:"small",title:Te[r],color:"success",children:Object.entries(Te).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(W.jsx)(O.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:c},a)}))}),Object(W.jsx)(T.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(W.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(s))})})]})},shattered_hit:function(e){var t,a=e.stats,n="shattered_hit",c=Object(W.jsx)(Se.a,{placement:"top",title:Object(W.jsxs)(j.a,{children:["Claymores, Plunging Attacks and ",Object(W.jsx)(R.a,{color:"geo",children:"Geo DMG"})]}),children:Object(W.jsx)(T.a,{component:"span",sx:{cursor:"help"},children:Object(W.jsx)(je.a,{icon:oe.v})})});return Object(W.jsx)(m.a,{children:Object(W.jsx)(l.a,{sx:{p:1},children:Object(W.jsxs)(R.a,{color:"shattered",children:[D.b.getStatName(n)," ",Oe.a.hydro,"+",Oe.a.cryo,"+ ",Object(W.jsx)(R.a,{color:"physical",children:Object(W.jsxs)("small",{children:["Heavy Attack",c," "]})})," ",Object(W.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(n))})]})})})},crystalize_hit:function(e){var t,a=e.stats,c=Object(v.useState)(Object.keys(Fe)[0]),i=Object(n.a)(c,2),r=i[0],l=i[1],s="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(W.jsxs)(m.a,{sx:{display:"flex"},children:[Object(W.jsx)(k.a,{size:"small",title:Fe[r],color:"success",children:Object.entries(Fe).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(W.jsx)(O.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:c},a)}))}),Object(W.jsx)(T.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(W.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(s))})})]})}};function Ne(e){var t=e.characterSheet,a=Object(v.useContext)(f.a),n=a.newBuild,c=a.equippedBuild,i=n||c;if(!i)return null;var r=i.characterEle,o=Object(se.a)(_e.a[r]||[]);return o.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||o.push("shattered_hit"),Object(W.jsx)(g.a,{sx:{mb:1},children:Object(W.jsx)(l.a,{children:Object(W.jsx)(s.a,{container:!0,spacing:1,children:o.map((function(e){var t=Ae[e];return t?Object(W.jsx)(s.a,{item:!0,children:Object(W.jsx)(t,{stats:i})},e):null}))})})})}var Te={pyro:Object(W.jsxs)("span",{children:[D.b.getStatName("pyro_swirl_hit")," ",Oe.a.pyro," + ",Oe.a.anemo]}),electro:Object(W.jsxs)("span",{children:[D.b.getStatName("electro_swirl_hit")," ",Oe.a.electro,"+",Oe.a.anemo]}),cryo:Object(W.jsxs)("span",{children:[D.b.getStatName("cryo_swirl_hit")," ",Oe.a.cryo," + ",Oe.a.anemo]}),hydro:Object(W.jsxs)("span",{children:[D.b.getStatName("hydro_swirl_hit")," ",Oe.a.hydro," + ",Oe.a.anemo]})};var Fe={default:Object(W.jsxs)(R.a,{color:"crystalize",children:[D.b.getStatName("crystalize_hit")," ",Oe.a.electro,"/",Oe.a.hydro,"/",Oe.a.pyro,"/",Oe.a.cryo,"+",Oe.a.geo]}),pyro:Object(W.jsxs)("span",{children:[D.b.getStatName("pyro_crystalize_hit")," ",Oe.a.pyro,"+",Oe.a.geo]}),electro:Object(W.jsxs)("span",{children:[D.b.getStatName("electro_crystalize_hit")," ",Oe.a.electro,"+",Oe.a.geo]}),cryo:Object(W.jsxs)("span",{children:[D.b.getStatName("cryo_crystalize_hit")," ",Oe.a.cryo,"+",Oe.a.geo]}),hydro:Object(W.jsxs)("span",{children:[D.b.getStatName("hydro_crystalize_hit")," ",Oe.a.hydro,"+",Oe.a.geo]})};var Ve=[1,1,2,4,6,8,10];function Ee(e){var t=e.characterSheet,a=e.character,n=a.talent,c=a.ascension,i=a.key,r=e.characterDispatch,o=e.talentKey,d=e.subtitle,u=e.onClickTitle,h=Object(v.useContext)(f.a),x=h.newBuild,p=h.equippedBuild,m=x||p,y=Object(v.useCallback)((function(e){return Object(W.jsx)(ye.a,{onClick:u,children:e})}),[u]);if(!m)return null;var S=null;if(o in n){var w,C=null!==(w=m["".concat(o,"Boost")])&&void 0!==w?w:0,_=n[o]+C;S=Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(l.a,{sx:{py:1},children:Object(W.jsx)(k.a,{fullWidth:!0,title:"Talent Lv. ".concat(_),color:C?"info":"primary",children:Object(se.a)(Array(Ve[c]+("auto"!==o||C?0:1)).keys()).map((function(e){return Object(W.jsxs)(O.a,{selected:n[o]===e+1,disabled:n[o]===e+1,onClick:function(){return t=e+1,n[o]=t,void r({talent:n});var t},children:["Talent Lv. ",e+C+1]},e)}))})}),Object(W.jsx)(b.a,{})]})}var B=t.getTalentStats(o,m),K=B&&Object(Be.a)(B,m),A=K&&!!K.length&&Object(W.jsx)(Ce.a,{children:K.map((function(e,t){return Object(W.jsx)(Ce.b,{field:e},t)}))}),N=t.getTalentOfKey(o,m.characterEle),F=null===N||void 0===N?void 0:N.sections;return Object(W.jsxs)(g.a,{sx:{height:"100%"},children:[S,Object(W.jsxs)(l.a,{children:[Object(W.jsx)(we.a,{condition:!!u,wrapper:y,children:Object(W.jsxs)(s.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(W.jsx)(s.a,{item:!0,children:Object(W.jsx)(T.a,{component:"img",src:null===N||void 0===N?void 0:N.img,sx:{width:60,height:"auto"}})}),Object(W.jsxs)(s.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(W.jsx)(j.a,{variant:"h6",children:null===N||void 0===N?void 0:N.name}),Object(W.jsx)(j.a,{variant:"subtitle1",children:d})]})]})}),F?Object(W.jsx)(ke.a,{sections:F,characterKey:i,equippedBuild:p,newBuild:x}):null,A]})]})}var Me=a(133);function De(e){var t=e.children,a=e.current,n=e.value,l=Object(i.a)(e,["children","current","value"]);return n!==a?null:Object(W.jsx)(v.Suspense,{fallback:Object(W.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(W.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),{},{children:t}))})}function Le(e){var t,a=e.characterKey,c=e.setCharacterKey,i=e.footer,r=e.newBuild,h=e.onClose,x=e.tabName,O=Object(v.useContext)(X.b),y=Object(v.useState)(!1),w=Object(n.a)(y,2),k=w[0],_=w[1],B=Object(Y.a)(),K=Object(n.a)(B,2),A=K[0],N=K[1],T=Object(M.a)($.a.getAll(),[]),E=Object(M.a)(Me.b.getAll(),[]),D=Object(M.a)(p.a.getAll(),[]),L=Object(v.useMemo)((function(){var e;return A&&(null!==(e=O._getChar(a))&&void 0!==e?e:Object(V.b)(a))}),[a,A,O]),R=Object(v.useMemo)((function(){return A&&O._getWeapon(L.equippedWeapon)}),[L.equippedWeapon,A,O]),q=null===E||void 0===E?void 0:E[a],I=R?null===T||void 0===T?void 0:T[R.key]:void 0,G=q&&I&&D&&{characterSheet:q,weaponSheet:I,artifactSheets:D};Object(v.useEffect)((function(){return O.followChar(a,N)}),[a,N,O]),Object(v.useEffect)((function(){return O.followWeapon(L.equippedWeapon,N)}),[L.equippedWeapon,N,O]);var P=Object(v.useMemo)((function(){if(r)return Object(Z.d)(r)}),[r]),H=Object(v.useState)(x||(P?"newartifacts":"character")),J=Object(n.a)(H,2),Q=J[0],ee=J[1],te=Object(v.useCallback)((function(e,t){return ee(t)}),[ee]),ae=null!==(t=null===P||void 0===P?void 0:P.mainStatAssumptionLevel)&&void 0!==t?t:0,ne=Object(v.useMemo)((function(){return A&&q&&I&&D&&F.a.calculateBuild(L,O,q,I,D,ae)}),[A,L,q,I,D,ae,O]);return Object(W.jsx)(m.a,{children:Object(W.jsxs)(f.a.Provider,{value:{newBuild:P,equippedBuild:ne,compareBuild:k,setCompareBuild:_},children:[Object(W.jsxs)(l.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(W.jsxs)(s.a,{container:!0,spacing:1,children:[Object(W.jsx)(s.a,{item:!0,flexGrow:1,children:Object(W.jsx)(Re,{characterSheet:q,character:L,weaponSheet:I,setCharacterKey:c})}),!!ae&&Object(W.jsx)(s.a,{item:!0,children:Object(W.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(W.jsx)(j.a,{children:Object(W.jsxs)("strong",{children:["Assume Main Stats are Level ",ae]})})})}),!!h&&Object(W.jsx)(s.a,{item:!0,children:Object(W.jsx)(S.a,{onClick:h})})]}),Object(W.jsx)(g.a,{children:Object(W.jsxs)(d.a,{onChange:te,value:Q,variant:"fullWidth",children:[Object(W.jsx)(u.a,{value:"character",label:"Character"}),!!P&&Object(W.jsx)(u.a,{value:"newartifacts",label:"New Artifacts"}),Object(W.jsx)(u.a,{value:"artifacts",label:P?"Current Artifacts":"Artifacts"}),Object(W.jsx)(u.a,{value:"talent",label:"Talents"})]})}),Object(W.jsx)(U.a,{character:L}),!!G&&Object(W.jsx)(z,{sheets:G}),Object(W.jsx)(C.b,{character:L}),q&&I&&Object(W.jsx)(De,{value:"character",current:Q,children:Object(W.jsx)(fe,{characterSheet:q,weaponSheet:I,character:L})}),G&&Object(W.jsx)(f.a.Provider,{value:{newBuild:void 0,equippedBuild:ne,compareBuild:k,setCompareBuild:_},children:Object(W.jsx)(De,{value:"artifacts",current:Q,children:Object(W.jsx)(le,{sheets:G,character:L})})}),P&&G&&Object(W.jsx)(De,{value:"newartifacts",current:Q,children:Object(W.jsx)(le,{sheets:G,character:L})}),q&&Object(W.jsx)(De,{value:"talent",current:Q,children:Object(W.jsx)(Ke,{characterSheet:q,character:L})})]}),!!i&&Object(W.jsx)(b.a,{}),i&&Object(W.jsx)(l.a,{sx:{py:1},children:i})]})})}function Re(e){var t,a=e.characterSheet,c=e.weaponSheet,i=e.character,r=e.character,l=r.key,s=r.elementKey,o=void 0===s?"anemo":s,d=r.level,u=void 0===d?1:d,b=r.ascension,p=void 0===b?0:b,f=e.disabled,m=e.setCharacterKey,g=Object(v.useState)(!1),S=Object(n.a)(g,2),C=S[0],_=S[1],B=Object(Q.a)(l),K=a?Object(W.jsxs)("span",{children:[Object(W.jsx)(P.a,{src:a.thumbImg,sx:{mr:1}}),a.name]}):Object(W.jsx)("span",{children:"Select a Character"}),A=Object(v.useCallback)((function(e){e=Object(Z.a)(e,1,90);var t=J.b.findIndex((function(t){return e<=t}));B({level:e,ascension:t})}),[B]),N=Object(v.useCallback)((function(){var e=J.b.findIndex((function(e){return 90!==u&&u===e}));B(p===e?{ascension:p+1}:{ascension:e})}),[B,p,u]);return Object(W.jsx)(W.Fragment,{children:f?Object(W.jsxs)(j.a,{variant:"h6",children:[K," ",a&&c&&F.a.getLevelString(i)]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(y.a,{show:C,onHide:function(){return _(!1)},onSelect:m}),Object(W.jsxs)(h.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[Object(W.jsx)(x.a,{disabled:!m,onClick:function(){return _(!0)},startIcon:Object(W.jsx)(P.a,{src:null===a||void 0===a?void 0:a.thumbImg}),children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Character"}),(null===a||void 0===a?void 0:a.sheet)&&"talents"in(null===a||void 0===a?void 0:a.sheet)&&Object(W.jsx)(k.a,{title:H.a[o].name,children:Object.keys(a.sheet.talents).map((function(e){return Object(W.jsx)(O.a,{selected:o===e,disabled:o===e,onClick:function(){return B({elementKey:e})},children:Object(W.jsx)("strong",{children:H.a[e].name})},e)}))}),Object(W.jsx)(w.a,{children:Object(W.jsx)(w.c,{onChange:A,value:u,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!a})}),Object(W.jsx)(x.a,{sx:{pl:1},disabled:!Object(J.a)(u)||!a,onClick:N,children:Object(W.jsxs)("strong",{children:["/ ",J.b[p]]})}),Object(W.jsx)(k.a,{title:"Select Level",disabled:!a,children:J.c.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=a===J.b[c]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(J.b[c]),r=a===u&&c===p;return Object(W.jsx)(O.a,{selected:r,disabled:r,onClick:function(){return B({level:a,ascension:c})},children:i},"".concat(a,"/").concat(c))}))})]})]})})}}}]);
//# sourceMappingURL=19.1d8124af.chunk.js.map