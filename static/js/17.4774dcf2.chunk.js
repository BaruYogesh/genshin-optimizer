(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[17],{214:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(4),c=a(0),r=a(136),i=a(1);function s(e){var t=e.value,a=e.onChange,s=e.className,l=void 0===s?"":s,o=e.disabled,u=void 0!==o&&o,d=e.float,j=void 0!==d&&d,b=e.placeholder,f=e.allowEmpty,h=void 0!==f&&f,x=e.max,O=e.min,m=Object(c.useState)(""),v=Object(n.a)(m,2),p=v[0],y=v[1],g=Object(c.useCallback)((function(){if(h&&""===p)return a(void 0);if(""===p)return a(0);var e=j?parseFloat:parseInt;a(e(p))}),[a,p,j,h]);return Object(c.useEffect)((function(){var e;return y(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,y]),Object(i.jsx)(r.a,{value:p,"aria-label":"custom-input",className:"hide-appearance ".concat(l),type:"number",placeholder:b,onChange:function(e){return y(e.target.value)},onBlur:g,disabled:u,onKeyDown:function(e){return"Enter"===e.key&&g()},max:x,min:O})}},225:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var n,c,r,i,s=a(106),l=a(4),o=a(25),u=a(10),d=a(0),j=a(189),b=a(126),f=a(224),h=a(188),x=a(73),O=a(187),m=a(143),v=a(190),p=a(127),y=a(227),g=a(120),w=a(121),S=a(209),N=a(206),k=a(35),K=a(34),C=a(58),A=a(86),E=a(129),I=a(70),L=a(122),M=a(128),F=a(226),T=a(1),R=new Set(C.b);function P(e){var t,a,C,P,U,D=e.artifactId,z=e.artifactObj,W=e.onEdit,q=e.onDelete,H=e.mainStatAssumptionLevel,V=void 0===H?0:H,B=e.effFilter,_=void 0===B?R:B,G=Object(g.a)(["artifact"]).t,J=Object(d.useContext)(k.b),Y=Object(d.useState)(void 0),$=Object(l.a)(Y,2),Q=$[0],X=$[1];Object(d.useEffect)((function(){return D?J.followArt(D,X):void 0}),[D,X,J]);var Z=Object(A.b)(L.a.get(null===(t=null!==z&&void 0!==z?z:D?J._getArt(D):void 0)||void 0===t?void 0:t.setKey),[z,D]),ee=function(e){return J.setArtLocation(D,e)},te=!z&&J===k.c,ae=null!==z&&void 0!==z?z:Q,ne=Object(A.b)(w.b.get(null!==(a=null===ae||void 0===ae?void 0:ae.location)&&void 0!==a?a:""),[null===ae||void 0===ae?void 0:ae.location]);if(!ae)return null;var ce=ae.id,re=ae.lock,ie=ae.slotKey,se=ae.rarity,le=ae.level,oe=ae.mainStatKey,ue=ae.substats,de=ae.exclude,je=Math.max(Math.min(V,4*se),le),be=Math.floor(Math.max(le-1,0)/4)+1+"roll",fe=Object(T.jsx)("span",{className:je!==le?"text-orange":"",children:Object(E.b)(null!==(C=I.a.mainStatValue(oe,se,je))&&void 0!==C?C:0,K.b.getStatUnit(oe))}),he=I.a.getArtifactEfficiency(ae,_),xe=he.currentEfficiency,Oe=he.maxEfficiency,me=0!==Oe,ve=(null===ne||void 0===ne?void 0:ne.name)?ne.nameWIthIcon:Object(T.jsxs)("span",{children:[Object(T.jsx)(u.a,{icon:o.c})," ",G(n||(n=Object(s.a)(["filterLocation.inventory"])))]}),pe=(null===Z||void 0===Z?void 0:Z.getSlotName(ie))||"Unknown Piece Name",ye=null===Z||void 0===Z?void 0:Z.getSlotDesc(ie),ge=ye?Object(T.jsx)(v.a,{placement:"top",overlay:Object(T.jsx)(y.a,{id:"slotdesc-tooltip",children:ye}),children:Object(T.jsx)(u.a,{icon:o.q})}):null,we=null===Z||void 0===Z?void 0:Z.setEffects,Se=Z&&we&&Object(T.jsx)(y.a,{id:"setdesc-tooltop",children:Object.keys(we).map((function(e){return Object(T.jsxs)("span",{className:"text-left",children:[Object(T.jsx)("h6",{className:"mb-0",children:Object(T.jsx)(j.a,{variant:"success",children:G("setEffectNum",{setNum:e})})}),Object(T.jsx)("p",{children:Z.setEffectDesc(e)})]},e)}))}),Ne=Se?Object(T.jsx)(v.a,{placement:"top",overlay:Se,children:Object(T.jsx)(u.a,{icon:o.q})}):null;return Object(T.jsxs)(h.a,{className:"h-100",border:"".concat(se,"star"),bg:"lightcontent",text:"lightfont",children:[Object(T.jsx)(h.a.Header,{className:"p-0",children:Object(T.jsxs)(p.a,{children:[Object(T.jsx)(x.a,{xs:2,md:3,children:Object(T.jsx)(m.a,{src:null!==(P=null===Z||void 0===Z?void 0:Z.slotIcons[ie])&&void 0!==P?P:"",className:"w-100 h-auto grad-".concat(se,"star m-1"),thumbnail:!0})}),Object(T.jsxs)(x.a,{className:"pt-2",children:[Object(T.jsx)("h6",{children:Object(T.jsxs)("strong",{children:[pe," ",ge]})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(M.b,{slotKey:ie})," ",Object(T.jsxs)("span",{className:"float-right mr-4",children:[" ",Object(T.jsx)(b.a,{size:"sm",disabled:!te,onClick:function(){return J.updateArt({lock:!re},ce)},children:Object(T.jsx)(u.a,{icon:re?o.s:o.t,className:"fa-fw"})})]})]}),Object(T.jsx)("div",{children:Object(T.jsx)("small",{children:Object(T.jsx)(N.a,{stars:se})})})]})]})}),Object(T.jsxs)(h.a.Body,{className:"d-flex flex-column py-2",children:[Object(T.jsxs)(h.a.Title,{children:[Object(T.jsx)(j.a,{variant:be,children:Object(T.jsx)("strong",{className:"text-dark",children:" +".concat(le)})})," ",null!==(U=null===Z||void 0===Z?void 0:Z.name)&&void 0!==U?U:"Artifact Set"," ",Ne]}),Object(T.jsx)("h5",{className:"mb-1",children:Object(T.jsxs)("b",{children:[K.b.getStatName(oe)," ",fe]})}),Object(T.jsx)(p.a,{className:"mb-0",children:ue.map((function(e,t){var a,n,c;if(!e.value)return null;var r=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,i=null!==(c=e.efficiency)&&void 0!==c?c:0,s=.3+.7*i,l=K.b.getStatName(e.key);return Object(T.jsxs)(x.a,{xs:12,children:[Object(T.jsx)(j.a,{variant:r?"".concat(r,"roll"):"danger",className:"text-darkcontent",children:Object(T.jsx)("b",{children:r||"?"})})," ",Object(T.jsxs)("span",{className:"text-".concat(r,"roll"),children:[l,"+".concat(Object(E.b)(e.value,K.b.getStatUnit(e.key)))]}),Object(T.jsx)("span",{className:"float-right",style:{opacity:s},children:e.key&&_.has(e.key)?Object(E.b)(i,"eff"):"-"})]},t)}))}),Object(T.jsxs)("div",{className:"mt-auto",children:[Object(T.jsxs)(p.a,{children:[Object(T.jsx)(x.a,{children:Object(T.jsx)("small",{children:G(c||(c=Object(s.a)(["editor.curSubEff"])))})}),Object(T.jsx)(x.a,{xs:"auto",children:Object(T.jsx)(F.a,{value:xe,valid:me})})]}),xe!==Oe&&Object(T.jsxs)(p.a,{children:[Object(T.jsx)(x.a,{children:Object(T.jsx)("small",{children:G(r||(r=Object(s.a)(["editor.maxSubEff"])))})}),Object(T.jsx)(x.a,{xs:"auto",children:Object(T.jsx)(F.a,{value:Oe,valid:me})})]})]}),!1]}),Object(T.jsx)(h.a.Footer,{className:"pr-3",children:Object(T.jsxs)(p.a,{className:"d-flex justify-content-between no-gutters",children:[te?Object(T.jsx)(x.a,{xs:"auto",children:Object(T.jsxs)(O.a,{children:[Object(T.jsx)(O.a.Toggle,{size:"sm",className:"text-left",children:ve}),Object(T.jsxs)(O.a.Menu,{children:[Object(T.jsxs)(O.a.Item,{onClick:function(){return ee("")},children:[Object(T.jsx)(u.a,{icon:o.c})," Inventory"]}),Object(T.jsx)(O.a.Divider,{}),Object(T.jsx)(S.b,{onSelect:ee})]})]})}):Object(T.jsx)(x.a,{xs:"auto",children:Object(T.jsx)("b",{children:ve})}),te&&Object(T.jsx)(x.a,{xs:"auto",children:Object(T.jsxs)(f.a,{children:[!!W&&Object(T.jsx)(b.a,{variant:"info",size:"sm",onClick:W,children:Object(T.jsx)(u.a,{icon:o.k,className:"fa-fw"})}),Object(T.jsx)(v.a,{placement:"top",overlay:Object(T.jsx)(y.a,{id:"exclude-artifact-tip",children:G(i||(i=Object(s.a)(["excludeArtifactTip"])))}),children:Object(T.jsx)("span",{className:"d-inline-block",children:Object(T.jsx)(b.a,{size:"sm",onClick:function(){return J.updateArt({exclude:!de},ce)},className:"rounded-0",variant:de?"danger":"success",children:Object(T.jsx)(u.a,{icon:de?o.a:o.e,className:"fa-fw"})})})}),!!q&&Object(T.jsx)(b.a,{variant:"danger",size:"sm",onClick:q,children:Object(T.jsx)(u.a,{icon:o.E,className:"fa-fw"})})]})})]})})]})}},226:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(4),c=a(189),r=a(1);function i(e){var t=e.value,a=e.valid,i="number"===typeof t?["".concat(Math.floor(.05*t)+1,"roll"),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(i,2),l=s[0],o=s[1];return a||(l="danger"),Object(r.jsx)(c.a,{variant:l,className:"secondary"===l?"":"text-darkcontent",children:o})}},273:function(e){e.exports=JSON.parse('{"5":{"def_":{"24.0":"24.1","36.5":"36.4"},"critRate_":{"8.5":"8.6"}}}')},543:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return mt}));var n=a(106),c=a(16),r=a(4),i=a(9),s=a(20),l=a(25),o=a(10),u=a(0),d=a.n(u),j=a(188),b=a(224),f=a(126),h=a(187),x=a(235),O=a(534),m=a(330),v=a(535),p=a(73),y=a(191),g=a(127),w=a(49),S=a(120),N=a(83),k=a(209),K=a(121),C=a(214),A=a(231),E=a(206),I=a(35),L=a(28),M=a(34),F=a(58),T=a(14),R=a(86),P=a(12),U=a(70),D=a(225),z=a(47),W=a.n(z),q=a(57),H=a(281),V=a(136),B=a(190),_=a(202),G=a(200),J=a(189),Y=a(17),$=a(122),Q=a(129),X=a(273);var Z=a(1);function ee(e){var t=e.sheets,a=e.click,n=Object(S.a)("artifact").t;return Object(Z.jsx)(d.a.Fragment,{children:t&&Object.entries($.a.setKeysByRarities(t)).reverse().map((function(e,c){var i=Object(r.a)(e,2),s=i[0],l=i[1];return Object(Z.jsxs)(d.a.Fragment,{children:[c>0&&Object(Z.jsx)(h.a.Divider,{}),Object(Z.jsx)(h.a.Header,{children:Object(Z.jsxs)(N.a,{t:n,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",Object(Z.jsx)(E.a,{stars:parseInt(s)})]})}),l.map((function(e){return Object(Z.jsx)(h.a.Item,{onClick:function(){return a(e)},children:t[e].nameWithIcon},e)}))]},s)}))})}var te=a(128),ae=a(226),ne=a(362),ce=a(201),re=a(541),ie=a(331),se=a.p+"static/media/scan_art_main.ab1cfe61.png",le=a.p+"static/media/snippet.d223e797.png",oe=a(18),ue=a(26),de={r:255,g:204,b:50},je=new(function(){function e(t,a){Object(oe.a)(this,e),this.data={},this.init=void 0,this.deinit=void 0,this.init=t,this.deinit=a}return Object(ue.a)(e,[{key:"borrow",value:function(){var e=Object(q.a)(W.a.mark((function e(t,a){var n,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data[t]||(this.data[t]={value:this.init(t),refCount:0}),(n=this.data[t]).refCount+=1,e.next=5,a(n.value);case 5:return c=e.sent,n.refCount-=1,n.refCount||(delete this.data[t],this.deinit(t,n.value)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}())(function(){var e=Object(q.a)(W.a.mark((function e(t){var a,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ie.createScheduler)(),n=Array(2).fill(0).map(function(){var e=Object(q.a)(W.a.mark((function e(n){var c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(ie.createWorker)({errorHandler:console.error}),e.next=3,c.load();case 3:return e.next=5,c.loadLanguage(t);case 5:return e.next=7,c.initialize(t);case 7:a.addWorker(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.any(n);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t){t.then((function(e){return e.terminate()}))}));function be(e){var t,a,n,c=e.setState,l=e.setReset,o=e.artifactInEditor,d=Object(u.useState)(!1),b=Object(r.a)(d,2),h=b[0],x=b[1],O=Object(u.useReducer)(he,{processed:[],outstanding:[]}),m=Object(r.a)(O,2),v=m[0],y=v.processed,S=v.outstanding,N=m[1],k=y[0],K=S[0],C=Object(R.b)(null===K||void 0===K?void 0:K.imageURL,[null===K||void 0===K?void 0:K.imageURL]),A=Object(R.b)(null===K||void 0===K?void 0:K.result,[null===K||void 0===K?void 0:K.result]),E=y.length+S.length,I=null!==(t=null===k||void 0===k?void 0:k.imageURL)&&void 0!==t?t:C,L=null!==k&&void 0!==k?k:{},M=L.artifact,F=L.texts,T=null!==(a=null!==(n=null===k||void 0===k?void 0:k.fileName)&&void 0!==n?n:null===K||void 0===K?void 0:K.fileName)&&void 0!==a?a:"Click here to upload Artifact screenshot files";Object(u.useEffect)((function(){!o&&M&&c(M)}),[o,M,c]),Object(u.useEffect)((function(){var e=Math.min(16-y.length,3,S.length),t=e&&!S[0].result;S.slice(0,e).forEach(xe),t&&N({type:"processing"})}),[y.length,S]),Object(u.useEffect)((function(){A&&N(Object(i.a)({type:"processed"},A))}),[A,N]);var P=Object(u.useCallback)((function(){return N({type:"pop"})}),[N]),U=Object(u.useCallback)((function(e){return N({type:"upload",files:Object(s.a)(e).map((function(e){return{file:e,fileName:e.name}}))})}),[N]),D=Object(u.useCallback)((function(){return N({type:"clear"})}),[N]);Object(u.useEffect)((function(){var e=function(e){return U(e.clipboardData.files)};return window.addEventListener("paste",e),null===l||void 0===l||l(P),function(){return window.removeEventListener("paste",e)}}),[l,P,U]);var z=I&&Object(Z.jsx)("img",{src:I,className:"w-100 h-auto",alt:"Screenshot to parse for artifact values"});return Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(fe,{modalShow:h,hide:function(){return x(!1)}}),Object(Z.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(p.a,{children:Object(Z.jsx)("h6",{className:"mb-0",children:"Parse Artifact by Uploading Image"})}),Object(Z.jsx)(p.a,{xs:"auto",children:Object(Z.jsx)(f.a,{variant:"info",size:"sm",onClick:function(){x(!0),w.a.modalview("/artifact/how-to-upload")},children:"Show Me How!"})})]})}),E>0&&Object(Z.jsx)(p.a,{xs:12,children:Object(Z.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsxs)(p.a,{className:"p-1 ml-2",children:["Screenshots in file-queue: ",Object(Z.jsx)("b",{children:E}),!1]}),Object(Z.jsx)(p.a,{xs:"auto",children:Object(Z.jsx)(f.a,{size:"sm",variant:"danger",onClick:D,children:"Clear file-queue"})})]})})}),Object(Z.jsx)(p.a,{xs:8,lg:I?4:0,children:z}),Object(Z.jsxs)(p.a,{xs:12,lg:I?8:12,children:[!k&&K&&Object(Z.jsxs)("div",{className:"mb-2",children:[Object(Z.jsx)("h6",{className:"mb-0",children:"Scanning current artifact"}),Object(Z.jsx)(ne.a,{animated:!0,now:100})]}),Object(Z.jsx)(ce.a.File,{type:"file",className:"mb-0",label:T,onChange:function(e){U(e.target.files),e.target.value=null},accept:"image/*",custom:!0,multiple:!0}),F&&Object(Z.jsxs)("div",{className:"mb-2",children:[Object(Z.jsx)("div",{children:F.slotKey}),Object(Z.jsx)("div",{children:F.mainStatKey}),Object(Z.jsx)("div",{children:F.mainStatVal}),Object(Z.jsx)("div",{children:F.rarity}),Object(Z.jsx)("div",{children:F.level}),Object(Z.jsx)("div",{children:F.substats}),Object(Z.jsx)("div",{children:F.setKey})]}),Boolean(!I)&&Object(Z.jsx)(ce.a.Label,{className:"mb-0",children:"Please Select an Image, or paste a screenshot here (Ctrl+V)"})]})]})}function fe(e){var t=e.modalShow,a=e.hide;return Object(Z.jsx)(re.a,{show:t,onHide:a,size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(Z.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",children:[Object(Z.jsx)(j.a.Header,{children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(p.a,{children:Object(Z.jsx)(j.a.Title,{children:"How do Upload Screenshots for parsing"})}),Object(Z.jsx)(p.a,{xs:"auto",children:Object(Z.jsx)(f.a,{variant:"danger",onClick:a,children:Object(Z.jsx)(o.a,{icon:l.B})})})]})}),Object(Z.jsxs)(j.a.Body,{children:[Object(Z.jsx)("h5",{className:"text-warning",children:"NOTE: Artifact Scanning currently only work for ENGLISH artifacts."}),Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(p.a,{xs:8,md:4,children:Object(Z.jsx)("img",{alt:"snippet of the screen to take",src:le,className:"w-100 h-auto"})}),Object(Z.jsxs)(p.a,{xs:12,md:8,children:[Object(Z.jsx)("p",{children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(Z.jsx)("h5",{children:"Where to snip the screenshot."}),Object(Z.jsxs)("p",{children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",Object(Z.jsx)("b",{children:"Only artifact from this screen can be scanned."})]}),Object(Z.jsx)("h6",{children:"Single artifact"}),Object(Z.jsxs)("p",{children:["To take a screenshot, in Windows, the shortcut is ",Object(Z.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),Object(Z.jsx)("h6",{children:"Multiple artifacts"}),Object(Z.jsxs)("p",{children:["To take advantage of batch uploads, you can use a tool like ",Object(Z.jsx)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),Object(Z.jsx)("h5",{children:"What to include in the screenshot."}),Object(Z.jsx)("p",{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]})]}),Object(Z.jsxs)(g.a,{children:[Object(Z.jsxs)(p.a,{children:[Object(Z.jsx)("h5",{children:"Adding Screenshot to Genshin Optimizer"}),Object(Z.jsx)("p",{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),Object(Z.jsx)("p",{className:"mb-0",children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),Object(Z.jsxs)("p",{children:["For single screenshots from the snippets, just press ",Object(Z.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),Object(Z.jsxs)("p",{children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(Z.jsx)("b",{children:"Artifact Editor"}),"."]})]}),Object(Z.jsxs)(p.a,{xs:12,children:[Object(Z.jsx)("h5",{children:"Finishing the Artifact"}),Object(Z.jsxs)("p",{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",Object(Z.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]}),Object(Z.jsx)("img",{alt:"main screen after importing stats",src:se,className:"w-75 h-auto"})]})]})]}),Object(Z.jsx)(j.a.Footer,{children:Object(Z.jsx)(f.a,{variant:"danger",onClick:a,children:Object(Z.jsx)("span",{children:"Close"})})})]})})}var he=function(e,t){switch(t.type){case"upload":return{processed:e.processed,outstanding:[].concat(Object(s.a)(e.outstanding),Object(s.a)(t.files))};case"processing":return{processed:e.processed,outstanding:Object(s.a)(e.outstanding)};case"processed":return e.outstanding[0].file===t.file?{processed:[].concat(Object(s.a)(e.processed),[t.result]),outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function xe(e){if(!e.result){var t=e.file,a=e.fileName;e.imageURL=He(t),e.result=e.imageURL.then(function(){var e=Object(q.a)(W.a.mark((function e(n){var c,i,s,l,o,u;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.getAll();case 2:return c=e.sent,e.next=5,_e(n);case 5:return i=e.sent,s=$e(c,i.rarities,Qe(i.artifactSetTexts,c),et(i.whiteTexts),nt(i.substatTexts),tt(i.whiteTexts),at(i.whiteTexts)),l=Object(r.a)(s,2),o=l[0],u=l[1],e.abrupt("return",{file:t,result:{fileName:a,imageURL:n,artifact:o,texts:u}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}var Oe,me,ve,pe,ye,ge,we,Se,Ne,ke,Ke,Ce,Ae,Ee,Ie,Le,Me,Fe,Te,Re,Pe,Ue,De,ze,We,qe,He=function(e){return new Promise((function(t){var a=new FileReader;a.onloadend=function(e){var a=e.target;return t(a.result)},a.readAsDataURL(e)}))},Ve=function(e){return new Promise((function(t){var a=new Image;a.onload=function(e){var a=e.target;return t(function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,a.drawImage(e,0,0,e.width,e.height),a.getImageData(0,0,e.width,e.height)}(a))},a.src=e}))};function Be(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}function _e(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(q.a)(W.a.mark((function e(t){var a,n,c,i,s,l,o,u,d,j,b;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(t);case 2:return a=e.sent,n=a.width,c=Math.floor(a.height/2),i={rectangle:{top:c,left:0,width:n,height:c}},s=[Je(ct(a,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),Je(ct(a,[30,50,80],[160,160,160],{region:"bot"}),i),Je(ct(a,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),i)],l=Xe(a.data,a.width,a.height),e.next=9,Promise.all(s);case 9:return o=e.sent,u=Object(r.a)(o,3),d=u[0],j=u[1],b=u[2],e.abrupt("return",{whiteTexts:d,substatTexts:j,artifactSetTexts:b,rarities:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(q.a)(W.a.mark((function e(t){var a,n,c,r=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:void 0,n=Be(t),e.next=4,je.borrow("eng",function(){var e=Object(q.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,e.sent.addJob("recognize",n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return c=e.sent,e.abrupt("return",c.data.lines.map((function(e){return e.text})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,t,a,n,i,l,o){var u,d=Object(s.a)(new Set([].concat(Object(s.a)(a),["Adventurer","ArchaicPetra"]))),j=-1,b=[{setKey:"Adventurer",rarity:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1,exclude:!1}],f=Object.fromEntries(T.a.map((function(t){var n=0;a.size&&(n+=Object(s.a)(a).reduce((function(a,n){return a+(e[n].rarity.includes(t)?1:0)}),0)/a.size);i.length&&(n+=i.reduce((function(e,a){return e+(U.a.getSubstatRolls(a.key,a.value,t).length?1:0)}),0)/i.length*2);return[t,n]}))),h=Object(c.a)(T.h);try{for(h.s();!(u=h.n()).done;){var x,O=u.value,m=Object(c.a)(U.a.slotMainStats(O));try{var v=function(){for(var t=x.value,i=(n.has(O)?1:0)+(l.has(t)?1:0),s=o.filter((function(e){return"%"!==e.unit||"%"===M.b.getStatUnit(t)})).map((function(e){return e.mainStatValue})),u=function(){var n=Object(r.a)(m[h],2),l=n[0],o=n[1],u=parseInt(l),f=d.filter((function(t){return e[t].rarity.includes(u)})),x=i+o;if(x+2<j)return"continue";var v,p=Object(c.a)(s);try{var y=function(){var e,n=v.value,r=U.a.mainStatValues(u,t),i=Math.max(0,r.findIndex((function(e){return e>=n}))),s=r[i],l=x+(s===n?1:0),o=Object(c.a)(f);try{for(o.s();!(e=o.n()).done;){var d=e.value,h=l+(a.has(d)?1:0);h>=j&&(h>j&&(b=[]),j=h,b.push({setKey:d,rarity:u,level:i,slotKey:O,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1}))}}catch(m){o.e(m)}finally{o.f()}};for(p.s();!(v=p.n()).done;)y()}catch(k){p.e(k)}finally{p.f()}if(x>=j){var g,w=Object(c.a)(f);try{for(w.s();!(g=w.n()).done;){var S=g.value,N=x+(a.has(S)?1:0);N>j&&(b=[]),j=N,b.push({setKey:S,rarity:u,level:0,slotKey:O,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1})}}catch(k){w.e(k)}finally{w.f()}}},h=0,m=Object.entries(f);h<m.length;h++)u()};for(m.s();!(x=m.n()).done;)v()}catch(F){m.e(F)}finally{m.f()}}}catch(F){h.e(F)}finally{h.f()}var p={},y={setKey:new Set,rarity:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},g=b[0],w=U.a.mainStatValue(g.mainStatKey,g.rarity,g.level);g.substats=i.filter((function(e,t){return e.key!==g.mainStatKey&&i.slice(0,t).every((function(t){return t.key!==e.key}))}));for(var S=g.substats.length;S<4;S++)g.substats.push({key:"",value:0});for(var N=0,k=b;N<k.length;N++){var K=k[N];y.setKey.add(K.setKey),y.rarity.add(K.rarity),y.level.add(K.level),y.slotKey.add(K.slotKey),y.mainStatKey.add(K.mainStatKey)}function C(e,t,a){return Object(Z.jsxs)(Z.Fragment,{children:["Unknown ",t," : Set to ",Object(Z.jsx)("span",{className:"text-danger",children:a(e)})]})}function A(e,t,a){return Object(Z.jsxs)(Z.Fragment,{children:["Detected ",t," ",Object(Z.jsx)("span",{className:"text-success",children:a(e)})]})}function E(e,t,a){return Object(Z.jsxs)(Z.Fragment,{children:["Inferred ",t," ",Object(Z.jsx)("span",{className:"text-warning",children:a(e)})]})}function I(e,t,a,n){var c=new Set(Object(s.a)(y[e]).filter((function(e){return t.has(e)})));c.size>1?p[e]=function(e,t,a,n){return Object(Z.jsxs)(Z.Fragment,{children:["Ambiguous ",a," ",Object(Z.jsx)("span",{className:"text-danger",children:n(e)})," : May also be ",t.filter((function(t){return t!==e})).map((function(e,t){return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("b",{children:t>0?"/":""}),Object(Z.jsx)("span",{className:"text-warning",children:n(e)})]})}))]})}(g[e],Object(s.a)(t),a,n):1===c.size?p[e]=A(g[e],a,n):y[e].size>1?p[e]=C(g[e],a,n):p[e]=E(g[e],a,n)}I("setKey",a,"Set",(function(t){return e[t].name})),I("rarity",t,"Rarity",(function(e){return Object(Z.jsxs)(Z.Fragment,{children:[e," ",1!==e?"Stars":"Star"]})})),I("slotKey",n,"Slot",(function(e){return Object(Z.jsx)(Z.Fragment,{children:U.a.slotName(e)})})),I("mainStatKey",l,"Main Stat",(function(e){return Object(Z.jsx)(Z.Fragment,{children:M.b.getStatNameRaw(e)})})),p.substats=Object(Z.jsx)(Z.Fragment,{children:g.substats.filter((function(e){return""!==e.key})).map((function(e,t){return Object(Z.jsx)("div",{children:A(e,"Sub Stat",(function(e){return Object(Z.jsxs)(Z.Fragment,{children:[M.b.getStatNameRaw(e.key),"+",Object(Q.b)(e.value,M.b.getStatUnit(e.key))]})}))},t)}))});var L=M.b.getStatUnit(g.mainStatKey);return o.find((function(e){return e.mainStatValue===w}))?l.has(g.mainStatKey)?(p.level=A(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=A(w,"Main Stat value",(function(e){return Object(Z.jsx)(Z.Fragment,{children:Object(Q.b)(e,L)})}))):(p.level=E(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=E(w,"Main Stat value",(function(e){return Object(Z.jsx)(Z.Fragment,{children:Object(Q.b)(e,L)})}))):(p.level=C(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=C(w,"Main Stat value",(function(e){return Object(Z.jsx)(Z.Fragment,{children:Object(Q.b)(e,L)})}))),[g,p]}function Qe(e,t){var a,n=new Set([]),r=Object(c.a)(e);try{for(r.s();!(a=r.n()).done;){var i,s=a.value,l=Object(c.a)(T.b);try{for(l.s();!(i=l.n()).done;){var o=i.value;Object(P.j)(s.replace(/\W/g,""),t[o].nameRaw.replace(/\W/g,""))<=2&&n.add(o)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return n}function Xe(e,t,a){for(var n=e,c=0,r=0,i=new Set([]),s=0;s<a;s++){for(var l=0,o=!1,u=0;u<t;u++){var d=4*(s*t+u);Ze({r:n[d],g:n[d+1],b:n[d+2]},de)?o||(o=!0,l++):o=!1}c!==l?(c=l,r=1):c&&++r>=10&&i.add(Object(P.a)(c,3,5))}return i}function Ze(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=function(e,t){return Math.abs(e-t)<=a};return n(e.r,t.r)&&n(e.g,t.g)&&n(e.b,t.b)}function et(e){var t,a=new Set,n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=Object(c.a)(T.h);try{for(s.s();!(r=s.n()).done;){var l=r.value;Object(P.j)(i.replace(/\W/g,""),U.a.slotName(l).replace(/\W/g,""))<=2&&a.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}function tt(e){var t,a=new Set([]),n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=Object(c.a)(F.a);try{for(s.s();!(r=s.n()).done;){var l=r.value;i.toLowerCase().includes(M.b.getStatNameRaw(l).toLowerCase())&&a.add(l),l.includes("_bonu")&&Object(P.j)(i.replace(/\W/g,""),M.b.getStatNameRaw(l).replace(/\W/g,""))<=1&&a.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}function at(e){var t,a=[],n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=/(\d+[,|\\.]+\d)%/,s=i.exec(r);s&&a.push({mainStatValue:parseFloat(s[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),(s=(i=/(\d+[,|\\.]\d{3}|\d{2,3})/).exec(r))&&a.push({mainStatValue:parseInt(s[1].replace(/[,|\\.]+/g,""))})}}catch(l){n.e(l)}finally{n.f()}return a}function nt(e){var t,a=[],n=Object(c.a)(e);try{var r=function(){var e=t.value;e=e.replace(/^[\W]+/,"").replace(/\n/,""),F.b.forEach((function(t){var n=M.b.getStatNameRaw(t),c=("%"===M.b.getStatUnit(t)?new RegExp(n+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(n+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);c&&a.push({key:t,value:parseFloat(c[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}))};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}return a.slice(0,4)}function ct(e,t,a,n){for(var c=n.region,r=void 0===c?"all":c,i=n.mode,s=void 0===i?"color":i,l=Uint8ClampedArray.from(e.data),o="top"===r,u="bot"===r,d="all"===r,j="bw"===s,b="invert"===s,f=Math.floor(e.width*(e.height/2)*4),h=0;h<l.length;h+=4){var x=l[h],O=l[h+1],m=l[h+2];(d||o&&h<f||u&&h>f)&&x>=t[0]&&x<=a[0]&&O>=t[1]&&O<=a[1]&&m>=t[2]&&m<=a[2]?j?l[h]=l[h+1]=l[h+2]=0:b&&(l[h]=255-x,l[h+1]=255-O,l[h+2]=255-m):l[h]=l[h+1]=l[h+2]=255}return new ImageData(l,e.width,e.height)}var rt,it,st,lt,ot=new Set(F.b);function ut(e){var t,a,c,i=e.artifactIdToEdit,d=e.cancelEdit,b=Object(S.a)("artifact").t,O=Object(u.useContext)(I.b),m=Object(u.useReducer)(jt,void 0),v=Object(r.a)(m,2),y=v[0],w=v[1],k=Object(R.b)($.a.getAll(),[]),K=Object(u.useMemo)((function(){return y?Object(Y.g)(y,i):{artifact:void 0,errors:[]}}),[y,i]),A=K.artifact,L=K.errors,F=void 0!==A,T=A?null===k||void 0===k?void 0:k[A.setKey]:void 0;Object(u.useEffect)((function(){var e=O._getArt(i);e&&w({type:"overwrite",artifact:Object(P.d)(e)})}),[i,O]);var z=Object(u.useCallback)((function(){var e;null===d||void 0===d||d(),null===(e=rt)||void 0===e||e(),w({type:"reset"})}),[d,w]),W=Object(u.useCallback)((function(e){var t,a,n=e.setKey?k[e.setKey]:T;function c(e,t,a){return e&&t.includes(e)?e:null!==a&&void 0!==a?a:t[0]}e.setKey&&(e.rarity=c(null===A||void 0===A?void 0:A.rarity,n.rarity,Math.max.apply(Math,Object(s.a)(n.rarity))),e.slotKey=c(null===A||void 0===A?void 0:A.slotKey,n.slots)),e.rarity&&(e.level=null!==(t=null===A||void 0===A?void 0:A.level)&&void 0!==t?t:0),e.level&&(e.level=Object(P.a)(e.level,0,4*(null!==(a=e.rarity)&&void 0!==a?a:A.rarity))),e.slotKey&&(e.mainStatKey=c(null===A||void 0===A?void 0:A.mainStatKey,U.a.slotMainStats(e.slotKey))),e.mainStatKey&&(e.substats=[0,1,2,3].map((function(t){return A&&A.substats[t].key!==e.mainStatKey?A.substats[t]:{key:"",value:0}}))),w({type:"update",artifact:e})}),[A,k,T,w]),q=Object(u.useCallback)((function(e,t){w({type:"substat",index:e,substat:t})}),[w]),J=!L.length,X=Object(u.useMemo)((function(){var e;if(void 0===A||A.id)return{isDup:!1};var t=O.findDuplicates(A),a=t.duplicated,n=t.upgraded;return{dupId:null!==(e=a[0])&&void 0!==e?e:n[0],isDup:0!==a.length}}),[A,O]),ne=X.dupId,ce=X.isDup,re=null!==A&&void 0!==A?A:{},ie=re.rarity,se=void 0===ie?5:ie,le=re.level,oe=void 0===le?0:le,ue=re.slotKey,de=void 0===ue?"flower":ue,je=A?U.a.getArtifactEfficiency(A,ot):{},fe=je.currentEfficiency,he=void 0===fe?0:fe,xe=je.maxEfficiency,Pe=void 0===xe?0:xe;return Object(Z.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",children:[Object(Z.jsx)(j.a.Header,{children:Object(Z.jsx)(N.a,{t:b,i18nKey:"editor.title",children:"Artifact Editor"})}),Object(Z.jsxs)(j.a.Body,{children:[Object(Z.jsxs)(g.a,{children:[Object(Z.jsxs)(p.a,{xs:12,lg:6,children:[Object(Z.jsxs)(x.a,{className:"w-100 d-flex mb-2",children:[Object(Z.jsxs)(h.a,{as:x.a.Prepend,className:"flex-grow-1",children:[Object(Z.jsx)(h.a.Toggle,{className:"w-100",variant:A?"success":"primary",children:null!==(t=null===T||void 0===T?void 0:T.nameWithIcon)&&void 0!==t?t:b(me||(me=Object(n.a)(["editor.set.artifactSet"])))}),Object(Z.jsx)(h.a.Menu,{children:Object(Z.jsx)(ee,{sheets:k,click:function(e){return W({setKey:e})}})})]}),Object(Z.jsx)(H.a,{as:x.a.Append,title:A?Object(Z.jsx)(E.a,{stars:se}):b(ve||(ve=Object(n.a)(["editor.rarity"]))),disabled:!T,variant:A?"success":"primary",children:[5,4,3].map((function(e,t){return Object(Z.jsx)(h.a.Item,{disabled:!(null===T||void 0===T?void 0:T.rarity.includes(e)),onClick:function(){return W({rarity:e})},children:Object(Z.jsx)(E.a,{stars:e})},t)}))})]}),Object(Z.jsxs)(x.a,{className:"mb-2",children:[Object(Z.jsx)(x.a.Prepend,{children:Object(Z.jsx)(x.a.Text,{children:b(pe||(pe=Object(n.a)(["editor.level"])))})}),Object(Z.jsx)(C.a,{value:oe,disabled:!T,placeholder:"0~".concat(4*se),onChange:function(e){return W({level:e})}}),Object(Z.jsxs)(x.a.Append,{children:[Object(Z.jsx)(f.a,{onClick:function(){return W({level:oe-1})},disabled:!T||0===oe,children:"-"}),se?Object(s.a)(Array(se+1).keys()).map((function(e){return 4*e})).map((function(e){return Object(Z.jsx)(f.a,{onClick:function(){return W({level:e})},disabled:!T||oe===e,children:e},e)})):null,Object(Z.jsx)(f.a,{onClick:function(){return W({level:oe+1})},disabled:!T||oe===4*se,children:"+"})]})]}),Object(Z.jsxs)(x.a,{className:"mb-2 w-100 d-flex flex-row",children:[Object(Z.jsx)(H.a,{title:Object(Z.jsx)(te.b,{slotKey:de}),disabled:!T,variant:A?"success":"primary",as:x.a.Prepend,children:null===T||void 0===T||null===(a=T.slots)||void 0===a?void 0:a.map((function(e){return Object(Z.jsx)(h.a.Item,{onClick:function(){return W({slotKey:e})},children:Object(Z.jsx)(te.b,{slotKey:e})},e)}))}),Object(Z.jsx)(x.a.Text,{as:x.a.Append,className:"flex-grow-1",children:null!==(c=null===T||void 0===T?void 0:T.getSlotName(A.slotKey))&&void 0!==c?c:b(ye||(ye=Object(n.a)(["editor.unknownPieceName"])))})]}),Object(Z.jsxs)(x.a,{className:"mb-2",children:[Object(Z.jsxs)(H.a,{title:Object(Z.jsx)("b",{children:A?M.b.getStatNameWithPercent(A.mainStatKey):b(ge||(ge=Object(n.a)(["mainStat"])))}),disabled:!T,variant:A?"success":"primary",as:x.a.Prepend,children:[Object(Z.jsx)(h.a.ItemText,{children:b(we||(we=Object(n.a)(["editor.mainSelect"])))}),U.a.slotMainStats(de).map((function(e){return Object(Z.jsx)(h.a.Item,{onClick:function(){return W({mainStatKey:e})},children:M.b.getStatNameWithPercent(e)},e)}))]}),Object(Z.jsx)(V.a,{value:A?"".concat(Object(Q.a)(U.a.mainStatValue(A.mainStatKey,se,oe),M.b.getStatUnit(A.mainStatKey))):b(Se||(Se=Object(n.a)(["mainStat"]))),disabled:!0,readOnly:!0})]}),Object(Z.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Z.jsx)(j.a.Body,{className:"py-1 px-2",children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(p.a,{className:"text-center",children:b(Ne||(Ne=Object(n.a)(["editor.curSubEff"])))}),Object(Z.jsxs)(p.a,{xs:"auto",children:[Object(Z.jsx)(ae.a,{valid:J,value:J?he:"ERR"}),Object(Z.jsx)(B.a,{placement:"bottom",overlay:Object(Z.jsxs)(_.a,{id:"current-efficiency",children:[Object(Z.jsx)(_.a.Title,{as:"h5",children:b(ke||(ke=Object(n.a)(["editor.curSubEff"])))}),Object(Z.jsx)(_.a.Content,{children:Object(Z.jsx)(N.a,{t:b,i18nKey:"editor.curSubEffDesc"})})]}),children:Object(Z.jsx)(o.a,{icon:l.v,className:"ml-2",style:{cursor:"help"}})})]})]})})}),Object(Z.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Z.jsx)(j.a.Body,{className:"py-1 px-2",children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(p.a,{className:"text-center",children:b(Ke||(Ke=Object(n.a)(["editor.maxSubEff"])))}),Object(Z.jsxs)(p.a,{xs:"auto",children:[Object(Z.jsx)(ae.a,{valid:J,value:J?Pe:"ERR"}),Object(Z.jsx)(B.a,{placement:"bottom",overlay:Object(Z.jsxs)(_.a,{id:"max-efficiency",children:[Object(Z.jsx)(_.a.Title,{as:"h5",children:b(Ce||(Ce=Object(n.a)(["editor.maxSubEff"])))}),Object(Z.jsx)(_.a.Content,{children:Object(Z.jsx)(N.a,{t:b,i18nKey:"editor.maxSubEffDesc"})})]}),children:Object(Z.jsx)(o.a,{icon:l.v,className:"ml-2",style:{cursor:"help"}})})]})]})})})]}),Object(Z.jsx)(p.a,{xs:12,lg:6,children:[0,1,2,3].map((function(e){return Object(Z.jsx)(dt,{className:"mb-2",index:e,artifact:A,setSubstat:q},e)}))})]}),Object(Z.jsxs)(g.a,{className:"mb-n2",children:[Object(Z.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Z.jsx)(be,{setState:function(e){return w({type:"overwrite",artifact:e})},setReset:function(e){return rt=e},artifactInEditor:F})}),(ne||(null===A||void 0===A?void 0:A.id))&&Object(Z.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Z.jsxs)(g.a,{className:"d-flex justify-content-around mb-n2",children:[Object(Z.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(Z.jsx)("h6",{className:"text-center",children:b(Ae||(Ae=Object(n.a)(["editor.preview"])))}),Object(Z.jsx)("div",{children:Object(Z.jsx)(D.a,{artifactObj:A})})]}),Object(Z.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(Z.jsx)("h6",{className:"text-center",children:b(ne?ce?Ee||(Ee=Object(n.a)(["editor.dupArt"])):Ie||(Ie=Object(n.a)(["editor.upArt"])):Le||(Le=Object(n.a)(["editor.beforeEdit"])))}),Object(Z.jsx)("div",{children:Object(Z.jsx)(D.a,{artifactId:ne||(null===A||void 0===A?void 0:A.id)})})]})]})}),!J&&Object(Z.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Z.jsx)(G.a,{variant:"danger",className:"py-2 px-3 mb-0 ",children:L.map((function(e,t){return Object(Z.jsx)("div",{children:e},t)}))})})]})]}),Object(Z.jsxs)(j.a.Footer,{children:[Object(Z.jsx)(f.a,{className:"mr-2",onClick:function(){(null===A||void 0===A?void 0:A.id)?O.updateArt(A,A.id):O.createArt(A),z()},disabled:!F||!J,variant:ne?"warning":"primary",children:(null===A||void 0===A?void 0:A.id)?b(Me||(Me=Object(n.a)(["editor.btnSave"]))):b(Fe||(Fe=Object(n.a)(["editor.btnAdd"])))}),Object(Z.jsx)(f.a,{className:"mr-2",disabled:!F,onClick:function(){window.confirm(b(Oe||(Oe=Object(n.a)(["editor.clearPrompt"]))))&&z()},variant:"success",children:b(Te||(Te=Object(n.a)(["editor.btnClear"])))}),!1,!!ne&&Object(Z.jsx)(f.a,{className:"float-right",onClick:function(){O.updateArt(A,ne),z()},disabled:!J,variant:"success",children:b(Re||(Re=Object(n.a)(["editor.btnUpdate"])))})]})]})}function dt(e){var t,a=e.index,c=e.artifact,r=e.setSubstat,i=e.className,l=Object(S.a)("artifact").t,o=null!==c&&void 0!==c?c:{},u=o.mainStatKey,d=void 0===u?"":u,O=o.rarity,m=void 0===O?5:O,v=null!==(t=null===c||void 0===c?void 0:c.substats[a])&&void 0!==t?t:{},y=v.key,w=void 0===y?"":y,k=v.value,K=void 0===k?0:k,A=v.rolls,E=void 0===A?[]:A,I=v.efficiency,L=void 0===I?0:I,T=E.reduce((function(e,t){return e+t}),0),R=M.b.getStatUnit(w),P=E.length,D="",z=[],W=0,q=null;if(c){var V=c.rarity,B=U.a.rollInfo(V),_=B.numUpgrades,G=B.high;W=_+G-3-P,z=w?U.a.getSubstatRollData(w,V):[]}var Y=7-z.length;if(!P&&w&&K&&(D=D||l(Pe||(Pe=Object(n.a)(["editor.substat.error.noCalc"])))),W<0&&(D=D||l("editor.substat.error.noOverRoll",{value:W+P})),!D){var $=Object(Z.jsx)(J.a,{variant:0===P?"secondary":"".concat(P,"roll"),className:"text-darkcontent",children:P?l("editor.substat.RollCount",{count:P}):l(Ue||(Ue=Object(n.a)(["editor.substat.noRoll"])))}),ee=Object(s.a)(E).sort().map((function(e,t){return Object(Z.jsx)("span",{className:"mr-2 text-".concat(Y+z.indexOf(e),"roll"),children:Object(Q.a)(e,R)},t)}));q=Object(Z.jsxs)(g.a,{children:[Object(Z.jsxs)(p.a,{children:[$," ",ee]}),Object(Z.jsx)(p.a,{xs:"auto",children:Object(Z.jsxs)(N.a,{t:l,i18nKey:"editor.substat.eff",children:["Efficiency: ",Object(Z.jsx)(ae.a,{valid:!0,value:L||l(De||(De=Object(n.a)(["editor.substat.noStat"])))})]})})]})}return Object(Z.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",className:i,children:[Object(Z.jsxs)(x.a,{children:[Object(Z.jsxs)(H.a,{title:w?M.b.getStatNameWithPercent(w):l("editor.substat.substatFormat",{value:a+1}),disabled:!c,variant:w?"success":"primary",as:x.a.Prepend,children:[Boolean(w)&&Object(Z.jsx)(h.a.Item,{onClick:function(){return r(a,{key:"",value:0})},children:l(ze||(ze=Object(n.a)(["editor.substat.noSubstat"])))},w),F.b.filter((function(e){return d!==e})).map((function(e){return Object(Z.jsx)(h.a.Item,{onClick:function(){return r(a,{key:e,value:0})},children:M.b.getStatNameWithPercent(e)},e)}))]}),Object(Z.jsx)(C.a,{float:"%"===R,placeholder:l(We||(We=Object(n.a)(["editor.substat.selectSub"]))),value:w?K:void 0,onChange:function(e){return r(a,{key:w,value:null!==e&&void 0!==e?e:0})},disabled:!w,allowEmpty:!0}),Object(Z.jsx)(b.a,{size:"sm",as:x.a.Append,children:z.map((function(e,t){var n,c,i,s=Object(Q.a)(T+e,R);return s=null!==(n=null===(c=X[m])||void 0===c||null===(i=c[w])||void 0===i?void 0:i[s])&&void 0!==n?n:s,Object(Z.jsx)(f.a,{variant:"".concat(Y+t,"roll"),className:"py-0 text-darkcontent",disabled:K&&!P||W<=0,onClick:function(){return r(a,{key:w,value:parseFloat(s)})},children:s},t)}))})]}),Object(Z.jsxs)("div",{className:"p-1",children:[D&&Object(Z.jsx)(J.a,{variant:"danger",children:l(qe||(qe=Object(n.a)(["ui:error"])))})," ",D||q]})]})}function jt(e,t){switch(t.type){case"reset":return;case"substat":var a=t.index,n=t.substat,c=n.key?e.substats.findIndex((function(e){return e.key===n.key})):-1;if(-1===c||c===a)e.substats[a]=n;else{var r=[e.substats[c],e.substats[a]];e.substats[a]=r[0],e.substats[c]=r[1]}return Object(i.a)({},e);case"overwrite":return t.artifact;case"update":return Object(i.a)(Object(i.a)({},e),t.artifact)}}var bt=d.a.lazy((function(){return a.e(21).then(a.bind(null,546))})),ft=["quality","level","efficiency","mefficiency"],ht=function(){return{filterArtSetKey:"",filterStars:[3,4,5],filterLevelLow:0,filterLevelHigh:20,filterSlotKey:"",filterMainStatKey:"",filterSubstats:["","","",""],filterLocation:"",filterExcluded:"",ascending:!1,sortType:ft[0],maxNumArtifactsToDisplay:50,effFilter:Object(s.a)(F.b)}};function xt(e,t){return"reset"===t.type?Object(i.a)(Object(i.a)({},ht()),{},{effFilter:e.effFilter}):Object(i.a)(Object(i.a)({},e),t)}function Ot(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return Object(i.a)(Object(i.a)({},t),null!==(e=L.b.get("ArtifactDisplay.state"))&&void 0!==e?e:{})}function mt(e){var t,a,d,z=Object(S.a)(["artifact","ui"]).t,W=Object(u.useContext)(I.b),q=Object(u.useReducer)(xt,ht(),Ot),H=Object(r.a)(q,2),V=H[0],B=H[1],_=V.effFilter,G=Object(u.useState)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.artToEditId),J=Object(r.a)(G,2),Y=J[0],Q=J[1],X=Object(u.useState)(0),ae=Object(r.a)(X,2),ne=ae[0],ce=ae[1],re=Object(u.useRef)(null),ie=Object(u.useRef)(null),se=Object(R.a)(),le=Object(r.a)(se,2),oe=le[0],ue=le[1],de=Object(R.b)($.a.getAll(),[]),je=Object(u.useMemo)((function(){return new Set(_)}),[_]),be=Object(u.useCallback)((function(e){return W.removeArt(e)}),[W]),fe=Object(u.useCallback)((function(e){var t;Q(e),null===re||void 0===re||null===(t=re.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[]),he=Object(u.useCallback)((function(){return Q(null)}),[]);Object(u.useEffect)((function(){return w.a.pageview("/artifact"),W.followAnyArt(ue)}),[W,ue]),Object(u.useEffect)((function(){L.b.set("ArtifactDisplay.state",V)}),[V]);var xe,Oe,me=Object(u.useMemo)((function(){var e=V.filterArtSetKey,t=V.filterSlotKey,a=V.filterMainStatKey,n=V.filterStars,r=V.filterLevelLow,s=V.filterLevelHigh,l=V.filterSubstats,o=void 0===l?ht().filterSubstats:l,u=V.filterLocation,d=void 0===u?"":u,j=V.filterExcluded,b=void 0===j?"":j,f=V.sortType,h=void 0===f?ft[0]:f,x=V.ascending,O=void 0!==x&&x,m=W._getArts(),v=m.filter((function(i){if(b){if("excluded"===b&&!i.exclude)return!1;if("included"===b&&i.exclude)return!1}if("Inventory"===d){if(i.location)return!1}else if("Equipped"===d){if(!i.location)return!1}else if(d&&d!==i.location)return!1;if(e&&e!==i.setKey)return!1;if(t&&t!==i.slotKey)return!1;if(a&&a!==i.mainStatKey)return!1;if(i.level<r||i.level>s)return!1;if(!n.includes(i.rarity))return!1;var l,u=Object(c.a)(o);try{var j=function(){var e=l.value;if(e&&!i.substats.some((function(t){return t.key===e})))return{v:!1}};for(u.s();!(l=u.n()).done;){var f=j();if("object"===typeof f)return f.v}}catch(h){u.e(h)}finally{u.f()}return!0})).map((function(e){switch(h){case"quality":return{value:[e.rarity],art:e};case"level":return{value:[e.level,e.rarity],art:e};case"efficiency":return{value:[U.a.getArtifactEfficiency(e,je).currentEfficiency],art:e};case"mefficiency":return{value:[U.a.getArtifactEfficiency(e,je).maxEfficiency],art:e}}return{value:[0],art:e}})).sort((function(e,t){for(var a=0;a<e.value.length;a++)if(e.value[a]!==t.value[a])return(e.value[a]-t.value[a])*(O?1:-1);return 0})).map((function(e){return e.art})),p=v.reduce((function(e,t){return e+(t.location?1:0)}),0),y=v.reduce((function(e,t){return e+(t.exclude?1:0)}),0),g=v.length-y;return Object(i.a)({artifacts:v,totalArtNum:m.length,numInclude:g,numExclude:y,numUnequip:p},oe)}),[V,oe,je,W]),ve=me.artifacts,pe=me.totalArtNum,ye=me.numUnequip,ge=me.numInclude,we=me.numExclude,Se=V.filterArtSetKey,Ne=V.filterSlotKey,ke=V.filterMainStatKey,Ke=V.filterStars,Ce=V.filterLevelLow,Ae=V.filterLevelHigh,Ee=V.filterSubstats,Ie=void 0===Ee?ht().filterSubstats:Ee,Le=V.maxNumArtifactsToDisplay,Me=V.filterLocation,Fe=void 0===Me?"":Me,Te=V.filterExcluded,Re=void 0===Te?"":Te,Pe=V.sortType,Ue=void 0===Pe?ft[0]:Pe,De=V.ascending,ze=void 0!==De&&De,We=Object(u.useMemo)((function(){var e=Math.ceil(ve.length/Le),t=Object(P.a)(ne,0,e-1);return{artifactsToShow:ve.slice(t*Le,(t+1)*Le),numPages:e,currentPageIndex:t}}),[ve,ne,Le]),qe=We.artifactsToShow,He=We.numPages,Ve=We.currentPageIndex,Be=Object(R.b)(K.b.get(Fe),[Fe]);xe=Fe?"Inventory"===Fe?Object(Z.jsxs)("span",{children:[Object(Z.jsx)(o.a,{icon:l.c})," ",z("filterLocation.inventory")]}):"Equipped"===Fe?Object(Z.jsxs)("span",{children:[Object(Z.jsx)(o.a,{icon:l.G})," ",z("filterLocation.currentlyEquipped")]}):Object(Z.jsx)("b",{children:null===Be||void 0===Be?void 0:Be.nameWIthIcon}):z("filterLocation.any"),Oe="excluded"===Re?Object(Z.jsxs)("span",{children:[Object(Z.jsx)(o.a,{icon:l.a})," ",z(it||(it=Object(n.a)(["exclusion.excluded"])))]}):"included"===Re?Object(Z.jsxs)("span",{children:[Object(Z.jsx)(o.a,{icon:l.e})," ",z(st||(st=Object(n.a)(["exclusion.included"])))]}):z("exclusionDisplay",{value:z("exclusion.any")});var _e=Object(u.useMemo)((function(){var e=ve.length!==pe?"".concat(ve.length,"/").concat(pe):"".concat(pe);return Object(Z.jsx)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(Z.jsx)(j.a.Body,{children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(p.a,{children:Object(Z.jsx)(b.a,{size:"sm",children:Object(s.a)(Array(He).keys()).map((function(e){return Object(Z.jsxs)(f.a,{className:"px-3",variant:Ve===e?"success":"primary",onClick:function(){var t;ce(e),null===(t=ie.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:[0===e?"Page ":"",e+1]},e)}))})}),Object(Z.jsx)(p.a,{xs:"auto",children:Object(Z.jsxs)(N.a,{t:z,i18nKey:"showingNum",count:qe.length,value:e,children:["Showing ",Object(Z.jsx)("b",{children:{count:qe.length}})," out of ",{value:e}," Artifacts"]})})]})})})}),[He,Ve,qe.length,ve.length,pe,z]);return Object(Z.jsxs)(y.a,{className:"mt-2",children:[Object(Z.jsx)(A.a,{pageKey:"artifactPage",modalTitle:z(lt||(lt=Object(n.a)(["info.title"]))),text:z("tipsOfTheDay",{returnObjects:!0}),children:Object(Z.jsx)(bt,{})}),Object(Z.jsx)("div",{className:"mb-2",ref:re,children:Object(Z.jsx)(ut,{artifactIdToEdit:Y,cancelEdit:he})}),Object(Z.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ie,children:[Object(Z.jsx)(j.a.Header,{children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(p.a,{children:Object(Z.jsx)("span",{children:Object(Z.jsx)(N.a,{t:z,i18nKey:"artifactFilter",children:"Artifact Filter"})})}),Object(Z.jsx)(p.a,{xs:"auto",children:Object(Z.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return B({type:"reset"})},children:[Object(Z.jsx)(o.a,{icon:l.F,className:"fa-fw"})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"resetFilters"})]})})]})}),Object(Z.jsxs)(j.a.Body,{children:[Object(Z.jsxs)(g.a,{children:[Object(Z.jsxs)(p.a,{xs:12,lg:6,children:[Object(Z.jsxs)(h.a,{as:x.a.Prepend,className:"flex-grow-1 mb-2",children:[Object(Z.jsx)(h.a.Toggle,{className:"w-100",variant:Se?"success":"primary",children:null!==(a=null===de||void 0===de||null===(d=de[Se])||void 0===d?void 0:d.name)&&void 0!==a?a:z("editor.set.artifactSet")}),Object(Z.jsxs)(h.a.Menu,{children:[Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterArtSetKey:""})},children:Object(Z.jsx)(N.a,{t:z,i18nKey:"ui:unselect",children:"Unselect"})}),Object(Z.jsx)(h.a.Divider,{}),Object(Z.jsx)(ee,{sheets:de,click:function(e){return B({filterArtSetKey:e})}})]})]}),Object(Z.jsx)(O.a,{className:"w-100 d-flex mb-2",type:"checkbox",as:x.a.Append,onChange:function(e){return B({filterStars:e})},value:Ke,children:T.a.map((function(e){var t=Ke.includes(e);return Object(Z.jsxs)(m.a,{value:e,variant:t?"success":"primary",children:[Object(Z.jsx)(o.a,{icon:t?l.f:l.z})," ",Object(Z.jsx)(E.a,{stars:e})]},e)}))}),Object(Z.jsxs)(x.a,{className:"mb-2",children:[Object(Z.jsx)(x.a.Prepend,{children:Object(Z.jsx)(x.a.Text,{children:Object(Z.jsx)("span",{children:Object(Z.jsxs)(N.a,{t:z,i18nKey:"filterLevelFormat",children:["Level ",Object(Z.jsx)("span",{className:"text-".concat(Ce>0?"success":""),children:"Low"}),"/",Object(Z.jsx)("span",{className:"text-".concat(Ae<20?"success":""),children:"High"})," (Inclusive)"]})})})}),Object(Z.jsx)(C.a,{value:Ce,placeholder:z("ui:game.minLevel"),onChange:function(e){return B({filterLevelLow:Object(P.a)(e,0,Ae)})}}),Object(Z.jsx)(C.a,{value:Ae,placeholder:z("ui:game.maxLevel"),onChange:function(e){return B({filterLevelHigh:Object(P.a)(e,Ce,20)})}})]}),Object(Z.jsxs)(b.a,{className:"w-100 d-flex flex-row mb-2",children:[Object(Z.jsxs)(h.a,{as:b.a,className:"flex-grow-1",children:[Object(Z.jsx)(h.a.Toggle,{children:Object(Z.jsx)("span",{children:Object(Z.jsxs)(N.a,{t:z,i18nKey:"ui:sortByFormat",value:z("sortMap.".concat(Ue)),children:["Sort By: ",{value:z("sortMap.".concat(Ue))}]})})}),Object(Z.jsx)(h.a.Menu,{children:ft.map((function(e){return Object(Z.jsx)(h.a.Item,{onClick:function(){return B({sortType:e})},children:z("sortMap.".concat(e))},e)}))})]}),Object(Z.jsxs)(f.a,{onClick:function(){return B({ascending:!ze})},className:"flex-shrink-1",children:[Object(Z.jsx)(o.a,{icon:ze?l.x:l.y,className:"fa-fw"}),Object(Z.jsxs)("span",{children:[" ",ze?Object(Z.jsx)(N.a,{t:z,i18nKey:"ui:ascending",children:"Ascending"}):Object(Z.jsx)(N.a,{t:z,i18nKey:"ui:descending",children:"Descending"})]})]})]})]}),Object(Z.jsx)(p.a,{xs:12,lg:6,children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsxs)(p.a,{children:[Object(Z.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Z.jsx)(h.a.Toggle,{className:"w-100",variant:Ne?"success":"primary",children:Ne?Object(Z.jsx)(te.b,{slotKey:Ne}):z("slot")}),Object(Z.jsxs)(h.a.Menu,{children:[Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterSlotKey:""})},children:Object(Z.jsx)(N.a,{t:z,i18nKey:"ui:unselect",children:"Unselect"})}),T.h.map((function(e){return Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterSlotKey:e})},children:Object(Z.jsx)(te.b,{slotKey:e})},e)}))]})]}),Object(Z.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Z.jsx)(h.a.Toggle,{className:"w-100",variant:ke?"success":"primary",children:M.b.getStatNameWithPercent(ke,z("mainStat"))}),Object(Z.jsxs)(h.a.Menu,{children:[Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterMainStatKey:""})},children:Object(Z.jsx)(N.a,{t:z,i18nKey:"ui:unselect",children:"Unselect"})}),F.a.map((function(e){return Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterMainStatKey:e})},children:M.b.getStatNameWithPercent(e)},e)}))]})]}),Object(Z.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Z.jsx)(h.a.Toggle,{className:"w-100",variant:Fe?"success":"primary",children:xe}),Object(Z.jsxs)(h.a.Menu,{children:[Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterLocation:""})},children:Object(Z.jsx)(N.a,{t:z,i18nKey:"ui:unselect",children:"Unselect"})}),Object(Z.jsxs)(h.a.Item,{onClick:function(){return B({filterLocation:"Inventory"})},children:[Object(Z.jsx)(o.a,{icon:l.c})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"filterLocation.inventory",children:"Inventory"})]}),Object(Z.jsxs)(h.a.Item,{onClick:function(){return B({filterLocation:"Equipped"})},children:[Object(Z.jsx)(o.a,{icon:l.G})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"filterLocation.currentlyEquipped",children:"Currently Equipped"})]}),Object(Z.jsx)(h.a.Divider,{}),Object(Z.jsx)(k.b,{onSelect:function(e){return B({filterLocation:e})}})]})]}),Object(Z.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Z.jsx)(h.a.Toggle,{className:"w-100",variant:Re?"success":"primary",children:Oe}),Object(Z.jsxs)(h.a.Menu,{children:[Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterExcluded:""})},children:Object(Z.jsx)(N.a,{t:z,i18nKey:"exclusion.any",children:"Any"})}),Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterExcluded:"excluded"})},children:Object(Z.jsxs)("span",{children:[Object(Z.jsx)(o.a,{icon:l.a})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"exclusion.excluded",children:"Excluded"})]})}),Object(Z.jsx)(h.a.Item,{onClick:function(){return B({filterExcluded:"included"})},children:Object(Z.jsxs)("span",{children:[Object(Z.jsx)(o.a,{icon:l.e})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"exclusion.included",children:"Included"})]})})]})]})]}),Object(Z.jsx)(p.a,{children:Ie.map((function(e,t){return Object(Z.jsxs)(h.a,{className:"mb-2",children:[Object(Z.jsx)(h.a.Toggle,{id:"dropdown-basic",className:"w-100",variant:e?"success":"primary",children:e?M.b.getStatNameWithPercent(e):z("editor.substat.substatFormat",{value:t+1})}),Object(Z.jsxs)(h.a.Menu,{children:[Object(Z.jsx)(h.a.Item,{onClick:function(){Ie[t]="",B({filterSubstats:Ie})},children:Object(Z.jsx)(N.a,{t:z,i18nKey:"editor.substat.noSubstat",children:"No Substat"})}),U.a.getSubstatKeys().filter((function(e){return!Ie.includes(e)})).map((function(e){return Object(Z.jsx)(h.a.Item,{onClick:function(){Ie[t]=e,B({filterSubstats:Ie})},children:M.b.getStatNameWithPercent(e)},e)}))]})]},t)}))})]})})]}),Object(Z.jsxs)(g.a,{className:"mb-n2",children:[Object(Z.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Z.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ye,onClick:function(){return window.confirm("Are you sure you want to unequip ".concat(ye," artifacts currently equipped on characters?"))&&ve.map((function(e){return W.setArtLocation(e.id,"")}))},children:[Object(Z.jsx)(o.a,{icon:l.H})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"button.unequipArtifacts",children:"Unequip Artifacts"})]})}),Object(Z.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Z.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ve.length,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(ve.length," artifacts?"))&&ve.map((function(e){return W.removeArt(e.id)}))},children:[Object(Z.jsx)(o.a,{icon:l.D})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"button.deleteArtifacts",children:"Delete Artifacts"})]})}),Object(Z.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Z.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ge,onClick:function(){return window.confirm("Are you sure you want to exclude ".concat(ge," artifacts from build generations?"))&&ve.map((function(e){return W.updateArt({exclude:!0},e.id)}))},children:[Object(Z.jsx)(o.a,{icon:l.a})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"button.excludeArtifacts",children:"Lock Artifacts"})]})}),Object(Z.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Z.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!we,onClick:function(){return window.confirm("Are you sure you want to include ".concat(we," artifacts in build generations?"))&&ve.map((function(e){return W.updateArt({exclude:!1},e.id)}))},children:[Object(Z.jsx)(o.a,{icon:l.e})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"button.includeArtifacts",children:"Unlock Artifacts"})]})}),Object(Z.jsx)(p.a,{xs:12,className:"mt-n2",children:Object(Z.jsx)("small",{children:Object(Z.jsxs)(N.a,{t:z,i18nKey:"buttonHint",children:["Note: the above buttons only applies to ",Object(Z.jsx)("b",{children:"filtered artifacts"})]})})})]})]})]}),Object(Z.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ie,children:[Object(Z.jsx)(j.a.Header,{children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(p.a,{children:Object(Z.jsx)("span",{children:Object(Z.jsx)(N.a,{t:z,i18nKey:"efficiencyFilter.title",children:"Efficiency Filter"})})}),Object(Z.jsx)(p.a,{xs:"auto",children:Object(Z.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return B({effFilter:Object(s.a)(F.b)})},children:[Object(Z.jsx)(o.a,{icon:l.F,className:"fa-fw"})," ",Object(Z.jsx)(N.a,{t:z,i18nKey:"ui:reset"})]})})]})}),Object(Z.jsx)(j.a.Body,{children:Object(Z.jsx)(v.a,{as:g.a,className:"w-100 d-flex flex-row",children:[[0,6],[6]].map((function(e){return Object(Z.jsx)(O.a,{as:p.a,type:"checkbox",value:_,onChange:function(e){return B({effFilter:e})},className:"flex-grow-1 mb-2",children:F.b.slice.apply(F.b,Object(s.a)(e)).map((function(e){return Object(Z.jsx)(m.a,{value:e,variant:_.includes(e)?"success":"primary",children:M.b.getStatNameWithPercent(e)},e)}))},e.toString())}))})})]}),_e,Object(Z.jsx)(g.a,{children:qe.map((function(e,t){return Object(Z.jsx)(p.a,{lg:4,md:6,className:"mb-2",children:Object(Z.jsx)(D.a,{artifactId:e.id,effFilter:je,onDelete:function(){return be(e.id)},onEdit:function(){return fe(e.id)}})},t)}))}),He>1&&_e]})}}}]);
//# sourceMappingURL=17.4774dcf2.chunk.js.map