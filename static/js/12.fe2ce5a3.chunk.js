(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[12],{162:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(164),i=(a(77),a(169)),c=(a(14),a(167));function r(e,t){return function(e,t){for(var a=new Set(t.map((function(e){return e.key}))),c={},r=Object.keys(e),s=0,l=r;s<l.length;s++){var o,u=l[s],d={},j=Object(i.a)(e[u]);try{for(j.s();!(o=j.n()).done;){var b=o.value;a.has(b.setKey)?d[b.setKey]?d[b.setKey].push(b):d[b.setKey]=[b]:d.null?d.null.push(b):d.null=[b]}}catch(v){j.e(v)}finally{j.f()}c[u]=Object.freeze(d)}var h={},O={},f=[];return function e(a){if(a>=r.length){var s,l=Object(i.a)(t);try{for(l.s();!(s=l.n()).done;){var o,u=s.value,d=u.key,j=u.num;if((null!==(o=h[d])&&void 0!==o?o:0)<j)return}}catch(v){l.e(v)}finally{l.f()}f.push(Object(n.a)({},O))}else{var b=r[a],m=c[b];for(var x in m){var p;h[x]=(null!==(p=h[x])&&void 0!==p?p:0)+1,O[b]=m[x],e(a+1),h[x]-=1}}}(0),f}(e,t).reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){return e*t[1].length}),1)}),0)}function s(e,t,a){var n=t.hitMode,i=void 0===n?"":n,r=t.infusionAura,s=void 0===r?"":r,l=t.infusionSelf,o=void 0===l?"":l,u=t.reactionMode,d=void 0===u?null:u,j=t.characterEle,b=void 0===j?"anemo":j,h=t.weaponType,O=void 0===h?"sword":h;if(Object.keys(c.a).includes(e))return"".concat(e,"_elemental_").concat(i);if(a||"catalyst"!==O||(a=b),"elemental"===e||"burst"===e||"skill"===e||a)return d&&d.startsWith(a||b)?"".concat(d,"_").concat(e,"_").concat(i):"".concat(a||b,"_").concat(e,"_").concat(i);var f="physical";return o?f=o:s&&(f=s),d&&d.startsWith(f)?"".concat(d,"_").concat(e,"_").concat(i):"".concat(f,"_").concat(e,"_").concat(i)}function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Object.keys(c.a).includes(e))return e;var n=t.infusionAura,i=void 0===n?"":n,r=t.infusionSelf,s=void 0===r?"":r,l=t.reactionMode,o=void 0===l?null:l,u=t.characterEle,d=void 0===u?"anemo":u,j=t.weaponType,b=void 0===j?"sword":j;if(a||"catalyst"!==b||(a=d),"elemental"===e||"burst"===e||"skill"===e||a){if(o&&o.startsWith(a||d)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return a||d}var h="physical";if(s?h=s:i&&(h=i),o&&o.startsWith(h)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return h}},171:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(164),i=a(102),c=a(170),r=a(77),s=a(169),l=a(14),o=a(59),u=a(60),d=a(180),j=a(168),b=a(192),h=a(94),O=a(167),f=a(28),v=a(25),m=a(179),x=a(176),p=a(186),g=a(91),y=a(8),S=a(174),k=function(){function e(){if(Object(o.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(u.a)(e,null,[{key:"remove",value:function(e){var t=v.a.get(e);t&&(Object.values(t.equippedArtifacts).forEach((function(e){return f.a.moveToNewLocation(e,"")})),v.a.remove(e))}},{key:"getDisplayHeading",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anemo";if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var i,c,r=e.split("talentKey_")[1];return null!==(i=null===t||void 0===t||null===(c=t.getTalentOfKey(r,n))||void 0===c?void 0:c.name)&&void 0!==i?i:r}if(e.startsWith("weapon_")){var s,l=e.split("weapon_")[1];return null!==(s=null===a||void 0===a?void 0:a.name)&&void 0!==s?s:l}return""}}]),e}();k.getElementalName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===O.a||void 0===O.a||null===(t=O.a[e])||void 0===t?void 0:t.name)||a},k.getLevelString=function(e){return"".concat(e.level,"/").concat(h.a[e.ascension])},k.getTalentFieldValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(null===e||void 0===e?void 0:e[t])?Object(y.h)(null===e||void 0===e?void 0:e[t],a):n},k.hasOverride=function(e,t){return"finalHP"===t?k.hasOverride(e,"hp")||k.hasOverride(e,"hp_")||k.hasOverride(e,"characterHP")||!1:"finalDEF"===t?k.hasOverride(e,"def")||k.hasOverride(e,"def_")||k.hasOverride(e,"characterDEF")||!1:"finalATK"===t?k.hasOverride(e,"atk")||k.hasOverride(e,"atk_")||k.hasOverride(e,"characterATK")||!1:!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},k.getBaseStatValue=function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return"specializedStatKey"===n?t.getSpecializedStat(e.ascension):"specializedStatVal"===n?t.getSpecializedStatVal(e.ascension):"weaponATK"===n?S.a.getWeaponMainStatValWithOverride(null===e||void 0===e?void 0:e.weapon,a):"enemyLevel"===n?e.level:n.includes("enemyRes_")?10:n in h.b?h.b[n]:"characterDEF"===n?t.getBase("def",e.level,e.ascension):"characterATK"===n?t.getBase("atk",e.level,e.ascension):"characterHP"===n?t.getBase("hp",e.level,e.ascension):i},k.getStatValueWithOverride=function(e,t,a,n){var i,c,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return k.hasOverride(e,n)?null!==(i=null===e||void 0===e||null===(c=e.baseStatOverrides)||void 0===c?void 0:c[n])&&void 0!==i?i:r:k.getBaseStatValue(e,t,a,n,r)},k.equipArtifacts=function(e,t){var a=v.a.get(e);if(a){var n=a.equippedArtifacts;g.h.forEach((function(a){var i,c,r=f.a.get(t[a]);if((null===r||void 0===r?void 0:r.location)!==e){var s=f.a.get(null===n||void 0===n?void 0:n[a]),l=null!==(i=null===r||void 0===r?void 0:r.location)&&void 0!==i?i:"";s&&f.a.moveToNewLocation(s.id,l),l&&v.a.equipArtifactOnSlot(l,a,null!==(c=null===s||void 0===s?void 0:s.id)&&void 0!==c?c:""),r&&f.a.moveToNewLocation(r.id,e)}})),v.a.equipArtifactBuild(e,t)}},k.calculateBuild=function(e,t,a,n){var i,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.artifacts?i=Object.fromEntries(e.artifacts.map((function(e,t){return[t,e]}))):e.equippedArtifacts&&(i=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,f.a.get(n)]}))));var r=k.createInitialStats(e,t,a);return r.mainStatAssumptionLevel=c,k.calculateBuildwithArtifact(r,i,n)},k.calculateBuildwithArtifact=function(e,t,a){var n,i=d.a.setToSlots(t),c=j.a.setEffectsStats(a,e,i),r=Object(y.f)(e);Object.values(t).forEach((function(e){e&&(r[e.mainStatKey]=(r[e.mainStatKey]||0)+d.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(r.mainStatAssumptionLevel,4*e.numStars),e.level)),e.substats.forEach((function(e){return e&&e.key&&(r[e.key]=(r[e.key]||0)+e.value)})))})),c.forEach((function(e){return r[e.key]=(r[e.key]||0)+e.value})),b.a.parseConditionalValues({artifact:null===r||void 0===r||null===(n=r.conditionalValues)||void 0===n?void 0:n.artifact},(function(e,t,a){var n,c,s=Object(l.a)(a,2)[1],o=e.setNumKey;if(!(parseInt(o)>(null!==(n=null===i||void 0===i||null===(c=i[s])||void 0===c?void 0:c.length)&&void 0!==n?n:0))){var u=b.a.resolve(e,r,t).stats;Object.entries(u).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return r[a]=(r[a]||0)+n}))}})),r.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),r.setToSlots=i;var s=Object(p.a)(null===r||void 0===r?void 0:r.modifiers);return Object(x.c)(s,r).formula(r),r},k.mergeStats=function(e,t){return t&&Object.entries(t).forEach((function(t){var a=Object(l.a)(t,2),n=a[0],i=a[1];if("modifiers"===n){var c;e.modifiers=null!==(c=e.modifiers)&&void 0!==c?c:{};var r,o=Object(s.a)(Object.entries(i));try{for(o.s();!(r=o.n()).done;){var u,d=Object(l.a)(r.value,2),j=d[0],b=d[1];e.modifiers[j]=null!==(u=e.modifiers[j])&&void 0!==u?u:{};var h,O=Object(s.a)(Object.entries(b));try{for(O.s();!(h=O.n()).done;){var f,v=Object(l.a)(h.value,2),m=v[0],x=v[1];e.modifiers[j][m]=(null!==(f=e.modifiers[j][m])&&void 0!==f?f:0)+x}}catch(p){O.e(p)}finally{O.f()}}}catch(p){o.e(p)}finally{o.f()}}else void 0===e[n]?e[n]=i:"number"===typeof e[n]&&(e[n]+=i)}))},k.createInitialStats=function(e,t,a){var s,o,u,d,j=e=Object(y.f)(e),O=j.characterKey,f=j.elementKey,v=j.level,m=j.ascension,x=j.hitMode,p=j.infusionAura,w=j.reactionMode,N=j.talentLevelKeys,L=j.constellation,A=j.equippedArtifacts,K=j.conditionalValues,E=void 0===K?{}:K,C=j.weapon,B=void 0===C?{key:"",refineIndex:0}:C,T=["characterHP","characterATK","characterDEF","weaponATK","enemyLevel","physical_enemyRes_","physical_enemyImmunity"].concat(Object(r.a)(Object.keys(h.b))),M=Object.fromEntries(T.map((function(n){return[n,k.getStatValueWithOverride(e,t,a,n)]})));M.characterLevel=v,M.characterEle=null!==(s=null!==(o=t.elementKey)&&void 0!==o?o:f)&&void 0!==s?s:"anemo",M.characterKey=O,M.hitMode=x,M.infusionAura=p,M.reactionMode=w,M.conditionalValues=E,M.weaponType=t.weaponTypeKey,M.tlvl=N,M.constellation=L,M.ascension=m;var _=B.key,F=B.refineIndex;M.weapon={key:_,refineIndex:F},M.equippedArtifacts=A,["physical"].concat(Object(r.a)(g.d)).forEach((function(n){var i="".concat(n,"_enemyRes_");M[i]=k.getStatValueWithOverride(e,t,a,i),i="".concat(n,"_enemyImmunity"),M[i]=k.getStatValueWithOverride(e,t,a,i)}));var W=(null===(u=e)||void 0===u?void 0:u.baseStatOverrides)||{};Object.entries(W).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];"specializedStatKey"!==a&&"specializedStatVal"!==a&&(M.hasOwnProperty(a)||(M[a]=n))}));var V=k.getStatValueWithOverride(e,t,a,"specializedStatVal"),D=k.getStatValueWithOverride(e,t,a,"specializedStatKey");for(var I in k.mergeStats(M,Object(c.a)({},D,V)),t.getTalentStatsAll(M,M.characterEle).forEach((function(e){return k.mergeStats(M,e)})),M.tlvl){var z;M.tlvl[I]+=null!==(z=M["".concat(I,"Boost")])&&void 0!==z?z:0}var P=S.a.getWeaponSubstatKey(a);P&&k.mergeStats(M,Object(c.a)({},P,S.a.getWeaponSubstatValWithOverride(null===(d=e)||void 0===d?void 0:d.weapon,a))),k.mergeStats(M,a.stats(M));E.artifact;var H=E.weapon,R=Object(i.a)(E,["artifact","weapon"]);return b.a.parseConditionalValues(Object(n.a)(Object(n.a)({},B.key&&{weapon:Object(c.a)({},B.key,null===H||void 0===H?void 0:H[B.key])}),R),(function(e,t,a){if(b.a.canShow(e,M)){var n=b.a.resolve(e,M,t).stats;k.mergeStats(M,n)}})),M},k.getDisplayStatKeys=function(e,t){var a,i,c=e.characterEle,r=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(c,"_dmg_")];t.isAutoElemental||r.push("physical_dmg_");var s=Object(y.f)(x.a[c]),o=t.weaponTypeKey;s.includes("shattered_hit")||"claymore"!==o||s.push("shattered_hit");var u={},d=t.getTalent(c);d&&Object.entries(d.formula).forEach((function(t){var a=Object(l.a)(t,2),n=a[0],i=a[1];Object.values(i).forEach((function(t){if(t.field.canShow(e)){"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto");var a="talentKey_".concat(n);u[a]||(u[a]=[]),u[a].push(t.keys)}}))}));var j=null===(a=m.a.formulas)||void 0===a||null===(i=a.weapon)||void 0===i?void 0:i[e.weapon.key];return j&&Object.values(j).forEach((function(t){if(t.field.canShow(e)){var a="weapon_".concat(e.weapon.key);u[a]||(u[a]=[]),u[a].push(t.keys)}})),Object(n.a)(Object(n.a)({basicKeys:r},u),{},{transReactions:s})}},174:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(59),i=a(185),c=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};c.getLevelName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.a[e]||t},c.getLevelIndex=function(e){return i.b.indexOf(e)},c.getWeaponMainStatVal=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.baseStats.main[c.getLevelIndex(t)]||a},c.getWeaponSubstatVal=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(a=e.baseStats.sub)||void 0===a?void 0:a[c.getLevelIndex(t)])||n},c.getWeaponSubstatKey=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=e.baseStats)||void 0===t?void 0:t.substatKey)||a},c.getWeaponTypeName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.c[e]||t},c.getWeaponTypeKeys=function(){return Object.keys(i.c)},c.getWeaponMainStatValWithOverride=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.overrideMainVal)||c.getWeaponMainStatVal(t,null===e||void 0===e?void 0:e.levelKey,a)},c.getWeaponSubstatValWithOverride=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.overrideSubVal)||c.getWeaponSubstatVal(t,null===e||void 0===e?void 0:e.levelKey,a)}},175:function(e,t,a){"use strict";var n={elements:{anemo:a.p+"static/media/Element_Anemo.f809fde3.png",cryo:a.p+"static/media/Element_Cryo.019d72f9.png",dendro:a.p+"static/media/Element_Dendro.8ee0f26d.png",electro:a.p+"static/media/Element_Electro.342332ac.png",geo:a.p+"static/media/Element_Geo.b7e865c6.png",hydro:a.p+"static/media/Element_Hydro.f2f8bd8a.png",pyro:a.p+"static/media/Element_Pyro.f65c2e38.png"},weaponTypes:{bow:a.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:a.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:a.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:a.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:a.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:a.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:a.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:a.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:a.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:a.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},179:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(59),i=a(8),c=Promise.all([a.e(4),a.e(18)]).then(a.bind(null,212)).then((function(e){r.formulas=e.default,Object(i.e)(e.default,[],(function(e){return"function"===typeof e}),(function(e,t){return e.keys=t}))})),r=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};r.formulas={},r.get=function(e){return c.then((function(){return Object(i.q)(r.formulas,e)}))}},185:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return c}));var n=["L1","L5","L10","L15","L20","L20A","L25","L30","L35","L40","L40A","L45","L50","L50A","L55","L60","L60A","L65","L70","L70A","L75","L80","L80A","L85","L90"],i={L1:"Lvl. 1",L5:"Lvl. 5",L10:"Lvl. 10",L15:"Lvl. 15",L20:"Lvl. 20",L20A:"Lvl. 20/40",L25:"Lvl. 25",L30:"Lvl. 30",L35:"Lvl. 35",L40:"Lvl. 40",L40A:"Lvl. 40/50",L45:"Lvl. 45",L50:"Lvl. 50",L50A:"Lvl. 50/60",L55:"Lvl. 55",L60:"Lvl. 60",L60A:"Lvl. 60/70",L65:"Lvl. 65",L70:"Lvl. 70",L70A:"Lvl. 70/80",L75:"Lvl. 75",L80:"Lvl. 80",L80A:"Lvl. 80/90",L85:"Lvl. 85",L90:"Lvl. 90"},c={sword:"Sword",claymore:"Claymore",catalyst:"Catalyst",bow:"Bow",polearm:"Polearm"}},186:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(14);var n=a(77),i=a(176);function c(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a)}}),new Proxy({},{get:function(e,a,n){t.add(a)}})),Object(n.a)(t)}var r=Object.freeze(Object.fromEntries(Object.keys(i.b).map((function(e){return[e,c(i.b[e])]}))));function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(i.d),a=new Set;return t.forEach((function(t){return l(t,e,a)})),Object(n.a)(a)}function l(e,t,a){var n,i;a.has(e)||(null===(n=r[e])||void 0===n||n.forEach((function(e){return l(e,t,a)})),Object.keys(null!==(i=t[e])&&void 0!==i?i:{}).forEach((function(e){return l(e,t,a)})),a.add(e))}},201:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(14),i=a(90),c=a(50),r=a(0),s=a(350),l=a(19),o=a(44),u=a(22),d=a(43),j=a(161),b=a(8),h=a(1);function O(e){var t,a,O=e.pageKey,f=void 0===O?"":O,v=e.text,m=void 0===v?"":v,x=e.modalTitle,p=void 0===x?"":x,g=e.children,y=Object(r.useState)(null===(t=null===(a=Object(b.n)("infoShown"))||void 0===a?void 0:a[f])||void 0===t||t),S=Object(n.a)(y,2),k=S[0],w=S[1],N=Object(r.useState)(Array.isArray(m)?Object(b.j)(m):m),L=Object(n.a)(N,1)[0],A=function(){var e,t=null!==(e=Object(b.n)("infoShown"))&&void 0!==e?e:{};t[f]=!1,Object(b.r)("infoShown",t),w(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{show:k,onHide:function(){return A()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(h.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(h.jsx)(l.a.Header,{children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(u.a,{children:Object(h.jsx)(l.a.Title,{children:p})}),Object(h.jsx)(u.a,{xs:"auto",children:Object(h.jsx)(d.a,{variant:"danger",onClick:function(){return A()},children:Object(h.jsx)(c.a,{icon:i.B})})})]})}),Object(h.jsx)(l.a.Body,{children:Object(h.jsx)(r.Suspense,{fallback:Object(h.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(h.jsx)(j.a,{animation:"border",variant:"primary"})]}),children:g})}),Object(h.jsx)(l.a.Footer,{children:Object(h.jsx)(d.a,{variant:"danger",onClick:function(){return A()},children:Object(h.jsx)("span",{children:"Close"})})})]})}),Object(h.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(h.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(u.a,{children:Object(h.jsx)("small",{children:L})}),Object(h.jsx)(u.a,{xs:"auto",children:Object(h.jsx)(d.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return w(!0)},children:Object(h.jsx)(c.a,{icon:i.s})})})]})})})]})}},217:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(77),i=a(14),c=a(90),r=a(50),s=a(0),l=a(196),o=a(129),u=a(43),d=a(19),j=a(22),b=a(44),h=a(35),O=a(168),f=a(175),v=a(183),m=a(202),x=a(25),p=a(163),g=a(92),y=a(174),S=a(198),k=a(171),w=a(173),N=a(1);function L(e){var t,a=e.characterKey,L=e.onEdit,A=e.onDelete,K=e.cardClassName,E=void 0===K?"":K,C=e.bg,B=void 0===C?"":C,T=e.header,M=e.footer,_=void 0!==M&&M,F=Object(g.a)(),W=Object(i.a)(F,2)[1];Object(s.useEffect)((function(){return a&&x.a.registerCharListener(a,W),function(){a&&x.a.unregisterCharListener(a,W)}}),[a,W]);var V=Object(g.b)(O.a.getAll(),[]),D=x.a.get(a),I=Object(g.b)(w.b.get(a),[a]),z=Object(g.b)(D&&S.a.get(D.weapon.key),[D]),P=Object(s.useMemo)((function(){return D&&I&&z&&V&&k.a.calculateBuild(D,I,z,V)}),[D,I,z,V]);if(!D||!I||!z||!P)return null;var H=D.weapon,R=D.constellation,q=I.name,G=P.characterEle,U=I.weaponTypeKey,J=null===z||void 0===z?void 0:z.name,Y=y.a.getWeaponMainStatValWithOverride(H,z),X=y.a.getWeaponSubstatKey(z),Q=y.a.getWeaponSubstatValWithOverride(H,z),Z=y.a.getLevelName(H.levelKey),$=null===z||void 0===z?void 0:z.passiveName;return Object(N.jsxs)(d.a,{className:E,bg:B||"darkcontent",text:"lightfont",children:[Object(N.jsx)(d.a.Header,{className:"pr-2",children:Object(N.jsxs)(b.a,{className:"no-gutters",children:[Object(N.jsx)(j.a,{children:T||Object(N.jsx)("h5",{children:Object(N.jsx)("b",{children:q})})}),Object(N.jsx)(j.a,{xs:"auto",children:Object(N.jsxs)("span",{className:"float-right align-top ml-1",children:[L&&Object(N.jsx)(u.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return L(a)},children:Object(N.jsx)(r.a,{icon:c.h})}),A&&Object(N.jsx)(u.a,{variant:"danger",size:"sm",onClick:function(){return A(a)},children:Object(N.jsx)(r.a,{icon:c.E})})]})})]})}),Object(N.jsxs)(d.a.Body,{onClick:function(){return null===L||void 0===L?void 0:L(a)},className:L?"cursor-pointer":"",children:[Object(N.jsxs)(b.a,{children:[Object(N.jsx)(j.a,{xs:"auto",className:"pr-0",children:Object(N.jsx)(l.a,{src:I.thumbImg,className:"thumb-big grad-".concat(I.star,"star p-0"),thumbnail:!0})}),Object(N.jsxs)(j.a,{children:[Object(N.jsxs)("h3",{className:"mb-0",children:[k.a.getLevelString(D)," ","C".concat(R)]}),Object(N.jsx)("h5",{className:"mb-0",children:Object(N.jsx)(v.a,{stars:I.star,colored:!0})}),Object(N.jsxs)("h2",{className:"mb-0",children:[Object(N.jsx)(l.a,{src:f.a.elements[G],className:"inline-icon"})," ",Object(N.jsx)(l.a,{src:null===(t=f.a.weaponTypes)||void 0===t?void 0:t[U],className:"inline-icon"})]})]})]}),Object(N.jsx)(b.a,{className:"mb-2",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)("h6",{className:"mb-0",children:[J,$&&"(".concat(H.refineIndex+1,")")," ",Z]}),Object(N.jsxs)("span",{children:["ATK: ",Y,"  ",$&&Object(N.jsxs)("span",{children:[p.a.getStatName(X),": ",Q,p.a.getStatUnit(X)]})]})]})}),Object(N.jsx)(b.a,{children:Object(N.jsx)(j.a,{children:V&&Object.entries(O.a.setEffects(V,P.setToSlots)).map((function(e){var t,a=Object(i.a)(e,2),c=a[0],r=a[1],s=null!==(t=null===V||void 0===V?void 0:V[c].name)&&void 0!==t?t:"",l=Math.max.apply(Math,Object(n.a)(r));return Object(N.jsx)("h5",{children:Object(N.jsxs)(o.a,{variant:"secondary",children:[s," ",Object(N.jsx)(o.a,{variant:"success",children:l})]})},c)}))})}),Object(N.jsx)(b.a,{children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var t=p.a.getStatUnit(e),a=P[e];return Object(N.jsxs)(j.a,{xs:12,children:[Object(N.jsxs)("h6",{className:"d-inline",children:[Object(m.a)(e)," ",p.a.getStatName(e)]}),Object(N.jsx)("span",{className:"float-right",children:(null===a||void 0===a?void 0:a.toFixed(p.a.fixedUnit(e)))+t})]},e)}))})]}),_&&Object(N.jsx)(d.a.Footer,{children:Object(N.jsx)(u.a,{as:h.b,to:{pathname:"/build",characterKey:a},children:"Generate Builds"})})]})}},219:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r}));var n=a(8);function i(e){var t=e%1e3,a=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:n,seconds:a,milliseconds:t}}function c(e){var t=i(e),a=t.hours,c=t.minutes,r=t.seconds,s="Minutes";return a&&(s="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.s)(c,"0",2),":").concat(Object(n.s)(r,"0",2)," ").concat(s)}function r(e){var t=i(e),a=t.hours,c=t.minutes,r=t.seconds,s=t.milliseconds,l="Minutes";return a&&(l="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.s)(c,"0",2),":").concat(Object(n.s)(r,"0",2),".").concat(Object(n.s)(s,"0",3)," ").concat(l)}},307:function(e,t,a){"use strict";var n=a(2),i=a(4),c=a(5),r=a.n(c),s=a(0),l=a.n(s),o=a(7),u=a(194),d=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],j=["isChild"],b=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"];function h(e,t,a){var n=(e-t)/(a-t)*100;return Math.round(1e3*n)/1e3}function O(e,t){var a,c=e.min,s=e.now,o=e.max,u=e.label,j=e.srOnly,b=e.striped,O=e.animated,f=e.className,v=e.style,m=e.variant,x=e.bsPrefix,p=Object(i.a)(e,d);return l.a.createElement("div",Object(n.a)({ref:t},p,{role:"progressbar",className:r()(f,x+"-bar",(a={},a["bg-"+m]=m,a[x+"-bar-animated"]=O,a[x+"-bar-striped"]=O||b,a)),style:Object(n.a)({width:h(s,c,o)+"%"},v),"aria-valuenow":s,"aria-valuemin":c,"aria-valuemax":o}),j?l.a.createElement("span",{className:"sr-only"},u):u)}var f=l.a.forwardRef((function(e,t){var a=e.isChild,c=Object(i.a)(e,j);if(c.bsPrefix=Object(o.a)(c.bsPrefix,"progress"),a)return O(c,t);var d=c.min,h=c.now,f=c.max,v=c.label,m=c.srOnly,x=c.striped,p=c.animated,g=c.bsPrefix,y=c.variant,S=c.className,k=c.children,w=Object(i.a)(c,b);return l.a.createElement("div",Object(n.a)({ref:t},w,{className:r()(S,g)}),k?Object(u.a)(k,(function(e){return Object(s.cloneElement)(e,{isChild:!0})})):O({min:d,now:h,max:f,label:v,srOnly:m,striped:x,animated:p,bsPrefix:g,variant:y},t))}));f.displayName="ProgressBar",f.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},t.a=f},359:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ue}));var n=a(170),i=a(169),c=a(79),r=a.n(c),s=a(98),l=a(14),o=a(77),u=a(164),d=a(90),j=a(50),b=a(0),h=a.n(b),O=a(63),f=a(232),v=a(149),m=a(44),x=a(22),p=a(19),g=a(43),y=a(129),S=a(190),k=a(181),w=a(178),N=a(360),L=a(350),A=a(196),K=a(216),E=a(155),C=a(307),B=a(34);function T(){return new Worker(a.p+"static/js/BuildWorker.3afa15f2.worker.js")}var M=a(180),_=a(168),F=a(234),W=a(171),V=a(217),D=a(238),I=a(235),z=a(173),P=a(200),H=a(182),R=a(183),q=a(28),G=a(25),U=a(179),J=a(201),Y=a(163),X=a(91),Q=a(92),Z=a(219),$=a(8),ee=a(198),te=a(162),ae=a(199),ne=a(1),ie=h.a.lazy((function(){return a.e(21).then(a.bind(null,358))})),ce=Object(b.lazy)((function(){return Promise.resolve().then(a.bind(null,211))})),re=1e7,se=[50,25,10,5],le=["sands","goblet","circlet"];function oe(e,t){switch(t.type){case"mainStatKey":var a=t.index,n=t.mainStatKey;return e.mainStatKeys[a]=n,Object(u.a)(Object(u.a)({},e),{},{mainStatKeys:Object(o.a)(e.mainStatKeys)});case"setFilter":var i=t.index,c=t.key,r=t.num,s=void 0===r?0:r;return e.setFilters[i]={key:c,num:s},Object(u.a)(Object(u.a)({},e),{},{setFilters:Object(o.a)(e.setFilters)})}return Object(u.a)(Object(u.a)({},e),t)}function ue(e){var t,a=e.location.characterKey,n=Object(b.useState)(""),c=Object(l.a)(n,2),o=c[0],h=c[1],L=Object(b.useReducer)(oe,{setFilters:[{key:"",num:0},{key:"",num:0},{key:"",num:0}],statFilters:{},mainStatKeys:["","",""],optimizationTarget:"finalATK",mainStatAssumptionLevel:0,useLockedArts:!1,useEquippedArts:!1,ascending:!1}),A=Object(l.a)(L,2),K=A[0],E=A[1],C=K.setFilters,D=K.statFilters,I=K.mainStatKeys,H=K.optimizationTarget,R=K.mainStatAssumptionLevel,Z=K.useLockedArts,ce=K.useEquippedArts,ue=K.ascending,he=Object(b.useState)([]),xe=Object(l.a)(he,2),ge=xe[0],ye=xe[1],Se=Object(b.useState)(25),ke=Object(l.a)(Se,2),we=ke[0],Ne=ke[1],Le=Object(b.useState)(null),Ae=Object(l.a)(Le,2),Ke=Ae[0],Ee=Ae[1],Ce=Object(b.useState)(!1),Be=Object(l.a)(Ce,2),Te=Be[0],Me=Be[1],_e=Object(b.useState)(!1),Fe=Object(l.a)(_e,2),We=Fe[0],Ve=Fe[1],De=Object(b.useState)(!1),Ie=Object(l.a)(De,2),ze=Ie[0],Pe=Ie[1],He=Object(b.useState)(0),Re=Object(l.a)(He,2),qe=Re[0],Ge=Re[1],Ue=Object(b.useState)(0),Je=Object(l.a)(Ue,2),Ye=Je[0],Xe=Je[1],Qe=Object(b.useState)(0),Ze=Object(l.a)(Qe,2),$e=Ze[0],et=Ze[1],tt=Object(Q.a)(),at=Object(l.a)(tt,2),nt=at[0],it=at[1],ct=Object(Q.b)(_.a.getAll(),[]),rt=Object(Q.a)(),st=Object(l.a)(rt,2),lt=st[0],ot=st[1],ut=Object(b.useRef)(!1),dt=Object(b.useRef)(null),jt=Object(b.useState)({}),bt=Object(l.a)(jt,2),ht=bt[0],Ot=ht.character,ft=ht.characterSheet,vt=ht.weaponSheet,mt=ht.initialStats,xt=ht.statsDisplayKeys,pt=bt[1];Object(b.useEffect)((function(){return B.a.pageview("/build")}),[]),Object(b.useEffect)((function(){Object(s.a)(r.a.mark((function e(){var t,a,n,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:if(t=G.a.get(o)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,z.b.get(o);case 7:return a=e.sent,e.next=10,ee.a.get(t.weapon.key);case 10:if(n=e.sent,a&&n){e.next=13;break}return e.abrupt("return");case 13:i=W.a.createInitialStats(t,a,n),c=W.a.getDisplayStatKeys(i,a),pt({character:t,characterSheet:a,weaponSheet:n,initialStats:i,statsDisplayKeys:c});case 16:case"end":return e.stop()}}),e)})))()}),[nt,o]),Object(b.useEffect)((function(){return q.a.registerListener(ot),function(){q.a.unregisterListener(ot)}}),[ot]),Object(b.useEffect)((function(){if(o)return G.a.registerCharListener(o,it),function(){return G.a.unregisterCharListener(o,it)}}),[o,it]),Object(b.useEffect)((function(){return function(){var e;return null===(e=dt.current)||void 0===e?void 0:e.terminate()}}),[]);var gt=Object(b.useCallback)((function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o!==a&&(h(a),E(Object(u.a)(Object(u.a)({},{setFilters:[{key:"",num:0},{key:"",num:0},{key:"",num:0}],statFilters:{},mainStatKeys:["","",""],optimizationTarget:"finalATK",mainStatAssumptionLevel:0,useLockedArts:!1,useEquippedArts:!1,ascending:!1}),null!==(e=null===(t=G.a.get(a))||void 0===t?void 0:t.buildSettings)&&void 0!==e?e:{})),ye([]),it(),pt({}))}),[it,h,E,o]);Object(b.useEffect)((function(){var e;if("BuildsDisplay.state"in localStorage){var t=null!==(e=Object($.n)("BuildsDisplay.state"))&&void 0!==e?e:{},a=t.characterKey,n=void 0===a?"":a,i=t.maxBuildsToShow,c=void 0===i?25:i;n&&G.a.get(n)&&gt(n),Ne(c)}}),[]),Object(b.useEffect)((function(){return a&&gt(a)}),[a,gt]),Object(b.useEffect)((function(){Ot&&(Ot.buildSettings=K,G.a.update(Ot,!1))}),[K]),Object(b.useEffect)((function(){ut.current?Object($.r)("BuildsDisplay.state",{characterKey:o,maxBuildsToShow:we}):ut.current=!0}),[o,we]),Object(b.useEffect)((function(){if(xt&&Array.isArray(H)){for(var e in xt){var t,a=xt[e],n=Object(i.a)(a);try{for(n.s();!(t=n.n()).done;){var c=t.value;if(JSON.stringify(c)===JSON.stringify(H))return}}catch(r){n.e(r)}finally{n.f()}}E({optimizationTarget:"finalATK"})}}),[H,xt]);var yt=Object(b.useMemo)((function(){if(!o)return{split:Object.fromEntries(X.h.map((function(e){return[e,[]]}))),totBuildNumber:0};var e=Object($.f)(q.a.getArtifactDatabase());Object.entries(e).forEach((function(t){var a=Object(l.a)(t,2),n=a[0],i=a[1];i.location!==o&&(i.lock&&!Z||i.location&&!ce)&&delete e[n]}));var t=M.a.splitArtifactsBySlot(e);le.forEach((function(e,a){var n;return I[a]&&(t[e]=null===(n=t[e])||void 0===n?void 0:n.filter((function(e){return e.mainStatKey===I[a]})))}));var a=Object(te.a)(t,C);return lt&&{split:t,totBuildNumber:a}}),[o,Z,ce,I,C,lt]),St=yt.split,kt=yt.totBuildNumber,wt=Object(b.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(mt&&ct){"boolean"!==typeof t&&(t=!1),ye([]),Pe(!0),Xe(0),Ge(0),et(0),mt.mainStatAssumptionLevel=R;var a=M.a.setEffectsObjs(ct,mt),n=Object($.f)(St);Object.values(n).forEach((function(e){e.forEach((function(e){var t;e.mainStatVal=null!==(t=M.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(R,4*e.numStars),e.level)))&&void 0!==t?t:0}))}));var i=Object.fromEntries(Object.entries(D).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].min]})).filter((function(e){return"number"===typeof Object(l.a)(e,2)[1]}))),c=Object.fromEntries(Object.entries(D).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].max]})).filter((function(e){return"number"===typeof Object(l.a)(e,2)[1]}))),r={splitArtifacts:n,initialStats:mt,artifactSetEffects:a,setFilters:C,minFilters:i,maxFilters:c,maxBuildsToShow:we,optimizationTarget:H,ascending:ue,turbo:t};null===(e=dt.current)||void 0===e||e.terminate(),dt.current=new T,dt.current.onmessage=function(e){var t;if("number"===typeof e.data.progress){var a=e.data,n=a.progress,i=a.timing,c=void 0===i?0:i,r=a.skipped,s=void 0===r?0:r;return Ge(n),Xe(c),void et(s)}B.a.timing({category:"Build Generation",variable:"timing",value:e.data.timing,label:kt.toString()});var l=e.data.builds.map((function(e){return W.a.calculateBuildwithArtifact(mt,e.artifacts,ct)}));ye(l),Pe(!1),null===(t=dt.current)||void 0===t||t.terminate(),dt.current=null},dt.current.postMessage(r)}}),[ct,St,kt,R,ue,mt,we,H,C,D]);Object(b.useEffect)((function(){kt&&kt<=100?wt():ye([])}),[o,St,kt,K,wt]);var Nt=Object(b.useCallback)((function(e,t){return ct&&_.a.setsWithMaxRarity(ct,e).map((function(e){var a,n,i=Object(l.a)(e,2),c=i[0],r=i[1];if(C.some((function(e){return e.key===c})))return!1;var s=Object.keys(null!==(a=null===ct||void 0===ct||null===(n=ct[c])||void 0===n?void 0:n.setEffects)&&void 0!==a?a:{}),o=C.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!s.every((function(e){return parseInt(e)+o>5}))&&Object(ne.jsx)(O.a.Item,{onClick:function(){var e;return E({type:"setFilter",index:t,key:c,num:null!==(e=parseInt(s[0]))&&void 0!==e?e:0})},children:r.name},c)}))}),[C,E,ct]),Lt=null!==(t=null===ft||void 0===ft?void 0:ft.name)&&void 0!==t?t:"Character Name",At=Object(b.useMemo)((function(){return Object(ne.jsxs)(f.a,{title:Lt,disabled:ze,children:[Object(ne.jsx)(O.a.Item,{onClick:function(){return gt("")},children:"Unselect Character"}),Object(ne.jsx)(O.a.Divider,{}),Object(ne.jsx)(P.a,{onSelect:function(e){return gt(e)}})]})}),[Lt,ze,gt]),Kt=Object(Q.b)(Array.isArray(H)?U.a.get(H):void 0,[H]),Et=Object(b.useMemo)((function(){if(!Array.isArray(H))return Object(ne.jsxs)("b",{children:["Basic Stat: ",Object(ne.jsx)("span",{className:"text-".concat(Y.a.getStatVariant(H)),children:Y.a.getStatNamePretty(H)})]});if(!Kt)return null;var e,t=Kt.keys,a=Object(l.a)(t,3),n=a[0],i=a[2],c=Kt.field,r=W.a.getTalentFieldValue(c,"variant",mt),s=W.a.getTalentFieldValue(c,"text",mt);return"character"===n?("normal"!==i&&"charged"!==i&&"plunging"!==i||(i="auto"),Object(ne.jsxs)("b",{children:[null===ft||void 0===ft||null===(e=ft.getTalentOfKey(i,null===mt||void 0===mt?void 0:mt.characterEle))||void 0===e?void 0:e.name,": ",Object(ne.jsx)("span",{className:"text-".concat(r),children:s})]})):"weapon"===n?Object(ne.jsxs)("b",{children:[null===vt||void 0===vt?void 0:vt.name,": ",Object(ne.jsx)("span",{className:"text-".concat(r),children:s})]}):void 0}),[H,Kt,mt,ft,vt]),Ct=C.reduce((function(e,t){return t.key?e+t.num:e}),0),Bt=Object(b.useMemo)((function(){var e,t=0;return Object($.e)(null===mt||void 0===mt||null===(e=mt.conditionalValues)||void 0===e?void 0:e.artifact,[],(function(e){return Array.isArray(e)}),(function(){return t++})),t}),[null===mt||void 0===mt?void 0:mt.conditionalValues]),Tt=Object(b.useCallback)((function(e){return G.a.update(Object(u.a)(Object(u.a)({},Ot),e))}),[Ot]),Mt=Object.entries(D).some((function(e){var t=Object(l.a)(e,2);t[0];return"number"===typeof t[1].min})),_t=Object.entries(D).some((function(e){var t=Object(l.a)(e,2);t[0];return"number"===typeof t[1].max})),Ft=ue?Mt:_t;return Object(ne.jsxs)(v.a,{className:"mt-2",children:[Object(ne.jsx)(J.a,{pageKey:"buildPage",modalTitle:"Character Management Page Guide",text:["For self-infused attacks, like Noelle's Sweeping Time, enable the skill in the talent page.","You can compare the difference between equipped artifacts and generated builds.","TURBO mode can process millions of builds in seconds.","The more complex the formula, the longer the generation time."],children:Object(ne.jsx)(ie,{})}),Object(ne.jsx)(je,{build:Ke,showCharacterModal:We,characterKey:o,selectCharacter:gt,setmodalBuild:Ee,setshowCharacterModal:Ve}),!!mt&&Object(ne.jsx)(be,{showArtCondModal:Te,setshowArtCondModal:Me,initialStats:mt,characterDispatch:Tt,artifactCondCount:Bt}),Object(ne.jsx)(m.a,{className:"mt-2 mb-2",children:Object(ne.jsx)(x.a,{children:Object(ne.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:"Build Generator"}),Object(ne.jsxs)(p.a.Body,{children:[Object(ne.jsxs)(m.a,{children:[Object(ne.jsxs)(x.a,{xs:12,lg:6,children:[o?Object(ne.jsx)(V.a,{header:At,characterKey:o,bg:"lightcontent",cardClassName:"mb-2",onEdit:ze?void 0:function(){return Ve(!0)}}):Object(ne.jsx)(p.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(ne.jsx)(p.a.Header,{children:At})}),ft&&Ot&&mt&&Object(ne.jsx)(Oe,{build:mt,characterSheet:ft,className:"mb-2",character:Ot}),Boolean(xt)&&Object(ne.jsx)(fe,{className:"mb-2",statFilters:D,statKeys:null===xt||void 0===xt?void 0:xt.basicKeys,setStatFilters:function(e){return E({statFilters:e})}})]}),Object(ne.jsx)(x.a,{xs:12,lg:6,children:Object(ne.jsxs)(m.a,{children:[Object(ne.jsx)(x.a,{className:"mb-2",xs:12,children:Object(ne.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(ne.jsx)(p.a.Body,{children:Object(ne.jsx)(g.a,{className:"w-100",onClick:function(){return Me(!0)},disabled:ze,children:Object(ne.jsxs)("span",{children:["Default Artifact Set Effects ",Boolean(Bt)&&Object(ne.jsxs)(y.a,{variant:"success",children:[Bt," Selected"]})]})})})})}),C.map((function(e,t){var a,n,i,c,r,s=e.key,l=e.num;return Object(ne.jsx)(x.a,{className:"mb-2",xs:12,children:Object(ne.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(S.a,{children:[Object(ne.jsxs)(f.a,{as:S.a,title:null!==(a=null===ct||void 0===ct||null===(n=ct[s])||void 0===n?void 0:n.name)&&void 0!==a?a:"Artifact Set Filter",disabled:ze,children:[Object(ne.jsx)(O.a.Item,{onClick:function(){return E({type:"setFilter",index:t,key:""})},children:"Unselect Artifact"}),Object(ne.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),Nt(5,t),Object(ne.jsx)(O.a.Divider,{}),Object(ne.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),Nt(4,t),Object(ne.jsx)(O.a.Divider,{}),Object(ne.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),Nt(3,t)]}),Object(ne.jsx)(f.a,{as:S.a,title:"".concat(l,"-set"),disabled:ze||!s||Ct>=5,children:!!mt&&Object.keys(null!==(i=null===ct||void 0===ct||null===(c=ct[s])||void 0===c?void 0:c.setEffects)&&void 0!==i?i:{}).map((function(e){var a=C.reduce((function(e,t){return t.key&&t.key!==s?e+t.num:e}),0);return parseInt(e)+a<=5&&Object(ne.jsx)(O.a.Item,{onClick:function(){return E({type:"setFilter",index:t,key:C[t].key,num:parseInt(e)})},children:"".concat(e,"-set")},e)}))})]})}),s?Object(ne.jsx)(p.a.Body,{children:Object(ne.jsx)(m.a,{className:"mb-n2",children:!!mt&&Object.keys(null!==(r=null===ct||void 0===ct?void 0:ct[s].setEffects)&&void 0!==r?r:{}).map((function(e){return parseInt(e)})).filter((function(e){return e<=l})).map((function(e){return Object(ne.jsx)(F.a,{newBuild:void 0,setKey:s,setNumKey:e,equippedBuild:mt,characterDispatch:Tt,editable:!0},s+e)}))})}):null]})},t)})),Object(ne.jsx)(x.a,{className:"mb-2",xs:12,children:Object(ne.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(ne.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(ne.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return E({useEquippedArts:!ce})},disabled:ze,children:Object(ne.jsxs)("span",{children:[Object(ne.jsx)(j.a,{icon:ce?d.b:d.y})," Use Equipped Artifacts"]})}),Object(ne.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return E({useLockedArts:!Z})},disabled:ze,children:Object(ne.jsxs)("span",{children:[Object(ne.jsx)(j.a,{icon:Z?d.b:d.y})," Use Locked Artifacts"]})})]})})}),Object(ne.jsx)(x.a,{className:"mb-2",xs:12,children:Object(ne.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(m.a,{children:[Object(ne.jsx)(x.a,{children:"Artifact Main Stat"}),Object(ne.jsx)(x.a,{xs:"auto",children:Object(ne.jsx)(pe,{mainStatAssumptionLevel:R,setmainStatAssumptionLevel:function(e){return E({mainStatAssumptionLevel:e})}})})]})}),Object(ne.jsx)(p.a.Body,{className:"mb-n2",children:le.map((function(e,t){return Object(ne.jsxs)("div",{className:"text-inline mb-1 d-flex justify-content-between",children:[Object(ne.jsx)("h6",{className:"d-inline mb-0",children:Object(ne.jsx)(ae.b,{slotKey:e})}),Object(ne.jsxs)(f.a,{disabled:ze,size:"sm",title:I[t]?Y.a.getStatNameWithPercent(I[t]):"Select a mainstat",className:"d-inline",children:[Object(ne.jsx)(O.a.Item,{onClick:function(){return E({type:"mainStatKey",index:t,mainStatKey:""})},children:"No MainStat"}),M.a.slotMainStats(e).map((function(e){return Object(ne.jsx)(O.a.Item,{onClick:function(){return E({type:"mainStatKey",index:t,mainStatKey:e})},children:Y.a.getStatNameWithPercent(e)},e)}))]})]},e)}))})]})})]})})]}),Object(ne.jsx)(m.a,{className:"mb-2",children:Object(ne.jsx)(x.a,{children:!!o&&Object(ne.jsx)(me,{totBuildNumber:kt,generatingBuilds:ze,generationSkipped:$e,generationProgress:qe,generationDuration:Ye,characterName:Lt,maxBuildsToShow:we})})}),Object(ne.jsxs)(m.a,{className:"d-flex justify-content-between",children:[Object(ne.jsx)(x.a,{xs:"auto",children:Object(ne.jsxs)(S.a,{children:[Object(ne.jsx)(g.a,{className:"h-100",disabled:!o||ze,variant:o&&kt<=re?"success":"warning",onClick:wt,children:Object(ne.jsx)("span",{children:"Generate Builds"})}),kt>re&&Object(ne.jsx)(k.a,{overlay:Object(ne.jsxs)(w.a,{id:"turbo-tooltip",children:[Object(ne.jsx)("div",{children:"Dramatically speeds up build time."}),Object(ne.jsx)("div",{children:"Yields only 1 build."}),Boolean(Ft)&&Object(ne.jsxs)("div",{className:"mt-2",children:["Does not work with ",Object(ne.jsxs)("b",{children:[Boolean(ue)?"min":"max","imum"]})," stat filter when sorting by ",Object(ne.jsxs)("b",{children:[Boolean(ue)?"as":"des","cending"]})]})]}),children:Object(ne.jsx)("span",{children:Object(ne.jsx)(g.a,{variant:"success",disabled:Ft,className:"rounded-0 ".concat(Ft?"cursor-pointer":""),onClick:function(){return wt(!0)},children:Object(ne.jsx)("strong",{children:"TURBO"})})})}),Object(ne.jsx)(g.a,{className:"h-100",disabled:!ze,variant:"danger",onClick:function(){dt.current&&(dt.current.terminate(),dt.current=null,Pe(!1),ye([]),Xe(0),Ge(0),et(0))},children:Object(ne.jsx)("span",{children:"Cancel"})})]})}),Object(ne.jsx)(x.a,{xs:"auto",children:Object(ne.jsxs)(S.a,{children:[Object(ne.jsxs)(O.a,{as:S.a,drop:"up",children:[Object(ne.jsx)(O.a.Toggle,{disabled:ze,variant:"light",children:Object(ne.jsxs)("span",{children:["Optimization Target: ",Et]})}),Object(ne.jsx)(O.a.Menu,{align:"right",style:{minWidth:"40rem"},children:Object(ne.jsx)(m.a,{children:!!xt&&Object.entries(xt).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],i=ft&&vt?W.a.getDisplayHeading(a,ft,vt,null===mt||void 0===mt?void 0:mt.characterEle):a;return Object(ne.jsxs)(x.a,{xs:12,md:6,children:[Object(ne.jsx)(O.a.Header,{style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(ne.jsx)("b",{children:i})}),n.map((function(e,t){return Array.isArray(e)?Object(ne.jsx)(de,{target:e,buildSettingsDispatch:E,initialStats:mt},t):"string"===typeof e?Object(ne.jsx)(O.a.Item,{onClick:function(){return E({optimizationTarget:e})},children:Y.a.getStatNamePretty(e)},t):null}))]},a)}))})})]}),Object(ne.jsxs)(g.a,{onClick:function(){return E({ascending:!K.ascending})},disabled:ze,variant:ue?"danger":"primary",children:[Object(ne.jsx)(j.a,{icon:ue?d.w:d.x,className:"fa-fw"}),Object(ne.jsx)("span",{children:ue?"Ascending":"Descending"})]})]})})]})]})]})})}),Object(ne.jsx)(m.a,{className:"mb-2",children:Object(ne.jsx)(x.a,{children:Object(ne.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(m.a,{children:[Object(ne.jsx)(x.a,{children:o?Object(ne.jsxs)("span",{children:["Showing ",Object(ne.jsx)("b",{children:ge.length})," Builds generated for ",Lt]}):Object(ne.jsx)("span",{children:"Select a character to generate builds."})}),Object(ne.jsx)(x.a,{xs:"auto",children:Object(ne.jsx)(f.a,{title:Object(ne.jsxs)("span",{children:["Max builds to show: ",Object(ne.jsx)("b",{children:we})]}),size:"sm",children:se.map((function(e){return Object(ne.jsx)(O.a.Item,{onClick:function(){return Ne(e)},children:e},e)}))})})]})}),Object(ne.jsx)(N.a,{children:ge.map((function(e,t){return t<we&&ft&&vt&&Object(ne.jsx)(ve,{characterSheet:ft,weaponSheet:vt,build:e,characterKey:o,index:t,statsDisplayKeys:xt,onClick:function(){return Ee(e)}},t)}))})]})})})]})}function de(e){var t=e.target,a=e.buildSettingsDispatch,n=e.initialStats,i=Object(Q.b)(U.a.get(t),[t]);if(!i)return null;var c=i.field;return Object(ne.jsx)(O.a.Item,{onClick:function(){return a({optimizationTarget:t})},style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(ne.jsx)("span",{className:"text-".concat(W.a.getTalentFieldValue(c,"variant",n)),children:W.a.getTalentFieldValue(c,"text",n)})})}function je(e){var t=e.build,a=e.showCharacterModal,n=e.characterKey,i=e.selectCharacter,c=e.setmodalBuild,r=e.setshowCharacterModal,s=Object(b.useCallback)((function(){c(null),r(!1)}),[c,r]);return Object(ne.jsx)(L.a,{show:Boolean(a||t),onHide:s,size:"xl",contentClassName:"bg-transparent",children:Object(ne.jsx)(h.a.Suspense,{fallback:Object(ne.jsx)("span",{children:"Loading..."}),children:Object(ne.jsx)(ce,{character:void 0,tabName:void 0,characterKey:n,setCharacterKey:function(e){return i(e)},newBuild:t,onClose:s,editable:a,footer:Object(ne.jsx)(g.a,{variant:"danger",onClick:s,children:"Close"})})})})}function be(e){var t=e.showArtCondModal,a=e.setshowArtCondModal,n=e.initialStats,i=e.characterDispatch,c=e.artifactCondCount,r=Object(b.useCallback)((function(){return a(!1)}),[a]),s=Object(Q.b)(_.a.getAll(),[]);if(!s)return null;var u=_.a.namesByMaxRarities(s).flatMap((function(e){return Object(l.a)(e,2)[1].map((function(e){var t=Object(l.a)(e,1)[0];return[t,s[t]]}))}));return Object(ne.jsx)(L.a,{show:t,onHide:r,size:"xl",contentClassName:"bg-transparent",children:Object(ne.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(m.a,{children:[Object(ne.jsx)(x.a,{children:Object(ne.jsxs)("h5",{children:["Default Artifact Set Effects  ",Boolean(c)&&Object(ne.jsxs)(y.a,{variant:"success",children:[c," Selected"]})]})}),Object(ne.jsx)(x.a,{xs:"auto",children:Object(ne.jsx)(g.a,{onClick:function(){n.conditionalValues.artifact&&(n.conditionalValues.artifact={}),i({conditionalValues:n.conditionalValues})},children:Object(ne.jsxs)("span",{children:[Object(ne.jsx)(j.a,{icon:d.F})," Reset All"]})})}),Object(ne.jsx)(x.a,{xs:"auto",children:Object(ne.jsx)(g.a,{variant:"danger",onClick:r,children:Object(ne.jsx)(j.a,{icon:d.B})})})]})}),Object(ne.jsx)(p.a.Body,{children:Object(ne.jsx)(m.a,{children:u.map((function(e){var t,a=Object(l.a)(e,2),c=a[0],r=a[1],u=Object.values(r.slotIcons)[0],d=Object(o.a)(r.rarity)[0];return Object(ne.jsx)(x.a,{className:"mb-2",xs:12,lg:6,xl:4,children:Object(ne.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(m.a,{children:[Object(ne.jsx)(x.a,{xs:"auto",className:"ml-n3 my-n2",children:Object(ne.jsx)(A.a,{src:u,className:"thumb-mid grad-".concat(d,"star m-1"),thumbnail:!0})}),Object(ne.jsxs)(x.a,{children:[Object(ne.jsx)("h6",{children:Object(ne.jsx)("b",{children:null!==(t=null===s||void 0===s?void 0:s[c].name)&&void 0!==t?t:""})}),Object(ne.jsx)("span",{children:Object(ne.jsx)(R.a,{stars:d})})]})]})}),Object(ne.jsx)(p.a.Body,{children:Object(ne.jsx)(m.a,{className:"mb-n2",children:Boolean(c)&&Object.keys(r.setEffects).map((function(e){return parseInt(e)})).map((function(e){return Object(ne.jsx)(F.a,{newBuild:void 0,setKey:c,setNumKey:e,equippedBuild:n,editable:!0,characterDispatch:i},c+e)}))})})]})},c)}))})}),Object(ne.jsx)(p.a.Footer,{children:Object(ne.jsxs)(g.a,{variant:"danger",onClick:r,children:[Object(ne.jsx)(j.a,{icon:d.B})," CLOSE"]})})]})})}function he(e){var t=e.statKey,a=e.statKeys,n=void 0===a?[]:a,i=e.min,c=e.max,r=e.close,s=e.setFilter,l="%"===Y.a.getStatUnit(t),o={disabled:!t,allowEmpty:!0,float:l},b=Object(u.a)(Object(u.a)({},o),{},{placeholder:"MIN",value:i,onChange:function(e){return s(t,e,c)}}),h=Object(u.a)(Object(u.a)({},o),{},{placeholder:"MAX",value:c,onChange:function(e){return s(t,i,e)}});return Object(ne.jsxs)(K.a,{className:"mb-2",children:[Object(ne.jsx)(f.a,{as:K.a.Prepend,title:Y.a.getStatNamePretty(t,"New Stat"),id:"input-group-dropdown-1",children:n.map((function(e){return Object(ne.jsx)(O.a.Item,{onClick:function(){null===r||void 0===r||r(),s(e,i,c)},children:Y.a.getStatNamePretty(e)},e)}))}),Object(ne.jsx)(H.a,Object(u.a)({},b)),Object(ne.jsx)(H.a,Object(u.a)({},h)),Boolean(r)&&Object(ne.jsx)(K.a.Append,{children:Object(ne.jsx)(g.a,{variant:"danger",onClick:r,children:Object(ne.jsx)(j.a,{icon:d.D})})})]})}function Oe(e){var t=e.characterSheet,a=e.character,n=e.build,i=e.className,c=Object(b.useCallback)((function(e){var t=e.hitMode;return G.a.update(Object(u.a)(Object(u.a)({},a),{},{hitMode:t}))}),[a]),r=Object(b.useCallback)((function(e){var t=e.reactionMode;return G.a.update(Object(u.a)(Object(u.a)({},a),{},{reactionMode:t}))}),[a]),s=Object(b.useCallback)((function(e){var t=e.infusionAura;return G.a.update(Object(u.a)(Object(u.a)({},a),{},{infusionAura:t}))}),[a]);return a?Object(ne.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:i,children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(m.a,{children:[Object(ne.jsx)(x.a,{children:"Hit Mode Options"}),Object(ne.jsx)(x.a,{xs:"auto",children:Object(ne.jsx)(D.b,{characterSheet:t,character:a,characterDispatch:s})})]})}),Object(ne.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(ne.jsx)(D.a,{hitMode:a.hitMode,characterDispatch:c,className:"w-100 mb-2"}),Object(ne.jsx)(D.c,{build:n,character:a,characterDispatch:r,className:"w-100 mb-2"})]})]}):null}function fe(e){var t=e.statKeys,a=void 0===t?[]:t,i=e.statFilters,c=void 0===i?{}:i,r=e.setStatFilters,s=e.className,o=a.filter((function(e){return!Object.keys(c).some((function(t){return t===e}))})),d=function(e,t,a){return r(Object(u.a)(Object(u.a)({},c),{},Object(n.a)({},e,{min:t,max:a})))};return Object(ne.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:s,children:[Object(ne.jsx)(p.a.Header,{children:"Final Stat Filter"}),Object(ne.jsx)(p.a.Body,{children:Object(ne.jsxs)(m.a,{className:"mb-n2",children:[Object.entries(c).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],i=n.min,s=n.max;return Object(ne.jsx)(x.a,{xs:12,children:Object(ne.jsx)(he,{statKey:a,statKeys:o,setFilter:d,min:i,max:s,close:function(){delete c[a],r(Object(u.a)({},c))}})},a)})),Object(ne.jsx)(x.a,{xs:12,children:Object(ne.jsx)(he,{min:void 0,max:void 0,close:void 0,statKeys:o,setFilter:d})})]})})]})}function ve(e){var t=e.characterSheet,a=e.weaponSheet,n=e.index,i=e.characterKey,c=e.build,r=e.statsDisplayKeys,s=e.onClick,o=Object(Q.b)(_.a.getAll(),[]),u=G.a.get(i);return u?Object(ne.jsx)("div",{children:Object(ne.jsxs)(N.a.Item,{variant:n%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:s,children:[Object(ne.jsx)("h5",{children:Object.entries(c.setToSlots).sort((function(e,t){var a=Object(l.a)(e,2),n=(a[0],a[1]),i=Object(l.a)(t,2);i[0];return i[1].length-n.length})).map((function(e){var t,a=Object(l.a)(e,2),n=a[0],i=a[1];return Object(ne.jsxs)(y.a,{variant:"primary",className:"mr-2",children:[i.map((function(e){return Object(ae.a)(e)}))," ",null!==(t=null===o||void 0===o?void 0:o[n].name)&&void 0!==t?t:""]},n)}))}),Object(ne.jsx)(I.a,{editable:!1,characterSheet:t,weaponSheet:a,character:u,newBuild:c,statsDisplayKeys:r,cardbg:n%2?"lightcontent":"darkcontent"})]})}):null}function me(e){var t,a,n,i,c=e.totBuildNumber,r=e.generatingBuilds,s=e.generationSkipped,l=e.generationProgress,o=e.generationDuration,u=e.characterName,d=e.maxBuildsToShow,j=null!==(t=null===c||void 0===c?void 0:c.toLocaleString())&&void 0!==t?t:c,b=c-s,h=null!==(a=null===l||void 0===l?void 0:l.toLocaleString())&&void 0!==a?a:l,O=null!==(n=null===s||void 0===s?void 0:s.toLocaleString())&&void 0!==n?n:s,f=null!==(i=null===b||void 0===b?void 0:b.toLocaleString())&&void 0!==i?i:b,v=Boolean(s)&&Object(ne.jsxs)("span",{children:["(",Object(ne.jsx)("b",{children:O})," skipped)"]});if(r){var m=100*l/b;return Object(ne.jsxs)(E.a,{variant:"success",children:[Object(ne.jsxs)("span",{children:["Generating and testing ",Object(ne.jsxs)("b",{className:"text-monospace",children:[h,"/",f]})," build configurations against the criteria for ",Object(ne.jsx)("b",{children:u}),". ",v]}),Object(ne.jsx)("br",{}),Object(ne.jsxs)("h6",{children:["Time elapsed: ",Object(ne.jsx)("strong",{className:"text-monospace",children:Object(Z.b)(o)})]}),Object(ne.jsx)(C.a,{now:m,label:"".concat(m.toFixed(1),"%")})]})}return!r&&l?Object(ne.jsxs)(E.a,{variant:"success",children:[Object(ne.jsxs)("span",{children:["Generated and tested ",Object(ne.jsx)("b",{className:"text-monospace",children:f})," Build configurations against the criteria for ",Object(ne.jsx)("b",{children:u}),". ",v]}),Object(ne.jsxs)("h6",{children:["Total duration: ",Object(ne.jsx)("strong",{className:"text-monospace",children:Object(Z.b)(o)})]}),Object(ne.jsx)(C.a,{now:100,variant:"success",label:"100%"})]}):0===c?Object(ne.jsx)(E.a,{variant:"warning",className:"mb-0",children:Object(ne.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(ne.jsx)("b",{children:u}),". Please change your Artifact configurations, or add/unlock more Artifacts."]})}):c>re?Object(ne.jsx)(E.a,{variant:"warning",className:"mb-0",children:Object(ne.jsxs)("span",{children:["Current configuration will generate ",Object(ne.jsx)("b",{children:j})," builds for ",Object(ne.jsx)("b",{children:u}),". This might take quite a while to generate..."]})}):Object(ne.jsx)(E.a,{variant:"success",className:"mb-0",children:Object(ne.jsxs)("span",{children:["Current configuration ",c<=d?"generated":"will generate"," ",Object(ne.jsx)("b",{children:j})," builds for ",Object(ne.jsx)("b",{children:u}),"."]})})}var xe={0:Object(ne.jsx)("span",{children:"No level assumption"}),4:Object(ne.jsx)("span",{children:"Assume at least level 4"}),8:Object(ne.jsx)("span",{children:"Assume at least level 8"}),12:Object(ne.jsx)("span",{children:"Assume at least level 12"}),16:Object(ne.jsx)("span",{children:"Assume at least level 16"}),20:Object(ne.jsx)("span",{children:"Assume at least level 20"})};function pe(e){var t=e.mainStatAssumptionLevel,a=void 0===t?0:t,n=e.setmainStatAssumptionLevel;return Object(ne.jsx)(k.a,{overlay:Object(ne.jsx)(w.a,{id:"assume-level-tooltip",children:"Change Main Stat value to be at least a specific level. Does not change substats."}),children:Object(ne.jsxs)(O.a,{children:[Object(ne.jsx)(O.a.Toggle,{variant:a?"orange":"primary",children:xe[a]}),Object(ne.jsx)(O.a.Menu,{children:Object.entries(xe).map((function(e){var t=Object(l.a)(e,2),a=t[0],i=t[1];return Object(ne.jsx)(O.a.Item,{onClick:function(){return n(parseInt(a))},children:i},a)}))})]})})}}}]);
//# sourceMappingURL=12.fe2ce5a3.chunk.js.map