(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[12,2],{100:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(80),r=a(87),i=a(111),c=a(95),l=a(84),o=function e(){if(Object(r.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};o.getWeaponDataImport=function(){return i.c},o.getLevelName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.a[e]||t},o.getLevelIndex=function(e){return i.d.indexOf(e)},o.getWeaponName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=i.b[e])||void 0===t?void 0:t.name)||a},o.getWeaponRarity=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===(t=i.b[e])||void 0===t?void 0:t.rarity)||a},o.getWeaponPassiveName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=i.b[e])||void 0===t?void 0:t.passiveName)||a},o.getWeaponPassiveDescription=function(e,t,a,n){var r,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return(null===(r=i.b[e])||void 0===r||null===(c=r.passiveDescription)||void 0===c?void 0:c.call(r,t,a,n))||l},o.getWeaponDescription=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=i.b[e])||void 0===t?void 0:t.description)||a},o.getWeaponConditional=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=i.b[e])||void 0===t?void 0:t.conditional)||a},o.getWeaponImg=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=i.b[e])||void 0===t?void 0:t.img)||a},o.getWeaponMainStatVal=function(e,t){var a,n,r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(a=i.b[e])||void 0===a||null===(n=a.baseStats)||void 0===n||null===(r=n.main)||void 0===r?void 0:r[o.getLevelIndex(t)])||c},o.getWeaponSubStatVal=function(e,t){var a,n,r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(a=i.b[e])||void 0===a||null===(n=a.baseStats)||void 0===n||null===(r=n.sub)||void 0===r?void 0:r[o.getLevelIndex(t)])||c},o.getWeaponSubStatKey=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=i.b[e])||void 0===t||null===(a=t.baseStats)||void 0===a?void 0:a.subStatKey)||n},o.getWeaponBonusStat=function(e,t){var a,n,r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null!==(a=null===(n=i.b[e])||void 0===n||null===(r=n.stats)||void 0===r?void 0:r.call(n,t))&&void 0!==a?a:c},o.getWeaponsOfType=function(e){return Object.fromEntries(Object.entries(i.b).filter((function(t){var a=Object(n.a)(t,2);a[0];return a[1].weaponType===e})))},o.getWeaponTypeName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.e[e]||t},o.getWeaponTypeKeys=function(){return Object.keys(i.e)},o.getWeaponMainStatValWithOverride=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===e||void 0===e?void 0:e.overrideMainVal)||o.getWeaponMainStatVal(null===e||void 0===e?void 0:e.key,null===e||void 0===e?void 0:e.levelKey,t)},o.getWeaponSubStatValWithOverride=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===e||void 0===e?void 0:e.overrideSubVal)||o.getWeaponSubStatVal(null===e||void 0===e?void 0:e.key,null===e||void 0===e?void 0:e.levelKey,t)},o.getWeaponConditionalStat=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=o.getWeaponConditional(e);if(!i||!a)return r;var s=c.a.getConditionalProp(i,"stats",a),u=Object(n.a)(s,2),d=u[0],m=u[1];return m?(d=d(t),1!==m&&Object(l.k)(d,m),d):r}},101:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return u}));var n=a(82),r=a(80),i=a(84),c=a(135),l={flat:{name:"",default:1},characterHP:{name:"HP",pretty:"Character Base HP",const:!0},characterDEF:{name:"DEF",pretty:"Character Base DEF",const:!0},characterATK:{name:"ATK",pretty:"Character Base ATK",const:!0},characterEle:{name:"Character Element Key",default:"anemo",const:!0},characterLevel:{name:"Character Level",default:1,const:!0},weaponATK:{name:"Weapon ATK",pretty:"ATK Weapon",const:!0},baseATK:{name:"ATK",pretty:"ATK Base",const:!0},hp:{name:"HP",pretty:"Flat HP"},hp_:{name:"HP",unit:"%",pretty:"HP Bonus"},atk:{name:"ATK",pretty:"Flat ATK"},atk_:{name:"ATK",unit:"%",pretty:"ATK Bonus"},def:{name:"DEF",pretty:"Flat DEF"},def_:{name:"DEF",unit:"%",pretty:"DEF Bonus"},dmg_:{name:"All DMG Bonus",unit:"%"},finalHP:{name:"HP",pretty:"HP"},finalATK:{name:"ATK",pretty:"ATK"},finalDEF:{name:"DEF",pretty:"DEF"},critHit_base_multi:{name:"Crit Multiplier",unit:"multi"},eleMas:{name:"Elemental Mastery"},enerRech_:{name:"Energy Recharge",unit:"%",default:100},critRate_:{name:"CRIT Rate",unit:"%",default:5},critDMG_:{name:"CRIT DMG",unit:"%",default:50},weakspotDMG_:{name:"Weakspot DMG",unit:"%"},heal_:{name:"Healing Bonus",unit:"%"},incHeal_:{name:"Incoming Healing Bonus",unit:"%"},powShield_:{name:"Shield Strength",unit:"%"},cdRed_:{name:"CD Red.",unit:"%"},skillCDRed_:{name:"Ele. Skill CD Red.",unit:"%"},burstCDRed_:{name:"Ele. Burst CD Red.",unit:"%"},moveSPD_:{name:"Movement SPD",unit:"%"},atkSPD_:{name:"ATK SPD",unit:"%"},stamina:{name:"Stamina"},staminaDec_:{name:"Stamina Consumption Dec.",unit:"%"},staminaGlidingDec_:{name:"Gliding Stamina Consumption Dec.",unit:"%"},staminaChargedDec_:{name:"Charged Attack Stamina Consumption Dec.",unit:"%"},heal_multi:{name:"Heal multiplier",unit:"multi"},transformative_level_multi:{name:"Reaction Level Multiplier",unit:"multi",const:!0},amplificative_dmg_:{name:"Amplificative Reaction DMG Bonus",unit:"%"},transformative_dmg_:{name:"Transformative Reaction DMG Bonus",unit:"%"},crystalize_eleMas_:{name:"Crystalize Bonus (Elemental Mastery)",unit:"%",variant:"crystalize"},crystalize_multi:{name:"Crystalize Multiplier",unit:"multi",const:!0,variant:"crystalize"},crystalize_dmg_:{name:"Crystalize Bonus",unit:"%",variant:"crystalize"},crystalize_hit:{name:"Crystalize Shield HP",variant:"crystalize"},burning_dmg_:{name:"Burning DMG Bonus",variant:"burning"},enemyLevel:{name:"Enemy Level",const:!0},enemyLevel_multi:{name:"Enemy Level RES Multiplier",unit:"multi",const:!0},enemyDEFRed_:{name:"Enemy DEF Reduction",unit:"%",const:!0}},o={baseATK:function(e,t){return t.characterATK+t.weaponATK},finalATK:function(e,t){return t.baseATK*(1+e.atk_/100)+e.atk},finalHP:function(e,t){return t.characterHP*(1+e.hp_/100)+e.hp},finalDEF:function(e,t){return t.characterDEF*(1+e.def_/100)+e.def},critHit_base_multi:function(e){return 1+e.critDMG_/100},enemyLevel_multi:function(e,t){return(100+t.characterLevel)/(100+t.characterLevel+(100+t.enemyLevel)*(1-t.enemyDEFRed_/100))},heal_multi:function(e){return 1+e.heal_/100+e.incHeal_/100},transformative_level_multi:function(e,t){return c.f[t.characterLevel]},amplificative_dmg_:function(e){return 2500/9*e.eleMas/(1400+e.eleMas)},transformative_dmg_:function(e){return 6e3/9*e.eleMas/(1400+e.eleMas)},crystalize_eleMas_:function(e){return 4e3/9*e.eleMas/(1400+e.eleMas)},crystalize_multi:function(e,t){return c.b[t.characterLevel]},crystalize_hit:function(e,t){return(100+e.crystalize_dmg_+e.crystalize_eleMas_)/100*t.crystalize_multi}},s={physical:[],anemo:["electro_swirl_hit","pyro_swirl_hit","cryo_swirl_hit","hydro_swirl_hit"],geo:["crystalize_hit","shattered_hit"],electro:["overloaded_hit","electrocharged_hit","superconduct_hit"],hydro:["electrocharged_hit","shattered_hit"],pyro:["overloaded_hit"],cryo:["shattered_hit","superconduct_hit"],dendro:[]};function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.modifiers,i=void 0===n?{}:n,c={},s={},u=e.map((function(e){var n,u,d,m,_,v,f,h,g=null!==(n=i[e])&&void 0!==n?n:{},b=Object.entries(g).filter((function(e){var t,a=Object(r.a)(e,1)[0];return null===(t=l[a])||void 0===t?void 0:t.const})),j=Object.entries(g).filter((function(e){var t,a=Object(r.a)(e,1)[0];return!(null===(t=l[a])||void 0===t?void 0:t.const)})),p=function(e,t){return b.reduce((function(e,a){var n=Object(r.a)(a,2),i=n[0],c=n[1];return e+t[i]*c}),0)},y=function(e){return j.reduce((function(t,a){var n=Object(r.a)(a,2),i=n[0],c=n[1];return t+e[i]*c}),0)},O=0;switch(b.length&&(O+=1),j.length&&(O+=2),o[e]||(O+=(null===(u=l[e])||void 0===u?void 0:u.const)?4:8),O){case 0:h=o[e];break;case 1:h=function(t,a){return o[e](t,a)+p(0,a)};break;case 2:h=function(t,a){return o[e](t,a)+y(t)};break;case 3:h=function(t,a){return o[e](t,a)+p(0,a)+y(t)};break;case 4:h=function(t,a){return a[e]};break;case 5:h=function(t,a){return a[e]+p(0,a)};break;case 6:h=function(t,a){return a[e]+y(t)};break;case 7:h=function(t,a){return a[e]+p(0,a)+y(t)};break;case 8:h=function(t,a){return t[e]};break;case 9:h=function(t,a){return t[e]+p(0,a)};break;case 10:h=function(t,a){return t[e]+y(t)};break;default:h=function(t,a){return t[e]+p(0,a)+y(t)}}var x=h;return a&&console.log((null===(d=l[e])||void 0===d?void 0:d.const)?"Const":"Dynamic",e,b,j,""+o[e]),e in o||(t[e]=null!==(m=null!==(_=t[e])&&void 0!==_?_:null===(v=l[e])||void 0===v?void 0:v.default)&&void 0!==m?m:0),(null===(f=l[e])||void 0===f?void 0:f.const)?(s[e]=t[e],s[e]=x(t,s),t[e]=s[e],j.length&&console.error("Constant key ".concat(e," depends on a dynamic modifer ").concat(j,". The result will be incorrect.")),null):(e in o||(c[e]=t[e]),[e,x])})).filter((function(e){return e}));return a&&console.log(c,s),{initialStats:c,formula:function(e){u.forEach((function(t){var a=Object(r.a)(t,2),n=a[0],i=a[1];return e[n]=i(e,s)})),Object.assign(e,s)}}}Object.entries(c.d).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];l["".concat(a,"_dmg_")]={name:"".concat(n," DMG Bonus"),unit:"%"},l["".concat(a,"_critRate_")]={name:"".concat(n," CRIT Rate Bonus"),unit:"%"},l["final_".concat(a,"_critRate_")]={name:"".concat(n," CRIT Rate"),unit:"%"},o["final_".concat(a,"_critRate_")]=function(e){return Object(i.a)(e.critRate_+e["".concat(a,"_critRate_")],0,100)}})),Object.entries(c.c).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1].name,c={variant:a};l["".concat(a,"_dmg_")]=Object(n.a)({name:"".concat(i," DMG Bonus"),unit:"%"},c),l["".concat(a,"_res_")]=Object(n.a)({name:"".concat(i," DMG RES"),unit:"%"},c),l["".concat(a,"_enemyRes_")]=Object(n.a)({name:"Enemy ".concat(i," DMG RES"),unit:"%",default:10,const:!0},c),l["".concat(a,"_enemyImmunity")]=Object(n.a)({name:"Enemy ".concat(i," Immunity"),default:!1,const:!0},c),l["".concat(a,"_enemyRes_multi")]=Object(n.a)({name:"Enemy ".concat(i," RES Multiplier"),unit:"multi",const:!0},c),l["".concat(a,"_bonus_multi")]=Object(n.a)({name:"".concat(i," Attack Bonus DMG Multiplier"),unit:"multi"},c),o["".concat(a,"_enemyRes_multi")]=function(e,t){return t["".concat(a,"_enemyImmunity")]?0:(n=t["".concat(a,"_enemyRes_")],(n/=100)<0?1-n/2:n>=.75?1/(4*n+1):1-n);var n}})),Object.entries(c.d).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1];l["".concat(a,"_avgHit_base_multi")]={name:"".concat(i," Avg. Multiplier"),unit:"multi"},o["".concat(a,"_avgHit_base_multi")]=function(e){return 1+e.critDMG_*e["final_".concat(a,"_critRate_")]/1e4},Object.entries(c.c).forEach((function(e){var t=Object(r.a)(e,2),s=t[0],u=(t[1].name,{variant:s});l["".concat(s,"_").concat(a,"_hit_base_multi")]=Object(n.a)({name:"".concat(i," Base Multiplier"),unit:"multi"},u),o["".concat(s,"_").concat(a,"_hit_base_multi")]=function(e,t){return(100+e.dmg_+e["".concat(s,"_dmg_")]+e["".concat(a,"_dmg_")])/100},Object.entries(c.e).forEach((function(e){var t=Object(r.a)(e,2),c=t[0],d=t[1];l["".concat(s,"_").concat(a,"_").concat(c)]=Object(n.a)({name:"".concat(i," ").concat(d)},u),o["".concat(s,"_").concat(a,"_").concat(c)]=function(e){return e.finalATK*e["".concat(s,"_").concat(a,"_").concat(c,"_multi")]},l["".concat(s,"_").concat(a,"_").concat(c,"_multi")]=Object(n.a)({name:"".concat(i," ").concat(d," Multiplier"),unit:"multi"},u)})),o["".concat(s,"_").concat(a,"_hit_multi")]=function(e,t){return e["".concat(s,"_").concat(a,"_hit_base_multi")]*t.enemyLevel_multi*t["".concat(s,"_enemyRes_multi")]},o["".concat(s,"_").concat(a,"_critHit_multi")]=function(e){return e["".concat(s,"_").concat(a,"_hit_multi")]*e.critHit_base_multi},o["".concat(s,"_").concat(a,"_avgHit_multi")]=function(e){return e["".concat(s,"_").concat(a,"_hit_multi")]*e["".concat(a,"_avgHit_base_multi")]}}))})),Object.entries(c.g).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1],s=i.name,u=i.multi,d=i.variants,m={variant:a};if(l["".concat(a,"_dmg_")]=Object(n.a)({name:"".concat(s," DMG Bonus"),unit:"%"},m),l["".concat(a,"_multi")]=Object(n.a)({name:"".concat(s," Multiplier"),unit:"multi",const:!0},m),o["".concat(a,"_multi")]=function(e,t){return u*t.transformative_level_multi},1===d.length){var _=Object(r.a)(d,1)[0],v={variant:a};l["".concat(a,"_hit")]=Object(n.a)({name:"".concat(s," DMG")},v),o["".concat(a,"_hit")]=function(e,t){return(100+e.transformative_dmg_+e["".concat(a,"_dmg_")])/100*t["".concat(a,"_multi")]*t["".concat(_,"_enemyRes_multi")]}}else d.forEach((function(e){var t={variant:e};l["".concat(e,"_").concat(a,"_hit")]=Object(n.a)({name:"".concat(c.c[e].name," ").concat(s," DMG")},t),o["".concat(e,"_").concat(a,"_hit")]=function(t,n){return(100+t.transformative_dmg_+t["".concat(a,"_dmg_")])/100*n["".concat(a,"_multi")]*n["".concat(e,"_enemyRes_multi")]}}))})),Object.entries(c.a).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1],s=i.name,u=i.variants,d={variant:a};l["".concat(a,"_dmg_")]=Object(n.a)({name:"".concat(s," DMG Bonus"),unit:"%"},d),Object.entries(u).forEach((function(e){var t=Object(r.a)(e,2),i=t[0],u=t[1];l["".concat(i,"_").concat(a,"_multi")]=Object(n.a)({name:"".concat(s," Multiplier"),unit:"multi"},d),o["".concat(i,"_").concat(a,"_multi")]=function(e){return u*(100+e.amplificative_dmg_+e["".concat(a,"_dmg_")])/100},Object.entries(c.e).forEach((function(e){var t=Object(r.a)(e,2),u=t[0],m=t[1];Object.entries(c.d).forEach((function(e){var t=Object(r.a)(e,2),c=t[0],_=t[1];l["".concat(i,"_").concat(a,"_").concat(c,"_").concat(u,"_multi")]=Object(n.a)({name:"".concat(s," ").concat(_," ").concat(m," Multiplier"),unit:"multi"},d),l["".concat(i,"_").concat(a,"_").concat(c,"_").concat(u)]=Object(n.a)({name:"".concat(s," ").concat(_," ").concat(m)},d),o["".concat(i,"_").concat(a,"_").concat(c,"_").concat(u,"_multi")]=function(e){return e["".concat(i,"_").concat(c,"_").concat(u,"_multi")]*e["".concat(i,"_").concat(a,"_multi")]},o["".concat(i,"_").concat(a,"_").concat(c,"_").concat(u)]=function(e){return e.finalATK*e["".concat(i,"_").concat(a,"_").concat(c,"_").concat(u,"_multi")]}}))}))}))}))},102:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(85),r=a(2),i=a(39),c=a(20),l=function(){return Object(r.jsx)(c.a,{icon:i.y})},o=function(e){var t=e.stars,a=e.colored,i=void 0!==a&&a;return Object(r.jsx)("span",{className:i?"text-5star":"",children:t?Object(n.a)(Array(t).keys()).map((function(e,t){return Object(r.jsx)(l,{},t)})):null})}},103:function(e,t,a){"use strict";var n={elements:{anemo:a.p+"static/media/Element_Anemo.f809fde3.png",cryo:a.p+"static/media/Element_Cryo.019d72f9.png",dendro:a.p+"static/media/Element_Dendro.8ee0f26d.png",electro:a.p+"static/media/Element_Electro.342332ac.png",geo:a.p+"static/media/Element_Geo.b7e865c6.png",hydro:a.p+"static/media/Element_Hydro.f2f8bd8a.png",pyro:a.p+"static/media/Element_Pyro.f65c2e38.png"},weaponTypes:{bow:a.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:a.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:a.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:a.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:a.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:a.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:a.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:a.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:a.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:a.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},107:function(e,t,a){"use strict";var n=a(82),r=a(2),i=a(80),c=a(0),l=a(143);t.a=function(e){var t,a=e.float,o=void 0!==a&&a,s=e.placeholder,u=e.value,d=e.onValueChange,m=e.disabled,_=e.allowEmpty,v=void 0!==_&&_,f=Object(c.useState)(!1),h=Object(i.a)(f,2),g=h[0],b=h[1],j={type:"number",className:"hide-appearance",placeholder:s,value:v?"number"===typeof u?u:"":!u&&g?"":(null===u||void 0===u||null===(t=u.toString)||void 0===t?void 0:t.call(u))||u,disabled:m,onChange:function(e){var t=e.target.value;t=o?v&&""===t?null:parseFloat(t)||0:v&&""===t?null:parseInt(t)||0,null===d||void 0===d||d(t)},onFocus:function(){return b(!0)},onBlur:function(){return b(!1)}};return Object(r.jsx)(l.a,Object(n.a)(Object(n.a)({},j),{},{"aria-label":"custom-input"}))}},111:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return l}));var n={},r=Promise.all([a.e(0),a.e(18)]).then(a.bind(null,159));r.then((function(e){n=e.default,r=null}));var i=["L1","L5","L10","L15","L20","L20A","L25","L30","L35","L40","L40A","L45","L50","L50A","L55","L60","L60A","L65","L70","L70A","L75","L80","L80A","L85","L90"],c={L1:"Lvl. 1",L5:"Lvl. 5",L10:"Lvl. 10",L15:"Lvl. 15",L20:"Lvl. 20",L20A:"Lvl. 20A",L25:"Lvl. 25",L30:"Lvl. 30",L35:"Lvl. 35",L40:"Lvl. 40",L40A:"Lvl. 40A",L45:"Lvl. 45",L50:"Lvl. 50",L50A:"Lvl. 50A",L55:"Lvl. 55",L60:"Lvl. 60",L60A:"Lvl. 60A",L65:"Lvl. 65",L70:"Lvl. 70",L70A:"Lvl. 70A",L75:"Lvl. 75",L80:"Lvl. 80",L80A:"Lvl. 80A",L85:"Lvl. 85",L90:"Lvl. 90"},l={sword:"Sword",claymore:"Claymore",catalyst:"Catalyst",bow:"Bow",polearm:"Polearm"}},114:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(85),r=a(2),i=a(93),c=a(39),l=a(20),o=a(0),s=a.n(o),u=a(121),d=a(92),m=a(115);function _(e){var t=e.conditional,a=e.conditionalNum,o=e.setConditional,_=e.defEle,v=e.disabled;if(!t)return _;if(Array.isArray(t)){var f,h=a,g=null,b=Object(i.a)(t);try{for(b.s();!(f=b.n()).done;){var j=f.value;if(!(h>j.maxStack)){g=j;break}h-=j.maxStack}}catch(S){b.e(S)}finally{b.f()}g||(h=0,g=t[0]);var p=0===h?"Not Active":Object(r.jsxs)("span",{children:[g.condition," ",g.maxStack>1?": ".concat(h," stack").concat(h>1?"s":""):""]}),y=Object(r.jsx)(u.a,{variant:0===h?"secondary":"success",children:p}),O=0;return Object(r.jsxs)(m.a,{children:[Object(r.jsx)(m.a.Toggle,{size:"sm",disabled:v,children:Object(r.jsxs)("h6",{className:"mb-0 d-inline",children:[_," ",y]})}),Object(r.jsxs)(m.a.Menu,{children:[Object(r.jsx)(m.a.Item,{onClick:function(){return o(0)},children:Object(r.jsx)("span",{children:"Not Active"})}),t.map((function(e,t){return Object(r.jsx)(s.a.Fragment,{children:Object(n.a)(Array(e.maxStack).keys()).map((function(e){return e+1})).map((function(t){var a=++O;return Object(r.jsxs)(m.a.Item,{onClick:function(){return o(a)},children:[e.condition,g.maxStack>1?": ".concat(t," stack").concat(t>1?"s":""):""]},a)}))},t)}))]})]})}if(t.maxStack>1){var x=Object(r.jsx)(u.a,{variant:0===a?"secondary":"success",children:a>0?"".concat(a," stack").concat(a>1?"s":""):"Not Active"});return Object(r.jsxs)(m.a,{children:[Object(r.jsx)(m.a.Toggle,{size:"sm",disabled:v,children:Object(r.jsxs)("h6",{className:"mb-0 d-inline",children:[_," ",x]})}),Object(r.jsxs)(m.a.Menu,{children:[Object(r.jsx)(m.a.Item,{onClick:function(){return o(0)},children:Object(r.jsx)("span",{children:"Not Active"})}),Object(n.a)(Array(t.maxStack).keys()).map((function(e){return e+1})).map((function(e){return Object(r.jsx)(m.a.Item,{onClick:function(){return o(e)},children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})]})}return 1===t.maxStack?Object(r.jsx)(d.a,{size:"sm",onClick:function(){return o(a?0:1)},disabled:v,children:Object(r.jsxs)("h6",{className:"mb-0",children:[Object(r.jsx)(l.a,{icon:a?c.b:c.x})," ",_]})}):void 0}},117:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(80);var n=a(85),r=a(101);function i(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a)}}),new Proxy({},{get:function(e,a,n){t.add(a)}})),Object(n.a)(t)}var c=Object.freeze(Object.fromEntries(Object.keys(r.b).map((function(e){return[e,i(r.b[e])]}))));function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(r.d),a=new Set;return t.forEach((function(t){return o(t,e,a)})),Object(n.a)(a)}function o(e,t,a){var n,r;a.has(e)||(null===(n=c[e])||void 0===n||n.forEach((function(e){return o(e,t,a)})),Object.keys(null!==(r=t[e])&&void 0!==r?r:{}).forEach((function(e){return o(e,t,a)})),a.add(e))}},122:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return l}));var n={},r=Promise.all([a.e(0),a.e(17)]).then(a.bind(null,158));r.then((function(e){n=e.default,r=null}));var i={L1:{name:"Lv. 1",level:1,asend:0},L20:{name:"Lv. 20",level:20,asend:0},L20A:{name:"Lv. 20 As.1",level:20,asend:1},L40:{name:"Lv. 40",level:40,asend:1},L40A:{name:"Lv. 40 As.2",level:40,asend:2},L50:{name:"Lv. 50",level:50,asend:2},L50A:{name:"Lv. 50 As.3",level:50,asend:3},L60:{name:"Lv. 60",level:60,asend:3},L60A:{name:"Lv. 60 As.4",level:60,asend:4},L70:{name:"Lv. 70",level:70,asend:4},L70A:{name:"Lv. 70 As.5",level:70,asend:5},L80:{name:"Lv. 80",level:80,asend:5},L80A:{name:"Lv. 80 As.6",level:80,asend:6},L90:{name:"Lv. 90",level:90,asend:6}},c={critRate_:5,critDMG_:50,enerRech_:100,stamina:100},l=["hp_","atk_","def_","eleMas","enerRech_","heal_","critRate_","critDMG_","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_"]},124:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(2),r=a(39),i=a(20),c={characterHP:r.B,finalHP:r.B,hp_:r.B,hp:r.B,baseATK:r.k,characterATK:r.k,finalATK:r.k,atk_:r.k,atk:r.k,characterDEF:r.u,finalDEF:r.u,def_:r.u,def:r.u,eleMas:r.p,critRate_:r.f,critDMG_:r.g,enerRech_:r.z,heal_:r.j},l=function(e){return c[e]?Object(n.jsx)(i.a,{icon:c[e],className:"fa-fw"}):null}},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return h}));var n=a(80),r=a(116),i=a(91),c=a(96),l=a(90),o={char_ele_key:"characterEle",char_level:"characterLevel",hp_base:"characterHP",hp_final:"finalHP",atk_character_base:"characterATK",atk_base:"baseATK",atk_final:"finalATK",atk_weapon:"weaponATK",def_base:"characterDEF",def_final:"finalDEF",phy_dmg_bonus:"physical_dmg_",phy_res:"physical_res_",anemo_ele_dmg_bonus:"anemo_dmg_",geo_ele_dmg_bonus:"geo_dmg_",electro_ele_dmg_bonus:"electro_dmg_",hydro_ele_dmg_bonus:"hydro_dmg_",pyro_ele_dmg_bonus:"pyro_dmg_",cryo_ele_dmg_bonus:"cryo_dmg_",anemo_ele_res:"anemo_res_",geo_ele_res:"geo_res_",electro_ele_res:"electro_res_",hydro_ele_res:"hydro_res_",pyro_ele_res:"pyro_res_",cryo_ele_res:"cryo_res_",ener_rech:"enerRech_",crit_rate:"critRate_",crit_dmg:"critDMG_",stam:"stamina",heal_bonu:"heal_",inc_heal:"incHeal_",pow_shield:"powShield_",red_cd:"cdRed_",skill_cd_red:"skillCDRed_",burst_cd_red:"burstCDRed_",all_dmg_bonus:"dmg_",move_spd:"moveSPD_",atk_spd:"atkSPD_",weakspot_dmg:"weakspotDMG_",stamina_dec:"staminaDec_",stamina_gliding_dec:"staminaGlidingDec_",stamina_charged_dec:"staminaChargedDec_",ele_mas_multi_x:"eleMasX",ele_mas_multi_y:"eleMasY",ele_mas_multi_z:"eleMasZ",norm_atk_dmg:"physical_normal_hit",char_atk_dmg:"physical_charged_hit",plunge_dmg:"physical_plunging_hit",norm_atk_crit_dmg:"physical_normal_critHit",char_atk_crit_dmg:"physical_charged_critHit",plunge_crit_dmg:"physical_plunging_critHit",norm_atk_avg_dmg:"physical_normal_avgHit",char_atk_avg_dmg:"physical_charged_avgHit",plunge_avg_dmg:"physical_plunging_avgHit",norm_atk_dmg_bonus:"normal_dmg_",char_atk_dmg_bonus:"charged_dmg_",plunge_atk_dmg_bonus:"plunging_dmg_",skill_dmg_bonus:"skill_dmg_",burst_dmg_bonus:"burst_dmg_",norm_atk_crit_rate:"normal_critRate_",char_atk_crit_rate:"charged_critRate_",skill_crit_rate:"skill_critRate_",burst_crit_rate:"burst_critRate_",anemo_skill_dmg:"anemo_skill_hit",anemo_burst_dmg:"anemo_burst_hit",anemo_skill_crit_dmg:"anemo_skill_critHit",anemo_burst_crit_dmg:"anemo_burst_critHit",anemo_skill_avg_dmg:"anemo_skill_avgHit",anemo_burst_avg_dmg:"anemo_burst_avgHit",geo_skill_dmg:"geo_skill_hit",geo_burst_dmg:"geo_burst_hit",geo_skill_crit_dmg:"geo_skill_critHit",geo_burst_crit_dmg:"geo_burst_critHit",geo_skill_avg_dmg:"geo_skill_avgHit",geo_burst_avg_dmg:"geo_burst_avgHit",electro_skill_dmg:"electro_skill_hit",electro_burst_dmg:"electro_burst_hit",electro_skill_crit_dmg:"electro_skill_critHit",electro_burst_crit_dmg:"electro_burst_critHit",electro_skill_avg_dmg:"electro_skill_avgHit",electro_burst_avg_dmg:"electro_burst_avgHit",hydro_skill_dmg:"hydro_skill_hit",hydro_burst_dmg:"hydro_burst_hit",hydro_skill_crit_dmg:"hydro_skill_critHit",hydro_burst_crit_dmg:"hydro_burst_critHit",hydro_skill_avg_dmg:"hydro_skill_avgHit",hydro_burst_avg_dmg:"hydro_burst_avgHit",pyro_skill_dmg:"pyro_skill_hit",pyro_burst_dmg:"pyro_burst_hit",pyro_skill_crit_dmg:"pyro_skill_critHit",pyro_burst_crit_dmg:"pyro_burst_critHit",pyro_skill_avg_dmg:"pyro_skill_avgHit",pyro_burst_avg_dmg:"pyro_burst_avgHit",cryo_skill_dmg:"cryo_skill_hit",cryo_burst_dmg:"cryo_burst_hit",cryo_skill_crit_dmg:"cryo_skill_critHit",cryo_burst_crit_dmg:"cryo_burst_critHit",cryo_skill_avg_dmg:"cryo_skill_avgHit",cryo_burst_avg_dmg:"cryo_burst_avgHit",phy_dmg:"physical_hit",phy_crit_dmg:"physical_critHit",phy_avg_dmg:"physical_avgHit",anemo_ele_dmg:"anemo_hit",anemo_ele_crit_dmg:"anemo_critHit",anemo_ele_avg_dmg:"anemo_avgHit",geo_ele_dmg:"geo_hit",geo_ele_crit_dmg:"geo_critHit",geo_ele_avg_dmg:"geo_avgHit",electro_ele_dmg:"electro_hit",electro_ele_crit_dmg:"electro_critHit",electro_ele_avg_dmg:"electro_avgHit",hydro_ele_dmg:"hydro_hit",hydro_ele_crit_dmg:"hydro_critHit",hydro_ele_avg_dmg:"hydro_avgHit",pyro_ele_dmg:"pyro_hit",pyro_ele_crit_dmg:"pyro_critHit",pyro_ele_avg_dmg:"pyro_avgHit",cryo_ele_dmg:"cryo_hit",cryo_ele_crit_dmg:"cryo_critHit",cryo_ele_avg_dmg:"cryo_avgHit",overload_dmg:"overload_hit",overload_dmg_bonus:"overload_dmg_",overload_multi:"overload_multi",electrocharged_dmg:"electrocharged_hit",electrocharged_dmg_bonus:"electrocharged_dmg_",electrocharged_multi:"electrocharged_multi",superconduct_dmg:"superconduct_hit",superconduct_dmg_bonus:"superconduct_dmg_",superconduct_multi:"superconduct_multi",burning_dmg:"burning_hit",burning_dmg_bonus:"burning_dmg_",swirl_dmg:"swirl_hit",swirl_dmg_bonus:"swirl_dmg_",swirl_multi:"swirl_multi",shatter_dmg:"shattered_hit",shatter_dmg_bonus:"shattered_dmg_",shatter_multi:"shattered_multi",crystalize_dmg:"crystalize_hit",crystalize_dmg_bonus:"crystalize_dmg_",melt_dmg_bonus:"melt_dmg_",vaporize_dmg_bonus:"vaporize_dmg_",pyro_vaporize_normal_dmg:"pyro_vaporize_normal_hit",pyro_vaporize_normal_crit_dmg:"pyro_vaporize_normal_critHit",pyro_vaporize_normal_avg_dmg:"pyro_vaporize_normal_avgHit",pyro_vaporize_chraged_dmg:"pyro_vaporize_chraged_hit",pyro_vaporize_chraged_crit_dmg:"pyro_vaporize_chraged_critHit",pyro_vaporize_chraged_avg_dmg:"pyro_vaporize_chraged_avgHit",pyro_vaporize_plunge_dmg:"pyro_vaporize_plunging_hit",pyro_vaporize_plunge_crit_dmg:"pyro_vaporize_plunging_critHit",pyro_vaporize_plunge_avg_dmg:"pyro_vaporize_plunging_avgHit",pyro_vaporize_skill_dmg:"pyro_vaporize_skill_hit",pyro_vaporize_skill_crit_dmg:"pyro_vaporize_skill_critHit",pyro_vaporize_skill_avg_dmg:"pyro_vaporize_skill_avgHit",pyro_vaporize_burst_dmg:"pyro_vaporize_burst_hit",pyro_vaporize_burst_crit_dmg:"pyro_vaporize_burst_critHit",pyro_vaporize_burst_avg_dmg:"pyro_vaporize_burst_avgHit",pyro_vaporize_ele_dmg:"pyro_vaporize_hit",pyro_vaporize_ele_crit_dmg:"pyro_vaporize_critHit",pyro_vaporize_ele_avg_dmg:"pyro_vaporize_avgHit",hydro_vaporize_normal_dmg:"hydro_vaporize_normal_hit",hydro_vaporize_normal_crit_dmg:"hydro_vaporize_normal_critHit",hydro_vaporize_normal_avg_dmg:"hydro_vaporize_normal_avgHit",hydro_vaporize_chraged_dmg:"hydro_vaporize_chraged_hit",hydro_vaporize_chraged_crit_dmg:"hydro_vaporize_chraged_critHit",hydro_vaporize_chraged_avg_dmg:"hydro_vaporize_chraged_avgHit",hydro_vaporize_plunge_dmg:"hydro_vaporize_plunging_hit",hydro_vaporize_plunge_crit_dmg:"hydro_vaporize_plunging_critHit",hydro_vaporize_plunge_avg_dmg:"hydro_vaporize_plunging_avgHit",hydro_vaporize_skill_dmg:"hydro_vaporize_skill_hit",hydro_vaporize_skill_crit_dmg:"hydro_vaporize_skill_critHit",hydro_vaporize_skill_avg_dmg:"hydro_vaporize_skill_avgHit",hydro_vaporize_burst_dmg:"hydro_vaporize_burst_hit",hydro_vaporize_burst_crit_dmg:"hydro_vaporize_burst_critHit",hydro_vaporize_burst_avg_dmg:"hydro_vaporize_burst_avgHit",hydro_vaporize_ele_dmg:"hydro_vaporize_hit",hydro_vaporize_ele_crit_dmg:"hydro_vaporize_critHit",hydro_vaporize_ele_avg_dmg:"hydro_vaporize_avgHit",pyro_melt_normal_dmg:"pyro_melt_normal_hit",pyro_melt_normal_crit_dmg:"pyro_melt_normal_critHit",pyro_melt_normal_avg_dmg:"pyro_melt_normal_avgHit",pyro_melt_chraged_dmg:"pyro_melt_chraged_hit",pyro_melt_chraged_crit_dmg:"pyro_melt_chraged_critHit",pyro_melt_chraged_avg_dmg:"pyro_melt_chraged_avgHit",pyro_melt_plunge_dmg:"pyro_melt_plunging_hit",pyro_melt_plunge_crit_dmg:"pyro_melt_plunging_critHit",pyro_melt_plunge_avg_dmg:"pyro_melt_plunging_avgHit",pyro_melt_skill_dmg:"pyro_melt_skill_hit",pyro_melt_skill_crit_dmg:"pyro_melt_skill_critHit",pyro_melt_skill_avg_dmg:"pyro_melt_skill_avgHit",pyro_melt_burst_dmg:"pyro_melt_burst_hit",pyro_melt_burst_crit_dmg:"pyro_melt_burst_critHit",pyro_melt_burst_avg_dmg:"pyro_melt_burst_avgHit",pyro_melt_ele_dmg:"pyro_melt_hit",pyro_melt_ele_crit_dmg:"pyro_melt_critHit",pyro_melt_ele_avg_dmg:"pyro_melt_avgHit",cryo_melt_normal_dmg:"cryo_melt_normal_hit",cryo_melt_normal_crit_dmg:"cryo_melt_normal_critHit",cryo_melt_normal_avg_dmg:"cryo_melt_normal_avgHit",cryo_melt_chraged_dmg:"cryo_melt_chraged_hit",cryo_melt_chraged_crit_dmg:"cryo_melt_chraged_critHit",cryo_melt_chraged_avg_dmg:"cryo_melt_chraged_avgHit",cryo_melt_plunge_dmg:"cryo_melt_plunging_hit",cryo_melt_plunge_crit_dmg:"cryo_melt_plunging_critHit",cryo_melt_plunge_avg_dmg:"cryo_melt_plunging_avgHit",cryo_melt_skill_dmg:"cryo_melt_skill_hit",cryo_melt_skill_crit_dmg:"cryo_melt_skill_critHit",cryo_melt_skill_avg_dmg:"cryo_melt_skill_avgHit",cryo_melt_burst_dmg:"cryo_melt_burst_hit",cryo_melt_burst_crit_dmg:"cryo_melt_burst_critHit",cryo_melt_burst_avg_dmg:"cryo_melt_burst_avgHit",cryo_melt_ele_dmg:"cryo_melt_hit",cryo_melt_ele_crit_dmg:"cryo_melt_critHit",cryo_melt_ele_avg_dmg:"cryo_melt_avgHit",enemy_phy_res:"physical_enemyRes_",enemy_phy_res_multi:"physical_enemyRes_multi",enemy_phy_immunity:"physical_enemyImmunity",anemo_enemy_ele_res:"anemo_enemyRes_",anemo_enemy_ele_res_multi:"anemo_enemyRes_multi",anemo_enemy_ele_immunity:"anemo_enemyImmunity",geo_enemy_ele_res:"geo_enemyRes_",geo_enemy_ele_res_multi:"geo_enemyRes_multi",geo_enemy_ele_immunity:"geo_enemyImmunity",electro_enemy_ele_res:"electro_enemyRes_",electro_enemy_ele_res_multi:"electro_enemyRes_multi",electro_enemy_ele_immunity:"electro_enemyImmunity",hydro_enemy_ele_res:"hydro_enemyRes_",hydro_enemy_ele_res_multi:"hydro_enemyRes_multi",hydro_enemy_ele_immunity:"hydro_enemyImmunity",pyro_enemy_ele_res:"pyro_enemyRes_",pyro_enemy_ele_res_multi:"pyro_enemyRes_multi",pyro_enemy_ele_immunity:"pyro_enemyImmunity",cryo_enemy_ele_res:"cryo_enemyRes_",cryo_enemy_ele_res_multi:"cryo_enemyRes_multi",cryo_enemy_ele_immunity:"cryo_enemyImmunity",ele_mas:"eleMas",amp_reaction_base_multi:"ampReactionBase_multi",enemy_level_multi:"enemyLevel_multi",enemy_level:"enemyLevel"},s={avg_dmg:"avgHit",dmg:"hit",crit_dmg:"critHit"},u=a(84);function d(){var e=m();if(e<2){Object.keys(localStorage).filter((function(e){return e.startsWith("character_")})).forEach((function(e){var t=Object(u.j)(e),a=t.characterKey,i=t.equippedArtifacts,c=void 0===i?{}:i,l="char_".concat(a);if(null===localStorage.getItem(l)){t.id,t.name;var d,m,_,v=t.dmgMode,f=Object(r.a)(t,["id","name","dmgMode"]);Array.isArray(null===f||void 0===f||null===(d=f.buildSetting)||void 0===d?void 0:d.mainStat)&&(f.buildSetting.mainStat=f.buildSetting.mainStat.map((function(e){return e in o?o[e]:e}))),"object"===typeof(null===f||void 0===f||null===(m=f.buildSetting)||void 0===m?void 0:m.statFilters)&&(f.buildSetting.statFilters=Object.fromEntries(Object.entries(f.buildSetting.statFilters).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return[a in o?o[a]:a,r]})))),f.hitMode=null!==(_=s[v])&&void 0!==_?_:Object.keys(s)[0],Object(u.l)(l,f),Object.values(c).forEach((function(e){var t=Object(u.j)(e);t&&(t.location=a,Object(u.l)(e,t))}))}else Object.values(c).forEach((function(e){var t=Object(u.j)(e);t&&(t.location="",Object(u.l)(e,t))}));localStorage.removeItem(e)}));var t=Object(u.j)("ArtifactDisplay.state");t&&(t.filterMainStatKey in o&&(t.filterMainStatKey=o[t.filterMainStatKey]),t.filterSubstats=t.filterSubstats.map((function(e){return e in o?o[e]:e})),Object(u.l)("ArtifactDisplay.state",t))}var a=l.a.populateDatebaseFromLocalStorage(),d=c.a.populateDatebaseFromLocalStorage();if(a||d){Object.values(c.a.getArtifactDatabase()).forEach((function(t){var a,n=!0;if(t.location)if(l.a.get(t.location)){var r=l.a.getArtifactIDFromSlot(t.location,t.slotKey);r?r!==t.id&&(t.location="",n=!1):l.a.equipArtifact(t.location,t)}else t.location="",n=!1;if(e<1){var s,u;i.a.substatsValidation(t),n=!1,"string"===typeof t.numStars&&(t.numStars=parseInt(t.numStars),n=!1);var d={"Wanderer's Troupe":"WanderersTroupe","Viridescent Venerer":"ViridescentVenerer","Thundering Fury":"ThunderingFury","Retracing Bolide":"RetracingBolide","Noblesse Oblige":"NoblesseOblige","Maiden Beloved":"MaidenBeloved","Gladiator's Finale":"GladiatorsFinale","Crimson Witch of Flames":"CrimsonWitchOfFlames","Bloodstained Chivalry":"BloodstainedChivalry","Archaic Petra":"ArchaicPetra","Brave Heart":"BraveHeart","Tiny Miracle":"TinyMiracle","Defender's Will":"DefendersWill","Martial Artist":"MartialArtist","Resolution of Sojourner":"ResolutionOfSojourner","The Exile":"TheExile","Traveling Doctor":"TravelingDoctor","Lucky Dog":"LuckyDog","Prayers of Wisdom":"PrayersForWisdom","Prayers of Springtime":"PrayersToSpringtime","Prayers of Illumination":"PrayersForIllumination","Prayers of Destiny":"PrayersForDestiny"};d[t.setKey]&&(t.setKey=d[t.setKey],n=!1),(null===t||void 0===t||null===(s=t.mainStatKey)||void 0===s||null===(u=s.endsWith)||void 0===u?void 0:u.call(s,"ele_dmg"))&&(t.mainStatKey=t.mainStatKey.replace("ele_dmg","ele_dmg_bonus"),n=!1),"phy_dmg"===(null===t||void 0===t?void 0:t.mainStatKey)&&(t.mainStatKey="phy_dmg_bonus",n=!1)}e<2&&(t.mainStatKey in o&&(t.mainStatKey=o[t.mainStatKey],n=!1),null===t||void 0===t||null===(a=t.substats)||void 0===a||a.forEach((function(e,a){e.key in o&&(t.substats[a].key=o[e.key],n=!1)})));n||c.a.update(t)}));var v=l.a.getCharacterDatabase();Object.values(v).forEach((function(t){var a,r,i,o=!0,s=t.characterKey;(t.equippedArtifacts||(t.equippedArtifacts={},o=!1),Object.entries(t.equippedArtifacts).forEach((function(e){var a=Object(n.a)(e,2),r=a[0],i=a[1],l=c.a.get(i);l&&l.location!==s&&c.a.moveToNewLocation(i,s),l||(o=!1,t.equippedArtifacts[r]="")})),e<1)&&(t.artifactConditionals=null!==(a=null===(r=t.artifactConditionals)||void 0===r||null===(i=r.filter)||void 0===i?void 0:i.call(r,(function(e){return!(!e.srcKey||!e.srcKey2)||(o=!1,!1)})))&&void 0!==a?a:[],t.hitMode||(t.hitMode="hit",o=!1));o||l.a.update(t)})),_(2)}}var m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseInt(null!==(e=Object(u.j)("db_ver"))&&void 0!==e?e:t)},_=function(e){return Object(u.l)("db_ver",e)};function v(){var e=l.a.getCharacterDatabase(),t=c.a.getArtifactDatabase(),a=Object(u.j)("ArtifactDisplay.state"),n=Object(u.j)("CharacterDisplay.state"),r=Object(u.j)("BuildsDisplay.state");return{version:m(),characterDatabase:e,artifactDatabase:t,artifactDisplay:a,characterDisplay:n,buildsDisplay:r}}function f(e){var t=e.version,a=void 0===t?0:t,r=e.characterDatabase,i=e.artifactDatabase,c=e.artifactDisplay,l=e.characterDisplay,o=e.buildsDisplay;h(),Object.entries(r).forEach((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(u.l)("char_".concat(a),r)})),Object.entries(i).forEach((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(u.l)(a,r)})),_(a),Object(u.l)("ArtifactDisplay.state",c),Object(u.l)("CharacterDisplay.state",l),Object(u.l)("BuildsDisplay.state",o),d()}function h(){Object.keys(localStorage).filter((function(e){return e.startsWith("char_")||e.startsWith("artifact_")})).forEach((function(e){return localStorage.removeItem(e)})),localStorage.removeItem("db_ver"),localStorage.removeItem("ArtifactDisplay.state"),localStorage.removeItem("CharacterDisplay.state"),localStorage.removeItem("BuildsDisplay.state"),l.a.clearDatabase(),c.a.clearDatabase()}},127:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(2),r=a(115),i=a(89),c=a(90);function l(e){var t=e.onSelect;return c.a.getCharacterKeyList().sort((function(e,t){return e<t?-1:e>t?1:0})).map((function(e){return Object(n.jsx)(r.a.Item,{onClick:function(){return t(e)},children:i.a.getName(e)},e)}))}},129:function(e,t,a){"use strict";a.d(t,"c",(function(){return E})),a.d(t,"a",(function(){return k})),a.d(t,"b",(function(){return S}));var n=a(82),r=a(80),i=a(2),c=a(39),l=a(20),o=a(0),s=a(184),u=a(154),d=a(133),m=a(31),_=a(233),v=a(167),f=a(92),h=a(41),g=a(30),b=a(157),j=a(103),p=a(81),y=a(117),O=a(89),x=a(138);function S(e){var t=e.character,a=t.characterKey,n=t.reactionMode,r=void 0===n?"none":n,c=e.setReactionMode,l=e.className;null===r&&(r="none");var o=O.a.getElementalKey(a);return["pyro","hydro","cryo"].includes(o)&&Object(i.jsxs)(s.a,{className:l,type:"radio",name:"reactionMode",defaultValue:r,onChange:function(e){return c("none"===e?null:e)},children:[Object(i.jsx)(u.a,{value:"none",variant:"none"===r?"success":"primary",children:"No Reactions"}),"pyro"===o&&Object(i.jsx)(u.a,{value:"pyro_vaporize",variant:"pyro_vaporize"===r?"success":"primary",children:Object(i.jsxs)("span",{className:"text-vaporize",children:["Vaporize(Pyro) ",Object(i.jsx)(d.a,{src:j.a.elements.hydro,className:"inline-icon"}),"+",Object(i.jsx)(d.a,{src:j.a.elements.pyro,className:"inline-icon"})]})}),"pyro"===o&&Object(i.jsx)(u.a,{value:"pyro_melt",variant:"pyro_melt"===r?"success":"primary",children:Object(i.jsxs)("span",{className:"text-melt",children:["Melt(Pyro) ",Object(i.jsx)(d.a,{src:j.a.elements.cryo,className:"inline-icon"}),"+",Object(i.jsx)(d.a,{src:j.a.elements.pyro,className:"inline-icon"})]})}),"hydro"===o&&Object(i.jsx)(u.a,{value:"hydro_vaporize",variant:"hydro_vaporize"===r?"success":"primary",children:Object(i.jsxs)("span",{className:"text-vaporize",children:["Vaporize(Hydro) ",Object(i.jsx)(d.a,{src:j.a.elements.pyro,className:"inline-icon"}),"+",Object(i.jsx)(d.a,{src:j.a.elements.hydro,className:"inline-icon"})]})}),"cryo"===o&&Object(i.jsx)(u.a,{value:"cryo_melt",variant:"cryo_melt"===r?"success":"primary",children:Object(i.jsxs)("span",{className:"text-melt",children:["Melt(Cryo) ",Object(i.jsx)(d.a,{src:j.a.elements.pyro,className:"inline-icon"}),"+",Object(i.jsx)(d.a,{src:j.a.elements.cryo,className:"inline-icon"})]})})]})}function k(e){var t=e.hitMode,a=e.setHitMode,n=e.className;return Object(i.jsxs)(s.a,{type:"radio",value:t,name:"hitOptions",onChange:a,className:n,children:[Object(i.jsx)(u.a,{value:"avgHit",variant:"avgHit"===t?"success":"primary",children:"Avg. DMG"}),Object(i.jsx)(u.a,{value:"hit",variant:"hit"===t?"success":"primary",children:"Normal Hit, No Crit"}),Object(i.jsx)(u.a,{value:"critHit",variant:"critHit"===t?"success":"primary",children:"Crit Hit DMG"})]})}function K(e){e.character;var t=e.character.characterKey,a=e.build;return Object(i.jsx)("div",{children:Object.entries(O.a.getDisplayStatKeys(a.finalStats)).map((function(e){var n=Object(r.a)(e,2),c=n[0],l=n[1],o="";return o="basicKeys"===c?"Basic Stats":"genericAvgHit"===c?"Generic Optimization Values":"transReactions"===c?"Transformation Reaction":O.a.getTalentName(t,c,c),Object(i.jsxs)(m.a,{bg:"darkcontent",text:"lightfont",className:"w-100 mb-2",children:[Object(i.jsx)(m.a.Header,{children:o}),Object(i.jsx)(m.a.Body,{className:"p-2",children:Object(i.jsx)(_.a,{className:"mb-n2",children:l.map((function(e,t){var n,c,l,o;if("string"===typeof e){var s,u,d=p.a.getPrintableFormulaStatKeyList(Object(y.a)(null===a||void 0===a||null===(s=a.finalStats)||void 0===s?void 0:s.modifiers,[e]),null===a||void 0===a||null===(u=a.finalStats)||void 0===u?void 0:u.modifiers).reverse();return Boolean(d.length)&&Object(i.jsxs)(m.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(i.jsx)(_.a.Toggle,{as:m.a.Header,className:"p-2 cursor-pointer",variant:"link",eventKey:"field".concat(t),children:p.a.printStat(e,a.finalStats)}),Object(i.jsx)(_.a.Collapse,{eventKey:"field".concat(t),children:Object(i.jsx)(m.a.Body,{className:"p-2",children:Object(i.jsx)("div",{className:"mb-n2",children:d.map((function(e){return Object(i.jsxs)("p",{className:"mb-2",children:[p.a.printStat(e,a.finalStats)," = ",Object(i.jsx)("small",{children:p.a.printFormula(e,a.finalStats,a.finalStats.modifiers,!1)})]},e)}))})})})]},t)}var v=O.a.getTalentField(a.finalStats,e.talentKey,e.sectionIndex,e.fieldIndex),f=O.a.getTalentFieldValue(v,"text",a.finalStats),h=O.a.getTalentFieldValue(v,"variant",a.finalStats),g=O.a.getTalentFieldValue(v,"formulaText",a.finalStats),b=O.a.getTalentFieldValue(v,"formula",a.finalStats,[]),j=Object(r.a)(b,2),x=j[0],S=j[1];if(!x||!S)return null;var k=null===x||void 0===x||null===(n=x(a.finalStats))||void 0===n||null===(c=n.toFixed)||void 0===c?void 0:c.call(n),K=p.a.getPrintableFormulaStatKeyList(Object(y.a)(null===a||void 0===a||null===(l=a.finalStats)||void 0===l?void 0:l.modifiers,S),null===a||void 0===a||null===(o=a.finalStats)||void 0===o?void 0:o.modifiers).reverse();return Object(i.jsxs)(m.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(i.jsxs)(_.a.Toggle,{as:m.a.Header,className:"p-2 cursor-pointer",variant:"link",eventKey:"field".concat(t),children:[Object(i.jsx)("b",{className:"text-".concat(h),children:f})," ",Object(i.jsx)("span",{className:"text-info",children:k})]}),Object(i.jsx)(_.a.Collapse,{eventKey:"field".concat(t),children:Object(i.jsx)(m.a.Body,{className:"p-2",children:Object(i.jsxs)("div",{className:"mb-n2",children:[Object(i.jsxs)("p",{className:"mb-2",children:[Object(i.jsx)("b",{className:"text-".concat(h),children:f})," ",Object(i.jsx)("span",{className:"text-info",children:k})," = ",Object(i.jsx)("small",{children:g})]}),K.map((function(e){return Object(i.jsxs)("p",{className:"mb-2",children:[p.a.printStat(e,a.finalStats)," = ",Object(i.jsx)("small",{children:p.a.printFormula(e,a.finalStats,a.finalStats.modifiers,!1)})]},e)}))]})})})]},t)}))})})]},c)}))})}var A=function(e){var t=e.eventKey,a=e.callback,n=Object(o.useContext)(v.a),r=Object(b.b)(t,(function(){return a&&a(t)})),s=n===t;return Object(i.jsxs)(f.a,{onClick:r,children:[Object(i.jsx)(l.a,{icon:s?c.G:c.F,className:"fa-fw ".concat(s?"fa-rotate-180":"")}),Object(i.jsx)("span",{children:" "}),s?"Retract":"Expand"]})};function E(e){var t=e.character,a=e.character.hitMode,r=e.setState,o=e.setOverride,s=e.newBuild,u=e.equippedBuild,d=s||u;return Object(i.jsxs)(_.a,{children:[Object(i.jsxs)(m.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(i.jsx)(m.a.Header,{children:Object(i.jsxs)(h.a,{children:[Object(i.jsxs)(g.a,{children:[Object(i.jsx)("span",{className:"d-block",children:"Damage Calculation Options"}),Object(i.jsx)("small",{children:"Expand below to edit enemy details."})]}),Object(i.jsx)(g.a,{xs:"auto",children:Object(i.jsx)(S,Object(n.a)({},{character:t,setReactionMode:function(e){return r({reactionMode:e})}}))}),Object(i.jsx)(g.a,{xs:"auto",children:Object(i.jsx)(A,{as:f.a,eventKey:"1"})})]})}),Object(i.jsx)(_.a.Collapse,{eventKey:"1",children:Object(i.jsxs)(m.a.Body,{children:[Object(i.jsx)(h.a,{className:"mb-2",children:Object(i.jsx)(g.a,{children:Object(i.jsx)(f.a,{variant:"warning",children:Object(i.jsx)("a",{href:"https://genshin-impact.fandom.com/wiki/Damage#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})})}),Object(i.jsxs)(h.a,{children:[Object(i.jsx)(g.a,{xs:12,xl:6,className:"mb-2",children:Object(i.jsx)(x.a,{name:Object(i.jsx)("b",{children:"Enemy Level"}),value:O.a.getStatValueWithOverride(t,"enemyLevel"),placeholder:p.a.getStatNameRaw("enemyLevel"),defaultValue:O.a.getBaseStatValue(t,"enemyLevel"),onValueChange:function(e){return null===o||void 0===o?void 0:o("enemyLevel",e)}})}),O.a.getElementalKeys().map((function(e){var a="physical"===e?"physical_enemyRes_":"".concat(e,"_enemyRes_"),n="physical"===e?"physical_enemyImmunity":"".concat(e,"_enemyImmunity"),r=O.a.getStatValueWithOverride(t,n);return Object(i.jsx)(g.a,{xs:12,xl:6,className:"mb-2",children:Object(i.jsx)(x.a,{prependEle:Object(i.jsxs)(f.a,{variant:e,onClick:function(){return o(n,!r)},className:"text-darkcontent",children:[Object(i.jsx)(l.a,{icon:r?c.b:c.x,className:"fa-fw"})," Immunity"]}),name:Object(i.jsx)("b",{children:p.a.getStatNameRaw(a)}),value:O.a.getStatValueWithOverride(t,a),placeholder:p.a.getStatNameRaw(a),defaultValue:O.a.getBaseStatValue(t,a),onValueChange:function(e){return null===o||void 0===o?void 0:o(a,e)},disabled:r})},e)}))]})]})})]}),Object(i.jsxs)(m.a,{bg:"lightcontent",text:"lightfont",children:[Object(i.jsx)(m.a.Header,{children:Object(i.jsxs)(h.a,{children:[Object(i.jsxs)(g.a,{children:[Object(i.jsx)("span",{className:"d-block",children:"Damage Calculation Formulas"}),Object(i.jsx)("small",{children:"Expand below to see calculation details."})]}),Object(i.jsx)(g.a,{xs:"auto",children:Object(i.jsx)(k,Object(n.a)({},{hitMode:a,setHitMode:function(e){return r({hitMode:e})}}))}),Object(i.jsx)(g.a,{xs:"auto",children:Object(i.jsx)(A,{as:f.a,eventKey:"2"})})]})}),Object(i.jsx)(_.a.Collapse,{eventKey:"2",children:Object(i.jsx)(m.a.Body,{className:"p-2",children:Object(i.jsx)(K,{character:t,build:d})})})]})]})}},135:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"g",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(97),r={hit:"DMG",avgHit:"Avg. DMG",critHit:"CRIT Hit DMG"},i={normal:"Normal Att.",charged:"Charged Att.",plunging:"Plunging Att.",elemental:"Elemental Att.",skill:"Ele. Skill",burst:"Ele. Burst"},c=n.a,l={overloaded:{name:"Overloaded",multi:2,variants:["pyro"]},shattered:{name:"Shattered",multi:1.5,variants:["physical"]},electrocharged:{name:"Electro-Charged",multi:1.2,variants:["electro"]},superconduct:{name:"Superconduct",multi:.5,variants:["cryo"]},swirl:{name:"Swirl",multi:.6,variants:["pyro","hydro","electro","cryo"]}},o={vaporize:{name:"Vaporize",variants:{pyro:1.5,hydro:2}},melt:{name:"Melt",variants:{pyro:2,cryo:1.5}}},s=[0,17.2,18.5,19.9,21.3,22.6,24.6,26.6,28.9,31.4,34.1,37.2,40.7,44.4,48.6,53.7,59.1,64.4,69.7,75.1,80.6,86.1,91.7,97.2,102.8,108.4,113.2,118.1,123,129.7,136.3,142.7,149,155.4,161.8,169.1,176.5,184.1,191.7,199.6,207.4,215.4,224.2,233.5,243.4,256.1,268.5,281.5,295,309.1,323.6,336.8,350.5,364.5,378.6,398.6,416.4,434.4,452.6,471.4,490.5,509.5,532.8,556.4,580.1,607.9,630.2,652.9,675.2,697.8,720.2,742.5,765.2,784.4,803.4,830.9,854.4,877.8,900.1,923.8,946.4,968.6,991,1013.5,1036.1,1066.6,1090,1115,1141.7,1171.9,1202.8,1202.8,1233.9,1264.7,1305.7,1346.1,1468.9,1524,1577,1627.6,1674.8],u=[0,91,99,106,114,121,129,136,144,151,159,170,181,192,204,216,228,248,268,287,304,320,337,352,368,384,394,405,416,427,438,448,459,470,481,490,499,513,529,544,557,574,591,607,622,638,649,667,684,702,715,733,750,767,784,800,814,834,855,876,896,915,936,956,982,1003,1017,1036,1057,1075,1096,1114,1135,1149,1170,1191,1205,1224,1243,1260,1277,1293,1308,1317,1327,1336,1349,1366,1384,1403,1424,1450,1478,1507,1543,1570,1580,1589,1673,1682,1691]},138:function(e,t,a){"use strict";var n=a(82),r=a(2),i=a(116),c=a(39),l=a(20),o=a(92),s=a(165),u=a(106),d=a(105),m=a(107);t.a=function(e){var t=e.name,a=e.prependEle,_=e.value,v=e.placeholder,f=e.defaultValue,h=e.onValueChange,g=e.percent,b=e.disabled,j=Object(i.a)(e,["name","prependEle","value","placeholder","defaultValue","onValueChange","percent","disabled"]);return Object(r.jsxs)(s.a,Object(n.a)(Object(n.a)({},j),{},{children:[a?Object(r.jsx)(s.a.Prepend,{children:a}):null,Object(r.jsx)(s.a.Prepend,{children:Object(r.jsx)(s.a.Text,{children:t})}),Object(r.jsx)(m.a,{float:g,placeholder:v,value:_,onValueChange:h,disabled:b}),g?Object(r.jsx)(s.a.Append,{children:Object(r.jsx)(s.a.Text,{children:"%"})}):null,void 0!==f?Object(r.jsx)(s.a.Append,{children:Object(r.jsx)(u.a,{placement:"top",overlay:Object(r.jsx)(d.a,{children:"Reset this override to the default value."}),children:Object(r.jsx)("span",{className:"d-inline-block",children:Object(r.jsx)(o.a,{onClick:function(){return h(f)},disabled:b||_===f,style:_===f?{pointerEvents:"none"}:{},children:Object(r.jsx)(l.a,{icon:c.E})})})})}):null]}))}},139:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(82),r=a(2),i=a(30),c=a(41),l=a(89),o=a(81),s=a(124);function u(e){var t,a,n=e.label,l=void 0===n?"":n,o=e.val,s=e.oldVal,u=e.fixed,d=void 0===u?0:u,m=e.unit,_=void 0===m?"":m,v=e.variant,f=void 0===v?"":v;"undefined"===typeof s&&"number"===typeof o&&(s=o,o=void 0);var h=void 0!==o?o-s:0,g="",b="";return s||0===h?g=null===(t=s)||void 0===t?void 0:t.toFixed(d):void 0===s&&(g=null===(a=o)||void 0===a?void 0:a.toFixed(d)),g&&(g=Object(r.jsxs)("span",{className:"text-".concat(f),children:[g,_]})),0!==h&&(b=Object(r.jsxs)("span",{className:"text-".concat(h>0?"success":"danger"),children:[h>0?"+":"",null===h||void 0===h?void 0:h.toFixed(d),_]})),Object(r.jsx)(i.a,{xs:"12",children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(i.a,{children:Object(r.jsx)("b",{children:l})}),Object(r.jsxs)(i.a,{xs:"auto",children:[g,h?" ":"",b]})]})})}function d(e){var t,a,i,c,d,m=e.character,_=(e.character.characterKey,e.equippedBuild),v=e.newBuild,f=e.editable,h=e.statKey,g="";if("string"===typeof h){if(v&&_){var b,j,p,y;t=null!==(b=null===v||void 0===v||null===(j=v.finalStats)||void 0===j?void 0:j[h])&&void 0!==b?b:0,a=null!==(p=null===_||void 0===_||null===(y=_.finalStats)||void 0===y?void 0:y[h])&&void 0!==p?p:0}else{var O,x,S=v||_;t=null!==(O=null===S||void 0===S||null===(x=S.finalStats)||void 0===x?void 0:x[h])&&void 0!==O?O:0;var k="invalid";(a=l.a.getStatValueWithOverride(m,h,k))===k&&(a=void 0),"finalHP"===h?a=l.a.getStatValueWithOverride(m,"characterHP"):"finalDEF"===h?a=l.a.getStatValueWithOverride(m,"characterDEF"):"finalATK"===h&&(a=l.a.getStatValueWithOverride(m,"characterATK")+l.a.getStatValueWithOverride(m,"weaponATK"))}c=o.a.getStatUnit(h),i=o.a.fixedUnit(h),g=Object(r.jsxs)("span",{children:[Object(s.a)(h)," ",o.a.getStatName(h)]})}else{var K,A,E,N,C=v||_,D=h.talentKey,M=h.sectionIndex,T=h.fieldIndex,H=l.a.getTalentField(C.finalStats,D,M,T),w=l.a.getTalentFieldValue(H,"variant",C.finalStats);if(g=Object(r.jsx)("span",{className:"text-".concat(w),children:l.a.getTalentFieldValue(H,"text",C.finalStats)}),i=l.a.getTalentFieldValue(H,"fixed",C.finalStats,0),t=null===(K=l.a.getTalentFieldValue(H,"formula",C.finalStats))||void 0===K||null===(A=K[0])||void 0===A?void 0:A.call(K,C.finalStats),v&&_)a=null===(E=l.a.getTalentFieldValue(H,"formula",_.finalStats))||void 0===E||null===(N=E[0])||void 0===N?void 0:N.call(E,_.finalStats)}return f&&l.a.hasOverride(m,h)&&(d="warning"),Object(r.jsx)(u,Object(n.a)({},{val:t,oldVal:a,fixed:i,unit:c,variant:d,label:g}))}},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(2),r=a(82),i=a(80),c=a(41),l=a(30),o=a(31),s=a(139),u=a(89);function d(e){var t=e.character,a=e.character.characterKey,d=e.equippedBuild,m=e.newBuild,_=e.statsDisplayKeys,v=e.editable,f=e.cardbg,h=void 0===f?"darkcontent":f;return Object(n.jsx)(c.a,{className:"mb-n2",children:Object.entries(_).map((function(e){var _=Object(i.a)(e,2),f=_[0],g=_[1],b="";return b="basicKeys"===f?"Basic Stats":"genericAvgHit"===f?"Generic Optimization Values":"transReactions"===f?"Transformation Reaction":u.a.getTalentName(a,f,f),Object(n.jsx)(l.a,{className:"mb-2",xs:12,md:6,xl:4,children:Object(n.jsxs)(o.a,{bg:h,text:"lightfont",className:"h-100",children:[Object(n.jsx)(o.a.Header,{children:b}),Object(n.jsx)(o.a.Body,{children:Object(n.jsx)(c.a,{children:g.map((function(e){return Object(n.jsx)(s.a,Object(r.a)({},{character:t,equippedBuild:d,newBuild:m,editable:v,statKey:e}),JSON.stringify(e))}))})})]})},f)}))})}},166:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(85),r=a(2),i=a(80),c=a(39),l=a(20),o=a(0),s=a(133),u=a(121),d=a(92),m=a(31),_=a(30),v=a(41),f=a(16),h=a(91),g=a(103),b=a(102),j=a(124),p=a(81),y=a(100),O=a(89),x=a(90);function S(e){var t,a=e.characterKey,S=e.onEdit,k=e.onDelete,K=e.cardClassName,A=void 0===K?"":K,E=e.bg,N=void 0===E?"":E,C=e.header,D=e.footer,M=Object(o.useReducer)((function(e){return e+1}),0),T=Object(i.a)(M,2)[1];Object(o.useEffect)((function(){Promise.all([O.a.getCharacterDataImport(),y.a.getWeaponDataImport(),h.a.getDataImport()]).then((function(){return T()}))}),[]);var H=x.a.get(a);if(!H)return null;var w=O.a.calculateBuild(H),L=w.setToSlots,B=H.weapon,z=void 0===B?{}:B,R=H.constellation,F=O.a.getName(a),I=O.a.getElementalKey(a),W=O.a.getWeaponTypeKey(a),P=y.a.getWeaponName(z.key),V=y.a.getWeaponMainStatValWithOverride(z),G=y.a.getWeaponSubStatKey(z.key),U=y.a.getWeaponSubStatValWithOverride(z),q=y.a.getLevelName(z.levelKey),J=y.a.getWeaponPassiveName(z.key);return Object(r.jsxs)(m.a,{className:A,bg:N||"darkcontent",text:"lightfont",children:[Object(r.jsx)(m.a.Header,{className:"pr-2",children:Object(r.jsxs)(v.a,{className:"no-gutters",children:[Object(r.jsx)(_.a,{children:C||Object(r.jsx)("h5",{children:Object(r.jsx)("b",{children:F})})}),Object(r.jsx)(_.a,{xs:"auto",children:Object(r.jsxs)("span",{className:"float-right align-top ml-1",children:[S&&Object(r.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:S,children:Object(r.jsx)(l.a,{icon:c.h})}),k&&Object(r.jsx)(d.a,{variant:"danger",size:"sm",onClick:k,children:Object(r.jsx)(l.a,{icon:c.D})})]})})]})}),Object(r.jsxs)(m.a.Body,{onClick:S,className:S?"cursor-pointer":"",children:[Object(r.jsxs)(v.a,{children:[Object(r.jsx)(_.a,{xs:"auto",className:"pr-0",children:Object(r.jsx)(s.a,{src:O.a.getThumb(a),className:"thumb-big grad-".concat(O.a.getStar(a),"star p-0"),thumbnail:!0})}),Object(r.jsxs)(_.a,{children:[Object(r.jsx)("h3",{className:"mb-0",children:"Lvl. ".concat(O.a.getStatValueWithOverride(H,"characterLevel")," C").concat(R)}),Object(r.jsx)("h5",{className:"mb-0",children:Object(r.jsx)(b.a,{stars:O.a.getStar(a),colored:!0})}),Object(r.jsxs)("h2",{className:"mb-0",children:[Object(r.jsx)(s.a,{src:g.a.elements[I],className:"inline-icon"})," ",Object(r.jsx)(s.a,{src:null===(t=g.a.weaponTypes)||void 0===t?void 0:t[W],className:"inline-icon"})]})]})]}),Object(r.jsx)(v.a,{className:"mb-2",children:Object(r.jsxs)(_.a,{children:[Object(r.jsxs)("h6",{className:"mb-0",children:[P,J&&"(".concat(z.refineIndex+1,")")," ",q]}),Object(r.jsxs)("span",{children:["ATK: ",V,"  ",J&&Object(r.jsxs)("span",{children:[p.a.getStatName(G),": ",U,p.a.getStatUnit(G)]})]})]})}),Object(r.jsx)(v.a,{children:Object(r.jsx)(_.a,{children:Object.entries(h.a.getSetEffects(L)).map((function(e){var t=Object(i.a)(e,2),a=t[0],c=t[1],l=h.a.getSetName(a),o=Math.max.apply(Math,Object(n.a)(c));return Object(r.jsx)("h5",{children:Object(r.jsxs)(u.a,{variant:"secondary",children:[l," ",Object(r.jsx)(u.a,{variant:"success",children:o})]})},a)}))})}),Object(r.jsx)(v.a,{children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var t=p.a.getStatUnit(e),a=w.finalStats[e];return Object(r.jsxs)(_.a,{xs:12,children:[Object(r.jsxs)("h6",{className:"d-inline",children:[Object(j.a)(e)," ",p.a.getStatName(e)]}),Object(r.jsx)("span",{className:"float-right",children:(null===a||void 0===a?void 0:a.toFixed(p.a.fixedUnit(e)))+t})]},e)}))})]}),D&&Object(r.jsx)(m.a.Footer,{children:Object(r.jsx)(d.a,{as:f.b,to:{pathname:"/build",characterKey:a},children:"Generate Builds"})})]})}},168:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a(84);function r(e){var t=e%1e3,a=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:n,seconds:a,milliseconds:t}}function i(e){var t=r(e),a=t.hours,i=t.minutes,c=t.seconds,l="Minutes";return a&&(l="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.m)(i,"0",2),":").concat(Object(n.m)(c,"0",2)," ").concat(l)}function c(e){var t=r(e),a=t.hours,i=t.minutes,c=t.seconds,l=t.milliseconds,o="Minutes";return a&&(o="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.m)(i,"0",2),":").concat(Object(n.m)(c,"0",2),".").concat(Object(n.m)(l,"0",3)," ").concat(o)}},232:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ae}));var n=a(98),r=a(85),i=a(2),c=a(80),l=a(82),o=a(87),s=a(94),u=a(134),d=a(120),m=a(119),_=a(39),v=a(20),f=a(0),h=a.n(f),g=a(115),b=a(216),j=a(220),p=a(221),y=a(31),O=a(41),x=a(30),S=a(92),k=a(121),K=a(123),A=a(228),E=a(133),N=a(56),C=a(234),D=a(165),M=a(18);function T(){return new Worker(a.p+"static/js/BuildWorker.84e7facf.worker.js")}var H=a(91),w=a(96),L=a(89),B=a(166),z=a(90),R=a(129),F=a(149),I=a(127),W=a(114),P=a(107),V=a(102),G=a(125),U=a(81),q=a(95),J=a(168),X=a(84),Y=a(100),Z=a(83),Q=a.e(20).then(a.bind(null,160)),$=Object(f.lazy)((function(){return Q})),ee=1e7,te=[50,25,10,5],ae=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;if(Object(o.a)(this,a),(n=t.call(this,e)).forceUpdateBuildDisplay=function(){return n.forceUpdate()},n.selectCharacter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return n.setState(Object(l.a)(Object(l.a)({},a.getInitialState()),{},{characterKey:""}));if(e!==n.state.characterKey){var t=z.a.get(e);return n.setState((function(n){var r;return Object(l.a)(Object(l.a)(Object(l.a)({},a.getInitialState()),{},{characterKey:e},null!==(r=null===t||void 0===t?void 0:t.buildSetting)&&void 0!==r?r:{}),{},{maxBuildsToShow:n.maxBuildsToShow,showCharacterModal:n.showCharacterModal})}))}},n.splitArtifacts=function(){if(!n.state.characterKey)return Object.fromEntries(H.a.getSlotKeys().map((function(e){return[e,[]]})));var e=w.a.getArtifactDatabase();n.state.useLockedArts||Object.entries(e).forEach((function(t){var a=Object(c.a)(t,2),r=a[0],i=a[1];n.state.characterKey&&i.location===n.state.characterKey||(i.lock||i.location)&&delete e[r]}));var t=H.a.splitArtifactsBySlot(e);return a.artifactsSlotsToSelectMainStats.forEach((function(e,a){return n.state.mainStat[a]&&(t[e]=t[e].filter((function(e){return e.mainStatKey===n.state.mainStat[a]})))})),t},n.changeMainStat=function(e,t){n.setState((function(a){var n=a.mainStat;return n[e]=t,{mainStat:n}}),n.autoGenerateBuilds)},n.changeSetFilterKey=function(e,t,a){return n.setState((function(n){if(n.setFilters[e].key!==t){var r=n.setFilters,i=0;return a&&a[0]&&(i=parseInt(a[0])),r[e]={key:t,num:i},{setFilters:r}}}),n.autoGenerateBuilds)},n.dropdownitemsForStar=function(e,t){return H.a.getSetsByMaxStarEntries(e).map((function(e){var a=Object(c.a)(e,2),r=a[0],l=a[1];if(n.state.setFilters.some((function(e){return e.key===r})))return!1;var o=Object.keys(H.a.getSetEffectsObj(r)),s=n.state.setFilters.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!o.every((function(e){return parseInt(e)+s>5}))&&Object(i.jsx)(g.a.Item,{onClick:function(){return n.changeSetFilterKey(t,r,o)},children:l.name},r)}))},n.autoGenerateBuilds=function(){"number"===typeof n.totBuildNumber&&n.totBuildNumber<=100?n.generateBuilds():n.state.builds.length&&n.setState({builds:[],generationProgress:0,generationDuration:0})},n.generateBuilds=function(){var e=Object(u.a)(n),t=e.split;if(!e.totBuildNumber)return n.setState({builds:[]});n.setState({generatingBuilds:!0,builds:[],generationDuration:0,generationProgress:0});var a=n.state,r=a.characterKey,i=a.setFilters,l=a.statFilters,o=void 0===l?{}:l,s=a.ascending,d=a.optimizationTarget,m=a.maxBuildsToShow,_=a.artifactConditionals,v=a.artifactsAssumeFull,f=z.a.get(r),h=L.a.calculateCharacterWithWeaponStats(f);if("object"===typeof d){var g=d,b=g.talentKey,j=g.sectionIndex,p=g.fieldIndex,y=L.a.getTalentField(h,b,j,p).formula;d=L.a.getFormulaPath(r,b,y)}h.artifactsAssumeFull=v;var O=H.a.getAllArtifactSetEffectsObj(_),x=Object(X.e)(t);Object.values(x).forEach((function(e){e.forEach((function(e){e.mainStatVal=H.a.getMainStatValue(e.mainStatKey,e.numStars,v?4*e.numStars:e.level)}))}));var S=Object.fromEntries(Object.entries(o).map((function(e){var t=Object(c.a)(e,2);return[t[0],t[1].min]})).filter((function(e){return"number"===typeof Object(c.a)(e,2)[1]}))),k=Object.fromEntries(Object.entries(o).map((function(e){var t=Object(c.a)(e,2);return[t[0],t[1].max]})).filter((function(e){return"number"===typeof Object(c.a)(e,2)[1]}))),K={splitArtifacts:x,initialStats:h,artifactSetEffects:O,setFilters:i,minFilters:S,maxFilters:k,maxBuildsToShow:m,optimizationTarget:d,ascending:s};n.worker&&n.worker.terminate(),n.worker=new T,n.worker.onmessage=function(e){if("number"===typeof e.data.progress){var t=e.data,a=t.progress,r=void 0===a?0:a,i=t.timing,c=void 0===i?0:i;return n.setState({generationProgress:r,generationDuration:c})}M.a.timing({category:"Build Generation",variable:"timing",value:e.data.timing,label:n.totBuildNumber});var l=e.data.builds.map((function(e){return L.a.calculateBuildWithObjs(_,h,e.artifacts)}));n.setState({builds:l,generatingBuilds:!1}),n.worker.terminate(),delete n.worker},n.worker.postMessage(K)},n.BuildGeneratorEditorCard=function(e){var t,r,l=e.statsDisplayKeys,o=e.initialStats,s=n.state,d=s.setFilters,m=s.statFilters,f=void 0===m?{}:m,h=s.characterKey,A=s.artifactsAssumeFull,E=s.artifactConditionals,N=s.useLockedArts,C=s.generatingBuilds,D=s.generationProgress,M=s.generationDuration,T=s.optimizationTarget,w=s.ascending,z=L.a.getName(h,"Character Name"),R=d.reduce((function(e,t){return t.key?e+t.num:e}),0);n.split=n.splitArtifacts(),n.totBuildNumber=Object(Z.a)(n.split,d);var F=Object(u.a)(n).totBuildNumber,P=null!==(t=null===F||void 0===F?void 0:F.toLocaleString())&&void 0!==t?t:F,V=null!==(r=null===D||void 0===D?void 0:D.toLocaleString())&&void 0!==r?r:D,G=null;if(C){var X=100*D/F;G=Object(i.jsxs)(b.a,{variant:"success",children:[Object(i.jsxs)("span",{children:["Generating and testing ",Object(i.jsxs)("b",{children:[V,"/",P]})," Build configurations against the criteria for ",Object(i.jsx)("b",{children:z})]}),Object(i.jsxs)("h6",{children:["Time elapsed: ",Object(J.b)(M)]}),Object(i.jsx)(j.a,{now:X,label:"".concat(X.toFixed(1),"%")})]})}else G=!C&&D?Object(i.jsxs)(b.a,{variant:"success",children:[Object(i.jsxs)("span",{children:["Generated and tested ",Object(i.jsx)("b",{children:P})," Build configurations against the criteria for ",Object(i.jsx)("b",{children:z})]}),Object(i.jsxs)("h6",{children:["Time elapsed: ",Object(J.b)(M)]}),Object(i.jsx)(j.a,{now:100,variant:"success",label:"100%"})]}):0===F?Object(i.jsx)(b.a,{variant:"warning",className:"mb-0",children:Object(i.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(i.jsx)("b",{children:z}),". Please change your Artifact configurations, or add/unlock more Artifacts."]})}):F>ee?Object(i.jsx)(b.a,{variant:"warning",className:"mb-0",children:Object(i.jsxs)("span",{children:["Current configuration will generate ",Object(i.jsx)("b",{children:P})," builds for ",Object(i.jsx)("b",{children:z}),". This might take quite awhile to generate..."]})}):Object(i.jsx)(b.a,{variant:"success",className:"mb-0",children:Object(i.jsxs)("span",{children:["Current configuration ",F<=n.state.maxBuildsToShow?"generated":"will generate"," ",Object(i.jsx)("b",{children:P})," builds for ",Object(i.jsx)("b",{children:z}),"."]})});var Y=Object(i.jsxs)(p.a,{title:L.a.getName(h,"Select Character"),disabled:C,children:[Object(i.jsx)(g.a.Item,{onClick:function(){return n.selectCharacter("")},children:"Unselect Character"}),Object(i.jsx)(g.a.Divider,{}),Object(i.jsx)(I.a,{onSelect:function(e){return n.selectCharacter(e)}})]});return Object(i.jsxs)(y.a,{bg:"darkcontent",text:"lightfont",children:[Object(i.jsx)(y.a.Header,{children:"Build Generator"}),Object(i.jsxs)(y.a.Body,{children:[Object(i.jsxs)(O.a,{children:[Object(i.jsxs)(x.a,{xs:12,lg:6,children:[h?Object(i.jsx)(B.a,{header:Y,characterKey:h,bg:"lightcontent",footer:!1,cardClassName:"mb-2",onEdit:C?null:function(){return n.setState({showCharacterModal:!0})}}):Object(i.jsx)(y.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(i.jsx)(y.a.Header,{children:Y})}),L.a.hasTalentPage(h)&&Object(i.jsx)(ie,{className:"mb-2",characterKey:h,forceUpdate:function(){n.forceUpdateBuildDisplay(),n.autoGenerateBuilds()}}),Object(i.jsx)(ce,{className:"mb-2",statFilters:f,statsDisplayKeys:l,setStatFilters:function(e){return n.setState({statFilters:e})}})]}),Object(i.jsx)(x.a,{xs:12,lg:6,children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)(x.a,{className:"mb-2",xs:12,children:Object(i.jsx)(y.a,{bg:"lightcontent",text:"lightfont",children:Object(i.jsx)(y.a.Body,{children:Object(i.jsx)(S.a,{className:"w-100",onClick:function(){return n.setState({showArtCondModal:!0})},disabled:C,children:Object(i.jsxs)("span",{children:["Default Artifact Set Effects ",Boolean(E.length)&&Object(i.jsxs)(k.a,{variant:"success",children:[E.length," Selected"]})]})})})})}),d.map((function(e,t){var a=e.key,r=e.num;return Object(i.jsx)(x.a,{className:"mb-2",xs:12,children:Object(i.jsxs)(y.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(i.jsx)(y.a.Header,{children:Object(i.jsxs)(K.a,{children:[Object(i.jsxs)(p.a,{as:K.a,title:H.a.getSetName(a,"Artifact Set Filter"),disabled:C,children:[Object(i.jsx)(g.a.Item,{onClick:function(){return n.changeSetFilterKey(t,"")},children:"Unselect Artifact"}),Object(i.jsx)(g.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),n.dropdownitemsForStar(5,t),Object(i.jsx)(g.a.Divider,{}),Object(i.jsx)(g.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),n.dropdownitemsForStar(4,t),Object(i.jsx)(g.a.Divider,{}),Object(i.jsx)(g.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),n.dropdownitemsForStar(3,t)]}),Object(i.jsx)(p.a,{as:K.a,title:"".concat(r,"-set"),disabled:C||!a||R>=5,children:Object.keys(H.a.getSetEffectsObj(a)).map((function(e){var r=d.reduce((function(e,t){return t.key&&t.key!==a?e+t.num:e}),0);return parseInt(e)+r<=5&&Object(i.jsx)(g.a.Item,{onClick:function(){return n.setState((function(a){var n=a.setFilters;return n[t].num=parseInt(e),{setFilters:n}}),n.autoGenerateBuilds)},children:"".concat(e,"-set")},e)}))})]})}),a?Object(i.jsx)(y.a.Body,{children:Object(i.jsx)(O.a,{children:Object.keys(H.a.getSetEffectsObj(a)).filter((function(e){return parseInt(e)<=r})).map((function(e){var t=H.a.getArtifactSetNumStats(a,e),r=0,l=H.a.getSetEffectConditional(a,e);l&&(r=q.a.getConditionalNum(E,{srcKey:a,srcKey2:e}),Object.entries(H.a.getConditionalStats(a,e,r)).forEach((function(e){var a=Object(c.a)(e,2),n=a[0],r=a[1];return t[n]=(t[n]||0)+r})));var o=Object(i.jsx)(W.a,{conditional:l,conditionalNum:r,setConditional:function(t){return n.setState((function(n){return{artifactConditionals:q.a.setConditional(n.artifactConditionals,{srcKey:a,srcKey2:e},t)}}),n.autoGenerateBuilds)},defEle:Object(i.jsxs)(k.a,{variant:"success",children:[e,"-Set"]})});return Object(i.jsxs)(x.a,{xs:12,className:"mb-2",children:[Object(i.jsxs)("h6",{children:[o," ",H.a.getSetEffectText(a,e)]}),t?Object(i.jsx)(O.a,{children:Object.entries(t).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)(x.a,{xs:12,children:[U.a.getStatName(a),": ",n,U.a.getStatUnit(a)]},a)}))}):null]},e)}))})}):null]})},t)})),Object(i.jsx)(x.a,{className:"mb-2",xs:12,children:Object(i.jsx)(y.a,{bg:"lightcontent",text:"lightfont",children:Object(i.jsx)(y.a.Body,{children:Object(i.jsx)(S.a,{className:"w-100",onClick:function(){return n.setState((function(e){return{useLockedArts:!e.useLockedArts}}),n.autoGenerateBuilds)},disabled:C,children:Object(i.jsxs)("span",{children:[Object(i.jsx)(v.a,{icon:N?_.b:_.x})," ",N?"Use Locked & Equipped Artifacts":"Do not use Locked & Equipped Artifacts"]})})})})}),Object(i.jsx)(x.a,{className:"mb-2",xs:12,children:Object(i.jsxs)(y.a,{bg:"lightcontent",text:"lightfont",children:[Object(i.jsxs)(y.a.Header,{children:[Object(i.jsx)("span",{children:"Artifact Main Stat"}),Object(i.jsx)(S.a,{className:"float-right text-right",variant:A?"orange":"primary",onClick:function(){return n.setState((function(e){return{artifactsAssumeFull:!e.artifactsAssumeFull}}),n.autoGenerateBuilds)},disabled:C,children:Object(i.jsxs)("span",{children:[Object(i.jsx)(v.a,{icon:A?_.b:_.x,className:"fa-fw"})," Assume Fully Leveled"]})})]}),Object(i.jsx)(y.a.Body,{className:"mb-n2",children:a.artifactsSlotsToSelectMainStats.map((function(e,t){return Object(i.jsxs)("div",{className:"text-inline mb-1 d-flex justify-content-between",children:[Object(i.jsx)("h6",{className:"d-inline mb-0",children:H.a.getSlotNameWithIcon(e)}),Object(i.jsxs)(p.a,{disabled:C,size:"sm",title:n.state.mainStat[t]?U.a.getStatNameWithPercent(n.state.mainStat[t]):"Select a mainstat",className:"d-inline",children:[Object(i.jsx)(g.a.Item,{onClick:function(){return n.changeMainStat(t,"")},children:"No MainStat"}),H.a.getSlotMainStatKeys(e).map((function(e){return Object(i.jsx)(g.a.Item,{onClick:function(){return n.changeMainStat(t,e)},children:U.a.getStatNameWithPercent(e)},e)}))]})]},e)}))})]})})]})})]}),Object(i.jsx)(O.a,{className:"mb-2",children:Object(i.jsx)(x.a,{children:h&&G})}),Object(i.jsxs)(O.a,{className:"d-flex justify-content-between",children:[Object(i.jsx)(x.a,{xs:"auto",children:Object(i.jsxs)(K.a,{children:[Object(i.jsx)(S.a,{className:"h-100",disabled:!h||C,variant:h&&F<=ee?"success":"warning",onClick:n.generateBuilds,children:Object(i.jsx)("span",{children:"Generate Builds"})}),Object(i.jsx)(S.a,{className:"h-100",disabled:!C,variant:"danger",onClick:function(){n.worker&&(n.worker.terminate(),delete n.worker,n.setState({generatingBuilds:!1,builds:[],generationDuration:0,generationProgress:0}))},children:Object(i.jsx)("span",{children:"Cancel"})})]})}),Object(i.jsx)(x.a,{xs:"auto",children:Object(i.jsx)(ne,{characterKey:h,disabled:C||!h,autoGenerateBuilds:n.autoGenerateBuilds,setState:function(e){return n.setState(e,n.autoGenerateBuilds)},optimizationTarget:T,ascending:w,statsDisplayKeys:l,initialStats:o})})]})]})]})},n.closeModal=function(){return n.setState({modalBuild:null,showCharacterModal:!1})},n.BuildModal=function(e){var t=e.build,a=e.characterKey,r=n.state.showCharacterModal;return Object(i.jsx)(A.a,{show:Boolean(r||t),onHide:n.closeModal,size:"xl",contentClassName:"bg-transparent",children:Object(i.jsx)(h.a.Suspense,{fallback:Object(i.jsx)("span",{children:"Loading..."}),children:Object(i.jsx)($,{characterKey:a,setCharacterKey:function(e){return n.selectCharacter(e)},newBuild:t,onClose:n.closeModal,forceUpdate:n.forceUpdateBuildDisplay,editable:r,footer:Object(i.jsx)(S.a,{variant:"danger",onClick:n.closeModal,children:"Close"})})})})},n.closeArtCondModal=function(){return n.setState({showArtCondModal:!1})},n.ArtConditionalModal=function(){var e=n.state,t=e.showArtCondModal,a=e.artifactConditionals,l=[5,4,3].map((function(e){return H.a.getSetsByMaxStarEntries(e).map((function(e){return Object(c.a)(e,1)[0]}))})).flat();return Object(i.jsx)(A.a,{show:t,onHide:n.closeArtCondModal,size:"xl",contentClassName:"bg-transparent",children:Object(i.jsxs)(y.a,{bg:"darkcontent",text:"lightfont",children:[Object(i.jsx)(y.a.Header,{children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)(x.a,{children:Object(i.jsxs)("h5",{children:["Default Artifact Set Effects  ",Boolean(a.length)&&Object(i.jsxs)(k.a,{variant:"success",children:[a.length," Selected"]})]})}),Object(i.jsx)(x.a,{xs:"auto",children:Object(i.jsx)(S.a,{onClick:function(){return n.setState({artifactConditionals:[]})},children:Object(i.jsxs)("span",{children:[Object(i.jsx)(v.a,{icon:_.E})," Reset All"]})})}),Object(i.jsx)(x.a,{xs:"auto",children:Object(i.jsx)(S.a,{variant:"danger",onClick:n.closeArtCondModal,children:Object(i.jsx)(v.a,{icon:_.A})})})]})}),Object(i.jsx)(y.a.Body,{children:Object(i.jsx)(O.a,{children:l.map((function(e){var t,l=H.a.getPieceIcon(e,null===(t=Object.keys(H.a.getPieces(e)))||void 0===t?void 0:t[0]),o=Object(r.a)(H.a.getRarityArr(e)).pop()||1;return Object(i.jsx)(x.a,{className:"mb-2",xs:12,lg:6,xl:4,children:Object(i.jsxs)(y.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(i.jsx)(y.a.Header,{children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)(x.a,{xs:"auto",className:"ml-n3 my-n2",children:Object(i.jsx)(E.a,{src:l,className:"thumb-mid grad-".concat(o,"star m-1"),thumbnail:!0})}),Object(i.jsxs)(x.a,{children:[Object(i.jsx)("h6",{children:Object(i.jsx)("b",{children:H.a.getSetName(e)})}),Object(i.jsx)("span",{children:Object(i.jsx)(V.a,{stars:o})})]})]})}),Object(i.jsx)(y.a.Body,{children:Object(i.jsx)(O.a,{children:Object.keys(H.a.getSetEffectsObj(e)).map((function(t){var r=H.a.getArtifactSetNumStats(e,t),l=0,o=H.a.getSetEffectConditional(e,t);o&&(l=q.a.getConditionalNum(a,{srcKey:e,srcKey2:t}),Object.entries(H.a.getConditionalStats(e,t,l)).forEach((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return r[a]=(r[a]||0)+n})));var s=Object(i.jsx)(W.a,{conditional:o,conditionalNum:l,setConditional:function(a){return n.setState((function(n){return{artifactConditionals:q.a.setConditional(n.artifactConditionals,{srcKey:e,srcKey2:t},a)}}),n.autoGenerateBuilds())},defEle:Object(i.jsxs)(k.a,{variant:"success",children:[t,"-Set"]})});return Object(i.jsxs)(x.a,{xs:12,className:"mb-2",children:[Object(i.jsxs)("h6",{children:[s," ",H.a.getSetEffectText(e,t)]}),r?Object(i.jsx)(O.a,{children:Object.entries(r).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)(x.a,{xs:12,children:[U.a.getStatName(a),": ",n,U.a.getStatUnit(a)]},a)}))}):null]},t)}))})})]})},e)}))})}),Object(i.jsx)(y.a.Footer,{children:Object(i.jsxs)(S.a,{variant:"danger",onClick:n.closeArtCondModal,children:[Object(i.jsx)(v.a,{icon:_.A})," CLOSE"]})})]})})},n.componentDidUpdate=function(e,t){if(t.characterKey!==n.state.characterKey||t.maxBuildsToShow!==n.state.maxBuildsToShow){var a=n.state,r=a.characterKey,i=a.maxBuildsToShow;Object(X.l)("BuildsDisplay.state",{characterKey:r,maxBuildsToShow:i})}if(n.state.characterKey){var c=z.a.get(n.state.characterKey);if(!c)return;var l=Object(X.e)(n.state),o=l.setFilters,s=l.statFilters,u=l.artifactConditionals,d=l.mainStat,m=l.optimizationTarget,_=l.artifactsAssumeFull,v=l.useLockedArts,f=l.ascending;c.buildSetting={setFilters:o,statFilters:s,artifactConditionals:u,mainStat:d,optimizationTarget:m,artifactsAssumeFull:_,useLockedArts:v,ascending:f},z.a.update(c)}},Object(G.a)(),n.state=a.getInitialState(),"BuildsDisplay.state"in localStorage){var s=Object(X.j)("BuildsDisplay.state"),d=s.characterKey,m=void 0===d?"":d,f=s.maxBuildsToShow,N=void 0===f?25:f;n.state=Object(l.a)(Object(l.a)({},n.state),{},{characterKey:m,maxBuildsToShow:N})}if(e.location.characterKey&&(n.state.characterKey=e.location.characterKey),n.state.characterKey){var C,D=z.a.get(n.state.characterKey);D?n.state=Object(l.a)(Object(l.a)({},n.state),null!==(C=null===D||void 0===D?void 0:D.buildSetting)&&void 0!==C?C:{}):n.state.characterKey=""}return M.a.pageview("/build"),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;Promise.all([L.a.getCharacterDataImport(),Y.a.getWeaponDataImport(),H.a.getDataImport()]).then((function(){e.forceUpdate(),e.autoGenerateBuilds()}))}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.worker)||void 0===e||e.terminate(),delete this.worker}},{key:"render",value:function(){var e=this,t=this.state,a=t.characterKey,n=t.modalBuild,r=t.maxBuildsToShow,c=t.builds,l=void 0===c?[]:c,o=z.a.get(a),s=L.a.calculateCharacterWithWeaponStats(o),u=L.a.getName(a,"Character Name"),d=L.a.getDisplayStatKeys(s);return Object(i.jsxs)(N.a,{children:[Object(i.jsx)(this.BuildModal,{build:n,characterKey:a}),Object(i.jsx)(this.ArtConditionalModal,{}),Object(i.jsx)(O.a,{className:"mt-2 mb-2",children:Object(i.jsx)(x.a,{children:Object(i.jsx)(this.BuildGeneratorEditorCard,{statsDisplayKeys:d,initialStats:s})})}),Object(i.jsx)(O.a,{className:"mb-2",children:Object(i.jsx)(x.a,{children:Object(i.jsxs)(y.a,{bg:"darkcontent",text:"lightfont",children:[Object(i.jsx)(y.a.Header,{children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)(x.a,{children:a?Object(i.jsxs)("span",{children:["Showing ",Object(i.jsx)("b",{children:l.length})," Builds generated for ",u]}):Object(i.jsx)("span",{children:"Select a character to generate builds."})}),Object(i.jsx)(x.a,{xs:"auto",children:Object(i.jsx)(p.a,{title:Object(i.jsxs)("span",{children:["Max builds to show: ",Object(i.jsx)("b",{children:r})]}),size:"sm",children:te.map((function(t){return Object(i.jsx)(g.a.Item,{onClick:function(){return e.setState({maxBuildsToShow:t},e.autoGenerateBuilds)},children:t},t)}))})})]})}),Object(i.jsx)(C.a,{children:l.map((function(t,n){return n<r&&Object(i.jsx)(le,{build:t,characterKey:a,index:n,statsDisplayKeys:d,setState:function(t){return e.setState(t)}},Object.values(t.artifactIds).join("_"))}))})]})})})]})}}]),a}(h.a.Component);function ne(e){var t=e.characterKey,a=e.statsDisplayKeys,n=e.initialStats,r=e.disabled,l=e.optimizationTarget,o=e.ascending,s=e.setState;if(!z.a.get(t))return null;var u="VALUE";if("object"===typeof l){var d,m=l.talentKey,f=l.sectionIndex,h=l.fieldIndex,b=null!==(d=L.a.getTalentField(n,m,f,h))&&void 0!==d?d:{},j=L.a.getTalentFieldValue(b,"variant",n),p=L.a.getTalentFieldValue(b,"text",n);u=Object(i.jsxs)("b",{children:[L.a.getTalentName(t,m),": ",Object(i.jsx)("span",{className:"text-".concat(j),children:p})]})}else u=Object(i.jsxs)("b",{children:["Basic Stat: ",Object(i.jsx)("span",{className:"text-".concat(U.a.getStatVariant(l)),children:U.a.getStatNamePretty(l)})]});return Object(i.jsxs)(K.a,{children:[Object(i.jsxs)(g.a,{as:K.a,children:[Object(i.jsx)(g.a.Toggle,{disabled:r,children:Object(i.jsxs)("span",{children:["Sort by ",u]})}),Object(i.jsx)(g.a.Menu,{drop:"up",align:"right",style:{minWidth:"35rem"},children:Object(i.jsx)(O.a,{children:Object.entries(a).map((function(e){var a=Object(c.a)(e,2),r=a[0],l=a[1],o="";return o="basicKeys"===r?"Basic Stats":"genericAvgHit"===r?"Generic Optimization Values":"transReactions"===r?"Transformation Reaction":L.a.getTalentName(t,r,r),Object(i.jsxs)(x.a,{xs:12,md:6,children:[Object(i.jsx)(g.a.Header,{children:Object(i.jsx)("b",{children:o})}),l.map((function(e,t){if("string"===typeof e)return Object(i.jsx)(g.a.Item,{onClick:function(){return s({optimizationTarget:e})},children:U.a.getStatNamePretty(e)},t);var a=L.a.getTalentField(n,e.talentKey,e.sectionIndex,e.fieldIndex);return Object(i.jsx)(g.a.Item,{onClick:function(){return s({optimizationTarget:e})},children:Object(i.jsx)("span",{className:"text-".concat(L.a.getTalentFieldValue(a,"variant",n)),children:L.a.getTalentFieldValue(a,"text",n)})},t)}))]},r)}))})})]}),Object(i.jsxs)(S.a,{onClick:function(){return s((function(e){return{ascending:!e.ascending}}))},disabled:r,children:[Object(i.jsx)(v.a,{icon:o?_.v:_.w,className:"fa-fw"}),Object(i.jsx)("span",{children:o?"Ascending":"Descending"})]})]})}function re(e){var t=e.statKey,a=e.statKeys,n=void 0===a?[]:a,r=e.min,c=e.max,o=e.close,s=e.setFilter,u="%"===U.a.getStatUnit(t),d={disabled:!t,allowEmpty:!0,float:u},m=Object(l.a)(Object(l.a)({},d),{},{placeholder:"MIN",value:r,onValueChange:function(e){return s(t,e,c)}}),f=Object(l.a)(Object(l.a)({},d),{},{placeholder:"MAX",value:c,onValueChange:function(e){return s(t,r,e)}});return Object(i.jsxs)(D.a,{className:"mb-2",children:[Object(i.jsx)(p.a,{as:D.a.Prepend,title:U.a.getStatNamePretty(t,"New Stat"),id:"input-group-dropdown-1",children:n.map((function(e){return Object(i.jsx)(g.a.Item,{onClick:function(){null===o||void 0===o||o(),s(e,r,c)},children:U.a.getStatNamePretty(e)},e)}))}),Object(i.jsx)(P.a,Object(l.a)({},m)),Object(i.jsx)(P.a,Object(l.a)({},f)),Boolean(o)&&Object(i.jsx)(D.a.Append,{children:Object(i.jsx)(S.a,{variant:"danger",onClick:o,children:Object(i.jsx)(v.a,{icon:_.C})})})]})}function ie(e){var t=e.characterKey,a=e.forceUpdate,n=e.className,r=z.a.get(t);if(!r)return null;var c=r.hitMode;return Object(i.jsxs)(y.a,{bg:"lightcontent",text:"lightfont",className:n,children:[Object(i.jsx)(y.a.Header,{children:"Hit Mode Options"}),Object(i.jsxs)(y.a.Body,{children:[Object(i.jsx)(R.a,{hitMode:c,setHitMode:function(e){var n=z.a.get(t);n.hitMode=e,z.a.update(n),a()},className:"w-100"}),Object(i.jsx)(R.b,{character:r,setReactionMode:function(e){var n=z.a.get(t);n.reactionMode=e,z.a.update(n),a()},className:"w-100 mt-2"})]})]})}function ce(e){var t=e.statsDisplayKeys,a=void 0===t?{basicKeys:[]}:t,r=e.statFilters,o=void 0===r?{}:r,s=e.setStatFilters,u=e.className,d=a.basicKeys.filter((function(e){return!Object.keys(o).some((function(t){return t===e}))})),m=function(e,t,a){return s(Object(l.a)(Object(l.a)({},o),{},Object(n.a)({},e,{min:t,max:a})))};return Object(i.jsxs)(y.a,{bg:"lightcontent",text:"lightfont",className:u,children:[Object(i.jsx)(y.a.Header,{children:"Final Stat Filter"}),Object(i.jsx)(y.a.Body,{children:Object(i.jsxs)(O.a,{className:"mb-n2",children:[Object.entries(o).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],r=n.min,u=n.max;return Object(i.jsx)(x.a,{xs:12,children:Object(i.jsx)(re,{statKey:a,statKeys:d,setFilter:m,min:r,max:u,close:function(){delete o[a],s(Object(l.a)({},o))}})},a)})),Object(i.jsx)(x.a,{xs:12,children:Object(i.jsx)(re,{statKeys:d,setFilter:m})})]})})]})}function le(e){var t=e.index,a=e.characterKey,n=e.build,r=e.statsDisplayKeys,o=e.setState;return Object(i.jsx)("div",{children:Object(i.jsxs)(C.a.Item,{variant:t%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:function(){return o({modalBuild:n})},children:[Object(i.jsx)("h5",{children:Object.entries(n.setToSlots).sort((function(e,t){var a=Object(c.a)(e,2),n=(a[0],a[1]),r=Object(c.a)(t,2);r[0];return r[1].length-n.length})).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)(k.a,{variant:"primary",className:"mr-2",children:[n.map((function(e){return H.a.getSlotIcon(e)}))," ",H.a.getSetName(a)]},a)}))}),Object(i.jsx)(F.a,Object(l.a)({},{character:z.a.get(a),newBuild:n,statsDisplayKeys:r,cardbg:t%2?"lightcontent":"darkcontent"}))]})})}ae.initialState={builds:[],generatingBuilds:!1,characterKey:"",setFilters:[{key:"",num:0},{key:"",num:0},{key:"",num:0}],statFilters:{},artifactConditionals:[],mainStat:["","",""],optimizationTarget:"finalATK",artifactsAssumeFull:!1,useLockedArts:!1,ascending:!1,modalBuild:null,showArtCondModal:!1,showCharacterModal:!1,maxBuildsToShow:25,generationProgress:0,generationDuration:0},ae.getInitialState=function(){return Object(X.e)(ae.initialState)},ae.artifactsSlotsToSelectMainStats=["sands","goblet","circlet"]},81:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2),r=a(80),i=a(85),c=a(87),l=a(101),o=a(135),s=function e(){if(Object(c.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};s.getStatName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u[e]||(null===(t=l.d[e])||void 0===t?void 0:t.name)||a},s.getStatNamePretty=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u[e]||(null===(t=l.d[e])||void 0===t?void 0:t.pretty)||(null===(a=l.d[e])||void 0===a?void 0:a.name)||n},s.getStatNameRaw=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=l.d[e])||void 0===t?void 0:t.name)||a},s.getStatNameWithPercent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=s.getStatName(e,t);return a===t||"hp_"!==e&&"atk_"!==e&&"def_"!==e||(a+="%"),a},s.getStatVariant=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=l.d[e])||void 0===t?void 0:t.variant)||a},s.getStatUnit=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"multi"===(null===(t=l.d[e])||void 0===t?void 0:t.unit)?n:(null===(a=l.d[e])||void 0===a?void 0:a.unit)||n},s.fixedUnit=function(e){var t;return"multi"===(null===(t=l.d[e])||void 0===t?void 0:t.unit)?3:"%"===s.getStatUnit(e)?1:0},s.printStat=function(e,t){return d({stats:t,expand:!1},e)},s.getPrintableFormulaStatKeyList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new Set([].concat(Object(i.a)(Object.keys(m)),Object(i.a)(Object.keys(t))));return e.filter((function(e){return a.has(e)}))},s.printFormula=function(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=Object.entries(null!==(a=null===i||void 0===i?void 0:i[e])&&void 0!==a?a:[]).map((function(a){var i,c,l=Object(r.a)(a,2),o=l[0],u=l[1];return Object(n.jsxs)("span",{className:"text-nowrap",children:[" + ",s.printStat(o,t)," * ",null!==(i=null===u||void 0===u||null===(c=u.toFixed)||void 0===c?void 0:c.call(u,3))&&void 0!==i?i:u]},e+o)}));return"function"===typeof(null===m||void 0===m?void 0:m[e])?Object(n.jsxs)("span",{children:[m[e]({stats:t,expand:c}),l]}):Object(n.jsxs)("span",{children:["Basic Stats from artifacts/weapon",l]})};var u=Object.fromEntries(Object.entries(l.d).filter((function(e){var t=Object(r.a)(e,2);t[0];return t[1].variant})).map((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1];return[a,Object(n.jsx)("span",{className:"text-".concat(i.variant," text-nowrap"),children:i.name})]})));function d(e,t){var a,r,i=e.stats,c=e.expand;if(i){if((void 0===c||c)&&(null===m||void 0===m?void 0:m[t]))return Object(n.jsxs)("span",{children:["( ",m[t](e)," )"]});var l=s.getStatNamePretty(t),o=s.getStatUnit(t),u=s.fixedUnit(t),d=(null===i||void 0===i||null===(a=i[t])||void 0===a||null===(r=a.toFixed)||void 0===r?void 0:r.call(a,u))||(null===i||void 0===i?void 0:i[t]);return Object(n.jsxs)("span",{className:"text-nowrap",children:[Object(n.jsx)("b",{children:l})," ",Object(n.jsxs)("span",{className:"text-info",children:[d,o]})]})}}var m={baseATK:function(e){return Object(n.jsxs)("span",{children:[d(e,"characterATK")," + ",d(e,"weaponATK")," "]})},finalATK:function(e){return Object(n.jsxs)("span",{children:[d(e,"baseATK")," * ( 100% + ",d(e,"atk_")," ) + ",d(e,"atk")]})},finalHP:function(e){return Object(n.jsxs)("span",{children:[d(e,"characterHP")," * ( 100% + ",d(e,"hp_")," ) + ",d(e,"hp")]})},finalDEF:function(e){return Object(n.jsxs)("span",{children:[d(e,"characterDEF")," * ( 100% + ",d(e,"def_")," ) + ",d(e,"def")]})},enemyLevel_multi:function(e){return Object(n.jsxs)("span",{children:["( 100 + ",d(e,"characterLevel")," ) / ( ( 100 + ",d(e,"characterLevel")," ) + ( 100 + ",d(e,"enemyLevel")," ) * ( 100% - ",d(e,"enemyDEFRed_")," ) )"]})},heal_multi:function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"heal_")," + ",d(e,"incHeal_")," )"]})},amplificative_dmg_:function(e){return Object(n.jsxs)("span",{children:["25 / 9 * ",d(e,"eleMas")," / ( 1400 + ",d(e,"eleMas")," ) * 100%"]})},transformative_dmg_:function(e){return Object(n.jsxs)("span",{children:["60 / 9 * ",d(e,"eleMas")," / ( 1400 + ",d(e,"eleMas")," ) * 100%"]})},crystalize_eleMas_:function(e){return Object(n.jsxs)("span",{children:["40 / 9 * ",d(e,"eleMas")," / ( 1400 + ",d(e,"eleMas")," ) * 100%"]})},crystalize_hit:function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"crystalize_dmg_")," + ",d(e,"crystalize_eleMas_")," ) * ",d(e,"crystalize_multi")]})}};Object.entries(o.d).forEach((function(e){var t=Object(r.a)(e,2),a=t[0];t[1];m["final_".concat(a,"_critRate_")]=function(e){return Object(n.jsxs)("span",{children:["Min( ",d(e,"critRate_")," + ",d(e,"".concat(a,"_critRate_"))," , 100% )"]})}})),Object.entries(o.c).forEach((function(e){var t=Object(r.a)(e,2),a=t[0];t[1].name;m["".concat(a,"_enemyRes_multi")]=function(e){if(e.stats["".concat(a,"_enemyImmunity")])return Object(n.jsx)("span",{children:"0 (immune)"});var t=(e.stats["".concat(a,"_enemyRes_")]||0)/100;return t<0?Object(n.jsxs)("span",{children:[" 100% - ",d(e,"".concat(a,"_enemyRes_"))," / 2"]}):t>=.75?Object(n.jsxs)("span",{children:[" 1 / ( ",d(e,"".concat(a,"_enemyRes_"))," * 4 + 1)"]}):Object(n.jsxs)("span",{children:[" 100% - ",d(e,"".concat(a,"_enemyRes_"))," "]})}})),Object.entries(o.d).forEach((function(e){var t=Object(r.a)(e,2),a=t[0];t[1];Object.entries(o.c).forEach((function(e){var t=Object(r.a)(e,2),i=t[0];t[1].name;Object.entries(o.e).forEach((function(e){var t=Object(r.a)(e,2),c=t[0];t[1];m["".concat(i,"_").concat(a,"_").concat(c)]=function(e){return Object(n.jsxs)("span",{children:[d(e,"finalATK")," * ",d(e,"".concat(i,"_").concat(a,"_").concat(c,"_multi"))]})}})),m["".concat(i,"_").concat(a,"_hit_base_multi")]=function(e){return Object(n.jsxs)("span",{children:["100% + ",d(e,"dmg_")," + ",d(e,"".concat(i,"_dmg_"))," + ",d(e,"".concat(a,"_dmg_"))]})},m["".concat(a,"_avgHit_base_multi")]=function(e){return Object(n.jsxs)("span",{children:["100% + ",d(e,"critDMG_")," + ",d(e,"final_".concat(a,"_critRate_"))," "]})},m.critHit_base_multi=function(e){return Object(n.jsxs)("span",{children:["100% + ",d(e,"critDMG_")]})},m["".concat(i,"_").concat(a,"_hit_multi")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"".concat(i,"_").concat(a,"_hit_base_multi"))," * ",d(e,"enemyLevel_multi")," * ",d(e,"".concat(i,"_enemyRes_multi"))]})},m["".concat(i,"_").concat(a,"_critHit_multi")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"critHit_base_multi")," * ",d(e,"".concat(i,"_").concat(a,"_hit_multi"))]})},m["".concat(i,"_").concat(a,"_avgHit_multi")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"".concat(a,"_avgHit_base_multi"))," * ",d(e,"".concat(i,"_").concat(a,"_hit_multi"))]})}}))})),Object.entries(o.g).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1],c=i.multi,l=i.variants;if(m["".concat(a,"_multi")]=function(e){return Object(n.jsxs)("span",{children:[c," * ",d(e,"transformative_level_multi")]})},1===l.length){var o=Object(r.a)(l,1)[0];m["".concat(a,"_hit")]=function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"transformative_dmg_")," + ",d(e,"".concat(a,"_dmg_"))," ) * ",d(e,"".concat(a,"_multi"))," * ",d(e,"".concat(o,"_enemyRes_multi"))]})}}else l.forEach((function(e){m["".concat(e,"_").concat(a,"_hit")]=function(t){return Object(n.jsxs)("span",{children:["( 100% + ",d(t,"transformative_dmg_")," + ",d(t,"".concat(a,"_dmg_"))," ) * ",d(t,"".concat(a,"_multi"))," * ",d(t,"".concat(e,"_enemyRes_multi"))]})}}))})),Object.entries(o.a).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1].variants;Object.entries(i).forEach((function(e){var t=Object(r.a)(e,2),i=t[0],c=t[1];m["".concat(i,"_").concat(a,"_multi")]=function(e){return Object(n.jsxs)("span",{children:[c," * ( 100% + ",d(e,"amplificative_dmg_")," + ",d(e,"".concat(a,"_dmg_"))," )"]})},Object.entries(o.e).forEach((function(e){var t=Object(r.a)(e,2),c=t[0];t[1];Object.entries(o.d).forEach((function(e){var t=Object(r.a)(e,2),l=t[0];t[1];m["".concat(i,"_").concat(a,"_").concat(l,"_").concat(c,"_multi")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"".concat(i,"_").concat(l,"_").concat(c,"_multi"))," * ",d(e,"".concat(i,"_").concat(a,"_multi"))]})},m["".concat(i,"_").concat(a,"_").concat(l,"_").concat(c)]=function(e){return Object(n.jsxs)("span",{children:[d(e,"finalATK")," * ",d(e,"".concat(i,"_").concat(a,"_").concat(l,"_").concat(c,"_multi"))]})}}))}))}))}))},83:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o}));a(80);var n=a(82),r=a(93),i=a(97);function c(e,t){return function(e,t){for(var a=new Set(t.map((function(e){return e.key}))),i={},c=Object.keys(e),l=0,o=c;l<o.length;l++){var s,u=o[l],d={},m=Object(r.a)(e[u]);try{for(m.s();!(s=m.n()).done;){var _=s.value;a.has(_.setKey)?d[_.setKey]?d[_.setKey].push(_):d[_.setKey]=[_]:d.null?d.null.push(_):d.null=[_]}}catch(g){m.e(g)}finally{m.f()}i[u]=Object.freeze(d)}var v={},f={},h=[];return function e(a){if(a>=c.length){var l,o=Object(r.a)(t);try{for(o.s();!(l=o.n()).done;){var s,u=l.value,d=u.key,m=u.num;if((null!==(s=v[d])&&void 0!==s?s:0)<m)return}}catch(g){o.e(g)}finally{o.f()}h.push(Object(n.a)({},f))}else{var _=c[a],b=i[_];for(var j in b){var p;v[j]=(null!==(p=v[j])&&void 0!==p?p:0)+1,f[_]=b[j],e(a+1),v[j]-=1}}}(0),h}(e,t).reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){return e*t[1].length}),1)}),0)}function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.hitMode,r=void 0===n?"":n,c=t.autoInfused,l=void 0!==c&&c,o=t.reactionMode,s=void 0===o?null:o,u=t.characterEle,d=void 0===u?"anemo":u,m=t.weaponType,_=void 0===m?"sword":m;if(Object.keys(i.a).includes(e))return"".concat(e,"_elemental_").concat(r);a||(a="catalyst"===_||l);var v="physical";return("elemental"===e||"burst"===e||"skill"===e||a)&&(v=s||d),"".concat(v,"_").concat(e,"_").concat(r)}function o(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object.keys(i.a).includes(e))return e;var n=t.autoInfused,r=void 0!==n&&n,c=t.characterEle,l=void 0===c?"anemo":c,o=t.weaponType,s=void 0===o?"sword":o,u=t.reactionMode;["pyro_vaporize","hydro_vaporize"].includes(u)?u="vaporize":["pyro_melt","cryo_melt"].includes(u)&&(u="melt"),a||(a="catalyst"===s||r);var d="physical";return("elemental"===e||"burst"===e||"skill"===e||a)&&(d=u||l),d}},84:function(e,t,a){"use strict";a.d(t,"h",(function(){return r})),a.d(t,"g",(function(){return n})),a.d(t,"j",(function(){return i})),a.d(t,"l",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"f",(function(){return d})),a.d(t,"m",(function(){return _})),a.d(t,"i",(function(){return v})),a.d(t,"k",(function(){return f}));var n=function(e){return e[Math.floor(Math.random()*e.length)]};function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}var i=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},c=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},l=function(e){return JSON.parse(JSON.stringify(e))},o=function(e,t){return Math.abs(e-t)<=.101},s=function(e,t){return Math.abs(e-t)<=1},u=function(e,t,a){return e<t?t:e>a?a:e},d=function(e){return e.length?e[e.length-1]:null},m=function(e){return u(e,0,100)};function _(e,t,a){return(new Array(a+1).join(t)+e).slice(-a)}function v(e,t){var a=0;e=e.toLowerCase(),t=t.toLowerCase();for(var n=0,r=Math.max(e.length,t.length);n<r;n++){var i=!0;e[n]&&t[n]&&e[n]===t[n]||(i=!1),e[n-1]!==t[n]&&e[n+1]!==t[n]||(i=!0),i||a++}return a}function f(e,t){Object.keys(e).forEach((function(a){"object"===typeof e[a]&&f(e[a],t),"number"===typeof e[a]&&(e[a]=e[a]*t)}))}},89:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(98),r=a(85),i=a(82),c=a(93),l=a(80),o=a(87),s=a(94),u=a(91),d=a(96),m=a(122),_=a(97),v=a(101),f=a(117),h=a(95),g=a(84),b=a(100),j=a(90),p=function(){function e(){if(Object(o.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(s.a)(e,null,[{key:"getFormulaPath",value:function(e,t,a){var n,r=null===(n=this.getCDataObj(e))||void 0===n?void 0:n.formula;if(r){var i;if("auto"===t)for(var c=0,o=["normal","charged","plunging"];c<o.length;c++){var s,u,d=o[c],m=null!==(s=Object.entries(null!==(u=null===r||void 0===r?void 0:r[d])&&void 0!==u?u:{}).find((function(e){return Object(l.a)(e,2)[1]===a})))&&void 0!==s?s:[];if(i=Object(l.a)(m,1)[0]){t=d;break}}else{var _,v,f=null!==(_=Object.entries(null!==(v=null===r||void 0===r?void 0:r[t])&&void 0!==v?v:{}).find((function(e){return Object(l.a)(e,2)[1]===a})))&&void 0!==_?_:[];i=Object(l.a)(f,1)[0]}if(i)return{characterKey:e,talentKey:t,formulaKey:i}}}},{key:"remove",value:function(e){var t=j.a.get(e);t.equippedArtifacts&&Object.values(t.equippedArtifacts).forEach((function(e){return d.a.moveToNewLocation(e,"")})),j.a.remove(e)}}]),e}();p.getCharacterDataImport=function(){return m.b},p.getBaseStatValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.characterKey,r=e.levelKey;if("specializedStatKey"===t)return p.getSpecializedStatKey(n);if("specializedStatVal"===t)return p.getSpeicalizedStatVal(n,r);if("weaponATK"===t)return b.a.getWeaponMainStatValWithOverride(null===e||void 0===e?void 0:e.weapon);if("characterLevel"===t||"enemyLevel"===t)return p.getLevel(r);if(t.includes("enemyRes_"))return 10;if(t in m.e)return m.e[t];var i=p.getCDataObj(n);return i&&t in i.baseStat?i.baseStat[t][p.getIndexFromlevelkey(r)]:a},p.getCDataObj=function(e){return m.a[e]},p.getElementalName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===_.a||void 0===_.a||null===(t=_.a[e])||void 0===t?void 0:t.name)||a},p.getAllCharacterKeys=function(){return Object.keys(m.a)},p.getName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.name)||a},p.getStar=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.star)||a},p.getElementalKey=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.elementKey)||a},p.getElementalKeys=function(){return Object.keys(_.a)},p.getElementalKeysWithoutPhysical=function(){return p.getElementalKeys().filter((function(e){return"physical"!==e}))},p.getWeaponTypeKey=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.weaponTypeKey)||a},p.getConstellationName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.constellationName)||a},p.getTitles=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.titles)||a},p.getlevelKeys=function(){return Object.keys(m.d)},p.getlevelNames=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===m.d||void 0===m.d||null===(t=m.d[e])||void 0===t?void 0:t.name)||a},p.getIndexFromlevelkey=function(e){return p.getlevelKeys().indexOf(e)},p.getLevel=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(null===m.d||void 0===m.d||null===(t=m.d[e])||void 0===t?void 0:t.level)||a},p.getAscension=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===m.d||void 0===m.d||null===(t=m.d[e])||void 0===t?void 0:t.asend)||a},p.getSpecializedStat=function(e){var t;return null===(t=p.getCDataObj(e))||void 0===t?void 0:t.specializeStat},p.getSpecializedStatKey=function(e){var t;return null===(t=p.getSpecializedStat(e))||void 0===t?void 0:t.key},p.getSpeicalizedStatVal=function(e,t){var a,n;return null===(a=p.getSpecializedStat(e))||void 0===a||null===(n=a.value)||void 0===n?void 0:n[p.getIndexFromlevelkey(t)]},p.getThumb=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.thumbImg)||a},p.getCard=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.cardImg)||a},p.getTalentImg=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(a=p.getTalent(e,t))||void 0===a?void 0:a.img)||n},p.getConstellationImg=function(e,t){var a,n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(a=p.getCDataObj(e))||void 0===a||null===(n=a.talent)||void 0===n||null===(r=n["constellation".concat(t+1)])||void 0===r?void 0:r.img)||i},p.getTalent=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(null===(a=p.getCDataObj(e))||void 0===a||null===(n=a.talent)||void 0===n?void 0:n[t])||r},p.getTalentName=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(null===(a=p.getTalent(e,t))||void 0===a?void 0:a.name)||n},p.getTalentLevelBoost=function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("burst"!==t&&"skill"!==t)return r;for(var i=(null===(n=p.getCDataObj(e))||void 0===n?void 0:n.talent)||{},c=1;c<=a;c++){var o,s=(null===(o=i["constellation".concat(c)])||void 0===o?void 0:o.talentBoost)||{},u=Object.entries(s).find((function(e){var a=Object(l.a)(e,2),n=a[0];a[1];return n===t}));if(u)return u[1]}return r},p.getTalentDocument=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(null===(a=p.getTalent(e,t))||void 0===a?void 0:a.document)||n},p.getTalentDocumentSections=function(e,t){return p.getTalentDocument(e.characterKey,t).map((function(t){return"function"===typeof t?t(e):t}))},p.getTalentField=function(e,t,a,n){var r,i,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!e)return l;var o=null===(r=p.getTalentDocumentSections(e,t))||void 0===r||null===(i=r[a])||void 0===i||null===(c=i.fields)||void 0===c?void 0:c[n];return o?"function"===typeof o?o(e):o:l},p.getTalentFieldValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(null===e||void 0===e?void 0:e[t])?"function"===typeof(null===e||void 0===e?void 0:e[t])?e[t](a):e[t]:n},p.getTalentStats=function(e,t,a,n){var r,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=null===(r=p.getTalent(e,t))||void 0===r?void 0:r.stats;return"function"===typeof c?c(a,n):c||i},p.getTalentStatsAll=function(e,t,a){var n,r=(null===(n=p.getCDataObj(e))||void 0===n?void 0:n.talent)||{},i=[];return Object.keys(r).forEach((function(n){var r=p.getTalentStats(e,n,t,a);r&&i.push(r)})),i},p.getTalentConditional=function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=p.getTalentDocumentSections(e,t),l=null,o=Object(c.a)(i);try{for(o.s();!(n=o.n()).done;){var s,u=n.value,d=u.conditional;if("function"===typeof d&&(d=d(e)),(null===(s=d)||void 0===s?void 0:s.conditionalKey)===a){l=d;break}}}catch(m){o.e(m)}finally{o.f()}return l||r},p.getTalentConditionalStats=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t||!e)return a;var n=h.a.getConditionalProp(e,"stats",t),r=Object(l.a)(n,2),i=r[0],c=void 0===i?{}:i,o=r[1];return o?Object.fromEntries(Object.entries(c).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return"modifiers"===a?[a,n]:[a,n*o]}))):a},p.getTalentConditionalFields=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t||!e)return a;var n=h.a.getConditionalProp(e,"fields",t)[0];return n||a},p.isAutoElemental=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"catalyst"===p.getWeaponTypeKey(e)||t},p.isAutoInfusable=function(e){var t,a,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null===(t=p.getCDataObj(e))||void 0===t||null===(a=t.talent)||void 0===a||null===(n=a.auto)||void 0===n?void 0:n.infusable)||r},p.hasTalentPage=function(e){var t;return Boolean(null===(t=p.getCDataObj(e))||void 0===t?void 0:t.talent)},p.getDisplayStatKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{basicKeys:[]};if(!e)return t;var a=e.characterKey,n=p.getElementalKey(a);if(!n)return t;var c=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(n,"_dmg_")],l=p.isAutoElemental(a),o=p.isAutoInfusable(a);l||c.push("physical_dmg_");var s=Object(g.e)(v.a[n]),u=p.getWeaponTypeKey(a);if(s.includes("shattered_hit")||"claymore"!==u||s.push("shattered_hit"),p.hasTalentPage(a)){var d,m,_={};return Object.keys(null!==(d=null===(m=p.getCDataObj(a))||void 0===m?void 0:m.talent)&&void 0!==d?d:{}).forEach((function(t){var a;return null===(a=p.getTalentDocumentSections(e,t))||void 0===a?void 0:a.forEach((function(a,n){var r;return null===a||void 0===a||null===(r=a.fields)||void 0===r?void 0:r.forEach((function(a,r){var i;((null===a||void 0===a?void 0:a.formula)||(null===(i=p.getTalentField(e,t,n,r))||void 0===i?void 0:i.formula))&&(_[t]||(_[t]=[]),_[t].push({talentKey:t,sectionIndex:n,fieldIndex:r}))}))}))})),Object(i.a)(Object(i.a)({basicKeys:c},_),{},{transReactions:s})}var f=[];if(l||f.push("physical_normal_avgHit","physical_charged_avgHit"),l||o?f.push("".concat(n,"_normal_avgHit"),"".concat(n,"_charged_avgHit")):"bow"===p.getWeaponTypeKey(a)&&f.push("".concat(n,"_charged_avgHit")),f.push("".concat(n,"_skill_avgHit"),"".concat(n,"_burst_avgHit")),"pyro"===n){var h=[];h.push.apply(h,Object(r.a)(f.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_vaporize_"))})))),h.push.apply(h,Object(r.a)(f.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_melt_"))})))),f.push.apply(f,h)}else"cryo"===n?f.push.apply(f,Object(r.a)(f.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_melt_"))})))):"hydro"===n&&f.push.apply(f,Object(r.a)(f.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_vaporize_"))}))));return{basicKeys:c,genericAvgHit:f,transReactions:s}},p.hasOverride=function(e,t){return"finalHP"===t?p.hasOverride(e,"hp")||p.hasOverride(e,"hp_")||p.hasOverride(e,"characterHP")||!1:"finalDEF"===t?p.hasOverride(e,"def")||p.hasOverride(e,"def_")||p.hasOverride(e,"characterDEF")||!1:"finalATK"===t?p.hasOverride(e,"atk")||p.hasOverride(e,"atk_")||p.hasOverride(e,"characterATK")||!1:!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},p.getStatValueWithOverride=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p.hasOverride(e,t)?null!==(a=null===e||void 0===e||null===(n=e.baseStatOverrides)||void 0===n?void 0:n[t])&&void 0!==a?a:r:p.getBaseStatValue(e,t,r)},p.equipArtifacts=function(e,t){var a=j.a.get(e);if(a){var n=a.equippedArtifacts,r=t;u.a.getSlotKeys().forEach((function(t){var a=d.a.get(null===r||void 0===r?void 0:r[t]);if(a.location!==e){var i=d.a.get(null===n||void 0===n?void 0:n[t]),c=(null===a||void 0===a?void 0:a.location)||"";i&&d.a.moveToNewLocation(i.id,c),c&&j.a.equipArtifact(c,i),a&&d.a.moveToNewLocation(a.id,e)}})),a.equippedArtifacts={},Object.entries(t).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return a.equippedArtifacts[n]=r})),j.a.update(a)}},p.calculateBuild=function(e){var t=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,d.a.get(n)]}))),a=p.calculateCharacterWithWeaponStats(e);return p.calculateBuildWithObjs(e.artifactConditionals,a,t)},p.calculateBuildWithObjs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=u.a.setToSlots(a),r=u.a.getArtifactSetEffectsStats(n),i=Object(g.e)(t);Object.values(a).forEach((function(e){e&&(i[e.mainStatKey]=(i[e.mainStatKey]||0)+u.a.getMainStatValue(e.mainStatKey,e.numStars,i.artifactsAssumeFull?4*e.numStars:e.level),e.substats.forEach((function(e){return e&&e.key&&(i[e.key]=(i[e.key]||0)+e.value)})))})),r.forEach((function(e){return i[e.key]=(i[e.key]||0)+e.statVal})),e.forEach((function(e){var t=e.srcKey,a=e.srcKey2,r=e.conditionalNum;!n[t]||n[t].length<parseInt(a)||Object.entries(u.a.getConditionalStats(t,a,r)).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return i[a]=(i[a]||0)+n}))}));var c=Object(f.a)(null===i||void 0===i?void 0:i.modifiers);return Object(v.c)(c,i).formula(i),{artifactIds:Object.fromEntries(Object.entries(a).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),setToSlots:n,finalStats:i,artifactConditionals:e}},p.mergeStats=function(e,t){return t&&Object.entries(t).forEach((function(t){var a,n=Object(l.a)(t,2),r=n[0],i=n[1];if("modifiers"===r){var c;e.modifiers=null!==(c=e.modifiers)&&void 0!==c?c:{};for(var o=0,s=Object.entries(i);o<s.length;o++){var u,d=Object(l.a)(s[o],2),m=d[0],_=d[1];e.modifiers[m]=null!==(u=e.modifiers[m])&&void 0!==u?u:{};for(var v=0,f=Object.entries(_);v<f.length;v++){var h,g=Object(l.a)(f[v],2),b=g[0],j=g[1];e.modifiers[m][b]=(null!==(h=e.modifiers[m][b])&&void 0!==h?h:0)+j}}}else e[r]=(null!==(a=e[r])&&void 0!==a?a:0)+i}))},p.calculateCharacterWithWeaponStats=function(e){var t,a,i,c,o,s,u,d,_,v,f,h,j,y,O,x,S,k=e=Object(g.e)(e),K=k.characterKey,A=k.levelKey,E=k.hitMode,N=k.autoInfused,C=k.reactionMode,D=k.talentLevelKeys,M=k.constellation,T=k.talentConditionals,H=void 0===T?[]:T,w=p.getAscension(A),L=["characterHP","characterATK","characterDEF","weaponATK","characterLevel","enemyLevel","physical_enemyRes_","physical_enemyImmunity"].concat(Object(r.a)(Object.keys(m.e))),B=Object.fromEntries(L.map((function(t){return[t,p.getStatValueWithOverride(e,t)]})));for(var z in B.characterEle=p.getElementalKey(K),B.characterKey=K,B.hitMode=E,B.autoInfused=N&&(null===(t=p.getCDataObj(K))||void 0===t||null===(a=t.talent)||void 0===a||null===(i=a.auto)||void 0===i?void 0:i.infusable),B.reactionMode=C,B.talentConditionals=H,B.weaponType=p.getWeaponTypeKey(K),B.tlvl=D,B.constellation=M,B.ascension=w,B.tlvl)B.tlvl[z]+=p.getTalentLevelBoost(e.characterKey,z,M);p.getElementalKeys().forEach((function(t){var a="".concat(t,"_enemyRes_");B[a]=p.getStatValueWithOverride(e,a),a="".concat(t,"_enemyImmunity"),B[a]=p.getStatValueWithOverride(e,a)}));var R=(null===(c=e)||void 0===c?void 0:c.baseStatOverrides)||{};Object.entries(R).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];"specializedStatKey"!==a&&"specializedStatVal"!==a&&(B.hasOwnProperty(a)||(B[a]=n))}));var F=p.getStatValueWithOverride(e,"specializedStatVal"),I=p.getStatValueWithOverride(e,"specializedStatKey");p.mergeStats(B,Object(n.a)({},I,F)),p.getTalentStatsAll(K,M,w).forEach((function(e){return p.mergeStats(B,e)}));var W=b.a.getWeaponSubStatKey(null===(o=e)||void 0===o||null===(s=o.weapon)||void 0===s?void 0:s.key);return W&&p.mergeStats(B,Object(n.a)({},W,b.a.getWeaponSubStatValWithOverride(null===(u=e)||void 0===u?void 0:u.weapon))),p.mergeStats(B,b.a.getWeaponBonusStat(null===(d=e)||void 0===d||null===(_=d.weapon)||void 0===_?void 0:_.key,null===(v=e)||void 0===v||null===(f=v.weapon)||void 0===f?void 0:f.refineIndex)),p.mergeStats(B,b.a.getWeaponConditionalStat(null===(h=e)||void 0===h||null===(j=h.weapon)||void 0===j?void 0:j.key,null===(y=e)||void 0===y||null===(O=y.weapon)||void 0===O?void 0:O.refineIndex,null===(x=e)||void 0===x||null===(S=x.weapon)||void 0===S?void 0:S.conditionalNum,{})),H.forEach((function(e){var t=e.srcKey,a=e.srcKey2,n=e.conditionalNum,r=p.getTalentConditional(B,t,a);p.mergeStats(B,p.getTalentConditionalStats(r,n,{}))})),B}},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(80),r=a(87),i=a(84),c=!1,l={},o=function e(){if(Object(r.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};o.isInvalid=function(e){return!e||!e.characterKey||!e.levelKey},o.getCharacterDatabase=function(){return Object(i.e)(l)},o.getCharacterKeyList=function(){return Object.keys(l)},o.getIdList=function(){return Object.keys(l)},o.populateDatebaseFromLocalStorage=function(){return!c&&(Object.keys(localStorage).filter((function(e){return e.startsWith("char_")})).forEach((function(e){var t=e.split("char_"),a=Object(n.a)(t,2)[1];if(!l[a]){var r=Object(i.j)(e);if(!r)return;l[a]=r}})),c=!0,!0)},o.update=function(e){if(!o.isInvalid(e)){var t=Object(i.e)(e);Object(i.l)("char_".concat(e.characterKey),t),l[e.characterKey]=t}},o.get=function(e){var t,a;return null!==(t=null===(a=l)||void 0===a?void 0:a[e])&&void 0!==t?t:null},o.remove=function(e){delete l[e],localStorage.removeItem("char_".concat(e))},o.getArtifactIDFromSlot=function(e,t){var a,n,r;return null!==(a=null===(n=o.get(e))||void 0===n||null===(r=n.equippedArtifacts)||void 0===r?void 0:r[t])&&void 0!==a?a:null},o.equipArtifact=function(e,t){var a=o.get(e);a&&t&&t.slotKey&&(a.equippedArtifacts||(a.equippedArtifacts={}),a.equippedArtifacts[t.slotKey]=t.id,o.update(a))},o.unequipArtifactOnSlot=function(e,t){var a,n=o.get(e);n&&t&&(null===n||void 0===n||null===(a=n.equippedArtifacts)||void 0===a?void 0:a[t])&&(n.equippedArtifacts[t]="",o.update(n))},o.equipArtifactBuild=function(e,t){var a=o.get(e);a&&(a.equippedArtifacts=t,o.update(a))},o.unequipAllArtifacts=function(){Object.values(l).forEach((function(e){e.equippedArtifacts={},o.update(e)}))},o.clearDatabase=function(){l={},c=!1}},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a(2),r=a(80),i=a(85),c=a(93),l=a(87),o=a(94),s=a(20),u=a(90),d=a(39),m={flower:d.a,plume:d.i,sands:d.m,goblet:d.H,circlet:d.e},_=a(84),v=a(97),f={},h=Promise.all([a.e(0),a.e(19)]).then(a.bind(null,227));h.then((function(e){f=e.default,h=null}));var g=["hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","heal_"];Object.keys(v.a).forEach((function(e){return g.push("".concat(e,"_dmg_"))}));var b={3:{subsBaselow:1,subBaseHigh:2,numUpgradesOrUnlocks:3},4:{subsBaselow:2,subBaseHigh:3,numUpgradesOrUnlocks:4},5:{subsBaselow:3,subBaseHigh:4,numUpgradesOrUnlocks:5}},j={1:{hp:[129,178,227,275,324],atk:[8,12,15,18,21],hp_:[3.1,4.3,5.5,6.7,7.9],atk_:[3.1,4.3,5.5,6.7,7.9],def_:[3.9,5.4,6.9,8.4,9.9],physical_dmg_:[3.9,5.4,6.9,8.4,9.9],ele_dmg_:[3.1,4.3,5.5,6.7,7.9],eleMas:[13,17,22,27,32],enerRech_:[3.5,4.8,6.1,7.5,8.8],critRate_:[2.1,2.9,3.7,4.5,5.3],critDMG_:[4.2,5.8,7.4,9,10.5],heal_:[2.4,3.3,4.3,5.2,6.1]},2:{hp:[258,331,404,478,551,624,697,770,843],atk:[17,22,26,31,36,41,45,50,55],hp_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],atk_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],def_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1],physical_dmg_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1],ele_dmg_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],eleMas:[17,22,26,31,36,41,45,50,55],enerRech_:[4.7,6,7.3,8.6,9.9,11.3,12.6,13.9,15.2],critRate_:[2.8,3.6,4.4,5.2,6,6.8,7.6,8.3,9.1],critDMG_:[5.6,7.2,8.8,10.4,11.9,13.5,15.1,16.7,18.3],heal_:[3.2,4.1,5.1,6,6.9,7.8,8.7,9.6,10.5]},3:{hp:[430,552,674,796,918,1040,1162,1283,1405,1527,1649,1771,1893],atk:[28,36,44,52,60,68,76,84,91,99,107,115,123],hp_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],atk_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],def_:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],physical_dmg_:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],ele_dmg_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],eleMas:[21,27,33,39,45,51,57,63,69,75,80,86,92],enerRech_:[5.8,7.5,9.1,10.8,12.4,14.1,15.7,17.4,19,20.7,22.3,24,25.6],critRate_:[3.5,4.5,5.5,6.5,7.5,8.4,9.4,10.4,11.4,12.4,13.4,14.4,15.4],critDMG_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8],heal_:[4,5.2,6.3,7.5,8.6,9.8,10.9,12,13.2,14.3,15.5,16.6,17.8]},4:{hp:[645,828,1011,1194,1377,1559,1742,1925,2108,2291,2474,2657,2839,3022,3205,3388,3571],atk:[42,54,66,78,90,102,113,125,137,149,161,173,185,197,209,221,232],hp_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],atk_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],def_:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],physical_dmg_:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],ele_dmg_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],eleMas:[25,32,39,47,54,61,68,75,82,89,97,104,111,118,125,132,139],enerRech_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7],critRate_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7,14.9,16.1,17.3,18.5,19.7,20.8,22,23.2],critDMG_:[8.4,10.8,13.1,15.5,17.9,20.3,22.7,25,27.4,29.8,32.2,34.5,36.9,39.3,41.7,44.1,46.4],heal_:[4.8,6.2,7.6,9,10.3,11.7,13.1,14.4,15.8,17.2,18.6,19.9,21.3,22.7,24,25.4,26.8]},5:{hp:[717,920,1123,1326,1530,1733,1936,2139,2342,2545,2749,2952,3155,3358,3561,3764,3967,4171,4374,4577,4780],atk:[47,60,73,86,100,113,126,139,152,166,179,192,205,219,232,245,258,272,285,298,311],hp_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],atk_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],def_:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],physical_dmg_:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],ele_dmg_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],eleMas:[28,36,44,52,60,68,76,84,91,99,107,115,123,131,139,147,155,163,171,179,187],enerRech_:[7.8,10,12.2,14.4,16.6,18.8,21,23.2,25.4,27.6,29.8,32,34.2,36.4,38.6,40.8,43,45.2,47.4,49.6,51.8],critRate_:[4.7,6,7.3,8.6,9.9,11.3,12.6,13.9,15.2,16.6,17.9,19.2,20.5,21.8,23.2,24.5,25.8,27.1,28.4,29.8,31.1],critDMG_:[9.3,11.9,14.6,17.2,19.9,22.5,25.5,27.8,30.5,33.1,35.8,38.4,41.1,43.7,46.3,49,51.6,54.3,56.9,59.6,62.2],heal_:[5.4,6.9,8.4,10,11.5,13,14.5,16.1,17.6,19.1,20.6,22.2,23.7,25.2,26.7,28.3,29.8,31.3,32.8,34.4,35.9]}},p={hp:{1:[24,30],2:[50,61,72],3:[100,115,129,143],4:[167,191,215,239],5:[209,239,269,299]},hp_:{1:[1.2,1.5],2:[1.6,2,2.3],3:[2.5,2.8,3.2,3.5],4:[3.3,3.7,4.2,4.7],5:[4.1,4.7,5.3,5.8]},atk:{1:[2],2:[3,4,5],3:[7,8,9],4:[11,12,14,16],5:[14,16,18,19]},atk_:{1:[1.2,1.5],2:[1.6,2,2.3],3:[2.5,2.8,3.2,3.5],4:[3.3,3.7,4.2,4.7],5:[4.1,4.7,5.3,5.8]},def:{1:[2],2:[4,5,6],3:[8,9,10,11],4:[13,15,17,19],5:[16,19,21,23]},def_:{1:[1.5,1.8],2:[2,2.5,2.9],3:[3.1,3.5,3.9,4.4],4:[4.1,4.7,5.3,5.8],5:[5.1,5.8,6.6,7.3]},eleMas:{1:[5,6],2:[7,8,9],3:[10,11,13,14],4:[13,15,17,19],5:[16,19,21,23]},enerRech_:{1:[1.3,1.6],2:[1.8,2.2,2.6],3:[2.7,3.1,3.5,3.9],4:[3.6,4.1,4.7,5.2],5:[4.5,5.2,5.8,6.5]},critRate_:{1:[.8,1],2:[1.1,1.3,1.6],3:[1.6,1.9,2.1,2.3],4:[2.2,2.5,2.8,3.1],5:[2.7,3.1,3.5,3.9]},critDMG_:{1:[1.6,1.9],2:[2.2,2.6,3.1],3:[3.3,3.7,4.2,4.7],4:[4.4,5,5.6,6.2],5:[5.4,6.2,7,7.8]}},y=Object.fromEntries(Object.entries(p).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return[a,{max:Object.fromEntries(Object.keys(n).map((function(e){return[e,Object(_.f)(n[e])]}))),min:Object.fromEntries(Object.keys(n).map((function(e){return[e,n[e][0]]})))}]}))),O={flower:{name:"Flower of Life",stats:["hp"]},plume:{name:"Plume of Death",stats:["atk"]},sands:{name:"Sands of Eon",stats:["hp_","def_","atk_","eleMas","enerRech_"]},goblet:{name:"Goblet of Eonothem",stats:["hp_","def_","atk_","eleMas","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_"]},circlet:{name:"Circlet of Logos",stats:["hp_","def_","atk_","eleMas","critRate_","critDMG_","heal_"]}},x=a(81),S=a(95),k=function e(){if(Object(l.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};k.setToSlots=function(e){var t={};return Object.entries(e).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1];i&&(t[i.setKey]?t[i.setKey].push(n):t[i.setKey]=[n])})),t};var K=a(96),A=function(){function e(){if(Object(l.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(o.a)(e,null,[{key:"substatsValidation",value:function(t){var a,n=t.numStars,r=void 0===n?0:n,i=t.level,l=void 0===i?0:i,o=t.substats,s=void 0===o?[]:o,u=Object(c.a)(s);try{for(u.s();!(a=u.n()).done;){var d=a.value,m=d.key,_=d.value,v=e.getSubstatRolls(m,_,r)||[];d.rolls=v[0]||[],v.length>1&&(d.rollArr=v),d.efficiency=e.getSubstatEfficiency(m,d.rolls)}}catch(D){u.e(D)}finally{u.f()}var f=e.getArtifactEfficiency(s,r,l),h=f.currentEfficiency,g=f.maximumEfficiency;t.currentEfficiency=h,t.maximumEfficiency=g;var b,j=[],p=Object(c.a)(s);try{for(p.s();!(b=p.n()).done;){var y,O=b.value;!(null===(y=O.rolls)||void 0===y?void 0:y.length)&&O.key&&O.value&&j.push("One of the substat is invalid.")}}catch(D){p.e(D)}finally{p.f()}if(!j.length&&s.some((function(e){var t;return(null===(t=e.rolls)||void 0===t?void 0:t.length)>1}))&&s.some((function(e){var t;return!(null===(t=e.rolls)||void 0===t?void 0:t.length)}))&&j.push("One of the substat have >1 rolls, but not all substats are unlocked."),r){var x=s.reduce((function(e,t){var a;return e+((null===(a=t.rolls)||void 0===a?void 0:a.length)||0)}),0),S=e.getBaseSubRollNumLow(r)+Math.floor(l/4);if(x<S){var k,K=Object(c.a)(s);try{var A=function(){var a,n=k.value,i=null===(a=n.rolls)||void 0===a?void 0:a.length;if(!i||!n.rollArr)return"continue";var c=n.rollArr.filter((function(e){return e.length>i}));if(c.length){n.rolls=c[0],c.length>1?n.rollArr=c:delete n.rollArr,n.efficiency=e.getSubstatEfficiency(n.key,n.rolls);var o=e.getArtifactEfficiency(s,r,l),u=o.currentEfficiency,d=o.maximumEfficiency;t.currentEfficiency=u,t.maximumEfficiency=d}return(x=s.reduce((function(e,t){var a;return e+((null===(a=t.rolls)||void 0===a?void 0:a.length)||0)}),0))>=S?"break":void 0};for(K.s();!(k=K.n()).done;){var E=A();if("continue"!==E&&"break"===E)break}}catch(D){K.e(D)}finally{K.f()}}if(x<S)j.push("Artifact should have at least ".concat(S," Rolls, it currently only have ").concat(x," Rolls."));else{var N=e.rollsRemaining(l,r),C=e.totalPossibleRolls(r);x+N>C&&j.push("Current number of substat rolles(".concat(x,") + Rolls remaining from level up (").concat(N,") is greater than the total possible roll of this artifact (").concat(C,") "))}}return j}},{key:"getArtifactEfficiency",value:function(t,a,n){if(!a)return{currentEfficiency:0,maximumEfficiency:0};var r=e.totalPossibleRolls(5),c=e.rollsRemaining(n,a),l=t.reduce((function(e,t){var a;return e+((null===t||void 0===t?void 0:t.efficiency)*(null===t||void 0===t||null===(a=t.rolls)||void 0===a?void 0:a.length)||0)}),0),o=t.filter((function(e){return e.key})).map((function(e){return e.key})),s=100*Math.max.apply(Math,Object(i.a)((4===o.length?o:Object.keys(y)).map((function(t){return e.getSubstatAllMax(t,a)/e.getSubstatAllMax(t)}))));return{currentEfficiency:Object(_.b)(l/r),maximumEfficiency:Object(_.b)((l+c*s)/r)}}},{key:"equipArtifactOnChar",value:function(e,t){var a=K.a.get(e);if(a){var n=a.location,r=t||"";if(n!==r){var i=a.slotKey,c=u.a.getArtifactIDFromSlot(r,i),l=K.a.get(c);l?K.a.swapLocations(a,l):K.a.moveToNewLocation(a.id,r),r&&u.a.equipArtifact(r,a),n&&(l?u.a.equipArtifact(n,l):u.a.unequipArtifactOnSlot(n,i))}}}}]),e}();A.getDataImport=function(){return h},A.getSetKeys=function(){return Object.keys(f||{})},A.getSetName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===f||void 0===f||null===(t=f[e])||void 0===t?void 0:t.name)||a},A.getSetsByMaxStarEntries=function(e){return Object.entries(f||{}).filter((function(t){var a=Object(r.a)(t,2)[1];return a.rarity[a.rarity.length-1]===e}))},A.getPieces=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null===f||void 0===f||null===(t=f[e])||void 0===t?void 0:t.pieces)||a},A.getPieceName=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return A.getPieces(e)[t]||a},A.getPieceIcon=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===f||void 0===f||null===(a=f[e])||void 0===a||null===(n=a.icons)||void 0===n?void 0:n[t])||r},A.getSetEffectsObj=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null===f||void 0===f||null===(t=f[e])||void 0===t?void 0:t.setEffects)||a},A.getArtifactSetNumStats=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(_.e)((null===(a=A.getSetEffectsObj(e))||void 0===a||null===(n=a[t])||void 0===n?void 0:n.stats)||r)},A.getArtifactSetEffectsStats=function(e){var t=[];return Object.entries(e).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1];return Object.entries(A.getSetEffectsObj(n)).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],c=a[1];return parseInt(n)<=i.length&&c.stats&&Object.keys(c.stats).length&&Object.entries(c.stats).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1];return t.push({key:n,statVal:i})}))}))})),t},A.getSetEffects=function(e){var t={};return Object.entries(e).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1],c=Object.keys(A.getSetEffectsObj(n)).filter((function(e){return parseInt(e)<=i.length}));c.length&&(t[n]=c)})),t},A.getSetEffectText=function(e,t,a){var n,r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=null===(n=A.getSetEffectsObj(e))||void 0===n||null===(r=n[t])||void 0===r?void 0:r.text;return c?"function"===typeof c?c(a):c||i:i},A.getSetEffectConditional=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(a=A.getSetEffectsObj(e))||void 0===a||null===(n=a[t])||void 0===n?void 0:n.conditional)||r},A.getSlotKeys=function(){return Object.keys(O||{})},A.getSlotName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===O||void 0===O||null===(t=O[e])||void 0===t?void 0:t.name)||a},A.getSlotIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&m[e]?Object(n.jsx)(s.a,{icon:m[e],className:"fa-fw"},e):t},A.getSlotMainStatKeys=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===O||void 0===O||null===(t=O[e])||void 0===t?void 0:t.stats)||a},A.getSlotNameWithIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;var a=A.getSlotName(e);if(!a)return t;var r=A.getSlotIcon(e);return r?Object(n.jsxs)("span",{children:[r," ",a]}):t},A.splitArtifactsBySlot=function(e){return Object.fromEntries(A.getSlotKeys().map((function(t){return[t,Object.values(e).filter((function(e){return e.slotKey===t}))]})))},A.getStars=function(){return Object.keys(b||{}).map((function(e){return parseInt(e)}))},A.getRarityArr=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===f||void 0===f||null===(t=f[e])||void 0===t?void 0:t.rarity)||a},A.getMainStatKeys=function(){return Object(_.e)(g)},A.getMainStatValues=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(null===j||void 0===j||null===(a=j[e])||void 0===a?void 0:a[t])||n},A.getMainStatValue=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=A.getMainStatValues(t,e)[a];return r||((null===e||void 0===e?void 0:e.includes("_dmg_"))?A.getMainStatValue("ele_dmg_",t,a,n):n)},A.getBaseSubRollNumLow=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===b||void 0===b||null===(t=b[e])||void 0===t?void 0:t.subsBaselow)||a},A.getBaseSubRollNumHigh=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===b||void 0===b||null===(t=b[e])||void 0===t?void 0:t.subBaseHigh)||a},A.getNumUpgradesOrUnlocks=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===b||void 0===b||null===(t=b[e])||void 0===t?void 0:t.numUpgradesOrUnlocks)||a},A.getSubstatAllMax=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==(t=null===y||void 0===y||null===(a=y[e])||void 0===a?void 0:a.max[n])&&void 0!==t?t:r},A.getSubStatKeys=function(){return Object.keys(p||{})},A.subStatCloseEnough=function(e,t,a){return"%"===x.a.getStatUnit(e)?Object(_.c)(t,a):Object(_.d)(t,a)},A.totalPossibleRolls=function(e){return b[e]?b[e].subBaseHigh+b[e].numUpgradesOrUnlocks:0},A.rollsRemaining=function(e,t){return Math.ceil((4*t-e)/4)},A.numberOfSubstatUnlocked=function(e){return e.substats.reduce((function(e,t){return e+(t&&t.value?1:0)}),0)},A.getSubstatRollData=function(e,t){var a,n;return null!==(a=null===p||void 0===p||null===(n=p[e])||void 0===n?void 0:n[t])&&void 0!==a?a:[]},A.getSubstatRolls=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!a||!e||"number"!==typeof t||!t)return n;var r=A.getSubstatRollData(e,a);if(!r.length)return n;if(r.includes(t))return[[t]];if(t>r[r.length-1]*(A.getNumUpgradesOrUnlocks(a)+2))return n;var c="%"===x.a.getStatUnit(e),l=[],o=Math.round(t/r[0]);if(!o)return n;var s=function e(a,n){if(n.length){if(n.length>o)return;var s=n.reduce((function(e,t){return e+t}),0);if(c){if(s-a>=.101)return;if(Object(_.c)(s,a))return l.push(n)}else{if(s-a>1)return;if(Object(_.d)(s,a))return l.push(n)}}r.slice().reverse().forEach((function(a){(!n.length||n[n.length-1]>=a)&&e(t,[].concat(Object(i.a)(n),[a]))}))};return s(t,[]),l},A.getSubstatEfficiency=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.length,n=t.reduce((function(e,t){return e+t}),0),r=A.getSubstatAllMax(e)*a;return r?Object(_.b)(n/r*100):0},A.setToSlots=k.setToSlots,A.getConditionalStats=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!a)return n;var i=A.getSetEffectConditional(e,t);if(!i)return n;var c=S.a.getConditionalProp(i,"stats",a),l=Object(r.a)(c,2),o=l[0],s=l[1];return s?Object.fromEntries(Object.entries(o).map((function(e){var t=Object(r.a)(e,2);return[t[0],t[1]*s]}))):n},A.getAllArtifactSetEffectsObj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return Object.entries(f).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1],c={};i.setEffects&&Object.entries(i.setEffects).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];Object.keys(n.stats||{}).length>0&&(c[a]=Object(_.e)(n.stats))})),Object.keys(c).length>0&&(t[n]=c)})),e.forEach((function(e){var a,n,i=e.srcKey,c=e.srcKey2,l=e.conditionalNum,o=A.getConditionalStats(i,c,l);Object.keys(o).length>0&&(null!==(a=t[i])&&void 0!==a||(t[i]={}),null!==(n=t[i][c])&&void 0!==n||(t[i][c]={}),Object.entries(o).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],l=a[1];return t[i][c][n]=(t[i][c][n]||0)+l})))})),t}},95:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(93),r=a(87),i=a(94),c=a(84),l=function(){function e(){if(Object(r.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(i.a)(e,null,[{key:"getConditionalNum",value:function(e,t){var a,n=t.srcKey,r=t.srcKey2;if(e)return(null===(a=e.find((function(e){return e.srcKey===n&&(!r||r&&e.srcKey2===r)})))||void 0===a?void 0:a.conditionalNum)||0}},{key:"setConditional",value:function(e,t,a){var n=t.srcKey,r=t.srcKey2;e||(e=[]);var i=e.findIndex((function(e){return e.srcKey===n&&(!r||r&&e.srcKey2===r)}));if(!a&&i>=0)e.splice(i,1);else{if(!a&&i<0)return e;var c={srcKey:n,conditionalNum:a};r&&(c.srcKey2=r),i>=0?e[i]=c:e.push(c)}return e}},{key:"getConditionalProp",value:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[{},0];if(Array.isArray(e)){var i,l=a,o=null,s=Object(n.a)(e);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(!(l>u.maxStack)){o=u;break}l-=u.maxStack}}catch(_){s.e(_)}finally{s.f()}if(!o)return r;var d=Object(c.a)(l,1,o.maxStack);return[o[t],d]}var m=Object(c.a)(a,1,e.maxStack);return[e[t],m]}}]),e}()},96:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(87),r=a(84),i=!1,c={},l=1,o=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};o.isInvalid=function(e){return!e||!e.setKey||!e.numStars||!e.slotKey||!e.mainStatKey},o.getArtifactDatabase=function(){return Object(r.e)(c)},o.getIdList=function(){return Object.keys(c)},o.populateDatebaseFromLocalStorage=function(){return!i&&(Object.keys(localStorage).filter((function(e){return e.startsWith("artifact_")})).forEach((function(e){if(!c[e]){var t=Object(r.j)(e);if(!t)return;if(o.isInvalid(t))return void o.removeArtifactById(e);c[e]=t}})),i=!0,!0)},o.get=function(e){var t;return null!==(t=c[e])&&void 0!==t?t:null},o.removeArtifact=function(e){o.removeArtifactById(e.id)},o.update=function(e){if(!o.isInvalid(e)){var t=e.id;if(!t){do{t="artifact_".concat(l++)}while(null!==localStorage.getItem(t));e.id=t}var a=Object(r.e)(e);Object(r.l)(t,a),c[t]=a}},o.removeArtifactById=function(e){delete c[e],localStorage.removeItem(e)},o.moveToNewLocation=function(e,t){if(e){var a=o.get(e);a&&a.location!==t&&(a.location=t,o.update(a))}},o.swapLocations=function(e,t){var a=e.location,n=t.location;o.moveToNewLocation(e.id,n),o.moveToNewLocation(t.id,a)},o.swapLocationsById=function(e,t){return o.swapLocations(o.get(e),o.get(t))},o.unequipAllArtifacts=function(){Object.values(c).forEach((function(e){e.location="",o.update(e)}))},o.clearDatabase=function(){c={},i=!1,l=1}},97:function(e,t,a){"use strict";t.a={physical:{name:"Physical"},anemo:{name:"Anemo"},geo:{name:"Geo"},electro:{name:"Electro"},hydro:{name:"Hydro"},pyro:{name:"Pyro"},cryo:{name:"Cryo"}}}}]);
//# sourceMappingURL=12.470f38c0.chunk.js.map