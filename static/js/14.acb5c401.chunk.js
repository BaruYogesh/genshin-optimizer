(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[14],{184:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(28),c=a(14),r=a(50),i=a(1),s=function(){return Object(i.jsx)(r.a,{icon:c.x})},l=function(e){var t=e.stars,a=e.colored,c=void 0!==a&&a;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(n.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},186:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(3),c=a(0),r=a(119),i=a(1);function s(e){var t=e.value,a=e.onChange,s=e.className,l=void 0===s?"":s,o=e.disabled,u=void 0!==o&&o,j=e.float,d=void 0!==j&&j,b=e.placeholder,f=e.allowEmpty,h=void 0!==f&&f,O=e.max,x=e.min,m=Object(c.useState)(""),v=Object(n.a)(m,2),p=v[0],y=v[1],g=Object(c.useCallback)((function(){if(h&&""===p)return a(void 0);if(""===p)return a(0);var e=d?parseFloat:parseInt;a(e(p))}),[a,p,d,h]);return Object(c.useEffect)((function(){var e;return y(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,y]),Object(i.jsx)(r.a,{value:p,"aria-label":"custom-input",className:"hide-appearance ".concat(l),type:"number",placeholder:b,onChange:function(e){return y(e.target.value)},onBlur:g,disabled:u,onKeyDown:function(e){return"Enter"===e.key&&g()},max:O,min:x})}},199:function(e,t,a){"use strict";function n(e,t){switch(t){case"%":return(Math.round(10*e)/10).toFixed(1);case"eff":return e.toFixed(2)+"%";default:return Math.round(e).toFixed(0)}}a.d(t,"a",(function(){return n}))},200:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a(14),c=a(50),r=a(53),i=a(1),s={flower:n.a,plume:n.i,sands:n.l,goblet:n.H,circlet:n.e};function l(e){return Object(i.jsx)(c.a,{icon:s[e],className:"fa-fw"},e)}function o(e){var t=e.slotKey,a=Object(r.a)("artifact").t,n=l(t);return Object(i.jsxs)("span",{children:[n," ",a("slotName.".concat(t))]})}},205:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(77),c=a(107),r=a(42),i=a(104),s=a(1);function l(e){var t=e.onSelect;return Object(s.jsx)(s.Fragment,{children:r.a._getCharKeys().sort((function(e,t){return e<t?-1:e>t?1:0})).map((function(e){return Object(s.jsx)(o,{characterKey:e,onSelect:t},e)}))})}function o(e){var t=e.characterKey,a=e.onSelect,r=Object(i.b)(c.b.get(t),[t]);return r?Object(s.jsx)(n.a.Item,{onClick:function(){return a(t)},children:r.name}):null}},210:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(3),c=a(14),r=a(50),i=a(0),s=a(484),l=a(25),o=a(58),u=a(30),j=a(56),d=a(181),b=a(9),f=a(1);function h(e){var t,a,h=e.pageKey,O=void 0===h?"":h,x=e.text,m=void 0===x?"":x,v=e.modalTitle,p=void 0===v?"":v,y=e.children,g=Object(i.useState)(null===(t=null===(a=Object(b.m)("infoShown"))||void 0===a?void 0:a[O])||void 0===t||t),S=Object(n.a)(g,2),w=S[0],k=S[1],N=Object(i.useState)(Array.isArray(m)?Object(b.h)(m):m),K=Object(n.a)(N,1)[0],C=function(){var e,t=null!==(e=Object(b.m)("infoShown"))&&void 0!==e?e:{};t[O]=!1,Object(b.q)("infoShown",t),k(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{show:w,onHide:function(){return C()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(f.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(f.jsx)(l.a.Header,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(l.a.Title,{children:p})}),Object(f.jsx)(u.a,{xs:"auto",children:Object(f.jsx)(j.a,{variant:"danger",onClick:function(){return C()},children:Object(f.jsx)(r.a,{icon:c.z})})})]})}),Object(f.jsx)(l.a.Body,{children:Object(f.jsx)(i.Suspense,{fallback:Object(f.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(f.jsx)(d.a,{animation:"border",variant:"primary"})]}),children:y})}),Object(f.jsx)(l.a.Footer,{children:Object(f.jsx)(j.a,{variant:"danger",onClick:function(){return C()},children:Object(f.jsx)("span",{children:"Close"})})})]})}),Object(f.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(f.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)("small",{children:K})}),Object(f.jsx)(u.a,{xs:"auto",children:Object(f.jsx)(j.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return k(!0)},children:Object(f.jsx)(r.a,{icon:c.r})})})]})})})]})}},211:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a(3),c=a(14),r=a(50),i=a(0),s=a(146),l=a(56),o=a(189),u=a(25),j=a(30),d=a(77),b=a(198),f=a(203),h=a(58),O=a(202),x=a(107),m=a(205),v=a(184),p=a(42),y=a(16),g=a(66),S=a(104),w=a(199),k=a(43),N=a(105),K=a(200),C=a(212),A=a(1),E=new Set(g.b);function I(e){var t,a,g,I,L,M,F,T=e.artifactId,R=e.artifactObj,U=e.onEdit,P=e.onDelete,D=e.mainStatAssumptionLevel,z=void 0===D?0:D,W=e.effFilter,B=void 0===W?E:W,H=Object(i.useState)(void 0),V=Object(n.a)(H,2),q=V[0],_=V[1];Object(i.useEffect)((function(){return T?p.a.followArt(T,_):void 0}),[T,_]);var G=Object(S.b)(N.a.get(null===(t=null!==R&&void 0!==R?R:T?p.a._getArt(T):void 0)||void 0===t?void 0:t.setKey),[R,T]),J=function(e){return p.a.setLocation(T,e)},Y=!R,$=null!==R&&void 0!==R?R:q,Q=Object(S.b)(x.b.get(null!==(a=null===$||void 0===$?void 0:$.location)&&void 0!==a?a:""),[null===$||void 0===$?void 0:$.location]);if(!$)return null;void 0===$.substats[0].rolls&&k.a.substatsValidation($);var X=$.id,Z=$.slotKey,ee=$.numStars,te=$.level,ae=$.mainStatKey,ne=$.substats,ce=$.lock,re=Math.max(Math.min(z,4*ee),te),ie=Object(A.jsxs)("span",{className:re!==te?"text-orange":"",children:[null!==(g=k.a.mainStatValue(ae,ee,re))&&void 0!==g?g:"",y.a.getStatUnit(ae)]}),se=k.a.getArtifactEfficiency($,B),le=se.currentEfficiency,oe=se.maxEfficiency,ue=0!==oe,je=null!==(I=null===Q||void 0===Q?void 0:Q.name)&&void 0!==I?I:"Inventory";return Object(A.jsxs)(u.a,{className:"h-100",border:"".concat(ee,"star"),bg:"lightcontent",text:"lightfont",children:[Object(A.jsx)(u.a.Header,{className:"p-0",children:Object(A.jsxs)(h.a,{children:[Object(A.jsx)(j.a,{xs:2,md:3,children:Object(A.jsx)(b.a,{src:null!==(L=null===G||void 0===G?void 0:G.slotIcons[Z])&&void 0!==L?L:"",className:"w-100 h-auto grad-".concat(ee,"star m-1"),thumbnail:!0})}),Object(A.jsxs)(j.a,{className:"pt-3",children:[Object(A.jsx)("h6",{children:Object(A.jsx)("b",{children:null!==(M=null===G||void 0===G?void 0:G.slotNames[Z])&&void 0!==M?M:"Unknown Piece Name"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)(K.b,{slotKey:Z})," +".concat(te)]})]})]})}),Object(A.jsxs)(u.a.Body,{className:"d-flex flex-column py-2",children:[Object(A.jsxs)(u.a.Title,{children:[Object(A.jsx)("div",{children:null!==(F=null===G||void 0===G?void 0:G.name)&&void 0!==F?F:"Artifact Set"}),Object(A.jsx)("small",{className:"text-halfsize",children:Object(A.jsx)(v.a,{stars:ee})})]}),Object(A.jsx)("h5",{className:"mb-1",children:Object(A.jsxs)("b",{children:[y.a.getStatName(ae)," ",ie]})}),Object(A.jsx)(h.a,{className:"mb-0",children:ne.map((function(e,t){var a,n,c;if(!e.value)return null;var r=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,i=null!==(c=e.efficiency)&&void 0!==c?c:0,l=.3+.7*i,o=y.a.getStatName(e.key);return Object(A.jsxs)(j.a,{xs:12,children:[Object(A.jsx)(s.a,{variant:r?"".concat(r,"roll"):"danger",className:"text-darkcontent",children:Object(A.jsx)("b",{children:r||"?"})})," ",Object(A.jsxs)("span",{className:"text-".concat(r,"roll"),children:[o,"+".concat(Object(w.a)(e.value,y.a.getStatUnit(e.key))).concat(y.a.getStatUnit(e.key))]}),Object(A.jsx)("span",{className:"float-right",style:{opacity:l},children:e.key&&B.has(e.key)?Object(w.a)(i,"eff"):"-"})]},t)}))}),Object(A.jsxs)(h.a,{className:"mt-auto",children:[Object(A.jsxs)(j.a,{children:["Current SS Eff.: ",Object(A.jsx)(C.a,{value:le,valid:ue,className:"float-right"})]}),le!==oe&&Object(A.jsxs)(j.a,{className:"text-right",children:["Max SS Eff.: ",Object(A.jsx)(C.a,{value:oe,valid:ue})]})]})]}),Object(A.jsx)(u.a.Footer,{className:"pr-3",children:Object(A.jsxs)(h.a,{className:"d-flex justify-content-between no-gutters",children:[Y?Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsxs)(d.a,{children:[Object(A.jsx)(d.a.Toggle,{size:"sm",className:"text-left",children:je}),Object(A.jsxs)(d.a.Menu,{children:[Object(A.jsx)(d.a.Item,{onClick:function(){return J("")},children:"Inventory"}),Object(A.jsx)(d.a.Divider,{}),Object(A.jsx)(m.a,{onSelect:J})]})]})}):Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsx)("b",{children:je})}),Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsxs)(o.a,{children:[Y?Object(A.jsx)(f.a,{placement:"top",overlay:Object(A.jsx)(O.a,{id:"lock-artifact-tip",children:"Locking a artifact will prevent the build generator from picking it for builds."}),children:Object(A.jsx)("span",{className:"d-inline-block",children:Object(A.jsx)(l.a,{size:"sm",onClick:function(){return p.a.lockArtifact(X,!ce)},children:Object(A.jsx)(r.a,{icon:ce?c.n:c.o,className:"fa-fw"})})})}):null,!!U&&Object(A.jsx)(l.a,{variant:"info",size:"sm",onClick:U,children:Object(A.jsx)(r.a,{icon:c.h,className:"fa-fw"})}),!!P&&Object(A.jsx)(l.a,{variant:"danger",size:"sm",onClick:P,children:Object(A.jsx)(r.a,{icon:c.C,className:"fa-fw"})})]})})]})})]})}},212:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),c=a(146),r=a(1);function i(e){var t=e.value,a=e.valid,i="number"===typeof t?["".concat(Math.floor(.05*t)+1,"roll"),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(i,2),l=s[0],o=s[1];return a||(l="danger"),Object(r.jsx)(c.a,{variant:l,className:"secondary"===l?"":"text-darkcontent",children:o})}},487:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return xt}));var n=a(197),c=a(54),r=a(3),i=a(10),s=a(28),l=a(14),o=a(50),u=a(0),j=a.n(u),d=a(25),b=a(189),f=a(56),h=a(77),O=a(218),x=a(257),m=a(208),v=a(480),p=a(30),y=a(166),g=a(58),S=a(44),w=a(53),k=a(19),N=a(107),K=a(205),C=a(186),A=a(184),E=a(210),I=a(16),L=a(66),M=a(12),F=a(104),T=a(9),R=a(43),U=a(211),P=a(40),D=a.n(P),z=a(57),W=a(256),B=a(119),H=a(203),V=a(491),q=a(172),_=a(146),G=a(42),J=a(64),Y=a(105),$=a(199);var Q=a(200),X=a(212),Z=a(332),ee=a(173),te=a(484),ae=a(301),ne=a.p+"static/media/scan_art_main.ab1cfe61.png",ce=a.p+"static/media/snippet.d223e797.png",re=a(22),ie=a(29),se=function(){function e(t,a){Object(re.a)(this,e),this.data={},this.init=void 0,this.deinit=void 0,this.init=t,this.deinit=a}return Object(ie.a)(e,[{key:"borrow",value:function(){var e=Object(z.a)(D.a.mark((function e(t,a){var n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data[t]||(this.data[t]={value:this.init(t),refCount:0}),(n=this.data[t]).refCount+=1,e.next=5,a(n.value);case 5:return c=e.sent,n.refCount-=1,n.refCount||(delete this.data[t],this.deinit(t,n.value)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),le=a(1),oe={r:255,g:204,b:50},ue=new se(function(){var e=Object(z.a)(D.a.mark((function e(t){var a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ae.createScheduler)(),n=Array(2).fill(0).map(function(){var e=Object(z.a)(D.a.mark((function e(n){var c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(ae.createWorker)({errorHandler:console.error}),e.next=3,c.load();case 3:return e.next=5,c.loadLanguage(t);case 5:return e.next=7,c.initialize(t);case 7:a.addWorker(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.any(n);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t){t.then((function(e){return e.terminate()}))}));function je(e){var t,a,n,c=e.setState,l=e.setReset,o=e.artifactInEditor,j=Object(u.useState)(!1),b=Object(r.a)(j,2),h=b[0],O=b[1],x=Object(u.useReducer)(be,{processed:[],outstanding:[]}),m=Object(r.a)(x,2),v=m[0],y=v.processed,w=v.outstanding,k=m[1],N=y[0],K=w[0],C=Object(F.b)(null===K||void 0===K?void 0:K.imageURL,[null===K||void 0===K?void 0:K.imageURL]),A=Object(F.b)(null===K||void 0===K?void 0:K.result,[null===K||void 0===K?void 0:K.result]),E=y.length+w.length,I=null!==(t=null===N||void 0===N?void 0:N.imageURL)&&void 0!==t?t:C,L=null!==N&&void 0!==N?N:{},M=L.artifact,T=L.texts,R=null!==(a=null!==(n=null===N||void 0===N?void 0:N.fileName)&&void 0!==n?n:null===K||void 0===K?void 0:K.fileName)&&void 0!==a?a:"Click here to upload Artifact screenshot files";Object(u.useEffect)((function(){!o&&M&&c(M)}),[o,M,c]),Object(u.useEffect)((function(){var e=Math.min(16-y.length,3,w.length),t=e&&!w[0].result;w.slice(0,e).forEach(fe),t&&k({type:"processing"})}),[y.length,w]),Object(u.useEffect)((function(){A&&k(Object(i.a)({type:"processed"},A))}),[A,k]);var U=Object(u.useCallback)((function(){return k({type:"pop"})}),[k]),P=Object(u.useCallback)((function(e){return k({type:"upload",files:Object(s.a)(e).map((function(e){return{file:e,fileName:e.name}}))})}),[k]),D=Object(u.useCallback)((function(){return k({type:"clear"})}),[k]);Object(u.useEffect)((function(){var e=function(e){return P(e.clipboardData.files)};return window.addEventListener("paste",e),null===l||void 0===l||l(U),function(){return window.removeEventListener("paste",e)}}),[l,U,P]);var z=I&&Object(le.jsx)("img",{src:I,className:"w-100 h-auto",alt:"Screenshot to parse for artifact values"});return Object(le.jsxs)(g.a,{children:[Object(le.jsx)(de,{modalShow:h,hide:function(){return O(!1)}}),Object(le.jsx)(p.a,{xs:12,className:"mb-2",children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)("h6",{className:"mb-0",children:"Parse Artifact by Uploading Image"})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsx)(f.a,{variant:"info",size:"sm",onClick:function(){O(!0),S.a.modalview("/artifact/how-to-upload")},children:"Show Me How!"})})]})}),E>0&&Object(le.jsx)(p.a,{xs:12,children:Object(le.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{className:"p-1 ml-2",children:["Screenshots in file-queue: ",Object(le.jsx)("b",{children:E}),!1]}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsx)(f.a,{size:"sm",variant:"danger",onClick:D,children:"Clear file-queue"})})]})})}),Object(le.jsx)(p.a,{xs:8,lg:I?4:0,children:z}),Object(le.jsxs)(p.a,{xs:12,lg:I?8:12,children:[!N&&K&&Object(le.jsxs)("div",{className:"mb-2",children:[Object(le.jsx)("h6",{className:"mb-0",children:"Scanning current artifact"}),Object(le.jsx)(Z.a,{animated:!0,now:100})]}),Object(le.jsx)(ee.a.File,{type:"file",className:"mb-0",label:R,onChange:function(e){P(e.target.files),e.target.value=null},accept:"image/*",custom:!0,multiple:!0}),T&&Object(le.jsxs)("div",{className:"mb-2",children:[Object(le.jsx)("div",{children:T.slotKey}),Object(le.jsx)("div",{children:T.mainStatKey}),Object(le.jsx)("div",{children:T.mainStatVal}),Object(le.jsx)("div",{children:T.numStars}),Object(le.jsx)("div",{children:T.level}),Object(le.jsx)("div",{children:T.substats}),Object(le.jsx)("div",{children:T.setKey})]}),Boolean(!I)&&Object(le.jsx)(ee.a.Label,{className:"mb-0",children:"Please Select an Image, or paste a screenshot here (Ctrl+V)"})]})]})}function de(e){var t=e.modalShow,a=e.hide;return Object(le.jsx)(te.a,{show:t,onHide:a,size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(le.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",children:[Object(le.jsx)(d.a.Header,{children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)(d.a.Title,{children:"How do Upload Screenshots for parsing"})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsx)(f.a,{variant:"danger",onClick:a,children:Object(le.jsx)(o.a,{icon:l.z})})})]})}),Object(le.jsxs)(d.a.Body,{children:[Object(le.jsx)("h5",{className:"text-warning",children:"NOTE: Artifact Scanning currently only work for ENGLISH artifacts."}),Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{xs:8,md:4,children:Object(le.jsx)("img",{alt:"snippet of the screen to take",src:ce,className:"w-100 h-auto"})}),Object(le.jsxs)(p.a,{xs:12,md:8,children:[Object(le.jsx)("p",{children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(le.jsx)("h5",{children:"Where to snip the screenshot."}),Object(le.jsxs)("p",{children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",Object(le.jsx)("b",{children:"Only artifact from this screen can be scanned."})]}),Object(le.jsx)("h6",{children:"Single artifact"}),Object(le.jsxs)("p",{children:["To take a screenshot, in Windows, the shortcut is ",Object(le.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),Object(le.jsx)("h6",{children:"Multiple artifacts"}),Object(le.jsxs)("p",{children:["To take advantage of batch uploads, you can use a tool like ",Object(le.jsx)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),Object(le.jsx)("h5",{children:"What to include in the screenshot."}),Object(le.jsx)("p",{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]})]}),Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{children:[Object(le.jsx)("h5",{children:"Adding Screenshot to Genshin Optimizer"}),Object(le.jsx)("p",{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),Object(le.jsx)("p",{className:"mb-0",children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),Object(le.jsxs)("p",{children:["For single screenshots from the snippets, just press ",Object(le.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),Object(le.jsxs)("p",{children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(le.jsx)("b",{children:"Artifact Editor"}),"."]})]}),Object(le.jsxs)(p.a,{xs:12,children:[Object(le.jsx)("h5",{children:"Finishing the Artifact"}),Object(le.jsxs)("p",{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",Object(le.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]}),Object(le.jsx)("img",{alt:"main screen after importing stats",src:ne,className:"w-75 h-auto"})]})]})]}),Object(le.jsx)(d.a.Footer,{children:Object(le.jsx)(f.a,{variant:"danger",onClick:a,children:Object(le.jsx)("span",{children:"Close"})})})]})})}var be=function(e,t){switch(t.type){case"upload":return{processed:e.processed,outstanding:[].concat(Object(s.a)(e.outstanding),Object(s.a)(t.files))};case"processing":return{processed:e.processed,outstanding:Object(s.a)(e.outstanding)};case"processed":return e.outstanding[0].file===t.file?{processed:[].concat(Object(s.a)(e.processed),[t.result]),outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function fe(e){if(!e.result){var t=e.file,a=e.fileName;e.imageURL=We(t),e.result=e.imageURL.then(function(){var e=Object(z.a)(D.a.mark((function e(n){var c,i,s,l,o,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.getAll();case 2:return c=e.sent,e.next=5,Ve(n);case 5:return i=e.sent,s=Je(c,i.rarities,Ye(i.artifactSetTexts,c),Xe(i.whiteTexts),tt(i.substatTexts),Ze(i.whiteTexts),et(i.whiteTexts)),l=Object(r.a)(s,2),o=l[0],u=l[1],e.abrupt("return",{file:t,result:{fileName:a,imageURL:n,artifact:o,texts:u}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}var he,Oe,xe,me,ve,pe,ye,ge,Se,we,ke,Ne,Ke,Ce,Ae,Ee,Ie,Le,Me,Fe,Te,Re,Ue,Pe,De,ze,We=function(e){return new Promise((function(t){var a=new FileReader;a.onloadend=function(e){var a=e.target;return t(a.result)},a.readAsDataURL(e)}))},Be=function(e){return new Promise((function(t){var a=new Image;a.onload=function(e){var a=e.target;return t(function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,a.drawImage(e,0,0,e.width,e.height),a.getImageData(0,0,e.width,e.height)}(a))},a.src=e}))};function He(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}function Ve(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(z.a)(D.a.mark((function e(t){var a,n,c,i,s,l,o,u,j,d,b;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(t);case 2:return a=e.sent,n=a.width,c=Math.floor(a.height/2),i={rectangle:{top:c,left:0,width:n,height:c}},s=[_e(at(a,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),_e(at(a,[30,50,80],[160,160,160],{region:"bot"}),i),_e(at(a,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),i)],l=$e(a.data,a.width,a.height),e.next=9,Promise.all(s);case 9:return o=e.sent,u=Object(r.a)(o,3),j=u[0],d=u[1],b=u[2],e.abrupt("return",{whiteTexts:j,substatTexts:d,artifactSetTexts:b,rarities:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(z.a)(D.a.mark((function e(t){var a,n,c,r=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:void 0,n=He(t),e.next=4,ue.borrow("eng",function(){var e=Object(z.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,e.sent.addJob("recognize",n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return c=e.sent,e.abrupt("return",c.data.lines.map((function(e){return e.text})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t,a,n,i,l,o){var u,j=Object(s.a)(new Set([].concat(Object(s.a)(a),["Adventurer","ArchaicPetra"]))),d=-1,b=[{id:"",setKey:"Adventurer",numStars:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1}],f=Object.fromEntries(M.a.map((function(t){var n=0;a.size&&(n+=Object(s.a)(a).reduce((function(a,n){return a+(e[n].rarity.includes(t)?1:0)}),0)/a.size);i.length&&(n+=i.reduce((function(e,a){return e+(R.a.getSubstatRolls(a.key,a.value,t).length?1:0)}),0)/i.length*2);return[t,n]}))),h=Object(c.a)(M.h);try{for(h.s();!(u=h.n()).done;){var O,x=u.value,m=Object(c.a)(R.a.slotMainStats(x));try{var v=function(){for(var t=O.value,i=(n.has(x)?1:0)+(l.has(t)?1:0),s=o.filter((function(e){return"%"!==e.unit||"%"===I.a.getStatUnit(t)})).map((function(e){return e.mainStatValue})),u=function(){var n=Object(r.a)(m[h],2),l=n[0],o=n[1],u=parseInt(l),f=j.filter((function(t){return e[t].rarity.includes(u)})),O=i+o;if(O+2<d)return"continue";var v,p=Object(c.a)(s);try{var y=function(){var e,n=v.value,r=R.a.mainStatValues(u,t),i=Math.max(0,r.findIndex((function(e){return e>=n}))),s=r[i],l=O+(s===n?1:0),o=Object(c.a)(f);try{for(o.s();!(e=o.n()).done;){var j=e.value,h=l+(a.has(j)?1:0);h>=d&&(h>d&&(b=[]),d=h,b.push({id:"",setKey:j,numStars:u,level:i,slotKey:x,mainStatKey:t,substats:[],location:"",lock:!1}))}}catch(m){o.e(m)}finally{o.f()}};for(p.s();!(v=p.n()).done;)y()}catch(N){p.e(N)}finally{p.f()}if(O>=d){var g,S=Object(c.a)(f);try{for(S.s();!(g=S.n()).done;){var w=g.value,k=O+(a.has(w)?1:0);k>d&&(b=[]),d=k,b.push({id:"",setKey:w,numStars:u,level:0,slotKey:x,mainStatKey:t,substats:[],location:"",lock:!1})}}catch(N){S.e(N)}finally{S.f()}}},h=0,m=Object.entries(f);h<m.length;h++)u()};for(m.s();!(O=m.n()).done;)v()}catch(T){m.e(T)}finally{m.f()}}}catch(T){h.e(T)}finally{h.f()}var p={},y={setKey:new Set,numStars:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},g=b[0],S=R.a.mainStatValue(g.mainStatKey,g.numStars,g.level);g.substats=i.filter((function(e,t){return e.key!==g.mainStatKey&&i.slice(0,t).every((function(t){return t.key!==e.key}))}));for(var w=g.substats.length;w<4;w++)g.substats.push({key:"",value:0});for(var k=0,N=b;k<N.length;k++){var K=N[k];y.setKey.add(K.setKey),y.numStars.add(K.numStars),y.level.add(K.level),y.slotKey.add(K.slotKey),y.mainStatKey.add(K.mainStatKey)}function C(e,t,a){return Object(le.jsxs)(le.Fragment,{children:["Unknown ",t," : Set to ",Object(le.jsx)("span",{className:"text-danger",children:a(e)})]})}function A(e,t,a){return Object(le.jsxs)(le.Fragment,{children:["Detected ",t," ",Object(le.jsx)("span",{className:"text-success",children:a(e)})]})}function E(e,t,a){return Object(le.jsxs)(le.Fragment,{children:["Inferred ",t," ",Object(le.jsx)("span",{className:"text-warning",children:a(e)})]})}function L(e,t,a,n){var c=new Set(Object(s.a)(y[e]).filter((function(e){return t.has(e)})));c.size>1?p[e]=function(e,t,a,n){return Object(le.jsxs)(le.Fragment,{children:["Ambiguous ",a," ",Object(le.jsx)("span",{className:"text-danger",children:n(e)})," : May also be ",t.filter((function(t){return t!==e})).map((function(e,t){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("b",{children:t>0?"/":""}),Object(le.jsx)("span",{className:"text-warning",children:n(e)})]})}))]})}(g[e],Object(s.a)(t),a,n):1===c.size?p[e]=A(g[e],a,n):y[e].size>1?p[e]=C(g[e],a,n):p[e]=E(g[e],a,n)}L("setKey",a,"Set",(function(t){return e[t].name})),L("numStars",t,"Rarity",(function(e){return Object(le.jsxs)(le.Fragment,{children:[e," ",1!==e?"Stars":"Star"]})})),L("slotKey",n,"Slot",(function(e){return Object(le.jsx)(le.Fragment,{children:R.a.slotName(e)})})),L("mainStatKey",l,"Main Stat",(function(e){return Object(le.jsx)(le.Fragment,{children:I.a.getStatNameRaw(e)})})),p.substats=Object(le.jsx)(le.Fragment,{children:g.substats.filter((function(e){return""!==e.key})).map((function(e,t){return Object(le.jsx)("div",{children:A(e,"Sub Stat",(function(e){return Object(le.jsxs)(le.Fragment,{children:[I.a.getStatNameRaw(e.key),"+",e.value,"%"===I.a.getStatUnit(e.key)?"%":""]})}))},t)}))});var F=I.a.getStatUnit(g.mainStatKey);return o.find((function(e){return e.mainStatValue===S}))?l.has(g.mainStatKey)?(p.level=A(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=A(S,"Main Stat value",(function(e){return Object(le.jsxs)(le.Fragment,{children:[Object($.a)(e,F),"%"===F?"%":""]})}))):(p.level=E(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=E(S,"Main Stat value",(function(e){return Object(le.jsxs)(le.Fragment,{children:[Object($.a)(e,F),"%"===F?"%":""]})}))):(p.level=C(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=C(S,"Main Stat value",(function(e){return Object(le.jsxs)(le.Fragment,{children:[Object($.a)(e,F),"%"===F?"%":""]})}))),[g,p]}function Ye(e,t){var a,n=new Set([]),r=Object(c.a)(e);try{for(r.s();!(a=r.n()).done;){var i,s=a.value,l=Object(c.a)(M.b);try{for(l.s();!(i=l.n()).done;){var o=i.value;Object(T.k)(s.replace(/\W/g,""),t[o].name.replace(/\W/g,""))<=2&&n.add(o)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return n}function $e(e,t,a){for(var n=e,c=0,r=0,i=new Set([]),s=0;s<a;s++){for(var l=0,o=!1,u=0;u<t;u++){var j=4*(s*t+u);Qe({r:n[j],g:n[j+1],b:n[j+2]},oe)?o||(o=!0,l++):o=!1}c!==l?(c=l,r=1):c&&++r>=10&&i.add(Object(T.a)(c,3,5))}return i}function Qe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=function(e,t){return Math.abs(e-t)<=a};return n(e.r,t.r)&&n(e.g,t.g)&&n(e.b,t.b)}function Xe(e){var t,a=new Set,n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=Object(c.a)(M.h);try{for(s.s();!(r=s.n()).done;){var l=r.value;Object(T.k)(i.replace(/\W/g,""),R.a.slotName(l).replace(/\W/g,""))<=2&&a.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}function Ze(e){var t,a=new Set([]),n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=Object(c.a)(L.a);try{for(s.s();!(r=s.n()).done;){var l=r.value;i.toLowerCase().includes(I.a.getStatNameRaw(l).toLowerCase())&&a.add(l),l.includes("_bonu")&&Object(T.k)(i.replace(/\W/g,""),I.a.getStatNameRaw(l).replace(/\W/g,""))<=1&&a.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}function et(e){var t,a=[],n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=/(\d+[,|\\.]+\d)%/,s=i.exec(r);s&&a.push({mainStatValue:parseFloat(s[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),(s=(i=/(\d+[,|\\.]\d{3}|\d{2,3})/).exec(r))&&a.push({mainStatValue:parseInt(s[1].replace(/[,|\\.]+/g,""))})}}catch(l){n.e(l)}finally{n.f()}return a}function tt(e){var t,a=[],n=Object(c.a)(e);try{var r=function(){var e=t.value;e=e.replace(/^[\W]+/,"").replace(/\n/,""),L.b.forEach((function(t){var n=I.a.getStatNameRaw(t),c=("%"===I.a.getStatUnit(t)?new RegExp(n+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(n+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);c&&a.push({key:t,value:parseFloat(c[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}))};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}return a}function at(e,t,a,n){for(var c=n.region,r=void 0===c?"all":c,i=n.mode,s=void 0===i?"color":i,l=Uint8ClampedArray.from(e.data),o="top"===r,u="bot"===r,j="all"===r,d="bw"===s,b="invert"===s,f=Math.floor(e.width*(e.height/2)*4),h=0;h<l.length;h+=4){var O=l[h],x=l[h+1],m=l[h+2];(j||o&&h<f||u&&h>f)&&O>=t[0]&&O<=a[0]&&x>=t[1]&&x<=a[1]&&m>=t[2]&&m<=a[2]?d?l[h]=l[h+1]=l[h+2]=0:b&&(l[h]=255-O,l[h+1]=255-x,l[h+2]=255-m):l[h]=l[h+1]=l[h+2]=255}return new ImageData(l,e.width,e.height)}var nt,ct=new Set(L.b);function rt(e){var t,a,c,i=e.artifactIdToEdit,b=e.cancelEdit,x=Object(w.a)("artifact").t,m=Object(u.useReducer)(st,void 0),v=Object(r.a)(m,2),y=v[0],S=v[1],N=Object(F.b)(Y.a.getAll(),[]),K=void 0!==y,E=y?null===N||void 0===N?void 0:N[y.setKey]:void 0;Object(u.useEffect)((function(){if(i&&i!==(null===y||void 0===y?void 0:y.id)){var e=G.a._getArt(i);e&&S({type:"overwrite",artifact:Object(T.d)(e)})}}),[i,null===y||void 0===y?void 0:y.id]);var L=Object(u.useCallback)((function(){var e;null===b||void 0===b||b(),null===(e=nt)||void 0===e||e(),S({type:"reset"})}),[b,S]),M=Object(u.useCallback)((function(e){var t,a,n=e.setKey?N[e.setKey]:E;function c(e,t,a){return e&&t.includes(e)?e:null!==a&&void 0!==a?a:t[0]}e.setKey&&(e.numStars=c(null===y||void 0===y?void 0:y.numStars,n.rarity,Math.max.apply(Math,Object(s.a)(n.rarity))),e.slotKey=c(null===y||void 0===y?void 0:y.slotKey,Object.keys(n.slotNames))),e.numStars&&(e.level=null!==(t=null===y||void 0===y?void 0:y.level)&&void 0!==t?t:0),e.level&&(e.level=Object(T.a)(e.level,0,4*(null!==(a=e.numStars)&&void 0!==a?a:y.numStars))),e.slotKey&&(e.mainStatKey=c(null===y||void 0===y?void 0:y.mainStatKey,R.a.slotMainStats(e.slotKey))),e.mainStatKey&&(e.substats=[0,1,2,3].map((function(t){return y&&y.substats[t].key!==e.mainStatKey?y.substats[t]:{key:"",value:0}}))),S({type:"update",artifact:e})}),[y,N,E,S]),P=Object(u.useCallback)((function(e,t){S({type:"substat",index:e,substat:t})}),[S]),D=!!y&&!Object(J.d)(y).errors.length,z=Object(u.useMemo)((function(){return function(e){var t,a;if(!e)return{isDup:!1};var n=e.id,c=e.setKey,r=e.numStars,i=e.level,s=e.slotKey,l=e.mainStatKey,o=e.substats;if(n)return{isDup:!1};var u=G.a._getArts().filter((function(e){return c===e.setKey&&r===e.numStars&&s===e.slotKey&&l===e.mainStatKey&&i>=e.level&&o.every((function(t,a){return!e.substats[a].key||t.key===e.substats[a].key&&t.value>=e.substats[a].value}))})),j=u.filter((function(e){return i>e.level&&(Math.floor(i/4)===Math.floor(e.level/4)?o.every((function(t,a){return t.key===e.substats[a].key&&t.value===e.substats[a].value})):o.some((function(t,a){return e.substats[a].key?t.value>e.substats[a].value:t.key})))})),d=u.filter((function(e){return i===e.level&&o.every((function(t){return!t.key||e.substats.some((function(e){return t.key===e.key&&t.value===e.value}))}))}));return d.length||j.length?{dupId:null!==(t=null===(a=d[0])||void 0===a?void 0:a.id)&&void 0!==t?t:j[0].id,isDup:d.length>0}:{isDup:!1}}(y)}),[y]),_=z.dupId,$=z.isDup,Z=null!==y&&void 0!==y?y:{},ee=Z.numStars,te=void 0===ee?5:ee,ae=Z.level,ne=void 0===ae?0:ae,ce=Z.slotKey,re=void 0===ce?"flower":ce,ie=y?R.a.substatsValidation(y):[],se=y?R.a.getArtifactEfficiency(y,ct):{},oe=se.currentEfficiency,ue=void 0===oe?0:oe,de=se.maxEfficiency,be=void 0===de?0:de;return Object(le.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",children:[Object(le.jsx)(d.a.Header,{children:Object(le.jsx)(k.a,{t:x,i18nKey:"editor.title",children:"Artifact Editor"})}),Object(le.jsxs)(d.a.Body,{children:[Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{xs:12,lg:6,children:[Object(le.jsxs)(O.a,{className:"w-100 d-flex mb-2",children:[Object(le.jsxs)(h.a,{as:O.a.Prepend,className:"flex-grow-1",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:y?"success":"primary",children:null!==(t=null===E||void 0===E?void 0:E.name)&&void 0!==t?t:x(Oe||(Oe=Object(n.a)(["editor.set.artifactSet"])))}),Object(le.jsx)(h.a.Menu,{children:N&&Y.a.namesByMaxRarities(N).map((function(e,t){var a=Object(r.a)(e,2),n=a[0],c=a[1];return Object(le.jsxs)(j.a.Fragment,{children:[t>0&&Object(le.jsx)(h.a.Divider,{}),Object(le.jsx)(h.a.ItemText,{children:Object(le.jsxs)(k.a,{t:x,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",Object(le.jsx)(A.a,{stars:n})]})}),c.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(le.jsx)(h.a.Item,{onClick:function(){return M({setKey:a})},children:n},a)}))]},n)}))})]}),Object(le.jsx)(W.a,{as:O.a.Append,title:y?Object(le.jsx)(A.a,{stars:te}):x(xe||(xe=Object(n.a)(["editor.rarity"]))),disabled:!E,variant:y?"success":"primary",children:[5,4,3].map((function(e,t){return Object(le.jsx)(h.a.Item,{disabled:!(null===E||void 0===E?void 0:E.rarity.includes(e)),onClick:function(){return M({numStars:e})},children:Object(le.jsx)(A.a,{stars:e})},t)}))})]}),Object(le.jsxs)(O.a,{className:"mb-2",children:[Object(le.jsx)(O.a.Prepend,{children:Object(le.jsx)(O.a.Text,{children:x(me||(me=Object(n.a)(["editor.level"])))})}),Object(le.jsx)(C.a,{value:ne,disabled:!E,placeholder:"0~".concat(4*te),onChange:function(e){return M({level:e})}}),Object(le.jsxs)(O.a.Append,{children:[Object(le.jsx)(f.a,{onClick:function(){return M({level:ne-1})},disabled:!E||0===ne,children:"-"}),te?Object(s.a)(Array(te+1).keys()).map((function(e){return 4*e})).map((function(e){return Object(le.jsx)(f.a,{onClick:function(){return M({level:e})},disabled:!E||ne===e,children:e},e)})):null,Object(le.jsx)(f.a,{onClick:function(){return M({level:ne+1})},disabled:!E||ne===4*te,children:"+"})]})]}),Object(le.jsxs)(O.a,{className:"mb-2",children:[Object(le.jsx)(W.a,{title:Object(le.jsx)(Q.b,{slotKey:re}),disabled:!E,variant:y?"success":"primary",as:O.a.Prepend,children:Object.keys(null!==(a=null===E||void 0===E?void 0:E.slotNames)&&void 0!==a?a:{}).map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return M({slotKey:e})},children:Object(le.jsx)(Q.b,{slotKey:e})},e)}))}),Object(le.jsx)(B.a,{value:null!==(c=null===E||void 0===E?void 0:E.slotNames[y.slotKey])&&void 0!==c?c:x(ve||(ve=Object(n.a)(["editor.unknownPieceName"]))),disabled:!0,readOnly:!0})]}),Object(le.jsxs)(O.a,{className:"mb-2",children:[Object(le.jsxs)(W.a,{title:Object(le.jsx)("b",{children:y?I.a.getStatNameWithPercent(y.mainStatKey):x(pe||(pe=Object(n.a)(["mainStat"])))}),disabled:!E,variant:y?"success":"primary",as:O.a.Prepend,children:[Object(le.jsx)(h.a.ItemText,{children:x(ye||(ye=Object(n.a)(["editor.mainSelect"])))}),R.a.slotMainStats(re).map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return M({mainStatKey:e})},children:I.a.getStatNameWithPercent(e)},e)}))]}),Object(le.jsx)(B.a,{value:y?"".concat(R.a.mainStatValue(y.mainStatKey,te,ne)).concat(I.a.getStatUnit(y.mainStatKey)):x(ge||(ge=Object(n.a)(["mainStat"]))),disabled:!0,readOnly:!0})]}),Object(le.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(le.jsx)(d.a.Body,{className:"py-1 px-2",children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{className:"text-center",children:x(Se||(Se=Object(n.a)(["editor.curSubEff"])))}),Object(le.jsxs)(p.a,{xs:"auto",children:[Object(le.jsx)(X.a,{valid:!ie.length,value:ie.length?"ERR":ue}),Object(le.jsx)(H.a,{placement:"bottom",overlay:Object(le.jsxs)(V.a,{id:"current-efficiency",children:[Object(le.jsx)(V.a.Title,{as:"h5",children:x(we||(we=Object(n.a)(["editor.curSubEff"])))}),Object(le.jsx)(V.a.Content,{children:Object(le.jsx)(k.a,{t:x,i18nKey:"editor.curSubEffDesc"})})]}),children:Object(le.jsx)(o.a,{icon:l.r,className:"ml-2",style:{cursor:"help"}})})]})]})})}),Object(le.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(le.jsx)(d.a.Body,{className:"py-1 px-2",children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{className:"text-center",children:x(ke||(ke=Object(n.a)(["editor.maxSubEff"])))}),Object(le.jsxs)(p.a,{xs:"auto",children:[Object(le.jsx)(X.a,{valid:!ie.length,value:ie.length?"ERR":be}),Object(le.jsx)(H.a,{placement:"bottom",overlay:Object(le.jsxs)(V.a,{id:"max-efficiency",children:[Object(le.jsx)(V.a.Title,{as:"h5",children:x(Ne||(Ne=Object(n.a)(["editor.maxSubEff"])))}),Object(le.jsx)(V.a.Content,{children:Object(le.jsx)(k.a,{t:x,i18nKey:"editor.maxSubEffDesc"})})]}),children:Object(le.jsx)(o.a,{icon:l.r,className:"ml-2",style:{cursor:"help"}})})]})]})})})]}),Object(le.jsx)(p.a,{xs:12,lg:6,children:[0,1,2,3].map((function(e){return Object(le.jsx)(it,{className:"mb-2",index:e,artifact:y,setSubstat:P},e)}))})]}),Object(le.jsxs)(g.a,{className:"mb-n2",children:[Object(le.jsx)(p.a,{xs:12,className:"mb-2",children:Object(le.jsx)(je,{setState:function(e){return S({type:"overwrite",artifact:e})},setReset:function(e){return nt=e},artifactInEditor:K})}),(_||(null===y||void 0===y?void 0:y.id))&&Object(le.jsx)(p.a,{xs:12,className:"mb-2",children:Object(le.jsxs)(g.a,{className:"d-flex justify-content-around mb-n2",children:[Object(le.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(le.jsx)("h6",{className:"text-center",children:x(Ke||(Ke=Object(n.a)(["editor.preview"])))}),Object(le.jsx)("div",{children:Object(le.jsx)(U.a,{artifactObj:y})})]}),Object(le.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(le.jsx)("h6",{className:"text-center",children:x(_?$?Ce||(Ce=Object(n.a)(["editor.dupArt"])):Ae||(Ae=Object(n.a)(["editor.upArt"])):Ee||(Ee=Object(n.a)(["editor.beforeEdit"])))}),Object(le.jsx)("div",{children:Object(le.jsx)(U.a,{artifactId:_||(null===y||void 0===y?void 0:y.id)})})]})]})}),Boolean(ie.length)&&Object(le.jsx)(p.a,{xs:12,className:"mb-2",children:Object(le.jsx)(q.a,{variant:"danger",className:"py-2 px-3 mb-0 ",children:ie.map((function(e,t){return Object(le.jsx)("div",{children:e},t)}))})})]})]}),Object(le.jsxs)(d.a.Footer,{children:[Object(le.jsx)(f.a,{className:"mr-2",onClick:function(){jt(y,y.id),L()},disabled:!D,variant:_?"warning":"primary",children:(null===y||void 0===y?void 0:y.id)?x(Ie||(Ie=Object(n.a)(["editor.btnSave"]))):x(Le||(Le=Object(n.a)(["editor.btnAdd"])))}),Object(le.jsx)(f.a,{className:"mr-2",disabled:!K,onClick:function(){window.confirm(x(he||(he=Object(n.a)(["editor.clearPrompt"]))))&&L()},variant:"success",children:x(Me||(Me=Object(n.a)(["editor.btnClear"])))}),!1,Boolean(_)&&Object(le.jsx)(f.a,{className:"float-right",onClick:function(){jt(y,_),L()},disabled:!D,variant:"success",children:x(Fe||(Fe=Object(n.a)(["editor.btnUpdate"])))})]})]})}function it(e){var t,a=e.index,c=e.artifact,r=e.setSubstat,i=e.className,s=Object(w.a)("artifact").t,l=null!==c&&void 0!==c?c:{},o=l.mainStatKey,u=void 0===o?"":o,j=l.substats,x=void 0===j?[]:j,m=null!==(t=null===c||void 0===c?void 0:c.substats[a])&&void 0!==t?t:{},v=m.key,y=void 0===v?"":v,S=m.value,N=void 0===S?0:S,K=m.rolls,A=void 0===K?[]:K,E=m.efficiency,M=void 0===E?0:E,F=A.reduce((function(e,t){return e+t}),0),T=I.a.getStatUnit(y),U=A.length,P="",D=[],z=0,B=null;if(c){var H=c.numStars,V=R.a.rollInfo(H),q=V.numUpgrades,G=V.high;z=q+G-3-U,D=y?R.a.getSubstatRollData(y,H):[]}var J=7-D.length;if(!U&&y&&N&&(P=P||s(Te||(Te=Object(n.a)(["editor.substat.error.noCalc"])))),z<0&&(P=P||s("editor.substat.error.noOverRoll",{value:z+U})),!P){var Y=Object(le.jsx)(_.a,{variant:0===U?"secondary":"".concat(U,"roll"),className:"text-darkcontent",children:U?s("editor.substat.RollCount",{count:U}):s(Re||(Re=Object(n.a)(["editor.substat.noRoll"])))}),Q=A.map((function(e,t){return Object(le.jsx)("span",{className:"mr-2 text-".concat(J+D.indexOf(e),"roll"),children:Object($.a)(e,T)},t)}));B=Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{children:[Y," ",Q]}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsxs)(k.a,{t:s,i18nKey:"editor.substat.eff",children:["Efficiency: ",Object(le.jsx)(X.a,{valid:!0,value:M||s(Ue||(Ue=Object(n.a)(["editor.substat.noStat"])))})]})})]})}return Object(le.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",className:i,children:[Object(le.jsxs)(O.a,{children:[Object(le.jsxs)(W.a,{title:y?I.a.getStatNameWithPercent(y):s("editor.substat.substatFormat",{value:a+1}),disabled:!c,variant:y?"success":"primary",as:O.a.Prepend,children:[Boolean(y)&&Object(le.jsx)(h.a.Item,{onClick:function(){return r(a,{key:"",value:0})},children:s(Pe||(Pe=Object(n.a)(["editor.substat.noSubstat"])))},y),L.b.filter((function(e){return u!==e&&x.every((function(t){return t.key!==e}))})).map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return r(a,{key:e,value:0})},children:I.a.getStatNameWithPercent(e)},e)}))]}),Object(le.jsx)(C.a,{float:"%"===T,placeholder:s(De||(De=Object(n.a)(["editor.substat.selectSub"]))),value:y?N:void 0,onChange:function(e){return r(a,{key:y,value:null!==e&&void 0!==e?e:0})},disabled:!y,allowEmpty:!0}),Object(le.jsx)(b.a,{size:"sm",as:O.a.Append,children:D.map((function(e,t){var n=Object($.a)(F+e,T);return Object(le.jsx)(f.a,{variant:"".concat(J+t,"roll"),className:"py-0 text-darkcontent",disabled:N&&!U||z<=0,onClick:function(){return r(a,{key:y,value:parseFloat(n)})},children:n},t)}))})]}),Object(le.jsxs)("div",{className:"p-1",children:[P&&Object(le.jsx)(_.a,{variant:"danger",children:s(ze||(ze=Object(n.a)(["ui:error"])))})," ",P||B]})]})}function st(e,t){switch(t.type){case"reset":return;case"substat":var a=t.index,n=t.substat;return e.substats[a]=n,Object(i.a)({},e);case"overwrite":return t.artifact;case"update":return Object(i.a)(Object(i.a)({},e),t.artifact)}}var lt,ot,ut,jt=function(e,t){e.id=null!==t&&void 0!==t?t:"",G.a.updateArt(e)},dt=j.a.lazy((function(){return a.e(19).then(a.bind(null,490))})),bt=["quality","level","efficiency","mefficiency"],ft=function(){return{filterArtSetKey:"",filterStars:[3,4,5],filterLevelLow:0,filterLevelHigh:20,filterSlotKey:"",filterMainStatKey:"",filterSubstats:["","","",""],filterLocation:"",filterLocked:"",ascending:!1,sortType:bt[0],maxNumArtifactsToDisplay:50,effFilter:Object(s.a)(L.b)}};function ht(e,t){return"reset"===t.type?Object(i.a)(Object(i.a)({},ft()),{},{effFilter:e.effFilter}):Object(i.a)(Object(i.a)({},e),t)}function Ot(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return Object(i.a)(Object(i.a)({},t),null!==(e=Object(T.m)("ArtifactDisplay.state"))&&void 0!==e?e:{})}function xt(e){var t,a,P,D=Object(w.a)(["artifact","ui"]).t,z=Object(u.useReducer)(ht,ft(),Ot),W=Object(r.a)(z,2),B=W[0],H=W[1],V=B.effFilter,q=Object(u.useState)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.artToEditId),_=Object(r.a)(q,2),J=_[0],$=_[1],X=Object(u.useState)(0),Z=Object(r.a)(X,2),ee=Z[0],te=Z[1],ae=Object(u.useRef)(null),ne=Object(u.useRef)(null),ce=Object(F.a)(),re=Object(r.a)(ce,2),ie=re[0],se=re[1],oe=Object(F.b)(Y.a.getAll(),[]),ue=Object(u.useMemo)((function(){return new Set(V)}),[V]),je=Object(u.useCallback)((function(e){return G.a.removeArt(e)}),[]),de=Object(u.useCallback)((function(e){var t;$(e),null===ae||void 0===ae||null===(t=ae.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[]),be=Object(u.useCallback)((function(){return $(null)}),[]);Object(u.useEffect)((function(){return S.a.pageview("/artifact"),G.a.followAnyArt(se)}),[se]),Object(u.useEffect)((function(){Object(T.q)("ArtifactDisplay.state",B)}),[B]);var fe,he,Oe=Object(u.useMemo)((function(){var e=B.filterArtSetKey,t=B.filterSlotKey,a=B.filterMainStatKey,n=B.filterStars,r=B.filterLevelLow,s=B.filterLevelHigh,l=B.filterSubstats,o=void 0===l?ft().filterSubstats:l,u=B.filterLocation,j=void 0===u?"":u,d=B.filterLocked,b=void 0===d?"":d,f=B.sortType,h=void 0===f?bt[0]:f,O=B.ascending,x=void 0!==O&&O,m=G.a._getArts(),v=m.filter((function(i){if(b){if("locked"===b&&!i.lock)return!1;if("unlocked"===b&&i.lock)return!1}if("Inventory"===j){if(i.location)return!1}else if("Equipped"===j){if(!i.location)return!1}else if(j&&j!==i.location)return!1;if(e&&e!==i.setKey)return!1;if(t&&t!==i.slotKey)return!1;if(a&&a!==i.mainStatKey)return!1;if(i.level<r||i.level>s)return!1;if(!n.includes(i.numStars))return!1;var l,u=Object(c.a)(o);try{var d=function(){var e=l.value;if(e&&!i.substats.some((function(t){return t.key===e})))return{v:!1}};for(u.s();!(l=u.n()).done;){var f=d();if("object"===typeof f)return f.v}}catch(h){u.e(h)}finally{u.f()}return!0})).map((function(e){switch(h){case"quality":return{value:[e.numStars],art:e};case"level":return{value:[e.level,e.numStars],art:e};case"efficiency":return{value:[R.a.getArtifactEfficiency(e,ue).currentEfficiency],art:e};case"mefficiency":return{value:[R.a.getArtifactEfficiency(e,ue).maxEfficiency],art:e}}return{value:[0],art:e}})).sort((function(e,t){for(var a=0;a<e.value.length;a++)if(e.value[a]!==t.value[a])return(e.value[a]-t.value[a])*(x?1:-1);return 0})).map((function(e){return e.art})),p=v.reduce((function(e,t){return e+(t.location?1:0)}),0),y=v.reduce((function(e,t){return e+(t.lock?1:0)}),0),g=v.length-y;return Object(i.a)({artifacts:v,totalArtNum:m.length,numUnequip:p,numUnlock:y,numLock:g},ie)}),[B,ie,ue]),xe=Oe.artifacts,me=Oe.totalArtNum,ve=Oe.numUnequip,pe=Oe.numUnlock,ye=Oe.numLock,ge=B.filterArtSetKey,Se=B.filterSlotKey,we=B.filterMainStatKey,ke=B.filterStars,Ne=B.filterLevelLow,Ke=B.filterLevelHigh,Ce=B.filterSubstats,Ae=void 0===Ce?ft().filterSubstats:Ce,Ee=B.maxNumArtifactsToDisplay,Ie=B.filterLocation,Le=void 0===Ie?"":Ie,Me=B.filterLocked,Fe=void 0===Me?"":Me,Te=B.sortType,Re=void 0===Te?bt[0]:Te,Ue=B.ascending,Pe=void 0!==Ue&&Ue,De=Object(u.useMemo)((function(){var e=Math.ceil(xe.length/Ee),t=Object(T.a)(ee,0,e-1);return{artifactsToShow:xe.slice(t*Ee,(t+1)*Ee),numPages:e,currentPageIndex:t}}),[xe,ee,Ee]),ze=De.artifactsToShow,We=De.numPages,Be=De.currentPageIndex,He=Object(F.b)(N.b.get(Le),[Le]);fe=Le?"Inventory"===Le?D("locationDisplay",{value:D("filterLocation.inventory")}):"Equipped"===Le?D("filterLocation.currentlyEquipped"):Object(le.jsx)("b",{children:null===He||void 0===He?void 0:He.name}):D("locationDisplay",{value:D("filterLocation.any")}),he="locked"===Fe?Object(le.jsxs)("span",{children:[Object(le.jsx)(o.a,{icon:l.n})," ",D(lt||(lt=Object(n.a)(["lock.locked"])))]}):"unlocked"===Fe?Object(le.jsxs)("span",{children:[Object(le.jsx)(o.a,{icon:l.o})," ",D(ot||(ot=Object(n.a)(["lock.unlocked"])))]}):D("lockDisplay",{value:D("lock.any")});var Ve=Object(u.useMemo)((function(){var e=xe.length!==me?"".concat(xe.length,"/").concat(me):"".concat(me);return Object(le.jsx)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(le.jsx)(d.a.Body,{children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)(b.a,{size:"sm",children:Object(s.a)(Array(We).keys()).map((function(e){return Object(le.jsxs)(f.a,{className:"px-3",variant:Be===e?"success":"primary",onClick:function(){var t;te(e),null===(t=ne.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:[0===e?"Page ":"",e+1]},e)}))})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsxs)(k.a,{t:D,i18nKey:"showingNum",count:ze.length,value:e,children:["Showing ",Object(le.jsx)("b",{children:{count:ze.length}})," out of ",{value:e}," Artifacts"]})})]})})})}),[We,Be,ze.length,xe.length,me,D]);return Object(le.jsxs)(y.a,{className:"mt-2",children:[Object(le.jsx)(E.a,{pageKey:"artifactPage",modalTitle:D(ut||(ut=Object(n.a)(["info.title"]))),text:D("tipsOfTheDay",{returnObjects:!0}),children:Object(le.jsx)(dt,{})}),Object(le.jsx)("div",{className:"mb-2",ref:ae,children:Object(le.jsx)(rt,{artifactIdToEdit:J,cancelEdit:be})}),Object(le.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ne,children:[Object(le.jsx)(d.a.Header,{children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)("span",{children:Object(le.jsx)(k.a,{t:D,i18nKey:"artifactFilter",children:"Artifact Filter"})})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return H({type:"reset"})},children:[Object(le.jsx)(o.a,{icon:l.D,className:"fa-fw"})," ",Object(le.jsx)(k.a,{t:D,i18nKey:"resetFilters"})]})})]})}),Object(le.jsxs)(d.a.Body,{children:[Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{xs:12,lg:6,children:[Object(le.jsxs)(h.a,{as:O.a.Prepend,className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:ge?"success":"primary",children:null!==(a=null===oe||void 0===oe||null===(P=oe[ge])||void 0===P?void 0:P.name)&&void 0!==a?a:D("editor.set.artifactSet")}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterArtSetKey:""})},children:Object(le.jsx)(k.a,{t:D,i18nKey:"ui:unselect",children:"Unselect"})}),oe&&Y.a.namesByMaxRarities(oe).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(le.jsxs)(j.a.Fragment,{children:[Object(le.jsx)(h.a.Divider,{}),Object(le.jsxs)(h.a.ItemText,{children:["Max Rarity ",Object(le.jsx)(A.a,{stars:a})]}),n.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterArtSetKey:a})},children:n},a)}))]},a)}))]})]}),Object(le.jsx)(x.a,{className:"w-100 d-flex mb-2",type:"checkbox",as:O.a.Append,onChange:function(e){return H({filterStars:e})},value:ke,children:M.a.map((function(e){var t=ke.includes(e);return Object(le.jsxs)(m.a,{value:e,variant:t?"success":"primary",children:[Object(le.jsx)(o.a,{icon:t?l.b:l.w})," ",Object(le.jsx)(A.a,{stars:e})]},e)}))}),Object(le.jsxs)(O.a,{className:"mb-2",children:[Object(le.jsx)(O.a.Prepend,{children:Object(le.jsx)(O.a.Text,{children:Object(le.jsx)("span",{children:Object(le.jsxs)(k.a,{t:D,i18nKey:"filterLevelFormat",children:["Level ",Object(le.jsx)("span",{className:"text-".concat(Ne>0?"success":""),children:"Low"}),"/",Object(le.jsx)("span",{className:"text-".concat(Ke<20?"success":""),children:"High"})," (Inclusive)"]})})})}),Object(le.jsx)(C.a,{value:Ne,placeholder:D("ui:game.minLevel"),onChange:function(e){return H({filterLevelLow:Object(T.a)(e,0,Ke)})}}),Object(le.jsx)(C.a,{value:Ke,placeholder:D("ui:game.maxLevel"),onChange:function(e){return H({filterLevelHigh:Object(T.a)(e,Ne,20)})}})]}),Object(le.jsxs)(b.a,{className:"w-100 d-flex flex-row mb-2",children:[Object(le.jsxs)(h.a,{as:b.a,className:"flex-grow-1",children:[Object(le.jsx)(h.a.Toggle,{children:Object(le.jsx)("span",{children:Object(le.jsxs)(k.a,{t:D,i18nKey:"ui:sortByFormat",value:D("sortMap.".concat(Re)),children:["Sort By: ",{value:D("sortMap.".concat(Re))}]})})}),Object(le.jsx)(h.a.Menu,{children:bt.map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return H({sortType:e})},children:D("sortMap.".concat(e))},e)}))})]}),Object(le.jsxs)(f.a,{onClick:function(){return H({ascending:!Pe})},className:"flex-shrink-1",children:[Object(le.jsx)(o.a,{icon:Pe?l.u:l.v,className:"fa-fw"}),Object(le.jsxs)("span",{children:[" ",Pe?Object(le.jsx)(k.a,{t:D,i18nKey:"ui:ascending",children:"Ascending"}):Object(le.jsx)(k.a,{t:D,i18nKey:"ui:descending",children:"Descending"})]})]})]})]}),Object(le.jsx)(p.a,{xs:12,lg:6,children:Object(le.jsxs)(g.a,{children:[Object(le.jsxs)(p.a,{children:[Object(le.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:Se?"success":"primary",children:Se?Object(le.jsx)(Q.b,{slotKey:Se}):D("slot")}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterSlotKey:""})},children:Object(le.jsx)(k.a,{t:D,i18nKey:"ui:unselect",children:"Unselect"})}),M.h.map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterSlotKey:e})},children:Object(le.jsx)(Q.b,{slotKey:e})},e)}))]})]}),Object(le.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:we?"success":"primary",children:I.a.getStatNameWithPercent(we,D("mainStat"))}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterMainStatKey:""})},children:Object(le.jsx)(k.a,{t:D,i18nKey:"ui:unselect",children:"Unselect"})}),L.a.map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterMainStatKey:e})},children:I.a.getStatNameWithPercent(e)},e)}))]})]}),Object(le.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:Le?"success":"primary",children:fe}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterLocation:""})},children:Object(le.jsx)(k.a,{t:D,i18nKey:"ui:unselect",children:"Unselect"})}),Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterLocation:"Inventory"})},children:Object(le.jsx)(k.a,{t:D,i18nKey:"filterLocation.inventory",children:"Inventory"})}),Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterLocation:"Equipped"})},children:Object(le.jsx)(k.a,{t:D,i18nKey:"filterLocation.currentlyEquipped",children:"Currently Equipped"})}),Object(le.jsx)(h.a.Divider,{}),Object(le.jsx)(K.a,{onSelect:function(e){return H({filterLocation:e})}})]})]}),Object(le.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(le.jsx)(h.a.Toggle,{className:"w-100",variant:Fe?"success":"primary",children:he}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterLocked:""})},children:Object(le.jsx)(k.a,{t:D,i18nKey:"lock.any",children:"Any"})}),Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterLocked:"locked"})},children:Object(le.jsxs)("span",{children:[Object(le.jsx)(o.a,{icon:l.n})," ",Object(le.jsx)(k.a,{t:D,i18nKey:"lock.locked",children:"Locked"})]})}),Object(le.jsx)(h.a.Item,{onClick:function(){return H({filterLocked:"unlocked"})},children:Object(le.jsxs)("span",{children:[Object(le.jsx)(o.a,{icon:l.o})," ",Object(le.jsx)(k.a,{t:D,i18nKey:"lock.unlocked",children:"Unlocked"})]})})]})]})]}),Object(le.jsx)(p.a,{children:Ae.map((function(e,t){return Object(le.jsxs)(h.a,{className:"mb-2",children:[Object(le.jsx)(h.a.Toggle,{id:"dropdown-basic",className:"w-100",variant:e?"success":"primary",children:e?I.a.getStatNameWithPercent(e):D("editor.substat.substatFormat",{value:t+1})}),Object(le.jsxs)(h.a.Menu,{children:[Object(le.jsx)(h.a.Item,{onClick:function(){Ae[t]="",H({filterSubstats:Ae})},children:Object(le.jsx)(k.a,{t:D,i18nKey:"editor.substat.noSubstat",children:"No Substat"})}),R.a.getSubstatKeys().filter((function(e){return!Ae.includes(e)})).map((function(e){return Object(le.jsx)(h.a.Item,{onClick:function(){Ae[t]=e,H({filterSubstats:Ae})},children:I.a.getStatNameWithPercent(e)},e)}))]})]},t)}))})]})})]}),Object(le.jsxs)(g.a,{className:"mb-n2",children:[Object(le.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(le.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ve,onClick:function(){return window.confirm("Are you sure you want to unequip ".concat(ve," artifacts currently equipped on characters?"))&&xe.map((function(e){return G.a.setLocation(e.id,"")}))},children:[Object(le.jsx)(o.a,{icon:l.E})," ",Object(le.jsx)(k.a,{t:D,i18nKey:"button.unequipArtifacts",children:"Unequip Artifacts"})]})}),Object(le.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(le.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!xe.length,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(xe.length," artifacts?"))&&xe.map((function(e){return G.a.removeArt(e.id)}))},children:[Object(le.jsx)(o.a,{icon:l.B})," ",Object(le.jsx)(k.a,{t:D,i18nKey:"button.deleteArtifacts",children:"Delete Artifacts"})]})}),Object(le.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(le.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ye,onClick:function(){return window.confirm("Are you sure you want to lock ".concat(ye," artifacts?"))&&xe.map((function(e){return G.a.lockArtifact(e.id)}))},children:[Object(le.jsx)(o.a,{icon:l.n})," ",Object(le.jsx)(k.a,{t:D,i18nKey:"button.lockArtifacts",children:"Lock Artifacts"})]})}),Object(le.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(le.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!pe,onClick:function(){return window.confirm("Are you sure you want to unlock ".concat(pe," artifacts?"))&&xe.map((function(e){return G.a.lockArtifact(e.id,!1)}))},children:[Object(le.jsx)(o.a,{icon:l.o})," ",Object(le.jsx)(k.a,{t:D,i18nKey:"button.unlockArtifacts",children:"Unlock Artifacts"})]})}),Object(le.jsx)(p.a,{xs:12,className:"mt-n2",children:Object(le.jsx)("small",{children:Object(le.jsxs)(k.a,{t:D,i18nKey:"buttonHint",children:["Note: the above buttons only applies to ",Object(le.jsx)("b",{children:"filtered artifacts"})]})})})]})]})]}),Object(le.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ne,children:[Object(le.jsx)(d.a.Header,{children:Object(le.jsxs)(g.a,{children:[Object(le.jsx)(p.a,{children:Object(le.jsx)("span",{children:Object(le.jsx)(k.a,{t:D,i18nKey:"efficiencyFilter.title",children:"Efficiency Filter"})})}),Object(le.jsx)(p.a,{xs:"auto",children:Object(le.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return H({effFilter:Object(s.a)(L.b)})},children:[Object(le.jsx)(o.a,{icon:l.D,className:"fa-fw"})," ",Object(le.jsx)(k.a,{t:D,i18nKey:"ui:reset"})]})})]})}),Object(le.jsx)(d.a.Body,{children:Object(le.jsx)(v.a,{as:g.a,className:"w-100 d-flex flex-row",children:[[0,6],[6]].map((function(e){return Object(le.jsx)(x.a,{as:p.a,type:"checkbox",value:V,onChange:function(e){return H({effFilter:e})},className:"flex-grow-1 mb-2",children:L.b.slice.apply(L.b,Object(s.a)(e)).map((function(e){return Object(le.jsx)(m.a,{value:e,variant:V.includes(e)?"success":"primary",children:I.a.getStatNameWithPercent(e)},e)}))},e.toString())}))})})]}),Ve,Object(le.jsx)(g.a,{children:ze.map((function(e,t){return Object(le.jsx)(p.a,{lg:4,md:6,className:"mb-2",children:Object(le.jsx)(U.a,{artifactId:e.id,effFilter:ue,onDelete:function(){return je(e.id)},onEdit:function(){return de(e.id)}})},t)}))}),We>1&&Ve]})}}}]);
//# sourceMappingURL=14.acb5c401.chunk.js.map