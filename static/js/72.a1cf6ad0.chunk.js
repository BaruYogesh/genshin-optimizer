"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[72],{78072:function(e,n,r){r.r(n),r.d(n,{default:function(){return B}});var t=r(79271),s=r(15861),a=r(29439),i=r(87757),c=r.n(i),o=r(53174),l=r(54483),u=r(68870),h=r(61889),x=r(47047),f=r(39504),p=r(20890),d=r(24518),j=r(94721),m=r(30178),g=r(72791),y=r(16129),Z=r(22020),w=r(76899),v=r(3992),C=r(3082),k=r(59215),b=r(48510),P=r(73578),T=r(947),K=r(56928),_=r(53561),z=r(17278),A=r(68544),D=r(42320),G=r(50921),S=r(46956),H=r(16134),I=r(80184);function M(){return{sortType:G.vV[0],ascending:!1,weaponType:"",element:""}}function V(e){var n=(0,Z.$)("page_character").t,r=(0,g.useContext)(K.t).database,t=(0,z.Z)("CharacterDisplay",M),i=(0,a.Z)(t,2),V=i[0],W=i[1],$=(0,g.useState)(!1),F=(0,a.Z)($,2),N=F[0],U=F[1],B=(0,A.Z)(),E=(0,a.Z)(B,2),L=E[0],O=E[1];(0,g.useEffect)((function(){return y.ZP.pageview("/character"),r.followAnyChar(O)}),[O,r]);var R=(0,D.Z)(T.ZP.getAll,[]),q=(0,g.useCallback)(function(){var e=(0,s.Z)(c().mark((function e(n){var t,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.ZP.get(n);case 2:if(t=e.sent,"object"===typeof(s=null===t||void 0===t?void 0:t.name)&&(s=m.ZP.t("char_".concat(n,"_gen:name"))),window.confirm("Are you sure you want to remove ".concat(s,"?"))){e.next=7;break}return e.abrupt("return");case 7:r.removeChar(n);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[r]),J=(0,_.Z)(),Q=V.element,X=V.weaponType,Y=(0,g.useMemo)((function(){return R&&(0,G._L)(r,R)}),[r,R]),ee=(0,g.useMemo)((function(){return R&&(0,G.zU)(r,R)}),[r,R]),ne=(0,g.useMemo)((function(){return Y&&ee&&L&&r._getCharKeys().filter((0,S.C)({element:Q,weaponType:X,favorite:"yes"},ee)).sort((0,S.e)(V.sortType,V.ascending,Y)).concat(r._getCharKeys().filter((0,S.C)({element:Q,weaponType:X,favorite:"no"},ee)).sort((0,S.e)(V.sortType,V.ascending,Y)))}),[L,r,Y,V.sortType,V.ascending,Q,ee,X]);return(0,I.jsxs)(u.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,I.jsx)(v.Z,{sx:{p:2},children:(0,I.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,I.jsx)(h.ZP,{item:!0,children:(0,I.jsx)(P.Z,{sx:{height:"100%"},onChange:function(e){return W({weaponType:e})},value:V.weaponType,size:"small"})}),(0,I.jsx)(h.ZP,{item:!0,flexGrow:1,children:(0,I.jsx)(b.Z,{sx:{height:"100%"},onChange:function(e){return W({element:e})},value:V.element,size:"small"})}),(0,I.jsx)(h.ZP,{item:!0,children:(0,I.jsx)(k.Z,{sx:{height:"100%"},sortKeys:G.vV,value:V.sortType,onChange:function(e){return W({sortType:e})},ascending:V.ascending,onChangeAsc:function(e){return W({ascending:e})}})})]})}),(0,I.jsx)(h.ZP,{container:!0,spacing:1,children:(0,I.jsxs)(g.Suspense,{fallback:(0,I.jsx)(h.ZP,{item:!0,xs:12,children:(0,I.jsx)(x.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}})}),children:[(0,I.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,I.jsxs)(v.Z,{sx:{height:"100%",minHeight:400,width:"100%",display:"flex",flexDirection:"column"},children:[(0,I.jsx)(f.Z,{children:(0,I.jsx)(p.Z,{sx:{textAlign:"center"},children:(0,I.jsx)(w.c,{t:n,i18nKey:"addNew"})})}),(0,I.jsx)(C.w,{newFirst:!0,show:N,onHide:function(){return U(!1)},onSelect:J}),(0,I.jsx)(u.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,I.jsx)(d.Z,{onClick:function(){return U(!0)},sx:{borderRadius:"1em"},children:(0,I.jsx)(p.Z,{variant:"h1",children:(0,I.jsx)(l.G,{icon:o.r8p,className:"fa-fw"})})})})]})}),!!ne&&ne.map((function(e){return(0,I.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,I.jsx)(H.Z,{characterKey:e,onClick:J,footer:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j.Z,{}),(0,I.jsxs)(u.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:[(0,I.jsx)(u.Z,{}),(0,I.jsx)(d.Z,{size:"small",color:"error",startIcon:(0,I.jsx)(l.G,{icon:o.$aW}),onClick:function(){return q(e)},children:"Delete"})]})]})})},e)}))]})})]})}var W=r(68198),$=r(24351),F=(0,g.lazy)((function(){return Promise.all([r.e(0),r.e(282),r.e(684),r.e(966),r.e(561),r.e(40),r.e(839)]).then(r.bind(r,51839))}));function N(){var e,n=(0,t.k6)(),r=(0,t.UO)().characterKey;return!$.IV.includes(null!==(e=r)&&void 0!==e?e:"")?(0,I.jsx)(t.l_,{to:"/character"}):(0,I.jsx)(u.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:r&&(0,I.jsx)(g.Suspense,{fallback:(0,I.jsx)(x.Z,{variant:"rectangular",width:"100%",height:1e3}),children:(0,I.jsx)(F,{characterKey:r,onClose:function(){return n.push("/character")},footer:(0,I.jsx)(U,{onClose:function(){return n.push("/character")},characterKey:r})})})})}function U(e){var n=e.onClose;e.characterKey;return(0,I.jsxs)(u.Z,{display:"flex",gap:1,justifyContent:"space-between",children:[(0,I.jsx)(u.Z,{}),(0,I.jsx)(W.Z,{large:!0,onClick:n})]})}function B(){var e=(0,t.$B)();return(0,I.jsxs)(t.rs,{children:[(0,I.jsx)(t.AW,{path:"".concat(e.path,"/:characterKey"),children:(0,I.jsx)(N,{})}),(0,I.jsx)(t.AW,{path:e.path,children:(0,I.jsx)(V,{})})]})}}}]);
//# sourceMappingURL=72.a1cf6ad0.chunk.js.map