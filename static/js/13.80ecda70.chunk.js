(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[13],{209:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),c=a(0),i=a(132),s=a(1);function l(e){var t=e.value,a=e.onChange,l=e.className,r=void 0===l?"":l,o=e.disabled,d=void 0!==o&&o,u=e.float,j=void 0!==u&&u,b=e.placeholder,O=e.allowEmpty,v=void 0!==O&&O,x=e.max,m=e.min,p=Object(c.useState)(""),h=Object(n.a)(p,2),f=h[0],g=h[1],N=Object(c.useCallback)((function(){if(v&&""===f)return a(void 0);if(""===f)return a(0);var e=j?parseFloat:parseInt;a(e(f))}),[a,f,j,v]);return Object(c.useEffect)((function(){var e;return g(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,g]),Object(s.jsx)(i.a,{value:f,"aria-label":"custom-input",className:"hide-appearance ".concat(r),type:"number",placeholder:b,onChange:function(e){return g(e.target.value)},onBlur:N,disabled:d,onKeyDown:function(e){return"Enter"===e.key&&N()},max:x,min:m})}},212:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(25),c=a(10),i=a(0),s=a(191),l=a(217),r=a(330),o=a(106),d=a(208),u=a(1);function j(e){var t,a,j=e.field,b=e.index,O=e.className,v=void 0===O?"p-2":O,x=Object(i.useContext)(o.a),m=x.newBuild,p=x.equippedBuild,h=x.compareBuild,f=m||p,g=Object(i.useMemo)((function(){var e;return!!f&&(null===j||void 0===j||null===(e=j.canShow)||void 0===e?void 0:e.call(j,f))}),[j,f]),N=(null===j||void 0===j?void 0:j.fixed)||0,y=Object(i.useMemo)((function(){if(j.value)return d.a.getTalentFieldValue(j,"value",f);if(j.formula){var e,t,a=null===(e=d.a.getTalentFieldValue(j,"formula",f))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.call(e,f);if(h&&p&&"number"===typeof a){var n,c,i,s,l,r,o,b,O,v=j.value?j.value:null===(n=j.formula)||void 0===n||null===(c=n.call(j,p))||void 0===c||null===(i=c[0])||void 0===i?void 0:i.call(c,p);"function"===typeof v&&(v=parseInt(null===(s=v)||void 0===s||null===(l=s(p))||void 0===l||null===(r=l.toFixed)||void 0===r?void 0:r.call(l,N)));var x=a-v;a=Object(u.jsxs)("span",{children:[null!==(o=null===(b=v)||void 0===b?void 0:b.toFixed(N))&&void 0!==o?o:v,x?Object(u.jsxs)("span",{className:x>0?"text-success":"text-danger",children:[" (",x>0?"+":"",(null===x||void 0===x||null===(O=x.toFixed)||void 0===O?void 0:O.call(x,N))||x,")"]}):""]})}return a}}),[h,N,p,j,f]),k=Object(i.useMemo)((function(){return d.a.getTalentFieldValue(j,"text",f)}),[j,f]),w=Object(i.useMemo)((function(){return d.a.getTalentFieldValue(j,"variant",f)}),[j,f]),C=Object(i.useMemo)((function(){var e=d.a.getTalentFieldValue(j,"formulaText",f);return e?Object(u.jsx)(s.a,{placement:"top",overlay:Object(u.jsx)(l.a,{id:"field-formula",children:e}),children:Object(u.jsx)(c.a,{icon:n.v,className:"ml-2",style:{cursor:"help"}})}):null}),[j,f]),S=Object(i.useMemo)((function(){return d.a.getTalentFieldValue(j,"unit",f)}),[j,f]);return g?Object(u.jsxs)(r.a.Item,{variant:b%2?"customdark":"customdarker",className:v,children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("b",{children:k}),C]}),Object(u.jsxs)("span",{className:"float-right text-right text-".concat(w),children:[null!==(t=null===y||void 0===y||null===(a=y.toFixed)||void 0===a?void 0:a.call(y,N))&&void 0!==t?t:y,S]})]}):null}},217:function(e,t,a){"use strict";var n=a(2),c=a(5),i=a(6),s=a.n(i),l=a(0),r=a.n(l),o=(a(131),a(8)),d=["bsPrefix","placement","className","style","children","arrowProps","popper","show"],u=r.a.forwardRef((function(e,t){var a=e.bsPrefix,i=e.placement,l=e.className,u=e.style,j=e.children,b=e.arrowProps,O=(e.popper,e.show,Object(c.a)(e,d));a=Object(o.a)(a,"tooltip");var v=((null==i?void 0:i.split("-"))||[])[0];return r.a.createElement("div",Object(n.a)({ref:t,style:u,role:"tooltip","x-placement":v,className:s()(l,a,"bs-tooltip-"+v)},O),r.a.createElement("div",Object(n.a)({className:"arrow"},b)),r.a.createElement("div",{className:a+"-inner"},j))}));u.defaultProps={placement:"right"},u.displayName="Tooltip",t.a=u},222:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(0),c=a.n(n),i=a(330),s=a(106),l=a(12),r=a(3),o=a(17),d=a(189),u=a(109),j=a(25),b=a(10),O=a(190),v=a(127),x=a(188),m=a(1);function p(e){var t=e.conditional,a=e.conditionalValue,n=e.setConditional,i=e.name,s=e.disabled,d=e.stats,u=Object(r.a)(a,2),p=u[0],h=void 0===p?0:p,f=u[1];if(!t)return i;if("states"in t){var g=f?t.states[f]:Object.values(t.states)[0],N=0===h?"Not Active":Object(m.jsxs)("span",{children:[g.name," ",Object(l.f)(g.maxStack,d)>1?": ".concat(h," stack").concat(h>1?"s":""):""]}),y=Object(m.jsx)(O.a,{variant:0===h?"secondary":"success",children:N});return Object(m.jsxs)(x.a,{children:[Object(m.jsx)(x.a.Toggle,{size:"sm",disabled:s,children:Object(m.jsxs)("h6",{className:"mb-0 d-inline",style:{whiteSpace:"normal"},children:[i," ",y]})}),Object(m.jsxs)(x.a.Menu,{children:[Object(m.jsx)(x.a.Item,{onClick:function(){return n([0])},children:Object(m.jsx)("span",{children:"Not Active"})}),Object.entries(t.states).map((function(e,t){var a=Object(r.a)(e,2),i=a[0],s=a[1];return Object(m.jsx)(c.a.Fragment,{children:Object(o.a)(Array(s.maxStack).keys()).map((function(e){return e+1})).map((function(e,t){return Object(m.jsxs)(x.a.Item,{onClick:function(){return n([e,i])},children:[s.name,s.maxStack>1?": ".concat(e," stack").concat(e>1?"s":""):""]},i+t)}))},t)}))]})]})}var k=Object(l.f)(t.maxStack,d);if(k>1){var w=Object(m.jsx)(O.a,{variant:0===h?"secondary":"success",children:h>0?"".concat(h," stack").concat(h>1?"s":""):"Not Active"});return Object(m.jsxs)(x.a,{children:[Object(m.jsx)(x.a.Toggle,{size:"sm",disabled:s,children:Object(m.jsxs)("h6",{className:"mb-0 d-inline",style:{whiteSpace:"normal"},children:[i," ",w]})}),Object(m.jsxs)(x.a.Menu,{children:[Object(m.jsx)(x.a.Item,{onClick:function(){return n([0])},children:Object(m.jsx)("span",{children:"Not Active"})}),Object(o.a)(Array(k).keys()).map((function(e){return e+1})).map((function(e){return Object(m.jsx)(x.a.Item,{onClick:function(){return n([e])},children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})]})}return 1===k?Object(m.jsx)(v.a,{size:"sm",onClick:function(){return n([h?0:1])},disabled:s,children:Object(m.jsxs)("h6",{className:"mb-0",children:[Object(m.jsx)(b.a,{icon:h?j.f:j.z})," ",i]})}):null}var h=a(108),f=a(212);function g(e){var t=e.conditional,a=e.characterDispatch,c=e.fieldClassName,j=Object(n.useContext)(s.a),b=j.newBuild,O=j.equippedBuild,v=b||O,x=Object(n.useMemo)((function(){return u.a.canShow(t,v)}),[t,v]),g=Object(n.useMemo)((function(){return x&&u.a.resolve(t,v,void 0)}),[x,t,v]),N=g.stats,y=void 0===N?{}:N,k=g.fields,w=void 0===k?[]:k,C=g.conditionalValue,S=Object(n.useMemo)((function(){return x&&[].concat(Object(o.a)(Object(h.a)(y,v)),Object(o.a)(w))}),[x,y,v,w]),T=Object(n.useCallback)((function(e){if(v){var n=Object(r.a)(e,1)[0];(void 0===n?0:n)?t.keys&&Object(l.k)(v.conditionalValues,t.keys,e):(Object(l.e)(v.conditionalValues,t.keys),Object(l.l)(v.conditionalValues)),a({conditionalValues:v.conditionalValues})}}),[t,v,a]);return x&&v?Object(m.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2 w-100",children:[Object(m.jsx)(d.a.Header,{className:"p-2",children:Object(m.jsx)(p,{conditional:t,conditionalValue:C,setConditional:T,name:t.name,stats:v})}),Object(m.jsx)(i.a,{className:"text-white",variant:"flush",children:S.map((function(e,t){return Object(m.jsx)(f.a,{index:t,field:e,className:c},t)}))})]}):null}function N(e){var t=e.sections,a=e.characterDispatch,c=Object(n.useContext)(s.a),r=c.newBuild,o=c.equippedBuild,d=r||o;return d?Object(m.jsx)("div",{className:"w-100",children:null===t||void 0===t?void 0:t.map((function(e,t){var n,c;if(!e.canShow(d))return null;var s=Object(l.f)(e.text,d),r=null!==(n=e.fields)&&void 0!==n?n:[];return Object(m.jsxs)("div",{className:"my-2",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"mb-2",children:s}),r.length>0&&Object(m.jsx)(i.a,{className:"text-white mb-2",children:null===r||void 0===r||null===(c=r.map)||void 0===c?void 0:c.call(r,(function(e,t){return Object(m.jsx)(f.a,{index:t,field:e},t)}))})]}),!!e.conditional&&Object(m.jsx)(g,{conditional:e.conditional,characterDispatch:a})]},"section"+t)}))}):null}},227:function(e,t,a){"use strict";var n=a(5),c=a(2),i=a(6),s=a.n(i),l=a(0),r=a.n(l),o=a(21),d=a(8),u=["bsPrefix","size","hasValidation","className","as"],j=Object(o.a)("input-group-append"),b=Object(o.a)("input-group-prepend"),O=Object(o.a)("input-group-text",{Component:"span"}),v=r.a.forwardRef((function(e,t){var a=e.bsPrefix,i=e.size,l=e.hasValidation,o=e.className,j=e.as,b=void 0===j?"div":j,O=Object(n.a)(e,u);return a=Object(d.a)(a,"input-group"),r.a.createElement(b,Object(c.a)({ref:t},O,{className:s()(o,a,i&&a+"-"+i,l&&"has-validation")}))}));v.displayName="InputGroup";var x=Object(c.a)({},v,{Text:O,Radio:function(e){return r.a.createElement(O,null,r.a.createElement("input",Object(c.a)({type:"radio"},e)))},Checkbox:function(e){return r.a.createElement(O,null,r.a.createElement("input",Object(c.a)({type:"checkbox"},e)))},Append:j,Prepend:b});t.a=x},273:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return L}));var n=a(71),c=a(17),i=a(9),s=a(3),l=a(25),r=a(10),o=a(0),d=a(189),u=a(128),j=a(73),b=a(227),O=a(223),v=a(188),x=a(127),m=a(144),p=a(190),h=a(544),f=a(207),g=a(106),N=a(123),y=a(209),k=a(222),w=a(220),C=a(206),S=a(41),T=a(35),B=a(87),I=a(12),V=a(228),P=a(229),E=a(125),M=a(330),z=a(212),F=a(108),A=a(1);function D(e){var t=e.title,a=e.statsVals,n=void 0===a?{}:a,c=e.stats;if(0===Object.keys(null!==n&&void 0!==n?n:{}).length)return null;var i=Object(F.a)(n,c);return Object(A.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:[Object(A.jsx)(d.a.Header,{className:"py-2 px-3",children:t}),Object(A.jsx)(M.a,{className:"text-white",variant:"flush",children:i.map((function(e,t){return Object(A.jsx)(z.a,{index:t,field:e,className:"px-3 py-2"},t)}))})]})}function L(e){var t,a=e.weaponId,h=e.charData,f=e.footer,V=void 0!==f&&f,M=e.onClose,z=Object(o.useContext)(T.b),F=Object(B.a)(),L=Object(s.a)(F,2),q=L[0],R=L[1],K=Object(o.useContext)(g.a),H=Object(o.useMemo)((function(){return q&&z._getWeapon(a)}),[a,q,z]),G=H.key,J=H.level,_=H.refine,U=H.ascension,Q=H,X=Q.location,Y=void 0===X?"":X,Z=Q.id,$=Object(B.b)(E.a.get(G),[G]),ee=null===$||void 0===$?void 0:$.weaponType;Object(o.useEffect)((function(){return a?z.followWeapon(a,R):void 0}),[a,R,z]);var te=Object(o.useCallback)((function(e){z.updateWeapon(e,a)}),[a,z]),ae=Object(o.useCallback)((function(e){e=Object(I.a)(e,1,90);var t=S.b.findIndex((function(t){return e<=t}));te({level:e,ascension:t})}),[te]),ne=Object(o.useCallback)((function(){var e=S.b.findIndex((function(e){return 90!==J&&J===e}));te(U===e?{ascension:U+1}:{ascension:e})}),[te,U,J]),ce=Object(i.a)({},h?null!==(t=h.newBuild)&&void 0!==t?t:h.equippedBuild:{weapon:{refineIndex:_-1,level:J,ascension:U}}),ie=Object(B.b)(Y?N.b.get(Y):void 0,[Y]),se=ie?function(e){return e.weaponType===ie.weaponTypeKey}:void 0;return Object(A.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(A.jsx)(d.a.Header,{children:Object(A.jsxs)(u.a,{children:[Object(A.jsx)(j.a,{children:Object(A.jsxs)(u.a,{className:"mb-n2",children:[Object(A.jsx)(j.a,{className:"mb-2",children:Object(A.jsx)(b.a,{children:Object(A.jsxs)(O.a,{as:b.a.Prepend,children:[Object(A.jsx)(P.a,{weaponSheet:$,onSelect:function(e){return te({key:e})},filter:se}),Object(A.jsxs)(v.a,{as:O.a,children:[Object(A.jsxs)(v.a.Toggle,{as:x.a,children:["Refinement ",_]}),Object(A.jsxs)(v.a.Menu,{children:[Object(A.jsx)(v.a.ItemText,{children:Object(A.jsx)("span",{children:"Select Weapon Refinement"})}),Object(A.jsx)(v.a.Divider,{}),Object(c.a)(Array(5).keys()).map((function(e){return Object(A.jsx)(v.a.Item,{onClick:function(){return te({refine:e+1})},children:"Refinement ".concat(e+1)},e)}))]})]})]})})}),Object(A.jsx)(j.a,{className:"mb-2",xs:"auto",children:Object(A.jsxs)(b.a,{children:[Object(A.jsx)(b.a.Prepend,{children:Object(A.jsx)(b.a.Text,{children:Object(A.jsx)("strong",{children:"Lvl. "})})}),Object(A.jsx)(b.a.Append,{children:Object(A.jsx)(y.a,{placeholder:void 0,onChange:ae,value:J,min:1,max:90})}),Object(A.jsxs)(O.a,{as:b.a.Append,children:[Object(A.jsx)(x.a,{disabled:!Object(S.a)(J),onClick:ne,children:Object(A.jsxs)("strong",{children:["/ ",S.b[U]]})}),Object(A.jsxs)(v.a,{as:O.a,children:[Object(A.jsx)(v.a.Toggle,{as:x.a,children:"Select Level"}),Object(A.jsx)(v.a.Menu,{children:S.d.map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1],c=a===S.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(S.b[n]);return Object(A.jsx)(v.a.Item,{onClick:function(){return te({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})]})]})})]})}),!!M&&Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsx)(x.a,{variant:"danger",onClick:M,children:Object(A.jsx)(r.a,{icon:l.B})})}),!!h&&z===T.c&&Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsx)(W,{weaponTypeKey:ee,onChangeId:function(e){return z.setWeaponLocation(e,h.character.key)}})})]})}),Object(A.jsx)(d.a.Body,{children:function(){if(!$)return null;var e=$.getSubStatKey(),t=$.getMainStatValue(J,U),a=$.getSubStatValue(J,U),c=$.passiveName,i=$.stats(ce),s=$.document;return Object(A.jsxs)(u.a,{className:"mb-n2",children:[Object(A.jsxs)(j.a,{xs:12,md:3,lg:4,children:[Object(A.jsx)(m.a,{src:$.img,className:"w-100 h-auto grad-".concat($.rarity,"star"),thumbnail:!0}),Object(A.jsx)("small",{children:$.description})]}),Object(A.jsxs)(j.a,{children:[Object(A.jsxs)("h5",{className:"mb-0",children:[!1,$.name," Lv. ",E.a.getLevelString(H)," ",c&&Object(A.jsxs)(p.a,{variant:"info",children:["Refinement ",_]})]}),Object(A.jsx)("div",{className:"mb-2",children:Object(A.jsx)(C.a,{stars:$.rarity})}),Object(A.jsx)("h6",{children:c}),Object(A.jsx)("div",{className:"mb-2",children:c&&$.passiveDescription(ce)}),ce&&Object(A.jsxs)(g.a.Provider,{value:h?K:{equippedBuild:ce,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(A.jsx)(D,{title:"Main Stats",statsVals:Object(n.a)({atk:t},e,e?a:void 0),stats:ce}),Object(A.jsx)(D,{title:"Bonus Stats",statsVals:i,stats:ce})]}),h&&s?function(){var e=h.equippedBuild,t=h.newBuild,a=h.characterDispatch;return Object(A.jsx)(k.a,{sections:s,equippedBuild:e,newBuild:t,characterDispatch:a})}():null]})]})}()}),V&&Z&&Object(A.jsx)(d.a.Footer,{children:Object(A.jsxs)(u.a,{children:[Object(A.jsx)(j.a,{children:Object(A.jsx)(w.a,{location:Y,onEquip:function(e){return z.setWeaponLocation(Z,e)},weaponTypeKey:null===$||void 0===$?void 0:$.weaponType,disableUnequip:!!H.location,disabled:z===T.c})}),!!M&&Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsx)(x.a,{variant:"danger",onClick:M,children:"Close"})})]})})]})}function W(e){var t=e.onChangeId,a=e.weaponTypeKey,n=Object(o.useContext)(T.b),c=Object(o.useState)(!1),i=Object(s.a)(c,2),b=i[0],O=i[1],v=function(){return O(!1)},p=function(e){t(e),v()},g=Object(B.b)(E.a.getAll(),[]),N=n.weapons.keys.filter((function(e){var t,c=n._getWeapon(e);return!!c&&(!a||a===(null===g||void 0===g||null===(t=g[c.key])||void 0===t?void 0:t.weaponType))}));return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(x.a,{variant:"info",onClick:function(){return O(!0)},children:[Object(A.jsx)(r.a,{icon:l.l})," SWAP WEAPON"]}),Object(A.jsx)(h.a,{show:b,size:"xl",contentClassName:"bg-transparent",onHide:v,children:Object(A.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",children:[Object(A.jsx)(d.a.Header,{children:Object(A.jsxs)(u.a,{children:[Object(A.jsxs)(j.a,{children:[a?Object(A.jsx)(m.a,{src:f.a.weaponTypes[a],className:"inline-icon"}):null," ",Object(A.jsx)("h5",{className:"mb-0 d-inline",children:"Swap Weapon"})]}),Object(A.jsx)(j.a,{xs:"auto",children:Object(A.jsx)(x.a,{onClick:v,variant:"danger",children:Object(A.jsx)(r.a,{icon:l.B})})})]})}),Object(A.jsx)(d.a.Body,{children:Object(A.jsx)(u.a,{children:N.map((function(e){return Object(A.jsx)(j.a,{lg:4,md:6,className:"mb-2",children:Object(A.jsx)(V.a,{weaponId:e,cardClassName:"h-100",onClick:p,footer:!0})},e)}))})})]})})]})}},330:function(e,t,a){"use strict";var n=a(2),c=a(5),i=a(6),s=a.n(i),l=a(0),r=a.n(l),o=(a(54),a(36)),d=a(8),u=a(137),j=a(138),b=["bsPrefix","active","disabled","className","variant","action","as","onClick"],O={variant:void 0,active:!1,disabled:!1},v=r.a.forwardRef((function(e,t){var a=e.bsPrefix,i=e.active,o=e.disabled,u=e.className,O=e.variant,v=e.action,x=e.as,m=e.onClick,p=Object(c.a)(e,b);a=Object(d.a)(a,"list-group-item");var h=Object(l.useCallback)((function(e){if(o)return e.preventDefault(),void e.stopPropagation();m&&m(e)}),[o,m]);return o&&void 0===p.tabIndex&&(p.tabIndex=-1,p["aria-disabled"]=!0),r.a.createElement(j.a,Object(n.a)({ref:t},p,{as:x||(v?p.href?"a":"button":"div"),onClick:h,className:s()(u,a,i&&"active",o&&"disabled",O&&a+"-"+O,v&&a+"-action")}))}));v.defaultProps=O,v.displayName="ListGroupItem";var x=v,m=["className","bsPrefix","variant","horizontal","as"],p={variant:void 0,horizontal:void 0},h=r.a.forwardRef((function(e,t){var a,i=Object(o.a)(e,{activeKey:"onSelect"}),l=i.className,j=i.bsPrefix,b=i.variant,O=i.horizontal,v=i.as,x=void 0===v?"div":v,p=Object(c.a)(i,m),h=Object(d.a)(j,"list-group");return a=O?!0===O?"horizontal":"horizontal-"+O:null,r.a.createElement(u.a,Object(n.a)({ref:t},p,{as:x,className:s()(l,h,b&&h+"-"+b,a&&h+"-"+a)}))}));h.defaultProps=p,h.displayName="ListGroup",h.Item=x;t.a=h}}]);
//# sourceMappingURL=13.80ecda70.chunk.js.map