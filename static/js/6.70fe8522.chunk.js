(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[6],{202:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(12),c=n(29),r=n(10),i=n(1),s=function(){return Object(i.jsx)(r.a,{icon:c.A})},o=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},203:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:n.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:n.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:n.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:n.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(124),c=n(67),r=n(8),i=n(2),s=n(19),o=n(68),l=n(112),u=n(100),d=n(39),j=n(53),b=n(40),h=n(210),v=n(36),O=n(11),f=n(119),m=function e(){if(Object(s.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};m.getElementalName=function(e){return j.a[e].name},m.getLevelString=function(e){return"".concat(e.level,"/").concat(d.b[e.ascension])},m.getTalentFieldValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(O.f)(e[t],n):a},m.hasOverride=function(e,t){return"finalHP"===t?m.hasOverride(e,"hp")||m.hasOverride(e,"hp_")||m.hasOverride(e,"characterHP"):"finalDEF"===t?m.hasOverride(e,"def")||m.hasOverride(e,"def_")||m.hasOverride(e,"characterDEF"):"finalATK"===t?m.hasOverride(e,"atk")||m.hasOverride(e,"atk_")||m.hasOverride(e,"characterATK"):!!(null===e||void 0===e?void 0:e.bonusStats)&&t in e.bonusStats},m.getStatValueWithBonus=function(e,t){var n,a,c;return null!==(n=null!==(a=null===(c=e.bonusStats)||void 0===c?void 0:c[t])&&void 0!==a?a:Object(v.a)(e)[t])&&void 0!==n?n:0},m.calculateBuild=function(e,t,n,a,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var n=Object(i.a)(e,2),a=n[0],c=n[1];return[a,t._getArt(c)]}))),o=m.createInitialStats(e,t,n,a);return o.mainStatAssumptionLevel=r,m.calculateBuildwithArtifact(o,s,c)},m.calculateBuildwithArtifact=function(e,t,n){var a,c=o.a.setToSlots(t),s=l.a.setEffectsStats(n,e,c),d=Object(O.d)(e);Object.values(t).forEach((function(e){e&&(d[e.mainStatKey]=(d[e.mainStatKey]||0)+o.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(d.mainStatAssumptionLevel,4*e.rarity),e.level)),e.substats.forEach((function(e){return e&&e.key&&(d[e.key]=(d[e.key]||0)+e.value)})))})),Object(v.c)(d,s),u.a.parseConditionalValues({artifact:null===d||void 0===d||null===(a=d.conditionalValues)||void 0===a?void 0:a.artifact},(function(e,t,n){var a,r,s=Object(i.a)(n,3),o=s[1],l=s[2];if(!(parseInt(l)>(null!==(a=null===c||void 0===c||null===(r=c[o])||void 0===r?void 0:r.length)&&void 0!==a?a:0))){var j=u.a.resolve(e,d,t).stats;Object(v.c)(d,j)}})),d.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return[n,null===a||void 0===a?void 0:a.id]}))),d.setToSlots=c;var j=Object(h.a)(d,null===d||void 0===d?void 0:d.modifiers),f=Object(b.c)(j,d),m=f.initialStats;return(0,f.formula)(m),Object(r.a)(Object(r.a)({},d),m)},m.createInitialStats=function(e,t,n,s){var o,l,d,j=e.key,b=e.bonusStats,h=void 0===b?{}:b,O=e.elementKey,m=e.level,p=e.ascension,x=e.hitMode,g=e.infusionAura,y=e.reactionMode,S=e.talent,w=e.constellation,k=e.equippedArtifacts,_=e.conditionalValues,K=void 0===_?{}:_,E=e.equippedWeapon,N=null!==(o=t._getWeapon(E))&&void 0!==o?o:Object(f.a)(n.weaponTypeKey),A=Object(v.a)(e);Object(v.c)(A,h,v.b),A.characterKey=j,A.characterLevel=m,A.characterHP=n.getBase("hp",m,p),A.characterDEF=n.getBase("def",m,p),A.characterATK=n.getBase("atk",m,p),A.characterEle=null!==(l=null!==(d=n.elementKey)&&void 0!==d?d:O)&&void 0!==l?l:"anemo",A.hitMode=x,A.infusionAura=g,A.reactionMode=y,A.conditionalValues=K,A.weaponType=n.weaponTypeKey,A.tlvl=Object.fromEntries(Object.entries(null!==S&&void 0!==S?S:{}).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1]-1]}))),A.constellation=w,A.ascension=p,A.weapon={key:N.key,refineIndex:N.refinement-1},A.equippedArtifacts=k;var C=n.getSpecializedStat(p);if(C){var T=n.getSpecializedStatVal(p);Object(v.c)(A,Object(c.a)({},C,T))}for(var I in n.getTalentStatsAll(A,A.characterEle).forEach((function(e){return Object(v.c)(A,e)})),A.tlvl){var W;A.tlvl[I]+=null!==(W=A["".concat(I,"Boost")])&&void 0!==W?W:0}var B=s.getMainStatValue(N.level,N.ascension);A.weaponATK=B;var F=s.getSubStatKey();F&&Object(v.c)(A,Object(c.a)({},F,s.getSubStatValue(N.level,N.ascension))),Object(v.c)(A,s.stats(A));K.artifact;var H=K.weapon,M=Object(a.a)(K,["artifact","weapon"]);return u.a.parseConditionalValues(Object(r.a)(Object(r.a)({},N.key&&{weapon:Object(c.a)({},N.key,null===H||void 0===H?void 0:H[N.key])}),M),(function(e,t,n){if(("character"!==n[0]||"talents"!==n[3]||n[4]===O)&&u.a.canShow(e,A)){var a=u.a.resolve(e,A,t).stats;Object(v.c)(A,a)}})),A},m.getDisplayStatKeys=function(e,t){var n=t.characterSheet,a=t.weaponSheet,c=t.artifactSheets,s=e.characterEle,o=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(s,"_dmg_")];n.isAutoElemental||o.push("physical_dmg_");var l=Object(O.d)(b.a[s]),d=n.weaponTypeKey;l.includes("shattered_hit")||"claymore"!==d||l.push("shattered_hit");var j={},h=n.getTalent(s),v=function(t,n){return t.forEach((function(t){var a;t.formula&&(null===t||void 0===t||null===(a=t.canShow)||void 0===a?void 0:a.call(t,e))&&(j[n]||(j[n]=[]),j[n].push(t.formula.keys))}))},f=function(t,n){if(t.conditional&&u.a.canShow(t.conditional,e)){var a=u.a.resolve(t.conditional,e,null).fields;a&&v(a,n)}t.fields&&v(t.fields,n)};h&&Object.entries(h.sheets).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1].sections;"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto"),a.forEach((function(e){return f(e,"talentKey_".concat(n))}))}));var m="weapon_".concat(e.weapon.key);return a.document&&a.document.map((function(e){return f(e,m)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1],r=c[n];r&&Object.entries(r.setEffects).forEach((function(e){var t=Object(i.a)(e,2),c=t[0],r=t[1].document;a<parseInt(c)||r&&r.map((function(e){return f(e,"artifact_".concat(n,"_").concat(c))}))}))})),Object(r.a)(Object(r.a)({basicKeys:o},j),{},{transReactions:l})}},206:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return B}));var a=n(12),c=n(2),r=n(29),i=n(10),s=n(0),o=n(142),l=n(118),u=n(548),d=n(187),j=n(121),b=n(70),h=n(226),v=n(541),O=n(335),f=n(188),m=n(186),p=n(112),x=n(203),g=n(202),y=n(115),S=n(45),w=n(111),k=n(15),_=n(114),K=n(204),E=n(113),N=n(1);function A(e){var t=e.onSelect,n=e.weaponTypeKey,a=Object(s.useContext)(S.b),c=Object(w.a)(E.b.getAll(),[]);return Object(N.jsx)(N.Fragment,{children:a._getCharKeys().filter((function(e){var t;return!n||(null===c||void 0===c||null===(t=c[e])||void 0===t?void 0:t.weaponTypeKey)===n})).sort().map((function(e){return Object(N.jsx)(C,{characterKey:e,onSelect:t},e)}))})}function C(e){var t=e.characterKey,n=e.onSelect,a=Object(w.a)(E.b.get(t),[t]);return a?Object(N.jsx)(m.a.Item,{onClick:function(){return n(t)},children:a.nameWIthIcon}):null}function T(e){var t=e.characterSheet,n=e.onSelect,a=e.filter,r=Object(s.useState)(!1),i=Object(c.a)(r,2),u=i[0],d=i[1],j=t?Object(N.jsxs)("span",{children:[Object(N.jsx)(o.a,{src:t.thumbImg,className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(N.jsxs)("h6",{className:"d-inline",children:[" ",t.name," "]})]}):Object(N.jsx)("span",{children:"Select a Character"});return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{disabled:!n,onClick:function(){return d(!0)},children:j}),Object(N.jsx)(B,{show:u,onHide:function(){return d(!1)},onSelect:n,filter:a})]})}var I={rarity:"Rarity",level:"Level",name:"Name"};function W(e,t){return t===e?"":t}function B(e){var t=e.show,n=e.onHide,f=e.onSelect,m=e.filter,p=void 0===m?function(){return!0}:m,g=Object(s.useContext)(S.b),_=Object(s.useState)((function(){return Object.keys(I)[0]})),K=Object(c.a)(_,2),A=K[0],C=K[1],T=Object(s.useReducer)(W,""),B=Object(c.a)(T,2),H=B[0],M=B[1],V=Object(s.useReducer)(W,""),z=Object(c.a)(V,2),L=z[0],R=z[1],q=Object(w.a)(E.b.getAll(),[]),D=function(e){var t,n;return null!==(t=null===(n=g._getChar(e))||void 0===n?void 0:n.level)&&void 0!==t?t:0},P=function(e){var t;return null===q||void 0===q||null===(t=q[e])||void 0===t?void 0:t.star},J=q?Object(a.a)(new Set(k.c)).filter((function(e){return p(g._getChar(e),q[e])})).filter((function(e){var t,n;return(!H||H===(null===q||void 0===q||null===(t=q[e])||void 0===t?void 0:t.elementKey))&&(!L||L===(null===q||void 0===q||null===(n=q[e])||void 0===n?void 0:n.weaponTypeKey))})).sort((function(e,t){if("name"===A)return e<t?-1:e>t?1:0;if("level"===A){var n=D(t)-D(e);return n||P(t)-P(e)}var a=P(t)-P(e);return a||D(t)-D(e)})):[];return q?Object(N.jsx)(u.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:n,children:Object(N.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",children:[Object(N.jsx)(d.a.Header,{children:Object(N.jsxs)(j.a,{children:[Object(N.jsx)(b.a,{xs:"auto",children:Object(N.jsx)(h.a,{children:k.d.map((function(e){return Object(N.jsx)(l.a,{variant:H&&H!==e?"secondary":e,className:"py-1 px-2 text-white",onClick:function(){return M(e)},children:Object(N.jsx)("h3",{className:"mb-0",children:y.b[e]})},e)}))})}),Object(N.jsx)(b.a,{children:Object(N.jsx)(h.a,{children:k.j.map((function(e){var t;return Object(N.jsx)(l.a,{variant:L&&L!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return R(e)},children:Object(N.jsx)("h3",{className:"mb-0",children:Object(N.jsx)(o.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(N.jsxs)(b.a,{xs:"auto",children:[Object(N.jsx)("span",{children:"Sort by: "}),Object(N.jsx)(v.a,{type:"radio",name:"level",value:A,onChange:C,children:Object.entries(I).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(N.jsx)(O.a,{value:n,variant:A===n?"success":"primary",children:Object(N.jsx)("h6",{className:"mb-0",children:a})},n)}))})]}),Object(N.jsx)(b.a,{xs:"auto",children:Object(N.jsx)(l.a,{onClick:n,variant:"danger",children:Object(N.jsx)(i.a,{icon:r.B})})})]})}),Object(N.jsx)(d.a.Body,{children:Object(N.jsx)(j.a,{children:J.map((function(e){return Object(N.jsx)(F,{characterKey:e,onClick:function(){n(),null===f||void 0===f||f(e)}},e)}))})})]})}):null}function F(e){var t,n=e.onClick,a=e.characterKey,c=Object(s.useContext)(S.b),r=c._getChar(a),i=Object(w.a)(E.b.get(a),[a]),u=(null===r||void 0===r?void 0:r.equippedWeapon)?c._getWeapon(r.equippedWeapon):void 0,d=Object(w.a)(u?_.a.get(u.key):void 0,[null===u||void 0===u?void 0:u.key]),h=Object(w.a)(p.a.getAll(),[]),v=Object(s.useMemo)((function(){return r&&i&&d&&h&&K.a.calculateBuild(r,c,i,d,h)}),[r,i,d,h,c]);return i?Object(N.jsx)(b.a,{lg:3,md:4,className:"mb-2",children:Object(N.jsxs)(l.a,{className:"w-100",variant:"darkcontent",onClick:n,children:[Object(N.jsx)("h5",{children:i.name}),Object(N.jsxs)(j.a,{children:[Object(N.jsx)(b.a,{xs:"auto",className:"pr-0",children:Object(N.jsx)(o.a,{src:i.thumbImg,className:"thumb-big grad-".concat(i.star,"star p-0"),thumbnail:!0})}),Object(N.jsxs)(b.a,{children:[v&&r?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h5",{className:"mb-0",children:["Lv. ",K.a.getLevelString(r)," ","C".concat(r.constellation)]}),Object(N.jsxs)("h6",{className:"mb-0",children:[Object(N.jsx)(f.a,{variant:"secondary",children:Object(N.jsx)("strong",{className:"mx-1",children:v.tlvl.auto+1})})," ",Object(N.jsx)(f.a,{variant:"secondary",children:Object(N.jsx)("strong",{className:"mx-1",children:v.tlvl.skill+1})})," ",Object(N.jsx)(f.a,{variant:"secondary",children:Object(N.jsx)("strong",{className:"mx-1",children:v.tlvl.burst+1})})]})]}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("h4",{children:Object(N.jsx)(f.a,{variant:"primary",children:"NEW"})})}),Object(N.jsx)("h6",{className:"mb-0",children:Object(N.jsx)(g.a,{stars:i.star,colored:!0})}),Object(N.jsxs)("h3",{className:"mb-0",children:[i.elementKey&&y.a[i.elementKey]," ",Object(N.jsx)(o.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[i.weaponTypeKey],className:"inline-icon"})]})]})]})]})},a):null}},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),c=n(12),r=n(69),i=n(40);function s(e){var t=new Set;return e(new Proxy({},{get:function(e,n,a){t.add(n.toString())}})),Object(c.a)(t)}var o=Object.freeze(Object.fromEntries(Object.entries(i.b).map((function(e){var t=Object(a.a)(e,2);return[t[0],s(t[1])]}))));function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(i.d),a=new Set,r=Object(c.a)(Array(i.f)).map((function(e){return new Set}));return n.forEach((function(n){return u(e,n,t,r,a)})),r.flatMap((function(e){return Object(c.a)(e)}))}function u(e,t,n,a,c){var s,l;c.has(t)||(c.add(t),null===(s=o[t])||void 0===s||s.forEach((function(t){return u(e,t,n,a,c)})),(null!==(l=n[t])&&void 0!==l?l:[]).forEach((function(t){return r.a.getCurrent(t,e)[1].forEach((function(t){return u(e,t,n,a,c)}))})),a[Object(i.e)(t)].add(t))}},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(2),c=n(29),r=n(10),i=n(0),s=n(548),o=n(187),l=n(121),u=n(70),d=n(118),j=n(197),b=n(34),h=n(11),v=n(80),O=n(1);function f(e){var t,n,f=e.pageKey,m=void 0===f?"":f,p=e.text,x=void 0===p?"":p,g=e.modalTitle,y=void 0===g?"":g,S=e.children,w=Object(i.useState)(null===(t=null===(n=b.b.get("infoShown"))||void 0===n?void 0:n[m])||void 0===t||t),k=Object(a.a)(w,2),_=k[0],K=k[1],E=Object(i.useState)(Array.isArray(x)?Object(h.g)(x):x),N=Object(a.a)(E,1)[0],A=function(){var e,t=null!==(e=b.b.get("infoShown"))&&void 0!==e?e:{};t[m]=!1,b.b.set("infoShown",t),K(!1)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s.a,{show:_,onHide:function(){return A()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(O.jsxs)(o.a,{bg:"darkcontent",text:"lightfont",children:[Object(O.jsx)(o.a.Header,{children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)(u.a,{children:Object(O.jsx)(o.a.Title,{children:y})}),Object(O.jsx)(u.a,{xs:"auto",children:Object(O.jsx)(d.a,{variant:"danger",onClick:function(){return A()},children:Object(O.jsx)(r.a,{icon:c.B})})})]})}),Object(O.jsx)(o.a.Body,{children:Object(O.jsx)(i.Suspense,{fallback:Object(O.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(O.jsx)(j.a,{animation:"border",variant:"primary"})]}),children:S})}),Object(O.jsx)(o.a.Footer,{children:Object(O.jsx)(d.a,{variant:"danger",onClick:function(){return A()},children:Object(O.jsx)("span",{children:"Close"})})})]})}),Object(O.jsx)(o.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(O.jsx)(o.a.Body,{className:"pl-2 py-0 pr-0",children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)(u.a,{children:Object(O.jsx)("small",{children:N})}),Object(O.jsx)(u.a,{xs:"auto",children:Object(O.jsxs)(d.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return K(!0)},children:[Object(O.jsx)(v.a,{ns:"ui",key18:"info"})," ",Object(O.jsx)(r.a,{icon:c.v})]})})]})})})]})}}}]);
//# sourceMappingURL=6.70fe8522.chunk.js.map