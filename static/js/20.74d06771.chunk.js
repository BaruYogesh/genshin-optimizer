(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[20],{275:function(e,t,n){"use strict";var a=n(10),c=n(392),r=Object(a.a)(c.a)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.a=r},276:function(e,t,n){"use strict";var a=n(10),c=n(392),r=Object(a.a)(c.a)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.a=r},277:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5),c=n(3),r=n(129),i=n(696),o=n(270),s=n(168),l=n(670),u=n(1),j=n(0);function d(e){var t=e.title,n=e.children,d=e.id,b=void 0===d?"dropdownbtn":d,O=Object(r.a)(e,["title","children","id"]),x=Object(u.useState)(null),p=Object(c.a)(x,2),h=p[0],f=p[1],v=Boolean(h),m=Object(u.useCallback)((function(e){return f(e.currentTarget)}),[f]),g=Object(u.useCallback)((function(){return f(null)}),[f]);return Object(j.jsxs)(u.Suspense,{fallback:Object(j.jsx)(o.a,Object(a.a)(Object(a.a)({endIcon:Object(j.jsx)(i.a,{})},O),{},{children:Object(j.jsx)(s.a,{width:50})})),children:[Object(j.jsx)(o.a,Object(a.a)(Object(a.a)({},O),{},{id:b,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":v?"true":void 0,onClick:m,endIcon:Object(j.jsx)(i.a,{}),children:t})),Object(j.jsx)(l.a,{id:"basic-menu",anchorEl:h,open:v,onClose:g,MenuListProps:{"aria-labelledby":b},onClick:g,children:Object(j.jsx)(u.Suspense,{fallback:Object(j.jsx)(s.a,{width:"100%",height:"1000"}),children:n})})]})}},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(11),c=n(51),r=n(17),i=n(79),o=n(0),s=function(){return Object(o.jsx)(r.a,{icon:c.A})},l=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(o.jsx)(i.a,{color:c?"warning.main":void 0,component:"span",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(o.jsx)(s,{},t)})):null})}},282:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:n.p+"static/media/icon_catalyst.db078b7b.png",claymore:n.p+"static/media/icon_claymore.63b1abb8.png",polearm:n.p+"static/media/icon_polearm.e5f4a2a1.png",sword:n.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,c=n(5),r=n(46),i=n(129),o=n(694),s=n(270),l=n(128),u=n(0);function j(e){var t=e.large,n=void 0!==t&&t,j=Object(i.a)(e,["large"]),d=Object(l.a)("ui").t;return n?Object(u.jsx)(s.a,Object(c.a)(Object(c.a)({color:"error",startIcon:Object(u.jsx)(o.a,{})},j),{},{children:d(a||(a=Object(r.a)(["close"])))})):Object(u.jsx)(s.a,Object(c.a)(Object(c.a)({color:"error",sx:{p:1,minWidth:0}},j),{},{children:Object(u.jsx)(o.a,{})}))}},286:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(5),c=n(129),r=n(10),i=n(259),o=n(272),s=n(393),l=n(168),u=n(1),j=n(275),d=n(0),b=Object(r.a)(i.a)((function(e){var t=e.theme;return{overflow:"scroll",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)}})),O=Object(r.a)(o.a)((function(e){e.theme;return{padding:0,minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center",pointerEvents:"none","& > *":{pointerEvents:"auto"}}}));function x(e){var t=e.children,n=e.containerProps,r=Object(c.a)(e,["children","containerProps"]);return Object(d.jsx)(b,Object(a.a)(Object(a.a)({},r),{},{children:Object(d.jsx)(O,Object(a.a)(Object(a.a)({},n),{},{children:Object(d.jsx)(u.Suspense,{fallback:Object(d.jsx)(j.a,{children:Object(d.jsx)(s.a,{children:Object(d.jsx)(l.a,{variant:"rectangular",width:"100%",height:300})})}),children:t})}))}))}},287:function(e,t,n){"use strict";var a=n(10),c=n(712),r=Object(a.a)(c.a,{shouldForwardProp:function(e){return"baseColor"!==e}})((function(e){var t=e.theme,n=e.baseColor,a=void 0===n?"primary":n,c=e.selectedColor,r=void 0===c?"success":c;return{"& .MuiToggleButtonGroup-grouped":{"&":{backgroundColor:t.palette[a].main,color:t.palette[a].contrastText},"&:hover":{backgroundColor:t.palette[a].dark},"&.Mui-selected":{backgroundColor:t.palette[r].main,color:t.palette[r].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[r].dark},"&.Mui-disabled":{backgroundColor:t.palette[a].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[r].dark}}}}));t.a=r},288:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),c=n(1);function r(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],r=t[1];return[n,Object(c.useCallback)((function(){return r({})}),[])]}},290:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return C}));var a,c,r,i,o=n(5),s=n(46),l=n(129),u=n(328),j=n(329),d=n(716),b=n(251),O=n(79),x=n(252),p=n(1),h=n(128),f=n(133),v=n(172),m=n(130),g=n(277),y=n(96),w=n(0);function k(e){var t,n=e.value,k=e.onChange,I=e.inventory,T=void 0!==I&&I,W=e.noUnselect,S=void 0!==W&&W,_=e.filter,N=void 0===_?function(){return!0}:_,A=Object(l.a)(e,["value","onChange","inventory","noUnselect","filter"]),D=Object(h.a)("ui").t,M=Object(p.useContext)(v.b),E=Object(m.a)(f.b.getAll(),[]),z=Object(m.a)(f.b.get(n),[n]),G=M._getCharKeys().filter((function(e){return(null===E||void 0===E?void 0:E[e])&&N(E[e])})).sort();return Object(w.jsxs)(g.a,Object(o.a)(Object(o.a)({},A),{},{title:null!==(t=null===z||void 0===z?void 0:z.name)&&void 0!==t?t:D(T?a||(a=Object(s.a)(["inventory"])):c||(c=Object(s.a)(["unselect"]))),color:n?"success":"primary",startIcon:(null===z||void 0===z?void 0:z.thumbImg)?Object(w.jsx)(y.a,{src:z.thumbImg}):T?Object(w.jsx)(u.a,{}):Object(w.jsx)(j.a,{}),children:[!S&&(T?Object(w.jsxs)(d.a,{onClick:function(){return k("")},selected:""===n,disabled:""===n,children:[Object(w.jsx)(b.a,{children:Object(w.jsx)(u.a,{})}),Object(w.jsx)(O.a,{variant:"inherit",noWrap:!0,children:D(r||(r=Object(s.a)(["inventory"])))})]}):Object(w.jsxs)(d.a,{onClick:function(){return k("")},selected:""===n,disabled:""===n,children:[Object(w.jsx)(b.a,{children:Object(w.jsx)(j.a,{})}),Object(w.jsx)(O.a,{variant:"inherit",noWrap:!0,children:D(i||(i=Object(s.a)(["unselect"])))})]})),!S&&Object(w.jsx)(x.a,{},"div"),!!E&&C(E,G,k,n)]}))}function C(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c;return Object(w.jsxs)(d.a,{onClick:function(){return n(t)},selected:a===t,disabled:a===t,children:[Object(w.jsx)(b.a,{children:Object(w.jsx)(y.a,{src:e[t].thumbImg})}),Object(w.jsx)(O.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.name})]},t)}))}},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,c=n(46),r=n(328),i=n(79),o=n(128),s=n(133),l=n(130),u=n(0);function j(e){var t=e.location,n=Object(o.a)("ui").t,j=Object(l.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(u.jsx)(i.a,{component:"span",children:(null===j||void 0===j?void 0:j.name)?j.nameWIthIcon:Object(u.jsxs)("span",{children:[Object(u.jsx)(r.a,{})," ",n(a||(a=Object(c.a)(["inventory"])))]})})}},296:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5),c=n(129),r=n(717),i=n(1),o=n(282),s=n(20),l=n(96),u=n(287),j=n(0);function d(e){var t=e.value,n=e.onChange,d=Object(c.a)(e,["value","onChange"]),b=Object(i.useCallback)((function(e,t){return n(t||"")}),[n]);return Object(j.jsx)(u.a,Object(a.a)(Object(a.a)({exclusive:!0,onChange:b,value:t||s.j},d),{},{children:s.j.map((function(e){var t;return Object(j.jsx)(r.a,{value:e,children:Object(j.jsx)(l.a,{src:null===(t=o.a.weaponTypes)||void 0===t?void 0:t[e],size:2})},e)}))}))}},297:function(e,t,n){"use strict";function a(e){var t=e.condition,n=e.wrapper,a=e.children;return t?n(a):a}n.d(t,"a",(function(){return a}))},299:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(5),c=n(129),r=n(51),i=n(17),o=n(672),s=n(716),l=n(270),u=n(128),j=n(94),d=n(277),b=n(0);function O(e){var t=e.sortKeys,n=e.value,O=e.onChange,x=e.ascending,p=e.onChangeAsc,h=Object(c.a)(e,["sortKeys","value","onChange","ascending","onChangeAsc"]),f=Object(u.a)("ui").t;return Object(b.jsxs)(o.a,Object(a.a)(Object(a.a)({},h),{},{children:[Object(b.jsx)(d.a,{title:Object(b.jsxs)(j.a,{t:f,i18nKey:"sortByFormat",value:f("sortMap.".concat(n)),children:["Sort By: ",{value:f("sortMap.".concat(n))}]}),children:t.map((function(e){return Object(b.jsx)(s.a,{selected:n===e,disabled:n===e,onClick:function(){return O(e)},children:f("sortMap.".concat(e))},e)}))}),Object(b.jsx)(l.a,{onClick:function(){return p(!x)},startIcon:Object(b.jsx)(i.a,{icon:x?r.x:r.y,className:"fa-fw"}),children:x?Object(b.jsx)(j.a,{t:f,i18nKey:"ascending",children:"Ascending"}):Object(b.jsx)(j.a,{t:f,i18nKey:"descending",children:"Descending"})})]}))}},305:function(e,t,n){"use strict";function a(e,t,n){function a(e,t,n,a){var c=a.getValue(e),r=a.getValue(t);return(n?-1:1)*("string"===typeof c&&"string"===typeof c?e.localeCompare(t):r-c)}return function(c,r){var i=n[e],o=a(c,r,t,i);return!o&&i.tieBreaker&&(o=a(c,r,t,n[i.tieBreaker])),o}}n.d(t,"a",(function(){return a}))},306:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(11),c=n(3),r=n(393),i=n(263),o=n(252),s=n(349),l=n(219),u=n(79),j=n(1),d=n(282),b=n(130),O=n(20),x=n(134),p=n(276),h=n(275),f=n(283),v=n(96),m=n(286),g=n(280),y=n(296),w=n(0);function k(e){var t=e.show,n=e.onHide,k=e.onSelect,C=e.filter,I=void 0===C?function(){return!0}:C,T=e.weaponFilter,W=Object(b.a)(x.a.getAll(),[]),S=Object(j.useState)(null!==T&&void 0!==T?T:""),_=Object(c.a)(S,2),N=_[0],A=_[1];Object(j.useEffect)((function(){return T&&A(T)}),[T]);var D=W?Object(a.a)(new Set(O.i)).filter((function(e){return I(W[e])})).filter((function(e){var t;return!N||N===(null===W||void 0===W||null===(t=W[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var n,a,c,r;return(null!==(n=null===W||void 0===W||null===(a=W[t])||void 0===a?void 0:a.rarity)&&void 0!==n?n:0)-(null!==(c=null===W||void 0===W||null===(r=W[e])||void 0===r?void 0:r.rarity)&&void 0!==c?c:0)})):[];return W?Object(w.jsx)(m.a,{open:t,onClose:n,children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(r.a,{sx:{py:1},children:Object(w.jsxs)(i.a,{container:!0,children:[Object(w.jsx)(i.a,{item:!0,flexGrow:1,children:Object(w.jsx)(y.a,{value:N,onChange:A,disabled:!!T,size:"small"})}),Object(w.jsx)(i.a,{item:!0,children:Object(w.jsx)(f.a,{onClick:n})})]})}),Object(w.jsx)(o.a,{}),Object(w.jsx)(r.a,{children:Object(w.jsx)(i.a,{container:!0,spacing:1,children:D.map((function(e){var t,a=W[e];return Object(w.jsx)(i.a,{item:!0,lg:3,md:4,children:Object(w.jsx)(h.a,{sx:{height:"100%"},children:Object(w.jsxs)(s.a,{onClick:function(){n(),k(e)},sx:{display:"flex"},children:[Object(w.jsx)(l.a,{component:"img",src:a.img,sx:{width:100,height:"auto"},className:" grad-".concat(a.rarity,"star")}),Object(w.jsxs)(l.a,{sx:{flexGrow:1,px:1},children:[Object(w.jsx)(u.a,{variant:"subtitle1",children:a.name}),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(v.a,{src:null===(t=d.a.weaponTypes)||void 0===t?void 0:t[a.weaponType]})," ",Object(w.jsx)(g.a,{stars:a.rarity,colored:!0})]})]})]})})},e)}))})}),Object(w.jsx)(o.a,{}),Object(w.jsx)(r.a,{sx:{py:1},children:Object(w.jsx)(f.a,{large:!0,onClick:n})})]})}):null}},307:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a=n(3),c=n(51),r=n(17),i=n(339),o=n(340),s=n(349),l=n(168),u=n(671),j=n(271),d=n(219),b=n(263),O=n(79),x=n(393),p=n(672),h=n(270),f=n(1),v=n(282),m=n(275),g=n(290),y=n(295),w=n(297),k=n(96),C=n(280),I=n(132),T=n(47),W=n(172),S=n(130),_=n(40),N=n(134),A=n(0);function D(e){var t,n=e.weaponId,D=e.onClick,M=e.onEdit,E=e.onDelete,z=e.canEquip,G=void 0!==z&&z,K=Object(f.useContext)(W.b),P=Object(f.useState)(void 0),B=Object(a.a)(P,2),V=B[0],H=B[1];Object(f.useEffect)((function(){return n?K.followWeapon(n,H):void 0}),[n,H,K]);var L=V,R=Object(S.a)((null===L||void 0===L?void 0:L.key)&&N.a.get(L.key),[null===L||void 0===L?void 0:L.key]),F=Object(f.useCallback)((function(e){return e.weaponTypeKey===(null===R||void 0===R?void 0:R.weaponType)}),[R]),U=Object(f.useCallback)((function(e){return Object(A.jsx)(s.a,{onClick:function(){return null===D||void 0===D?void 0:D(n)},sx:{height:"100%"},children:e})}),[D,n]),q=Object(f.useCallback)((function(e){return K.setWeaponLocation(n,e)}),[K,n]);if(!L||!R)return null;var J=L.level,Q=L.ascension,X=L.refinement,Y=L.id,Z=L.location,$=void 0===Z?"":Z,ee=L.lock,te=R.weaponType,ne=R.getMainStatValue(J,Q).toFixed(_.b.fixedUnit("atk")),ae=R.getSubStatKey(),ce=R.getSubStatValue(J,Q).toFixed(_.b.fixedUnit(ae)),re=[["weaponATK",ne]];return(null===R||void 0===R?void 0:R.passiveName)&&re.push([ae,ce]),Object(A.jsx)(f.Suspense,{fallback:Object(A.jsx)(l.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(A.jsx)(w.a,{condition:!!D,wrapper:U,children:Object(A.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(A.jsxs)("div",{className:"grad-".concat(R.rarity,"star"),children:[Object(A.jsx)(u.a,{title:R.name,avatar:Object(A.jsx)(k.a,{sx:{fontSize:"2em"},src:null===(t=v.a.weaponTypes)||void 0===t?void 0:t[te]}),titleTypographyProps:{variant:"h6"},action:!D&&Object(A.jsx)(j.a,{color:"secondary",onClick:function(){return K.updateWeapon({lock:!ee},Y)},children:ee?Object(A.jsx)(i.a,{}):Object(A.jsx)(o.a,{})})}),Object(A.jsx)(d.a,{sx:{px:2},children:Object(A.jsxs)(b.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(A.jsxs)(b.a,{item:!0,flexGrow:1,children:[Object(A.jsxs)(O.a,{component:"span",variant:"h4",children:["Lv. ",J]}),Object(A.jsxs)(O.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",T.b[Q]]}),Object(A.jsxs)(O.a,{variant:"h5",children:["Refinement ",Object(A.jsx)("strong",{children:X})]}),Object(A.jsx)(O.a,{children:Object(A.jsx)(C.a,{stars:R.rarity,colored:!0})})]}),Object(A.jsx)(b.a,{item:!0,container:!0,xs:3,md:4,alignContent:"flex-end",children:Object(A.jsx)(d.a,{component:"img",src:R.img,width:"100%",height:"auto",sx:{mt:"auto"}})})]})})]}),Object(A.jsx)(x.a,{children:re.map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1],r=_.b.getStatUnit(n);return Object(A.jsxs)(d.a,{sx:{display:"flex"},children:[Object(A.jsxs)(O.a,{flexGrow:1,children:[I.a[n]," ",_.b.getStatName(n)]}),Object(A.jsx)(O.a,{children:c+r})]},n)}))}),Object(A.jsx)(d.a,{flexGrow:1}),Object(A.jsxs)(b.a,{container:!0,sx:{flexWrap:"nowrap",py:1,px:2},children:[Object(A.jsx)(b.a,{item:!0,xs:"auto",flexShrink:1,children:G?Object(A.jsx)(g.b,{size:"small",noUnselect:!0,inventory:!0,value:$,onChange:q,filter:F}):Object(A.jsx)(y.a,{location:$})}),Object(A.jsx)(b.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(A.jsx)(b.a,{item:!0,xs:"auto",children:Object(A.jsxs)(p.a,{sx:{height:"100%"},children:[!!M&&Object(A.jsx)(h.a,{color:"info",size:"small",onClick:function(){return M(Y)},children:Object(A.jsx)(r.a,{icon:c.m,className:"fa-fw"})}),!!E&&Object(A.jsx)(h.a,{color:"error",size:"small",onClick:function(){return E(Y)},disabled:!!$||ee,children:Object(A.jsx)(r.a,{icon:c.D,className:"fa-fw"})})]})})]})]})})})}},714:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));var a=n(69),c=n.n(a),r=n(99),i=n(3),o=n(5),s=n(51),l=n(17),u=n(219),j=n(263),d=n(717),b=n(668),O=n(79),x=n(168),p=n(393),h=n(270),f=n(118),v=n(1),m=n(83),g=n(276),y=n(287),w=n(299),k=n(280),C=n(296),I=n(172),T=n(135),W=n(288),S=n(130),_=n(20),N=n(305),A=n(15),D=["level","rarity"];var M=n(307),E=n(306),z=n(134),G=n(139),K=n(0),P=Object(v.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(21)]).then(n.bind(null,320))})),B=function(){return{editWeaponId:"",sortType:D[0],ascending:!1,rarity:[5,4],weaponType:"",maxNumToDisplay:30}};function V(e,t){return Object(o.a)(Object(o.a)({},e),t)}function H(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B();return Object(o.a)(Object(o.a)({},t),null!==(e=T.b.get("WeaponDisplay.state"))&&void 0!==e?e:{})}function L(e){var t=Object(v.useContext)(I.b),n=Object(v.useReducer)(V,B(),H),a=Object(i.a)(n,2),o=a[0],L=a[1],R=Object(v.useState)(!1),F=Object(i.a)(R,2),U=F[0],q=F[1],J=Object(W.a)(),Q=Object(i.a)(J,2),X=Q[0],Y=Q[1],Z=Object(v.useRef)(null),$=Object(v.useRef)(null),ee=Object(v.useState)(0),te=Object(i.a)(ee,2),ne=te[0],ae=te[1];Object(v.useEffect)((function(){return m.a.pageview("/weapon"),t.followAnyWeapon(Y)}),[Y,t]),Object(v.useEffect)((function(){T.b.set("WeaponDisplay.state",o)}),[o]);var ce=Object(S.a)(z.a.getAll(),[]),re=Object(v.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._getWeapon(n)){e.next=3;break}return e.abrupt("return");case 3:if(r=f.a.t("weapon_".concat(a.key,"_gen:name")),window.confirm("Are you sure you want to remove ".concat(r,"?"))){e.next=6;break}return e.abrupt("return");case 6:t.removeWeapon(n),o.editWeaponId===n&&L({editWeaponId:""});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o.editWeaponId,L,t]),ie=Object(v.useCallback)((function(e){L({editWeaponId:e}),setTimeout((function(){var e;null===(e=Z.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[L,Z]),oe=Object(v.useCallback)((function(e){ie(t.createWeapon(Object(G.b)(e)))}),[t,ie]),se=Object(v.useMemo)((function(){return ce&&function(e,t){return{level:{getValue:function(t){var n,a;return null!==(n=null===(a=e._getWeapon(t))||void 0===a?void 0:a.level)&&void 0!==n?n:0},tieBreaker:"rarity"},rarity:{getValue:function(n){var a,c;return null===t||void 0===t||null===(a=t[null===(c=e._getWeapon(n))||void 0===c?void 0:c.key])||void 0===a?void 0:a.rarity},tieBreaker:"level"}}}(t,ce)}),[t,ce]),le=Object(v.useMemo)((function(){var e=t.weapons.keys;if(!se)return{weaponIdList:[],totalWeaponNum:e.length};var n=e.filter((function(e){var n,a,c=t._getWeapon(e);return!!c&&((!o.weaponType||o.weaponType===(null===ce||void 0===ce||null===(n=ce[c.key])||void 0===n?void 0:n.weaponType))&&!!o.rarity.includes(null===ce||void 0===ce||null===(a=ce[c.key])||void 0===a?void 0:a.rarity))})).sort(Object(N.a)(o.sortType,o.ascending,se));return X&&{weaponIdList:n,totalWeaponNum:e.length}}),[X,ce,t,se,o.sortType,o.ascending,o.rarity,o.weaponType]),ue=le.weaponIdList,je=le.totalWeaponNum,de=Object(v.useMemo)((function(){var e=Math.ceil(ue.length/o.maxNumToDisplay),t=Object(A.a)(ne,0,e-1);return{weaponIdsToShow:ue.slice(t*o.maxNumToDisplay,(t+1)*o.maxNumToDisplay),numPages:e,currentPageIndex:t}}),[ue,ne,o.maxNumToDisplay]),be=de.weaponIdsToShow,Oe=de.numPages,xe=de.currentPageIndex,pe=ue.length!==je?"".concat(ue.length,"/").concat(je):"".concat(je),he=Object(v.useCallback)((function(e,t){var n;null===(n=$.current)||void 0===n||n.scrollIntoView({behavior:"smooth"}),ae(t-1)}),[ae,$]),fe=Object(v.useCallback)((function(){return L({editWeaponId:""})}),[L]),ve=o.editWeaponId;return Object(K.jsxs)(u.a,{sx:{mt:1,"> div":{mb:1}},children:[!!ve&&Object(K.jsx)(u.a,{ref:Z,children:Object(K.jsx)(P,{weaponId:ve,footer:!0,onClose:fe})}),Object(K.jsxs)(g.a,{ref:$,sx:{p:2,pb:1},children:[Object(K.jsxs)(j.a,{container:!0,spacing:1,sx:{mb:1},children:[Object(K.jsx)(j.a,{item:!0,children:Object(K.jsx)(C.a,{sx:{height:"100%"},onChange:function(e){return L({weaponType:e})},value:o.weaponType,size:"small"})}),Object(K.jsx)(j.a,{item:!0,flexGrow:1,children:Object(K.jsx)(y.a,{sx:{height:"100%"},onChange:function(e,t){return L({rarity:t})},value:o.rarity,size:"small",children:_.f.map((function(e){return Object(K.jsxs)(d.a,{value:e,children:[Object(K.jsxs)("strong",{children:[e," "]}),Object(K.jsx)(k.a,{stars:1})]},e)}))})}),Object(K.jsx)(j.a,{item:!0,children:Object(K.jsx)(w.a,{sx:{height:"100%"},sortKeys:D,value:o.sortType,onChange:function(e){return L({sortType:e})},ascending:o.ascending,onChangeAsc:function(e){return L({ascending:e})}})})]}),Object(K.jsxs)(j.a,{container:!0,alignItems:"flex-end",children:[Object(K.jsx)(j.a,{item:!0,flexGrow:1,children:Object(K.jsx)(b.a,{count:Oe,page:xe+1,onChange:he})}),Object(K.jsx)(j.a,{item:!0,children:Object(K.jsxs)(O.a,{color:"text.secondary",children:["Showing ",Object(K.jsx)("b",{children:be.length})," out of ",pe," Weapons"]})})]})]}),Object(K.jsx)(j.a,{container:!0,spacing:1,children:Object(K.jsxs)(v.Suspense,{fallback:Object(K.jsx)(j.a,{item:!0,xs:12,children:Object(K.jsx)(x.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:500}})}),children:[!ve&&Object(K.jsx)(j.a,{item:!0,xs:6,md:4,lg:4,xl:3,children:Object(K.jsxs)(g.a,{sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[Object(K.jsx)(p.a,{children:Object(K.jsx)(O.a,{sx:{textAlign:"center"},children:"Add New Weapon"})}),Object(K.jsx)(E.a,{show:U,onHide:function(){return q(!1)},onSelect:oe}),Object(K.jsx)(u.a,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(K.jsx)(h.a,{onClick:function(){return q(!0)},sx:{borderRadius:"1em"},children:Object(K.jsx)(O.a,{variant:"h1",children:Object(K.jsx)(l.a,{icon:s.u,className:"fa-fw"})})})})]})}),be.map((function(e){return Object(K.jsx)(j.a,{item:!0,xs:12,sm:6,md:4,lg:4,xl:3,children:Object(K.jsx)(M.a,{weaponId:e,onDelete:re,onEdit:ie,canEquip:!0})},e)}))]})})]})}}}]);
//# sourceMappingURL=20.74d06771.chunk.js.map