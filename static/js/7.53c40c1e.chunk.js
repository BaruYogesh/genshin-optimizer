(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[7],{282:function(e,t,c){"use strict";var n={weaponTypes:{bow:c.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:c.p+"static/media/icon_catalyst.db078b7b.png",claymore:c.p+"static/media/icon_claymore.63b1abb8.png",polearm:c.p+"static/media/icon_polearm.e5f4a2a1.png",sword:c.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:c.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:c.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:c.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:c.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:c.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},295:function(e,t,c){"use strict";c.d(t,"a",(function(){return d}));var n,a=c(46),i=c(328),r=c(79),s=c(128),l=c(133),o=c(130),j=c(0);function d(e){var t=e.location,c=Object(s.a)("ui").t,d=Object(o.a)(l.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(j.jsx)(r.a,{component:"span",children:(null===d||void 0===d?void 0:d.name)?d.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(i.a,{})," ",c(n||(n=Object(a.a)(["inventory"])))]})})}},296:function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var n=c(5),a=c(129),i=c(717),r=c(1),s=c(282),l=c(20),o=c(96),j=c(287),d=c(0);function u(e){var t=e.value,c=e.onChange,u=Object(a.a)(e,["value","onChange"]),b=Object(r.useCallback)((function(e,t){return c(t||"")}),[c]);return Object(d.jsx)(j.a,Object(n.a)(Object(n.a)({exclusive:!0,onChange:b,value:t||l.j},u),{},{children:l.j.map((function(e){var t;return Object(d.jsx)(i.a,{value:e,children:Object(d.jsx)(o.a,{src:null===(t=s.a.weaponTypes)||void 0===t?void 0:t[e],size:2})},e)}))}))}},299:function(e,t,c){"use strict";c.d(t,"a",(function(){return x}));var n=c(5),a=c(129),i=c(51),r=c(17),s=c(672),l=c(716),o=c(270),j=c(128),d=c(94),u=c(277),b=c(0);function x(e){var t=e.sortKeys,c=e.value,x=e.onChange,h=e.ascending,O=e.onChangeAsc,p=Object(a.a)(e,["sortKeys","value","onChange","ascending","onChangeAsc"]),v=Object(j.a)("ui").t;return Object(b.jsxs)(s.a,Object(n.a)(Object(n.a)({},p),{},{children:[Object(b.jsx)(u.a,{title:Object(b.jsxs)(d.a,{t:v,i18nKey:"sortByFormat",value:v("sortMap.".concat(c)),children:["Sort By: ",{value:v("sortMap.".concat(c))}]}),children:t.map((function(e){return Object(b.jsx)(l.a,{selected:c===e,disabled:c===e,onClick:function(){return x(e)},children:v("sortMap.".concat(e))},e)}))}),Object(b.jsx)(o.a,{onClick:function(){return O(!h)},startIcon:Object(b.jsx)(r.a,{icon:h?i.x:i.y,className:"fa-fw"}),children:h?Object(b.jsx)(d.a,{t:v,i18nKey:"ascending",children:"Ascending"}):Object(b.jsx)(d.a,{t:v,i18nKey:"descending",children:"Descending"})})]}))}},303:function(e,t,c){"use strict";c.d(t,"a",(function(){return R}));var n,a,i,r=c(46),s=c(3),l=c(51),o=c(17),j=c(339),d=c(340),u=c(79),b=c(168),x=c(393),h=c(219),O=c(347),p=c(271),v=c(263),f=c(348),m=c(395),g=c(672),y=c(270),w=c(702),S=c(1),C=c(128),k=c(291),_=c(275),B=c(290),K=c(295),A=c(32),T=c(279),N=c(280),E=c(172),q=c(130),W=c(40),F=c(70),D=c(137),I=c(15),L=c(81),z=c(131),M=c(138),G=c(304),V=c(0),U=new Set(F.b);function R(e){var t,c,F,R,P=e.artifactId,H=e.artifactObj,J=e.onEdit,X=e.onDelete,Q=e.mainStatAssumptionLevel,Y=void 0===Q?0:Q,Z=e.effFilter,$=void 0===Z?U:Z,ee=Object(C.a)(["artifact"]).t,te=Object(S.useContext)(E.b),ce=Object(S.useState)(void 0),ne=Object(s.a)(ce,2),ae=ne[0],ie=ne[1];Object(S.useEffect)((function(){return P?te.followArt(P,ie):void 0}),[P,ie,te]);var re=Object(q.a)(z.a.get(null===(t=null!==H&&void 0!==H?H:P?te._getArt(P):void 0)||void 0===t?void 0:t.setKey),[H,P]),se=!H&&te===E.c,le=null!==H&&void 0!==H?H:ae;if(!le)return null;var oe=le.id,je=le.lock,de=le.slotKey,ue=le.rarity,be=le.level,xe=le.mainStatKey,he=le.substats,Oe=le.exclude,pe=le.location,ve=void 0===pe?"":pe,fe=Math.max(Math.min(Y,4*ue),be),me="roll"+(Math.floor(Math.max(be,0)/4)+1),ge=Object(V.jsx)(A.a,{color:fe!==be?"warning":void 0,children:Object(D.b)(null!==(c=L.a.mainStatValue(xe,ue,fe))&&void 0!==c?c:0,W.b.getStatUnit(xe))}),ye=L.a.getArtifactEfficiency(le,$),we=ye.currentEfficiency,Se=ye.maxEfficiency,Ce=0!==Se,ke=(null===re||void 0===re?void 0:re.getSlotName(de))||"Unknown Piece Name",_e=null===re||void 0===re?void 0:re.getSlotDesc(de),Be=_e&&Object(V.jsx)(k.a,{placement:"top",title:Object(V.jsx)(u.a,{children:_e}),children:Object(V.jsx)("span",{children:Object(V.jsx)(o.a,{icon:l.s})})}),Ke=null===re||void 0===re?void 0:re.setEffects,Ae=re&&Ke&&Object(V.jsx)(k.a,{placement:"top",title:Object(V.jsx)("span",{children:Object.keys(Ke).map((function(e){return Object(V.jsxs)("span",{children:[Object(V.jsx)(u.a,{variant:"h6",children:Object(V.jsx)(T.a,{color:"success",children:ee("setEffectNum",{setNum:e})})}),Object(V.jsx)(u.a,{children:re.setEffectDesc(e)})]},e)}))}),children:Object(V.jsx)("span",{children:Object(V.jsx)(o.a,{icon:l.s})})});return Object(V.jsx)(S.Suspense,{fallback:Object(V.jsx)(b.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(V.jsxs)(_.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(V.jsxs)(x.a,{className:"grad-".concat(ue,"star"),sx:{py:1},children:[Object(V.jsxs)(h.a,{component:"div",sx:{display:"flex",alignItems:"center"},children:[Object(V.jsx)(O.a,{label:Object(V.jsx)("strong",{children:" +".concat(be)}),color:me}),Object(V.jsxs)(u.a,{sx:{pl:1,flexGrow:1},children:[ke," ",Be]}),Object(V.jsx)(p.a,{color:"secondary",disabled:!se,onClick:function(){return te.updateArt({lock:!je},oe)},children:je?Object(V.jsx)(j.a,{}):Object(V.jsx)(d.a,{})})]}),Object(V.jsxs)(v.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(V.jsxs)(v.a,{item:!0,flexGrow:1,children:[Object(V.jsx)(u.a,{color:"text.secondary",variant:"body2",children:Object(V.jsx)(M.c,{slotKey:de})}),Object(V.jsx)(u.a,{variant:"h6",children:W.b.getStatName(xe)}),Object(V.jsx)(u.a,{variant:"h5",children:Object(V.jsx)("strong",{children:ge})}),Object(V.jsx)(N.a,{stars:ue,colored:!0})]}),Object(V.jsx)(v.a,{item:!0,xs:3,md:4,children:Object(V.jsx)(f.a,{component:"img",image:null!==(F=null===re||void 0===re?void 0:re.slotIcons[de])&&void 0!==F?F:"",width:"100%",height:"auto"})})]})]}),Object(V.jsxs)(x.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[he.map((function(e,t){var c,n,a;if(!e.value)return null;var i=null!==(c=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==c?c:0,r="roll".concat(Object(I.a)(i,1,6)),s=null!==(a=e.efficiency)&&void 0!==a?a:0,l=.3+s/100*.7,o=W.b.getStatName(e.key);return Object(V.jsxs)(h.a,{sx:{display:"flex"},children:[Object(V.jsxs)(h.a,{sx:{flexGrow:1},children:[Object(V.jsx)(T.a,{color:i?r:"error",sx:{mr:1},children:Object(V.jsx)("strong",{children:i||"?"})}),Object(V.jsxs)(u.a,{color:i?"".concat(r,".main"):"error.main",component:"span",children:[o,"+".concat(Object(D.b)(e.value,W.b.getStatUnit(e.key)))]})]}),Object(V.jsx)(u.a,{sx:{opacity:l},children:e.key&&$.has(e.key)?Object(D.b)(s,"eff"):"-"})]},t)})),Object(V.jsxs)(h.a,{sx:{display:"flex",my:1},children:[Object(V.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ee(n||(n=Object(r.a)(["editor.curSubEff"])))}),Object(V.jsx)(G.a,{value:we,valid:Ce})]}),we!==Se&&Object(V.jsxs)(h.a,{sx:{display:"flex",mb:1},children:[Object(V.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ee(a||(a=Object(r.a)(["editor.maxSubEff"])))}),Object(V.jsx)(G.a,{value:Se,valid:Ce})]}),Object(V.jsx)(h.a,{flexGrow:1}),Object(V.jsxs)(u.a,{color:"success.main",children:[null!==(R=null===re||void 0===re?void 0:re.name)&&void 0!==R?R:"Artifact Set"," ",Ae]})]}),Object(V.jsx)(m.a,{children:Object(V.jsxs)(v.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(V.jsx)(v.a,{item:!0,xs:"auto",flexShrink:1,children:se?Object(V.jsx)(B.b,{size:"small",inventory:!0,value:ve,onChange:function(e){return te.setArtLocation(P,e)}}):Object(V.jsx)(K.a,{location:ve})}),Object(V.jsx)(v.a,{item:!0,flexGrow:1,sx:{mr:1}}),se&&Object(V.jsx)(v.a,{item:!0,xs:"auto",children:Object(V.jsxs)(g.a,{sx:{height:"100%"},children:[!!J&&Object(V.jsx)(y.a,{color:"info",onClick:function(){return J(oe)},size:"small",children:Object(V.jsx)(o.a,{icon:l.m,className:"fa-fw"})}),Object(V.jsx)(w.a,{title:Object(V.jsx)(u.a,{children:ee(i||(i=Object(r.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(V.jsx)(y.a,{onClick:function(){return te.updateArt({exclude:!Oe},oe)},color:Oe?"error":"success",size:"small",children:Object(V.jsx)(o.a,{icon:Oe?l.b:l.e,className:"fa-fw"})})}),!!X&&Object(V.jsx)(y.a,{color:"error",size:"small",onClick:function(){return X(oe)},disabled:je,children:Object(V.jsx)(o.a,{icon:l.D,className:"fa-fw"})})]})})]})})]})})}},304:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var n=c(3),a=c(279),i=c(15),r=c(0);function s(e){var t=e.value,c=e.valid,s="number"===typeof t?["roll".concat(Object(i.a)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],l=Object(n.a)(s,2),o=l[0],j=l[1];return c||(o="error"),Object(r.jsx)(a.a,{color:o,children:j})}},305:function(e,t,c){"use strict";function n(e,t,c){function n(e,t,c,n){var a=n.getValue(e),i=n.getValue(t);return(c?-1:1)*("string"===typeof a&&"string"===typeof a?e.localeCompare(t):i-a)}return function(a,i){var r=c[e],s=n(a,i,t,r);return!s&&r.tieBreaker&&(s=n(a,i,t,c[r.tieBreaker])),s}}c.d(t,"a",(function(){return n}))},306:function(e,t,c){"use strict";c.d(t,"a",(function(){return S}));var n=c(11),a=c(3),i=c(393),r=c(263),s=c(252),l=c(349),o=c(219),j=c(79),d=c(1),u=c(282),b=c(130),x=c(20),h=c(134),O=c(276),p=c(275),v=c(283),f=c(96),m=c(286),g=c(280),y=c(296),w=c(0);function S(e){var t=e.show,c=e.onHide,S=e.onSelect,C=e.filter,k=void 0===C?function(){return!0}:C,_=e.weaponFilter,B=Object(b.a)(h.a.getAll(),[]),K=Object(d.useState)(null!==_&&void 0!==_?_:""),A=Object(a.a)(K,2),T=A[0],N=A[1];Object(d.useEffect)((function(){return _&&N(_)}),[_]);var E=B?Object(n.a)(new Set(x.i)).filter((function(e){return k(B[e])})).filter((function(e){var t;return!T||T===(null===B||void 0===B||null===(t=B[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var c,n,a,i;return(null!==(c=null===B||void 0===B||null===(n=B[t])||void 0===n?void 0:n.rarity)&&void 0!==c?c:0)-(null!==(a=null===B||void 0===B||null===(i=B[e])||void 0===i?void 0:i.rarity)&&void 0!==a?a:0)})):[];return B?Object(w.jsx)(m.a,{open:t,onClose:c,children:Object(w.jsxs)(O.a,{children:[Object(w.jsx)(i.a,{sx:{py:1},children:Object(w.jsxs)(r.a,{container:!0,children:[Object(w.jsx)(r.a,{item:!0,flexGrow:1,children:Object(w.jsx)(y.a,{value:T,onChange:N,disabled:!!_,size:"small"})}),Object(w.jsx)(r.a,{item:!0,children:Object(w.jsx)(v.a,{onClick:c})})]})}),Object(w.jsx)(s.a,{}),Object(w.jsx)(i.a,{children:Object(w.jsx)(r.a,{container:!0,spacing:1,children:E.map((function(e){var t,n=B[e];return Object(w.jsx)(r.a,{item:!0,lg:3,md:4,children:Object(w.jsx)(p.a,{sx:{height:"100%"},children:Object(w.jsxs)(l.a,{onClick:function(){c(),S(e)},sx:{display:"flex"},children:[Object(w.jsx)(o.a,{component:"img",src:n.img,sx:{width:100,height:"auto"},className:" grad-".concat(n.rarity,"star")}),Object(w.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(w.jsx)(j.a,{variant:"subtitle1",children:n.name}),Object(w.jsxs)(j.a,{children:[Object(w.jsx)(f.a,{src:null===(t=u.a.weaponTypes)||void 0===t?void 0:t[n.weaponType]})," ",Object(w.jsx)(g.a,{stars:n.rarity,colored:!0})]})]})]})})},e)}))})}),Object(w.jsx)(s.a,{}),Object(w.jsx)(i.a,{sx:{py:1},children:Object(w.jsx)(v.a,{large:!0,onClick:c})})]})}):null}},307:function(e,t,c){"use strict";c.d(t,"a",(function(){return E}));var n=c(3),a=c(51),i=c(17),r=c(339),s=c(340),l=c(349),o=c(168),j=c(671),d=c(271),u=c(219),b=c(263),x=c(79),h=c(393),O=c(672),p=c(270),v=c(1),f=c(282),m=c(275),g=c(290),y=c(295),w=c(297),S=c(96),C=c(280),k=c(132),_=c(47),B=c(172),K=c(130),A=c(40),T=c(134),N=c(0);function E(e){var t,c=e.weaponId,E=e.onClick,q=e.onEdit,W=e.onDelete,F=e.canEquip,D=void 0!==F&&F,I=Object(v.useContext)(B.b),L=Object(v.useState)(void 0),z=Object(n.a)(L,2),M=z[0],G=z[1];Object(v.useEffect)((function(){return c?I.followWeapon(c,G):void 0}),[c,G,I]);var V=M,U=Object(K.a)((null===V||void 0===V?void 0:V.key)&&T.a.get(V.key),[null===V||void 0===V?void 0:V.key]),R=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===U||void 0===U?void 0:U.weaponType)}),[U]),P=Object(v.useCallback)((function(e){return Object(N.jsx)(l.a,{onClick:function(){return null===E||void 0===E?void 0:E(c)},sx:{height:"100%"},children:e})}),[E,c]),H=Object(v.useCallback)((function(e){return I.setWeaponLocation(c,e)}),[I,c]);if(!V||!U)return null;var J=V.level,X=V.ascension,Q=V.refinement,Y=V.id,Z=V.location,$=void 0===Z?"":Z,ee=V.lock,te=U.weaponType,ce=U.getMainStatValue(J,X).toFixed(A.b.fixedUnit("atk")),ne=U.getSubStatKey(),ae=U.getSubStatValue(J,X).toFixed(A.b.fixedUnit(ne)),ie=[["weaponATK",ce]];return(null===U||void 0===U?void 0:U.passiveName)&&ie.push([ne,ae]),Object(N.jsx)(v.Suspense,{fallback:Object(N.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(N.jsx)(w.a,{condition:!!E,wrapper:P,children:Object(N.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(N.jsxs)("div",{className:"grad-".concat(U.rarity,"star"),children:[Object(N.jsx)(j.a,{title:U.name,avatar:Object(N.jsx)(S.a,{sx:{fontSize:"2em"},src:null===(t=f.a.weaponTypes)||void 0===t?void 0:t[te]}),titleTypographyProps:{variant:"h6"},action:!E&&Object(N.jsx)(d.a,{color:"secondary",onClick:function(){return I.updateWeapon({lock:!ee},Y)},children:ee?Object(N.jsx)(r.a,{}):Object(N.jsx)(s.a,{})})}),Object(N.jsx)(u.a,{sx:{px:2},children:Object(N.jsxs)(b.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(N.jsxs)(b.a,{item:!0,flexGrow:1,children:[Object(N.jsxs)(x.a,{component:"span",variant:"h4",children:["Lv. ",J]}),Object(N.jsxs)(x.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",_.b[X]]}),Object(N.jsxs)(x.a,{variant:"h5",children:["Refinement ",Object(N.jsx)("strong",{children:Q})]}),Object(N.jsx)(x.a,{children:Object(N.jsx)(C.a,{stars:U.rarity,colored:!0})})]}),Object(N.jsx)(b.a,{item:!0,container:!0,xs:3,md:4,alignContent:"flex-end",children:Object(N.jsx)(u.a,{component:"img",src:U.img,width:"100%",height:"auto",sx:{mt:"auto"}})})]})})]}),Object(N.jsx)(h.a,{children:ie.map((function(e){var t=Object(n.a)(e,2),c=t[0],a=t[1],i=A.b.getStatUnit(c);return Object(N.jsxs)(u.a,{sx:{display:"flex"},children:[Object(N.jsxs)(x.a,{flexGrow:1,children:[k.a[c]," ",A.b.getStatName(c)]}),Object(N.jsx)(x.a,{children:a+i})]},c)}))}),Object(N.jsx)(u.a,{flexGrow:1}),Object(N.jsxs)(b.a,{container:!0,sx:{flexWrap:"nowrap",py:1,px:2},children:[Object(N.jsx)(b.a,{item:!0,xs:"auto",flexShrink:1,children:D?Object(N.jsx)(g.b,{size:"small",noUnselect:!0,inventory:!0,value:$,onChange:H,filter:R}):Object(N.jsx)(y.a,{location:$})}),Object(N.jsx)(b.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(N.jsx)(b.a,{item:!0,xs:"auto",children:Object(N.jsxs)(O.a,{sx:{height:"100%"},children:[!!q&&Object(N.jsx)(p.a,{color:"info",size:"small",onClick:function(){return q(Y)},children:Object(N.jsx)(i.a,{icon:a.m,className:"fa-fw"})}),!!W&&Object(N.jsx)(p.a,{color:"error",size:"small",onClick:function(){return W(Y)},disabled:!!$||ee,children:Object(N.jsx)(i.a,{icon:a.D,className:"fa-fw"})})]})})]})]})})})}},313:function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var n=c(5),a=c(129),i=c(717),r=c(219),s=c(1),l=c(20),o=c(287),j=c(132),d=c(0);function u(e){var t=e.value,c=e.onChange,u=Object(a.a)(e,["value","onChange"]),b=Object(s.useCallback)((function(e,t){return c(t||"")}),[c]);return Object(d.jsx)(o.a,Object(n.a)(Object(n.a)({exclusive:!0,onChange:b,value:t||l.d},u),{},{children:l.d.map((function(e){return Object(d.jsx)(i.a,{value:e,children:Object(d.jsx)(r.a,{sx:{fontSize:"2em",lineHeight:1},children:j.b[e]})},e)}))}))}},314:function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"a",(function(){return a}));var n=["level","rarity","name"];function a(e,t){return{new:{getValue:function(t){return e._getChar(t)?0:1},tieBreaker:"name"},name:{getValue:function(e){return e}},level:{getValue:function(t){var c,n;return null!==(c=null===(n=e._getChar(t))||void 0===n?void 0:n.level)&&void 0!==c?c:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var c;return null===t||void 0===t||null===(c=t[e])||void 0===c?void 0:c.star},tieBreaker:"level"}}}},315:function(e,t,c){"use strict";c.d(t,"a",(function(){return W}));var n=c(11),a=c(3),i=c(393),r=c(263),s=c(252),l=c(349),o=c(219),j=c(79),d=c(1),u=c(131),b=c(282),x=c(281),h=c(133),O=c(172),p=c(130),v=c(20),f=c(314),m=c(305),g=c(134),y=c(276),w=c(275),S=c(283),C=c(96),k=c(286),_=c(299),B=c(279),K=c(280),A=c(132),T=c(313),N=c(296),E=c(0),q=["level","rarity","name"];function W(e){var t=e.show,c=e.onHide,l=e.onSelect,o=e.filter,j=void 0===o?function(){return!0}:o,u=e.newFirst,b=void 0!==u&&u,x=Object(d.useMemo)((function(){return b?["new"].concat(q):q}),[b]),g=Object(d.useContext)(O.b),w=Object(d.useState)(x[0]),C=Object(a.a)(w,2),B=C[0],K=C[1],A=Object(d.useState)(!1),W=Object(a.a)(A,2),D=W[0],I=W[1],L=Object(d.useState)(""),z=Object(a.a)(L,2),M=z[0],G=z[1],V=Object(d.useState)(""),U=Object(a.a)(V,2),R=U[0],P=U[1],H=Object(p.a)(h.b.getAll(),[]),J=Object(d.useMemo)((function(){return H&&Object(f.a)(g,H)}),[g,H]),X=Object(d.useMemo)((function(){return H&&J?Object(n.a)(new Set(v.c)).filter((function(e){return j(g._getChar(e),H[e])})).filter((function(e){var t,c;return(!M||M===(null===H||void 0===H||null===(t=H[e])||void 0===t?void 0:t.elementKey))&&(!R||R===(null===H||void 0===H||null===(c=H[e])||void 0===c?void 0:c.weaponTypeKey))})).sort(Object(m.a)(B,D,J)):[]}),[g,H,j,M,R,B,D,J]);return H?Object(E.jsx)(k.a,{open:t,onClose:c,children:Object(E.jsxs)(y.a,{children:[Object(E.jsx)(i.a,{sx:{py:1},children:Object(E.jsxs)(r.a,{container:!0,spacing:1,children:[Object(E.jsx)(r.a,{item:!0,children:Object(E.jsx)(N.a,{sx:{height:"100%"},onChange:P,value:R,size:"small"})}),Object(E.jsx)(r.a,{item:!0,flexGrow:1,children:Object(E.jsx)(T.a,{sx:{height:"100%"},onChange:G,value:M,size:"small"})}),Object(E.jsx)(r.a,{item:!0,flexGrow:1}),Object(E.jsx)(r.a,{item:!0,children:Object(E.jsx)(_.a,{sx:{height:"100%"},sortKeys:x,value:B,onChange:K,ascending:D,onChangeAsc:I})}),Object(E.jsx)(r.a,{item:!0,children:Object(E.jsx)(S.a,{onClick:c})})]})}),Object(E.jsx)(s.a,{}),Object(E.jsx)(i.a,{children:Object(E.jsx)(r.a,{container:!0,spacing:1,children:X.map((function(e){return Object(E.jsx)(r.a,{item:!0,xs:6,md:4,lg:3,children:Object(E.jsx)(F,{characterKey:e,onClick:function(){c(),null===l||void 0===l||l(e)}},e)},e)}))})})]})}):null}function F(e){var t,c=e.onClick,n=e.characterKey,a=Object(d.useContext)(O.b),i=a._getChar(n),r=Object(p.a)(h.b.get(n),[n]),s=(null===i||void 0===i?void 0:i.equippedWeapon)?a._getWeapon(i.equippedWeapon):void 0,v=Object(p.a)(s?g.a.get(s.key):void 0,[null===s||void 0===s?void 0:s.key]),f=Object(p.a)(u.a.getAll(),[]),m=Object(d.useMemo)((function(){return i&&r&&v&&f&&x.a.calculateBuild(i,a,r,v,f)}),[i,r,v,f,a]);if(!r)return null;var y=r.star;return Object(E.jsx)(l.a,{onClick:c,children:Object(E.jsxs)(w.a,{sx:{display:"flex",alignItems:"center"},children:[Object(E.jsx)(o.a,{component:"img",src:r.thumbImg,sx:{width:130,height:"auto"},className:"grad-".concat(y,"star")}),Object(E.jsxs)(o.a,{sx:{pl:1},children:[Object(E.jsx)(j.a,{children:Object(E.jsx)("strong",{children:r.name})}),m&&i?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(j.a,{variant:"h6",children:[" ",r.elementKey&&A.a[r.elementKey]," ",Object(E.jsx)(C.a,{src:null===(t=b.a.weaponTypes)||void 0===t?void 0:t[r.weaponTypeKey]})," ",x.a.getLevelString(i)]}),Object(E.jsxs)(j.a,{children:[Object(E.jsx)(B.a,{color:"success",children:"C".concat(i.constellation)})," ",Object(E.jsx)(B.a,{color:"secondary",children:Object(E.jsx)("strong",{children:m.tlvl.auto+1})})," ",Object(E.jsx)(B.a,{color:m.skillBoost?"info":"secondary",children:Object(E.jsx)("strong",{children:m.tlvl.skill+1})})," ",Object(E.jsx)(B.a,{color:m.burstBoost?"info":"secondary",children:Object(E.jsx)("strong",{children:m.tlvl.burst+1})})]})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(j.a,{variant:"h6",children:Object(E.jsx)(B.a,{color:"primary",children:"NEW"})})}),Object(E.jsx)("small",{children:Object(E.jsx)(K.a,{stars:r.star,colored:!0})})]})]})})}},320:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return R}));var n=c(7),a=c(11),i=c(5),r=c(3),s=c(339),l=c(340),o=c(353),j=c(393),d=c(263),u=c(672),b=c(270),x=c(716),h=c(252),O=c(219),p=c(79),v=c(1),f=c(282),m=c(111),g=c(133),y=c(276),w=c(275),S=c(290),C=c(283),k=(c(32),c(289)),_=c(293),B=c(277),K=c(96),A=c(286),T=c(279),N=c(280),E=c(306),q=c(47),W=c(172),F=c(288),D=c(130),I=c(15),L=c(307),z=c(134),M=c(285),G=c(112),V=c(0);function U(e){var t=e.title,c=e.statsVals,n=void 0===c?{}:c,a=e.stats;if(0===Object.keys(n).filter((function(e){return"modifiers"!==e})).length)return null;var i=Object(G.a)(n,a);return Object(V.jsxs)(y.a,{sx:{mb:1},children:[Object(V.jsx)(j.a,{children:Object(V.jsx)(p.a,{children:t})}),Object(V.jsx)(M.a,{children:i.map((function(e,t){return Object(V.jsx)(M.b,{field:e},t)}))})]})}function R(e){var t,c,o=e.weaponId,f=e.charData,y=e.footer,K=void 0!==y&&y,A=e.onClose,L=Object(v.useContext)(W.b),M=Object(F.a)(),G=Object(r.a)(M,2),R=G[0],H=G[1],J=Object(v.useContext)(m.a),X=Object(v.useMemo)((function(){return R&&L._getWeapon(o)}),[o,R,L]),Q=X.key,Y=X.level,Z=X.refinement,$=X.ascension,ee=X.lock,te=X,ce=te.location,ne=void 0===ce?"":ce,ae=te.id,ie=Object(D.a)(z.a.get(Q),[Q]),re=null===ie||void 0===ie?void 0:ie.weaponType;Object(v.useEffect)((function(){return o?L.followWeapon(o,H):void 0}),[o,H,L]);var se=Object(v.useCallback)((function(e){L.updateWeapon(e,o)}),[o,L]),le=Object(v.useCallback)((function(e){e=Object(I.a)(e,1,90);var t=q.b.findIndex((function(t){return e<=t}));se({level:e,ascension:t})}),[se]),oe=Object(v.useCallback)((function(){var e=q.b.findIndex((function(e){return 90!==Y&&Y===e}));se($===e?{ascension:$+1}:{ascension:e})}),[se,$,Y]),je=Object(i.a)({},f?null!==(t=f.newBuild)&&void 0!==t?t:f.equippedBuild:{weapon:{refineIndex:Z-1,level:Y,ascension:$}}),de=Object(D.a)(ne?g.b.get(ne):void 0,[ne]),ue=de?function(e){return e.weaponType===de.weaponTypeKey}:void 0,be=de&&de.weaponTypeKey,xe=Object(v.useCallback)((function(e){return ae&&L.setWeaponLocation(ae,e)}),[L,ae]),he=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===ie||void 0===ie?void 0:ie.weaponType)}),[ie]),Oe=Object(v.useState)(!1),pe=Object(r.a)(Oe,2),ve=pe[0],fe=pe[1];return Object(V.jsxs)(w.a,{children:[Object(V.jsx)(j.a,{sx:{py:1},children:Object(V.jsxs)(d.a,{container:!0,spacing:1,children:[Object(V.jsx)(d.a,{item:!0,flexGrow:1,children:Object(V.jsxs)(d.a,{container:!0,spacing:1,children:[Object(V.jsxs)(d.a,{item:!0,children:[Object(V.jsx)(E.a,{show:ve,onHide:function(){return fe(!1)},onSelect:function(e){return se({key:e})},filter:ue,weaponFilter:be}),Object(V.jsxs)(u.a,{children:[Object(V.jsx)(b.a,{onClick:function(){return fe(!0)},children:null!==(c=null===ie||void 0===ie?void 0:ie.name)&&void 0!==c?c:"Select a Weapon"}),Object(V.jsxs)(B.a,{title:"Refinement ".concat(Z),children:[Object(V.jsx)(x.a,{children:"Select Weapon Refinement"}),Object(V.jsx)(h.a,{}),Object(a.a)(Array(5).keys()).map((function(e){return Object(V.jsx)(x.a,{onClick:function(){return se({refinement:e+1})},selected:Z===e+1,disabled:Z===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(V.jsx)(d.a,{item:!0,children:Object(V.jsxs)(u.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(V.jsx)(k.a,{children:Object(V.jsx)(k.c,{onChange:le,value:Y,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(V.jsx)(b.a,{sx:{pl:1},disabled:!Object(q.a)(Y),onClick:oe,children:Object(V.jsxs)("strong",{children:["/ ",q.b[$]]})}),Object(V.jsx)(B.a,{title:"Select Level",children:q.c.map((function(e){var t=Object(r.a)(e,2),c=t[0],n=t[1],a=c===q.b[n]?"Lv. ".concat(c):"Lv. ".concat(c,"/").concat(q.b[n]),i=c===Y&&n===$;return Object(V.jsx)(x.a,{selected:i,disabled:i,onClick:function(){return se({level:c,ascension:n})},children:a},"".concat(c,"/").concat(n))}))})]})}),Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(b.a,{color:"error",onClick:function(){return ae&&L.updateWeapon({lock:!ee},ae)},startIcon:ee?Object(V.jsx)(s.a,{}):Object(V.jsx)(l.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!A&&Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(C.a,{onClick:A})}),!!f&&L===W.c&&Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(P,{weaponTypeKey:re,onChangeId:function(e){return L.setWeaponLocation(e,f.character.key)}})})]})}),Object(V.jsx)(h.a,{}),Object(V.jsx)(j.a,{children:function(){if(!ie)return null;var e=ie.getSubStatKey(),t=ie.getMainStatValue(Y,$),c=ie.getSubStatValue(Y,$),a=ie.passiveName,i=ie.stats(je),r=ie.document;return Object(V.jsxs)(d.a,{container:!0,spacing:1,children:[Object(V.jsxs)(d.a,{item:!0,xs:12,sm:6,md:3,lg:4,children:[Object(V.jsx)(O.a,{component:"img",src:ie.img,className:"grad-".concat(ie.rarity,"star"),sx:{width:"100%",height:"auto",borderRadius:1}}),Object(V.jsx)(p.a,{children:Object(V.jsx)("small",{children:ie.description})})]}),Object(V.jsxs)(d.a,{item:!0,sx:{mb:-1},xs:12,sm:6,md:9,lg:8,children:[Object(V.jsxs)(p.a,{variant:"h6",children:[!1,ie.name," Lv. ",z.a.getLevelString(X)," ",a&&Object(V.jsxs)(T.a,{color:"info",children:["Refinement ",Z]})]}),Object(V.jsx)(p.a,{children:Object(V.jsx)(N.a,{stars:ie.rarity})}),Object(V.jsx)(p.a,{variant:"subtitle1",children:a}),Object(V.jsx)(p.a,{gutterBottom:!0,children:a&&ie.passiveDescription(je)}),je&&Object(V.jsxs)(m.a.Provider,{value:f?J:{equippedBuild:je,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(V.jsx)(U,{title:"Main Stats",statsVals:Object(n.a)({atk:t},e,e?c:void 0),stats:je}),Object(V.jsx)(U,{title:"Bonus Stats",statsVals:i,stats:je})]}),f&&r?function(){var e,t=f.equippedBuild,c=f.newBuild,n=null===(e=c||t)||void 0===e?void 0:e.characterKey;return!!n&&Object(V.jsx)(_.a,{sections:r,equippedBuild:t,newBuild:c,characterKey:n})}():null]})]})}()}),K&&ae&&Object(V.jsx)(j.a,{sx:{py:1},children:Object(V.jsxs)(d.a,{container:!0,children:[Object(V.jsx)(d.a,{item:!0,flexGrow:1,children:Object(V.jsx)(S.b,{noUnselect:!0,inventory:!0,value:ne,onChange:xe,filter:he})}),!!A&&Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(C.a,{large:!0,onClick:A})})]})})]})}function P(e){var t=e.onChangeId,c=e.weaponTypeKey,n=Object(v.useContext)(W.b),a=Object(v.useState)(!1),i=Object(r.a)(a,2),s=i[0],l=i[1],u=function(){return l(!1)},x=function(e){t(e),u()},O=Object(D.a)(z.a.getAll(),[]),m=n.weapons.keys.filter((function(e){var t,a=n._getWeapon(e);return!!a&&(!c||c===(null===O||void 0===O||null===(t=O[a.key])||void 0===t?void 0:t.weaponType))}));return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(b.a,{color:"info",onClick:function(){return l(!0)},startIcon:Object(V.jsx)(o.a,{}),children:"SWAP WEAPON"}),Object(V.jsx)(A.a,{open:s,onClose:u,children:Object(V.jsxs)(y.a,{children:[Object(V.jsx)(j.a,{sx:{py:1},children:Object(V.jsxs)(d.a,{container:!0,children:[Object(V.jsx)(d.a,{item:!0,flexGrow:1,children:Object(V.jsxs)(p.a,{variant:"h6",children:[c?Object(V.jsx)(K.a,{src:f.a.weaponTypes[c]}):null," Swap Weapon"]})}),Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(C.a,{onClick:u})})]})}),Object(V.jsx)(h.a,{}),Object(V.jsx)(j.a,{children:Object(V.jsx)(d.a,{container:!0,spacing:1,children:m.map((function(e){return Object(V.jsx)(d.a,{item:!0,lg:4,md:6,children:Object(V.jsx)(L.a,{weaponId:e,onClick:x})},e)}))})})]})})]})}},321:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return Ie}));var n=c(3),a=c(5),i=c(129),r=c(168),s=c(393),l=c(263),o=c(392),j=c(79),d=c(260),u=c(267),b=c(252),x=c(672),h=c(270),O=c(716),p=c(1),v=c(131),f=c(111),m=c(276),g=c(275),y=c(315),w=c(283),S=c(289),C=c(277),k=c(317),_=c(324),B=c(336),K=c(451),A=c(452),T=c(453),N=c(219),E=c(281),q=c(292),W=c(82),F=c(130),D=c(40),I=c(298),L=c(32),z=c(294),M=c(0);function G(e){var t=e.sheets,c=Object(p.useState)(!1),a=Object(n.a)(c,2),i=a[0],r=a[1],o=Object(p.useCallback)((function(){return r(!i)}),[r,i]),d=Object(p.useContext)(f.a),u=d.newBuild,b=d.equippedBuild,x=u||b;return Object(M.jsxs)(g.a,{children:[Object(M.jsx)(s.a,{children:Object(M.jsxs)(l.a,{container:!0,children:[Object(M.jsxs)(l.a,{item:!0,flexGrow:1,children:[Object(M.jsxs)(j.a,{children:["Formulas ","&"," Calculations"]}),Object(M.jsx)(j.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(M.jsx)(l.a,{item:!0,children:Object(M.jsx)(z.a,{expand:i,onClick:o,"aria-expanded":i,"aria-label":"show more",children:Object(M.jsx)(_.a,{})})})]})}),Object(M.jsx)(B.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(M.jsx)(s.a,{sx:{pt:0},children:Object(M.jsx)(V,{sheets:t,build:x})})})]})}function V(e){var t=e.sheets,c=e.build,a=Object(p.useMemo)((function(){return c&&E.a.getDisplayStatKeys(c,t)}),[c,t]);return c?Object(M.jsx)(p.Suspense,{fallback:Object(M.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object.entries(a).map((function(e){var a=Object(n.a)(e,2),i=a[0],r=a[1],l=Object(q.a)(i,t,c.characterEle);return Object(M.jsxs)(m.a,{sx:{mb:1},children:[Object(M.jsx)(s.a,{sx:{pb:1},children:Object(M.jsx)(j.a,{variant:"h6",children:l})}),Object(M.jsx)(b.a,{}),Object(M.jsx)(s.a,{children:r.map((function(e,t){if(Array.isArray(e))return Object(M.jsx)(U,{fieldKeys:e,build:c},t);if("string"===typeof e){var n=D.b.getPrintableFormulaStatKeyList(Object(I.a)(c,null===c||void 0===c?void 0:c.modifiers,[e]),null===c||void 0===c?void 0:c.modifiers).reverse();return Boolean(n.length)&&Object(M.jsxs)(K.a,{sx:{bgcolor:"contentLight.main"},children:[Object(M.jsx)(A.a,{expandIcon:Object(M.jsx)(_.a,{}),children:Object(M.jsx)(j.a,{children:D.b.printStat(e,c)})}),Object(M.jsx)(T.a,{children:n.map((function(e){return Object(M.jsxs)(j.a,{children:[D.b.printStat(e,c)," = ",Object(M.jsx)("small",{children:Object(M.jsx)(D.a,{statKey:e,stats:c,modifiers:c.modifiers,expand:!1})})]},e)}))})]},t)}return null}))})]},i)}))}):null}function U(e){var t,c,a,i,r=e.fieldKeys,s=e.build,l=Object(F.a)(W.a.get(r),[r]);if(!l)return null;var o=l.field,d=E.a.getTalentFieldValue(o,"text",s),u=E.a.getTalentFieldValue(o,"variant",s),b=E.a.getTalentFieldValue(o,"formulaText",s),x=null!==(t=E.a.getTalentFieldValue(o,"fixed",s))&&void 0!==t?t:0,h=null!==(c=E.a.getTalentFieldValue(o,"unit",s))&&void 0!==c?c:"",O=E.a.getTalentFieldValue(o,"formula",s,[]),p=Object(n.a)(O,2),v=p[0],f=p[1];if(!v||!f)return null;var m=null===v||void 0===v||null===(a=v(s))||void 0===a||null===(i=a.toFixed)||void 0===i?void 0:i.call(a,x),g=D.b.getPrintableFormulaStatKeyList(Object(I.a)(s,null===s||void 0===s?void 0:s.modifiers,f),null===s||void 0===s?void 0:s.modifiers).reverse();return Object(M.jsxs)(K.a,{sx:{bgcolor:"contentLight.main"},children:[Object(M.jsx)(A.a,{expandIcon:Object(M.jsx)(_.a,{}),children:Object(M.jsxs)(j.a,{children:[Object(M.jsx)(N.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(M.jsxs)(L.a,{color:"info",children:[m,h]})]})}),Object(M.jsxs)(T.a,{children:[Object(M.jsxs)(j.a,{children:[Object(M.jsx)(N.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(M.jsx)(L.a,{color:"info",children:m})," = ",Object(M.jsx)("small",{children:b})]}),g.map((function(e){return Object(M.jsxs)(j.a,{children:[D.b.printStat(e,s)," = ",Object(M.jsx)("small",{children:Object(M.jsx)(D.a,{statKey:e,stats:s,modifiers:s.modifiers,expand:!1})})]},e)}))]})]})}var R=c(318),P=c(96),H=c(62),J=c(47),X=c(172),Q=c(284),Y=c(288),Z=c(15),$=c(134),ee=c(717),te=c(24),ce=c(303),ne=c(309),ae=c(287),ie=c(20),re=c(316);var se=function(e){var t,c=e.sheets,a=e.character,i=e.character.key,r=Object(p.useContext)(f.a),d=r.newBuild,u=r.equippedBuild,x=r.compareBuild,O=r.setCompareBuild,m=Object(p.useContext)(X.b),y=Object(te.g)(),w=d||u,S=null!==(t=null===w||void 0===w?void 0:w.mainStatAssumptionLevel)&&void 0!==t?t:0,C=Object(p.useMemo)((function(){return w&&E.a.getDisplayStatKeys(w,c)}),[w,c]),k=Object(p.useCallback)((function(e){return y.push({pathname:"/artifact",artToEditId:e})}),[y]),_=Object(F.a)(v.a.getAll(),[]),B=Object(Y.a)(),K=Object(n.a)(B,2)[1];Object(p.useEffect)((function(){return m.followAnyArt(K)}));var A=Object(p.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&d&&d.equippedArtifacts&&m.equipArtifacts(i,d.equippedArtifacts)}),[i,d,m]),T=Object(p.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&m.equipArtifacts(i,Object(Z.o)(ie.h,(function(){return""})))}),[i,m]);return w?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(g.a,{sx:{mb:1},children:[Object(M.jsx)(s.a,{children:Object(M.jsx)(re.a,{sheets:c,character:a,equippedBuild:d&&!x?void 0:u,newBuild:d,statsDisplayKeys:C})}),Object(M.jsx)(b.a,{}),Object(M.jsx)(s.a,{sx:{py:1},children:Object(M.jsxs)(l.a,{container:!0,spacing:1,children:[Object(M.jsx)(l.a,{item:!0,children:d?Object(M.jsx)(h.a,{onClick:A,className:"mr-2",children:"Equip artifacts"}):m===X.c&&Object(M.jsx)(h.a,{color:"error",onClick:T,children:"Unequip all artifacts"})}),Object(M.jsx)(l.a,{item:!0,children:!!d&&Object(M.jsxs)(ae.a,{exclusive:!0,value:x,onChange:function(e,t){return null===O||void 0===O?void 0:O(t)},size:"small",children:[Object(M.jsx)(ee.a,{value:!1,children:Object(M.jsx)("small",{children:"Show New artifact Stats"})}),Object(M.jsx)(ee.a,{value:!0,children:Object(M.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(M.jsx)(l.a,{item:!0,flexGrow:1}),Object(M.jsx)(l.a,{item:!0,children:!!S&&Object(M.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(M.jsx)(j.a,{children:Object(M.jsxs)("strong",{children:["Assume Main Stats are Level ",S]})})})})]})})]}),Object(M.jsxs)(l.a,{container:!0,spacing:1,children:[Object(M.jsx)(l.a,{item:!0,xs:6,md:4,children:Object(M.jsx)(g.a,{sx:{height:"100%"},children:Object(M.jsx)(s.a,{sx:{height:"100%"},children:Object(M.jsx)(l.a,{container:!0,spacing:2,flexDirection:"column",height:"100%",children:_&&Object.entries(v.a.setEffects(_,w.setToSlots)).map((function(e){var t,c=Object(n.a)(e,2),a=c[0],r=c[1];return Object(M.jsxs)(l.a,{item:!0,children:[Object(M.jsx)(j.a,{variant:"subtitle1",gutterBottom:!0,children:null!==(t=null===_||void 0===_?void 0:_[a].name)&&void 0!==t?t:""}),r.map((function(e){return Object(M.jsx)(ne.a,{setKey:a,setNumKey:e,equippedBuild:u,newBuild:d,characterKey:i},a+e)}))]},a)}))})})})}),ie.h.map((function(e){var t,c,n;return!!(null===w||void 0===w||null===(t=w.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(M.jsx)(l.a,{item:!0,xs:6,md:4,children:Object(M.jsx)(ce.a,{artifactId:null===w||void 0===w||null===(n=w.equippedArtifacts)||void 0===n?void 0:n[e],mainStatAssumptionLevel:S,onEdit:function(){var t;return k(null===w||void 0===w||null===(t=w.equippedArtifacts)||void 0===t?void 0:t[e])}})},null===w||void 0===w||null===(c=w.equippedArtifacts)||void 0===c?void 0:c[e])}))]})]}):null},le=c(11),oe=c(51),je=c(17),de=c(348),ue=c(450),be=c(282),xe=c(280),he=c(301),Oe=c(132),pe=c(320),ve=c(302);function fe(e){var t,c=e.characterSheet,n=(e.weaponSheet,e.character),i=e.character,r=i.constellation,o=i.key,d=Object(p.useContext)(f.a),u=d.newBuild,b=d.equippedBuild,x=Object(Q.a)(o),h=u||b;if(!h)return null;var O=h.tlvl,v=h.characterEle,m=c.weaponTypeKey;return Object(M.jsxs)(l.a,{container:!0,spacing:1,children:[Object(M.jsx)(l.a,{item:!0,xs:12,md:3,children:Object(M.jsxs)(g.a,{children:[Object(M.jsx)(de.a,{src:c.cardImg,component:"img",width:"100%",height:"auto"}),Object(M.jsxs)(s.a,{children:[Object(M.jsxs)(j.a,{variant:"h5",children:[c.name," ",Object(M.jsx)(P.a,{src:null===(t=be.a.weaponTypes)||void 0===t?void 0:t[m]})," ",Oe.a[v]," "]}),Object(M.jsx)(j.a,{children:Object(M.jsx)(xe.a,{stars:c.star,colored:!0})}),Object(M.jsxs)(j.a,{variant:"subtitle1",children:["Lvl. ",E.a.getLevelString(n)]}),Object(M.jsx)(l.a,{container:!0,spacing:1,children:["auto","skill","burst"].map((function(e){var t;return Object(M.jsx)(l.a,{item:!0,xs:4,children:Object(M.jsx)(ue.a,{badgeContent:O[e]+1,color:"skill"===e&&h.skillBoost||"burst"===e&&h.burstBoost?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(M.jsx)(N.a,{component:"img",src:null===(t=c.getTalentOfKey(e,h.characterEle))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(M.jsx)(j.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:c.constellationName}),Object(M.jsx)(l.a,{container:!0,spacing:1,children:Object(le.a)(Array(6).keys()).map((function(e){var t;return Object(M.jsx)(l.a,{item:!0,xs:4,children:Object(M.jsx)(N.a,{component:"img",src:null===(t=c.getTalentOfKey("constellation".concat(e+1),h.characterEle))||void 0===t?void 0:t.img,sx:Object(a.a)({cursor:"pointer"},r>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return x({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(M.jsxs)(l.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(M.jsx)(pe.default,{charData:{character:n,characterSheet:c,equippedBuild:b,newBuild:u,characterDispatch:x},weaponId:n.equippedWeapon}),Object(M.jsx)(me,{characterSheet:c,character:n,equippedBuild:b,newBuild:u})]})]})}function me(e){var t=e.characterSheet,c=e.character,n=e.character.key,i=e.equippedBuild,r=e.newBuild,s=Object(Q.a)(n),o=["eleMas","critRate_","critDMG_","enerRech_","heal_"],j=["finalHP","finalATK","finalDEF"];j.push.apply(j,o);var d=["hp","hp_","def","def_","atk","atk_"];d.push.apply(d,o);var u=[];["physical"].concat(Object(le.a)(ie.d)).forEach((function(e){u.push("".concat(e,"_dmg_")),u.push("".concat(e,"_res_"))})),u.push("stamina","incHeal_","shield_","cdRed_");var b=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","moveSPD_","atkSPD_","weakspotDMG_"],x=t.getSpecializedStat(c.ascension),h=t.getSpecializedStatVal(c.ascension),O=D.b.getStatUnit(x),p={character:c,equippedBuild:i,newBuild:r};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ge,{title:"Main Base Stats",content:Object(M.jsxs)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:[j.map((function(e){return Object(M.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(M.jsx)(he.a,Object(a.a)({statKey:e},p))},e)})),Object(M.jsxs)(l.a,{item:!0,xs:12,lg:6,display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(M.jsxs)("span",{children:[Object(M.jsx)("b",{children:"Specialized:"})," ",Object(M.jsxs)("span",{children:[x&&Oe.a[x]," ",D.b.getStatName(x)]})]}),Object(M.jsx)("span",{children:"".concat(h.toFixed(D.b.fixedUnit(x))).concat(O)})]})]}),editContent:Object(M.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:d.map((function(e){var t;return Object(M.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(M.jsx)(ve.a,{disabled:void 0,name:Object(M.jsxs)("span",{children:[Oe.a[e]," ",D.b.getStatNameWithPercent(e)]}),placeholder:D.b.getStatNameRaw(e),value:null!==(t=c.bonusStats[e])&&void 0!==t?t:0,percent:"%"===D.b.getStatUnit(e),onValueChange:function(t){return s({type:"bonusStats",statKey:e,value:t})}})},e)}))})}),Object(M.jsx)(ge,{title:"Other Stats",content:Object(M.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:u.map((function(e){return Object(M.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(M.jsx)(he.a,Object(a.a)({statKey:e},p))},e)}))}),editContent:Object(M.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:u.map((function(e){var t;return Object(M.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(M.jsx)(ve.a,{name:Object(M.jsxs)("span",{children:[Oe.a[e]," ",D.b.getStatName(e)]}),placeholder:D.b.getStatNameRaw(e),value:null!==(t=c.bonusStats[e])&&void 0!==t?t:"stamina"===e?100:0,percent:"%"===D.b.getStatUnit(e),defaultValue:"stamina"===e?100:void 0,onValueChange:function(t){return s({type:"bonusStats",statKey:e,value:t})}})},e)}))})}),Object(M.jsx)(ge,{title:"Misc Stats",content:Object(M.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:b.map((function(e){return Object(M.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(M.jsx)(he.a,Object(a.a)({statKey:e},p))},e)}))}),editContent:Object(M.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:b.map((function(e){var t;return Object(M.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(M.jsx)(ve.a,{name:Object(M.jsxs)("span",{children:[Oe.a[e]," ",D.b.getStatName(e)]}),placeholder:D.b.getStatNameRaw(e),value:null!==(t=c.bonusStats[e])&&void 0!==t?t:0,percent:"%"===D.b.getStatUnit(e),onValueChange:function(t){return s({type:"bonusStats",statKey:e,value:t})}})},e)}))})})]})}function ge(e){var t=e.title,c=e.content,a=e.editContent,i=Object(p.useState)(!1),r=Object(n.a)(i,2),o=r[0],d=r[1];return Object(M.jsxs)(g.a,{children:[Object(M.jsx)(s.a,{children:Object(M.jsxs)(l.a,{container:!0,children:[Object(M.jsx)(l.a,{item:!0,flexGrow:1,children:Object(M.jsx)(j.a,{variant:"subtitle1",children:t})}),Object(M.jsx)(l.a,{item:!0,children:Object(M.jsx)(h.a,{size:"small",color:o?"error":"info",onClick:function(){return d(!o)},children:Object(M.jsxs)("span",{children:[Object(M.jsx)(je.a,{icon:o?oe.w:oe.m})," ",o?"EXIT":"Edit Stats"]})})})]})}),Object(M.jsx)(b.a,{}),Object(M.jsx)(s.a,{children:o?a:c})]})}var ye=c(349),we=c(291),Se=c(297),Ce=c(293),ke=c(285),_e=c(48),Be=c(112);function Ke(e){var t=e.characterSheet,c=e.character,a=e.character,i=a.ascension,r=a.constellation,s=a.key,o=Object(p.useContext)(f.a),d=o.newBuild,u=o.equippedBuild,b=Object(Q.a)(s),x=d||u;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Te,{characterSheet:t}),Object(M.jsxs)(l.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var a=Object(n.a)(e,2),i=a[0],r=a[1];return Object(M.jsx)(l.a,{item:!0,xs:12,md:6,lg:4,children:Object(M.jsx)(We,{characterSheet:t,character:c,characterDispatch:b,talentKey:i,subtitle:r})},i)})),!!t.getTalentOfKey("sprint",null===x||void 0===x?void 0:x.characterEle)&&Object(M.jsx)(l.a,{item:!0,xs:12,md:6,lg:4,children:Object(M.jsx)(We,{characterSheet:t,character:c,characterDispatch:b,talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!t.getTalentOfKey("passive",null===x||void 0===x?void 0:x.characterEle)&&Object(M.jsx)(l.a,{item:!0,xs:12,md:6,lg:4,children:Object(M.jsx)(We,{characterSheet:t,character:c,characterDispatch:b,talentKey:"passive",subtitle:"Passive"})})]}),Object(M.jsx)(l.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var a=Object(n.a)(e,3),r=a[0],s=a[1],o=a[2],j=i>=o;return t.getTalentOfKey(r,null===x||void 0===x?void 0:x.characterEle)?Object(M.jsx)(l.a,{item:!0,style:{opacity:j?1:.5},xs:12,md:4,children:Object(M.jsx)(We,{characterSheet:t,character:c,characterDispatch:b,talentKey:r,subtitle:s})},r):null}))}),Object(M.jsxs)(j.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",r]}),Object(M.jsx)(l.a,{container:!0,spacing:1,children:Object(le.a)(Array(6).keys()).map((function(e){var n="constellation".concat(e+1);return Object(M.jsx)(l.a,{item:!0,xs:12,md:4,style:{opacity:r>e?1:.5},children:Object(M.jsx)(We,{characterSheet:t,character:c,characterDispatch:b,talentKey:n,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return b({constellation:e+1===r?e:e+1})}})},e)}))})]})}var Ae={superconduct_hit:function(e){var t,c=e.stats,n="superconduct_hit";return Object(M.jsx)(m.a,{children:Object(M.jsx)(s.a,{sx:{p:1},children:Object(M.jsxs)(j.a,{color:"superconduct.main",children:[D.b.getStatName(n)," ",Oe.a.electro,"+",Oe.a.cryo," ",Object(M.jsx)("strong",{children:null===(t=c[n])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(n))})]})})})},electrocharged_hit:function(e){var t,c=e.stats,n="electrocharged_hit";return Object(M.jsx)(m.a,{children:Object(M.jsx)(s.a,{sx:{p:1},children:Object(M.jsxs)(j.a,{color:"electrocharged.main",children:[D.b.getStatName(n)," ",Oe.a.electro,"+",Oe.a.hydro," ",Object(M.jsx)("strong",{children:null===(t=c[n])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(n))})]})})})},overloaded_hit:function(e){var t,c=e.stats,n="overloaded_hit";return Object(M.jsx)(m.a,{children:Object(M.jsx)(s.a,{sx:{p:1},children:Object(M.jsxs)(j.a,{color:"overloaded.main",children:[D.b.getStatName(n)," ",Oe.a.electro,"+",Oe.a.pyro," ",Object(M.jsx)("strong",{children:null===(t=c[n])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(n))})]})})})},pyro_swirl_hit:function(e){var t,c=e.stats,a=Object(p.useState)(Object.keys(Ne)[0]),i=Object(n.a)(a,2),r=i[0],s=i[1],l="".concat(r,"_swirl_hit");return Object(M.jsxs)(m.a,{sx:{display:"flex"},children:[Object(M.jsx)(C.a,{size:"small",title:Ne[r],color:"success",children:Object.entries(Ne).map((function(e){var t=Object(n.a)(e,2),c=t[0],a=t[1];return Object(M.jsx)(O.a,{selected:r===c,disabled:r===c,onClick:function(){return s(c)},children:a},c)}))}),Object(M.jsx)(N.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(M.jsx)("strong",{children:null===(t=c[l])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(l))})})]})},shattered_hit:function(e){var t,c=e.stats,n="shattered_hit",a=Object(M.jsx)(we.a,{placement:"top",title:Object(M.jsxs)(j.a,{children:["Claymores, Plunging Attacks and ",Object(M.jsx)(L.a,{color:"geo",children:"Geo DMG"})]}),children:Object(M.jsx)(N.a,{component:"span",sx:{cursor:"help"},children:Object(M.jsx)(je.a,{icon:oe.v})})});return Object(M.jsx)(m.a,{children:Object(M.jsx)(s.a,{sx:{p:1},children:Object(M.jsxs)(L.a,{color:"shattered",children:[D.b.getStatName(n)," ",Oe.a.hydro,"+",Oe.a.cryo,"+ ",Object(M.jsx)(L.a,{color:"physical",children:Object(M.jsxs)("small",{children:["Heavy Attack",a," "]})})," ",Object(M.jsx)("strong",{children:null===(t=c[n])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(n))})]})})})},crystalize_hit:function(e){var t,c=e.stats,a=Object(p.useState)(Object.keys(Ee)[0]),i=Object(n.a)(a,2),r=i[0],s=i[1],l="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(M.jsxs)(m.a,{sx:{display:"flex"},children:[Object(M.jsx)(C.a,{size:"small",title:Ee[r],color:"success",children:Object.entries(Ee).map((function(e){var t=Object(n.a)(e,2),c=t[0],a=t[1];return Object(M.jsx)(O.a,{selected:r===c,disabled:r===c,onClick:function(){return s(c)},children:a},c)}))}),Object(M.jsx)(N.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(M.jsx)("strong",{children:null===(t=c[l])||void 0===t?void 0:t.toFixed(D.b.fixedUnit(l))})})]})}};function Te(e){var t=e.characterSheet,c=Object(p.useContext)(f.a),n=c.newBuild,a=c.equippedBuild,i=n||a;if(!i)return null;var r=i.characterEle,o=Object(le.a)(_e.a[r]||[]);return o.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||o.push("shattered_hit"),Object(M.jsx)(g.a,{sx:{mb:1},children:Object(M.jsx)(s.a,{children:Object(M.jsx)(l.a,{container:!0,spacing:1,children:o.map((function(e){var t=Ae[e];return t?Object(M.jsx)(l.a,{item:!0,children:Object(M.jsx)(t,{stats:i})},e):null}))})})})}var Ne={pyro:Object(M.jsxs)("span",{children:[D.b.getStatName("pyro_swirl_hit")," ",Oe.a.pyro," + ",Oe.a.anemo]}),electro:Object(M.jsxs)("span",{children:[D.b.getStatName("electro_swirl_hit")," ",Oe.a.electro,"+",Oe.a.anemo]}),cryo:Object(M.jsxs)("span",{children:[D.b.getStatName("cryo_swirl_hit")," ",Oe.a.cryo," + ",Oe.a.anemo]}),hydro:Object(M.jsxs)("span",{children:[D.b.getStatName("hydro_swirl_hit")," ",Oe.a.hydro," + ",Oe.a.anemo]})};var Ee={default:Object(M.jsxs)(L.a,{color:"crystalize",children:[D.b.getStatName("crystalize_hit")," ",Oe.a.electro,"/",Oe.a.hydro,"/",Oe.a.pyro,"/",Oe.a.cryo,"+",Oe.a.geo]}),pyro:Object(M.jsxs)("span",{children:[D.b.getStatName("pyro_crystalize_hit")," ",Oe.a.pyro,"+",Oe.a.geo]}),electro:Object(M.jsxs)("span",{children:[D.b.getStatName("electro_crystalize_hit")," ",Oe.a.electro,"+",Oe.a.geo]}),cryo:Object(M.jsxs)("span",{children:[D.b.getStatName("cryo_crystalize_hit")," ",Oe.a.cryo,"+",Oe.a.geo]}),hydro:Object(M.jsxs)("span",{children:[D.b.getStatName("hydro_crystalize_hit")," ",Oe.a.hydro,"+",Oe.a.geo]})};var qe=[1,1,2,4,6,8,10];function We(e){var t=e.characterSheet,c=e.character,n=c.talent,a=c.ascension,i=c.key,r=e.characterDispatch,o=e.talentKey,d=e.subtitle,u=e.onClickTitle,x=Object(p.useContext)(f.a),h=x.newBuild,v=x.equippedBuild,m=h||v,y=Object(p.useCallback)((function(e){return Object(M.jsx)(ye.a,{onClick:u,children:e})}),[u]);if(!m)return null;var w=null;if(o in n){var S,k=null!==(S=m["".concat(o,"Boost")])&&void 0!==S?S:0,_=n[o]+k;w=Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(s.a,{sx:{py:1},children:Object(M.jsx)(C.a,{fullWidth:!0,title:"Talent Lv. ".concat(_),color:k?"info":"primary",children:Object(le.a)(Array(qe[a]+("auto"!==o||k?0:1)).keys()).map((function(e){return Object(M.jsxs)(O.a,{selected:n[o]===e+1,disabled:n[o]===e+1,onClick:function(){return t=e+1,n[o]=t,void r({talent:n});var t},children:["Talent Lv. ",e+k+1]},e)}))})}),Object(M.jsx)(b.a,{})]})}var B=t.getTalentStats(o,m),K=B&&Object(Be.a)(B,m),A=K&&!!K.length&&Object(M.jsx)(ke.a,{children:K.map((function(e,t){return Object(M.jsx)(ke.b,{field:e},t)}))}),T=t.getTalentOfKey(o,m.characterEle),E=null===T||void 0===T?void 0:T.sections;return Object(M.jsxs)(g.a,{sx:{height:"100%"},children:[w,Object(M.jsxs)(s.a,{children:[Object(M.jsx)(Se.a,{condition:!!u,wrapper:y,children:Object(M.jsxs)(l.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(M.jsx)(l.a,{item:!0,children:Object(M.jsx)(N.a,{component:"img",src:null===T||void 0===T?void 0:T.img,sx:{width:60,height:"auto"}})}),Object(M.jsxs)(l.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(M.jsx)(j.a,{variant:"h6",children:null===T||void 0===T?void 0:T.name}),Object(M.jsx)(j.a,{variant:"subtitle1",children:d})]})]})}),E?Object(M.jsx)(Ce.a,{sections:E,characterKey:i,equippedBuild:v,newBuild:h}):null,A]})]})}var Fe=c(133);function De(e){var t=e.children,c=e.current,n=e.value,s=Object(i.a)(e,["children","current","value"]);return n!==c?null:Object(M.jsx)(p.Suspense,{fallback:Object(M.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(M.jsx)("div",Object(a.a)(Object(a.a)({role:"tabpanel",hidden:n!==c,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},s),{},{children:t}))})}function Ie(e){var t,c=e.characterKey,a=e.setCharacterKey,i=e.footer,r=e.newBuild,x=e.onClose,h=e.tabName,O=Object(p.useContext)(X.b),y=Object(p.useState)(!1),S=Object(n.a)(y,2),C=S[0],_=S[1],B=Object(Y.a)(),K=Object(n.a)(B,2),A=K[0],T=K[1],N=Object(F.a)($.a.getAll(),[]),W=Object(F.a)(Fe.b.getAll(),[]),D=Object(F.a)(v.a.getAll(),[]),I=Object(p.useMemo)((function(){var e;return A&&(null!==(e=O._getChar(c))&&void 0!==e?e:Object(q.b)(c))}),[c,A,O]),L=Object(p.useMemo)((function(){return A&&O._getWeapon(I.equippedWeapon)}),[I.equippedWeapon,A,O]),z=null===W||void 0===W?void 0:W[c],V=L?null===N||void 0===N?void 0:N[L.key]:void 0,U=z&&V&&D&&{characterSheet:z,weaponSheet:V,artifactSheets:D};Object(p.useEffect)((function(){return O.followChar(c,T)}),[c,T,O]),Object(p.useEffect)((function(){return O.followWeapon(I.equippedWeapon,T)}),[I.equippedWeapon,T,O]);var P=Object(p.useMemo)((function(){if(r)return Object(Z.d)(r)}),[r]),H=Object(p.useState)(h||(P?"newartifacts":"character")),J=Object(n.a)(H,2),Q=J[0],ee=J[1],te=Object(p.useCallback)((function(e,t){return ee(t)}),[ee]),ce=null!==(t=null===P||void 0===P?void 0:P.mainStatAssumptionLevel)&&void 0!==t?t:0,ne=Object(p.useMemo)((function(){return A&&z&&V&&D&&E.a.calculateBuild(I,O,z,V,D,ce)}),[A,I,z,V,D,ce,O]);return Object(M.jsx)(m.a,{children:Object(M.jsxs)(f.a.Provider,{value:{newBuild:P,equippedBuild:ne,compareBuild:C,setCompareBuild:_},children:[Object(M.jsxs)(s.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(M.jsxs)(l.a,{container:!0,spacing:1,children:[Object(M.jsx)(l.a,{item:!0,flexGrow:1,children:Object(M.jsx)(Le,{characterSheet:z,character:I,weaponSheet:V,setCharacterKey:a})}),!!ce&&Object(M.jsx)(l.a,{item:!0,children:Object(M.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(M.jsx)(j.a,{children:Object(M.jsxs)("strong",{children:["Assume Main Stats are Level ",ce]})})})}),!!x&&Object(M.jsx)(l.a,{item:!0,children:Object(M.jsx)(w.a,{onClick:x})})]}),Object(M.jsx)(g.a,{children:Object(M.jsxs)(d.a,{onChange:te,value:Q,variant:"fullWidth",children:[Object(M.jsx)(u.a,{value:"character",label:"Character"}),!!P&&Object(M.jsx)(u.a,{value:"newartifacts",label:"New Artifacts"}),Object(M.jsx)(u.a,{value:"artifacts",label:P?"Current Artifacts":"Artifacts"}),Object(M.jsx)(u.a,{value:"talent",label:"Talents"})]})}),Object(M.jsx)(R.a,{character:I}),!!U&&Object(M.jsx)(G,{sheets:U}),Object(M.jsx)(k.b,{character:I}),z&&V&&Object(M.jsx)(De,{value:"character",current:Q,children:Object(M.jsx)(fe,{characterSheet:z,weaponSheet:V,character:I})}),U&&Object(M.jsx)(f.a.Provider,{value:{newBuild:void 0,equippedBuild:ne,compareBuild:C,setCompareBuild:_},children:Object(M.jsx)(De,{value:"artifacts",current:Q,children:Object(M.jsx)(se,{sheets:U,character:I})})}),P&&U&&Object(M.jsx)(De,{value:"newartifacts",current:Q,children:Object(M.jsx)(se,{sheets:U,character:I})}),z&&Object(M.jsx)(De,{value:"talent",current:Q,children:Object(M.jsx)(Ke,{characterSheet:z,character:I})})]}),!!i&&Object(M.jsx)(b.a,{}),i&&Object(M.jsx)(s.a,{sx:{py:1},children:i})]})})}function Le(e){var t,c=e.characterSheet,a=e.weaponSheet,i=e.character,r=e.character,s=r.key,l=r.elementKey,o=void 0===l?"anemo":l,d=r.level,u=void 0===d?1:d,b=r.ascension,v=void 0===b?0:b,f=e.disabled,m=e.setCharacterKey,g=Object(p.useState)(!1),w=Object(n.a)(g,2),k=w[0],_=w[1],B=Object(Q.a)(s),K=c?Object(M.jsxs)("span",{children:[Object(M.jsx)(P.a,{src:c.thumbImg,sx:{mr:1}}),c.name]}):Object(M.jsx)("span",{children:"Select a Character"}),A=Object(p.useCallback)((function(e){e=Object(Z.a)(e,1,90);var t=J.b.findIndex((function(t){return e<=t}));B({level:e,ascension:t})}),[B]),T=Object(p.useCallback)((function(){var e=J.b.findIndex((function(e){return 90!==u&&u===e}));B(v===e?{ascension:v+1}:{ascension:e})}),[B,v,u]);return Object(M.jsx)(M.Fragment,{children:f?Object(M.jsxs)(j.a,{variant:"h6",children:[K," ",c&&a&&E.a.getLevelString(i)]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(y.a,{show:k,onHide:function(){return _(!1)},onSelect:m}),Object(M.jsxs)(x.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[Object(M.jsx)(h.a,{disabled:!m,onClick:function(){return _(!0)},startIcon:Object(M.jsx)(P.a,{src:null===c||void 0===c?void 0:c.thumbImg}),children:null!==(t=null===c||void 0===c?void 0:c.name)&&void 0!==t?t:"Select a Character"}),(null===c||void 0===c?void 0:c.sheet)&&"talents"in(null===c||void 0===c?void 0:c.sheet)&&Object(M.jsx)(C.a,{title:H.a[o].name,children:Object.keys(c.sheet.talents).map((function(e){return Object(M.jsx)(O.a,{selected:o===e,disabled:o===e,onClick:function(){return B({elementKey:e})},children:Object(M.jsx)("strong",{children:H.a[e].name})},e)}))}),Object(M.jsx)(S.a,{children:Object(M.jsx)(S.c,{onChange:A,value:u,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!c})}),Object(M.jsx)(h.a,{sx:{pl:1},disabled:!Object(J.a)(u)||!c,onClick:T,children:Object(M.jsxs)("strong",{children:["/ ",J.b[v]]})}),Object(M.jsx)(C.a,{title:"Select Level",disabled:!c,children:J.c.map((function(e){var t=Object(n.a)(e,2),c=t[0],a=t[1],i=c===J.b[a]?"Lv. ".concat(c):"Lv. ".concat(c,"/").concat(J.b[a]),r=c===u&&a===v;return Object(M.jsx)(O.a,{selected:r,disabled:r,onClick:function(){return B({level:c,ascension:a})},children:i},"".concat(c,"/").concat(a))}))})]})]})})}}}]);
//# sourceMappingURL=7.53c40c1e.chunk.js.map