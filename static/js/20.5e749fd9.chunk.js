(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[20],{107:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(7),r=t.n(s),i=t(0),l=t.n(i),o=t(8),d=t(60),b=l.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.variant,i=e.size,b=e.active,j=e.className,u=e.block,f=e.type,m=e.as,O=Object(c.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),h=Object(o.a)(t,"btn"),p=r()(j,h,b&&"active",s&&h+"-"+s,u&&h+"-block",i&&h+"-"+i);if(O.href)return l.a.createElement(d.a,Object(n.a)({},O,{as:m,ref:a,className:r()(p,O.disabled&&"disabled")}));a&&(O.ref=a),f?O.type=f:m||(O.type="button");var v=m||"button";return l.a.createElement(v,Object(n.a)({},O,{className:p}))}));b.displayName="Button",b.defaultProps={variant:"primary",active:!1,disabled:!1},a.a=b},108:function(e,a,t){"use strict";var n=t(0),c=t.n(n).a.createContext({controlId:void 0});a.a=c},111:function(e,a,t){"use strict";var n,c=t(2),s=t(4),r=t(7),i=t.n(r),l=t(64),o=t(0),d=t.n(o),b=t(33),j=t(67),u=((n={})[b.b]="show",n[b.a]="show",n),f=d.a.forwardRef((function(e,a){var t=e.className,n=e.children,r=Object(s.a)(e,["className","children"]),f=Object(o.useCallback)((function(e){Object(j.a)(e),r.onEnter&&r.onEnter(e)}),[r]);return d.a.createElement(b.e,Object(c.a)({ref:a,addEndListener:l.a},r,{onEnter:f}),(function(e,a){return d.a.cloneElement(n,Object(c.a)({},a,{className:i()("fade",t,n.props.className,u[e])}))}))}));f.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},f.displayName="Fade",a.a=f},132:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(7),r=t.n(s),i=(t(84),t(0)),l=t.n(i),o=(t(83),t(146)),d=t(108),b=t(8),j=l.a.forwardRef((function(e,a){var t,s,o=e.bsPrefix,j=e.bsCustomPrefix,u=e.type,f=e.size,m=e.htmlSize,O=e.id,h=e.className,p=e.isValid,v=void 0!==p&&p,x=e.isInvalid,y=void 0!==x&&x,g=e.plaintext,N=e.readOnly,w=e.custom,C=e.as,k=void 0===C?"input":C,E=Object(c.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),P=Object(i.useContext)(d.a).controlId,R=w?[j,"custom"]:[o,"form-control"],S=R[0],B=R[1];if(o=Object(b.a)(S,B),g)(s={})[o+"-plaintext"]=!0,t=s;else if("file"===u){var I;(I={})[o+"-file"]=!0,t=I}else if("range"===u){var U;(U={})[o+"-range"]=!0,t=U}else if("select"===k&&w){var z;(z={})[o+"-select"]=!0,z[o+"-select-"+f]=f,t=z}else{var D;(D={})[o]=!0,D[o+"-"+f]=f,t=D}return l.a.createElement(k,Object(n.a)({},E,{type:u,size:m,ref:a,readOnly:N,id:O||P,className:r()(h,t,v&&"is-valid",y&&"is-invalid")}))}));j.displayName="FormControl",a.a=Object.assign(j,{Feedback:o.a})},146:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(7),r=t.n(s),i=t(0),l=t.n(i),o=t(6),d=t.n(o),b={type:d.a.string,tooltip:d.a.bool,as:d.a.elementType},j=l.a.forwardRef((function(e,a){var t=e.as,s=void 0===t?"div":t,i=e.className,o=e.type,d=void 0===o?"valid":o,b=e.tooltip,j=void 0!==b&&b,u=Object(c.a)(e,["as","className","type","tooltip"]);return l.a.createElement(s,Object(n.a)({},u,{ref:a,className:r()(i,d+"-"+(j?"tooltip":"feedback"))}))}));j.displayName="Feedback",j.propTypes=b,a.a=j},157:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(6),r=t.n(s),i=t(0),l=t.n(i),o=t(7),d=t.n(o),b={label:r.a.string.isRequired,onClick:r.a.func},j=l.a.forwardRef((function(e,a){var t=e.label,s=e.onClick,r=e.className,i=Object(c.a)(e,["label","onClick","className"]);return l.a.createElement("button",Object(n.a)({ref:a,type:"button",className:d()("close",r),onClick:s},i),l.a.createElement("span",{"aria-hidden":"true"},"\xd7"),l.a.createElement("span",{className:"sr-only"},t))}));j.displayName="CloseButton",j.propTypes=b,j.defaultProps={label:"Close"},a.a=j},222:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(7),r=t.n(s),i=t(0),l=t.n(i),o=t(38),d=t(40),b=t(8),j=t(111),u=t(157),f=t(49),m=t(18),O=t(60),h=Object(f.a)("h4");h.displayName="DivStyledAsH4";var p=Object(m.a)("alert-heading",{Component:h}),v=Object(m.a)("alert-link",{Component:O.a}),x={show:!0,transition:j.a,closeLabel:"Close alert"},y=l.a.forwardRef((function(e,a){var t=Object(o.a)(e,{show:"onClose"}),s=t.bsPrefix,i=t.show,f=t.closeLabel,m=t.className,O=t.children,h=t.variant,p=t.onClose,v=t.dismissible,x=t.transition,y=Object(c.a)(t,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),g=Object(b.a)(s,"alert"),N=Object(d.a)((function(e){p&&p(!1,e)})),w=!0===x?j.a:x,C=l.a.createElement("div",Object(n.a)({role:"alert"},w?void 0:y,{ref:a,className:r()(m,g,h&&g+"-"+h,v&&g+"-dismissible")}),v&&l.a.createElement(u.a,{onClick:N,label:f}),O);return w?l.a.createElement(w,Object(n.a)({unmountOnExit:!0},y,{ref:void 0,in:i}),C):i?C:null}));y.displayName="Alert",y.defaultProps=x,y.Link=v,y.Heading=p,a.a=y},233:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return x}));var n=t(147),c=t.n(n),s=t(183),r=t(1),i=t(3),l=t(0),o=t(79),d=t(47),b=t(62),j=t(46),u=t(107),f=t(224),m=t(222),O=t(31),h=t(14),p=t(13),v=t(66);function x(){var e=Object(l.useState)(),a=Object(i.a)(e,2)[1],t=Object(l.useCallback)((function(){return a({})}),[]);return O.a.pageview("/setting"),Object(r.jsx)(o.a,{children:Object(r.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mt-2",children:[Object(r.jsx)(d.a.Header,{children:"Database management"}),Object(r.jsxs)(d.a.Body,{children:[Object(r.jsx)(g,{forceUpdate:t}),Object(r.jsx)(w,{forceUpdate:t})]})]})})}function y(){navigator.clipboard.writeText(JSON.stringify(Object(v.d)())),alert("Copied database to clipboard.")}function g(e){var a=e.forceUpdate,t=p.a.getIdList().length,n=h.a.getIdList().length,c=Boolean(t||n);return Object(r.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-3",children:[Object(r.jsx)(d.a.Header,{children:"Database Download"}),Object(r.jsxs)(d.a.Body,{children:[Object(r.jsxs)(b.a,{className:"mb-2",children:[Object(r.jsx)(j.a,{xs:12,md:6,children:Object(r.jsxs)("h6",{children:["Number of Characters: ",Object(r.jsx)("b",{children:t})]})}),Object(r.jsx)(j.a,{xs:12,md:6,children:Object(r.jsxs)("h6",{children:["Number of artifacts: ",Object(r.jsx)("b",{children:n})]})})]}),Object(r.jsx)("small",{children:'Notes: any data within the "Tools" page, e.g. Resin amount/timer, are not part of the downloaded database.'})]}),Object(r.jsx)(d.a.Footer,{children:Object(r.jsxs)(b.a,{children:[Object(r.jsx)(j.a,{xs:"auto",children:Object(r.jsx)(u.a,{disabled:!c,onClick:function(){return function(e){var a,t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",c="application/json;charset=utf-8";if(null===(a=window)||void 0===a||null===(t=a.navigator)||void 0===t?void 0:t.msSaveOrOpenBlob){var s=new Blob([decodeURIComponent(encodeURI(e))],{type:c});navigator.msSaveOrOpenBlob(s,n)}else{var r=document.createElement("a");r.download=n,r.href="data:".concat(c,",").concat(encodeURIComponent(e)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}(JSON.stringify(Object(v.d)()))},children:"Download"})}),Object(r.jsx)(j.a,{children:Object(r.jsx)(u.a,{disabled:!c,variant:"info",onClick:y,children:"Copy to clipboard"})}),Object(r.jsx)(j.a,{xs:"auto",children:Object(r.jsx)(u.a,{disabled:!c,variant:"danger",onClick:function(){window.confirm("Are you sure you want to delete your database? All existing characters and artifacts will be deleted.")&&Object(v.c)(),a()},children:"Delete database"})})]})})]})}function N(){return(N=Object(s.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:(n=new FileReader).onload=function(){t(n.result)},n.readAsText(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var a,t,n,c=e.forceUpdate,s=Object(l.useState)(""),o=Object(i.a)(s,2),O=o[0],h=o[1],p=Object(l.useState)(""),x=Object(i.a)(p,2),y=x[0],g=x[1],w="";if(O)try{var C=n=JSON.parse(O),k=C.characterDatabase,E=C.artifactDatabase;a=Object.keys(k).length,t=Object.keys(E).length}catch(R){w="Invalid JSON: ".concat(R)}var P=Boolean(a||t);return Object(r.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",children:[Object(r.jsx)(d.a.Header,{children:"Database Upload"}),Object(r.jsxs)(d.a.Body,{children:[Object(r.jsxs)(b.a,{className:"mb-2",children:[Object(r.jsx)(f.a.File,{className:"mb-2",label:y||"Upload your JSON file here",onChange:function(e){var a=e.target.files[0];e.target.value=null,a&&g(a.name),function(e,a){N.apply(this,arguments)}(a,h)},custom:!0,accept:".json"}),Object(r.jsx)("h6",{children:"...or Paste your data below..."}),Object(r.jsx)("textarea",{className:"w-100 text-monospace",value:O,onChange:function(e){return h(e.target.value)},style:{minHeight:"10em"}})]}),P&&Object(r.jsxs)(b.a,{children:[Object(r.jsx)(j.a,{xs:12,md:6,children:Object(r.jsxs)("h6",{children:["Number of Characters: ",Object(r.jsx)("b",{children:a})]})}),Object(r.jsx)(j.a,{xs:12,md:6,children:Object(r.jsxs)("h6",{children:["Number of artifacts: ",Object(r.jsx)("b",{children:t})]})})]}),Boolean(O&&(w||!P))&&Object(r.jsx)(m.a,{variant:"danger",children:w||"Unable to parse character & artifact data from file."})]}),Object(r.jsx)(d.a.Footer,{children:Object(r.jsx)(u.a,{variant:P?"success":"danger",disabled:!P,onClick:function(){!function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};window.confirm("Are you sure you want to replace your database? All existing characters and artifacts will be deleted before replacement.")&&(Object(v.e)(e),a())}(n),h(""),g(""),c()},children:"Replace database"})})]})}Object(v.b)()}}]);
//# sourceMappingURL=20.5e749fd9.chunk.js.map