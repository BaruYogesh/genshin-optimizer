{"version":3,"sources":["Conditional/Resonance.tsx","Components/Card/CardLight.tsx","Components/Card/CardDark.tsx","Components/DropdownMenu/DropdownButton.tsx","Character/Character.ts","Components/StarDisplay.tsx","ReactHooks/useCharacterReducer.tsx","Assets/icon_bow.png","Assets/Assets.ts","Assets/icon_catalyst.png","Assets/icon_claymore.png","Assets/icon_polearm.png","Assets/icon_sword.png","Assets/Item_Fragile_Resin.png","Assets/Item_Condensed_Resin.png","Assets/Item_Wanderer's_Advice.png","Assets/Item_Hero's_Wit.png","Assets/Item_Adventurer's_Experience.png","Components/CloseButton.tsx","Components/ModalWrapper.tsx","Components/Character/CharacterDropdownButton.tsx","Components/CustomNumberInput.tsx","Components/FieldDisplay.tsx","Components/SolidToggleButtonGroup.tsx","Components/BootstrapTooltip.tsx","ReactHooks/useSheets.tsx","ReactHooks/useForceUpdate.tsx","Components/ConditionalWrapper.tsx","Components/DocumentDisplay.tsx","Components/ExpandButton.tsx","Character/CharacterUtil.tsx","Components/Character/ThumbSide.tsx","Components/Character/LocationName.tsx","ProcessFormula.ts","Components/ToggleButton/WeaponToggle.tsx","Components/StatDisplay.tsx","StatDependency.ts","ReactHooks/useWeapon.tsx","ReactHooks/useCharSelectionCallback.tsx","Conditional/ConditionalSelector.tsx","Components/ConditionalDisplay.tsx","Util/SortByFilters.ts","Components/SortByButton.tsx","ReactHooks/useCharacter.tsx","Artifact/RollProbability.ts","Artifact/PercentBadge.tsx","Components/TextButton.tsx","Character/StatInput.tsx","Components/Weapon/WeaponSelectionModal.tsx","Weapon/WeaponCard.tsx","Artifact/ArtifactCard.tsx","ReactHooks/useArtifact.tsx","Character/CharacterCard.tsx","Artifact/Component/SetEffectDisplay.tsx","Components/Character/CharacterSelectionModal.tsx","Util/CharacterSort.ts","Character/CharacterDisplay/StatDisplayComponent.tsx","Components/EnemyEditor.tsx","Components/HitModeEditor.tsx","../node_modules/@mui/material/Accordion/AccordionContext.js","Weapon/WeaponStatsCard.tsx","Weapon/WeaponDisplayCard.tsx","Components/SolidColoredToggleButton.tsx","Components/ToggleButton/ElementToggle.tsx","../node_modules/@mui/material/CardHeader/cardHeaderClasses.js","../node_modules/@mui/material/CardHeader/CardHeader.js","../node_modules/@mui/icons-material/esm/ExpandMore.js","../node_modules/@mui/utils/esm/useControlled.js","../node_modules/@mui/system/esm/styled.js","../node_modules/@mui/icons-material/esm/BusinessCenter.js","../node_modules/@mui/icons-material/esm/Replay.js","../node_modules/@mui/icons-material/esm/CheckBox.js","../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","Components/FormulaCalcCard.tsx","Character/CharacterDisplay/CharacterArtifactPane.tsx","Character/CharacterDisplay/CharacterOverviewPane.tsx","Character/CharacterDisplay/CharacterTalentPane.tsx","Character/CharacterDisplay/CharacterTeamBuffsPane.tsx","Character/CharacterDisplayCard.tsx","../node_modules/@mui/material/Collapse/collapseClasses.js","../node_modules/@mui/material/Collapse/Collapse.js","../node_modules/@mui/icons-material/esm/Lock.js","../node_modules/@mui/icons-material/esm/LockOpen.js","../node_modules/@mui/material/ListItem/listItemClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/listItemSecondaryActionClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js","../node_modules/@mui/material/ListItem/ListItem.js","../node_modules/@mui/material/internal/svg-icons/Cancel.js","../node_modules/@mui/material/Chip/chipClasses.js","../node_modules/@mui/material/Chip/Chip.js","../node_modules/@mui/material/CardMedia/cardMediaClasses.js","../node_modules/@mui/material/CardMedia/CardMedia.js","../node_modules/@mui/material/CardActionArea/cardActionAreaClasses.js","../node_modules/@mui/material/CardActionArea/CardActionArea.js","../node_modules/@mui/system/esm/Box/Box.js","../node_modules/@mui/icons-material/esm/SwapHoriz.js","../node_modules/@mui/lab/node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@mui/lab/Masonry/masonryClasses.js","../node_modules/@mui/lab/Masonry/Masonry.js","../node_modules/@mui/lab/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@mui/material/CardActions/cardActionsClasses.js","../node_modules/@mui/material/CardActions/CardActions.js","../node_modules/@mui/icons-material/esm/PersonAdd.js","../node_modules/@mui/utils/esm/usePreviousProps.js","../node_modules/@mui/base/BadgeUnstyled/badgeUnstyledClasses.js","../node_modules/@mui/base/BadgeUnstyled/BadgeUnstyled.js","../node_modules/@mui/material/Badge/Badge.js","../node_modules/@mui/material/Accordion/accordionClasses.js","../node_modules/@mui/material/Accordion/Accordion.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray.js","../node_modules/@mui/material/AccordionSummary/accordionSummaryClasses.js","../node_modules/@mui/material/AccordionSummary/AccordionSummary.js","../node_modules/@mui/material/AccordionDetails/accordionDetailsClasses.js","../node_modules/@mui/material/AccordionDetails/AccordionDetails.js"],"names":["tr","strKey","ns","key18","resonanceSheets","header","title","action","StatIcon","anemo","geo","pyro","hydro","cryo","electro","description","canShow","stats","Set","teamStats","map","t","characterEle","filter","e","size","conditionals","key","partyBuff","maxStack","Object","fromEntries","allElements","ele","length","atk_","fields","text","value","unit","incHeal_","name","critRate_","staminaDec_","moveSPD_","skillCDRed_","shield_","dmg_","geo_enemyRes_","sgt","CardLight","styled","Card","backgroundColor","theme","palette","contentLight","main","CardDark","contentDark","DropdownButton","children","id","props","useState","anchorEl","setAnchorEl","open","Boolean","handleClick","useCallback","event","currentTarget","handleClose","fallback","endIcon","width","aria-controls","aria-haspopup","aria-expanded","undefined","onClick","onClose","MenuListProps","height","Character","this","Error","initialStats","database","sheets","characterKey","elementKey","conditionalValues","entries","Conditional","character","conditional","mergeCalculatedStats","resolve","tlvl","activeCharacter","resonance","parseConditionalValues","conditionalValue","keys","condStats","forEach","tstats","tChar","_getChar","artifacts","equippedArtifacts","artid","_getArt","calculateBuildWithConditionalsWithoutArtifacts","calculateBuildwithArtifact","artifactSheets","val","Number","isNaN","getLevelString","level","ascensionMaxLevel","ascension","getTalentFieldValue","field","defVal","evalIfFunc","hasBonusStats","statKey","bonusStats","getStatValueWithBonus","overrideStatKeys","includes","characterBaseStats","calculateBuild","mainStatAssumptionLevel","calculatePreBuild","finalStatProcess","createInitialStats","setToSlots","Artifact","artifactSetEffectsStats","ArtifactSheet","setEffectsStats","values","art","mainStatKey","mainStatValue","rarity","Math","max","min","substats","substat","mergeStats","artifact","createInitialStatsWithoutConds","characterSheets","weaponSheets","hitMode","infusionAura","reactionMode","talent","constellation","equippedWeapon","team","characterSheet","weapon","_getWeapon","defaultInitialWeapon","weaponTypeKey","weaponSheet","overrideStats","s","additionalStats","characterLevel","characterHP","getBase","characterDEF","characterATK","weaponType","refineIndex","refinement","partyAllModifiers","partyOnlyModifiers","partyActiveModifiers","specialStatKey","getSpecializedStat","specializedStatVal","getSpecializedStatVal","weaponATK","getMainStatValue","weaponSubKey","getSubStatKey","getSubStatValue","tCharKey","x","allTeam","allTeamStats","tStats","tindex","_","i","getDisplayStatKeys","eleKey","basicKeys","isAutoElemental","push","transReactions","ElementToReactionKeys","charFormulas","talentSheet","getTalent","addFormula","formula","parseSection","section","talentKey","sections","formKey","document","setKey","num","artifactSheet","setEffects","setNum","parseInt","StarIcon","icon","faStar","Stars","stars","colored","color","component","Array","useCharacterReducer","useContext","DatabaseContext","type","setWeaponLocation","updateChar","index","newCharKey","charKey","oldCharKey","oldChar","newChar","c","tind","Assets","weaponTypes","bow","catalyst","claymore","polearm","sword","resin","fragile","condensed","exp_books","advice","wit","experience","CloseButton","large","useTranslation","startIcon","sx","p","minWidth","ScrollModal","Modal","overflow","paddingTop","spacing","paddingBottom","ModalContainer","Container","padding","minHeight","display","flexDirection","justifyContent","pointerEvents","ModalWrapper","containerProps","variant","CharacterDropdownButton","onChange","unSelectText","unSelectIcon","inventory","noUnselect","usePromise","CharacterSheet","getAll","get","characterKeys","_getCharKeys","ck","sort","thumbImg","src","thumbImgSide","selected","disabled","noWrap","CharacterMenuItemArray","selectedCharacterKey","StyledInputBase","InputBase","primary","transition","dark","Wrapper","Button","CustomNumberInputButtonGroupWrapper","disableRipple","disableFocusRipple","disableTouchRipple","CustomNumberInput","float","number","setNumber","focused","setFocus","parseFunc","useMemo","parseFloat","onBlur","onFocus","useEffect","onInputChange","target","onKeyDOwn","aria-label","onKeyDown","FieldDisplay","buildContext","newBuild","equippedBuild","compareBuild","build","fixedVal","fixed","fieldVal","retVal","fieldEquippedVal","toFixed","diff","fieldText","fieldVariant","formulaTextOverlay","fieldFormulaText","placement","cursor","ml","faQuestionCircle","FieldDisplayList","List","borderRadius","shape","margin","contentDarker","SolidToggleButtonGroup","ToggleButtonGroup","shouldForwardProp","prop","baseColor","selectedColor","contrastText","BootstrapTooltip","className","arrow","classes","popper","tooltipClasses","common","black","tooltip","useSheets","Promise","all","WeaponSheet","then","useForceUpdate","stateDirty","update","ConditionalWrapper","condition","wrapper","falseWrapper","DocumentDisplay","skipConditionalEquipmentCheck","characterDispatch","onCVChange","v","sectionsDisplay","talentText","canShowConditional","gap","hideDesc","ExpandButton","expand","other","transform","marginLeft","transitions","create","duration","shortest","getFormulaTargetsDisplayHeading","startsWith","subkey","split","getTalentOfKey","img","sheet","imgAwaken","defIconSrc","initialCharacter","objectFromKeyMap","allSlotKeys","buildSettings","initialBuildSettings","auto","skill","burst","ThumbSide","lineHeight","verticalAlign","marginTop","marginRight","marginBottom","LocationName","location","nameWIthIcon","PreprocessFormulas","GetDependencies","modifiers","preprocessedStats","addPreModValues","mod","k","premod","modStatsFormula","mods","targets","context","modStatsFunc","Formula","computeModifier","modStats","b","relevantMod","dependencyKeys","ui","premodFormulaList","postmodFormulaList","getStage","StatData","default","Formulas","processTeam","beforePreprocess","preprocessed","tPartyModifiers","mergeModifiers","teamFormula","modFormula","partyAllFormula","partyOnlyFormula","partyActiveFormula","numStages","const","WeaponToggle","cb","newVal","exclusive","allWeaponTypeKeys","wt","DisplayStatDiff","label","oldVal","hasBonus","oldText","diffText","valueText","StatDisplay","isArray","Stat","getStatUnit","fixedUnit","getStatName","labelVariant","displayVal","GetFormulaDependency","dependency","Proxy","receiver","add","toString","formulaKeyDependency","freeze","baseStat","found","dependencies","InsertDependencies","flatMap","dep","has","path","getCurrent","useWeapon","weaponID","setWeapon","followWeapon","useCharSelectionCallback","history","useHistory","ConditionalSelector","setConditional","conditionalNum","conditionalStateKey","state","states","badge","SqBadge","fullWidth","MenuItem","Divider","stateKey","condial","stack","Typography","CheckBox","CheckBoxOutlineBlank","ConditionalDisplay","hideHeader","conditionalStats","conditionalFields","displayFields","statsToFields","condV","layeredAssignment","deletePropPath","objClearEmpties","CardHeader","avatar","titleTypographyProps","CardContent","Box","mb","m","sortFunction","sortby","ascending","configs","Sort","a","config","aV","getValue","bV","localeCompare","filterOption","tieBreaker","filterFunction","filterOptions","filterConfigs","obj","every","optionKey","optionVal","SortByButton","sortKeys","onChangeAsc","i18nKey","faSortAmountDownAlt","faSortAmountUp","useCharacter","updateCharacter","followChar","allWeights","fWeight","hp","atk","def","hp_","def_","eleMas","enerRech_","critDMG_","pFillerSeq","populatePFillerSeq","prefix","prob","sumProb","current","3","4","6","cnr","fill","n","result","r","pNExtra","last","next","array","accu","reduce","probability","_target","NaN","required","numFillerSlots","maxLevel","ArtifactMainStatsData","delete","numUpgradeRolls","rollsRemaining","ceil","maxSubstatValues","minTotalUpgrades","targetEntries","filler","minUpgrade","reverse","additionalUpgradeRolls","targetIndex","M","rolls","extra","pExtra","_remaining","remaining","pRolls","pow","mainStat","mainStatRatio","pFillerRolls","numUnusedSubstats","pSuffixFillerSeq","ratio","requiredCount","total","crawlObject","currentCount","sum","calculatePFillerRolls","PercentBadge","valid","clamp","floor","badgeColor","DisabledButton","secondary","TextButton","FlexButtonGroup","ButtonGroup","StatInput","placeholder","defaultValue","onValueChange","percent","onReset","restProps","whiteSpace","flexBasis","flexGrow","px","inputProps","textAlign","endAdornment","WeaponSelectionModal","show","onHide","onSelect","propWeaponFilter","weaponFilter","setWeaponfilter","weaponIdList","allWeaponKeys","wKey","py","container","item","weaponKey","lg","md","WeaponCard","weaponId","onEdit","onDelete","canEquip","cs","actionWrapperFunc","equipOnChar","lock","weaponMainVal","weaponSubVal","statMap","passiveName","fontSize","updateWeapon","flexWrap","pl","maxWidth","alignContent","mt","statVal","xs","flexShrink","mr","faEdit","faTrashAlt","allSubstatFilter","allSubstats","ArtifactCard","artifactId","artifactObj","effFilter","probabilityFilter","databaseArtifact","artifactID","setArtifact","followArt","useArtifact","editable","localDatabase","slotKey","exclude","mainStatLevel","levelVariant","mainStatVal","valueStringWithUnit","getArtifactEfficiency","currentEfficiency","maxEfficiency","artifactValid","slotName","getSlotName","slotDesc","getSlotDesc","slotDescTooltip","faInfoCircle","setDescTooltip","setNumKey","setEffectDesc","Skeleton","pt","pb","pr","alignItems","Chip","IconButton","updateArt","Lock","LockOpen","Grid","alignSelf","CardMedia","image","slotIcons","stat","numRolls","rollColor","efficiency","effOpacity","statName","opacity","my","CardActions","setArtLocation","Tooltip","faBan","faChartLine","CharacterCard","artifactChildren","weaponChildren","onClickHeader","footer","onClickHandler","Header","Weapon","ArtifactDisplay","Stats","autoBoost","skillBoost","burstBoost","position","content","left","top","backgroundImage","bannerImg","backgroundPosition","backgroundSize","zIndex","textShadow","mainVal","subKey","subVal","levelName","getStatNameWithPercent","SetEffectDisplay","setEffectText","setStats","setNumStats","setStatsFields","setEffectDocument","defaultSortKeys","CharacterSelectionModal","newFirst","sortBy","setsortBy","setascending","elementalFilter","setelementalFilter","setweaponFilter","sortConfigs","characterSortConfigs","characterFilterConfigs","characterKeyList","allCharacterKeys","cKey","element","CharacterBtn","characterSortKeys","new","StatDisplayComponent","statsDisplayKeys","columns","sm","sectionKey","sectionValues","JSON","stringify","EnemyExpandCard","expanded","setexpanded","toggle","allElementsWithPhy","EnemyResText","in","timeout","unmountOnExit","EnemyEditor","immune","resKey","uncoloredEleIcons","bsProps","charBaseStats","href","rel","bgcolor","getStatNameRaw","enemyLevel","immunityStatKey","elementImmunity","faCheckSquare","faSquare","infusionVals","InfusionAuraDropdown","isMelee","ReactionToggle","charEleKey","HitModeToggle","DamageOptionsCard","AccordionContext","React","WeaponStatsCard","statsVals","WeaponDisplayCard","propWeaponId","charData","buildContextObj","weaponDispatch","newWeapon","setLevel","findIndex","ascenML","setAscension","lowerAscension","ws","initialWeaponFilter","showModal","setshowModal","startAdornment","ambiguousLevel","milestoneLevels","lv","as","lvlstr","SwapBtn","onChangeId","substatKey","weaponDisplayMainVal","weaponDisplaySubVal","weaponPassiveName","weaponBonusStats","process","gutterBottom","passiveDescription","Provider","setCompareBuild","setShow","close","clickHandler","weapons","dbWeapon","SwapHoriz","ImgIcon","SolidColoredToggleButton","ToggleButton","ElementToggle","getCardHeaderUtilityClass","slot","generateUtilityClass","cardHeaderClasses","generateUtilityClasses","_excluded","CardHeaderRoot","overridesResolver","styles","_extends","subheader","root","CardHeaderAvatar","flex","CardHeaderAction","CardHeaderContent","inProps","ref","useThemeProps","disableTypography","subheaderProp","subheaderTypographyProps","titleProp","_objectWithoutPropertiesLoose","ownerState","composeClasses","useUtilityClasses","_jsx","_jsxs","clsx","createSvgIcon","d","useControlled","controlled","defaultProp","isControlled","valueState","setValue","newValue","createStyled","FormulaCalcCard","ExpandMore","Collapse","CalculationDisplay","displayStatKeys","fieldIndex","FormulaCalculationField","fieldKeys","subFormulaKeys","getPrintableFormulaStatKeyList","Accordion","AccordionSummary","expandIcon","printStat","AccordionDetails","formulaField","fieldFixed","fieldUnit","fieldFormula","fieldFormulaDependency","fieldValue","CharacterArtifactPane","statKeys","edit","pathname","artToEditId","followAnyArt","equipArts","window","confirm","equipArtifacts","unequipArts","warning","setNumKeyArr","CharacterOverviewPane","cardImg","tKey","Badge","badgeContent","overlap","anchorOrigin","vertical","horizontal","constellationName","MainStatsCards","additionalKeys","editStatKeys","otherStatKeys","miscStatkeys","resetString","statBreakpoint","specializedStatKey","specializedStatUnit","displayNewBuildProps","TeamBuffDisplay","StatDisplayCard","columnSpacing","rowSpacing","editContent","characterStatKeys","round","setedit","faSave","CharacterTalentPane","ReactionDisplay","tText","SkillDisplayCard","subtitle","asc","enabled","style","onClickTitle","ReactionComponents","superconduct_hit","sKey","electrocharged_hit","overloaded_hit","pyro_swirl_hit","SwirlCard","cryo_swirl_hit","electro_swirl_hit","hydro_swirl_hit","shattered_hit","information","crystalize_hit","crystalizeEleToDisplay","setele","eleInterArr","Ele","swirlEleToDisplay","talentLimits","actionWrapeprFunc","CardActionArea","levelBoost","talentLvlKey","newTalentLevelKey","CharacterTeamBuffsPane","ResonanceDisplay","TeammateDisplay","doc","cond","condCharStats","PersonAdd","CharArtifactCondDisplay","CharWeaponCondDisplay","CharTalentCondDisplay","artSetKey","slotkeys","partyConditionals","conds","condCharKey","condCharKeyHashed","charConds","condKey","TabPanel","role","hidden","aria-labelledby","CharacterDisplayCard","propNewBuild","tabName","isFlex","propCompareBuild","dbDirty","setDbDirty","teammate1","teammate2","teammate3","createWeapon","deepCloneStats","tab","settab","onTab","CharSelectDropdown","Tabs","Tab","setCharacter","HeaderIconDisplay","talents","getCollapseUtilityClass","CollapseRoot","orientation","entered","collapsedSize","visibility","CollapseWrapper","CollapseWrapperInner","wrapperInner","addEndListener","collapsedSizeProp","easing","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","standard","TransitionComponent","Transition","slots","useTheme","timer","wrapperRef","autoTransitionDuration","isHorizontal","clearTimeout","nodeRef","handleRef","useForkRef","normalizedTransitionCallback","callback","maybeIsAppearing","node","getWrapperSize","handleEnter","isAppearing","handleEntering","wrapperSize","getTransitionProps","mode","transitionDuration","transitionTimingFunction","duration2","getAutoHeightDuration","handleEntered","handleExit","handleExited","handleExiting","setTimeout","childProps","muiSupportAuto","getListItemUtilityClass","listItemClasses","getListItemSecondaryActionClassesUtilityClass","ListItemSecondaryActionRoot","disableGutters","right","ListItemSecondaryAction","ListContext","muiName","_excluded2","ListItemRoot","dense","alignItemsFlexStart","divider","gutters","disablePadding","button","hasSecondaryAction","secondaryAction","textDecoration","boxSizing","paddingLeft","paddingRight","listItemButtonClasses","focusVisible","focus","alpha","selectedOpacity","focusOpacity","disabledOpacity","borderBottom","backgroundClip","hover","hoverOpacity","ListItemContainer","ListItem","autoFocus","childrenProp","componentProp","components","componentsProps","ContainerComponent","ContainerProps","ContainerClassName","focusVisibleClassName","childContext","listItemRef","useEnhancedEffect","toArray","isMuiElement","Root","rootProps","componentProps","Component","ButtonBase","isHostComponent","pop","getChipUtilityClass","chipClasses","ChipRoot","clickable","capitalize","deleteIcon","deletable","deleteIconColor","fontFamily","typography","pxToRem","outline","border","grey","avatarColorPrimary","avatarColorSecondary","avatarSmall","WebkitTapHighlightColor","userSelect","boxShadow","shadows","iconSmall","deleteIconSmall","ChipLabel","textOverflow","isDeleteKeyboardEvent","keyboardEvent","avatarProp","clickableProp","ComponentProp","deleteIconProp","iconProp","onKeyUp","chipRef","handleDeleteIconClick","stopPropagation","small","moreProps","customClasses","CancelIcon","preventDefault","blur","getCardMediaUtilityClass","CardMediaRoot","isMediaComponent","isImageComponent","media","backgroundRepeat","objectFit","MEDIA_COMPONENTS","IMAGE_COMPONENTS","indexOf","composedStyle","getCardActionAreaUtilityClass","cardActionAreaClasses","CardActionAreaRoot","focusHighlight","CardActionAreaFocusHighlight","bottom","short","createBox","assign","arguments","source","prototype","hasOwnProperty","call","apply","getMasonryUtilityClass","parseToNumber","replace","MasonryRoot","flexFlow","stylesSSR","isSSR","orderStyleSSR","defaultSpacing","defaultColumns","order","defaultHeight","spacingValues","resolveBreakpointValues","breakpoints","transformer","createUnarySpacing","deepmerge","handleBreakpoints","propValue","themeSpacingValue","maxColumnHeight","columnValues","columnValue","breakpoint","lastBreakpoint","column","Masonry","excluded","sourceKeys","masonryRef","setMaxColumnHeight","numberOfLineBreaks","setNumberOfLineBreaks","observer","ResizeObserver","elements","masonry","masonryFirstChild","parentWidth","childWidth","_elements$","_masonryFirstChild","_masonryFirstChild$co","_masonryFirstChild2","_elements$2","_masonry$contentRect","contentRect","firstChild","clientWidth","parentElement","firstChildComputedStyle","getComputedStyle","firstChildMarginLeft","firstChildMarginRight","currentNumberOfColumns","columnHeights","skip","childNodes","child","nodeType","Node","ELEMENT_NODE","dataset","class","childComputedStyle","childMarginTop","childMarginBottom","childHeight","nestedChild","tagName","clientHeight","currentMinColumnIndex","resizeObserver","observe","disconnect","lineBreakStyle","lineBreaks","getCardActionsUtilityClass","CardActionsRoot","disableSpacing","usePreviousProps","getBadgeUtilityClass","badgeUnstyledClasses","BadgeUnstyled","anchorOriginProp","classesProp","badgeContentProp","invisibleProp","invisible","maxProp","overlapProp","showZero","variantProp","prevProps","displayValue","badgeProps","badgeClasses","BadgeRoot","BadgeBadge","fontWeight","fontWeightMedium","RADIUS_STANDARD","easeInOut","enteringScreen","RADIUS_DOT","transformOrigin","leavingScreen","_componentsProps$root","_componentsProps$badg","colorProp","extendUtilityClasses","Thumb","getAccordionUtilityClass","accordionClasses","AccordionRoot","Paper","region","square","rounded","overflowAnchor","disabledBackground","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","arr","defaultExpanded","expandedProp","TransitionProps","setExpandedState","handleChange","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","summary","contextValue","getAccordionSummaryUtilityClass","accordionSummaryClasses","AccordionSummaryRoot","AccordionSummaryContent","AccordionSummaryExpandIconWrapper","expandIconWrapper","active","focusRipple","getAccordionDetailsUtilityClass","AccordionDetailsRoot"],"mappings":"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","file":"static/js/14.d55b9eb9.chunk.js","sourcesContent":["import StatIcon from \"../Components/StatIcon\"\r\nimport { Translate } from \"../Components/Translate\"\r\nimport { sgt } from \"../Data/Characters/SheetUtil\"\r\nimport { allElements } from \"../Types/consts\"\r\nimport IConditional from \"../Types/IConditional\"\r\nimport { BasicStats } from \"../Types/stats\"\r\nconst tr = (strKey: string) => <Translate ns=\"resonance_gen\" key18={strKey} />\r\n\r\ntype resonanceDoc = {\r\n  header: IConditional[\"header\"],\r\n  description: Displayable,\r\n  canShow: (stats: BasicStats) => boolean,\r\n  conditionals: IConditional[]\r\n}\r\nconst resonanceSheets: resonanceDoc[] = [{// Protective Canopy\r\n  header: {\r\n    title: tr(\"ProtectiveCanopy.name\"),\r\n    action: <span>{StatIcon.anemo} {StatIcon.geo} {StatIcon.pyro} {StatIcon.hydro} {StatIcon.cryo} {StatIcon.electro} x4</span>\r\n  },\r\n  description: tr(\"ProtectiveCanopy.desc\"),\r\n  canShow: stats => (new Set([...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e))).size === 4,\r\n  conditionals: [{\r\n    key: \"pc\",\r\n    partyBuff: \"partyAll\",\r\n    canShow: stats => (new Set([...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle])).size === 4,\r\n    maxStack: 0,\r\n    stats: Object.fromEntries([...allElements, \"physical\"].map(ele => [`${ele}_res_`, 15]))\r\n  }]\r\n}, {// Fervent Flames\r\n  header: {\r\n    title: tr(\"FerventFlames.name\"),\r\n    action: <span>{StatIcon.pyro} {StatIcon.pyro}</span>,\r\n  },\r\n  description: tr(\"FerventFlames.desc\"),\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"pyro\").length >= 2,\r\n  conditionals: [{\r\n    key: \"ff\",\r\n    partyBuff: \"partyAll\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"pyro\").length >= 2,\r\n    maxStack: 0,\r\n    stats: {\r\n      atk_: 25,\r\n    },\r\n    fields: [{\r\n      text: \"Cryo affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  }]\r\n}, {// Soothing Waters\r\n  header: {\r\n    title: tr(\"SoothingWater.name\"),\r\n    action: <span>{StatIcon.hydro} {StatIcon.hydro}</span>,\r\n  },\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"hydro\").length >= 2,\r\n  description: tr(\"SoothingWater.desc\"),\r\n  conditionals: [{\r\n    key: \"sw\",\r\n    maxStack: 0,\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"hydro\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      incHeal_: 30,\r\n    },\r\n    fields: [{\r\n      text: \"Pyro affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  }]\r\n}, {\r\n  header: {\r\n    title: tr(\"ShatteringIce.name\"),\r\n    action: <span>{StatIcon.cryo} {StatIcon.cryo}</span>,\r\n  },\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"cryo\").length >= 2,\r\n  description: tr(\"ShatteringIce.desc\"),\r\n  conditionals: [{\r\n    key: \"si\",// Shattering Ice\r\n    name: \"Against enemies that are Frozen or affected by Cryo\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"cryo\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      critRate_: 15,\r\n    },\r\n    fields: [{\r\n      text: \"Electro affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  },]\r\n}, {\r\n  header: {// High Voltage\r\n    title: tr(\"HighVoltage.name\"),\r\n    action: <span>{StatIcon.electro} {StatIcon.electro}</span>,\r\n  },\r\n  description: tr(\"HighVoltage.desc\"),\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"electro\").length >= 2,\r\n  conditionals: [{\r\n    key: \"hv\",\r\n    partyBuff: \"partyAll\",\r\n    maxStack: 0,\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"electro\").length >= 2,\r\n    fields: [{\r\n      text: \"Hydro affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  }]\r\n}, {\r\n  header: {// Impetuous Winds\r\n    title: tr(\"ImpetuousWinds.name\"),\r\n    action: <span>{StatIcon.anemo} {StatIcon.anemo}</span>,\r\n  },\r\n  description: tr(\"ImpetuousWinds.desc\"),\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"anemo\").length >= 2,\r\n  conditionals: [{\r\n    key: \"iw\",\r\n    partyBuff: \"partyAll\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"anemo\").length >= 2,\r\n    maxStack: 0,\r\n    stats: {\r\n      staminaDec_: 15,\r\n      moveSPD_: 10,\r\n      skillCDRed_: 5,\r\n    },\r\n    fields: [{\r\n      text: \"Pyro affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  }]\r\n}, {\r\n  header: {\r\n    title: tr(\"EnduringRock.name\"),\r\n    action: <span>{StatIcon.geo} {StatIcon.geo}</span>,\r\n  },\r\n  description: tr(\"EnduringRock.desc\"),\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"geo\").length >= 2,\r\n  conditionals: [{\r\n    key: \"er\", // Enduring Rock\r\n    name: \"Increases shield strength\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"geo\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      shield_: 15,\r\n    }\r\n  }, {\r\n    key: \"ers\", // Enduring Rock\r\n    name: \"characters protected by a shield\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"geo\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      dmg_: 15,\r\n    }\r\n  }, {\r\n    key: \"erd\", // Enduring Rock\r\n    name: \"characters protected by a shield: dealing DMG to enemies\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"geo\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      geo_enemyRes_: -20,\r\n    },\r\n    fields: [{\r\n      text: sgt(\"duration\"),\r\n      value: 15,\r\n      unit: \"s\"\r\n    }],\r\n  }]\r\n}]\r\n\r\n\r\nexport default resonanceSheets","import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardLight = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentLight.main\r\n}));\r\n\r\nexport default CardLight","import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardDark = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentDark.main\r\n}));\r\n\r\nexport default CardDark","import { KeyboardArrowDown } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps, Menu, Skeleton } from \"@mui/material\";\r\nimport { Suspense, useCallback, useState } from \"react\";\r\n\r\nexport type DropdownButtonProps = Omit<ButtonProps, \"title\"> & {\r\n  title: React.ReactNode,\r\n  id?: string,\r\n  children: React.ReactNode\r\n}\r\nexport default function DropdownButton({ title, children, id = \"dropdownbtn\", ...props }: DropdownButtonProps) {\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLButtonElement>) => setAnchorEl(event.currentTarget),\r\n    [setAnchorEl],\r\n  )\r\n  const handleClose = useCallback(\r\n    () => setAnchorEl(null),\r\n    [setAnchorEl],\r\n  )\r\n\r\n  return <Suspense fallback={<Button endIcon={<KeyboardArrowDown />}{...props}><Skeleton width={50} /></Button>} >\r\n    <Button\r\n      {...props}\r\n      id={id}\r\n      aria-controls=\"basic-menu\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded={open ? 'true' : undefined}\r\n      onClick={handleClick}\r\n      endIcon={<KeyboardArrowDown />}\r\n    >\r\n      {title}\r\n    </Button>\r\n    <Menu\r\n      id=\"basic-menu\"\r\n      anchorEl={anchorEl}\r\n      open={open}\r\n      onClose={handleClose}\r\n      MenuListProps={{\r\n        'aria-labelledby': id,\r\n      }}\r\n      onClick={handleClose}\r\n    >\r\n      {/* set Skeleton to be really high so the taller dropdowns can still be placed properly... */}\r\n      <Suspense fallback={<Skeleton width=\"100%\" height=\"1000\" />}>\r\n        {children}\r\n      </Suspense>\r\n    </Menu>\r\n  </Suspense>\r\n}","import Artifact from \"../Artifact/Artifact\";\r\nimport { ArtifactSheet } from \"../Artifact/ArtifactSheet\";\r\nimport Conditional from \"../Conditional/Conditional\";\r\nimport { ascensionMaxLevel } from \"../Data/LevelData\";\r\nimport { ArtCharDatabase } from \"../Database/Database\";\r\nimport finalStatProcess from \"../ProcessFormula\";\r\nimport { Sheets } from \"../ReactHooks/useSheets\";\r\nimport { ElementToReactionKeys } from \"../StatData\";\r\nimport { ICachedArtifact, StatKey } from \"../Types/artifact\";\r\nimport { DocumentSection, ICachedCharacter } from \"../Types/character\";\r\nimport { ArtifactSetKey, SlotKey } from \"../Types/consts\";\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\";\r\nimport { ICalculatedStats } from \"../Types/stats\";\r\nimport { characterBaseStats, mergeCalculatedStats, mergeStats, overrideStatKeys } from \"../Util/StatUtil\";\r\nimport { evalIfFunc } from \"../Util/Util\";\r\nimport { defaultInitialWeapon } from \"../Weapon/WeaponUtil\";\r\n\r\nexport default class Character {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Character) throw Error('A static class cannot be instantiated.'); }\r\n\r\n  static getLevelString = (character: ICachedCharacter): string =>\r\n    `${character.level}/${ascensionMaxLevel[character.ascension]}`\r\n\r\n  static getTalentFieldValue = (field: IFieldDisplay, key: keyof IFieldDisplay, stats = {}, defVal = \"\"): any => {\r\n    if (!field[key]) return defVal\r\n    return evalIfFunc(field[key] as any, stats!)\r\n  }\r\n\r\n  static hasBonusStats = (character: ICachedCharacter, statKey): boolean => {\r\n    if (statKey === \"finalHP\")\r\n      return Character.hasBonusStats(character, \"hp\") || Character.hasBonusStats(character, \"hp_\") || Character.hasBonusStats(character, \"characterHP\")\r\n    if (statKey === \"finalDEF\")\r\n      return Character.hasBonusStats(character, \"def\") || Character.hasBonusStats(character, \"def_\") || Character.hasBonusStats(character, \"characterDEF\")\r\n    if (statKey === \"finalATK\")\r\n      return Character.hasBonusStats(character, \"atk\") || Character.hasBonusStats(character, \"atk_\") || Character.hasBonusStats(character, \"characterATK\")\r\n    return character?.bonusStats ? (statKey in character.bonusStats) : false;\r\n  }\r\n\r\n  static getStatValueWithBonus = (character: ICachedCharacter, statKey: string) => {\r\n    if (overrideStatKeys.includes(statKey))\r\n      return character.bonusStats?.[statKey] ?? characterBaseStats(character)[statKey] ?? 0\r\n    else\r\n      return character.bonusStats?.[statKey] ?? 0\r\n  }\r\n\r\n  static calculateBuild = (character: ICachedCharacter, database: ArtCharDatabase, sheets: Sheets, mainStatAssumptionLevel = 0): ICalculatedStats => {\r\n    const initialStats = this.calculatePreBuild(character, database, sheets, mainStatAssumptionLevel)\r\n    return finalStatProcess(initialStats)\r\n  }\r\n  static calculatePreBuild = (character: ICachedCharacter, database: ArtCharDatabase, sheets: Sheets, mainStatAssumptionLevel = 0): ICalculatedStats => {\r\n    const artifacts = Object.fromEntries(Object.entries(character.equippedArtifacts).map(([key, artid]) => [key, database._getArt(artid)]))\r\n    const initialStats = Character.createInitialStats(character, database, sheets)\r\n    initialStats.mainStatAssumptionLevel = mainStatAssumptionLevel\r\n    Character.calculateBuildwithArtifact(initialStats, artifacts, sheets.artifactSheets)\r\n    return initialStats\r\n  }\r\n\r\n  static calculateBuildwithArtifact = (stats: ICalculatedStats, artifacts: Dict<SlotKey, ICachedArtifact>, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet>): ICalculatedStats => {\r\n    const setToSlots = Artifact.setToSlots(artifacts)\r\n    const artifactSetEffectsStats = ArtifactSheet.setEffectsStats(artifactSheets, stats, setToSlots)\r\n    stats.equippedArtifacts = Object.fromEntries(Object.entries(artifacts).map(([key, val]: any) => [key, val?.id]))\r\n    stats.setToSlots = setToSlots\r\n    //add artifact and artifactsets\r\n    Object.values(artifacts).forEach(art => {\r\n      if (!art) return\r\n      //main stats\r\n      stats[art.mainStatKey] = (stats[art.mainStatKey] ?? 0) + Artifact.mainStatValue(art.mainStatKey, art.rarity, Math.max(Math.min(stats.mainStatAssumptionLevel ?? 20, art.rarity * 4), art.level))\r\n      //substats\r\n      art.substats.forEach((substat) =>\r\n        substat && substat.key && (stats[substat.key] = (stats[substat.key] || 0) + substat.value))\r\n    })\r\n    //setEffects\r\n    mergeStats(stats, artifactSetEffectsStats)\r\n    //setEffects conditionals\r\n    Conditional.parseConditionalValues({ artifact: stats?.conditionalValues?.artifact }, (conditional, conditionalValue, [, setKey, setNumKey]) => {\r\n      if (!Conditional.canShow(conditional, stats)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, stats, conditionalValue)\r\n      mergeCalculatedStats(stats, condStats)\r\n    })\r\n    return stats\r\n  }\r\n\r\n  static createInitialStatsWithoutConds = (character: ICachedCharacter, database: ArtCharDatabase, sheets: Sheets, activeCharacter = true): ICalculatedStats => {\r\n    const { characterSheets, weaponSheets } = sheets\r\n    const { key: characterKey, bonusStats = {}, elementKey, level, ascension, hitMode, infusionAura, reactionMode, talent,\r\n      constellation, equippedArtifacts, conditionalValues = {}, equippedWeapon, team } = character\r\n    const characterSheet = characterSheets[characterKey]\r\n    const weapon = database._getWeapon(equippedWeapon) ?? defaultInitialWeapon(characterSheet.weaponTypeKey) // need to ensure all characters have a weapon\r\n    const weaponSheet = weaponSheets[weapon.key]\r\n    const overrideStats = Object.fromEntries(Object.entries(bonusStats).filter(([s]) => overrideStatKeys.includes(s)))\r\n    const additionalStats = Object.fromEntries(Object.entries(bonusStats).filter(([s]) => !overrideStatKeys.includes(s)))\r\n    //generate the initalStats obj with data from Character\r\n    let initialStats = characterBaseStats(character)\r\n    initialStats.characterKey = characterKey\r\n    initialStats.characterLevel = level\r\n    initialStats.characterHP = characterSheet.getBase(\"characterHP\", level, ascension)\r\n    initialStats.characterDEF = characterSheet.getBase(\"characterDEF\", level, ascension)\r\n    initialStats.characterATK = characterSheet.getBase(\"characterATK\", level, ascension)\r\n    initialStats.characterEle = characterSheet.elementKey ?? elementKey ?? \"anemo\";\r\n    initialStats.hitMode = hitMode;\r\n    if (infusionAura)\r\n      initialStats.infusionAura = infusionAura\r\n    initialStats.reactionMode = reactionMode;\r\n    initialStats.conditionalValues = conditionalValues\r\n    initialStats.weaponType = characterSheet.weaponTypeKey\r\n    initialStats.tlvl = Object.fromEntries(Object.entries(talent ?? {}).map(([key, value]) => [key, value - 1])) as any;\r\n    initialStats.constellation = constellation\r\n    initialStats.ascension = ascension\r\n    initialStats.weapon = { key: weapon.key, refineIndex: weapon.refinement - 1 }\r\n    initialStats.equippedArtifacts = equippedArtifacts;\r\n    initialStats.team = team\r\n    initialStats = { ...initialStats, ...overrideStats }\r\n    mergeStats(initialStats, additionalStats)\r\n\r\n    initialStats.partyBuff = {}\r\n    // This stores any party stats from this character.\r\n    initialStats.partyAllModifiers = {}\r\n    initialStats.partyOnlyModifiers = {}\r\n    initialStats.partyActiveModifiers = {}\r\n\r\n    //add specialized stat\r\n    const specialStatKey = characterSheet.getSpecializedStat(ascension)\r\n    if (specialStatKey) {\r\n      const specializedStatVal = characterSheet.getSpecializedStatVal(ascension)\r\n      mergeStats(initialStats, { [specialStatKey]: specializedStatVal })\r\n    }\r\n\r\n    //add stats from weapons\r\n    const weaponATK = weaponSheet.getMainStatValue(weapon.level, weapon.ascension)\r\n    initialStats.weaponATK = weaponATK\r\n    const weaponSubKey = weaponSheet.getSubStatKey()\r\n    if (weaponSubKey) mergeStats(initialStats, { [weaponSubKey]: weaponSheet.getSubStatValue(weapon.level, weapon.ascension) })\r\n    mergeStats(initialStats, weaponSheet.stats(initialStats as ICalculatedStats))\r\n\r\n    initialStats.activeCharacter = activeCharacter\r\n\r\n    // Team stuff\r\n    if (activeCharacter) {\r\n      // initiate Team stats.\r\n      initialStats.teamStats = team.map(tCharKey => {\r\n        if (!tCharKey) return null\r\n        const tChar = database._getChar(tCharKey)\r\n        if (!tChar) return null\r\n        // Empty teammate's team in calculation to stop recursion\r\n        const x = tChar.team\r\n        tChar.team = [\"\", \"\", \"\"] // Whatever this is, we're sooooooo not supposed to edit ICharacter objects in-place like this.\r\n        const stats = Character.createInitialStatsWithoutConds(tChar, database, sheets, false)\r\n        tChar.team = x\r\n        return stats\r\n      }) as ICalculatedStats[\"teamStats\"]\r\n\r\n      const allTeam = [characterKey, ...initialStats.team]\r\n      const allTeamStats = [initialStats, ...initialStats.teamStats]\r\n      initialStats.teamStats.forEach((tStats, tindex) => {\r\n        if (!tStats) return\r\n        tStats.team = allTeam.filter((_, i) => i !== (tindex + 1)) as ICalculatedStats[\"team\"]\r\n        tStats.teamStats = allTeamStats.filter((_, i) => i !== (tindex + 1)) as ICalculatedStats[\"teamStats\"]\r\n      });\r\n    }\r\n\r\n    Object.entries(initialStats).forEach(([key, val]) => {\r\n      if (Number.isNaN(val)) debugger\r\n    })\r\n    return initialStats\r\n  }\r\n\r\n  static createInitialStats = (character: ICachedCharacter, database: ArtCharDatabase, sheets: Sheets): ICalculatedStats => {\r\n    //generate the initalStats obj with data from Character\r\n    const initialStats = Character.createInitialStatsWithoutConds(character, database, sheets)\r\n    this.calculateBuildWithConditionalsWithoutArtifacts(initialStats, database, sheets)\r\n\r\n    return initialStats\r\n  }\r\n  static calculateBuildWithConditionalsWithoutArtifacts(initialStats: ICalculatedStats, database: ArtCharDatabase, sheets: Sheets) {\r\n    const { characterKey, characterEle: elementKey, conditionalValues = {} } = initialStats\r\n    // Handle maxStack:0 conditionals on the character. This is mainly skill boosts.\r\n    Object.entries(Conditional.conditionals.character?.[characterKey === \"Traveler\" ? `Traveler_${elementKey}` : characterKey] ?? {}).map(([cKey, conditional]) =>\r\n      !(\"states\" in conditional) && conditional.maxStack === 0 && Conditional.canShow(conditional, initialStats)\r\n      && mergeCalculatedStats(initialStats, Conditional.resolve(conditional, initialStats).stats))\r\n    // Add levelBoosts, from Talent stats.\r\n    for (const key in initialStats.tlvl)\r\n      initialStats.tlvl[key] += initialStats[`${key}Boost`] ?? 0\r\n\r\n    // Handle resonance autoconditionals on the context of the character\r\n    initialStats.activeCharacter && Object.entries(Conditional.conditionals.resonance ?? {}).map(([cKey, conditional]) =>\r\n      !(\"states\" in conditional) && conditional.maxStack === 0 && Conditional.canShow(conditional, initialStats)\r\n      && mergeCalculatedStats(initialStats, Conditional.resolve(conditional, initialStats).stats))\r\n\r\n    // Handle conditionals.\r\n    Conditional.parseConditionalValues(conditionalValues, (conditional, conditionalValue, keys) => {\r\n      // Ignore artifact conditionals.\r\n      if (conditional.keys![0] === \"artifact\") return\r\n      //Ignore resonance on non-active character\r\n      if (conditional.keys![0] === \"resonance\" && !initialStats.activeCharacter) return\r\n      if (!Conditional.canShow(conditional, initialStats)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, initialStats, conditionalValue)\r\n      mergeCalculatedStats(initialStats, condStats)\r\n    })\r\n    // Handle Teammate's conditional\r\n    if (initialStats.activeCharacter) {\r\n      initialStats.teamStats.forEach(tstats => {\r\n        if (!tstats) return\r\n        // Calculate Teammate's build with artifacts, since the manual step of calculating artifacts is skipped in the builder path.\r\n        const tChar = database._getChar(tstats.characterKey)\r\n        if (!tChar) return\r\n        const artifacts = Object.fromEntries(Object.entries(tChar.equippedArtifacts).map(([key, artid]) => [key, database._getArt(artid)]))\r\n        this.calculateBuildWithConditionalsWithoutArtifacts(tstats, database, sheets)\r\n        Character.calculateBuildwithArtifact(tstats, artifacts, sheets.artifactSheets)\r\n      })\r\n    }\r\n    Object.entries(initialStats).forEach(([key, val]) => {\r\n      if (Number.isNaN(val)) debugger\r\n    })\r\n    return initialStats\r\n  }\r\n\r\n  static getDisplayStatKeys = (stats: ICalculatedStats, sheets: Sheets) => {\r\n    const eleKey = stats.characterEle\r\n    const basicKeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\", \"enerRech_\", `${eleKey}_dmg_`] as StatKey[]\r\n    const characterSheet = sheets.characterSheets[stats.characterKey]\r\n    const weaponSheet = sheets.weaponSheets[stats.weapon.key]\r\n    const isAutoElemental = characterSheet.isAutoElemental\r\n    if (!isAutoElemental) basicKeys.push(\"physical_dmg_\")\r\n\r\n    //show elemental interactions\r\n    const transReactions = [...ElementToReactionKeys[eleKey]]\r\n    const weaponTypeKey = characterSheet.weaponTypeKey\r\n    if (!transReactions.includes(\"shattered_hit\") && weaponTypeKey === \"claymore\") transReactions.push(\"shattered_hit\")\r\n    const charFormulas = {}\r\n    const talentSheet = characterSheet.getTalent(eleKey)\r\n    const addFormula = (fields: IFieldDisplay[], key: string) => fields.forEach(field => {\r\n      if (!field.formula || !field?.canShow?.(stats)) return\r\n      if (!charFormulas[key]) charFormulas[key] = []\r\n      charFormulas[key].push((field.formula as any).keys)\r\n    })\r\n    const parseSection = (section: DocumentSection, key: string) => {\r\n      //conditional\r\n      if (section.conditional && Conditional.canShow(section.conditional, stats)) {\r\n        const { fields } = Conditional.resolve(section.conditional, stats)\r\n        fields && addFormula(fields, key)\r\n      }\r\n      //fields\r\n      if (section.fields) addFormula(section.fields, key)\r\n    }\r\n    talentSheet && Object.entries(talentSheet.sheets).forEach(([talentKey, { sections }]) =>\r\n      sections.forEach(section => parseSection(section, `talentKey_${talentKey}`)))\r\n\r\n    const formKey = `weapon_${stats.weapon.key}`\r\n    weaponSheet.document && weaponSheet.document.map(section => parseSection(section, formKey))\r\n\r\n    stats.setToSlots && Object.entries(stats.setToSlots).map(([setKey, slots]) => [setKey, slots.length]).forEach(([setKey, num]) => {\r\n      const artifactSheet: ArtifactSheet = sheets.artifactSheets[setKey]\r\n      if (!artifactSheet) return\r\n      Object.entries(artifactSheet.setEffects).forEach(([setNum, { document }]) => {\r\n        if (num < parseInt(setNum)) return\r\n        document && document.map(section => parseSection(section, `artifact_${setKey}_${setNum}`))\r\n      })\r\n    })\r\n    return { basicKeys, ...charFormulas, transReactions }\r\n  }\r\n}","import { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Typography } from '@mui/material'\r\nimport { Rarity } from '../Types/consts'\r\n\r\nconst StarIcon = () => <FontAwesomeIcon icon={faStar} />\r\nconst Stars = ({ stars, colored = false }: { stars: Rarity, colored?: boolean }) =>\r\n  <Typography color={colored ? \"warning.main\" : undefined} component=\"span\">\r\n    {stars ? [...Array(stars).keys()].map((_, i) => <StarIcon key={i} />) : null}\r\n  </Typography>\r\n\r\nexport {\r\n  StarIcon,\r\n  Stars\r\n}\r\n","import { useCallback, useContext } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\nimport { characterBaseStats, overrideStatKeys } from \"../Util/StatUtil\";\r\n\r\ntype characterEquipWeapon = {\r\n  type: \"weapon\", id: string\r\n}\r\ntype characterReducerBonusStatsAction = {\r\n  type: \"editStats\",\r\n  statKey: string\r\n  value: any | undefined\r\n}\r\ntype characterReducerResetStatsAction = {\r\n  type: \"resetStats\",\r\n  statKey: string\r\n}\r\ntype characterTeamAction = {\r\n  type: \"team\",\r\n  index: number,\r\n  charKey: CharacterKey | \"\"\r\n}\r\nexport type characterReducerAction = characterEquipWeapon | characterReducerBonusStatsAction | characterReducerResetStatsAction | characterTeamAction | Partial<ICachedCharacter>\r\n\r\nexport default function useCharacterReducer(characterKey: CharacterKey | \"\") {\r\n  const database = useContext(DatabaseContext)\r\n\r\n  return useCallback((action: characterReducerAction): void => {\r\n    if (!characterKey) return\r\n\r\n    if (\"type\" in action) switch (action.type) {\r\n      case \"weapon\":\r\n        database.setWeaponLocation(action.id, characterKey)\r\n        break\r\n      case \"editStats\": {\r\n        const character = database._getChar(characterKey)!\r\n        const { statKey, value } = action\r\n\r\n        const bonusStats = character.bonusStats\r\n\r\n        if (bonusStats[statKey] === value) return\r\n        if (overrideStatKeys.includes(statKey)) {\r\n          if ((characterBaseStats(character)[statKey] ?? 0) === value)\r\n            delete bonusStats[statKey]\r\n          else\r\n            bonusStats[statKey] = value\r\n        } else {\r\n          if (value)\r\n            bonusStats[statKey] = value\r\n          else\r\n            delete bonusStats[statKey]\r\n        }\r\n        database.updateChar({ ...character, bonusStats })\r\n        break\r\n      }\r\n      case \"resetStats\": {\r\n        const character = database._getChar(characterKey)!\r\n        const { statKey } = action\r\n\r\n        const bonusStats = character.bonusStats\r\n        delete bonusStats[statKey]\r\n\r\n        database.updateChar({ ...character, bonusStats })\r\n        break\r\n      }\r\n      case \"team\": {\r\n        const character = database._getChar(characterKey)!\r\n        const { team } = character\r\n\r\n        const { index, charKey: newCharKey } = action\r\n        const oldCharKey = team[index]\r\n        team[index] = newCharKey\r\n\r\n        // move the old char to \"inventory\"\r\n        if (oldCharKey) {\r\n          const oldChar = database._getChar(oldCharKey)\r\n          if (oldChar) database.updateChar({ ...oldChar, team: [\"\", \"\", \"\"] })\r\n        }\r\n\r\n        // unequip new char from its old teammates\r\n        if (newCharKey) {\r\n          const newChar = database._getChar(newCharKey)\r\n          if (newChar) {\r\n            newChar.team.forEach(t => {\r\n              if (!t) return\r\n              const tChar = database._getChar(t)\r\n              tChar && database.updateChar({ ...tChar, team: tChar.team.map(c => c === newCharKey ? \"\" : c) as ICachedCharacter[\"team\"] })\r\n            })\r\n          }\r\n        }\r\n\r\n        // equip new char to new teammates\r\n        team.forEach((t, tind) => {\r\n          if (!t) return\r\n          const newChar = database._getChar(t)\r\n          if (newChar) database.updateChar({ ...newChar, team: [characterKey, ...team].filter((_, i) => i !== tind + 1) as ICachedCharacter[\"team\"] })\r\n        })\r\n\r\n        // update src character\r\n        database.updateChar({ ...character, team })\r\n      }\r\n    } else\r\n      database.updateChar({ ...database._getChar(characterKey)!, ...action })\r\n  }, [characterKey, database])\r\n\r\n}","export default __webpack_public_path__ + \"static/media/icon_bow.7ceaa8e2.png\";","import bow from './icon_bow.png'\r\nimport catalyst from './icon_catalyst.png'\r\nimport claymore from './icon_claymore.png'\r\nimport polearm from './icon_polearm.png'\r\nimport sword from './icon_sword.png'\r\n\r\nimport fragile from './Item_Fragile_Resin.png'\r\nimport condensed from './Item_Condensed_Resin.png'\r\n\r\n//EXP BOOKS\r\nimport advice from './Item_Wanderer\\'s_Advice.png'\r\nimport wit from './Item_Hero\\'s_Wit.png'\r\nimport experience from './Item_Adventurer\\'s_Experience.png'\r\n\r\nconst Assets = {\r\n  weaponTypes: { bow, catalyst, claymore, polearm, sword },\r\n  resin: {\r\n    fragile,\r\n    condensed\r\n  },\r\n  exp_books: {\r\n    advice,\r\n    wit,\r\n    experience,\r\n  }\r\n};\r\nexport default Assets;","export default __webpack_public_path__ + \"static/media/icon_catalyst.db078b7b.png\";","export default __webpack_public_path__ + \"static/media/icon_claymore.63b1abb8.png\";","export default __webpack_public_path__ + \"static/media/icon_polearm.e5f4a2a1.png\";","export default __webpack_public_path__ + \"static/media/icon_sword.619c9c2d.png\";","export default __webpack_public_path__ + \"static/media/Item_Fragile_Resin.f9ec8223.png\";","export default __webpack_public_path__ + \"static/media/Item_Condensed_Resin.1cecf64a.png\";","export default __webpack_public_path__ + \"static/media/Item_Wanderer's_Advice.58c62cf7.png\";","export default __webpack_public_path__ + \"static/media/Item_Hero's_Wit.a79e36d0.png\";","export default __webpack_public_path__ + \"static/media/Item_Adventurer's_Experience.92b5d195.png\";","import { Close } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps } from \"@mui/material\";\r\nimport { useTranslation } from \"react-i18next\";\r\ntype CloseButtonProps = ButtonProps & {\r\n  large?: boolean\r\n}\r\nexport default function CloseButton({ large = false, ...props }: CloseButtonProps) {\r\n  const { t } = useTranslation(\"ui\")\r\n  if (large)\r\n    return <Button color=\"error\" startIcon={<Close />} {...props} >{t`close`}</Button>\r\n  return <Button color=\"error\" sx={{ p: 1, minWidth: 0 }} {...props} >\r\n    <Close />\r\n  </Button>\r\n}","import { CardContent, Container, ContainerProps, Modal, ModalProps, Skeleton, styled } from \"@mui/material\"\r\nimport { Suspense } from \"react\"\r\nimport CardLight from \"./Card/CardLight\"\r\n\r\nconst ScrollModal = styled(Modal)(({ theme }) => ({\r\n  overflow: \"scroll\",\r\n  paddingTop: theme.spacing(2),\r\n  paddingBottom: theme.spacing(2),\r\n\r\n}))\r\nconst ModalContainer = styled(Container)(({ theme }) => ({\r\n  padding: 0,\r\n  minHeight: \"100%\",\r\n  display: \"flex\", flexDirection: \"column\", justifyContent: \"center\",\r\n  pointerEvents: \"none\",\r\n  \"& > *\": {\r\n    pointerEvents: \"auto\"\r\n  }\r\n}))\r\n\r\ntype ModalWrapperProps = ModalProps & {\r\n  containerProps?: ContainerProps\r\n}\r\nexport default function ModalWrapper({ children, containerProps, ...props }: ModalWrapperProps) {\r\n  return <ScrollModal {...props}>\r\n    <ModalContainer {...containerProps}>\r\n      <Suspense fallback={<CardLight><CardContent><Skeleton variant=\"rectangular\" width=\"100%\" height={300} /></CardContent></CardLight>}>\r\n        {children}\r\n      </Suspense>\r\n    </ModalContainer>\r\n  </ScrollModal>\r\n}","import { BusinessCenter, Replay } from \"@mui/icons-material\";\r\nimport { Divider, ListItemIcon, MenuItem, Typography } from \"@mui/material\";\r\nimport { useContext } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CharacterSheet from \"../../Character/CharacterSheet\";\r\nimport { DatabaseContext } from \"../../Database/Database\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\nimport { CharacterKey } from \"../../Types/consts\";\r\nimport DropdownButton, { DropdownButtonProps } from \"../DropdownMenu/DropdownButton\";\r\nimport ThumbSide from \"./ThumbSide\";\r\n\r\nexport type CharacterDropdownButtonProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\"> & {\r\n  value: CharacterKey | \"\"\r\n  onChange: (ck: CharacterKey | \"\") => void\r\n  filter?: (cs: CharacterSheet, ck: CharacterKey) => boolean\r\n  inventory?: boolean\r\n  noUnselect?: boolean,\r\n  unSelectText?: Displayable,\r\n  unSelectIcon?: Displayable,\r\n}\r\n\r\nexport default function CharacterDropdownButton({ value, onChange, unSelectText, unSelectIcon, inventory = false, noUnselect = false, filter = () => true, ...props }: CharacterDropdownButtonProps) {\r\n  const { t } = useTranslation(\"ui\");\r\n  const database = useContext(DatabaseContext)\r\n  const characterSheets = usePromise(CharacterSheet.getAll(), [])\r\n  const characterSheet = usePromise(CharacterSheet.get(value), [value])\r\n  const characterKeys = database._getCharKeys().filter(ck => characterSheets?.[ck] && filter(characterSheets[ck], ck)).sort()\r\n  return <DropdownButton\r\n    {...props}\r\n    title={characterSheet?.name ?? (inventory ? t`inventory` : (unSelectText ?? t`unselect`))}\r\n    color={value ? \"success\" : \"primary\"}\r\n    startIcon={characterSheet?.thumbImg ? <ThumbSide src={characterSheet.thumbImgSide} /> : (inventory ? <BusinessCenter /> : (unSelectIcon ?? <Replay />))}>\r\n    {!noUnselect && (inventory ? <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\r\n      <ListItemIcon>\r\n        <BusinessCenter />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {t`inventory`}\r\n      </Typography>\r\n    </MenuItem> : <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\r\n      <ListItemIcon>\r\n        <Replay />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {t`unselect`}\r\n      </Typography>\r\n    </MenuItem>)}\r\n    {!noUnselect && <Divider key=\"div\" />}\r\n    {!!characterSheets && CharacterMenuItemArray(characterSheets, characterKeys, onChange, value)}\r\n  </DropdownButton >\r\n}\r\n\r\n// Returning an array instead of Fragment because MUI Menu doesn't like fragments.\r\nexport function CharacterMenuItemArray(characterSheets: StrictDict<CharacterKey, CharacterSheet>, characterKeys: CharacterKey[], onChange: (ck: CharacterKey) => void, selectedCharacterKey: CharacterKey | \"\" = \"\") {\r\n  return characterKeys.map(characterKey =>\r\n    <MenuItem onClick={() => onChange(characterKey)} key={characterKey} selected={selectedCharacterKey === characterKey} disabled={selectedCharacterKey === characterKey} >\r\n      <ListItemIcon>\r\n        <ThumbSide src={characterSheets[characterKey].thumbImgSide} />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {characterSheets?.[characterKey]?.name}\r\n      </Typography>\r\n    </MenuItem>)\r\n}","import { Button, ButtonProps, InputBase, InputProps, styled } from '@mui/material'\r\nimport { useCallback, useEffect, useMemo, useState } from 'react'\r\ntype props = Omit<InputProps, \"onChange\"> & {\r\n  value?: number | undefined,\r\n  onChange: (newValue: number | undefined) => void,\r\n  disabled?: boolean\r\n  float?: boolean,\r\n  allowEmpty?: boolean,\r\n}\r\n\r\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  transition: \"all 0.5s ease\",\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  \"&.Mui-focused\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  \"&.Mui-disabled\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n}))\r\n\r\nconst Wrapper = styled(Button)(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  padding: 0,\r\n  overflow: \"hidden\",\r\n  \"div\": {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n}))\r\n\r\n// wrap the Input with this when using the input in a buttongroup\r\nexport function CustomNumberInputButtonGroupWrapper({ children, disableRipple, disableFocusRipple, disableTouchRipple, ...props }: ButtonProps) {\r\n  return <Wrapper disableRipple disableFocusRipple disableTouchRipple {...props}>{children}</Wrapper>\r\n}\r\n\r\nexport default function CustomNumberInput({ value = 0, onChange, disabled = false, float = false, ...props }: props) {\r\n  const [number, setNumber] = useState(value)\r\n  const [focused, setFocus] = useState(false)\r\n  const parseFunc = useMemo(() => float ? parseFloat : parseInt, [float],)\r\n  const onBlur = useCallback(\r\n    () => {\r\n      onChange(number)\r\n      setFocus(false)\r\n    },\r\n    [onChange, number, setFocus],\r\n  )\r\n  const onFocus = useCallback(\r\n    () => {\r\n      setFocus(true)\r\n    },\r\n    [setFocus],\r\n  )\r\n  useEffect(() => setNumber(value), [value, setNumber]) // update value on value change\r\n  const onInputChange = useCallback(e => setNumber(parseFunc(e.target.value) || 0), [setNumber, parseFunc],)\r\n  const onKeyDOwn = useCallback(e => e.key === \"Enter\" && onBlur(), [onBlur],)\r\n  return <StyledInputBase\r\n    value={(focused && !number) ? \"\" : number}\r\n    aria-label=\"custom-input\"\r\n    type=\"number\"\r\n    onChange={onInputChange}\r\n    onBlur={onBlur}\r\n    onFocus={onFocus}\r\n    disabled={disabled}\r\n    onKeyDown={onKeyDOwn}\r\n    {...props}\r\n  />\r\n}","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Box, List, ListItem, styled, Typography } from \"@mui/material\";\r\nimport React, { useContext, useMemo } from 'react';\r\nimport { buildContext } from \"../Build/Build\";\r\nimport Character from \"../Character/Character\";\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\";\r\nimport BootstrapTooltip from \"./BootstrapTooltip\";\r\nimport ColorText from \"./ColoredText\";\r\n\r\nexport default function FieldDisplay({ field }: { field: IFieldDisplay }) {\r\n  const { newBuild, equippedBuild, compareBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild)\r\n  const canShow = useMemo(() => build ? field?.canShow?.(build) : false, [field, build])\r\n  const fixedVal = field?.fixed || 0\r\n  const fieldVal = useMemo(() => {\r\n    if (field.value) return Character.getTalentFieldValue(field, \"value\", build)\r\n    else if (field.formula) {\r\n      let retVal = Character.getTalentFieldValue(field, \"formula\", build)?.[0]?.(build)\r\n      //compareAgainstEquipped\r\n      if (compareBuild && equippedBuild && typeof retVal === \"number\") {\r\n        let fieldEquippedVal = field.value ? field.value : field.formula?.(equippedBuild)?.[0]?.(equippedBuild)\r\n        if (typeof fieldEquippedVal === \"function\")\r\n          fieldEquippedVal = parseInt(fieldEquippedVal?.(equippedBuild)?.toFixed?.(fixedVal))\r\n        let diff = retVal - fieldEquippedVal\r\n        retVal = <span>{fieldEquippedVal?.toFixed(fixedVal) ?? fieldEquippedVal}{diff ? <ColorText color={diff > 0 ? \"success\" : \"error\"}> ({diff > 0 ? \"+\" : \"\"}{diff?.toFixed?.(fixedVal) || diff})</ColorText> : \"\"}</span>\r\n      }\r\n      return retVal\r\n    }\r\n  }, [compareBuild, fixedVal, equippedBuild, field, build])\r\n\r\n  const fieldText = useMemo(() => Character.getTalentFieldValue(field, \"text\", build), [field, build])\r\n  const fieldVariant = useMemo(() => Character.getTalentFieldValue(field, \"variant\", build), [field, build])\r\n\r\n  const formulaTextOverlay = useMemo(() => {\r\n    const fieldFormulaText = Character.getTalentFieldValue(field, \"formulaText\", build)\r\n    return fieldFormulaText ? <BootstrapTooltip placement=\"top\" title={<Typography>{fieldFormulaText}</Typography>}>\r\n      <Box component=\"span\" sx={{ cursor: \"help\", ml: 1 }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\r\n    </BootstrapTooltip> : null\r\n  }, [field, build])\r\n\r\n  const unit = useMemo(() => Character.getTalentFieldValue(field, \"unit\", build), [field, build])\r\n\r\n  if (!canShow) return null\r\n  return <ListItem sx={{ display: \"flex\", justifyContent: \"space-between\" }}  >\r\n    <span><b>{fieldText}</b>{formulaTextOverlay}</span>\r\n    <Typography color={`${fieldVariant}.main`}>{fieldVal?.toFixed?.(fixedVal) ?? fieldVal}{unit}</Typography>\r\n  </ListItem>\r\n}\r\nexport const FieldDisplayList = styled(List)(({ theme }) => ({\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: \"hidden\",\r\n  margin: 0,\r\n  '> .MuiListItem-root:nth-of-type(even)': {\r\n    backgroundColor: theme.palette.contentDark.main\r\n  },\r\n  '> .MuiListItem-root:nth-of-type(odd)': {\r\n    backgroundColor: theme.palette.contentDarker.main\r\n  },\r\n}));","import { ButtonProps, styled, ToggleButtonGroup, ToggleButtonGroupProps } from \"@mui/material\";\r\n\r\nexport type SolidToggleButtonGroupProps = SolidToggleButtonGroupPropsPartial & ToggleButtonGroupProps\r\ntype SolidToggleButtonGroupPropsPartial = {\r\n  baseColor?: ButtonProps[\"color\"];\r\n  selectedColor?: ButtonProps[\"color\"];\r\n}\r\n\r\nconst SolidToggleButtonGroup = styled(ToggleButtonGroup, {\r\n  shouldForwardProp: (prop) => prop !== \"baseColor\" && prop !== \"selectedColor\"\r\n})<SolidToggleButtonGroupPropsPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\r\n  '& .MuiToggleButtonGroup-grouped': {\r\n    '&': {\r\n      backgroundColor: theme.palette[baseColor].main,\r\n      color: theme.palette[baseColor].contrastText,\r\n    },\r\n    '&:hover': {\r\n      backgroundColor: theme.palette[baseColor].dark,\r\n    },\r\n    '&.Mui-selected': {\r\n      backgroundColor: theme.palette[selectedColor].main,\r\n      color: theme.palette[selectedColor].contrastText,\r\n    },\r\n    '&.Mui-selected:hover': {\r\n      backgroundColor: theme.palette[selectedColor].dark,\r\n    },\r\n    '&.Mui-disabled': {\r\n      backgroundColor: theme.palette[baseColor].dark,\r\n    },\r\n    '&.Mui-selected.Mui-disabled': {\r\n      backgroundColor: theme.palette[selectedColor].dark,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default SolidToggleButtonGroup","import { styled, Tooltip, tooltipClasses, TooltipProps } from \"@mui/material\";\r\n\r\nconst BootstrapTooltip = styled(({ className, ...props }: TooltipProps) => (\r\n  <Tooltip {...props} arrow classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.arrow}`]: {\r\n    color: theme.palette.common.black,\r\n  },\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    backgroundColor: theme.palette.common.black,\r\n  },\r\n}));\r\nexport default BootstrapTooltip","import { ArtifactSheet } from \"../Artifact/ArtifactSheet\";\r\nimport CharacterSheet from \"../Character/CharacterSheet\";\r\nimport { ArtifactSetKey, CharacterKey, WeaponKey } from \"../Types/consts\";\r\nimport WeaponSheet from \"../Weapon/WeaponSheet\";\r\nimport usePromise from \"./usePromise\";\r\n\r\nexport type Sheets = { characterSheets: Record<CharacterKey, CharacterSheet>, weaponSheets: Record<WeaponKey, WeaponSheet>, artifactSheets: Record<ArtifactSetKey, ArtifactSheet> }\r\nexport default function useSheets() {\r\n  return usePromise(getSheets(), [])\r\n}\r\n\r\nexport function getSheets() {\r\n  return Promise.all([CharacterSheet.getAll(), WeaponSheet.getAll(), ArtifactSheet.getAll()])\r\n    .then(([characterSheets, weaponSheets, artifactSheets]) => ({ characterSheets, weaponSheets, artifactSheets }))\r\n}","import { useCallback, useState } from \"react\"\r\n\r\nexport default function useForceUpdate(): [object, () => void] {\r\n  const [stateDirty, update] = useState({})\r\n  const forceUpdateHook = useCallback(() => update({}), [])\r\n  return [stateDirty, forceUpdateHook]\r\n}","import { ReactNode } from \"react\";\r\n\r\ntype Prop = {\r\n  condition: boolean,\r\n  wrapper: (children: ReactNode) => ReactNode\r\n  falseWrapper?: (children: ReactNode) => ReactNode\r\n  children: ReactNode\r\n}\r\n// Wrap children with element provided by wrapper func when condition is true.\r\nexport default function ConditionalWrapper({ condition, wrapper, falseWrapper, children }: Prop) {\r\n  return (condition ? wrapper(children) : (falseWrapper ? falseWrapper(children) : children)) as JSX.Element;\r\n}","import { Box } from \"@mui/material\"\r\nimport { useCallback, useContext } from \"react\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport Conditional from \"../Conditional/Conditional\"\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\"\r\nimport { DocumentSection } from \"../Types/character\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { evalIfFunc } from \"../Util/Util\"\r\nimport ConditionalDisplay from \"./ConditionalDisplay\"\r\nimport FieldDisplay, { FieldDisplayList } from \"./FieldDisplay\"\r\n\r\ntype SkillDisplayCardProps = {\r\n  sections: DocumentSection[],\r\n  characterKey: CharacterKey,\r\n  skipConditionalEquipmentCheck?: boolean\r\n}\r\nexport default function DocumentDisplay({ sections, characterKey, skipConditionalEquipmentCheck }: SkillDisplayCardProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const onCVChange = useCallback(\r\n    v => characterDispatch({ conditionalValues: v }), [characterDispatch])\r\n  if (!build) return null\r\n\r\n  const sectionsDisplay = sections?.map((section, i) => {\r\n    if (!section.canShow!(build)) return null\r\n    const talentText = evalIfFunc(section.text, build)\r\n    const fields = section.fields ?? []\r\n    const canShowConditional = section.conditional && section.conditional.partyBuff !== \"partyOnly\" && Conditional.canShow(section.conditional, build, skipConditionalEquipmentCheck)\r\n    if (!talentText && !fields.length && !canShowConditional) return null\r\n    return <Box key={\"section\" + i} display=\"flex\" flexDirection=\"column\" gap={1}>\r\n      {talentText && <div>{talentText}</div>}\r\n      {fields.length > 0 && <FieldDisplayList>\r\n        {fields?.map?.((field, i) => <FieldDisplay key={i} field={field} />)}\r\n      </FieldDisplayList>}\r\n      {!!section.conditional && canShowConditional && <ConditionalDisplay conditional={section.conditional} stats={build} onChange={onCVChange} hideDesc skipConditionalEquipmentCheck={skipConditionalEquipmentCheck} />}\r\n    </Box>\r\n  }).filter(s => s)\r\n  if (!sectionsDisplay.length) return null\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1}>{sectionsDisplay}</Box>\r\n}\r\n","import { IconButton, IconButtonProps, styled } from \"@mui/material\";\r\n\r\ninterface ExpandMoreProps extends IconButtonProps {\r\n  expand: boolean;\r\n}\r\nconst ExpandButton = styled((props: ExpandMoreProps) => {\r\n  const { expand, ...other } = props;\r\n  return <IconButton {...other} />;\r\n})(({ theme, expand }) => ({\r\n  transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n  marginLeft: 'auto',\r\n  transition: (theme as any).transitions.create('transform', {\r\n    duration: (theme as any).transitions.duration.shortest,\r\n  }),\r\n}));\r\n\r\nexport default ExpandButton","import { initialBuildSettings } from \"../Build/BuildSetting\"\r\nimport SqBadge from \"../Components/SqBadge\"\r\nimport { Sheets } from \"../ReactHooks/useSheets\"\r\nimport { ICachedCharacter, TalentSheetElementKey } from \"../Types/character\"\r\nimport { allSlotKeys, CharacterKey } from \"../Types/consts\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { objectFromKeyMap } from \"../Util/Util\"\r\n\r\nexport function getFormulaTargetsDisplayHeading(key: string, sheets: Sheets, build: ICalculatedStats): {\r\n  title: Displayable,\r\n  icon?: string\r\n} {\r\n  if (key === \"basicKeys\") return {\r\n    title: \"Basic Stats\"\r\n  }\r\n  else if (key === \"genericAvgHit\") return {\r\n    title: \"Generic Optimization Values\"\r\n  }\r\n  else if (key === \"transReactions\") return {\r\n    title: \"Transformation Reaction\"\r\n  }\r\n  else if (key.startsWith(\"talentKey_\")) {\r\n    const subkey = key.split(\"talentKey_\")[1]\r\n    const talent = sheets.characterSheets[build.characterKey].getTalentOfKey(subkey as TalentSheetElementKey, build.characterEle)\r\n    return {\r\n      icon: talent?.img,\r\n      title: talent?.name ?? subkey\r\n    }\r\n  } else if (key.startsWith(\"weapon_\")) {\r\n    const subkey = key.split(\"weapon_\")[1]\r\n    const sheet = sheets.weaponSheets[build.weapon.key]\r\n    return {\r\n      icon: build.weapon.refineIndex < 2 ? sheet?.img : sheet?.imgAwaken,\r\n      title: (sheet.name ?? subkey)\r\n    }\r\n  } else if (key.startsWith(\"artifact_\")) {\r\n    const [, setKey, num] = key.split('_')\r\n    const sheet = sheets.artifactSheets[setKey]\r\n    return {\r\n      icon: sheet.defIconSrc,\r\n      title: <span>{sheet.name} <SqBadge color=\"success\">{num}-Set</SqBadge></span>\r\n    }\r\n  }\r\n  return {\r\n    title: \"\"\r\n  }\r\n}\r\n\r\nexport function initialCharacter(key: CharacterKey): ICachedCharacter {\r\n  return {\r\n    key, // the game character this is based off\r\n    level: 1,\r\n    ascension: 0,\r\n    hitMode: \"avgHit\",\r\n    reactionMode: \"\",\r\n    equippedArtifacts: objectFromKeyMap(allSlotKeys, () => \"\"),\r\n    equippedWeapon: \"\",\r\n    conditionalValues: {},\r\n    bonusStats: {},\r\n    buildSettings: initialBuildSettings(),\r\n    talent: {\r\n      auto: 1,\r\n      skill: 1,\r\n      burst: 1,\r\n    },\r\n    infusionAura: \"\",\r\n    constellation: 0,\r\n    team: [\"\", \"\", \"\"]\r\n  }\r\n}","import { styled } from \"@mui/system\";\r\n\r\nconst ThumbSide = styled(\"img\")(({ theme }) => ({\r\n  display: \"inline-block\",\r\n  width: \"auto\",\r\n  height: `2.3em`,\r\n  lineHeight: 1,\r\n  verticalAlign: \"text-bottom\",\r\n  marginTop: theme.spacing(-3),\r\n  marginLeft: theme.spacing(-1.25),\r\n  marginRight: theme.spacing(-1),\r\n  marginBottom: theme.spacing(-1),\r\n}))\r\n\r\nexport default ThumbSide","import { BusinessCenter } from \"@mui/icons-material\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CharacterSheet from \"../../Character/CharacterSheet\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\n\r\nexport default function LocationName({ location }) {\r\n  const { t } = useTranslation(\"ui\");\r\n  const characterSheet = usePromise(CharacterSheet.get(location ?? \"\"), [location])\r\n  return <Typography component=\"span\">\r\n    {characterSheet?.name ? characterSheet.nameWIthIcon : <span><BusinessCenter sx={{ verticalAlign: \"text-bottom\" }} /> {t`inventory`}</span>}\r\n  </Typography>\r\n\r\n}","import Formula from \"./Formula\"\r\nimport { Formulas, StatData } from \"./StatData\"\r\nimport { GetDependencies } from \"./StatDependency\"\r\nimport { ICalculatedStats, Modifier } from \"./Types/stats\"\r\nimport { mergeCalculatedStats, mergeModifiers, mergeStats } from \"./Util/StatUtil\"\r\n\r\nexport default function finalStatProcess(stats): ICalculatedStats {\r\n  let dependencies = GetDependencies(stats, stats?.modifiers)\r\n  const { initialStats: preprocessedStats, formula } = PreprocessFormulas(dependencies, stats)\r\n  formula(preprocessedStats)\r\n  return { ...stats, ...preprocessedStats }\r\n}\r\n\r\nfunction addPreModValues(stats: ICalculatedStats, mod: Modifier) {\r\n  if (!mod || !stats) return\r\n  Object.keys(mod).forEach(k => {\r\n    if (!stats.premod) stats.premod = {}\r\n    stats.premod[k] = stats?.premod?.[k] ?? stats[k]\r\n  })\r\n}\r\n\r\nfunction modStatsFormula(stats: ICalculatedStats, mods: Modifier, targets: (s: ICalculatedStats) => (ICalculatedStats | null)[], context: \"partyAll\" | \"partyOnly\" | \"partyActive\") {\r\n  if (!mods || !Object.keys(mods).length) return () => null\r\n  const modStatsFunc = Formula.computeModifier(stats, mods)\r\n  return (s: ICalculatedStats) => {\r\n    const modStats = modStatsFunc(s);\r\n    // Use mergeCalculatedStats here to allow the application to s.partyBuff\r\n    mergeCalculatedStats(s, { [context]: modStats })\r\n    targets(s).forEach(b => {\r\n      if (!b) return\r\n      addPreModValues(b, mods)\r\n    })\r\n  }\r\n}\r\nfunction relevantMod(dependencyKeys: string[], modifiers: Modifier) {\r\n  return Object.fromEntries(Object.entries(modifiers)\r\n    .filter(([key]) => dependencyKeys.includes(key)) // Keep only relevant keys\r\n  )\r\n}\r\ntype KeyedFormula = [string, (s: ICalculatedStats) => number]\r\n//assume all the dependency for the modifiers are part of the dependencyKeys as well\r\nexport function PreprocessFormulas(dependencyKeys: string[], stats: ICalculatedStats, ui = true) {\r\n  const { modifiers = {} } = stats, initialStats = {} as ICalculatedStats\r\n  const premodFormulaList: KeyedFormula[] = [], postmodFormulaList: KeyedFormula[] = []\r\n  for (const key of dependencyKeys) {\r\n    switch (getStage(key)) {\r\n      case 0: initialStats[key] = stats[key] ?? StatData[key]?.default ?? 0; break // Stat\r\n      case 1: initialStats[key] = Formulas[key]!(initialStats); break // Const Formula\r\n      case 2: premodFormulaList.push([key, Formulas[key]!]); break // Premod\r\n      case 3:  // Premod + Postmod\r\n        premodFormulaList.push([key, Formulas[key]!])\r\n        postmodFormulaList.push([key, Formulas[key]!])\r\n        break\r\n      case 4: postmodFormulaList.push([key, Formulas[key]!]); break // Postmod\r\n    }\r\n  }\r\n\r\n  initialStats.activeCharacter = stats.activeCharacter\r\n  initialStats.partyBuff = stats.partyBuff\r\n\r\n  let processTeam = (s: ICalculatedStats) => { }\r\n  if (stats.activeCharacter) {\r\n    const beforePreprocess = [...stats.teamStats]\r\n    const preprocessed: [ICalculatedStats | null, undefined | ((s: ICalculatedStats) => void)][] = stats.teamStats.map(t => {\r\n      if (!t) return [null, undefined]\r\n      if (!ui) { // if in builder, prune irrelevant mods to depdencies\r\n        // Teammates do not need to calculate modifier that only applies to themselves in builder\r\n        t.modifiers = {}\r\n        t.partyAllModifiers = relevantMod(dependencyKeys, t.partyAllModifiers)\r\n        t.partyOnlyModifiers = relevantMod(dependencyKeys, t.partyOnlyModifiers)\r\n        t.partyActiveModifiers = relevantMod(dependencyKeys, t.partyActiveModifiers)\r\n      }\r\n      const tPartyModifiers = {} as Modifier\r\n      mergeModifiers(tPartyModifiers, t.partyAllModifiers)\r\n      mergeModifiers(tPartyModifiers, t.partyOnlyModifiers)\r\n      mergeModifiers(tPartyModifiers, t.partyActiveModifiers)\r\n\r\n      // If teammate does not have a party modifier, then don't bother calculating its stats at all in builder\r\n      if (!ui && !Object.keys(tPartyModifiers)) return [null, undefined]\r\n      const tprocessKeys = GetDependencies(stats, tPartyModifiers, ui ? undefined : Object.keys(tPartyModifiers))\r\n      const { initialStats: tStats, formula: tFormula } = PreprocessFormulas(tprocessKeys, t, ui)\r\n      return [tStats, tFormula]\r\n    })\r\n    initialStats.teamStats = preprocessed.map(([stats]) => stats) as ICalculatedStats['teamStats']\r\n    const team = [initialStats, ...initialStats.teamStats]\r\n    initialStats.teamStats.forEach((t, i) => {\r\n      if (!t) return\r\n      t.teamStats = team.filter((_, index) => index !== i + 1) as ICalculatedStats['teamStats']\r\n    })\r\n    const teamFormula = preprocessed.map(([_, formula]) => formula)\r\n    processTeam = (s: ICalculatedStats) => {\r\n      s.teamStats.forEach((t, i) => {\r\n        if (!t || !teamFormula[i]) return\r\n        teamFormula[i]!(t)\r\n      })\r\n      if (ui)\r\n        s.teamStats = s.teamStats.map((t, i) =>\r\n          (!t || !beforePreprocess[i]) ? t : { ...beforePreprocess[i], ...t }\r\n        ) as ICalculatedStats['teamStats']\r\n    }\r\n  }\r\n\r\n  const modFormula = Formula.computeModifier(stats, relevantMod(dependencyKeys, modifiers))\r\n  const partyAllFormula = modStatsFormula(stats, relevantMod(dependencyKeys, stats.partyAllModifiers), (s) => [s, ...s.teamStats], \"partyAll\")\r\n  const partyOnlyFormula = modStatsFormula(stats, relevantMod(dependencyKeys, stats.partyOnlyModifiers), (s) => s.teamStats, \"partyOnly\")\r\n  const partyActiveFormula = modStatsFormula(stats, relevantMod(dependencyKeys, stats.partyActiveModifiers), (s) => [s], \"partyActive\")\r\n\r\n  return {\r\n    initialStats: initialStats as ICalculatedStats,\r\n    formula: (s: ICalculatedStats) => {\r\n      premodFormulaList.forEach(([key, formula]) => s[key] = formula(s))\r\n\r\n      const modStats = Formula.computeModifier(s, s.modifiers)(s) // late-binding modifiers (arts mod)\r\n      mergeStats(modStats, modFormula(s))\r\n      modifiers && addPreModValues(s, modifiers)\r\n      s.modifiers && addPreModValues(s, s.modifiers)\r\n\r\n      // Calculate & apply modStats.\r\n      partyAllFormula(s)\r\n      partyOnlyFormula(s)\r\n      partyActiveFormula(s)\r\n\r\n      processTeam(s)\r\n\r\n      // Apply modifiers\r\n      mergeCalculatedStats(s, modStats)\r\n      mergeStats(s, { modifiers })\r\n\r\n      if (s.activeCharacter || ui)\r\n        postmodFormulaList.forEach(([key, formula]) => s[key] = formula(s))\r\n    }\r\n  }\r\n}\r\nexport const numStages = 5\r\nexport function getStage(key: string): number {\r\n  if (!(key in Formulas)) return 0 // Stat\r\n  if (StatData[key]?.const) return 1 // Const\r\n  // Premod (doesn't exist right now)\r\n  if (key === \"finalATK\" || key === \"finalDEF\" || key === \"finalHP\") return 3 // Premod + Postmod\r\n  return 4 // Postmod\r\n}","import { ToggleButton } from \"@mui/material\";\r\nimport { useCallback } from \"react\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport { allWeaponTypeKeys, WeaponTypeKey } from \"../../Types/consts\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\nimport SolidToggleButtonGroup, { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\r\ntype WeaponToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\r\n  onChange: (value: WeaponTypeKey | \"\") => void\r\n  value: WeaponTypeKey | \"\"\r\n}\r\nexport default function WeaponToggle({ value, onChange, ...props }: WeaponToggleProps) {\r\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\r\n  return <SolidToggleButtonGroup exclusive onChange={cb} value={value || allWeaponTypeKeys} {...props}>\r\n    {allWeaponTypeKeys.map(wt => <ToggleButton key={wt} value={wt}>\r\n      <ImgIcon src={Assets.weaponTypes?.[wt]} size={2} />\r\n    </ToggleButton>)}\r\n  </SolidToggleButtonGroup>\r\n}","import { Box, Typography } from \"@mui/material\"\r\nimport { useMemo } from \"react\"\r\nimport Character from \"../Character/Character\"\r\nimport { sgt } from \"../Data/Characters/SheetUtil\"\r\nimport Formula from \"../Formula\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport Stat from \"../Stat\"\r\nimport { ICachedCharacter } from \"../Types/character\"\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { characterBaseStats } from \"../Util/StatUtil\"\r\nimport ColorText from \"./ColoredText\"\r\nimport StatIcon from \"./StatIcon\"\r\n\r\nfunction DisplayStatDiff({ label = \"\", val, oldVal, fixed = 0, unit = \"\", hasBonus = false }) {\r\n  if (typeof oldVal === \"undefined\" && typeof val === \"number\") {//if only one value is filled, display that one.\r\n    oldVal = val\r\n    val = undefined\r\n  }\r\n  const diff = val !== undefined ? val - oldVal : 0;\r\n  let oldText: Displayable = \"\", diffText: Displayable = \"\"\r\n  if (oldVal || diff === 0) oldText = oldVal?.toFixed(fixed)\r\n  else if (oldVal === undefined) oldText = val?.toFixed(fixed)//if oldval isnt defined, just display val.\r\n  if (oldText) oldText = <span>{oldText}{unit}</span>\r\n  if (diff !== 0) diffText = <ColorText color={diff > 0 ? \"success\" : \"error\"}>{diff > 0 ? \"+\" : \"\"}{diff?.toFixed(fixed)}{unit}</ColorText>\r\n  const valueText = <>{oldText}{diffText}</>\r\n  return <Box display=\"flex\" justifyContent=\"space-between\" >\r\n    <Typography>{label}</Typography>\r\n    <Typography>\r\n      {hasBonus ? <strong>{valueText}</strong> : valueText}\r\n    </Typography>\r\n  </Box>\r\n}\r\ntype StatDisplayProps = {\r\n  character: ICachedCharacter,\r\n  equippedBuild?: ICalculatedStats,\r\n  newBuild?: ICalculatedStats,\r\n  statKey: string,\r\n  partyBuff?: boolean\r\n}\r\nexport default function StatDisplay({ character, equippedBuild, newBuild, statKey, partyBuff = false }: StatDisplayProps) {\r\n  const formula = usePromise(Array.isArray(statKey) ? Formula.get(statKey) : undefined, [statKey])\r\n\r\n  const { val, oldVal, fixed, unit, label, hasBonus } = useMemo(() => {\r\n    let val, oldVal, fixed, unit, label: Displayable = \"\"\r\n    if (typeof statKey === \"string\") {//basic statKey\r\n      if (newBuild && equippedBuild) {//comparable\r\n        //newbuild -> val\r\n        //equippedbuild ->old\r\n        val = newBuild?.[statKey] ?? 0\r\n        oldVal = equippedBuild?.[statKey] ?? 0\r\n        if (partyBuff) {\r\n          val = newBuild?.partyBuff?.[statKey] ?? 0\r\n          oldVal = equippedBuild?.partyBuff?.[statKey] ?? 0\r\n        }\r\n      } else {\r\n        const build = newBuild ? newBuild : equippedBuild\r\n        //build ->val\r\n        val = build?.[statKey] ?? 0\r\n        if (partyBuff) {\r\n          val = build?.partyBuff?.[statKey] ?? 0\r\n        }\r\n        if (!partyBuff) {\r\n          //statvaluewith override -> old\r\n          oldVal = characterBaseStats(character)[statKey] as number | undefined\r\n          if (build) {\r\n            if (statKey === \"finalHP\")\r\n              oldVal = build.characterHP\r\n            else if (statKey === \"finalDEF\")\r\n              oldVal = build.characterDEF\r\n            else if (statKey === \"finalATK\")\r\n              oldVal = build.characterATK + build.weaponATK\r\n          }\r\n        }\r\n      }\r\n      unit = Stat.getStatUnit(statKey)\r\n      fixed = Stat.fixedUnit(statKey)\r\n      label = <span>{StatIcon[statKey]} {Stat.getStatName(statKey)}</span>\r\n    } else if (formula) {//Formula\r\n      const build = newBuild ? newBuild : equippedBuild\r\n      const field = (formula as any).field as IFieldDisplay //assume it is attached in post-processing\r\n      const labelVariant = Character.getTalentFieldValue(field, \"variant\", build)\r\n      label = <ColorText color={labelVariant} >{Character.getTalentFieldValue(field, \"text\", build)}</ColorText>\r\n      fixed = Character.getTalentFieldValue(field, \"fixed\", build, 0 as any)\r\n      unit = Character.getTalentFieldValue(field, \"unit\", build, \"\")\r\n      val = Character.getTalentFieldValue(field, \"formula\", build)?.[0]?.(build)\r\n      if (newBuild && equippedBuild) {//comparable\r\n        oldVal = Character.getTalentFieldValue(field, \"formula\", equippedBuild)?.[0]?.(equippedBuild)\r\n      }\r\n    }\r\n    return { val, oldVal, fixed, unit, label, hasBonus: !partyBuff && Character.hasBonusStats(character, statKey) }\r\n  }, [character, equippedBuild, newBuild, statKey, partyBuff, formula])\r\n  if ((val && typeof val !== \"number\") || (oldVal && typeof oldVal !== \"number\")) {\r\n    let displayVal = val\r\n    if (statKey === \"infusionAura\") {\r\n      displayVal = <ColorText color={val}>{sgt(`element.${val}`)}</ColorText>\r\n    }\r\n    return <Box display=\"flex\" justifyContent=\"space-between\" >\r\n      <Typography>{label}</Typography>\r\n      <Typography>\r\n        <strong>{displayVal}</strong>\r\n      </Typography>\r\n    </Box>\r\n  }\r\n  return <DisplayStatDiff {...{ val, oldVal, fixed, unit, label: label as any, hasBonus }} />\r\n}","import Formula from \"./Formula\"\r\nimport { getStage, numStages } from \"./ProcessFormula\"\r\nimport { Formulas, StatData } from \"./StatData\"\r\nimport { IBaseStat } from \"./Types/character\"\r\nimport { Modifier } from \"./Types/stats\"\r\n\r\n// Generate a statKey dependency, to reduce build generation calculation on a single stat.\r\nfunction GetFormulaDependency(formula: (s) => number) {\r\n  const dependency: Set<string> = new Set()\r\n  formula(new Proxy({}, { get: (target, prop, receiver) => { dependency.add(prop.toString()) } }))\r\n  return [...dependency]\r\n}\r\nconst formulaKeyDependency = Object.freeze(Object.fromEntries(\r\n  Object.entries(Formulas).map(([key, value]) => [key, GetFormulaDependency(value)])\r\n)) as Dict<string, string[]>\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  let statKeys = Object.keys(StatData)\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    dependencies.forEach(key =>\r\n      !statKeys.includes(key as any) &&\r\n      console.error(`Formula ${formulaKey} depends key ${key} that does not Exist in StatData.`))\r\n  )\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    StatData[formulaKey]?.const && dependencies.forEach(key =>\r\n      !StatData[key as any]?.const &&\r\n      console.error(`Constant formula ${formulaKey} depends on dynamic key ${key}.`)\r\n    )\r\n  )\r\n}\r\n\r\nfunction GetDependencies(baseStat: IBaseStat, modifiers: Modifier = {}, keys = Object.keys(StatData)): Dependencies {\r\n  const found = new Set<string>()\r\n  const dependencies = [...Array(numStages)].map(_ => new Set<string>())\r\n  keys.forEach(key => InsertDependencies(baseStat, key, modifiers, dependencies, found))\r\n  return dependencies.flatMap(dep => [...dep])\r\n}\r\nfunction InsertDependencies(baseStat: IBaseStat, key: string, modifiers: Modifier, dependencies: Set<string>[], found: Set<string>) {\r\n  if (found.has(key)) return\r\n  found.add(key)\r\n\r\n  formulaKeyDependency[key]?.forEach(k => InsertDependencies(baseStat, k, modifiers, dependencies, found));\r\n  (modifiers[key] ?? []).forEach(path => Formula.getCurrent(path, baseStat)[1].forEach(k =>\r\n    InsertDependencies(baseStat, k, modifiers, dependencies, found)))\r\n  dependencies[getStage(key)].add(key)\r\n}\r\n\r\ntype Dependencies = string[]\r\n\r\nexport {\r\n  GetFormulaDependency,\r\n  GetDependencies,\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\n\r\nexport default function useWeapon(weaponID: string | undefined = \"\") {\r\n  const database = useContext(DatabaseContext)\r\n  const [weapon, setWeapon] = useState(database._getWeapon(weaponID))\r\n  useEffect(() => setWeapon(database._getWeapon(weaponID)), [database, weaponID])\r\n  useEffect(() =>\r\n    weaponID ? database.followWeapon(weaponID, setWeapon) : undefined,\r\n    [weaponID, setWeapon, database])\r\n  return weapon\r\n}","import { useCallback } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\n\r\n/**\r\n * Basically a history hook to go to the dedicated character page.\r\n * @returns \r\n */\r\nexport default function useCharSelectionCallback() {\r\n  const history = useHistory()\r\n  const cb = useCallback(\r\n    (characterKey: CharacterKey) => history.push(`/character/${characterKey}`),\r\n    [history],\r\n  )\r\n  return cb\r\n}","import { CheckBox, CheckBoxOutlineBlank } from '@mui/icons-material';\r\nimport { Button, Divider, MenuItem, Typography } from '@mui/material';\r\nimport React from 'react';\r\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport IConditional, { IConditionalValue } from '../Types/IConditional';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport { evalIfFunc } from '../Util/Util';\r\n\r\nexport default function ConditionalSelector({ conditional, conditionalValue, setConditional, name, disabled = false, stats }:\r\n  { conditional: IConditional, conditionalValue: IConditionalValue, setConditional: (newCond: IConditionalValue) => void, name?: Displayable, disabled?: boolean, stats: ICalculatedStats }) {\r\n  const [conditionalNum = 0, conditionalStateKey] = conditionalValue\r\n  if (!conditional) return name as JSX.Element\r\n  if (\"states\" in conditional) {//complex conditional\r\n    const state = conditionalStateKey ? conditional.states[conditionalStateKey] : Object.values(conditional.states)[0]\r\n    const text = conditionalNum === 0 ? \"Not Active\" : <span>{state.name} {(evalIfFunc(state!.maxStack, stats) as number > 1 ? (`: ${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}`) : \"\")}</span>\r\n    const badge = <SqBadge color={conditionalNum === 0 ? \"secondary\" : \"success\"}>{text}</SqBadge>\r\n    return <DropdownButton fullWidth size=\"small\" title={<span>{name} {badge}</span>} disabled={disabled}>\r\n      <MenuItem onClick={() => setConditional([0])} selected={conditionalNum === 0} disabled={conditionalNum === 0}>\r\n        <span>Not Active</span>\r\n      </MenuItem>\r\n      <Divider />\r\n      {Object.entries(conditional.states).flatMap(([stateKey, condial]: any, i) =>\r\n        [...Array(condial.maxStack).keys()].map(v => v + 1).map((stack, i) =>\r\n          <MenuItem key={stateKey + i} onClick={() => setConditional([stack, stateKey])} selected={conditionalStateKey === stateKey && conditionalNum === stack} disabled={conditionalStateKey === stateKey && conditionalNum === stack} >\r\n            {condial.name}{condial.maxStack > 1 ? `: ${stack} stack${stack > 1 ? \"s\" : \"\"}` : \"\"}\r\n          </MenuItem>)\r\n      )}\r\n    </DropdownButton>\r\n  } else {// Simple conditional\r\n    const maxStack = evalIfFunc(conditional!.maxStack, stats) as number\r\n    if (maxStack === 0) {// Auto resolving conditional\r\n      return name ? <Typography>{name}</Typography> : null\r\n    } else if (maxStack === 1) {// Single boolean conditional\r\n      return <Button fullWidth size=\"small\" onClick={() => setConditional([conditionalNum ? 0 : 1])} disabled={disabled} startIcon={conditionalNum ? <CheckBox /> : <CheckBoxOutlineBlank />}>\r\n        {name}\r\n      </Button>\r\n    } else if (maxStack > 1) {\r\n      // Stacking conditional\r\n      const badge = <SqBadge color={conditionalNum === 0 ? \"secondary\" : \"success\"}>{conditionalNum > 0 ? `${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}` : \"Not Active\"}</SqBadge>\r\n      return <DropdownButton fullWidth size=\"small\" title={<span>{name} {badge}</span>} disabled={disabled}>\r\n        <MenuItem onClick={() => setConditional([0])} selected={conditionalNum === 0} disabled={conditionalNum === 0}>\r\n          <span>Not Active</span>\r\n        </MenuItem>\r\n        <Divider />\r\n        {[...Array(maxStack).keys()].map(v => v + 1).map(stack =>\r\n          <MenuItem key={stack} onClick={() => setConditional([stack])} selected={conditionalNum === stack} disabled={conditionalNum === stack}>\r\n            {`${stack} stack${stack > 1 ? \"s\" : \"\"}`}\r\n          </MenuItem>)}\r\n      </DropdownButton>\r\n    }\r\n  }\r\n  return null\r\n}","import { CardContent, Box, CardHeader, Divider } from \"@mui/material\"\r\nimport { useCallback, useMemo } from \"react\"\r\nimport Conditional from \"../Conditional/Conditional\"\r\nimport ConditionalSelector from \"../Conditional/ConditionalSelector\"\r\nimport IConditional, { IConditionalValue, IConditionalValues } from \"../Types/IConditional\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport statsToFields from \"../Util/FieldUtil\"\r\nimport { deletePropPath, evalIfFunc, layeredAssignment, objClearEmpties } from \"../Util/Util\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport FieldDisplay, { FieldDisplayList } from \"./FieldDisplay\"\r\n\r\ntype ConditionalDisplayProps = {\r\n  conditional: IConditional,\r\n  stats: ICalculatedStats,\r\n  hideHeader?: boolean,\r\n  hideDesc?: boolean,\r\n  onChange: (value: IConditionalValues<IConditionalValue>) => void\r\n  skipConditionalEquipmentCheck?: boolean\r\n}\r\n\r\nexport default function ConditionalDisplay({ conditional, stats, hideHeader = false, hideDesc = false, onChange, skipConditionalEquipmentCheck = false }: ConditionalDisplayProps) {\r\n  const canShow = useMemo(() => Conditional.canShow(conditional, stats, skipConditionalEquipmentCheck), [conditional, stats, skipConditionalEquipmentCheck])\r\n  const { stats: conditionalStats = {}, fields: conditionalFields = [], conditionalValue } = useMemo(() => canShow ? Conditional.resolve(conditional, stats) : { stats: {}, fields: [], conditionalValue: [0] as IConditionalValue }, [canShow, conditional, stats])\r\n  const displayFields = useMemo(() => canShow ? [...statsToFields(conditionalStats, stats), ...conditionalFields] : [], [canShow, conditionalStats, stats, conditionalFields])\r\n  const setConditional = useCallback(condV => {\r\n    const [conditionalNum = 0] = condV\r\n    if (!conditionalNum) {\r\n      deletePropPath(stats.conditionalValues, conditional!.keys)\r\n      objClearEmpties(stats.conditionalValues)\r\n    } else if (conditional.keys)\r\n      layeredAssignment(stats.conditionalValues, conditional!.keys, condV)\r\n    onChange(stats.conditionalValues)\r\n  }, [conditional, stats, onChange])\r\n\r\n  const description = !hideDesc && conditional.description && evalIfFunc(conditional.description, stats)\r\n\r\n  if (!canShow || !stats) return null\r\n  return <CardDark>\r\n    {!hideHeader && conditional.header && <CardHeader avatar={conditional.header.icon && evalIfFunc(conditional.header.icon, stats)} title={conditional.header.title} action={conditional.header.action} titleTypographyProps={{ variant: \"subtitle2\" }} />}\r\n    {!hideHeader && conditional.header && <Divider />}\r\n    {!!conditional.name && <CardContent>\r\n      {description && <Box mb={1}>{description}</Box>}\r\n      <ConditionalSelector\r\n        conditional={conditional}\r\n        conditionalValue={conditionalValue}\r\n        setConditional={setConditional}\r\n        name={conditional.name}\r\n        stats={stats} />\r\n    </CardContent>}\r\n    <FieldDisplayList sx={{ m: 0 }}>\r\n      {displayFields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n    </FieldDisplayList>\r\n  </CardDark>\r\n}","type SortConfig<T> = {\r\n  getValue: (id: T) => number | string\r\n  tieBreaker?: string\r\n}\r\nexport type SortConfigs<Keys extends string, T> = Record<Keys, SortConfig<T>>\r\n\r\nexport function sortFunction<Keys extends string, T>(sortby: string, ascending: boolean, configs: SortConfigs<Keys, T>) {\r\n  function Sort(a: T, b: T, ascending: boolean, config: SortConfig<T>) {\r\n    const aV = config.getValue(a)\r\n    const bV = config.getValue(b)\r\n    let diff = 0\r\n    if (typeof aV === \"string\" && typeof bV === \"string\")\r\n      diff = aV.localeCompare(bV)\r\n    else\r\n      diff = ((bV as number) - (aV as number))\r\n    return (ascending ? -1 : 1) * diff\r\n  }\r\n  return (a: T, b: T) => {\r\n    if (!configs[sortby]) return 0\r\n    const filterOption = configs[sortby]\r\n    let diff = Sort(a, b, ascending, filterOption)\r\n    if (!diff && filterOption.tieBreaker && configs[filterOption.tieBreaker])\r\n      diff = Sort(a, b, ascending, configs[filterOption.tieBreaker])\r\n    return diff\r\n  }\r\n}\r\n\r\ntype FilterConfig<T> = (obj: T, filter: any) => boolean\r\nexport type FilterConfigs<Keys extends string, T> = Record<Keys, FilterConfig<T>>\r\nexport function filterFunction<Keys extends string, T>(filterOptions: Record<Keys, any>, filterConfigs: FilterConfigs<Keys, T>) {\r\n  return (obj: T) => Object.entries(filterOptions).every(([optionKey, optionVal]) => filterConfigs[optionKey as any](obj, optionVal))\r\n}","import { faSortAmountDownAlt, faSortAmountUp } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Button, ButtonGroup, ButtonGroupProps, MenuItem } from \"@mui/material\";\r\nimport { Trans, useTranslation } from \"react-i18next\";\r\nimport DropdownButton from \"./DropdownMenu/DropdownButton\";\r\n\r\ntype SortByButtonProps = ButtonGroupProps & {\r\n  sortKeys: string[]\r\n  value: string\r\n  onChange: (value: string) => void\r\n  ascending: boolean\r\n  onChangeAsc: (value: boolean) => void\r\n}\r\n// Assumes that all the sortKeys has corresponding translations in ui.json sortMap\r\nexport default function SortByButton({ sortKeys, value, onChange, ascending, onChangeAsc, ...props }: SortByButtonProps) {\r\n  const { t } = useTranslation(\"ui\")\r\n  return <ButtonGroup {...props} >\r\n    <DropdownButton title={<Trans t={t} i18nKey=\"sortByFormat\" value={t(`sortMap.${value}`) as any}>Sort By: {{ value: t(`sortMap.${value}`) }}</Trans>}>\r\n      {sortKeys.map(key =>\r\n        <MenuItem key={key} selected={value === key} disabled={value === key} onClick={() => onChange(key)}>{t(`sortMap.${key}`) as any}</MenuItem>)}\r\n    </DropdownButton>\r\n    <Button onClick={() => onChangeAsc(!ascending)} startIcon={<FontAwesomeIcon icon={ascending ? faSortAmountDownAlt : faSortAmountUp} className=\"fa-fw\" />}>\r\n      {ascending ? <Trans t={t} i18nKey=\"ascending\" >Ascending</Trans> : <Trans t={t} i18nKey=\"descending\" >Descending</Trans>}\r\n    </Button>\r\n  </ButtonGroup>\r\n}","import { useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\n\r\nexport default function useCharacter(characterKey: CharacterKey | \"\" | undefined = \"\") {\r\n  const database = useContext(DatabaseContext)\r\n  const [character, updateCharacter] = useState(database._getChar(characterKey))\r\n  useEffect(() => updateCharacter(database._getChar(characterKey)), [database, characterKey])\r\n  useEffect(() =>\r\n    characterKey ? database.followChar(characterKey, updateCharacter) : undefined,\r\n    [characterKey, updateCharacter, database])\r\n  return character\r\n}","import { IArtifact, ISubstat, MainStatKey, SubstatKey } from '../Types/artifact'\r\nimport { crawlObject, layeredAssignment } from '../Util/Util'\r\nimport Artifact from './Artifact'\r\nimport ArtifactMainStatsData from './artifact_main_gen.json'\r\n\r\n// We separate rolls into \"filler rolls\" that occurs when there are less than 4 substats,\r\n// and \"upgrade rolls\" that occurs when all 4 substats are added. They have different\r\n// probability distribution and require separate consideration.\r\n\r\n// Notations for the remainder of this file.\r\n//\r\n// i, j, k := substat\r\n// E(i) := Extra substat that rolls into substat i\r\n// T(i) := Targetted (extra) substat for substat i\r\n// Nf(i) := # of filler roll into substat i (0 <= Nfi <= 1)\r\n// Nu(i) := # of upgrade rolls into substat i\r\n//\r\n// E := { E1, E2, ... }\r\n// T := { T1, T2, ... }\r\n// N(i) := Nf(i) + Nu(i)\r\n// Nf := Nf(1) + Nf(2) + ...\r\n// Nu := Nu(1) + Nu(2) + ...\r\n//\r\n// For example, if the artifact has 14 atk, and the target atk is 30,\r\n// in a scenario where we roll 2 rolls of 16 and 18 into atk, then\r\n// \r\n// i = atk, E(atk) = 16 + 18, T(atk) = 30 - 14, Nf(atk) = 0 roll, Nu(atk) = 2 rolls\r\n\r\nconst allWeights = [3, 4, 6] as const\r\ntype Weight = typeof allWeights[number]\r\n\r\n/**\r\n * Weight used when rolling a filler roll. Each roll will choose from available\r\n * substats (excluding main stat and existing substats) with these weights.\r\n */\r\nconst fWeight: StrictDict<SubstatKey, Weight> = {\r\n  hp: 6, atk: 6, def: 6,\r\n  hp_: 4, atk_: 4, def_: 4, eleMas: 4, enerRech_: 4,\r\n  critRate_: 3, critDMG_: 3\r\n}\r\n\r\n/**\r\n * Probability of observing a filler sequence with particular weights\r\n * \r\n * pFillerSeq[w0][w1][w2][...] = Pr [ fWeight[main stat] = w0, fWeight[substat1] = w1, fWeight[substat2] = w2, ... ]\r\n */\r\nconst pFillerSeq: Dict<0 | Weight, Dict<Weight, Dict<Weight, Dict<Weight, Dict<Weight, number>>>>> = {}\r\nfunction populatePFillerSeq(prefix: (0 | Weight)[], prob: { [key in Weight]: number }, sumProb: number, current: number) {\r\n  if (prefix.length === 5) {\r\n    layeredAssignment(pFillerSeq, prefix as any, current)\r\n    return\r\n  }\r\n\r\n  for (const i of allWeights)\r\n    if (prob[i] > 0)\r\n      populatePFillerSeq([...prefix, i], { ...prob, [i]: prob[i] - i }, sumProb - i, current * prob[i] / sumProb)\r\n}\r\npopulatePFillerSeq([0], { 3: 6, 4: 20, 6: 18 }, 44, 1)\r\n\r\npopulatePFillerSeq([3], { 3: 3, 4: 20, 6: 18 }, 41, 1)\r\npopulatePFillerSeq([4], { 3: 6, 4: 16, 6: 18 }, 40, 1)\r\npopulatePFillerSeq([6], { 3: 6, 4: 20, 6: 12 }, 38, 1)\r\n\r\n/**\r\n * cnr[n][r] = C(n, r) = n! / (r!(n-r)!)\r\n * \r\n * 0 <= n <= 5; 0 <= r <= n\r\n */\r\nconst cnr = Array(6).fill(0).map((_, n) => {\r\n  const result = [1]\r\n  let r = 0, value = 1\r\n  while (++r <= n) {\r\n    value *= n - r + 1\r\n    value /= r\r\n    result.push(value)\r\n  }\r\n\r\n  return result\r\n})\r\n\r\n/** \r\n * pNExtra[n][i] = Pr[ E(k) >= (i - 7n) * alpha(i) | N(k) = n ]\r\n *               = Pr[ (E(k) / alpha(k)) - 7n >= i | N(k) = n ]\r\n * \r\n * 0 <= n <= 5; 0 <= i < 3*n + 1\r\n */\r\nconst pNExtra = [[1]]\r\nwhile (pNExtra.length < 6) {\r\n  const last = pNExtra[pNExtra.length - 1]\r\n  const next = Array(last.length + 3).fill(0)\r\n  last.forEach((value, i) => {\r\n    for (const j of [0, 1, 2, 3]) {\r\n      next[i + j] += value\r\n    }\r\n  })\r\n\r\n  pNExtra.push(next.map(x => x / 4))\r\n}\r\nfor (const array of pNExtra) {\r\n  let accu = array.reduce((a, b) => a + b)\r\n  array.forEach((x, i, array) => {\r\n    array[i] = accu\r\n    accu -= x\r\n  })\r\n}\r\n\r\n/** Probability that `artifact` will have at least `target` stats at max level */\r\nfunction probability(artifact: IArtifact, _target: { [key in SubstatKey]?: number }): number {\r\n  if (artifact.rarity <= 2) return NaN // Doesn't work with 1* and 2* should we decide to add them\r\n\r\n  const { rarity, level, substats } = artifact\r\n\r\n  // `target = target - mainstat - substat` to find the extra substats we need\r\n  // Also count filler rolls (4 - # of substats) while we're at it\r\n  const target = { ..._target }, required = new Set(Object.keys(target))\r\n  let numFillerSlots = 0\r\n  {\r\n    const key = artifact.mainStatKey\r\n    if (key in target) {\r\n      const maxLevel = rarity * 4 // Note: this formula doesn't work with 1* and 2* artifacts\r\n      const maxLevelMainStat = ArtifactMainStatsData[rarity][key][maxLevel]\r\n      if (maxLevelMainStat < target[key]!) return 0 // Main stat won't meet the target\r\n\r\n      delete target[key]\r\n      required.delete(key as SubstatKey)\r\n    }\r\n  }\r\n  for (const { key, value } of substats) {\r\n    if (key) {\r\n      if (required.has(key)) {\r\n        required.delete(key)\r\n        if (target[key]! > value)\r\n          target[key]! -= value\r\n        else delete target[key] // Requirement already met\r\n      }\r\n    } else numFillerSlots += 1\r\n  }\r\n  numFillerSlots += 4 - substats.length\r\n\r\n  if (required.size > numFillerSlots || Object.keys(target).length > 4) return 0 // Not enough filler rolls\r\n\r\n  const numUpgradeRolls = Artifact.rollsRemaining(level, rarity) - numFillerSlots\r\n\r\n  // normalize `target`\r\n  for (const [key, value] of Object.entries(target))\r\n    target[key] = Math.max(Math.ceil(10 * value / Artifact.maxSubstatValues(key, rarity)), 1)\r\n\r\n  let minTotalUpgrades = 0\r\n  const targetEntries = Object.entries(target).map(([key, target]) => {\r\n    const filler = required.has(key) ? 1 : 0 // Nf(i)\r\n    const minUpgrade = Math.ceil(target / 10) - filler // Minimum # of upgrade rolls to ensure E(i) > T(i)\r\n    minTotalUpgrades += minUpgrade\r\n    return { target, filler, minUpgrade }\r\n  }).reverse()\r\n\r\n  if (minTotalUpgrades > numUpgradeRolls) return 0 // Not enough upgrade rolls\r\n\r\n  /**\r\n   * The optimization trick here is to write Pr[ E > T | N ] using a recursive relation. Let\r\n   * \r\n   *  f(n, t) = Pr[ E(i) >= t | N(i) = n ]\r\n   *  g(k, n) = Pr[ E(1) >= T(1), E(2) >= T(2), ..., E(k) >= T(k) | Nu - Nu(1) - Nu(2) - ... - Nu(k) = n ]\r\n   *  h(n, m, M) = Pr[ Nu(k) = m | 0 <= Nu(k) <= n, |K| = M ]\r\n   * \r\n   * Then\r\n   * \r\n   *  Pr [ E > T | N ] = Pr[ Nf(k) = I(k requires filler) for all k | N ] sum{0 <= n <= Nu} g(|K|, n)\r\n   * \r\n   * where I(X) is the indicator function, and |K| is the number of substat constraints, and\r\n   * \r\n   *  f(n, e * alpha(i)) = pNExtra[n][ e - 7n ]\r\n   *  h(n, m, M) = C(n, m) (M-1)^(n - m) M^(-n) = pRollInto(n, m, M)\r\n   *  g(0, N) = 1\r\n   *  g(0, n) = 0 for n != N\r\n   * \r\n   *  g(k + 1, n) = sum{0 <= m <= n} g(k, n + m) f(m + Nf(k), T(k)) h(n + m, m, |K| - k)\r\n   */\r\n\r\n  // At this point,\r\n  //  `target` = ceil(T / alpha)\r\n  //  `numUpgradeRolls` = Nu\r\n\r\n  let result = { [numUpgradeRolls]: 1 }, additionalUpgradeRolls = numUpgradeRolls - minTotalUpgrades\r\n\r\n  // Keep applying `target` from first to last.\r\n  // At each step i in the loop, `result[n]` = g(i, n)\r\n  targetEntries.forEach(({ target, filler, minUpgrade }, targetIndex) => {\r\n    const next: typeof result = {}\r\n\r\n    for (let rolls = minUpgrade; rolls <= minUpgrade + additionalUpgradeRolls; rolls++) {\r\n      // rolls = m; extra = T(i) / alpha - 7n\r\n\r\n      // Extra substat (mutiple of alpha) required from upgrade & filler rolls\r\n      const extra = target - 7 * (rolls + filler)\r\n      // pExtra = Pr[ Has at least `extra` * alpha from `rolls` upgrade or filler rolls into `key` ]\r\n      //        = f(m + Nf(i), T(i))\r\n      const pExtra = (extra > 0 ? pNExtra[rolls + filler][extra] : 1)\r\n\r\n      for (const [_remaining, probability] of Object.entries(result)) {\r\n        const remaining = parseInt(_remaining)\r\n        if (remaining < rolls) continue\r\n\r\n        // n := remaining - m\r\n        // remaining = n + m\r\n        // probability = g(i, n + m)\r\n\r\n        // `pRolls` = Pr[ Has `rolls` rolls into `key` from `remaining` upgrade rolls ]\r\n        //          = h(n + m, m, |K| - i)\r\n        const pRolls = pRollInto(remaining, rolls, 4 - targetIndex)\r\n        const index = remaining - rolls // n\r\n\r\n        // g(i + 1, n) += g(i, n + m) f(m + Nf(i), T(i)) h(n + m, m, |K| - i)\r\n        next[index] = (next[index] ?? 0) + probability * pExtra * pRolls\r\n      }\r\n    }\r\n    result = next\r\n  })\r\n\r\n  // At this point, `result[i]` = g(|K|, i)\r\n\r\n  return calculatePFillerRolls(artifact.mainStatKey, substats, required) * Object.values(result).reduce((a, b) => a + b)\r\n}\r\n\r\n/**\r\n * Pr[ N(k) = n | N = m, |K| = M ]\r\n * \r\n * 0 <= n <= N <= 5; 0 <= M <= 4\r\n */\r\nfunction pRollInto(m: number, n: number, M: number) {\r\n  return cnr[m][n] * Math.pow(M - 1, m - n) / Math.pow(M, m)\r\n}\r\n\r\n// Given a list of substat (in that order), calculate the probability that filler rolls will have all `required` substats in any order\r\nfunction calculatePFillerRolls(mainStat: MainStatKey, substats: ISubstat[], required: Set<SubstatKey>) {\r\n  // Instead of picking substats in a particular order [critDMG_, atk_, ...],\r\n  // We pick substat weights first [3, 4, 3, ...], then assign proper substats\r\n  // that corresponds to that weight: 3 => critDMG_ | critRate_ ; 4 => atk_, etc.\r\n  // This reduces the search space significantly (5040 substat sequences => 71 weight sequences).\r\n\r\n  const mainStatRatio = fWeight[mainStat] ?? 0\r\n  let pFillerRolls = 0 // Pr[ filler rolls include all `required` substats, Substats are in the same order as `substats` ]\r\n\r\n  const numUnusedSubstats = { 3: 2, 4: 5, 6: 3 } // # of substat not used by main stat or substats\r\n  let pSuffixFillerSeq: any = pFillerSeq[mainStatRatio] // Suffix of `pFillerSeq` that excludes the `substats` portion\r\n  for (const { key } of substats) {\r\n    if (key) {\r\n      const ratio = fWeight[key]\r\n      pSuffixFillerSeq = pSuffixFillerSeq[ratio]\r\n      numUnusedSubstats[ratio] -= 1\r\n    }\r\n  }\r\n  if (mainStatRatio) numUnusedSubstats[mainStatRatio] -= 1\r\n\r\n  const requiredCount = { 3: 0, 4: 0, 6: 0 }\r\n  for (const key of required) requiredCount[fWeight[key]] += 1\r\n\r\n  let total = 0\r\n  crawlObject(pSuffixFillerSeq, [], obj => typeof obj === \"number\", (prob: number, path: string[]) => {\r\n    total += prob\r\n    const currentCount = { 3: 0, 4: 0, 6: 0 }\r\n    for (const key of path) currentCount[key] += 1\r\n\r\n    let sum = prob\r\n    for (const i of allWeights) {\r\n      const current = currentCount[i], required = requiredCount[i]\r\n      if (current < required) return\r\n      sum *= cnr[current][required]\r\n    }\r\n\r\n    pFillerRolls += sum\r\n  })\r\n\r\n  for (const i of allWeights)\r\n    pFillerRolls /= cnr[numUnusedSubstats[i]][requiredCount[i]]\r\n  return pFillerRolls / total\r\n}\r\n\r\nexport { probability }\r\n","import SqBadge from '../Components/SqBadge';\r\nimport { clamp } from '../Util/Util';\r\n\r\nexport default function PercentBadge({ value, valid }: Data) {\r\n  let [badgeColor, text] = typeof value === 'number' ?\r\n    [`roll${clamp(Math.floor(value * 0.05) + 1, 1, 6)}`, value.toFixed(2) + \"%\"] : [\"secondary\", value]\r\n  if (!valid) badgeColor = \"error\"\r\n  return <SqBadge color={badgeColor} >{text}</SqBadge>\r\n}\r\n\r\ntype Data = {\r\n  valid: boolean,\r\n  value: number | string,\r\n}\r\n","import { Button, ButtonProps, styled } from \"@mui/material\";\r\n\r\nconst DisabledButton = styled(Button)(({ theme }) => ({\r\n  \"&.Mui-disabled\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n    color: theme.palette.text.secondary,\r\n  }\r\n}))\r\n\r\nexport default function TextButton({ children, disabled, ...props }: ButtonProps) {\r\n  return <DisabledButton {...props} disabled  >\r\n    {children}\r\n  </DisabledButton>\r\n}\r\n","import { Replay } from \"@mui/icons-material\"\r\nimport { Button, ButtonGroup, ButtonGroupProps, styled } from \"@mui/material\"\r\nimport { ReactNode } from \"react\"\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from \"../Components/CustomNumberInput\"\r\nimport TextButton from \"../Components/TextButton\"\r\n\r\ntype StatInputInput = ButtonGroupProps & {\r\n  name: Displayable,\r\n  children?: ReactNode,\r\n  value: number,\r\n  placeholder?: string,\r\n  defaultValue?: number,\r\n  onValueChange: (newValue: number | undefined) => void,\r\n  percent?: boolean,\r\n  disabled?: boolean,\r\n  onReset?: () => void\r\n}\r\nconst FlexButtonGroup = styled(ButtonGroup)({\r\n  display: \"flex\"\r\n})\r\n\r\nexport default function StatInput({ name, children, value, placeholder, defaultValue = 0, onValueChange, percent = false, disabled = false, onReset, ...restProps }: StatInputInput) {\r\n\r\n  return <FlexButtonGroup {...restProps} >\r\n    {children}\r\n    <TextButton sx={{ whiteSpace: \"nowrap\" }} >\r\n      {name}\r\n    </TextButton>\r\n    <CustomNumberInputButtonGroupWrapper sx={{ flexBasis: 30, flexGrow: 1 }} >\r\n      <CustomNumberInput\r\n        sx={{ px: 1 }}\r\n        inputProps={{\r\n          sx: { textAlign: \"right\" }\r\n        }}\r\n        float={percent}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onValueChange}\r\n        disabled={disabled}\r\n        endAdornment={percent ? \"%\" : undefined}\r\n      />\r\n    </CustomNumberInputButtonGroupWrapper>\r\n    <Button onClick={() => onReset ? onReset() : onValueChange(defaultValue)} disabled={disabled || value === defaultValue} >\r\n      <Replay />\r\n    </Button>\r\n  </FlexButtonGroup>\r\n}","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\"\r\nimport { useEffect, useState } from \"react\"\r\nimport Assets from \"../../Assets/Assets\"\r\nimport usePromise from \"../../ReactHooks/usePromise\"\r\nimport { allWeaponKeys, WeaponKey, WeaponTypeKey } from \"../../Types/consts\"\r\nimport WeaponSheet from \"../../Weapon/WeaponSheet\"\r\nimport CardDark from \"../Card/CardDark\"\r\nimport CardLight from \"../Card/CardLight\"\r\nimport CloseButton from \"../CloseButton\"\r\nimport ImgIcon from \"../Image/ImgIcon\"\r\nimport ModalWrapper from \"../ModalWrapper\"\r\nimport { Stars } from \"../StarDisplay\"\r\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\"\r\n\r\ntype WeaponSelectionModalProps = {\r\n  show: boolean,\r\n  onHide: () => void,\r\n  onSelect: (wKey: WeaponKey) => void,\r\n  filter?: (sheet: WeaponSheet) => boolean,\r\n  weaponFilter?: WeaponTypeKey,\r\n}\r\n\r\nexport default function WeaponSelectionModal({ show, onHide, onSelect, filter = () => true, weaponFilter: propWeaponFilter }: WeaponSelectionModalProps) {\r\n  const weaponSheets = usePromise(WeaponSheet.getAll(), [])\r\n  const [weaponFilter, setWeaponfilter] = useState<WeaponTypeKey | \"\">(propWeaponFilter ?? \"\")\r\n\r\n  useEffect(() => propWeaponFilter && setWeaponfilter(propWeaponFilter), [propWeaponFilter])\r\n\r\n  const weaponIdList = !weaponSheets ? [] : [...new Set(allWeaponKeys)].filter(wKey => filter(weaponSheets[wKey]))\r\n    .filter(wKey => {\r\n      if (weaponFilter && weaponFilter !== weaponSheets?.[wKey]?.weaponType) return false\r\n      return true\r\n    })\r\n    .sort((a, b) => (weaponSheets?.[b]?.rarity ?? 0) - (weaponSheets?.[a]?.rarity ?? 0))\r\n\r\n  if (!weaponSheets) return null\r\n\r\n  return <ModalWrapper open={show} onClose={onHide}>\r\n    <CardDark>\r\n      <CardContent sx={{ py: 1 }}>\r\n        <Grid container>\r\n          <Grid item flexGrow={1}>\r\n            <WeaponToggle value={weaponFilter} onChange={setWeaponfilter} disabled={!!propWeaponFilter} size=\"small\" />\r\n          </Grid >\r\n          <Grid item>\r\n            <CloseButton onClick={onHide} />\r\n          </Grid >\r\n        </Grid>\r\n      </CardContent>\r\n      <Divider />\r\n      <CardContent><Grid container spacing={1}>\r\n        {weaponIdList.map(weaponKey => {\r\n          const weaponSheet = weaponSheets[weaponKey]\r\n          return <Grid item key={weaponKey} lg={3} md={4}>\r\n            <CardLight sx={{ height: \"100%\" }} >\r\n              <CardActionArea onClick={() => { onHide(); onSelect(weaponKey) }} sx={{ display: \"flex\" }}>\r\n                <Box component=\"img\" src={weaponSheet.img} sx={{ width: 100, height: \"auto\" }} className={` grad-${weaponSheet.rarity}star`} />\r\n                <Box sx={{ flexGrow: 1, px: 1 }}>\r\n                  <Typography variant=\"subtitle1\">{weaponSheet.name}</Typography>\r\n                  <Typography><ImgIcon src={Assets.weaponTypes?.[weaponSheet.weaponType]} /> <Stars stars={weaponSheet.rarity} colored /></Typography>\r\n                </Box>\r\n              </CardActionArea>\r\n            </CardLight>\r\n          </Grid>\r\n        })}\r\n      </Grid></CardContent>\r\n      <Divider />\r\n      <CardContent sx={{ py: 1 }}>\r\n        <CloseButton large onClick={onHide} />\r\n      </CardContent>\r\n    </CardDark>\r\n  </ModalWrapper>\r\n}","import { faEdit, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { Lock, LockOpen } from \"@mui/icons-material\"\r\nimport { Box, Button, ButtonGroup, CardActionArea, CardContent, CardHeader, Grid, IconButton, Skeleton, Typography } from \"@mui/material\"\r\nimport { Suspense, useCallback, useContext } from \"react\"\r\nimport Assets from \"../Assets/Assets\"\r\nimport CharacterSheet from \"../Character/CharacterSheet\"\r\nimport CardLight from \"../Components/Card/CardLight\"\r\nimport CharacterDropdownButton from '../Components/Character/CharacterDropdownButton'\r\nimport LocationName from \"../Components/Character/LocationName\"\r\nimport ConditionalWrapper from \"../Components/ConditionalWrapper\"\r\nimport ImgIcon from \"../Components/Image/ImgIcon\"\r\nimport { Stars } from \"../Components/StarDisplay\"\r\nimport StatIcon from \"../Components/StatIcon\"\r\nimport { ascensionMaxLevel } from \"../Data/LevelData\"\r\nimport { DatabaseContext } from \"../Database/Database\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport useWeapon from \"../ReactHooks/useWeapon\"\r\nimport Stat from \"../Stat\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport WeaponSheet from \"./WeaponSheet\"\r\n\r\ntype WeaponCardProps = { weaponId: string, onClick?: (weaponId: string) => void, onEdit?: (weaponId: string) => void, onDelete?: (weaponId: string) => void, canEquip?: boolean }\r\nexport default function WeaponCard({ weaponId, onClick, onEdit, onDelete, canEquip = false }: WeaponCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const databaseWeapon = useWeapon(weaponId)\r\n  const weapon = databaseWeapon\r\n  const weaponSheet = usePromise(weapon?.key && WeaponSheet.get(weapon.key), [weapon?.key])\r\n\r\n  const filter = useCallback(\r\n    (cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType,\r\n    [weaponSheet],\r\n  )\r\n\r\n  const actionWrapperFunc = useCallback(\r\n    children => <CardActionArea onClick={() => onClick?.(weaponId)} sx={{ height: \"100%\" }}>{children}</CardActionArea>,\r\n    [onClick, weaponId],\r\n  )\r\n\r\n  const equipOnChar = useCallback((charKey: CharacterKey | \"\") => database.setWeaponLocation(weaponId, charKey), [database, weaponId],)\r\n  if (!weapon || !weaponSheet) return null;\r\n  const { level, ascension, refinement, id, location = \"\", lock } = weapon\r\n\r\n\r\n  const weaponTypeKey = weaponSheet.weaponType\r\n  const weaponMainVal = weaponSheet.getMainStatValue(level, ascension).toFixed(Stat.fixedUnit(\"atk\"))\r\n  const weaponSubKey = weaponSheet.getSubStatKey()\r\n  const weaponSubVal = weaponSheet.getSubStatValue(level, ascension).toFixed(Stat.fixedUnit(weaponSubKey))\r\n  const weaponPassiveName = weaponSheet?.passiveName\r\n  const statMap = [[\"weaponATK\", weaponMainVal]]\r\n  weaponPassiveName && statMap.push([weaponSubKey, weaponSubVal])\r\n  const img = ascension < 2 ? weaponSheet?.img : weaponSheet?.imgAwaken\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 300 }} />}>\r\n    <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc}>\r\n      <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n        <div className={`grad-${weaponSheet.rarity}star`} >\r\n          <CardHeader title={weaponSheet.name} avatar={<ImgIcon sx={{ fontSize: \"2em\" }} src={Assets.weaponTypes?.[weaponTypeKey]} />} titleTypographyProps={{ variant: \"h6\" }}\r\n            action={!onClick && <IconButton color=\"primary\" onClick={() => database.updateWeapon({ lock: !lock }, id)}>\r\n              {lock ? <Lock /> : <LockOpen />}\r\n            </IconButton>} />\r\n          <Grid container sx={{ flexWrap: \"nowrap\", pl: 2 }}>\r\n            <Grid item flexGrow={1}>\r\n              <Typography component=\"span\" variant=\"h4\">Lv. {level}</Typography>\r\n              <Typography component=\"span\" variant=\"h4\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\r\n              <Typography variant=\"h6\">Refinement <strong>{refinement}</strong></Typography>\r\n              <Typography><Stars stars={weaponSheet.rarity} colored /></Typography>\r\n            </Grid>\r\n            {/* use flex-end here to align the image to the bottom. */}\r\n            <Grid item container maxWidth=\"40%\" alignContent=\"flex-end\" sx={{ mt: -3 }}>\r\n              <Box component=\"img\" src={img} width=\"100%\" height=\"auto\" />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n        <CardContent>\r\n          {statMap.map(([statKey, statVal]) => {\r\n            let unit = Stat.getStatUnit(statKey)\r\n            return <Box key={statKey} sx={{ display: \"flex\" }}>\r\n              <Typography flexGrow={1}>{StatIcon[statKey]} {Stat.getStatName(statKey)}</Typography>\r\n              <Typography>{statVal + unit}</Typography>\r\n            </Box>\r\n          })}\r\n        </CardContent>\r\n        {/* grow to fill the 100% heigh */}\r\n        <Box flexGrow={1} />\r\n        <CardContent sx={{ py: 1 }}>\r\n          <Grid container sx={{ flexWrap: \"nowrap\" }} >\r\n            <Grid item xs=\"auto\" flexShrink={1}>\r\n              {canEquip ? <CharacterDropdownButton size=\"small\" noUnselect inventory value={location} onChange={equipOnChar} filter={filter} /> : <LocationName location={location} />}\r\n            </Grid>\r\n            <Grid item flexGrow={1} sx={{ mr: 1 }} />\r\n            <Grid item xs=\"auto\">\r\n              <ButtonGroup sx={{ height: \"100%\" }}>\r\n                {!!onEdit && <Button color=\"info\" size=\"small\" onClick={() => onEdit(id)} >\r\n                  <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\r\n                </Button>}\r\n                {!!onDelete && <Button color=\"error\" size=\"small\" onClick={() => onDelete(id)} disabled={!!location || lock} >\r\n                  <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\r\n                </Button>}\r\n              </ButtonGroup>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n\r\n      </CardLight>\r\n    </ConditionalWrapper>\r\n  </Suspense>\r\n}","import { faBan, faChartLine, faEdit, faInfoCircle, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Lock, LockOpen } from '@mui/icons-material';\r\nimport { Box, Button, ButtonGroup, CardActions, CardContent, CardMedia, Chip, Grid, IconButton, Skeleton, Tooltip, Typography } from '@mui/material';\r\nimport React, { Suspense, useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport BootstrapTooltip from '../Components/BootstrapTooltip';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport CharacterDropdownButton from '../Components/Character/CharacterDropdownButton';\r\nimport LocationName from '../Components/Character/LocationName';\r\nimport ColorText from '../Components/ColoredText';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport { database as localDatabase, DatabaseContext } from '../Database/Database';\r\nimport useArtifact from '../ReactHooks/useArtifact';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport Stat from '../Stat';\r\nimport { allSubstats, ICachedArtifact, ICachedSubstat, SubstatKey } from '../Types/artifact';\r\nimport { CharacterKey } from '../Types/consts';\r\nimport { valueStringWithUnit } from '../Util/UIUtil';\r\nimport { clamp } from '../Util/Util';\r\nimport Artifact from './Artifact';\r\nimport { ArtifactSheet } from './ArtifactSheet';\r\nimport SlotNameWithIcon from './Component/SlotNameWIthIcon';\r\nimport PercentBadge from './PercentBadge';\r\nimport { probability } from './RollProbability';\r\n\r\ntype Data = {\r\n  artifactId?: string,\r\n  artifactObj?: ICachedArtifact,\r\n  onEdit?: (string) => void,\r\n  onDelete?: (string) => void, mainStatAssumptionLevel?: number,\r\n  effFilter?: Set<SubstatKey>,\r\n  probabilityFilter?: Dict<SubstatKey, number>\r\n}\r\nconst allSubstatFilter = new Set(allSubstats)\r\n\r\nexport default function ArtifactCard({ artifactId, artifactObj, onEdit, onDelete, mainStatAssumptionLevel = 0, effFilter = allSubstatFilter, probabilityFilter }: Data): JSX.Element | null {\r\n  const { t } = useTranslation([\"artifact\"]);\r\n  const database = useContext(DatabaseContext)\r\n  const databaseArtifact = useArtifact(artifactId)\r\n  const sheet = usePromise(ArtifactSheet.get((artifactObj ?? databaseArtifact)?.setKey), [artifactObj, databaseArtifact])\r\n  const equipOnChar = (charKey: CharacterKey | \"\") => database.setArtLocation(artifactId!, charKey)\r\n\r\n  const editable = !artifactObj && database === localDatabase // dont allow edit for flex artifacts\r\n  const art = artifactObj ?? databaseArtifact\r\n  if (!art) return null\r\n\r\n  const { id, lock, slotKey, rarity, level, mainStatKey, substats, exclude, location = \"\" } = art\r\n  const mainStatLevel = Math.max(Math.min(mainStatAssumptionLevel, rarity * 4), level)\r\n  const levelVariant = \"roll\" + (Math.floor(Math.max(level, 0) / 4) + 1)\r\n  const mainStatVal = <ColorText color={mainStatLevel !== level ? \"warning\" : undefined}>{valueStringWithUnit(Artifact.mainStatValue(mainStatKey, rarity, mainStatLevel) ?? 0, Stat.getStatUnit(mainStatKey))}</ColorText>\r\n  const { currentEfficiency, maxEfficiency } = Artifact.getArtifactEfficiency(art, effFilter)\r\n  const artifactValid = maxEfficiency !== 0\r\n  const slotName = sheet?.getSlotName(slotKey) || \"Unknown Piece Name\"\r\n  const slotDesc = sheet?.getSlotDesc(slotKey)\r\n  const slotDescTooltip = slotDesc && <BootstrapTooltip placement=\"top\" title={<Typography>{slotDesc}</Typography>}>\r\n    <span><FontAwesomeIcon icon={faInfoCircle} /></span>\r\n  </BootstrapTooltip>\r\n  const setEffects = sheet?.setEffects\r\n  const setDescTooltip = sheet && setEffects && <BootstrapTooltip placement=\"top\" title={\r\n    <span>\r\n      {Object.keys(setEffects).map(setNumKey => <span key={setNumKey}>\r\n        <Typography variant=\"h6\"><SqBadge color=\"success\">{t(`setEffectNum`, { setNum: setNumKey })}</SqBadge></Typography>\r\n        <Typography>{sheet.setEffectDesc(setNumKey as any)}</Typography>\r\n      </span>)}\r\n    </span>\r\n  }>\r\n    <span><FontAwesomeIcon icon={faInfoCircle} /></span>\r\n  </BootstrapTooltip>\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\r\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n      <CardContent className={`grad-${rarity}star`} sx={{ pt: 1, pb: 0, pr: 0 }}>\r\n        <Box component=\"div\" sx={{ display: \"flex\", alignItems: \"center\", pr: 1 }}>\r\n          <Chip size=\"small\" label={<strong>{` +${level}`}</strong>} color={levelVariant as any} />\r\n          <Typography sx={{ pl: 1, flexGrow: 1 }}>{slotName} {slotDescTooltip}</Typography>\r\n          <IconButton color=\"primary\" disabled={!editable} onClick={() => database.updateArt({ lock: !lock }, id)}>\r\n            {lock ? <Lock /> : <LockOpen />}\r\n          </IconButton>\r\n        </Box>\r\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\r\n          <Grid item flexGrow={1}>\r\n            <Typography color=\"text.secondary\" variant=\"body2\">\r\n              <SlotNameWithIcon slotKey={slotKey} />\r\n            </Typography>\r\n            <Typography variant=\"h6\">\r\n              {Stat.getStatName(mainStatKey)}\r\n            </Typography>\r\n            <Typography variant=\"h5\">\r\n              <strong>{mainStatVal}</strong>\r\n            </Typography>\r\n            <Stars stars={rarity} colored />\r\n            {/* {process.env.NODE_ENV === \"development\" && <Typography color=\"common.black\">{id || `\"\"`} </Typography>} */}\r\n          </Grid>\r\n          <Grid item maxWidth=\"40%\" sx={{ mt: -3, mb: -1, pl: -2 }} alignSelf=\"flex-end\">\r\n            <CardMedia\r\n              component=\"img\"\r\n              image={sheet?.slotIcons[slotKey] ?? \"\"}\r\n              width=\"100%\"\r\n              height=\"auto\"\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n      <CardContent sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\", pt: 1, pb: 0 }}>\r\n        {substats.map((stat: ICachedSubstat, i) => {\r\n          if (!stat.value) return null\r\n          const numRolls = stat.rolls?.length ?? 0\r\n          const rollColor = `roll${clamp(numRolls, 1, 6)}`\r\n          const efficiency = stat.efficiency ?? 0\r\n          const effOpacity = 0.3 + (efficiency / 100) * 0.7\r\n          const statName = Stat.getStatName(stat.key)\r\n          return (<Box key={i} sx={{ display: \"flex\" }}>\r\n            <Box sx={{ flexGrow: 1 }}>\r\n              <SqBadge color={(numRolls ? rollColor : \"error\") as any} sx={{ mr: 1 }}><strong>{numRolls ? numRolls : \"?\"}</strong></SqBadge>\r\n              <Typography color={(numRolls ? `${rollColor}.main` : \"error.main\") as any} component=\"span\">{statName}{`+${valueStringWithUnit(stat.value, Stat.getStatUnit(stat.key))}`}</Typography>\r\n            </Box>\r\n            <Typography sx={{ opacity: effOpacity }}>{stat.key && effFilter.has(stat.key) ? valueStringWithUnit(efficiency, \"eff\") : \"-\"}</Typography>\r\n          </Box>)\r\n        })}\r\n        <Box sx={{ display: \"flex\", my: 1 }}>\r\n          <Typography color=\"text.secondary\" component=\"span\" variant=\"caption\" sx={{ flexGrow: 1 }}>{t`editor.curSubEff`}</Typography>\r\n          <PercentBadge value={currentEfficiency} valid={artifactValid} />\r\n        </Box>\r\n        {currentEfficiency !== maxEfficiency && <Box sx={{ display: \"flex\", mb: 1 }}>\r\n          <Typography color=\"text.secondary\" component=\"span\" variant=\"caption\" sx={{ flexGrow: 1 }}>{t`editor.maxSubEff`}</Typography>\r\n          <PercentBadge value={maxEfficiency} valid={artifactValid} />\r\n        </Box>}\r\n        <Box flexGrow={1} />\r\n        {probabilityFilter && <strong>Probability: {(probability(art, probabilityFilter) * 100).toFixed(2)}%</strong>}\r\n        <Typography color=\"success.main\">{sheet?.name ?? \"Artifact Set\"} {setDescTooltip}</Typography>\r\n      </CardContent>\r\n      <CardActions>\r\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\r\n          <Grid item xs=\"auto\" flexShrink={1}>\r\n            {editable ?\r\n              <CharacterDropdownButton size=\"small\" inventory value={location} onChange={equipOnChar} /> : <LocationName location={location} />}\r\n          </Grid>\r\n          <Grid item flexGrow={1} sx={{ mr: 1 }} />\r\n          {editable && <Grid item xs=\"auto\">\r\n            <ButtonGroup sx={{ height: \"100%\" }}>\r\n              {!!onEdit && <Button color=\"info\" onClick={() => onEdit(id)} size=\"small\">\r\n                <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\r\n              </Button>}\r\n              <Tooltip title={<Typography>{t`excludeArtifactTip`}</Typography>} placement=\"top\" arrow>\r\n                <Button onClick={() => database.updateArt({ exclude: !exclude }, id)} color={exclude ? \"error\" : \"success\"} size=\"small\">\r\n                  <FontAwesomeIcon icon={exclude ? faBan : faChartLine} className=\"fa-fw\" />\r\n                </Button>\r\n              </Tooltip>\r\n              {!!onDelete && <Button color=\"error\" size=\"small\" onClick={() => onDelete(id)} disabled={lock}>\r\n                <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\r\n              </Button>}\r\n            </ButtonGroup>\r\n          </Grid>}\r\n        </Grid>\r\n      </CardActions>\r\n    </CardLight >\r\n  </Suspense>\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\n\r\nexport default function useArtifact(artifactID: string | undefined = \"\") {\r\n  const database = useContext(DatabaseContext)\r\n  const [artifact, setArtifact] = useState(database._getArt(artifactID))\r\n  useEffect(() => setArtifact(database._getArt(artifactID)), [database, artifactID])\r\n  useEffect(() =>\r\n    artifactID ? database.followArt(artifactID, setArtifact) : undefined,\r\n    [artifactID, setArtifact, database])\r\n  return artifact\r\n}","import { Box, CardActionArea, CardContent, Chip, Grid, Skeleton, Typography } from '@mui/material';\r\nimport { Suspense, useCallback, useContext, useMemo } from 'react';\r\nimport { ArtifactSheet } from '../Artifact/ArtifactSheet';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport ConditionalWrapper from '../Components/ConditionalWrapper';\r\nimport ImgIcon from '../Components/Image/ImgIcon';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport StatIcon from '../Components/StatIcon';\r\nimport { ascensionMaxLevel } from '../Data/LevelData';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport useCharacter from '../ReactHooks/useCharacter';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport useSheets, { Sheets } from '../ReactHooks/useSheets';\r\nimport Stat from '../Stat';\r\nimport { CharacterKey, SlotKey } from '../Types/consts';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport { ICachedWeapon } from '../Types/weapon';\r\nimport WeaponSheet from '../Weapon/WeaponSheet';\r\nimport Character from './Character';\r\nimport CharacterSheet from './CharacterSheet';\r\n\r\ntype CharacterCardProps = {\r\n  characterKey: CharacterKey | \"\",\r\n  onClick?: (characterKey: CharacterKey) => void,\r\n  onClickHeader?: (characterKey: CharacterKey) => void,\r\n  artifactChildren?: Displayable,\r\n  weaponChildren?: Displayable,\r\n  footer?: Displayable,\r\n  build?: ICalculatedStats\r\n}\r\nexport default function CharacterCard({ build, characterKey, artifactChildren, weaponChildren, onClick, onClickHeader, footer }: CharacterCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const character = useCharacter(characterKey)\r\n  const sheets = useSheets()\r\n  const characterSheet = sheets?.characterSheets[characterKey] as CharacterSheet | undefined\r\n  const stats = useMemo(() => build ?? (character && sheets && Character.calculateBuild(character, database, sheets)), [build, character, sheets, database])\r\n  const onClickHandler = useCallback(() => characterKey && onClick?.(characterKey), [characterKey, onClick])\r\n  const actionWrapperFunc = useCallback(\r\n    children => <CardActionArea onClick={onClickHandler} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\r\n    [onClickHandler],\r\n  )\r\n  if (!character || !characterSheet || !stats) return null;\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\r\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n      <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\r\n        <Header characterSheet={characterSheet} stats={stats} onClick={!onClick ? onClickHeader : undefined} />\r\n        <CardContent sx={{ width: \"100%\", display: \"flex\", flexDirection: \"column\", gap: 1, flexGrow: 1 }}>\r\n          {sheets && <Weapon weaponId={character.equippedWeapon} sheets={sheets.weaponSheets} />}\r\n          {weaponChildren}\r\n          {/* will grow to fill the 100% height */}\r\n          <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" gap={1}>\r\n            <ArtifactDisplay stats={stats} />\r\n            {artifactChildren}\r\n          </Box>\r\n          <Stats stats={stats} />\r\n        </CardContent>\r\n      </ConditionalWrapper>\r\n      {footer}\r\n    </CardLight>\r\n  </Suspense>\r\n}\r\nfunction Header({ onClick, characterSheet, stats: { characterKey, tlvl, characterLevel, ascension, constellation, characterEle, autoBoost, skillBoost, burstBoost } }:\r\n  { onClick?: (characterKey: CharacterKey) => void, characterSheet: CharacterSheet, stats: ICalculatedStats }) {\r\n  const actionWrapperFunc = useCallback(\r\n    children => <CardActionArea onClick={() => characterKey && onClick?.(characterKey)} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\r\n    [onClick, characterKey],\r\n  )\r\n  return <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\r\n    <Box display=\"flex\"\r\n      position=\"relative\"\r\n      className={`grad-${characterSheet.rarity}star`}\r\n      sx={{\r\n        \"&::before\": {\r\n          content: '\"\"',\r\n          display: \"block\", position: \"absolute\",\r\n          left: 0, top: 0,\r\n          width: \"100%\", height: \"100%\",\r\n          opacity: 0.7,\r\n          backgroundImage: `url(${characterSheet.bannerImg})`, backgroundPosition: \"center\", backgroundSize: \"cover\",\r\n        }\r\n      }}\r\n      width=\"100%\" >\r\n      <Box flexShrink={1} sx={{ maxWidth: { xs: \"40%\", lg: \"40%\" } }} alignSelf=\"flex-end\" display=\"flex\" flexDirection=\"column\" zIndex={1}>\r\n        <Box\r\n          component=\"img\"\r\n          src={characterSheet.thumbImg}\r\n          width=\"100%\"\r\n          height=\"auto\"\r\n          maxWidth={256}\r\n          sx={{ mt: \"auto\" }}\r\n        />\r\n      </Box>\r\n      <Box flexGrow={1} sx={{ p: 1 }} display=\"flex\" flexDirection=\"column\" zIndex={1}>\r\n        <Chip label={<Typography variant=\"subtitle1\">{characterSheet.name}</Typography>} size=\"small\" color={characterEle} />\r\n        <Grid container spacing={1} flexWrap=\"nowrap\">\r\n          <Grid item sx={{ textShadow: \"0 0 5px gray\" }}>\r\n            <Typography component=\"span\" variant=\"h6\" whiteSpace=\"nowrap\" >Lv. {characterLevel}</Typography>\r\n            <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <Typography variant=\"h6\"><SqBadge>C{constellation}</SqBadge></Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1} flexWrap=\"nowrap\">\r\n          <Grid item>\r\n            <Chip color={autoBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.auto + 1}</strong>} />\r\n          </Grid>\r\n          <Grid item>\r\n            <Chip color={skillBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.skill + 1}</strong>} />\r\n          </Grid>\r\n          <Grid item>\r\n            <Chip color={burstBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.burst + 1}</strong>} />\r\n          </Grid>\r\n        </Grid>\r\n        <Typography mt={1} ><Stars stars={characterSheet.rarity} colored /></Typography>\r\n      </Box>\r\n    </Box>\r\n  </ConditionalWrapper>\r\n}\r\nfunction Weapon({ weaponId, sheets }: { weaponId: string, sheets: Sheets[\"weaponSheets\"] }) {\r\n  const database = useContext(DatabaseContext)\r\n  const weapon = database._getWeapon(weaponId)\r\n  if (!weapon) return null;\r\n  const weaponSheet = sheets[weapon.key]\r\n  const { level, ascension } = weapon\r\n  const name = weaponSheet?.name\r\n  const mainVal = weaponSheet.getMainStatValue(level, ascension).toFixed(Stat.fixedUnit(\"atk\"))\r\n  const subKey = weaponSheet.getSubStatKey()\r\n  const subVal = weaponSheet.getSubStatValue(level, ascension).toFixed(Stat.fixedUnit(subKey))\r\n  const levelName = WeaponSheet.getLevelString(weapon as ICachedWeapon)\r\n  const passiveName = weaponSheet?.passiveName\r\n  return <CardDark>\r\n    <Box display=\"flex\" >\r\n      <Box flexShrink={1} maxWidth=\"35%\" display=\"flex\" flexDirection=\"column\" alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`} >\r\n        <Box\r\n          component=\"img\"\r\n          src={weaponSheet.img}\r\n          width=\"100%\"\r\n          height=\"auto\"\r\n          sx={{ mt: \"auto\" }}\r\n        />\r\n      </Box>\r\n      <Box flexGrow={1} sx={{ p: 1 }}>\r\n        <Typography variant=\"body2\"><strong>{name}</strong></Typography>\r\n        <Typography whiteSpace=\"nowrap\" lineHeight={1}>\r\n          <SqBadge color=\"primary\" sx={{ mr: 1 }}>Lv. {levelName}</SqBadge>\r\n          {passiveName && <SqBadge color=\"info\"> Refinement {weapon.refinement}</SqBadge>}\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\">ATK: {mainVal}</Typography>\r\n        {passiveName && <Typography variant=\"subtitle2\" lineHeight={1}>{Stat.getStatName(subKey)}: {subVal}{Stat.getStatUnit(subKey)}</Typography>}\r\n      </Box>\r\n    </Box>\r\n  </CardDark>\r\n}\r\nfunction ArtifactDisplay({ stats }: { stats?: ICalculatedStats }) {\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n  const database = useContext(DatabaseContext)\r\n  if (!artifactSheets || !stats) return null\r\n  const { equippedArtifacts } = stats\r\n  return <Grid container spacing={1} >\r\n    {Object.entries(equippedArtifacts ?? {} as Dict<SlotKey, string>).map(([key, id]) => {\r\n      const art = database._getArt(id)\r\n      if (!art) return null\r\n      const { setKey, slotKey, mainStatKey } = art\r\n      return <Grid item key={key} flexGrow={1}>\r\n        <Chip color=\"secondary\" sx={{ width: \"100%\" }} icon={<ImgIcon src={artifactSheets?.[setKey].slotIcons[slotKey]} size={2.5} />}\r\n          label={<span>{Stat.getStatNameWithPercent(mainStatKey)}</span>} />\r\n      </Grid>\r\n    })}\r\n  </Grid>\r\n}\r\nfunction Stats({ stats }: { stats: ICalculatedStats }) {\r\n  const statkeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\",]\r\n  return <Box sx={{ width: \"100%\" }} >\r\n    {statkeys.map(statKey => {\r\n      let unit = Stat.getStatUnit(statKey)\r\n      let statVal = stats[statKey]\r\n      return <Box sx={{ display: \"flex\" }} key={statKey}>\r\n        <Typography flexGrow={1}><strong>{StatIcon[statKey]} {Stat.getStatName(statKey)}</strong></Typography>\r\n        <Typography>\r\n          {statVal?.toFixed(Stat.fixedUnit(statKey)) + unit}\r\n        </Typography>\r\n      </Box>\r\n    })}\r\n  </Box>\r\n}","import { Box, CardContent, Typography } from \"@mui/material\"\r\nimport CardDark from \"../../Components/Card/CardDark\"\r\nimport DocumentDisplay from \"../../Components/DocumentDisplay\"\r\nimport FieldDisplay, { FieldDisplayList } from \"../../Components/FieldDisplay\"\r\nimport SqBadge from \"../../Components/SqBadge\"\r\nimport usePromise from \"../../ReactHooks/usePromise\"\r\nimport { ArtifactSetKey, SetNum } from \"../../Types/consts\"\r\nimport { ICalculatedStats } from \"../../Types/stats\"\r\nimport statsToFields from \"../../Util/FieldUtil\"\r\nimport { ArtifactSheet } from \"../ArtifactSheet\"\r\n\r\ntype Data = {\r\n  setKey: ArtifactSetKey,\r\n  setNumKey: SetNum,\r\n  newBuild?: ICalculatedStats,\r\n  equippedBuild?: ICalculatedStats,\r\n  skipConditionalEquipmentCheck?: boolean\r\n}\r\n\r\nexport default function SetEffectDisplay({ setKey, setNumKey, equippedBuild, newBuild, skipConditionalEquipmentCheck }: Data) {\r\n  const sheet = usePromise(ArtifactSheet.get(setKey), [setKey])\r\n  if (!sheet) return null\r\n\r\n  const stats = newBuild ?? equippedBuild!\r\n  const setEffectText = sheet.setEffectDesc(setNumKey)\r\n  const setStats = sheet.setNumStats(setNumKey, stats)\r\n  const setStatsFields = statsToFields(setStats, stats)\r\n  const document = sheet.setEffectDocument(setNumKey)\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1}>\r\n    <CardDark>\r\n      <CardContent>\r\n        <Typography><SqBadge color=\"success\">{setNumKey}-Set</SqBadge> {setEffectText}</Typography>\r\n      </CardContent>\r\n      <FieldDisplayList sx={{ m: 0 }}>\r\n        {setStatsFields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n      </FieldDisplayList>\r\n    </CardDark>\r\n    {document ? <DocumentDisplay sections={document} characterKey={stats.characterKey} skipConditionalEquipmentCheck={skipConditionalEquipmentCheck} /> : null}\r\n  </Box>\r\n}\r\n","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\";\r\nimport { useContext, useMemo, useState } from \"react\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport Character from '../../Character/Character';\r\nimport CharacterSheet from \"../../Character/CharacterSheet\";\r\nimport { DatabaseContext } from \"../../Database/Database\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\nimport useSheets from \"../../ReactHooks/useSheets\";\r\nimport { ICachedCharacter } from \"../../Types/character\";\r\nimport { allCharacterKeys, CharacterKey, ElementKey, WeaponTypeKey } from \"../../Types/consts\";\r\nimport { characterFilterConfigs, characterSortConfigs } from \"../../Util/CharacterSort\";\r\nimport { filterFunction, sortFunction } from \"../../Util/SortByFilters\";\r\nimport CardDark from \"../Card/CardDark\";\r\nimport CardLight from \"../Card/CardLight\";\r\nimport CloseButton from \"../CloseButton\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\nimport ModalWrapper from \"../ModalWrapper\";\r\nimport SortByButton from \"../SortByButton\";\r\nimport SqBadge from \"../SqBadge\";\r\nimport { Stars } from \"../StarDisplay\";\r\nimport StatIcon from \"../StatIcon\";\r\nimport ElementToggle from \"../ToggleButton/ElementToggle\";\r\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\";\r\n\r\nconst defaultSortKeys = [\"level\", \"rarity\", \"name\"]\r\n\r\ntype characterFilter = (character: ICachedCharacter | undefined, sheet: CharacterSheet) => boolean\r\n\r\ntype CharacterSelectionModalProps = {\r\n  show: boolean,\r\n  newFirst?: boolean\r\n  onHide: () => void,\r\n  onSelect?: (ckey: CharacterKey) => void,\r\n  filter?: characterFilter\r\n}\r\n\r\nexport function CharacterSelectionModal({ show, onHide, onSelect, filter = () => true, newFirst = false }: CharacterSelectionModalProps) {\r\n  const sortKeys = useMemo(() => newFirst ? [\"new\", ...defaultSortKeys] : defaultSortKeys, [newFirst])\r\n  const database = useContext(DatabaseContext)\r\n\r\n  const [sortBy, setsortBy] = useState(sortKeys[0])\r\n  const [ascending, setascending] = useState(false)\r\n  const [elementalFilter, setelementalFilter] = useState<ElementKey | \"\">(\"\")\r\n  const [weaponFilter, setweaponFilter] = useState<WeaponTypeKey | \"\">(\"\")\r\n\r\n  const characterSheets = usePromise(CharacterSheet.getAll(), [])\r\n\r\n  const sortConfigs = useMemo(() => characterSheets && characterSortConfigs(database, characterSheets), [database, characterSheets])\r\n  const filterConfigs = useMemo(() => characterSheets && characterFilterConfigs(characterSheets), [characterSheets])\r\n  const characterKeyList = useMemo(() => (characterSheets && sortConfigs && filterConfigs) ?\r\n    [...new Set(allCharacterKeys)].filter(cKey => filter(database._getChar(cKey), characterSheets[cKey]))\r\n      .filter(filterFunction({ element: elementalFilter, weaponType: weaponFilter }, filterConfigs))\r\n      .sort(sortFunction(sortBy, ascending, sortConfigs) as (a: CharacterKey, b: CharacterKey) => number) : [],\r\n    [database, characterSheets, filter, elementalFilter, weaponFilter, sortBy, ascending, sortConfigs, filterConfigs])\r\n\r\n  if (!characterSheets) return null\r\n  return <ModalWrapper open={show} onClose={onHide} >\r\n    <CardDark>\r\n      <CardContent sx={{ py: 1 }}>\r\n        <Grid container spacing={1} >\r\n          <Grid item>\r\n            <WeaponToggle sx={{ height: \"100%\" }} onChange={setweaponFilter} value={weaponFilter} size=\"small\" />\r\n          </Grid>\r\n          <Grid item flexGrow={1}>\r\n            <ElementToggle sx={{ height: \"100%\" }} onChange={setelementalFilter} value={elementalFilter} size=\"small\" />\r\n          </Grid>\r\n\r\n          <Grid item flexGrow={1} />\r\n\r\n          <Grid item >\r\n            <SortByButton sx={{ height: \"100%\" }}\r\n              sortKeys={sortKeys} value={sortBy} onChange={setsortBy as any}\r\n              ascending={ascending} onChangeAsc={setascending} />\r\n          </Grid>\r\n          <Grid item>\r\n            <CloseButton onClick={onHide} />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n      <Divider />\r\n      <CardContent><Grid container spacing={1}>\r\n        {characterKeyList.map(characterKey => <Grid item key={characterKey} xs={6} md={4} lg={3} >\r\n          <CharacterBtn key={characterKey} characterKey={characterKey} onClick={() => { onHide(); onSelect?.(characterKey) }} />\r\n        </Grid>)}\r\n      </Grid></CardContent>\r\n    </CardDark>\r\n  </ModalWrapper>\r\n}\r\n\r\nfunction CharacterBtn({ onClick, characterKey }: { onClick: () => void, characterKey: CharacterKey }) {\r\n  const sheets = useSheets()\r\n  const database = useContext(DatabaseContext)\r\n  const character = database._getChar(characterKey)\r\n  const characterSheet = sheets?.characterSheets[characterKey]\r\n  const stats = useMemo(() => character && sheets && Character.calculateBuild(character, database, sheets), [character, sheets, database])\r\n  if (!characterSheet) return null\r\n  const rarity = characterSheet.rarity\r\n  return <CardActionArea onClick={onClick} >\r\n    <CardLight sx={{ display: \"flex\", alignItems: \"center\" }}  >\r\n      <Box component=\"img\" src={characterSheet.thumbImg} sx={{ width: 130, height: \"auto\" }} className={`grad-${rarity}star`} />\r\n      <Box sx={{ pl: 1 }}>\r\n        <Typography><strong>{characterSheet.name}</strong></Typography>\r\n        {stats && character ? <>\r\n          <Typography variant=\"h6\"> {characterSheet.elementKey && StatIcon[characterSheet.elementKey]} <ImgIcon src={Assets.weaponTypes?.[characterSheet.weaponTypeKey]} />{` `}{Character.getLevelString(character)}</Typography>\r\n          <Typography >\r\n            <SqBadge color=\"success\">{`C${character.constellation}`}</SqBadge>{` `}\r\n            <SqBadge color=\"secondary\"><strong >{stats.tlvl.auto + 1}</strong></SqBadge>{` `}\r\n            <SqBadge color={stats.skillBoost ? \"info\" : \"secondary\"}><strong >{stats.tlvl.skill + 1}</strong></SqBadge>{` `}\r\n            <SqBadge color={stats.burstBoost ? \"info\" : \"secondary\"}><strong >{stats.tlvl.burst + 1}</strong></SqBadge>\r\n          </Typography>\r\n        </> : <>\r\n          <Typography variant=\"h6\"><SqBadge color=\"primary\">NEW</SqBadge></Typography>\r\n        </>}\r\n        <small><Stars stars={rarity} colored /></small>\r\n      </Box>\r\n    </CardLight>\r\n  </CardActionArea >\r\n}","import CharacterSheet from \"../Character/CharacterSheet\";\r\nimport { ArtCharDatabase } from \"../Database/Database\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\nimport { FilterConfigs, SortConfigs } from \"./SortByFilters\";\r\nexport const characterSortKeys = [\"level\", \"rarity\", \"name\"]\r\nexport type CharacterSortKey = typeof characterSortKeys[number]\r\n\r\nexport function characterSortConfigs(database: ArtCharDatabase, characterSheets: Record<CharacterKey, CharacterSheet>): SortConfigs<CharacterSortKey, CharacterKey> {\r\n  return {\r\n    new: {\r\n      getValue: (ck) => database._getChar(ck as CharacterKey) ? 0 : 1,\r\n      tieBreaker: \"name\"\r\n    },\r\n    name: {\r\n      getValue: (ck) => ck,\r\n    },\r\n    level: {\r\n      getValue: (ck) => database._getChar(ck as CharacterKey)?.level ?? 0,\r\n      tieBreaker: \"rarity\"\r\n    },\r\n    rarity: {\r\n      getValue: (ck) => characterSheets?.[ck]?.rarity,\r\n      tieBreaker: \"level\"\r\n    }\r\n  }\r\n}\r\n\r\nexport function characterFilterConfigs(characterSheets: Record<CharacterKey, CharacterSheet>): FilterConfigs<\"element\" | \"weaponType\", CharacterKey> {\r\n  return {\r\n    element: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.elementKey),\r\n    weaponType: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.weaponTypeKey),\r\n  }\r\n}","import { Masonry } from \"@mui/lab\"\r\nimport { CardContent, CardHeader, Divider } from \"@mui/material\"\r\nimport { Box } from \"@mui/system\"\r\nimport CardDark from \"../../Components/Card/CardDark\"\r\nimport ImgIcon from \"../../Components/Image/ImgIcon\"\r\nimport StatDisplay from \"../../Components/StatDisplay\"\r\nimport { Sheets } from \"../../ReactHooks/useSheets\"\r\nimport { ICachedCharacter } from \"../../Types/character\"\r\nimport { ICalculatedStats } from \"../../Types/stats\"\r\nimport { getFormulaTargetsDisplayHeading } from \"../CharacterUtil\"\r\n\r\ntype StatDisplayComponentProps = {\r\n  sheets: Sheets\r\n  character: ICachedCharacter\r\n  statsDisplayKeys: any,\r\n  equippedBuild?: ICalculatedStats\r\n  newBuild?: ICalculatedStats\r\n}\r\n\r\nexport default function StatDisplayComponent({ sheets, character, equippedBuild, newBuild, statsDisplayKeys }: StatDisplayComponentProps) {\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  return <Box sx={{ mr: -1, mb: -1 }}><Masonry columns={{ xs: 1, sm: 2, md: 3 }} spacing={1}>{Object.entries(statsDisplayKeys).map(([sectionKey, sectionValues]: any) => {\r\n    const header = getFormulaTargetsDisplayHeading(sectionKey, sheets, build)\r\n    return <CardDark key={sectionKey}>\r\n      <CardHeader avatar={header.icon && <ImgIcon size={2} sx={{ m: -1 }} src={header.icon} />} title={header.title} titleTypographyProps={{ variant: \"subtitle1\" }} />\r\n      <Divider />\r\n      <CardContent>\r\n        {sectionValues.map(statKey => <StatDisplay key={JSON.stringify(statKey)} {...{ character, equippedBuild, newBuild, statKey }} />)}\r\n      </CardContent>\r\n    </CardDark>\r\n  })}</Masonry ></Box>\r\n}","import { faCheckSquare, faSquare } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { ExpandMore } from \"@mui/icons-material\";\r\nimport { Button, CardContent, Chip, Collapse, Grid, Typography } from \"@mui/material\";\r\nimport { useCallback, useState } from 'react';\r\nimport Character from \"../Character/Character\";\r\nimport StatInput from \"../Character/StatInput\";\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\";\r\nimport Stat from \"../Stat\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { allElementsWithPhy } from \"../Types/consts\";\r\nimport { characterBaseStats } from \"../Util/StatUtil\";\r\nimport CardLight from \"./Card/CardLight\";\r\nimport ColorText from \"./ColoredText\";\r\nimport ExpandButton from \"./ExpandButton\";\r\nimport { uncoloredEleIcons } from \"./StatIcon\";\r\n\r\nexport function EnemyExpandCard({ character }) {\r\n  const [expanded, setexpanded] = useState(false)\r\n  const toggle = useCallback(() => setexpanded(!expanded), [setexpanded, expanded])\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Grid container>\r\n        <Grid item flexGrow={1} alignItems=\"center\">\r\n          <Grid container spacing={1}>\r\n            <Grid item>\r\n              <Chip size=\"small\" color=\"success\" label={<span>{Stat.getStatName(\"enemyLevel\")} <strong>{Character.getStatValueWithBonus(character, \"enemyLevel\")}</strong></span>} />\r\n            </Grid>\r\n            {allElementsWithPhy.map(element => <Grid item key={element}>\r\n              <Typography key={element} ><EnemyResText element={element} character={character} /></Typography>\r\n            </Grid>)}\r\n            <Grid item>\r\n              <Typography>DEF Reduction {Character.getStatValueWithBonus(character, \"enemyDEFRed_\")}%</Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>\r\n          <ExpandButton\r\n            expand={expanded}\r\n            onClick={toggle}\r\n            aria-expanded={expanded}\r\n            aria-label=\"show more\"\r\n            size=\"small\"\r\n            sx={{ p: 0 }}\r\n          >\r\n            <ExpandMore />\r\n          </ExpandButton>\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <CardContent sx={{ pt: 0 }}>\r\n        <EnemyEditor character={character} />\r\n      </CardContent>\r\n    </Collapse>\r\n  </CardLight>\r\n}\r\n\r\nexport function EnemyResText({ character, element }: { character: ICachedCharacter, element: string }) {\r\n  const immune = !!Character.getStatValueWithBonus(character, `${element}_enemyImmunity`)\r\n  const resKey = `${element}_enemyRes_`\r\n  const content = immune ? <span >{uncoloredEleIcons[element]} IMMUNE</span> :\r\n    <span >{uncoloredEleIcons[element]}RES <strong>{Character.getStatValueWithBonus(character, resKey)}%</strong></span>\r\n  return <ColorText color={element}>{content}</ColorText>\r\n}\r\n\r\n\r\nexport function EnemyEditor({ character, character: { key: characterKey, }, bsProps = { xs: 12, md: 6 } }: { character: ICachedCharacter, bsProps?: object }) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const charBaseStats = characterBaseStats(character)\r\n  return <Grid container spacing={1}>\r\n    <Grid item {...bsProps}>\r\n      <Button fullWidth sx={{ height: \"100%\" }} size=\"small\" component=\"a\" color=\"warning\" href=\"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances\" target=\"_blank\" rel=\"noreferrer\">\r\n        To get the specific resistance values of enemies, please visit the wiki.\r\n      </Button>\r\n    </Grid>\r\n    <Grid item {...bsProps}>\r\n      <StatInput\r\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n        name={<b>Enemy Level</b>}\r\n        value={Character.getStatValueWithBonus(character, \"enemyLevel\")}\r\n        placeholder={Stat.getStatNameRaw(\"enemyLevel\")}\r\n        defaultValue={charBaseStats.enemyLevel}\r\n        onValueChange={value => characterDispatch({ type: \"editStats\", statKey: \"enemyLevel\", value })}\r\n      />\r\n    </Grid>\r\n    {allElementsWithPhy.map(eleKey => {\r\n      let statKey = `${eleKey}_enemyRes_`\r\n      let immunityStatKey = `${eleKey}_enemyImmunity`\r\n      let elementImmunity = Character.getStatValueWithBonus(character, immunityStatKey)\r\n      return <Grid item key={eleKey} {...bsProps}>\r\n        <StatInput\r\n          sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n          name={<b>{Stat.getStatName(statKey)}</b>}\r\n          value={Character.getStatValueWithBonus(character, statKey)}\r\n          placeholder={Stat.getStatNameRaw(statKey)}\r\n          defaultValue={charBaseStats[statKey]}\r\n          onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n          disabled={elementImmunity}\r\n          percent\r\n        >\r\n          <Button color={eleKey} onClick={() => characterDispatch({ type: \"editStats\", statKey: immunityStatKey, value: !elementImmunity })} >\r\n            <FontAwesomeIcon icon={elementImmunity ? faCheckSquare : faSquare} className=\"fa-fw\" /> Immunity\r\n          </Button>\r\n        </StatInput>\r\n      </Grid>\r\n    })}\r\n    <Grid item {...bsProps}>\r\n      <StatInput\r\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n        name={<b>{Stat.getStatName(\"enemyDEFRed_\")}</b>}\r\n        value={Character.getStatValueWithBonus(character, \"enemyDEFRed_\")}\r\n        placeholder={Stat.getStatNameRaw(\"enemyDEFRed_\")}\r\n        defaultValue={charBaseStats[\"enemyDEFRed_\"]}\r\n        onValueChange={value => characterDispatch({ type: \"editStats\", statKey: \"enemyDEFRed_\", value })}\r\n        percent\r\n      />\r\n    </Grid>\r\n    <Grid item xs={12}>\r\n      <small>Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)</small>\r\n    </Grid>\r\n  </Grid>\r\n}","import { CardContent, Grid, MenuItem, ToggleButton, ToggleButtonGroupProps } from \"@mui/material\";\r\nimport { useContext } from 'react';\r\nimport { buildContext } from \"../Build/Build\";\r\nimport CharacterSheet from \"../Character/CharacterSheet\";\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\";\r\nimport usePromise from \"../ReactHooks/usePromise\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { ICalculatedStats } from \"../Types/stats\";\r\nimport CardLight from \"./Card/CardLight\";\r\nimport ColorText from \"./ColoredText\";\r\nimport DropdownButton, { DropdownButtonProps } from \"./DropdownMenu/DropdownButton\";\r\nimport SolidToggleButtonGroup from \"./SolidToggleButtonGroup\";\r\nimport StatIcon, { uncoloredEleIcons } from \"./StatIcon\";\r\nconst infusionVals = {\r\n  \"\": <span>No External Infusion</span>,\r\n  \"pyro\": <span >{uncoloredEleIcons.pyro} Pyro Infusion</span>,\r\n  \"cryo\": <span >{uncoloredEleIcons.cryo} Cryo Infusion</span>,\r\n}\r\ntype InfusionAuraDropdownProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\"> & {\r\n  character: ICachedCharacter,\r\n}\r\nexport function InfusionAuraDropdown({ character: { infusionAura = \"\", key: characterKey }, ...props }: InfusionAuraDropdownProps) {\r\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  if (!characterSheet?.isMelee()) return null\r\n  return <DropdownButton title={infusionVals[infusionAura]} color={infusionAura || \"secondary\"} {...props}>\r\n    {Object.entries(infusionVals).map(([key, text]) =>\r\n      <MenuItem key={key} sx={key ? { color: `${key}.main` } : undefined}\r\n        selected={key === infusionAura} disabled={key === infusionAura}\r\n        onClick={() => characterDispatch({ infusionAura: key })}>{text}</MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n\r\ntype ReactionToggleProps = Omit<ToggleButtonGroupProps, \"color\"> & {\r\n  character: ICachedCharacter,\r\n  build: ICalculatedStats,\r\n}\r\nexport function ReactionToggle({ character: { reactionMode = \"\", infusionAura, key: characterKey }, build, ...props }: ReactionToggleProps) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  if (!build) return null\r\n  const charEleKey = build.characterEle\r\n  if (![\"pyro\", \"hydro\", \"cryo\"].includes(charEleKey) && ![\"pyro\", \"hydro\", \"cryo\"].includes(infusionAura)) return null\r\n  return <SolidToggleButtonGroup exclusive baseColor=\"secondary\"\r\n    value={reactionMode} onChange={(e, reactionMode) => characterDispatch({ reactionMode })} {...props}>\r\n    <ToggleButton value=\"\" >No Reactions</ToggleButton >\r\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value=\"pyro_vaporize\"  >\r\n      <ColorText color=\"vaporize\">Vaporize(Pyro){StatIcon.hydro}+{StatIcon.pyro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value={\"pyro_melt\"}  >\r\n      <ColorText color=\"melt\">Melt(Pyro) {StatIcon.cryo}+{StatIcon.pyro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"hydro\" || infusionAura === \"hydro\") && <ToggleButton value={\"hydro_vaporize\"}  >\r\n      <ColorText color=\"vaporize\">Vaporize(Hydro) {StatIcon.pyro}+{StatIcon.hydro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"cryo\" || infusionAura === \"cryo\") && <ToggleButton value={\"cryo_melt\"}  >\r\n      <ColorText color=\"melt\">Melt(Cryo) {StatIcon.pyro}+{StatIcon.cryo}</ColorText>\r\n    </ToggleButton >}\r\n  </SolidToggleButtonGroup>\r\n}\r\ntype HitModeToggleProps = Omit<ToggleButtonGroupProps, \"color\"> & {\r\n  character: ICachedCharacter\r\n}\r\nexport function HitModeToggle({ character: { hitMode = \"avgHit\", key: characterKey }, ...props }: HitModeToggleProps) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  return <SolidToggleButtonGroup exclusive baseColor=\"secondary\"\r\n    value={hitMode} onChange={(e, hitMode) => characterDispatch({ hitMode })} {...props} >\r\n    <ToggleButton value=\"avgHit\">Avg. DMG</ToggleButton>\r\n    <ToggleButton value=\"hit\">Non Crit DMG</ToggleButton>\r\n    <ToggleButton value=\"critHit\">Crit Hit DMG</ToggleButton>\r\n  </SolidToggleButtonGroup>\r\n}\r\n\r\n\r\nexport function DamageOptionsCard({ character }: { character: ICachedCharacter }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  //choose which one to display stats for\r\n  const build = newBuild ? newBuild : equippedBuild!\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        <Grid item><HitModeToggle character={character} size=\"small\" /></Grid>\r\n        <Grid item><InfusionAuraDropdown character={character} /></Grid>\r\n        <Grid item><ReactionToggle character={character} build={build} size=\"small\" /></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\n","import * as React from 'react';\n/**\n * @ignore - internal component.\n * @type {React.Context<{} | {expanded: boolean, disabled: boolean, toggle: () => void}>}\n */\n\nconst AccordionContext = /*#__PURE__*/React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  AccordionContext.displayName = 'AccordionContext';\n}\n\nexport default AccordionContext;","import { CardContent, Typography } from \"@mui/material\"\r\nimport React from \"react\"\r\nimport CardDark from \"../Components/Card/CardDark\"\r\nimport FieldDisplay, { FieldDisplayList } from \"../Components/FieldDisplay\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport statsToFields from \"../Util/FieldUtil\"\r\nexport default function WeaponStatsCard({ title, statsVals = {}, stats }: { title: Displayable, statsVals?: object, stats: ICalculatedStats }) {\r\n  if ((Object.keys(statsVals) as string[]).filter(s => s !== \"modifiers\").length === 0) return null\r\n  const fields = statsToFields(statsVals, stats)\r\n  return <CardDark >\r\n    <CardContent>\r\n      <Typography>{title}</Typography>\r\n    </CardContent>\r\n    <FieldDisplayList>\r\n      {fields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n    </FieldDisplayList>\r\n  </CardDark>\r\n}","import { Lock, LockOpen, SwapHoriz } from \"@mui/icons-material\"\r\nimport { Box, Button, ButtonGroup, CardContent, Divider, Grid, MenuItem, Typography } from \"@mui/material\"\r\nimport { useCallback, useContext, useState } from \"react\"\r\nimport Assets from \"../Assets/Assets\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport CharacterSheet from \"../Character/CharacterSheet\"\r\nimport CardDark from \"../Components/Card/CardDark\"\r\nimport CardLight from \"../Components/Card/CardLight\"\r\nimport CharacterDropdownButton from \"../Components/Character/CharacterDropdownButton\"\r\nimport CloseButton from \"../Components/CloseButton\"\r\nimport ColorText from \"../Components/ColoredText\"\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from \"../Components/CustomNumberInput\"\r\nimport DocumentDisplay from \"../Components/DocumentDisplay\"\r\nimport DropdownButton from \"../Components/DropdownMenu/DropdownButton\"\r\nimport ImgIcon from \"../Components/Image/ImgIcon\"\r\nimport ModalWrapper from \"../Components/ModalWrapper\"\r\nimport SqBadge from \"../Components/SqBadge\"\r\nimport { Stars } from \"../Components/StarDisplay\"\r\nimport WeaponSelectionModal from \"../Components/Weapon/WeaponSelectionModal\"\r\nimport { ambiguousLevel, ascensionMaxLevel, milestoneLevels } from \"../Data/LevelData\"\r\nimport { database as localDatabase, DatabaseContext } from \"../Database/Database\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport useWeapon from \"../ReactHooks/useWeapon\"\r\nimport { ICachedCharacter } from \"../Types/character\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { ICachedWeapon } from \"../Types/weapon\"\r\nimport { clamp } from \"../Util/Util\"\r\nimport WeaponCard from \"./WeaponCard\"\r\nimport WeaponSheet from \"./WeaponSheet\"\r\nimport WeaponStatsCard from \"./WeaponStatsCard\"\r\n\r\n\r\ntype WeaponStatsEditorCardProps = {\r\n  weaponId: string\r\n  charData?: {\r\n    character: ICachedCharacter,\r\n    characterSheet: CharacterSheet,\r\n    equippedBuild?: ICalculatedStats\r\n    newBuild?: ICalculatedStats\r\n    characterDispatch: (any) => void\r\n  }\r\n  footer?: boolean\r\n  onClose?: () => void\r\n}\r\nexport default function WeaponDisplayCard({\r\n  weaponId: propWeaponId,\r\n  charData,\r\n  footer = false,\r\n  onClose\r\n}: WeaponStatsEditorCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n\r\n  const buildContextObj = useContext(buildContext)\r\n  const weapon = useWeapon(propWeaponId)\r\n  const { key = \"\", level, refinement = 0, ascension = 0, lock, location = \"\", id } = weapon ?? {}\r\n  const weaponSheet = usePromise(WeaponSheet.get(key), [key])\r\n  const weaponTypeKey = weaponSheet?.weaponType\r\n\r\n  const weaponDispatch = useCallback((newWeapon: Partial<ICachedWeapon>) => {\r\n    database.updateWeapon(newWeapon, propWeaponId)\r\n  }, [propWeaponId, database])\r\n\r\n  const setLevel = useCallback(level => {\r\n    level = clamp(level, 1, 90)\r\n    const ascension = ascensionMaxLevel.findIndex(ascenML => level <= ascenML)\r\n    weaponDispatch({ level, ascension })\r\n  }, [weaponDispatch])\r\n\r\n  const setAscension = useCallback(() => {\r\n    const lowerAscension = ascensionMaxLevel.findIndex(ascenML => level !== 90 && level === ascenML)\r\n    if (ascension === lowerAscension) weaponDispatch({ ascension: ascension + 1 })\r\n    else weaponDispatch({ ascension: lowerAscension })\r\n  }, [weaponDispatch, ascension, level])\r\n\r\n  const build = { ...(charData ? (charData.newBuild ?? charData.equippedBuild) : { weapon: { refineIndex: refinement - 1, level, ascension } }) } as any\r\n\r\n  const characterSheet = usePromise(location ? CharacterSheet.get(location) : undefined, [location])\r\n  const weaponFilter = characterSheet ? (ws) => ws.weaponType === characterSheet.weaponTypeKey : undefined\r\n  const initialWeaponFilter = characterSheet && characterSheet.weaponTypeKey\r\n\r\n  const equipOnChar = useCallback((charKey: CharacterKey | \"\") => id && database.setWeaponLocation(id, charKey), [database, id])\r\n  const filter = useCallback(\r\n    (cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType,\r\n    [weaponSheet],\r\n  )\r\n  const [showModal, setshowModal] = useState(false)\r\n  const img = ascension < 2 ? weaponSheet?.img : weaponSheet?.imgAwaken\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Grid container spacing={1}>\r\n        <Grid item flexGrow={1}>\r\n          <Grid container spacing={1}>\r\n            <Grid item >\r\n              <WeaponSelectionModal show={showModal} onHide={() => setshowModal(false)} onSelect={k => weaponDispatch({ key: k })} filter={weaponFilter} weaponFilter={initialWeaponFilter} />\r\n              <ButtonGroup>\r\n                <Button onClick={() => setshowModal(true)} >{weaponSheet?.name ?? \"Select a Weapon\"}</Button>\r\n                <DropdownButton title={`Refinement ${refinement}`}>\r\n                  <MenuItem>Select Weapon Refinement</MenuItem>\r\n                  <Divider />\r\n                  {[...Array(5).keys()].map(key =>\r\n                    <MenuItem key={key} onClick={() => weaponDispatch({ refinement: key + 1 })} selected={refinement === (key + 1)} disabled={refinement === (key + 1)}>\r\n                      {`Refinement ${key + 1}`}\r\n                    </MenuItem>)}\r\n                </DropdownButton>\r\n              </ButtonGroup>\r\n            </Grid>\r\n            <Grid item >\r\n              <ButtonGroup sx={{ bgcolor: t => t.palette.contentLight.main }} >\r\n                <CustomNumberInputButtonGroupWrapper >\r\n                  <CustomNumberInput onChange={setLevel} value={level}\r\n                    startAdornment=\"Lvl. \"\r\n                    inputProps={{ min: 1, max: 90, sx: { textAlign: \"center\" } }}\r\n                    sx={{ width: \"100%\", height: \"100%\", pl: 2 }}\r\n                  />\r\n                </CustomNumberInputButtonGroupWrapper>\r\n                <Button sx={{ pl: 1 }} disabled={!ambiguousLevel(level)} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>\r\n                <DropdownButton title={\"Select Level\"} >\r\n                  {milestoneLevels.map(([lv, as]) => {\r\n                    const sameLevel = lv === ascensionMaxLevel[as]\r\n                    const lvlstr = sameLevel ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevel[as]}`\r\n                    const selected = lv === level && as === ascension\r\n                    return <MenuItem key={`${lv}/${as}`} selected={selected} disabled={selected} onClick={() => weaponDispatch({ level: lv, ascension: as })}>{lvlstr}</MenuItem>\r\n                  })}\r\n                </DropdownButton>\r\n              </ButtonGroup>\r\n            </Grid>\r\n            <Grid item>\r\n              <Button color=\"error\" onClick={() => id && database.updateWeapon({ lock: !lock }, id)} startIcon={lock ? <Lock /> : <LockOpen />}>\r\n                {lock ? \"Locked\" : \"Unlocked\"}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        {!!onClose && <Grid item  >\r\n          <CloseButton onClick={onClose} />\r\n        </Grid>}\r\n        {!!charData && database === localDatabase && <Grid item >\r\n          <SwapBtn weaponTypeKey={weaponTypeKey} onChangeId={id => database.setWeaponLocation(id, charData.character.key)} />\r\n        </Grid>}\r\n      </Grid>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent >\r\n      {(() => {\r\n        if (!weaponSheet) return null\r\n        const substatKey = weaponSheet.getSubStatKey()\r\n        const weaponDisplayMainVal = weaponSheet.getMainStatValue(level, ascension)\r\n        const weaponDisplaySubVal = weaponSheet.getSubStatValue(level, ascension)\r\n        const weaponPassiveName = weaponSheet.passiveName\r\n        const weaponBonusStats = weaponSheet.stats(build)\r\n        const sections = weaponSheet.document\r\n        return <Box display=\"flex\" gap={{ xs: 1, md: 1.5, lg: 2 }} >\r\n          <Box sx={{ maxWidth: 256 }} flexShrink={1} minWidth=\"25%\">\r\n            <Box component=\"img\" src={img} className={`grad-${weaponSheet.rarity}star`} sx={{ maxWidth: 256, width: \"100%\", height: \"auto\", borderRadius: 1 }} />\r\n            <Typography><small>{weaponSheet.description}</small></Typography>\r\n          </Box>\r\n          <Box sx={{ mb: -1 }} flexGrow={1} >\r\n            <Typography variant=\"h6\" >{process.env.NODE_ENV === \"development\" && <ColorText color=\"warning\">{id || `\"\"`} </ColorText>}{weaponSheet.name} Lv. {weapon && WeaponSheet.getLevelString(weapon)} {weaponPassiveName && <SqBadge color=\"info\">Refinement {refinement}</SqBadge>}</Typography>\r\n            <Typography><Stars stars={weaponSheet.rarity} /></Typography>\r\n            <Typography variant=\"subtitle1\">{weaponPassiveName}</Typography>\r\n            <Typography gutterBottom>{weaponPassiveName && weaponSheet.passiveDescription(build)}</Typography>\r\n            {build && <buildContext.Provider value={charData ? buildContextObj : { equippedBuild: build, newBuild: undefined, compareBuild: false, setCompareBuild: undefined }}>\r\n              <Box display=\"flex\" flexDirection=\"column\" gap={1}>\r\n                <WeaponStatsCard title={\"Main Stats\"} statsVals={{ atk: weaponDisplayMainVal, [substatKey]: substatKey ? weaponDisplaySubVal : undefined }} stats={build} />\r\n                <WeaponStatsCard title={\"Bonus Stats\"} statsVals={weaponBonusStats} stats={build} />\r\n              </Box>\r\n            </buildContext.Provider>}\r\n            {charData && sections ? (() => {\r\n              const { equippedBuild, newBuild } = charData\r\n              const characterKey = (newBuild ? newBuild : equippedBuild)?.characterKey as CharacterKey | undefined\r\n              return !!characterKey && < DocumentDisplay sections={sections} characterKey={characterKey} />\r\n            })() : null}\r\n          </Box>\r\n        </Box>\r\n      })()}\r\n    </CardContent>\r\n    {footer && id && <CardContent sx={{ py: 1 }}>\r\n      <Grid container>\r\n        <Grid item flexGrow={1}>\r\n          <CharacterDropdownButton noUnselect inventory value={location} onChange={equipOnChar} filter={filter} />\r\n        </Grid>\r\n        {!!onClose && <Grid item><CloseButton large onClick={onClose} /></Grid>}\r\n      </Grid>\r\n    </CardContent>}\r\n  </CardLight>\r\n}\r\nfunction SwapBtn({ onChangeId, weaponTypeKey }) {\r\n  const database = useContext(DatabaseContext)\r\n  const [show, setShow] = useState(false)\r\n  const open = () => setShow(true)\r\n  const close = () => setShow(false)\r\n\r\n  const clickHandler = (id) => {\r\n    onChangeId(id)\r\n    close()\r\n  }\r\n\r\n  const weaponSheets = usePromise(WeaponSheet.getAll(), [])\r\n\r\n  const weaponIdList = database.weapons.keys.filter(wKey => {\r\n    const dbWeapon = database._getWeapon(wKey)\r\n    if (!dbWeapon) return false\r\n    if (weaponTypeKey && weaponTypeKey !== weaponSheets?.[dbWeapon.key]?.weaponType) return false\r\n    return true\r\n  })\r\n\r\n\r\n  return <>\r\n    <Button color=\"info\" onClick={open} startIcon={<SwapHoriz />} >SWAP WEAPON</Button>\r\n    <ModalWrapper open={show} onClose={close} >\r\n      <CardDark>\r\n        <CardContent sx={{ py: 1 }}>\r\n          <Grid container>\r\n            <Grid item flexGrow={1}>\r\n              <Typography variant=\"h6\">{weaponTypeKey ? <ImgIcon src={Assets.weaponTypes[weaponTypeKey]} /> : null} Swap Weapon</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <CloseButton onClick={close} />\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardContent>\r\n          <Grid container spacing={1}>\r\n            {weaponIdList.map(weaponId =>\r\n              <Grid item key={weaponId} xs={6} sm={6} md={4} lg={3} >\r\n                <WeaponCard\r\n                  weaponId={weaponId}\r\n                  onClick={clickHandler}\r\n                />\r\n              </Grid>)}\r\n          </Grid>\r\n        </CardContent>\r\n      </CardDark>\r\n    </ModalWrapper>\r\n  </>\r\n}","import { ButtonProps, ToggleButton, ToggleButtonProps, styled } from \"@mui/material\";\r\n\r\ntype SolidColoredToggleButtonPartial = {\r\n  baseColor?: ButtonProps[\"color\"];\r\n  selectedColor?: ButtonProps[\"color\"];\r\n}\r\nexport type SolidColoredToggleButtonProps = SolidColoredToggleButtonPartial & ToggleButtonProps\r\n\r\n\r\nconst SolidColoredToggleButton = styled(ToggleButton, {\r\n  shouldForwardProp: (prop) => prop !== \"baseColor\" && prop !== \"selectedColor\"\r\n})<SolidColoredToggleButtonPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\r\n  '&': {\r\n    backgroundColor: theme.palette[baseColor].main,\r\n    color: theme.palette[baseColor].contrastText,\r\n  },\r\n  '&:hover': {\r\n    backgroundColor: theme.palette[baseColor].dark,\r\n  },\r\n  '&.Mui-selected': {\r\n    backgroundColor: theme.palette[selectedColor].main,\r\n    color: theme.palette[selectedColor].contrastText,\r\n  },\r\n  '&.Mui-selected:hover': {\r\n    backgroundColor: theme.palette[selectedColor].dark,\r\n  },\r\n  '&.Mui-disabled': {\r\n    backgroundColor: theme.palette[baseColor].dark,\r\n  },\r\n  '&.Mui-selected.Mui-disabled': {\r\n    backgroundColor: theme.palette[selectedColor].dark,\r\n  },\r\n}));\r\n\r\nexport default SolidColoredToggleButton","import { Box, ToggleButtonGroup } from \"@mui/material\";\r\nimport { useCallback } from \"react\";\r\nimport { allElements, ElementKey } from \"../../Types/consts\";\r\nimport SolidColoredToggleButton from \"../SolidColoredToggleButton\";\r\nimport { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\r\nimport { uncoloredEleIcons } from \"../StatIcon\";\r\ntype ElementToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\r\n  onChange: (value: ElementKey | \"\") => void\r\n  value: ElementKey | \"\"\r\n}\r\nexport default function ElementToggle({ value, onChange, ...props }: ElementToggleProps) {\r\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\r\n  return <ToggleButtonGroup exclusive onChange={cb} value={value || allElements} {...props}>\r\n    {allElements.map(ele => <SolidColoredToggleButton key={ele} value={ele} selectedColor={ele} >\r\n      <Box sx={{ fontSize: \"2em\", lineHeight: 1 }}>{uncoloredEleIcons[ele]}</Box>\r\n    </SolidColoredToggleButton>)}\r\n  </ToggleButtonGroup>\r\n}\r\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardHeaderUtilityClass(slot) {\n  return generateUtilityClass('MuiCardHeader', slot);\n}\nconst cardHeaderClasses = generateUtilityClasses('MuiCardHeader', ['root', 'avatar', 'action', 'content', 'title', 'subheader']);\nexport default cardHeaderClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"action\", \"avatar\", \"className\", \"component\", \"disableTypography\", \"subheader\", \"subheaderTypographyProps\", \"title\", \"titleTypographyProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport Typography from '../Typography';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardHeaderClasses, { getCardHeaderUtilityClass } from './cardHeaderClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    avatar: ['avatar'],\n    action: ['action'],\n    content: ['content'],\n    title: ['title'],\n    subheader: ['subheader']\n  };\n  return composeClasses(slots, getCardHeaderUtilityClass, classes);\n};\n\nconst CardHeaderRoot = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Root',\n  overridesResolver: (props, styles) => _extends({\n    [`& .${cardHeaderClasses.title}`]: styles.title,\n    [`& .${cardHeaderClasses.subheader}`]: styles.subheader\n  }, styles.root)\n})({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 16\n});\nconst CardHeaderAvatar = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Avatar',\n  overridesResolver: (props, styles) => styles.avatar\n})({\n  display: 'flex',\n  flex: '0 0 auto',\n  marginRight: 16\n});\nconst CardHeaderAction = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  flex: '0 0 auto',\n  alignSelf: 'flex-start',\n  marginTop: -4,\n  marginRight: -8,\n  marginBottom: -4\n});\nconst CardHeaderContent = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Content',\n  overridesResolver: (props, styles) => styles.content\n})({\n  flex: '1 1 auto'\n});\nconst CardHeader = /*#__PURE__*/React.forwardRef(function CardHeader(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardHeader'\n  });\n\n  const {\n    action,\n    avatar,\n    className,\n    component = 'div',\n    disableTypography = false,\n    subheader: subheaderProp,\n    subheaderTypographyProps,\n    title: titleProp,\n    titleTypographyProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    component,\n    disableTypography\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  let title = titleProp;\n\n  if (title != null && title.type !== Typography && !disableTypography) {\n    title = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: avatar ? 'body2' : 'h5',\n      className: classes.title,\n      component: \"span\",\n      display: \"block\"\n    }, titleTypographyProps, {\n      children: title\n    }));\n  }\n\n  let subheader = subheaderProp;\n\n  if (subheader != null && subheader.type !== Typography && !disableTypography) {\n    subheader = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: avatar ? 'body2' : 'body1',\n      className: classes.subheader,\n      color: \"text.secondary\",\n      component: \"span\",\n      display: \"block\"\n    }, subheaderTypographyProps, {\n      children: subheader\n    }));\n  }\n\n  return /*#__PURE__*/_jsxs(CardHeaderRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [avatar && /*#__PURE__*/_jsx(CardHeaderAvatar, {\n      className: classes.avatar,\n      ownerState: ownerState,\n      children: avatar\n    }), /*#__PURE__*/_jsxs(CardHeaderContent, {\n      className: classes.content,\n      ownerState: ownerState,\n      children: [title, subheader]\n    }), action && /*#__PURE__*/_jsx(CardHeaderAction, {\n      className: classes.action,\n      ownerState: ownerState,\n      children: action\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardHeader.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display in the card header.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, `subheader` and `title` won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `title` text, and optional `subheader` text\n   * with the Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  subheader: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the subheader\n   * (as long as disableTypography is not `true`).\n   */\n  subheaderTypographyProps: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The content of the component.\n   */\n  title: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the title\n   * (as long as disableTypography is not `true`).\n   */\n  titleTypographyProps: PropTypes.object\n} : void 0;\nexport default CardHeader;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport default function useControlled({\n  controlled,\n  default: defaultProp,\n  name,\n  state = 'value'\n}) {\n  // isControlled is ignored in the hook dependency lists as it should never change.\n  const {\n    current: isControlled\n  } = React.useRef(controlled !== undefined);\n  const [valueState, setValue] = React.useState(defaultProp);\n  const value = isControlled ? controlled : valueState;\n\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(() => {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([`MUI: A component is changing the ${isControlled ? '' : 'un'}controlled ${state} state of ${name} to be ${isControlled ? 'un' : ''}controlled.`, 'Elements should not switch from uncontrolled to controlled (or vice versa).', `Decide between using a controlled or uncontrolled ${name} ` + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [state, name, controlled]);\n    const {\n      current: defaultValue\n    } = React.useRef(defaultProp);\n    React.useEffect(() => {\n      if (!isControlled && defaultValue !== defaultProp) {\n        console.error([`MUI: A component is changing the default ${state} state of an uncontrolled ${name} after being initialized. ` + `To suppress this warning opt to use a controlled ${name}.`].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n\n  const setValueIfUncontrolled = React.useCallback(newValue => {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","import createStyled from './createStyled';\nconst styled = createStyled();\nexport default styled;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z\"\n}), 'BusinessCenter');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"\n}), 'Replay');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import { ExpandMore } from \"@mui/icons-material\"\r\nimport { Accordion, AccordionDetails, AccordionSummary, Box, CardContent, CardHeader, Collapse, Divider, Grid, Skeleton, Typography } from \"@mui/material\"\r\nimport { Suspense, useCallback, useContext, useMemo, useState } from \"react\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport Character from \"../Character/Character\"\r\nimport { getFormulaTargetsDisplayHeading } from \"../Character/CharacterUtil\"\r\nimport Formula from \"../Formula\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport { Sheets } from \"../ReactHooks/useSheets\"\r\nimport Stat, { FormulaDisplay } from \"../Stat\"\r\nimport { GetDependencies } from \"../StatDependency\"\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport CardLight from \"./Card/CardLight\"\r\nimport ColorText from \"./ColoredText\"\r\nimport ExpandButton from \"./ExpandButton\"\r\nimport ImgIcon from \"./Image/ImgIcon\"\r\n\r\nexport default function FormulaCalcCard({ sheets }: { sheets: Sheets }) {\r\n  const [expanded, setexpanded] = useState(false)\r\n  const toggle = useCallback(() => setexpanded(!expanded), [setexpanded, expanded])\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Grid container>\r\n        <Grid item flexGrow={1}>\r\n          <Typography>Formulas {\"&\"} Calculations</Typography>\r\n          <Typography variant=\"caption\" color=\"text.secondary\">Expand to see every formula and all their calculations.</Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <ExpandButton\r\n            expand={expanded}\r\n            onClick={toggle}\r\n            aria-expanded={expanded}\r\n            aria-label=\"show more\"\r\n          >\r\n            <ExpandMore />\r\n          </ExpandButton>\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <CardContent sx={{ pt: 0 }}>\r\n        <CalculationDisplay sheets={sheets} />\r\n      </CardContent>\r\n    </Collapse>\r\n  </CardLight>\r\n}\r\n\r\nfunction CalculationDisplay({ sheets }: { sheets: Sheets }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  //choose which one to display stats for\r\n  const build = (newBuild ? newBuild : equippedBuild)!\r\n  const displayStatKeys = useMemo(() => Character.getDisplayStatKeys(build, sheets), [build, sheets])\r\n  if (!build || !displayStatKeys) return null\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={1000} />} >\r\n    {Object.entries(displayStatKeys).map(([sectionKey, fields]: [string, any]) => {\r\n      const header = getFormulaTargetsDisplayHeading(sectionKey, sheets, build)\r\n      return <CardDark key={sectionKey} sx={{ mb: 1 }}>\r\n        <CardHeader avatar={header.icon && <ImgIcon size={2} sx={{ m: -1 }} src={header.icon} />} title={header.title} titleTypographyProps={{ variant: \"subtitle1\" }} />\r\n        <Divider />\r\n        <CardContent>\r\n          {fields.map((field, fieldIndex) => {\r\n            if (Array.isArray(field))\r\n              return <FormulaCalculationField key={fieldIndex} fieldKeys={field} build={build} />\r\n            else if (typeof field === \"string\") {//simple statKey field\r\n              const subFormulaKeys: any[] = Stat.getPrintableFormulaStatKeyList(GetDependencies(build, build?.modifiers, [field]), build?.modifiers).reverse()\r\n              return Boolean(subFormulaKeys.length) && <Accordion sx={{ bgcolor: \"contentLight.main\" }} key={fieldIndex}>\r\n                <AccordionSummary expandIcon={<ExpandMore />}>\r\n                  <Typography>{Stat.printStat(field, build)}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  {subFormulaKeys.map(subKey =>\r\n                    <Typography key={subKey}>{Stat.printStat(subKey, build)} = <small><FormulaDisplay statKey={subKey} stats={build} modifiers={build.modifiers} expand={false} /></small></Typography>\r\n                  )}\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            }\r\n            return null\r\n          })}\r\n        </CardContent>\r\n      </CardDark>\r\n    })}\r\n  </Suspense>\r\n}\r\n\r\nfunction FormulaCalculationField({ fieldKeys, build }: { fieldKeys: string[], build: ICalculatedStats }) {\r\n  const formula = usePromise(Formula.get(fieldKeys), [fieldKeys])\r\n  if (!formula) return null\r\n  const formulaField = (formula as any).field as IFieldDisplay\r\n  const fieldText = Character.getTalentFieldValue(formulaField, \"text\", build)\r\n  const fieldVariant = Character.getTalentFieldValue(formulaField, \"variant\", build)\r\n  const fieldFormulaText = Character.getTalentFieldValue(formulaField, \"formulaText\", build)\r\n  const fieldFixed = Character.getTalentFieldValue(formulaField, \"fixed\", build) ?? 0\r\n  const fieldUnit = Character.getTalentFieldValue(formulaField, \"unit\", build) ?? \"\"\r\n  const [fieldFormula, fieldFormulaDependency] = Character.getTalentFieldValue(formulaField, \"formula\", build, [] as any)\r\n  if (!fieldFormula || !fieldFormulaDependency) return null\r\n  const fieldValue = fieldFormula?.(build)?.toFixed?.(fieldFixed)\r\n  const subFormulaKeys = Stat.getPrintableFormulaStatKeyList(GetDependencies(build, build?.modifiers, fieldFormulaDependency), build?.modifiers).reverse()\r\n  return <Accordion sx={{ bgcolor: \"contentLight.main\" }}>\r\n    <AccordionSummary expandIcon={<ExpandMore />}>\r\n      <Typography><Box color={`${fieldVariant}.main`} component=\"strong\">{fieldText}</Box> <ColorText color=\"info\">{fieldValue}{fieldUnit}</ColorText></Typography>\r\n    </AccordionSummary>\r\n    <AccordionDetails>\r\n      <Typography><Box color={`${fieldVariant}.main`} component=\"strong\">{fieldText}</Box> <ColorText color=\"info\">{fieldValue}</ColorText> = <small>{fieldFormulaText}</small></Typography>\r\n      {subFormulaKeys.map(subKey =>\r\n        <Typography key={subKey}>{Stat.printStat(subKey, build)} = <small><FormulaDisplay statKey={subKey} stats={build} modifiers={build.modifiers} expand={false} /></small></Typography>\r\n      )}\r\n    </AccordionDetails>\r\n  </Accordion>\r\n}","import { Button, Card, CardContent, Divider, Grid, ToggleButton, Typography } from '@mui/material';\r\nimport { useCallback, useContext, useEffect, useMemo } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport ArtifactCard from '../../Artifact/ArtifactCard';\r\nimport { ArtifactSheet } from '../../Artifact/ArtifactSheet';\r\nimport SetEffectDisplay from '../../Artifact/Component/SetEffectDisplay';\r\nimport { buildContext } from '../../Build/Build';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport SolidToggleButtonGroup from '../../Components/SolidToggleButtonGroup';\r\nimport { database as localDatabase, DatabaseContext } from '../../Database/Database';\r\nimport useForceUpdate from '../../ReactHooks/useForceUpdate';\r\nimport usePromise from '../../ReactHooks/usePromise';\r\nimport { Sheets } from '../../ReactHooks/useSheets';\r\nimport { ICachedCharacter } from '../../Types/character';\r\nimport { allSlotKeys } from '../../Types/consts';\r\nimport { objectFromKeyMap } from '../../Util/Util';\r\nimport Character from \"../Character\";\r\nimport StatDisplayComponent from './StatDisplayComponent';\r\n\r\ntype CharacterArtifactPaneProps = {\r\n  sheets: Sheets\r\n  character: ICachedCharacter,\r\n}\r\nfunction CharacterArtifactPane({ sheets, character, character: { key: characterKey } }: CharacterArtifactPaneProps) {\r\n  const { newBuild, equippedBuild, compareBuild, setCompareBuild } = useContext(buildContext)\r\n  const database = useContext(DatabaseContext)\r\n  const history = useHistory()\r\n  //choose which one to display stats for\r\n  const stats = (newBuild ? newBuild : equippedBuild)\r\n  const mainStatAssumptionLevel = stats?.mainStatAssumptionLevel ?? 0\r\n  const statKeys = useMemo(() => stats && sheets && Character.getDisplayStatKeys(stats, sheets), [stats, sheets])\r\n  const edit = useCallback(\r\n    artid => history.push({\r\n      pathname: \"/artifact\",\r\n      artToEditId: artid\r\n    } as any), [history])\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n\r\n  // TODO: We can also listen only to equipped artifacts\r\n  const [, updateArt] = useForceUpdate()\r\n  useEffect(() => database.followAnyArt(updateArt))\r\n\r\n  const equipArts = useCallback(() => {\r\n    if (!window.confirm(\"Do you want to equip this artifact build to this character?\")) return\r\n    if (!newBuild) return\r\n    newBuild.equippedArtifacts && database.equipArtifacts(characterKey, newBuild.equippedArtifacts)\r\n  }, [characterKey, newBuild, database])\r\n\r\n  const unequipArts = useCallback(() => {\r\n    if (!window.confirm(\"Do you want to move all the artifacts equipped to inventory?\")) return\r\n    database.equipArtifacts(characterKey, objectFromKeyMap(allSlotKeys, () => \"\"))\r\n  }, [characterKey, database])\r\n  if (!stats) return null\r\n  return <>\r\n    <CardLight sx={{ mb: 1 }}>\r\n      <CardContent>\r\n        <StatDisplayComponent {...{ sheets, character, equippedBuild: (newBuild && !compareBuild) ? undefined : equippedBuild, newBuild, statsDisplayKeys: statKeys }} />\r\n      </CardContent>\r\n      <Divider />\r\n      <CardContent sx={{ py: 1 }}>\r\n        <Grid container spacing={1}>\r\n          <Grid item>\r\n            {newBuild ? <Button onClick={equipArts} className=\"mr-2\">Equip artifacts</Button> : (database === localDatabase && <Button color=\"error\" onClick={unequipArts}>Unequip all artifacts</Button>)}\r\n          </Grid>\r\n          <Grid item>\r\n            {/* Compare against new build toggle */}\r\n            {!!newBuild && <SolidToggleButtonGroup exclusive value={compareBuild} onChange={(e, v) => setCompareBuild?.(v)} size=\"small\">\r\n              <ToggleButton value={false} disabled={!compareBuild}>\r\n                <small>Show New artifact Stats</small>\r\n              </ToggleButton>\r\n              <ToggleButton value={true} disabled={compareBuild}>\r\n                <small>Compare against equipped artifacts</small>\r\n              </ToggleButton>\r\n            </SolidToggleButtonGroup>}\r\n          </Grid>\r\n          <Grid item flexGrow={1}></Grid>\r\n          <Grid item>{!!mainStatAssumptionLevel && <Card sx={{ p: 1, bgcolor: t => t.palette.warning.dark }}><Typography><strong>Assume Main Stats are Level {mainStatAssumptionLevel}</strong></Typography></Card>}</Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </CardLight>\r\n    <Grid container spacing={1}>\r\n      <Grid item xs={12} sm={6} md={4} >\r\n        <CardLight sx={{ height: \"100%\" }} ><CardContent sx={{ height: \"100%\" }}><Grid container spacing={1} flexDirection=\"column\" height=\"100%\" >\r\n          {artifactSheets && Object.entries(ArtifactSheet.setEffects(artifactSheets, stats.setToSlots)).map(([setKey, setNumKeyArr]) =>\r\n            <Grid item key={setKey} display=\"flex\" flexDirection=\"column\" gap={1}>\r\n              <Typography variant=\"subtitle1\">{artifactSheets?.[setKey].name ?? \"\"}</Typography>\r\n              {setNumKeyArr.map(setNumKey => <SetEffectDisplay key={setKey + setNumKey} {...{ setKey, setNumKey, equippedBuild, newBuild }} />)}\r\n            </Grid>\r\n          )}\r\n        </Grid></CardContent></CardLight>\r\n      </Grid>\r\n      {allSlotKeys.map(slotKey =>\r\n        !!stats?.equippedArtifacts?.[slotKey] && <Grid item xs={6} md={4} key={stats?.equippedArtifacts?.[slotKey]} >\r\n          <ArtifactCard artifactId={stats?.equippedArtifacts?.[slotKey]} mainStatAssumptionLevel={mainStatAssumptionLevel} onEdit={() => edit(stats?.equippedArtifacts?.[slotKey])} />\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  </>\r\n}\r\nexport default CharacterArtifactPane\r\n","import { faEdit, faSave } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Badge, Box, Button, CardContent, CardMedia, Divider, Grid, Typography } from \"@mui/material\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport { buildContext } from \"../../Build/Build\";\r\nimport CardLight from \"../../Components/Card/CardLight\";\r\nimport ImgIcon from \"../../Components/Image/ImgIcon\";\r\nimport { Stars } from \"../../Components/StarDisplay\";\r\nimport StatDisplay from \"../../Components/StatDisplay\";\r\nimport StatIcon from \"../../Components/StatIcon\";\r\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\r\nimport Stat from \"../../Stat\";\r\nimport { ICachedCharacter, TalentSheetElementKey } from \"../../Types/character\";\r\nimport { allElementsWithPhy } from \"../../Types/consts\";\r\nimport { ICalculatedStats } from \"../../Types/stats\";\r\nimport { characterStatKeys } from \"../../Util/StatUtil\";\r\nimport WeaponDisplayCard from \"../../Weapon/WeaponDisplayCard\";\r\nimport Character from \"../Character\";\r\nimport CharacterSheet from \"../CharacterSheet\";\r\nimport StatInput from \"../StatInput\";\r\ntype CharacterOverviewPaneProps = {\r\n  characterSheet: CharacterSheet;\r\n  character: ICachedCharacter\r\n}\r\nexport default function CharacterOverviewPane({ characterSheet, character, character: { constellation, key: characterKey } }: CharacterOverviewPaneProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  if (!build) return null\r\n  const { tlvl } = build\r\n  const elementKey = build.characterEle\r\n  const weaponTypeKey = characterSheet.weaponTypeKey\r\n  return <Grid container spacing={1}>\r\n    <Grid item xs={12} md={3}  >\r\n      {/* Image card with star and name and level */}\r\n      <CardLight >\r\n        <CardMedia src={characterSheet.cardImg} component=\"img\" width=\"100%\" height=\"auto\" />\r\n        <CardContent>\r\n          <Typography variant=\"h4\" >{characterSheet.name} <ImgIcon src={Assets.weaponTypes?.[weaponTypeKey]} /> {StatIcon[elementKey]} </Typography>\r\n          <Typography variant=\"h6\"><Stars stars={characterSheet.rarity} colored /></Typography>\r\n          <Typography variant=\"h5\">Lvl. {Character.getLevelString(character)}</Typography>\r\n          <Grid container spacing={1} mt={1}>\r\n            {([\"auto\", \"skill\", \"burst\"] as TalentSheetElementKey[]).map(tKey =>\r\n              <Grid item xs={4} key={tKey}>\r\n                <Badge badgeContent={tlvl[tKey] + 1} color={((tKey === \"skill\" && build.skillBoost) || (tKey === \"burst\" && build.burstBoost)) ? \"info\" : \"secondary\"}\r\n                  overlap=\"circular\"\r\n                  anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  sx={{\r\n                    \"& > .MuiBadge-badge\": {\r\n                      fontSize: \"1.25em\",\r\n                      padding: \".25em .4em\",\r\n                      borderRadius: \".5em\",\r\n                      lineHeight: 1,\r\n                      height: \"1.25em\"\r\n                    }\r\n                  }}>\r\n                  <Box component=\"img\" src={characterSheet.getTalentOfKey(tKey, build.characterEle)?.img} width=\"100%\" height=\"auto\" />\r\n                </Badge>\r\n              </Grid>)}\r\n          </Grid>\r\n          <Typography sx={{ textAlign: \"center\", mt: 1 }} variant=\"h6\">{characterSheet.constellationName}</Typography>\r\n          <Grid container spacing={1}>\r\n            {[...Array(6).keys()].map(i =>\r\n              <Grid item xs={4} key={i}>\r\n                <Box component=\"img\" src={characterSheet.getTalentOfKey(`constellation${i + 1}` as TalentSheetElementKey, build.characterEle)?.img}\r\n                  sx={{\r\n                    cursor: \"pointer\",\r\n                    ...(constellation > i ? {} : { filter: \"brightness(50%)\" })\r\n                  }}\r\n                  width=\"100%\" height=\"auto\"\r\n                  onClick={() => characterDispatch({ constellation: (i + 1) === constellation ? i : i + 1 })} />\r\n              </Grid>)}\r\n          </Grid>\r\n        </CardContent>\r\n      </CardLight>\r\n    </Grid>\r\n    <Grid item xs={12} md={9} sx={{\r\n      \"> div:not(:last-child)\": { mb: 1 }\r\n    }} >\r\n      <WeaponDisplayCard {...{ charData: { character, characterSheet, equippedBuild, newBuild, characterDispatch }, weaponId: character.equippedWeapon }} />\r\n      <MainStatsCards {...{ characterSheet, character, equippedBuild, newBuild }} />\r\n    </Grid>\r\n  </Grid >\r\n}\r\nconst EDIT = \"Edit Stats\"\r\nconst EXIT = \"EXIT\"\r\n\r\nconst additionalKeys = [\"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\", \"heal_\"]\r\nconst displayStatKeys = [\"characterATK\", \"finalATK\", \"finalHP\", \"finalDEF\"]\r\ndisplayStatKeys.push(...additionalKeys)\r\nconst editStatKeys = [\"hp\", \"hp_\", \"def\", \"def_\", \"atk\", \"atk_\"]\r\neditStatKeys.push(...additionalKeys)\r\nconst otherStatKeys: any[] = [];\r\n\r\nallElementsWithPhy.forEach(ele => {\r\n  otherStatKeys.push(`${ele}_dmg_`)\r\n  otherStatKeys.push(`${ele}_res_`)\r\n})\r\notherStatKeys.push(\"stamina\", \"incHeal_\", \"shield_\", \"cdRed_\")\r\n\r\nconst miscStatkeys = [\r\n  \"normal_dmg_\", \"normal_critRate_\",\r\n  \"charged_dmg_\", \"charged_critRate_\",\r\n  \"plunging_dmg_\", \"plunging_critRate_\",\r\n  \"skill_dmg_\", \"skill_critRate_\",\r\n  \"burst_dmg_\", \"burst_critRate_\",\r\n  \"dmg_\", \"electrocharged_dmg_\",\r\n  \"vaporize_dmg_\", \"swirl_dmg_\",\r\n  \"moveSPD_\", \"atkSPD_\",\r\n  \"weakspotDMG_\",\r\n]\r\n\r\nconst resetString = {\r\n  \"characterATK\": \"Override Base ATK\",\r\n  \"characterHP\": \"Override Base HP\",\r\n  \"characterDEF\": \"Override Base DEF\"\r\n}\r\ntype MainStatsCardsProps = {\r\n  characterSheet: CharacterSheet,\r\n  character: ICachedCharacter,\r\n  equippedBuild?: ICalculatedStats,\r\n  newBuild?: ICalculatedStats\r\n}\r\nconst statBreakpoint = {\r\n  xs: 12, sm: 6, md: 6, lg: 4,\r\n} as const\r\n\r\n\r\nfunction MainStatsCards({ characterSheet, character, character: { key: characterKey, level, ascension }, equippedBuild, newBuild }: MainStatsCardsProps) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n\r\n  const specializedStatKey = characterSheet.getSpecializedStat(character.ascension)\r\n  const specializedStatVal = characterSheet.getSpecializedStatVal(character.ascension)\r\n  const specializedStatUnit = Stat.getStatUnit(specializedStatKey)\r\n\r\n  const displayNewBuildProps = { character, equippedBuild, newBuild }\r\n\r\n  return <>\r\n    <TeamBuffDisplay character={character} />\r\n    <StatDisplayCard\r\n      title=\"Main Stats\"\r\n      content={<Grid container columnSpacing={{ xs: 2, lg: 3 }} rowSpacing={1}>\r\n        {displayStatKeys.map(statKey => <Grid item key={statKey} {...statBreakpoint} >\r\n          <StatDisplay statKey={statKey} {...displayNewBuildProps} />\r\n        </Grid>)}\r\n        <Grid item {...statBreakpoint} display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\r\n          <span><b>Specialized:</b> <span>{specializedStatKey && StatIcon[specializedStatKey]} {Stat.getStatName(specializedStatKey)}</span></span>\r\n          <span >{`${specializedStatVal.toFixed(Stat.fixedUnit(specializedStatKey))}${specializedStatUnit}`}</span>\r\n        </Grid>\r\n      </Grid>}\r\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {characterStatKeys.map(statKey => {\r\n          const defVal = Math.round(characterSheet.getBase(statKey, level, ascension))\r\n          return <Grid item xs={12} lg={6} key={statKey}>\r\n            <StatInput\r\n              name={<span>{StatIcon[statKey]} {resetString[statKey]}</span>}\r\n              placeholder={Stat.getStatNameRaw(statKey)}\r\n              value={character.bonusStats[statKey] ?? defVal}\r\n              defaultValue={defVal}\r\n              percent={Stat.getStatUnit(statKey) === \"%\"}\r\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n              onReset={() => characterDispatch({ type: \"resetStats\", statKey })}\r\n            />\r\n          </Grid>\r\n        })}\r\n        {editStatKeys.map(statKey =>\r\n          <Grid item xs={12} lg={6} key={statKey}>\r\n            <StatInput\r\n              name={<span>{StatIcon[statKey]} {Stat.getStatNameWithPercent(statKey)}</span>}\r\n              placeholder={Stat.getStatNameRaw(statKey)}\r\n              value={character.bonusStats[statKey] ?? 0}\r\n              percent={Stat.getStatUnit(statKey) === \"%\"}\r\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n            />\r\n          </Grid>)}\r\n      </Grid>}\r\n    />\r\n    <StatDisplayCard\r\n      title=\"Other Stats\"\r\n      content={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {otherStatKeys.map(statKey => <Grid item {...statBreakpoint} key={statKey} ><StatDisplay statKey={statKey} {...displayNewBuildProps} /></Grid>)}\r\n      </Grid>}\r\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {otherStatKeys.map(statKey =>\r\n          <Grid item xs={12} lg={6} key={statKey}>\r\n            <StatInput\r\n              name={<span>{StatIcon[statKey]} {Stat.getStatName(statKey)}</span>}\r\n              placeholder={Stat.getStatNameRaw(statKey)}\r\n              value={character.bonusStats[statKey] ?? (statKey === \"stamina\" ? 100 : 0)}\r\n              percent={Stat.getStatUnit(statKey) === \"%\"}\r\n              defaultValue={statKey === \"stamina\" ? 100 : undefined}\r\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n            />\r\n          </Grid>)}\r\n      </Grid>}\r\n    />\r\n    <StatDisplayCard\r\n      title=\"Misc Stats\"\r\n      content={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {miscStatkeys.map(statKey => <Grid item {...statBreakpoint} key={statKey} ><StatDisplay statKey={statKey} {...displayNewBuildProps} /></Grid>)}\r\n      </Grid>}\r\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {miscStatkeys.map(statKey =>\r\n          <Grid item xs={12} lg={6} key={statKey}>\r\n            <StatInput\r\n              name={<span>{StatIcon[statKey]} {Stat.getStatName(statKey)}</span>}\r\n              placeholder={Stat.getStatNameRaw(statKey)}\r\n              value={character.bonusStats[statKey] ?? 0}\r\n              percent={Stat.getStatUnit(statKey) === \"%\"}\r\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n            />\r\n          </Grid>)}\r\n      </Grid>}\r\n    />\r\n  </>\r\n}\r\nfunction StatDisplayCard({ title, content, editContent }) {\r\n  const [edit, setedit] = useState(false)\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Box display=\"flex\" justifyContent=\"space-between\">\r\n        <Typography variant=\"subtitle1\">{title}</Typography>\r\n        <Button size=\"small\" color={edit ? \"error\" : \"info\"} onClick={() => setedit(!edit)} >\r\n          <span><FontAwesomeIcon icon={edit ? faSave : faEdit} /> {edit ? EXIT : EDIT}</span>\r\n        </Button>\r\n      </Box>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      {edit ? editContent : content}\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\nfunction TeamBuffDisplay({ character }: { character: ICachedCharacter }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  if (!Object.keys(build.partyBuff).length) return null\r\n  return <CardLight>\r\n    <CardContent>\r\n      Team Buffs\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container columnSpacing={2} rowSpacing={1}>\r\n        {Object.entries(build.partyBuff).map(([statKey, value]) => <Grid item {...statBreakpoint} key={statKey} >\r\n          <StatDisplay character={character} newBuild={newBuild} equippedBuild={equippedBuild} statKey={statKey} partyBuff />\r\n        </Grid>)}\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Box, CardActionArea, CardContent, Divider, Grid, MenuItem, Typography } from \"@mui/material\";\r\nimport React, { useCallback, useContext, useState } from 'react';\r\nimport { buildContext } from \"../../Build/Build\";\r\nimport BootstrapTooltip from \"../../Components/BootstrapTooltip\";\r\nimport CardDark from \"../../Components/Card/CardDark\";\r\nimport CardLight from \"../../Components/Card/CardLight\";\r\nimport ColorText from \"../../Components/ColoredText\";\r\nimport ConditionalWrapper from \"../../Components/ConditionalWrapper\";\r\nimport DocumentDisplay from \"../../Components/DocumentDisplay\";\r\nimport DropdownButton from \"../../Components/DropdownMenu/DropdownButton\";\r\nimport StatIcon from \"../../Components/StatIcon\";\r\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\r\nimport Stat from \"../../Stat\";\r\nimport { ElementToReactionKeys } from \"../../StatData\";\r\nimport { ICachedCharacter, TalentSheetElementKey } from \"../../Types/character\";\r\nimport CharacterSheet from \"../CharacterSheet\";\r\ntype CharacterTalentPaneProps = {\r\n  characterSheet: CharacterSheet,\r\n  character: ICachedCharacter,\r\n}\r\nexport default function CharacterTalentPane({ characterSheet, character, character: { ascension, constellation, key: characterKey } }: CharacterTalentPaneProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const skillBurstList = [[\"auto\", \"Normal/Charged Attack\"], [\"skill\", \"Elemental Skill\"], [\"burst\", \"Elemental Burst\"]] as [TalentSheetElementKey, string][]\r\n  const passivesList: [tKey: TalentSheetElementKey, tText: string, asc: number][] = [[\"passive1\", \"Unlocked at Ascension 1\", 1], [\"passive2\", \"Unlocked at Ascension 4\", 4], [\"passive3\", \"Unlocked by Default\", 0]]\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  return <>\r\n    <ReactionDisplay characterSheet={characterSheet} />\r\n    <Grid container spacing={1} sx={{ mb: 1 }}>\r\n      {/* auto, skill, burst */}\r\n      {skillBurstList.map(([tKey, tText]) =>\r\n        <Grid item key={tKey} xs={12} md={6} lg={4} >\r\n          <SkillDisplayCard\r\n            characterSheet={characterSheet}\r\n            character={character}\r\n            characterDispatch={characterDispatch}\r\n            talentKey={tKey}\r\n            subtitle={tText}\r\n          />\r\n        </Grid>)}\r\n      {!!characterSheet.getTalentOfKey(\"sprint\", build?.characterEle) && <Grid item xs={12} md={6} lg={4} >\r\n        <SkillDisplayCard\r\n          characterSheet={characterSheet}\r\n          character={character}\r\n          characterDispatch={characterDispatch}\r\n          talentKey=\"sprint\"\r\n          subtitle=\"Alternative Sprint\"\r\n        />\r\n      </Grid>}\r\n      {!!characterSheet.getTalentOfKey(\"passive\", build?.characterEle) && <Grid item xs={12} md={6} lg={4} >\r\n        <SkillDisplayCard\r\n          characterSheet={characterSheet}\r\n          character={character}\r\n          characterDispatch={characterDispatch}\r\n          talentKey=\"passive\"\r\n          subtitle=\"Passive\"\r\n        />\r\n      </Grid>}\r\n    </Grid>\r\n    <Grid container spacing={1}>\r\n      {/* passives */}\r\n      {passivesList.map(([tKey, tText, asc]) => {\r\n        let enabled = ascension >= asc\r\n        if (!characterSheet.getTalentOfKey(tKey, build?.characterEle)) return null\r\n        return <Grid item key={tKey} style={{ opacity: enabled ? 1 : 0.5 }} xs={12} md={4} >\r\n          <SkillDisplayCard\r\n            characterSheet={characterSheet}\r\n            character={character}\r\n            characterDispatch={characterDispatch}\r\n            talentKey={tKey}\r\n            subtitle={tText}\r\n          />\r\n        </Grid>\r\n      })}\r\n    </Grid>\r\n    <Typography variant=\"h6\" sx={{ textAlign: \"center\" }}>Constellation Lv. {constellation}</Typography>\r\n    <Grid container spacing={1}>\r\n      {/* constellations */}\r\n      {[...Array(6).keys()].map(i => {\r\n        let tKey = `constellation${i + 1}` as TalentSheetElementKey\r\n        return <Grid item key={i} xs={12} md={4}\r\n          sx={{ opacity: constellation > i ? 1 : 0.5 }}>\r\n          <SkillDisplayCard\r\n            characterSheet={characterSheet}\r\n            character={character}\r\n            characterDispatch={characterDispatch}\r\n            talentKey={tKey}\r\n            subtitle={`Contellation Lv. ${i + 1}`}\r\n            onClickTitle={() => characterDispatch({ constellation: (i + 1) === constellation ? i : i + 1 })}\r\n          />\r\n        </Grid>\r\n      })}\r\n    </Grid>\r\n  </>\r\n}\r\nconst ReactionComponents = {\r\n  superconduct_hit: SuperConductCard,\r\n  electrocharged_hit: ElectroChargedCard,\r\n  overloaded_hit: OverloadedCard,\r\n  pyro_swirl_hit: SwirlCard,\r\n  cryo_swirl_hit: SwirlCard,\r\n  electro_swirl_hit: SwirlCard,\r\n  hydro_swirl_hit: SwirlCard,\r\n  shattered_hit: ShatteredCard,\r\n  crystalize_hit: CrystalizeCard,\r\n}\r\nfunction ReactionDisplay({ characterSheet }: { characterSheet: CharacterSheet }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  if (!build) return null\r\n  const charEleKey = build.characterEle\r\n  const eleInterArr = [...(ElementToReactionKeys[charEleKey] || [])]\r\n  if (!eleInterArr.includes(\"shattered_hit\") && characterSheet.weaponTypeKey === \"claymore\") eleInterArr.push(\"shattered_hit\")\r\n  return <CardLight sx={{ mb: 1 }}>\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        {eleInterArr.map(key => {\r\n          const Ele = ReactionComponents[key]\r\n          if (!Ele) return null\r\n          return <Grid item key={key}><Ele stats={build} /></Grid>\r\n        })}\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\nfunction SuperConductCard({ stats }) {\r\n  const sKey = \"superconduct_hit\"\r\n  return <CardDark><CardContent sx={{ p: 1 }}>\r\n    <Typography color=\"superconduct.main\">{Stat.getStatName(sKey)} {StatIcon.electro}+{StatIcon.cryo} <strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Typography>\r\n  </CardContent></CardDark>\r\n}\r\nfunction ElectroChargedCard({ stats }) {\r\n  const sKey = \"electrocharged_hit\"\r\n  return <CardDark><CardContent sx={{ p: 1 }}>\r\n    <Typography color=\"electrocharged.main\">{Stat.getStatName(sKey)} {StatIcon.electro}+{StatIcon.hydro} <strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Typography>\r\n  </CardContent></CardDark>\r\n}\r\nfunction OverloadedCard({ stats }) {\r\n  const sKey = \"overloaded_hit\"\r\n  return <CardDark><CardContent sx={{ p: 1 }}>\r\n    <Typography color=\"overloaded.main\" >{Stat.getStatName(sKey)} {StatIcon.electro}+{StatIcon.pyro} <strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Typography>\r\n  </CardContent></CardDark>\r\n}\r\n\r\nconst swirlEleToDisplay = {\r\n  \"pyro\": <span>{Stat.getStatName(\"pyro_swirl_hit\")} {StatIcon.pyro} + {StatIcon.anemo}</span>,\r\n  \"electro\": <span>{Stat.getStatName(\"electro_swirl_hit\")} {StatIcon.electro}+{StatIcon.anemo}</span>,\r\n  \"cryo\": <span>{Stat.getStatName(\"cryo_swirl_hit\")} {StatIcon.cryo} + {StatIcon.anemo}</span>,\r\n  \"hydro\": <span>{Stat.getStatName(\"hydro_swirl_hit\")} {StatIcon.hydro} + {StatIcon.anemo}</span>\r\n} as const\r\nfunction SwirlCard({ stats }) {\r\n  const [ele, setele] = useState(Object.keys(swirlEleToDisplay)[0])\r\n  const sKey = `${ele}_swirl_hit`\r\n  return <CardDark sx={{ display: \"flex\" }}>\r\n    <DropdownButton size=\"small\" title={swirlEleToDisplay[ele]} color=\"success\">\r\n      {Object.entries(swirlEleToDisplay).map(([key, element]) => <MenuItem key={key} selected={ele === key} disabled={ele === key} onClick={() => setele(key)}>{element}</MenuItem>)}\r\n    </DropdownButton>\r\n    <Box sx={{ color: `${ele}.main`, p: 1 }}><strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Box>\r\n  </CardDark>\r\n}\r\nfunction ShatteredCard({ stats }) {\r\n  const sKey = \"shattered_hit\"\r\n  const information = <BootstrapTooltip placement=\"top\" title={<Typography>Claymores, Plunging Attacks and <ColorText color=\"geo\">Geo DMG</ColorText></Typography>}>\r\n    <Box component=\"span\" sx={{ cursor: \"help\" }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\r\n  </BootstrapTooltip>\r\n\r\n  return <CardDark><CardContent sx={{ p: 1 }}>\r\n    <ColorText color=\"shattered\">{Stat.getStatName(sKey)} {StatIcon.hydro}+{StatIcon.cryo}+ <ColorText color=\"physical\"><small>Heavy Attack{information} </small></ColorText> <strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></ColorText>\r\n  </CardContent></CardDark>\r\n}\r\nconst crystalizeEleToDisplay = {\r\n  \"default\": <ColorText color=\"crystalize\">{Stat.getStatName(\"crystalize_hit\")} {StatIcon.electro}/{StatIcon.hydro}/{StatIcon.pyro}/{StatIcon.cryo}+{StatIcon.geo}</ColorText>,\r\n  \"pyro\": <span>{Stat.getStatName(\"pyro_crystalize_hit\")} {StatIcon.pyro}+{StatIcon.geo}</span>,\r\n  \"electro\": <span>{Stat.getStatName(\"electro_crystalize_hit\")} {StatIcon.electro}+{StatIcon.geo}</span>,\r\n  \"cryo\": <span>{Stat.getStatName(\"cryo_crystalize_hit\")} {StatIcon.cryo}+{StatIcon.geo}</span>,\r\n  \"hydro\": <span>{Stat.getStatName(\"hydro_crystalize_hit\")} {StatIcon.hydro}+{StatIcon.geo}</span>\r\n} as const\r\nfunction CrystalizeCard({ stats }) {\r\n  const [ele, setele] = useState(Object.keys(crystalizeEleToDisplay)[0])\r\n  const sKey = ele === \"default\" ? \"crystalize_hit\" : `${ele}_crystalize_hit`\r\n  return <CardDark sx={{ display: \"flex\" }}>\r\n    <DropdownButton size=\"small\" title={crystalizeEleToDisplay[ele]} color=\"success\">\r\n      {Object.entries(crystalizeEleToDisplay).map(([key, element]) => <MenuItem key={key} selected={ele === key} disabled={ele === key} onClick={() => setele(key)}>{element}</MenuItem>)}\r\n    </DropdownButton>\r\n    <Box sx={{ color: `${ele}.main`, p: 1 }}><strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Box>\r\n  </CardDark>\r\n}\r\n\r\nconst talentLimits = [1, 1, 2, 4, 6, 8, 10]\r\ntype SkillDisplayCardProps = {\r\n  characterSheet: CharacterSheet\r\n  character: ICachedCharacter,\r\n  characterDispatch: (any) => void,\r\n  talentKey: TalentSheetElementKey,\r\n  subtitle: string,\r\n  onClickTitle?: (any) => any\r\n}\r\nfunction SkillDisplayCard({ characterSheet, character: { talent, ascension, key: characterKey }, characterDispatch, talentKey, subtitle, onClickTitle }: SkillDisplayCardProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  let build = newBuild ? newBuild : equippedBuild\r\n\r\n  const actionWrapeprFunc = useCallback(\r\n    children => <CardActionArea onClick={onClickTitle}>{children}</CardActionArea>,\r\n    [onClickTitle],\r\n  )\r\n\r\n  if (!build) return null\r\n  let header: Displayable | null = null\r\n\r\n  if (talentKey in talent) {\r\n    const levelBoost: number = build[`${talentKey}Boost`] ?? 0\r\n    const talentLvlKey = talent[talentKey] + levelBoost\r\n    const setTalentLevel = (tKey, newTalentLevelKey) => {\r\n      talent[tKey] = newTalentLevelKey\r\n      characterDispatch({ talent })\r\n    }\r\n    header = <>\r\n      <CardContent sx={{ py: 1 }}>\r\n        <DropdownButton fullWidth title={`Talent Lv. ${talentLvlKey}`} color={levelBoost ? \"info\" : \"primary\"}>\r\n          {[...Array(talentLimits[ascension]).keys()].map(i =>\r\n            <MenuItem key={i} selected={talent[talentKey] === (i + 1)} disabled={talent[talentKey] === (i + 1)} onClick={() => setTalentLevel(talentKey, i + 1)}>Talent Lv. {i + levelBoost + 1}</MenuItem>)}\r\n        </DropdownButton>\r\n      </CardContent>\r\n      <Divider />\r\n    </>\r\n  }\r\n  const talentSheet = characterSheet.getTalentOfKey(talentKey, build.characterEle)\r\n\r\n  return <CardLight sx={{ height: \"100%\" }}>\r\n    {header}\r\n    <CardContent>\r\n      <ConditionalWrapper condition={!!onClickTitle} wrapper={actionWrapeprFunc} >\r\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\r\n          <Grid item>\r\n            <Box component=\"img\" src={talentSheet?.img} sx={{ width: 60, height: \"auto\" }} />\r\n          </Grid>\r\n          <Grid item flexGrow={1} sx={{ pl: 1 }}>\r\n            <Typography variant=\"h6\">{talentSheet?.name}</Typography>\r\n            <Typography variant=\"subtitle1\">{subtitle}</Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </ConditionalWrapper>\r\n      {/* Display document sections */}\r\n      {talentSheet?.sections ? <DocumentDisplay sections={talentSheet.sections} characterKey={characterKey} /> : null}\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n","import { PersonAdd } from \"@mui/icons-material\";\r\nimport { CardContent, CardHeader, Divider, Grid } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useContext } from 'react';\r\nimport { buildContext } from \"../../Build/Build\";\r\nimport CardDark from \"../../Components/Card/CardDark\";\r\nimport CardLight from \"../../Components/Card/CardLight\";\r\nimport CharacterDropdownButton from \"../../Components/Character/CharacterDropdownButton\";\r\nimport ConditionalDisplay from \"../../Components/ConditionalDisplay\";\r\nimport StatDisplay from \"../../Components/StatDisplay\";\r\nimport Conditional from \"../../Conditional/Conditional\";\r\nimport resonanceSheets from \"../../Conditional/Resonance\";\r\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\r\nimport useCharSelectionCallback from \"../../ReactHooks/useCharSelectionCallback\";\r\nimport useSheets, { Sheets } from \"../../ReactHooks/useSheets\";\r\nimport { ICachedCharacter } from \"../../Types/character\";\r\nimport { CharacterKey } from \"../../Types/consts\";\r\nimport { ICalculatedStats } from \"../../Types/stats\";\r\nimport CharacterCard from \"../CharacterCard\";\r\nimport CharacterSheet from \"../CharacterSheet\";\r\ntype CharacterTalentPaneProps = {\r\n  characterSheet: CharacterSheet,\r\n  character: ICachedCharacter,\r\n}\r\nexport default function CharacterTeamBuffsPane({ character, character: { key: characterKey, team } }: CharacterTalentPaneProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  const sheets = useSheets()\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1} alignItems=\"stretch\">\r\n    <TeamBuffDisplay character={character} />\r\n    <ResonanceDisplay characterKey={characterKey} build={build} />\r\n    <Grid container spacing={1}>\r\n      {sheets && build.teamStats.map((tStats, i) => <Grid item xs={12} md={6} lg={4} key={i}>\r\n        <TeammateDisplay character={character} sheets={sheets} index={i} />\r\n      </Grid>)}\r\n    </Grid>\r\n  </Box>\r\n}\r\nconst statBreakpoint = {\r\n  xs: 12, sm: 6, md: 6, lg: 4,\r\n} as const\r\nfunction TeamBuffDisplay({ character }: { character: ICachedCharacter }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  if (!Object.keys(build.partyBuff).length) return null\r\n  return <CardLight>\r\n    <CardContent>\r\n      Team Buffs\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container columnSpacing={2} rowSpacing={1}>\r\n        {Object.entries(build.partyBuff).map(([statKey, value]) => <Grid item {...statBreakpoint} key={statKey} >\r\n          <StatDisplay character={character} newBuild={newBuild} equippedBuild={equippedBuild} statKey={statKey} partyBuff />\r\n        </Grid>)}\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\nfunction ResonanceDisplay({ build, characterKey }: { build: ICalculatedStats, characterKey: CharacterKey }) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  return <CardLight>\r\n    <CardContent>\r\n      Team Resonance\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        {resonanceSheets.map((doc, i) =>\r\n          <Grid item key={i} xs={12} md={6} lg={4} >\r\n            <CardDark sx={{ opacity: doc.canShow(build) ? 1 : 0.5, height: \"100%\" }}>\r\n              <CardHeader avatar={doc?.header?.icon} title={doc?.header?.title} action={doc?.header?.action} titleTypographyProps={{ variant: \"subtitle2\" }} />\r\n              <Divider />\r\n              <CardContent>\r\n                {doc.description}\r\n              </CardContent>\r\n              {doc.conditionals.map(cond =>\r\n                <ConditionalDisplay key={cond.key} conditional={cond} stats={build} onChange={val => characterDispatch({ conditionalValues: val })} />\r\n              )}\r\n            </CardDark>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\nfunction TeammateDisplay({ character, character: { key: characterKey, team }, sheets, index }:\r\n  { character: ICachedCharacter, sheets: Sheets, index: number }) {\r\n  const onClickHandler = useCharSelectionCallback()\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const condCharStats = equippedBuild?.teamStats[index]\r\n  return <buildContext.Provider value={{ equippedBuild: equippedBuild?.teamStats[index] ?? undefined, newBuild: newBuild?.teamStats[index] ?? undefined }}>\r\n    <CardLight>\r\n      <CardContent>\r\n        <CharacterDropdownButton fullWidth value={condCharStats?.characterKey ?? \"\"}\r\n          onChange={charKey => characterDispatch({ type: \"team\", index, charKey })}\r\n          filter={(_, ck) => ck !== characterKey && !team.includes(ck)} unSelectText={`Teammate ${index + 1}`} unSelectIcon={<PersonAdd />} />\r\n      </CardContent>\r\n      {condCharStats && <CharacterCard characterKey={condCharStats.characterKey}\r\n        onClickHeader={onClickHandler}\r\n        build={condCharStats}\r\n        artifactChildren={<CharArtifactCondDisplay condCharStats={condCharStats} />}\r\n        weaponChildren={<CharWeaponCondDisplay condCharStats={condCharStats} />}\r\n        footer={sheets && character && <CharTalentCondDisplay condCharStats={condCharStats} character={character} sheets={sheets} />} />}\r\n    </CardLight>\r\n  </buildContext.Provider>\r\n}\r\nfunction CharArtifactCondDisplay({ condCharStats }: { condCharStats: ICalculatedStats }) {\r\n  const characterDispatch = useCharacterReducer(condCharStats.characterKey)\r\n  return <Box >\r\n    {Object.entries(condCharStats.setToSlots).map(([artSetKey, slotkeys]) =>\r\n      Object.entries(Conditional.partyConditionals?.artifact?.[artSetKey] ?? {})\r\n        .filter(([setNum, conds]) => parseInt(setNum) <= slotkeys.length)\r\n        .flatMap(([setNum, conds]) => Object.entries(conds).map(([condKey, c]) =>\r\n          <ConditionalDisplay key={c.key} conditional={c} stats={condCharStats} onChange={val => characterDispatch({ conditionalValues: val })} />\r\n        )))}\r\n  </Box>\r\n}\r\nfunction CharWeaponCondDisplay({ condCharStats }: { condCharStats: ICalculatedStats }) {\r\n  const characterDispatch = useCharacterReducer(condCharStats.characterKey)\r\n  return <Box >{Object.entries(Conditional.partyConditionals?.weapon?.[condCharStats.weapon.key] ?? {}).map(([condKey, cond]) =>\r\n    <ConditionalDisplay key={cond.key} conditional={cond} stats={condCharStats} onChange={val => characterDispatch({ conditionalValues: val })} />\r\n  )}</Box>\r\n}\r\nfunction CharTalentCondDisplay({ character, condCharStats, sheets }:\r\n  { character: ICachedCharacter, condCharStats: ICalculatedStats, sheets: Sheets }) {\r\n  // Edit the Teammate's ConditionalValues\r\n  const characterDispatch = useCharacterReducer(condCharStats.characterKey)\r\n  const condCharKey = condCharStats.characterKey\r\n  const condCharKeyHashed = condCharKey === \"Traveler\" ? `Traveler_${condCharStats.characterEle}` : condCharKey\r\n\r\n  const charConds = Object.entries(Conditional.partyConditionals?.character?.[condCharKeyHashed] ?? {}).filter(([cKey, conditional]) =>\r\n    Conditional.canShow(conditional, condCharStats))\r\n  return <CardContent sx={{ display: \"flex\", flexDirection: \"column\", gap: 1, pt: 0 }} >\r\n    {charConds.map(([condKey, cond]) =>\r\n      <ConditionalDisplay key={condKey} conditional={cond} stats={condCharStats} onChange={val => characterDispatch({ conditionalValues: val })} />\r\n    )}\r\n  </CardContent>\r\n}","import { Button, ButtonGroup, Card, CardContent, Divider, Grid, MenuItem, Skeleton, Tab, Tabs, Typography } from '@mui/material';\r\nimport { Suspense, useCallback, useContext, useEffect, useMemo, useState } from 'react';\r\nimport { buildContext } from '../Build/Build';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport { CharacterSelectionModal } from '../Components/Character/CharacterSelectionModal';\r\nimport ThumbSide from '../Components/Character/ThumbSide';\r\nimport CloseButton from '../Components/CloseButton';\r\nimport ColorText from '../Components/ColoredText';\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from '../Components/CustomNumberInput';\r\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton';\r\nimport { EnemyExpandCard } from '../Components/EnemyEditor';\r\nimport FormulaCalcCard from '../Components/FormulaCalcCard';\r\nimport { DamageOptionsCard } from '../Components/HitModeEditor';\r\nimport ImgIcon from '../Components/Image/ImgIcon';\r\nimport { sgt } from '../Data/Characters/SheetUtil';\r\nimport { ambiguousLevel, ascensionMaxLevel, milestoneLevels } from '../Data/LevelData';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport useCharacter from '../ReactHooks/useCharacter';\r\nimport useCharacterReducer from '../ReactHooks/useCharacterReducer';\r\nimport useCharSelectionCallback from '../ReactHooks/useCharSelectionCallback';\r\nimport useForceUpdate from '../ReactHooks/useForceUpdate';\r\nimport useSheets from '../ReactHooks/useSheets';\r\nimport { ICachedCharacter } from '../Types/character';\r\nimport { CharacterKey } from '../Types/consts';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport { deepCloneStats } from '../Util/StatUtil';\r\nimport { clamp } from '../Util/Util';\r\nimport { defaultInitialWeapon } from '../Weapon/WeaponUtil';\r\nimport Character from './Character';\r\nimport CharacterArtifactPane from './CharacterDisplay/CharacterArtifactPane';\r\nimport CharacterOverviewPane from './CharacterDisplay/CharacterOverviewPane';\r\nimport CharacterTalentPane from './CharacterDisplay/CharacterTalentPane';\r\nimport CharacterTeamBuffsPane from './CharacterDisplay/CharacterTeamBuffsPane';\r\nimport CharacterSheet from './CharacterSheet';\r\nimport { initialCharacter } from './CharacterUtil';\r\n\r\ninterface TabPanelProps {\r\n  children?: React.ReactNode;\r\n  value: string;\r\n  current: string | boolean;\r\n}\r\n\r\nfunction TabPanel({ children, current, value, ...other }: TabPanelProps) {\r\n  if (value !== current) return null\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={1000} />}>\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== current}\r\n      id={`simple-tabpanel-${value}`}\r\n      aria-labelledby={`simple-tab-${value}`}\r\n      {...other}\r\n    >\r\n      {children}\r\n    </div>\r\n  </Suspense>\r\n}\r\n\r\ntype CharacterDisplayCardProps = {\r\n  characterKey: CharacterKey,\r\n  footer?: JSX.Element\r\n  newBuild?: ICalculatedStats,\r\n  onClose?: (any) => void,\r\n  tabName?: string,\r\n  isFlex?: boolean,\r\n  compareBuild?: boolean\r\n}\r\nexport default function CharacterDisplayCard({ characterKey, footer, newBuild: propNewBuild, onClose, tabName, isFlex, compareBuild: propCompareBuild }: CharacterDisplayCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const [compareBuild, setCompareBuild] = useState(propCompareBuild ?? false)\r\n  const character = useCharacter(characterKey)\r\n  const [dbDirty, setDbDirty] = useForceUpdate()\r\n\r\n  useEffect(() => {\r\n    typeof propCompareBuild === \"boolean\" && setCompareBuild(propCompareBuild)\r\n  }, [propCompareBuild, setCompareBuild])\r\n\r\n  const sheets = useSheets()\r\n  //follow updates from team\r\n  const [teammate1, teammate2, teammate3] = character?.team ?? []\r\n  useEffect(() =>\r\n    teammate1 ? database.followChar(teammate1, setDbDirty) : undefined,\r\n    [teammate1, setDbDirty, database])\r\n  useEffect(() =>\r\n    teammate2 ? database.followChar(teammate2, setDbDirty) : undefined,\r\n    [teammate2, setDbDirty, database])\r\n  useEffect(() =>\r\n    teammate3 ? database.followChar(teammate3, setDbDirty) : undefined,\r\n    [teammate3, setDbDirty, database])\r\n\r\n  useEffect(() => {\r\n    if (!characterKey) return\r\n    if (database._getChar(characterKey)) return\r\n    // Create a new character + weapon, with linking if char isnt in db.\r\n    (async () => {\r\n      const newChar = initialCharacter(characterKey)\r\n      database.updateChar(newChar)\r\n      const characterSheet = await CharacterSheet.get(characterKey)\r\n      if (!characterSheet) return\r\n      const weapon = defaultInitialWeapon(characterSheet.weaponTypeKey)\r\n      const weaponId = database.createWeapon(weapon)\r\n      database.setWeaponLocation(weaponId, characterKey)\r\n    })()\r\n  }, [database, characterKey])\r\n\r\n\r\n  const characterSheet = sheets?.characterSheets?.[characterKey ?? \"\"]\r\n\r\n  useEffect(() => character && database.followWeapon(character.equippedWeapon, setDbDirty),\r\n    [character, character?.equippedWeapon, setDbDirty, database])\r\n\r\n  const newBuild = useMemo(() => {\r\n    if (!propNewBuild) return undefined\r\n    return deepCloneStats(propNewBuild)\r\n  }, [propNewBuild])\r\n\r\n  // set initial state to false, because it fails to check validity of the tab values on 1st load\r\n  const [tab, settab] = useState<string | boolean>(tabName ? tabName : (newBuild ? \"newartifacts\" : \"character\"))\r\n\r\n  const onTab = useCallback((e, v) => settab(v), [settab])\r\n\r\n  const mainStatAssumptionLevel = newBuild?.mainStatAssumptionLevel ?? 0\r\n  const equippedBuild = useMemo(() => character && dbDirty && sheets &&\r\n    Character.calculateBuild(character, database, sheets, mainStatAssumptionLevel),\r\n    [dbDirty, character, sheets, mainStatAssumptionLevel, database])\r\n  if (!character) return <></>\r\n  // main CharacterDisplayCard\r\n  return <CardDark >\r\n    <buildContext.Provider value={{ newBuild, equippedBuild, compareBuild, setCompareBuild }}>\r\n      <CardContent sx={{\r\n        \"> div:not(:last-child)\": { mb: 1 },\r\n      }}>\r\n        <Grid container spacing={1}>\r\n          <Grid item flexGrow={1}>\r\n            <CharSelectDropdown characterSheet={characterSheet} character={character} />\r\n          </Grid>\r\n          {!!mainStatAssumptionLevel && <Grid item><Card sx={{ p: 1, bgcolor: t => t.palette.warning.dark }}><Typography><strong>Assume Main Stats are Level {mainStatAssumptionLevel}</strong></Typography></Card></Grid>}\r\n          {!!onClose && <Grid item>\r\n            <CloseButton onClick={onClose} />\r\n          </Grid>}\r\n        </Grid>\r\n        <CardLight>\r\n          <Tabs\r\n            onChange={onTab}\r\n            value={tab}\r\n            variant=\"fullWidth\"\r\n          >\r\n            <Tab value=\"character\" label=\"Character\" />\r\n            {!!newBuild && <Tab value=\"newartifacts\" label=\"New Artifacts\" />}\r\n            <Tab value=\"artifacts\" label={newBuild ? \"Current Artifacts\" : \"Artifacts\"} />\r\n            {!isFlex && <Tab value=\"buffs\" label=\"Team Buffs\" />}\r\n            <Tab value=\"talent\" label=\"Talents\" />\r\n          </Tabs>\r\n        </CardLight>\r\n        <DamageOptionsCard character={character} />\r\n        {sheets && <FormulaCalcCard sheets={sheets} />}\r\n        <EnemyExpandCard character={character} />\r\n\r\n        {/* Character Panel */}\r\n        {characterSheet && <TabPanel value=\"character\" current={tab}>\r\n          <CharacterOverviewPane characterSheet={characterSheet} character={character} />\r\n        </TabPanel >}\r\n        {/* Artifacts Panel */}\r\n        {sheets && <buildContext.Provider value={{ newBuild: undefined, equippedBuild, compareBuild, setCompareBuild }}>\r\n          <TabPanel value=\"artifacts\" current={tab} >\r\n            <CharacterArtifactPane character={character} sheets={sheets} />\r\n          </TabPanel >\r\n        </buildContext.Provider>}\r\n        {/* new build panel */}\r\n        {newBuild && sheets && <TabPanel value=\"newartifacts\" current={tab} >\r\n          <CharacterArtifactPane character={character} sheets={sheets} />\r\n        </TabPanel >}\r\n        {/* Buffs panel */}\r\n        {characterSheet && <TabPanel value=\"buffs\" current={tab}>\r\n          <CharacterTeamBuffsPane characterSheet={characterSheet} character={character} />\r\n        </TabPanel >}\r\n        {/* talent panel */}\r\n        {characterSheet && <TabPanel value=\"talent\" current={tab}>\r\n          <CharacterTalentPane characterSheet={characterSheet} character={character} />\r\n        </TabPanel >}\r\n      </CardContent>\r\n      {!!footer && <Divider />}\r\n      {footer && <CardContent >\r\n        {footer}\r\n      </CardContent>}\r\n    </buildContext.Provider>\r\n  </CardDark>\r\n}\r\n\r\ntype CharSelectDropdownProps = {\r\n  characterSheet?: CharacterSheet,\r\n  character: ICachedCharacter\r\n  disabled?: boolean\r\n}\r\nfunction CharSelectDropdown({ characterSheet, character, character: { key: characterKey, elementKey = \"anemo\", level = 1, ascension = 0 }, disabled }: CharSelectDropdownProps) {\r\n  const [showModal, setshowModal] = useState(false)\r\n  const setCharacter = useCharSelectionCallback()\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const HeaderIconDisplay = characterSheet ? <span >\r\n    <ImgIcon src={characterSheet.thumbImg} sx={{ mr: 1 }} />\r\n    {characterSheet.name}\r\n  </span> : <span>Select a Character</span>\r\n  const setLevel = useCallback((level) => {\r\n    level = clamp(level, 1, 90)\r\n    const ascension = ascensionMaxLevel.findIndex(ascenML => level <= ascenML)\r\n    characterDispatch({ level, ascension })\r\n  }, [characterDispatch])\r\n  const setAscension = useCallback(() => {\r\n    const lowerAscension = ascensionMaxLevel.findIndex(ascenML => level !== 90 && level === ascenML)\r\n    if (ascension === lowerAscension) characterDispatch({ ascension: ascension + 1 })\r\n    else characterDispatch({ ascension: lowerAscension })\r\n  }, [characterDispatch, ascension, level])\r\n  return <>{!disabled ? <>\r\n    <CharacterSelectionModal show={showModal} onHide={() => setshowModal(false)} onSelect={setCharacter} />\r\n    <Grid container spacing={1}>\r\n      <Grid item>\r\n        <Button onClick={() => setshowModal(true)} startIcon={<ThumbSide src={characterSheet?.thumbImgSide} />} >{characterSheet?.name ?? \"Select a Character\"}</Button>\r\n      </Grid>\r\n      <Grid item>\r\n        <ButtonGroup sx={{ bgcolor: t => t.palette.contentDark.main }} >\r\n          {characterSheet?.sheet && \"talents\" in characterSheet?.sheet && <DropdownButton title={<strong><ColorText color={elementKey}>{sgt(`element.${elementKey}`)}</ColorText></strong>}>\r\n            {Object.keys(characterSheet.sheet.talents).map(eleKey =>\r\n              <MenuItem key={eleKey} selected={elementKey === eleKey} disabled={elementKey === eleKey} onClick={() => characterDispatch({ elementKey: eleKey })}>\r\n                <strong><ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText></strong></MenuItem>)}\r\n          </DropdownButton>}\r\n          <CustomNumberInputButtonGroupWrapper >\r\n            <CustomNumberInput onChange={setLevel} value={level}\r\n              startAdornment=\"Lvl. \"\r\n              inputProps={{ min: 1, max: 90, sx: { textAlign: \"center\" } }}\r\n              sx={{ width: \"100%\", height: \"100%\", pl: 2 }}\r\n              disabled={!characterSheet} />\r\n          </CustomNumberInputButtonGroupWrapper>\r\n          <Button sx={{ pl: 1 }} disabled={!ambiguousLevel(level) || !characterSheet} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>\r\n          <DropdownButton title={\"Select Level\"} disabled={!characterSheet}>\r\n            {milestoneLevels.map(([lv, as]) => {\r\n              const sameLevel = lv === ascensionMaxLevel[as]\r\n              const lvlstr = sameLevel ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevel[as]}`\r\n              const selected = lv === level && as === ascension\r\n              return <MenuItem key={`${lv}/${as}`} selected={selected} disabled={selected} onClick={() => characterDispatch({ level: lv, ascension: as })}>{lvlstr}</MenuItem>\r\n            })}\r\n          </DropdownButton>\r\n        </ButtonGroup>\r\n      </Grid>\r\n    </Grid>\r\n  </> : <Typography variant=\"h6\">{HeaderIconDisplay} {characterSheet && Character.getLevelString(character)}</Typography>}</>\r\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCollapseUtilityClass(slot) {\n  return generateUtilityClass('MuiCollapse', slot);\n}\nconst collapseClasses = generateUtilityClasses('MuiCollapse', ['root', 'horizontal', 'vertical', 'entered', 'hidden', 'wrapper', 'wrapperInner']);\nexport default collapseClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"addEndListener\", \"children\", \"className\", \"collapsedSize\", \"component\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"orientation\", \"style\", \"timeout\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { elementTypeAcceptingRef } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { duration } from '../styles/createTransitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nimport { getCollapseUtilityClass } from './collapseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${orientation}`],\n    entered: ['entered'],\n    hidden: ['hidden'],\n    wrapper: ['wrapper', `${orientation}`],\n    wrapperInner: ['wrapperInner', `${orientation}`]\n  };\n  return composeClasses(slots, getCollapseUtilityClass, classes);\n};\n\nconst CollapseRoot = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.state === 'entered' && styles.entered, ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && styles.hidden];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  height: 0,\n  overflow: 'hidden',\n  transition: theme.transitions.create('height')\n}, ownerState.orientation === 'horizontal' && {\n  height: 'auto',\n  width: 0,\n  transition: theme.transitions.create('width')\n}, ownerState.state === 'entered' && _extends({\n  height: 'auto',\n  overflow: 'visible'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto'\n}), ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && {\n  visibility: 'hidden'\n}));\nconst CollapseWrapper = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Wrapper',\n  overridesResolver: (props, styles) => styles.wrapper\n})(({\n  ownerState\n}) => _extends({\n  // Hack to get children with a negative margin to not falsify the height computation.\n  display: 'flex',\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\nconst CollapseWrapperInner = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'WrapperInner',\n  overridesResolver: (props, styles) => styles.wrapperInner\n})(({\n  ownerState\n}) => _extends({\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nconst Collapse = /*#__PURE__*/React.forwardRef(function Collapse(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCollapse'\n  });\n\n  const {\n    addEndListener,\n    children,\n    className,\n    collapsedSize: collapsedSizeProp = '0px',\n    component,\n    easing,\n    in: inProp,\n    onEnter,\n    onEntered,\n    onEntering,\n    onExit,\n    onExited,\n    onExiting,\n    orientation = 'vertical',\n    style,\n    timeout = duration.standard,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Transition\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    orientation,\n    collapsedSize: collapsedSizeProp\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const theme = useTheme();\n  const timer = React.useRef();\n  const wrapperRef = React.useRef(null);\n  const autoTransitionDuration = React.useRef();\n  const collapsedSize = typeof collapsedSizeProp === 'number' ? `${collapsedSizeProp}px` : collapsedSizeProp;\n  const isHorizontal = orientation === 'horizontal';\n  const size = isHorizontal ? 'width' : 'height';\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  const nodeRef = React.useRef(null);\n  const handleRef = useForkRef(ref, nodeRef);\n\n  const normalizedTransitionCallback = callback => maybeIsAppearing => {\n    if (callback) {\n      const node = nodeRef.current; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n      if (maybeIsAppearing === undefined) {\n        callback(node);\n      } else {\n        callback(node, maybeIsAppearing);\n      }\n    }\n  };\n\n  const getWrapperSize = () => wrapperRef.current ? wrapperRef.current[isHorizontal ? 'clientWidth' : 'clientHeight'] : 0;\n\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    if (wrapperRef.current && isHorizontal) {\n      // Set absolute position to get the size of collapsed content\n      wrapperRef.current.style.position = 'absolute';\n    }\n\n    node.style[size] = collapsedSize;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n    const wrapperSize = getWrapperSize();\n\n    if (wrapperRef.current && isHorizontal) {\n      // After the size is read reset the position back to default\n      wrapperRef.current.style.position = '';\n    }\n\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'enter'\n    });\n\n    if (timeout === 'auto') {\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n\n    node.style[size] = `${wrapperSize}px`;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback((node, isAppearing) => {\n    node.style[size] = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  const handleExit = normalizedTransitionCallback(node => {\n    node.style[size] = `${getWrapperSize()}px`;\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(onExited);\n  const handleExiting = normalizedTransitionCallback(node => {\n    const wrapperSize = getWrapperSize();\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'exit'\n    });\n\n    if (timeout === 'auto') {\n      // TODO: rename getAutoHeightDuration to something more generic (width support)\n      // Actually it just calculates animation duration based on size\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n\n    node.style[size] = collapsedSize;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  const handleAddEndListener = next => {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(nodeRef.current, next);\n    }\n  };\n\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    nodeRef: nodeRef,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other, {\n    children: (state, childProps) => /*#__PURE__*/_jsx(CollapseRoot, _extends({\n      as: component,\n      className: clsx(classes.root, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedSize === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        [isHorizontal ? 'minWidth' : 'minHeight']: collapsedSize\n      }, style),\n      ownerState: _extends({}, ownerState, {\n        state\n      }),\n      ref: handleRef\n    }, childProps, {\n      children: /*#__PURE__*/_jsx(CollapseWrapper, {\n        ownerState: _extends({}, ownerState, {\n          state\n        }),\n        className: classes.wrapper,\n        ref: wrapperRef,\n        children: /*#__PURE__*/_jsx(CollapseWrapperInner, {\n          ownerState: _extends({}, ownerState, {\n            state\n          }),\n          className: classes.wrapperInner,\n          children: children\n        })\n      })\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning DOM\n   * node and a done callback. Allows for more fine grained transition end\n   * logic. Note: Timeouts are still used as a fallback if provided.\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The width (horizontal) or height (vertical) of the container when collapsed.\n   * @default '0px'\n   */\n  collapsedSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n\n  /**\n   * The transition timing function.\n   * You may specify a single easing or a object containing enter and exit values.\n   */\n  easing: PropTypes.oneOfType([PropTypes.shape({\n    enter: PropTypes.string,\n    exit: PropTypes.string\n  }), PropTypes.string]),\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * The transition orientation.\n   * @default 'vertical'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   * @default duration.standard\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default Collapse;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"\n}), 'Lock');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"\n}), 'LockOpen');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getListItemUtilityClass(slot) {\n  return generateUtilityClass('MuiListItem', slot);\n}\nconst listItemClasses = generateUtilityClasses('MuiListItem', ['root', 'container', 'focusVisible', 'dense', 'alignItemsFlexStart', 'disabled', 'divider', 'gutters', 'padding', 'button', 'secondaryAction', 'selected']);\nexport default listItemClasses;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getListItemSecondaryActionClassesUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemSecondaryAction', slot);\n}\nconst listItemSecondaryActionClasses = generateUtilityClasses('MuiListItemSecondaryAction', ['root', 'disableGutters']);\nexport default listItemSecondaryActionClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ListContext from '../List/ListContext';\nimport { getListItemSecondaryActionClassesUtilityClass } from './listItemSecondaryActionClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    disableGutters,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', disableGutters && 'disableGutters']\n  };\n  return composeClasses(slots, getListItemSecondaryActionClassesUtilityClass, classes);\n};\n\nconst ListItemSecondaryActionRoot = styled('div', {\n  name: 'MuiListItemSecondaryAction',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.disableGutters && styles.disableGutters];\n  }\n})(({\n  ownerState\n}) => _extends({\n  position: 'absolute',\n  right: 16,\n  top: '50%',\n  transform: 'translateY(-50%)'\n}, ownerState.disableGutters && {\n  right: 0\n}));\n/**\n * Must be used as the last child of ListItem to function properly.\n */\n\nconst ListItemSecondaryAction = /*#__PURE__*/React.forwardRef(function ListItemSecondaryAction(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemSecondaryAction'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const context = React.useContext(ListContext);\n\n  const ownerState = _extends({}, props, {\n    disableGutters: context.disableGutters\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemSecondaryActionRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default ListItemSecondaryAction;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"],\n      _excluded2 = [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"className\", \"component\", \"components\", \"componentsProps\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"disablePadding\", \"divider\", \"focusVisibleClassName\", \"secondaryAction\", \"selected\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses, isHostComponent } from '@mui/base';\nimport { chainPropTypes, elementTypeAcceptingRef } from '@mui/utils';\nimport { alpha } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useEnhancedEffect from '../utils/useEnhancedEffect';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport listItemClasses, { getListItemUtilityClass } from './listItemClasses';\nimport { listItemButtonClasses } from '../ListItemButton';\nimport ListItemSecondaryAction from '../ListItemSecondaryAction';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters, !ownerState.disablePadding && styles.padding, ownerState.button && styles.button, ownerState.hasSecondaryAction && styles.secondaryAction];\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    button,\n    classes,\n    dense,\n    disabled,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction,\n    selected\n  } = ownerState;\n  const slots = {\n    root: ['root', dense && 'dense', !disableGutters && 'gutters', !disablePadding && 'padding', divider && 'divider', disabled && 'disabled', button && 'button', alignItems === 'flex-start' && 'alignItemsFlexStart', hasSecondaryAction && 'secondaryAction', selected && 'selected'],\n    container: ['container']\n  };\n  return composeClasses(slots, getListItemUtilityClass, classes);\n};\n\nexport const ListItemRoot = styled('div', {\n  name: 'MuiListItem',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  position: 'relative',\n  textDecoration: 'none',\n  width: '100%',\n  boxSizing: 'border-box',\n  textAlign: 'left'\n}, !ownerState.disablePadding && _extends({\n  paddingTop: 8,\n  paddingBottom: 8\n}, ownerState.dense && {\n  paddingTop: 4,\n  paddingBottom: 4\n}, !ownerState.disableGutters && {\n  paddingLeft: 16,\n  paddingRight: 16\n}, !!ownerState.secondaryAction && {\n  // Add some space to avoid collision as `ListItemSecondaryAction`\n  // is absolutely positioned.\n  paddingRight: 48\n}), !!ownerState.secondaryAction && {\n  [`& > .${listItemButtonClasses.root}`]: {\n    paddingRight: 48\n  }\n}, {\n  [`&.${listItemClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`&.${listItemClasses.selected}`]: {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n    [`&.${listItemClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  },\n  [`&.${listItemClasses.disabled}`]: {\n    opacity: theme.palette.action.disabledOpacity\n  }\n}, ownerState.alignItems === 'flex-start' && {\n  alignItems: 'flex-start'\n}, ownerState.divider && {\n  borderBottom: `1px solid ${theme.palette.divider}`,\n  backgroundClip: 'padding-box'\n}, ownerState.button && {\n  transition: theme.transitions.create('background-color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  '&:hover': {\n    textDecoration: 'none',\n    backgroundColor: theme.palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${listItemClasses.selected}:hover`]: {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n    }\n  }\n}, ownerState.hasSecondaryAction && {\n  // Add some space to avoid collision as `ListItemSecondaryAction`\n  // is absolutely positioned.\n  paddingRight: 48\n}));\nconst ListItemContainer = styled('li', {\n  name: 'MuiListItem',\n  slot: 'Container',\n  overridesResolver: (props, styles) => styles.container\n})({\n  position: 'relative'\n});\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nconst ListItem = /*#__PURE__*/React.forwardRef(function ListItem(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItem'\n  });\n\n  const {\n    alignItems = 'center',\n    autoFocus = false,\n    button = false,\n    children: childrenProp,\n    className,\n    component: componentProp,\n    components = {},\n    componentsProps = {},\n    ContainerComponent = 'li',\n    ContainerProps: {\n      className: ContainerClassName\n    } = {},\n    dense = false,\n    disabled = false,\n    disableGutters = false,\n    disablePadding = false,\n    divider = false,\n    focusVisibleClassName,\n    secondaryAction,\n    selected = false\n  } = props,\n        ContainerProps = _objectWithoutPropertiesLoose(props.ContainerProps, _excluded),\n        other = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const context = React.useContext(ListContext);\n  const childContext = {\n    dense: dense || context.dense || false,\n    alignItems,\n    disableGutters\n  };\n  const listItemRef = React.useRef(null);\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('MUI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  const children = React.Children.toArray(childrenProp); // v4 implementation, deprecated in v5, will be removed in v6\n\n  const hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n\n  const ownerState = _extends({}, props, {\n    alignItems,\n    autoFocus,\n    button,\n    dense: childContext.dense,\n    disabled,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction,\n    selected\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const handleRef = useForkRef(listItemRef, ref);\n  const Root = components.Root || ListItemRoot;\n  const rootProps = componentsProps.root || {};\n\n  const componentProps = _extends({\n    className: clsx(classes.root, rootProps.className, className),\n    disabled\n  }, other);\n\n  let Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(listItemClasses.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  } // v4 implementation, deprecated in v5, will be removed in v6\n\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/_jsx(ListContext.Provider, {\n      value: childContext,\n      children: /*#__PURE__*/_jsxs(ListItemContainer, _extends({\n        as: ContainerComponent,\n        className: clsx(classes.container, ContainerClassName),\n        ref: handleRef,\n        ownerState: ownerState\n      }, ContainerProps, {\n        children: [/*#__PURE__*/_jsx(Root, _extends({}, rootProps, !isHostComponent(Root) && {\n          as: Component,\n          ownerState: _extends({}, ownerState, rootProps.ownerState)\n        }, componentProps, {\n          children: children\n        })), children.pop()]\n      }))\n    });\n  }\n\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsxs(Root, _extends({}, rootProps, {\n      as: Component,\n      ref: handleRef,\n      ownerState: ownerState\n    }, !isHostComponent(Root) && {\n      ownerState: _extends({}, ownerState, rootProps.ownerState)\n    }, componentProps, {\n      children: [children, secondaryAction && /*#__PURE__*/_jsx(ListItemSecondaryAction, {\n        children: secondaryAction\n      })]\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItem.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Defines the `align-items` style property.\n   * @default 'center'\n   */\n  alignItems: PropTypes.oneOf(['center', 'flex-start']),\n\n  /**\n   * If `true`, the list item is focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the list item is a button (using `ButtonBase`). Props intended\n   * for `ButtonBase` can then be applied to `ListItem`.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  button: PropTypes.bool,\n\n  /**\n   * The content of the component if a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    const children = React.Children.toArray(props.children); // React.Children.toArray(props.children).findLastIndex(isListItemSecondaryAction)\n\n    let secondaryActionIndex = -1;\n\n    for (let i = children.length - 1; i >= 0; i -= 1) {\n      const child = children[i];\n\n      if (isMuiElement(child, ['ListItemSecondaryAction'])) {\n        secondaryActionIndex = i;\n        break;\n      }\n    } //  is ListItemSecondaryAction the last child of ListItem\n\n\n    if (secondaryActionIndex !== -1 && secondaryActionIndex !== children.length - 1) {\n      return new Error('MUI: You used an element after ListItemSecondaryAction. ' + 'For ListItem to detect that it has a secondary action ' + 'you must pass it as the last child to ListItem.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The components used for each slot inside the InputBase.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Input.\n   * @default {}\n   */\n  componentsProps: PropTypes.object,\n\n  /**\n   * The container component used when a `ListItemSecondaryAction` is the last child.\n   * @default 'li'\n   * @deprecated\n   */\n  ContainerComponent: elementTypeAcceptingRef,\n\n  /**\n   * Props applied to the container component if used.\n   * @default {}\n   * @deprecated\n   */\n  ContainerProps: PropTypes.object,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used.\n   * The prop defaults to the value inherited from the parent List component.\n   * @default false\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, all padding is removed.\n   * @default false\n   */\n  disablePadding: PropTypes.bool,\n\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   * @default false\n   */\n  divider: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The element to display at the end of ListItem.\n   */\n  secondaryAction: PropTypes.node,\n\n  /**\n   * Use to apply selected styling.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItem;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getChipUtilityClass(slot) {\n  return generateUtilityClass('MuiChip', slot);\n}\nconst chipClasses = generateUtilityClasses('MuiChip', ['root', 'sizeSmall', 'sizeMedium', 'colorPrimary', 'colorSecondary', 'disabled', 'clickable', 'clickableColorPrimary', 'clickableColorSecondary', 'deletable', 'deletableColorPrimary', 'deletableColorSecondary', 'outlined', 'filled', 'outlinedPrimary', 'outlinedSecondary', 'avatar', 'avatarSmall', 'avatarMedium', 'avatarColorPrimary', 'avatarColorSecondary', 'icon', 'iconSmall', 'iconMedium', 'iconColorPrimary', 'iconColorSecondary', 'label', 'labelSmall', 'labelMedium', 'deleteIcon', 'deleteIconSmall', 'deleteIconMedium', 'deleteIconColorPrimary', 'deleteIconColorSecondary', 'deleteIconOutlinedColorPrimary', 'deleteIconOutlinedColorSecondary', 'focusVisible']);\nexport default chipClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"avatar\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport chipClasses, { getChipUtilityClass } from './chipClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disabled,\n    size,\n    color,\n    onDelete,\n    clickable,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, disabled && 'disabled', `size${capitalize(size)}`, `color${capitalize(color)}`, clickable && 'clickable', clickable && `clickableColor${capitalize(color)}`, onDelete && 'deletable', onDelete && `deletableColor${capitalize(color)}`, `${variant}${capitalize(color)}`],\n    label: ['label', `label${capitalize(size)}`],\n    avatar: ['avatar', `avatar${capitalize(size)}`, `avatarColor${capitalize(color)}`],\n    icon: ['icon', `icon${capitalize(size)}`, `iconColor${capitalize(color)}`],\n    deleteIcon: ['deleteIcon', `deleteIcon${capitalize(size)}`, `deleteIconColor${capitalize(color)}`, `deleteIconOutlinedColor${capitalize(color)}`]\n  };\n  return composeClasses(slots, getChipUtilityClass, classes);\n};\n\nconst ChipRoot = styled('div', {\n  name: 'MuiChip',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      color,\n      clickable,\n      onDelete,\n      size,\n      variant\n    } = ownerState;\n    return [{\n      [`& .${chipClasses.avatar}`]: styles.avatar\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatar${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatarColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles.icon\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`icon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`iconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles.deleteIcon\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIcon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconOutlinedColor${capitalize(color)}`]\n    }, styles.root, styles[`size${capitalize(size)}`], styles[`color${capitalize(color)}`], clickable && styles.clickable, clickable && color !== 'default' && styles[`clickableColor${capitalize(color)})`], onDelete && styles.deletable, onDelete && color !== 'default' && styles[`deletableColor${capitalize(color)}`], styles[variant], variant === 'outlined' && styles[`outlined${capitalize(color)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const deleteIconColor = alpha(theme.palette.text.primary, 0.26);\n  return _extends({\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.pxToRem(13),\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 32,\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.action.selected,\n    borderRadius: 32 / 2,\n    whiteSpace: 'nowrap',\n    transition: theme.transitions.create(['background-color', 'box-shadow']),\n    // label will inherit this from root, then `clickable` class overrides this for both\n    cursor: 'default',\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    textDecoration: 'none',\n    border: 0,\n    // Remove `button` border\n    padding: 0,\n    // Remove `button` padding\n    verticalAlign: 'middle',\n    boxSizing: 'border-box',\n    [`&.${chipClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`& .${chipClasses.avatar}`]: {\n      marginLeft: 5,\n      marginRight: -6,\n      width: 24,\n      height: 24,\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      fontSize: theme.typography.pxToRem(12)\n    },\n    [`& .${chipClasses.avatarColorPrimary}`]: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.dark\n    },\n    [`& .${chipClasses.avatarColorSecondary}`]: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.dark\n    },\n    [`& .${chipClasses.avatarSmall}`]: {\n      marginLeft: 4,\n      marginRight: -4,\n      width: 18,\n      height: 18,\n      fontSize: theme.typography.pxToRem(10)\n    },\n    [`& .${chipClasses.icon}`]: _extends({\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    }, ownerState.size === 'small' && {\n      fontSize: 18,\n      marginLeft: 4,\n      marginRight: -4\n    }, ownerState.color !== 'default' && {\n      color: 'inherit'\n    }),\n    [`& .${chipClasses.deleteIcon}`]: _extends({\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      fontSize: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: alpha(deleteIconColor, 0.4)\n      }\n    }, ownerState.size === 'small' && {\n      fontSize: 16,\n      marginRight: 4,\n      marginLeft: -4\n    }, ownerState.color !== 'default' && {\n      color: alpha(theme.palette[ownerState.color].contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette[ownerState.color].contrastText\n      }\n    })\n  }, ownerState.size === 'small' && {\n    height: 24\n  }, ownerState.color !== 'default' && {\n    backgroundColor: theme.palette[ownerState.color].main,\n    color: theme.palette[ownerState.color].contrastText\n  }, ownerState.onDelete && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, ownerState.onDelete && ownerState.color !== 'default' && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: theme.palette[ownerState.color].dark\n    }\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.clickable && {\n  userSelect: 'none',\n  WebkitTapHighlightColor: 'transparent',\n  cursor: 'pointer',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n  },\n  '&:active': {\n    boxShadow: theme.shadows[1]\n  }\n}, ownerState.clickable && ownerState.color !== 'default' && {\n  [`&:hover, &.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette[ownerState.color].dark\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'outlined' && {\n  backgroundColor: 'transparent',\n  border: `1px solid ${theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[700]}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: theme.palette.action.hover\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`& .${chipClasses.avatar}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.avatarSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.icon}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.iconSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    marginRight: 5\n  },\n  [`& .${chipClasses.deleteIconSmall}`]: {\n    marginRight: 3\n  }\n}, ownerState.variant === 'outlined' && ownerState.color !== 'default' && {\n  color: theme.palette[ownerState.color].main,\n  border: `1px solid ${alpha(theme.palette[ownerState.color].main, 0.7)}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.focusOpacity)\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    color: alpha(theme.palette[ownerState.color].main, 0.7),\n    '&:hover, &:active': {\n      color: theme.palette[ownerState.color].main\n    }\n  }\n}));\nconst ChipLabel = styled('span', {\n  name: 'MuiChip',\n  slot: 'Label',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      size\n    } = ownerState;\n    return [styles.label, styles[`label${capitalize(size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  paddingLeft: 12,\n  paddingRight: 12,\n  whiteSpace: 'nowrap'\n}, ownerState.size === 'small' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}));\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nconst Chip = /*#__PURE__*/React.forwardRef(function Chip(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiChip'\n  });\n\n  const {\n    avatar: avatarProp,\n    className,\n    clickable: clickableProp,\n    color = 'default',\n    component: ComponentProp,\n    deleteIcon: deleteIconProp,\n    disabled = false,\n    icon: iconProp,\n    label,\n    onClick,\n    onDelete,\n    onKeyDown,\n    onKeyUp,\n    size = 'medium',\n    variant = 'filled'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const chipRef = React.useRef(null);\n  const handleRef = useForkRef(chipRef, ref);\n\n  const handleDeleteIconClick = event => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  const handleKeyDown = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // Will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const handleKeyUp = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  const clickable = clickableProp !== false && onClick ? true : clickableProp;\n  const small = size === 'small';\n  const component = clickable || onDelete ? ButtonBase : ComponentProp || 'div';\n\n  const ownerState = _extends({}, props, {\n    component,\n    disabled,\n    size,\n    color,\n    onDelete: !!onDelete,\n    clickable,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const moreProps = component === ButtonBase ? _extends({\n    component: ComponentProp || 'div',\n    focusVisibleClassName: classes.focusVisible\n  }, onDelete && {\n    disableRipple: true\n  }) : {};\n  let deleteIcon = null;\n\n  if (onDelete) {\n    const customClasses = clsx(color !== 'default' && (variant === 'outlined' ? classes[`deleteIconOutlinedColor${capitalize(color)}`] : classes[`deleteIconColor${capitalize(color)}`]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/_jsx(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  let avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className)\n    });\n  }\n\n  let icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className)\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('MUI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(ChipRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    disabled: clickable && disabled ? true : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef,\n    ownerState: ownerState\n  }, moreProps, other, {\n    children: [avatar || icon, /*#__PURE__*/_jsx(ChipLabel, {\n      className: clsx(classes.label),\n      ownerState: ownerState,\n      children: label\n    }), deleteIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.element,\n\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If `false`, the chip will not appear clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   * Note: this controls the UI and does not affect the onClick event.\n   */\n  clickable: PropTypes.bool,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n\n  /**\n   * The content of the component.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'filled'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string])\n} : void 0;\nexport default Chip;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardMediaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardMedia', slot);\n}\nconst cardMediaClasses = generateUtilityClasses('MuiCardMedia', ['root', 'media', 'img']);\nexport default cardMediaClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"image\", \"src\", \"style\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCardMediaUtilityClass } from './cardMediaClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    isMediaComponent,\n    isImageComponent\n  } = ownerState;\n  const slots = {\n    root: ['root', isMediaComponent && 'media', isImageComponent && 'img']\n  };\n  return composeClasses(slots, getCardMediaUtilityClass, classes);\n};\n\nconst CardMediaRoot = styled('div', {\n  name: 'MuiCardMedia',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      isMediaComponent,\n      isImageComponent\n    } = ownerState;\n    return [styles.root, isMediaComponent && styles.media, isImageComponent && styles.img];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'block',\n  backgroundSize: 'cover',\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center'\n}, ownerState.isMediaComponent && {\n  width: '100%'\n}, ownerState.isImageComponent && {\n  // ⚠️ object-fit is not supported by IE11.\n  objectFit: 'cover'\n}));\nconst MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nconst IMAGE_COMPONENTS = ['picture', 'img'];\nconst CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardMedia'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    image,\n    src,\n    style\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const isMediaComponent = MEDIA_COMPONENTS.indexOf(component) !== -1;\n  const composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: `url(\"${image}\")`\n  }, style) : style;\n\n  const ownerState = _extends({}, props, {\n    component,\n    isMediaComponent,\n    isImageComponent: IMAGE_COMPONENTS.indexOf(component) !== -1\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardMediaRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    role: !isMediaComponent && image ? 'img' : undefined,\n    ref: ref,\n    style: composedStyle,\n    ownerState: ownerState,\n    src: isMediaComponent ? image || src : undefined\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('MUI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardMedia;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardActionAreaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActionArea', slot);\n}\nconst cardActionAreaClasses = generateUtilityClasses('MuiCardActionArea', ['root', 'focusVisible', 'focusHighlight']);\nexport default cardActionAreaClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"focusVisibleClassName\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardActionAreaClasses, { getCardActionAreaUtilityClass } from './cardActionAreaClasses';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    focusHighlight: ['focusHighlight']\n  };\n  return composeClasses(slots, getCardActionAreaUtilityClass, classes);\n};\n\nconst CardActionAreaRoot = styled(ButtonBase, {\n  name: 'MuiCardActionArea',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  textAlign: 'inherit',\n  width: '100%',\n  [`&:hover .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.hoverOpacity,\n    '@media (hover: none)': {\n      opacity: 0\n    }\n  },\n  [`&.${cardActionAreaClasses.focusVisible} .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.focusOpacity\n  }\n}));\nconst CardActionAreaFocusHighlight = styled('span', {\n  name: 'MuiCardActionArea',\n  slot: 'FocusHighlight',\n  overridesResolver: (props, styles) => styles.focusHighlight\n})(({\n  theme\n}) => ({\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  borderRadius: 'inherit',\n  opacity: 0,\n  backgroundColor: 'currentcolor',\n  transition: theme.transitions.create('opacity', {\n    duration: theme.transitions.duration.short\n  })\n}));\nconst CardActionArea = /*#__PURE__*/React.forwardRef(function CardActionArea(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActionArea'\n  });\n\n  const {\n    children,\n    className,\n    focusVisibleClassName\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(CardActionAreaRoot, _extends({\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(focusVisibleClassName, classes.focusVisible),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [children, /*#__PURE__*/_jsx(CardActionAreaFocusHighlight, {\n      className: classes.focusHighlight,\n      ownerState: ownerState\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActionArea.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActionArea;","import createBox from '../createBox';\nconst Box = createBox();\nexport default Box;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\"\n}), 'SwapHoriz');","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getMasonryUtilityClass(slot) {\n  return generateUtilityClass('MuiMasonry', slot);\n}\nconst masonryClasses = generateUtilityClasses('MuiMasonry', ['root']);\nexport default masonryClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"columns\", \"spacing\", \"defaultColumns\", \"defaultHeight\", \"defaultSpacing\"];\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { createUnarySpacing, getValue, handleBreakpoints, unstable_resolveBreakpointValues as resolveBreakpointValues } from '@mui/system';\nimport { deepmerge, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { getMasonryUtilityClass } from './masonryClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const parseToNumber = val => {\n  return Number(val.replace('px', ''));\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getMasonryUtilityClass, classes);\n};\n\nexport const getStyle = ({\n  ownerState,\n  theme\n}) => {\n  let styles = {\n    width: '100%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    alignContent: 'space-between',\n    boxSizing: 'border-box',\n    '& > *': {\n      boxSizing: 'border-box'\n    }\n  };\n  const stylesSSR = {};\n\n  if (ownerState.isSSR) {\n    const orderStyleSSR = {};\n    const defaultSpacing = Number(theme.spacing(ownerState.defaultSpacing).replace('px', ''));\n\n    for (let i = 1; i <= ownerState.defaultColumns; i += 1) {\n      orderStyleSSR[`&:nth-of-type(${ownerState.defaultColumns}n+${i % ownerState.defaultColumns})`] = {\n        order: i\n      };\n    }\n\n    stylesSSR.height = ownerState.defaultHeight;\n    stylesSSR.margin = -(defaultSpacing / 2);\n    stylesSSR['& > *'] = _extends({}, styles['& > *'], orderStyleSSR, {\n      margin: defaultSpacing / 2,\n      width: `calc(${(100 / ownerState.defaultColumns).toFixed(2)}% - ${defaultSpacing}px)`\n    });\n    return _extends({}, styles, stylesSSR);\n  }\n\n  const spacingValues = resolveBreakpointValues({\n    values: ownerState.spacing,\n    breakpoints: theme.breakpoints.values\n  });\n  const transformer = createUnarySpacing(theme);\n\n  const spacingStyleFromPropValue = propValue => {\n    const themeSpacingValue = Number(propValue);\n    const spacing = Number(getValue(transformer, themeSpacingValue).replace('px', ''));\n    return _extends({\n      margin: -(spacing / 2),\n      '& > *': {\n        margin: spacing / 2\n      }\n    }, ownerState.maxColumnHeight && {\n      height: Math.ceil(ownerState.maxColumnHeight + spacing)\n    });\n  };\n\n  styles = deepmerge(styles, handleBreakpoints({\n    theme\n  }, spacingValues, spacingStyleFromPropValue));\n  const columnValues = resolveBreakpointValues({\n    values: ownerState.columns,\n    breakpoints: theme.breakpoints.values\n  });\n\n  const columnStyleFromPropValue = propValue => {\n    const columnValue = Number(propValue);\n    const width = `${(100 / columnValue).toFixed(2)}%`;\n    const spacing = typeof spacingValues !== 'object' ? getValue(transformer, Number(spacingValues)) : '0px';\n    return {\n      '& > *': {\n        width: `calc(${width} - ${spacing})`\n      }\n    };\n  };\n\n  styles = deepmerge(styles, handleBreakpoints({\n    theme\n  }, columnValues, columnStyleFromPropValue)); // configure width for responsive spacing values\n\n  if (typeof spacingValues === 'object') {\n    styles = deepmerge(styles, handleBreakpoints({\n      theme\n    }, spacingValues, (propValue, breakpoint) => {\n      if (breakpoint) {\n        const themeSpacingValue = Number(propValue);\n        const lastBreakpoint = Object.keys(columnValues).pop();\n        const spacing = getValue(transformer, themeSpacingValue);\n        const column = typeof columnValues === 'object' ? columnValues[breakpoint] || columnValues[lastBreakpoint] : columnValues;\n        const width = `${(100 / column).toFixed(2)}%`;\n        return {\n          '& > *': {\n            width: `calc(${width} - ${spacing})`\n          }\n        };\n      }\n\n      return null;\n    }));\n  }\n\n  return styles;\n};\nconst MasonryRoot = styled('div', {\n  name: 'MuiMasonry',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [styles.root];\n  }\n})(getStyle);\nconst Masonry = /*#__PURE__*/React.forwardRef(function Masonry(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiMasonry'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    columns = 4,\n    spacing = 1,\n    defaultColumns,\n    defaultHeight,\n    defaultSpacing\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const masonryRef = React.useRef();\n  const [maxColumnHeight, setMaxColumnHeight] = React.useState();\n  const isSSR = !maxColumnHeight && defaultHeight && defaultColumns !== undefined && defaultSpacing !== undefined;\n  const [numberOfLineBreaks, setNumberOfLineBreaks] = React.useState(isSSR ? defaultColumns - 1 : 0);\n\n  const ownerState = _extends({}, props, {\n    spacing,\n    columns,\n    maxColumnHeight,\n    defaultColumns,\n    defaultHeight,\n    defaultSpacing,\n    isSSR\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  const handleResize = elements => {\n    if (!elements) {\n      return;\n    }\n\n    let masonry;\n    let masonryFirstChild;\n    let parentWidth;\n    let childWidth;\n\n    if (elements[0].target.className.includes(classes.root)) {\n      var _elements$, _masonryFirstChild, _masonryFirstChild$co, _masonryFirstChild2;\n\n      masonry = elements[0].target;\n      parentWidth = elements[0].contentRect.width;\n      masonryFirstChild = ((_elements$ = elements[1]) == null ? void 0 : _elements$.target) || masonry.firstChild;\n      childWidth = ((_masonryFirstChild = masonryFirstChild) == null ? void 0 : (_masonryFirstChild$co = _masonryFirstChild.contentRect) == null ? void 0 : _masonryFirstChild$co.width) || ((_masonryFirstChild2 = masonryFirstChild) == null ? void 0 : _masonryFirstChild2.clientWidth) || 0;\n    } else {\n      var _elements$2, _masonry$contentRect;\n\n      masonryFirstChild = elements[0].target;\n      childWidth = elements[0].contentRect.width;\n      masonry = ((_elements$2 = elements[1]) == null ? void 0 : _elements$2.target) || masonryFirstChild.parentElement;\n      parentWidth = ((_masonry$contentRect = masonry.contentRect) == null ? void 0 : _masonry$contentRect.width) || masonry.clientWidth;\n    }\n\n    if (parentWidth === 0 || childWidth === 0 || !masonry || !masonryFirstChild) {\n      return;\n    }\n\n    const firstChildComputedStyle = window.getComputedStyle(masonryFirstChild);\n    const firstChildMarginLeft = parseToNumber(firstChildComputedStyle.marginLeft);\n    const firstChildMarginRight = parseToNumber(firstChildComputedStyle.marginRight);\n    const currentNumberOfColumns = Math.round(parentWidth / (childWidth + firstChildMarginLeft + firstChildMarginRight));\n    const columnHeights = new Array(currentNumberOfColumns).fill(0);\n    let skip = false;\n    masonry.childNodes.forEach(child => {\n      if (child.nodeType !== Node.ELEMENT_NODE || child.dataset.class === 'line-break' || skip) {\n        return;\n      }\n\n      const childComputedStyle = window.getComputedStyle(child);\n      const childMarginTop = parseToNumber(childComputedStyle.marginTop);\n      const childMarginBottom = parseToNumber(childComputedStyle.marginBottom); // if any one of children isn't rendered yet, masonry's height shouldn't be computed yet\n\n      const childHeight = parseToNumber(childComputedStyle.height) ? Math.ceil(parseToNumber(childComputedStyle.height)) + childMarginTop + childMarginBottom : 0;\n\n      if (childHeight === 0) {\n        skip = true;\n        return;\n      } // if there is a nested image that isn't rendered yet, masonry's height shouldn't be computed yet\n\n\n      for (let i = 0; i < child.childNodes.length; i += 1) {\n        const nestedChild = child.childNodes[i];\n\n        if (nestedChild.tagName === 'IMG' && nestedChild.clientHeight === 0) {\n          skip = true;\n          break;\n        }\n      }\n\n      if (!skip) {\n        // find the current shortest column (where the current item will be placed)\n        const currentMinColumnIndex = columnHeights.indexOf(Math.min(...columnHeights));\n        columnHeights[currentMinColumnIndex] += childHeight;\n        const order = currentMinColumnIndex + 1;\n        child.style.order = order;\n      }\n    });\n\n    if (!skip) {\n      setMaxColumnHeight(Math.max(...columnHeights));\n      const numOfLineBreaks = currentNumberOfColumns > 0 ? currentNumberOfColumns - 1 : 0;\n      setNumberOfLineBreaks(numOfLineBreaks);\n    }\n  };\n\n  const observer = React.useRef(typeof ResizeObserver === 'undefined' ? undefined : new ResizeObserver(handleResize));\n  React.useEffect(() => {\n    const resizeObserver = observer.current; // IE and old browsers are not supported\n\n    if (resizeObserver === undefined) {\n      return undefined;\n    }\n\n    const container = masonryRef.current;\n\n    if (container && resizeObserver) {\n      // only the masonry container and its first child are observed for resizing;\n      // this might cause unforeseen problems in some use cases;\n      resizeObserver.observe(container);\n\n      if (container.firstChild) {\n        resizeObserver.observe(container.firstChild);\n      }\n    }\n\n    return () => resizeObserver ? resizeObserver.disconnect() : {};\n  }, [columns, spacing, children]);\n  const handleRef = useForkRef(ref, masonryRef);\n  const lineBreakStyle = {\n    flexBasis: '100%',\n    width: 0,\n    margin: 0,\n    padding: 0\n  }; //  columns are likely to have different heights and hence can start to merge;\n  //  a line break at the end of each column prevents columns from merging\n\n  const lineBreaks = new Array(numberOfLineBreaks).fill('').map((_, index) => /*#__PURE__*/_jsx(\"span\", {\n    \"data-class\": \"line-break\",\n    style: _extends({}, lineBreakStyle, {\n      order: index + 1\n    })\n  }, index));\n  return /*#__PURE__*/_jsxs(MasonryRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ref: handleRef,\n    ownerState: ownerState\n  }, other, {\n    children: [children, lineBreaks]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Masonry.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Number of columns.\n   * @default 4\n   */\n  columns: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The default number of columns of the component. This is provided for server-side rendering.\n   */\n  defaultColumns: PropTypes.number,\n\n  /**\n   * The default height of the component in px. This is provided for server-side rendering.\n   */\n  defaultHeight: PropTypes.number,\n\n  /**\n   * The default spacing of the component. Like `spacing`, it is a factor of the theme's spacing. This is provided for server-side rendering.\n   */\n  defaultSpacing: PropTypes.number,\n\n  /**\n   * Defines the space between children. It is a factor of the theme's spacing.\n   * @default 1\n   */\n  spacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n\n  /**\n   * Allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Masonry;","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActions', slot);\n}\nconst cardActionsClasses = generateUtilityClasses('MuiCardActions', ['root', 'spacing']);\nexport default cardActionsClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"disableSpacing\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getCardActionsUtilityClass } from './cardActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getCardActionsUtilityClass, classes);\n};\n\nconst CardActionsRoot = styled('div', {\n  name: 'MuiCardActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8\n}, !ownerState.disableSpacing && {\n  '& > :not(:first-of-type)': {\n    marginLeft: 8\n  }\n}));\nconst CardActions = /*#__PURE__*/React.forwardRef(function CardActions(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActions'\n  });\n\n  const {\n    disableSpacing = false,\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActions;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'PersonAdd');","import * as React from 'react';\n\nconst usePreviousProps = value => {\n  const ref = React.useRef({});\n  React.useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nexport default usePreviousProps;","import generateUtilityClasses from '../generateUtilityClasses';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getBadgeUtilityClass(slot) {\n  return generateUtilityClass('MuiBadge', slot);\n}\nconst badgeUnstyledClasses = generateUtilityClasses('MuiBadge', ['root', 'badge', 'dot', 'standard', 'anchorOriginTopLeftCircular', 'anchorOriginTopLeftRectangular', 'anchorOriginTopRightCircular', 'anchorOriginTopRightRectangular', 'anchorOriginBottomLeftCircular', 'anchorOriginBottomLeftRectangular', 'anchorOriginBottomRightCircular', 'anchorOriginBottomRightRectangular', 'invisible']);\nexport default badgeUnstyledClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"anchorOrigin\", \"classes\", \"badgeContent\", \"component\", \"children\", \"className\", \"components\", \"componentsProps\", \"invisible\", \"max\", \"overlap\", \"showZero\", \"variant\", \"theme\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_capitalize as capitalize, usePreviousProps } from '@mui/utils';\nimport isHostComponent from '../utils/isHostComponent';\nimport composeClasses from '../composeClasses';\nimport { getBadgeUtilityClass } from './badgeUnstyledClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    variant,\n    anchorOrigin,\n    overlap,\n    invisible,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    badge: ['badge', variant, `anchorOrigin${capitalize(anchorOrigin.vertical)}${capitalize(anchorOrigin.horizontal)}${capitalize(overlap)}`, invisible && 'invisible']\n  };\n  return composeClasses(slots, getBadgeUtilityClass, classes);\n};\n\nconst BadgeUnstyled = /*#__PURE__*/React.forwardRef(function BadgeUnstyled(props, ref) {\n  const {\n    anchorOrigin: anchorOriginProp = {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    classes: classesProp,\n    badgeContent: badgeContentProp,\n    component = 'span',\n    children,\n    className,\n    components = {},\n    componentsProps = {},\n    invisible: invisibleProp,\n    max: maxProp = 99,\n    overlap: overlapProp = 'rectangular',\n    showZero = false,\n    variant: variantProp = 'standard',\n\n    /* eslint-disable react/prop-types */\n    theme\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const prevProps = usePreviousProps({\n    anchorOrigin: anchorOriginProp,\n    badgeContent: badgeContentProp,\n    max: maxProp,\n    overlap: overlapProp,\n    variant: variantProp\n  });\n  let invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContentProp === 0 && !showZero || badgeContentProp == null && variantProp !== 'dot')) {\n    invisible = true;\n  }\n\n  const {\n    anchorOrigin = anchorOriginProp,\n    badgeContent,\n    max = maxProp,\n    overlap = overlapProp,\n    variant = variantProp\n  } = invisible ? prevProps : props;\n\n  const ownerState = _extends({}, props, {\n    anchorOrigin,\n    badgeContent,\n    classes: classesProp,\n    invisible,\n    max,\n    overlap,\n    variant\n  });\n\n  let displayValue = '';\n\n  if (variant !== 'dot') {\n    displayValue = badgeContent > max ? `${max}+` : badgeContent;\n  }\n\n  const classes = useUtilityClasses(ownerState);\n  const Root = components.Root || component;\n  const rootProps = componentsProps.root || {};\n  const Badge = components.Badge || 'span';\n  const badgeProps = componentsProps.badge || {};\n  return /*#__PURE__*/_jsxs(Root, _extends({}, rootProps, !isHostComponent(Root) && {\n    as: component,\n    ownerState: _extends({}, ownerState, rootProps.ownerState),\n    theme\n  }, {\n    ref: ref\n  }, other, {\n    className: clsx(classes.root, rootProps.className, className),\n    children: [children, /*#__PURE__*/_jsx(Badge, _extends({}, badgeProps, !isHostComponent(Badge) && {\n      ownerState: _extends({}, ownerState, badgeProps.ownerState),\n      theme\n    }, {\n      className: clsx(classes.badge, badgeProps.className),\n      children: displayValue\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? BadgeUnstyled.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   * @default {\n   *   vertical: 'top',\n   *   horizontal: 'right',\n   * }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The components used for each slot inside the Badge.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Badge: PropTypes.elementType,\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Badge.\n   * @default {}\n   */\n  componentsProps: PropTypes.object,\n\n  /**\n   * If `true`, the badge is invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   * @default 99\n   */\n  max: PropTypes.number,\n\n  /**\n   * Wrapped shape the badge should overlap.\n   * @default 'rectangular'\n   */\n  overlap: PropTypes.oneOf(['circular', 'rectangular']),\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   * @default false\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes.string\n} : void 0;\nexport default BadgeUnstyled;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"components\", \"componentsProps\", \"color\", \"invisible\", \"badgeContent\", \"showZero\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { usePreviousProps } from '@mui/utils';\nimport { generateUtilityClasses, isHostComponent } from '@mui/base';\nimport BadgeUnstyled, { badgeUnstyledClasses, getBadgeUtilityClass } from '@mui/base/BadgeUnstyled';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport capitalize from '../utils/capitalize';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const badgeClasses = _extends({}, badgeUnstyledClasses, generateUtilityClasses('MuiBadge', ['colorError', 'colorInfo', 'colorPrimary', 'colorSecondary', 'colorSuccess', 'colorWarning']));\nconst RADIUS_STANDARD = 10;\nconst RADIUS_DOT = 4;\n\nconst extendUtilityClasses = ownerState => {\n  const {\n    color,\n    classes = {}\n  } = ownerState;\n  return _extends({}, classes, {\n    badge: clsx(classes.badge, color !== 'default' && [getBadgeUtilityClass(`color${capitalize(color)}`), classes[`color${capitalize(color)}`]])\n  });\n};\n\nconst BadgeRoot = styled('span', {\n  name: 'MuiBadge',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  position: 'relative',\n  display: 'inline-flex',\n  // For correct alignment with the text.\n  verticalAlign: 'middle',\n  flexShrink: 0\n});\nconst BadgeBadge = styled('span', {\n  name: 'MuiBadge',\n  slot: 'Badge',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.badge, styles[ownerState.variant], styles[`anchorOrigin${capitalize(ownerState.anchorOrigin.vertical)}${capitalize(ownerState.anchorOrigin.horizontal)}${capitalize(ownerState.overlap)}`], ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`], ownerState.invisible && styles.invisible];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  justifyContent: 'center',\n  alignContent: 'center',\n  alignItems: 'center',\n  position: 'absolute',\n  boxSizing: 'border-box',\n  fontFamily: theme.typography.fontFamily,\n  fontWeight: theme.typography.fontWeightMedium,\n  fontSize: theme.typography.pxToRem(12),\n  minWidth: RADIUS_STANDARD * 2,\n  lineHeight: 1,\n  padding: '0 6px',\n  height: RADIUS_STANDARD * 2,\n  borderRadius: RADIUS_STANDARD,\n  zIndex: 1,\n  // Render the badge on top of potential ripples.\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.enteringScreen\n  })\n}, ownerState.color !== 'default' && {\n  backgroundColor: theme.palette[ownerState.color].main,\n  color: theme.palette[ownerState.color].contrastText\n}, ownerState.variant === 'dot' && {\n  borderRadius: RADIUS_DOT,\n  height: RADIUS_DOT * 2,\n  minWidth: RADIUS_DOT * 2,\n  padding: 0\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'rectangular' && {\n  top: 0,\n  right: 0,\n  transform: 'scale(1) translate(50%, -50%)',\n  transformOrigin: '100% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'rectangular' && {\n  bottom: 0,\n  right: 0,\n  transform: 'scale(1) translate(50%, 50%)',\n  transformOrigin: '100% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'rectangular' && {\n  top: 0,\n  left: 0,\n  transform: 'scale(1) translate(-50%, -50%)',\n  transformOrigin: '0% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'rectangular' && {\n  bottom: 0,\n  left: 0,\n  transform: 'scale(1) translate(-50%, 50%)',\n  transformOrigin: '0% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'circular' && {\n  top: '14%',\n  right: '14%',\n  transform: 'scale(1) translate(50%, -50%)',\n  transformOrigin: '100% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'circular' && {\n  bottom: '14%',\n  right: '14%',\n  transform: 'scale(1) translate(50%, 50%)',\n  transformOrigin: '100% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'circular' && {\n  top: '14%',\n  left: '14%',\n  transform: 'scale(1) translate(-50%, -50%)',\n  transformOrigin: '0% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'circular' && {\n  bottom: '14%',\n  left: '14%',\n  transform: 'scale(1) translate(-50%, 50%)',\n  transformOrigin: '0% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, 50%)'\n  }\n}, ownerState.invisible && {\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.leavingScreen\n  })\n}));\nconst Badge = /*#__PURE__*/React.forwardRef(function Badge(inProps, ref) {\n  var _componentsProps$root, _componentsProps$badg;\n\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiBadge'\n  });\n\n  const {\n    components = {},\n    componentsProps = {},\n    color: colorProp = 'default',\n    invisible: invisibleProp,\n    badgeContent: badgeContentProp,\n    showZero = false,\n    variant: variantProp = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const prevProps = usePreviousProps({\n    color: colorProp\n  });\n  let invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContentProp === 0 && !showZero || badgeContentProp == null && variantProp !== 'dot')) {\n    invisible = true;\n  }\n\n  const {\n    color = colorProp\n  } = invisible ? prevProps : props;\n\n  const ownerState = _extends({}, props, {\n    invisible,\n    color\n  });\n\n  const classes = extendUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(BadgeUnstyled, _extends({\n    invisible: invisibleProp,\n    badgeContent: badgeContentProp,\n    showZero: showZero,\n    variant: variantProp\n  }, other, {\n    components: _extends({\n      Root: BadgeRoot,\n      Badge: BadgeBadge\n    }, components),\n    componentsProps: {\n      root: _extends({}, componentsProps.root, (!components.Root || !isHostComponent(components.Root)) && {\n        ownerState: _extends({}, (_componentsProps$root = componentsProps.root) == null ? void 0 : _componentsProps$root.ownerState, {\n          color\n        })\n      }),\n      badge: _extends({}, componentsProps.badge, (!components.Thumb || !isHostComponent(components.Thumb)) && {\n        ownerState: _extends({}, (_componentsProps$badg = componentsProps.badge) == null ? void 0 : _componentsProps$badg.ownerState, {\n          color\n        })\n      })\n    },\n    classes: classes,\n    ref: ref\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Badge.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   * @default {\n   *   vertical: 'top',\n   *   horizontal: 'right',\n   * }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The components used for each slot inside the Badge.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Badge: PropTypes.elementType,\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Badge.\n   * @default {}\n   */\n  componentsProps: PropTypes.object,\n\n  /**\n   * If `true`, the badge is invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   * @default 99\n   */\n  max: PropTypes.number,\n\n  /**\n   * Wrapped shape the badge should overlap.\n   * @default 'rectangular'\n   */\n  overlap: PropTypes.oneOf(['circular', 'rectangular']),\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   * @default false\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['dot', 'standard']), PropTypes.string])\n} : void 0;\nexport default Badge;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordion', slot);\n}\nconst accordionClasses = generateUtilityClasses('MuiAccordion', ['root', 'rounded', 'expanded', 'disabled', 'gutters', 'region']);\nexport default accordionClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"defaultExpanded\", \"disabled\", \"disableGutters\", \"expanded\", \"onChange\", \"square\", \"TransitionComponent\", \"TransitionProps\"];\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Collapse from '../Collapse';\nimport Paper from '../Paper';\nimport AccordionContext from './AccordionContext';\nimport useControlled from '../utils/useControlled';\nimport accordionClasses, { getAccordionUtilityClass } from './accordionClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    square,\n    expanded,\n    disabled,\n    disableGutters\n  } = ownerState;\n  const slots = {\n    root: ['root', !square && 'rounded', expanded && 'expanded', disabled && 'disabled', !disableGutters && 'gutters'],\n    region: ['region']\n  };\n  return composeClasses(slots, getAccordionUtilityClass, classes);\n};\n\nconst AccordionRoot = styled(Paper, {\n  name: 'MuiAccordion',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${accordionClasses.region}`]: styles.region\n    }, styles.root, !ownerState.square && styles.rounded, !ownerState.disableGutters && styles.gutters];\n  }\n})(({\n  theme\n}) => {\n  const transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    position: 'relative',\n    transition: theme.transitions.create(['margin'], transition),\n    overflowAnchor: 'none',\n    // Keep the same scrolling position\n    '&:before': {\n      position: 'absolute',\n      left: 0,\n      top: -1,\n      right: 0,\n      height: 1,\n      content: '\"\"',\n      opacity: 1,\n      backgroundColor: theme.palette.divider,\n      transition: theme.transitions.create(['opacity', 'background-color'], transition)\n    },\n    '&:first-of-type': {\n      '&:before': {\n        display: 'none'\n      }\n    },\n    [`&.${accordionClasses.expanded}`]: {\n      '&:before': {\n        opacity: 0\n      },\n      '&:first-of-type': {\n        marginTop: 0\n      },\n      '&:last-of-type': {\n        marginBottom: 0\n      },\n      '& + &': {\n        '&:before': {\n          display: 'none'\n        }\n      }\n    },\n    [`&.${accordionClasses.disabled}`]: {\n      backgroundColor: theme.palette.action.disabledBackground\n    }\n  };\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, !ownerState.square && {\n  borderRadius: 0,\n  '&:first-of-type': {\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderTopRightRadius: theme.shape.borderRadius\n  },\n  '&:last-of-type': {\n    borderBottomLeftRadius: theme.shape.borderRadius,\n    borderBottomRightRadius: theme.shape.borderRadius,\n    // Fix a rendering issue on Edge\n    '@supports (-ms-ime-align: auto)': {\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0\n    }\n  }\n}, !ownerState.disableGutters && {\n  [`&.${accordionClasses.expanded}`]: {\n    margin: '16px 0'\n  }\n}));\nconst Accordion = /*#__PURE__*/React.forwardRef(function Accordion(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordion'\n  });\n\n  const {\n    children: childrenProp,\n    className,\n    defaultExpanded = false,\n    disabled = false,\n    disableGutters = false,\n    expanded: expandedProp,\n    onChange,\n    square = false,\n    TransitionComponent = Collapse,\n    TransitionProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const [expanded, setExpandedState] = useControlled({\n    controlled: expandedProp,\n    default: defaultExpanded,\n    name: 'Accordion',\n    state: 'expanded'\n  });\n  const handleChange = React.useCallback(event => {\n    setExpandedState(!expanded);\n\n    if (onChange) {\n      onChange(event, !expanded);\n    }\n  }, [expanded, onChange, setExpandedState]);\n  const [summary, ...children] = React.Children.toArray(childrenProp);\n  const contextValue = React.useMemo(() => ({\n    expanded,\n    disabled,\n    disableGutters,\n    toggle: handleChange\n  }), [expanded, disabled, disableGutters, handleChange]);\n\n  const ownerState = _extends({}, props, {\n    square,\n    disabled,\n    disableGutters,\n    expanded\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AccordionRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    square: square\n  }, other, {\n    children: [/*#__PURE__*/_jsx(AccordionContext.Provider, {\n      value: contextValue,\n      children: summary\n    }), /*#__PURE__*/_jsx(TransitionComponent, _extends({\n      in: expanded,\n      timeout: \"auto\"\n    }, TransitionProps, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        \"aria-labelledby\": summary.props.id,\n        id: summary.props['aria-controls'],\n        role: \"region\",\n        className: classes.region,\n        children: children\n      })\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Accordion.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node.isRequired, props => {\n    const summary = React.Children.toArray(props.children)[0];\n\n    if (isFragment(summary)) {\n      return new Error(\"MUI: The Accordion doesn't accept a Fragment as a child. \" + 'Consider providing an array instead.');\n    }\n\n    if (! /*#__PURE__*/React.isValidElement(summary)) {\n      return new Error('MUI: Expected the first child of Accordion to be a valid element.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, expands the accordion by default.\n   * @default false\n   */\n  defaultExpanded: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, it removes the margin between two expanded accordion items and the increase of height.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, expands the accordion, otherwise collapse it.\n   * Setting this prop enables control over the accordion.\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * Callback fired when the expand/collapse state is changed.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback. **Warning**: This is a generic event not a change event.\n   * @param {boolean} expanded The `expanded` state of the accordion.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, rounded corners are disabled.\n   * @default false\n   */\n  square: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   * @default Collapse\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the transition element.\n   * By default, the element is based on this [`Transition`](https://reactcommunity.org/react-transition-group/transition) component.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default Accordion;","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionSummaryUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordionSummary', slot);\n}\nconst accordionSummaryClasses = generateUtilityClasses('MuiAccordionSummary', ['root', 'expanded', 'focusVisible', 'disabled', 'gutters', 'contentGutters', 'content', 'expandIconWrapper']);\nexport default accordionSummaryClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"expandIcon\", \"focusVisibleClassName\", \"onClick\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport AccordionContext from '../Accordion/AccordionContext';\nimport accordionSummaryClasses, { getAccordionSummaryUtilityClass } from './accordionSummaryClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    expanded,\n    disabled,\n    disableGutters\n  } = ownerState;\n  const slots = {\n    root: ['root', expanded && 'expanded', disabled && 'disabled', !disableGutters && 'gutters'],\n    focusVisible: ['focusVisible'],\n    content: ['content', expanded && 'expanded', !disableGutters && 'contentGutters'],\n    expandIconWrapper: ['expandIconWrapper', expanded && 'expanded']\n  };\n  return composeClasses(slots, getAccordionSummaryUtilityClass, classes);\n};\n\nconst AccordionSummaryRoot = styled(ButtonBase, {\n  name: 'MuiAccordionSummary',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme,\n  ownerState\n}) => {\n  const transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return _extends({\n    display: 'flex',\n    minHeight: 48,\n    padding: theme.spacing(0, 2),\n    transition: theme.transitions.create(['min-height', 'background-color'], transition),\n    [`&.${accordionSummaryClasses.focusVisible}`]: {\n      backgroundColor: theme.palette.action.focus\n    },\n    [`&.${accordionSummaryClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity\n    },\n    [`&:hover:not(.${accordionSummaryClasses.disabled})`]: {\n      cursor: 'pointer'\n    }\n  }, !ownerState.disableGutters && {\n    [`&.${accordionSummaryClasses.expanded}`]: {\n      minHeight: 64\n    }\n  });\n});\nconst AccordionSummaryContent = styled('div', {\n  name: 'MuiAccordionSummary',\n  slot: 'Content',\n  overridesResolver: (props, styles) => styles.content\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexGrow: 1,\n  margin: '12px 0'\n}, !ownerState.disableGutters && {\n  transition: theme.transitions.create(['margin'], {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${accordionSummaryClasses.expanded}`]: {\n    margin: '20px 0'\n  }\n}));\nconst AccordionSummaryExpandIconWrapper = styled('div', {\n  name: 'MuiAccordionSummary',\n  slot: 'ExpandIconWrapper',\n  overridesResolver: (props, styles) => styles.expandIconWrapper\n})(({\n  theme\n}) => ({\n  display: 'flex',\n  color: theme.palette.action.active,\n  transform: 'rotate(0deg)',\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${accordionSummaryClasses.expanded}`]: {\n    transform: 'rotate(180deg)'\n  }\n}));\nconst AccordionSummary = /*#__PURE__*/React.forwardRef(function AccordionSummary(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordionSummary'\n  });\n\n  const {\n    children,\n    className,\n    expandIcon,\n    focusVisibleClassName,\n    onClick\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    disabled = false,\n    disableGutters,\n    expanded,\n    toggle\n  } = React.useContext(AccordionContext);\n\n  const handleChange = event => {\n    if (toggle) {\n      toggle(event);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  const ownerState = _extends({}, props, {\n    expanded,\n    disabled,\n    disableGutters\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AccordionSummaryRoot, _extends({\n    focusRipple: false,\n    disableRipple: true,\n    disabled: disabled,\n    component: \"div\",\n    \"aria-expanded\": expanded,\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    onClick: handleChange,\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [/*#__PURE__*/_jsx(AccordionSummaryContent, {\n      className: classes.content,\n      ownerState: ownerState,\n      children: children\n    }), expandIcon && /*#__PURE__*/_jsx(AccordionSummaryExpandIconWrapper, {\n      className: classes.expandIconWrapper,\n      ownerState: ownerState,\n      children: expandIcon\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionSummary.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The icon to display as the expand indicator.\n   */\n  expandIcon: PropTypes.node,\n\n  /**\n   * This prop can help identify which element has keyboard focus.\n   * The class name will be applied when the element gains the focus through keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/master/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default AccordionSummary;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionDetailsUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordionDetails', slot);\n}\nconst accordionDetailsClasses = generateUtilityClasses('MuiAccordionDetails', ['root']);\nexport default accordionDetailsClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getAccordionDetailsUtilityClass } from './accordionDetailsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getAccordionDetailsUtilityClass, classes);\n};\n\nconst AccordionDetailsRoot = styled('div', {\n  name: 'MuiAccordionDetails',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  padding: theme.spacing(1, 2, 2)\n}));\nconst AccordionDetails = /*#__PURE__*/React.forwardRef(function AccordionDetails(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordionDetails'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(AccordionDetailsRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionDetails.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default AccordionDetails;"],"sourceRoot":""}