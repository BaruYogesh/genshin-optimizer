{"version":3,"file":"static/js/988.f71fec6d.chunk.js","mappings":"mzJAYMA,GAAaC,EAAAA,EAAAA,IAAUC,GAAa,SAAAC,GAAK,OAAK,GAAL,eAAWC,OAAOC,OAAOF,QAElEG,GAAcC,EAAAA,EAAAA,GAAa,CAAC,KAAM,MAAO,MAAO,SAAU,YAAa,YAAa,WAAY,UAAU,SAAAC,GAAG,OAAIC,EAAAA,GAAAA,MAAYD,MAEtHE,GAAeC,EAAAA,EAAAA,IAC1BF,EAAAA,GAAAA,SAAAA,mBACAA,EAAAA,GAAAA,SAAAA,KACAA,EAAAA,GAAAA,SAAAA,iBACIG,GAAiBD,EAAAA,EAAAA,KACrBE,EAAAA,EAAAA,IAAOJ,EAAAA,GAAAA,IAAAA,KAAgB,CACrB,MAASA,EAAAA,GAAAA,QAAe,MAASA,EAAAA,GAAAA,cAChCK,IACHD,EAAAA,EAAAA,IAAOJ,EAAAA,GAAAA,WAAkB,CACvBM,MAAOL,EAAcM,SAAUN,EAAcO,QAASP,EACtDQ,SAAUT,EAAAA,GAAAA,cACTK,GACH,YAGF,SAASK,EAAcC,GACrB,OAAQA,GACN,IAAK,SAAU,IAAK,UAAW,IAAK,WAAY,MAAO,OACvD,IAAK,QAAS,MAAO,QACrB,IAAK,QAAS,MAAO,SAKlB,SAASC,EAAcC,EAAeF,GAA4G,IAAD,EAAhCG,EAAgC,uDAAb,GACzI,OAAOC,EAAAA,EAAAA,IAAKf,EAAAA,GAAAA,IAAAA,KAAegB,EAAAA,EAAAA,IAAU,CAAC,CACpCC,IAAK,CAAEJ,KAAAA,EAAMF,MAAMO,EAAAA,EAAAA,IAASP,GAAOQ,IAAe,OAAVL,QAAU,IAAVA,GAAA,UAAAA,EAAYG,WAAZ,SAAiBE,SAAMd,EAAYF,IAC1EW,KAGE,SAASM,EAAiBP,EAAeC,GAC9C,IAAMO,GAAaC,EAAAA,EAAAA,IAAKT,GAAMU,EAAAA,EAAAA,IAAIC,EAAAA,GAAMxB,EAAAA,GAAAA,MAAAA,UACxC,OAAOc,GAAaC,EAAAA,EAAAA,IAAKM,EAAYP,GAAcO,EAG9C,SAASI,EAAeZ,EAAeC,GAC5C,IAAMY,GAAWJ,EAAAA,EAAAA,IAAKT,GAAMU,EAAAA,EAAAA,IAAIC,EAAAA,GAAMxB,EAAAA,GAAAA,MAAAA,MAAmBA,EAAAA,GAAAA,MAAAA,WACzD,OAAOc,GAAaC,EAAAA,EAAAA,IAAKW,EAAUZ,GAAcY,EAG5C,SAASC,EAAQd,EAAgCe,EAAyBjB,GAA8F,IAAjCG,EAAgC,uDAAb,GACzJe,EAAanB,EAAcC,GACjC,OAAOC,GAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAA,UAAe6B,EAAf,UAAmCD,EAAe,CAAE7B,IAAK,MAAQC,EAAAA,GAAAA,MAAYa,IAAQF,EAAMG,GAG1H,SAASO,EAAWR,EAAgCkB,EAA2BC,EAAwBlB,GAC5G,OAAOM,GAAiBG,EAAAA,EAAAA,KAAID,EAAAA,EAAAA,IAAKS,EAAS/B,EAAAA,GAAAA,MAAYa,IAAQmB,GAAOlB,GAGhE,SAASY,EAASb,EAAgCkB,EAA2BC,EAAwBlB,GAC1G,OAAOW,GAAeF,EAAAA,EAAAA,KAAID,EAAAA,EAAAA,IAAKS,EAAS/B,EAAAA,GAAAA,MAAYa,IAAQmB,GAAOlB,GAG9D,SAASmB,EAAiBpB,EAAgCqB,EAA0BF,EAAgBrB,EAA6DG,GACtK,IAAMe,EAAanB,EAAcC,GAC3BwB,EAAcnC,EAAAA,GAAAA,MAAA,UAAe6B,EAAf,UACpB,OAAOT,GAAiBG,EAAAA,EAAAA,KACtBD,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAUK,EAAaD,EAAgB,CAAEnC,IAAK,MAAQC,EAAAA,GAAAA,MAAYa,KACvEiB,EAAAA,EAAAA,IAAUK,EAAaH,IACtBlB,GAEE,SAASsB,EAAcC,EAAwDhB,GACpF,OAAOiB,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAoB,QAAZM,EAAoB,IAAM,KAAMhB,GAAa,CAAEkB,QAASF,IAG/E,SAASG,EAAe3B,EAAgCqB,EAA0BF,EAAgBrB,EAA6DG,GACpK,IAAMe,EAAanB,EAAcC,GAC3BwB,EAAcnC,EAAAA,GAAAA,MAAA,UAAe6B,EAAf,UACpB,OAAOJ,GAAeF,EAAAA,EAAAA,KACpBD,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAUK,EAAaD,EAAgB,CAAEnC,IAAK,MAAQC,EAAAA,GAAAA,MAAYa,KACvEiB,EAAAA,EAAAA,IAAUK,EAAaH,IACtBlB,GAEE,SAAS2B,EACd1C,EACAsC,EACAK,EACAC,EAMAC,GAEO,IADP9B,EACM,uDADa,GAEnB,SAAS+B,EAAMhC,EAAciC,GAC3B,OAAOxB,EAAAA,EAAAA,IAAKT,GAAMiB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,IAAWT,EAAWuD,KAEpDF,EAAQG,OAAR,UAAqBlD,GACrB,IAoBImD,EApBEjC,EAAa,CACjBkC,SAAS/B,EAAAA,EAAAA,IAASnB,GAClBc,KAAM,GACNqC,YAAYhC,EAAAA,EAAAA,IAASyB,EAAIQ,eACzBC,OAAQ,GACRR,QAAAA,GAEEP,IACFtB,EAAKsC,SAAUnC,EAAAA,EAAAA,IAASmB,GACxBtB,EAAKuC,SAAW,CAAEC,OAAM,UAAIlB,GAAUnB,EAAAA,EAAAA,IAAS,KAC/CH,EAAK6B,QAASG,MAAd,UAAuBV,EAAvB,UAAyCrC,EAAAA,GAAAA,MAAA,UAAeqC,EAAf,UACzCtB,EAAK6B,QAASY,SAAWC,EAAAA,GAAUpB,IAEjCK,IACFgB,EAAAA,EAAAA,IAAkB3C,EAAM,CAAC,WAAY,QAAS2B,IAASxB,EAAAA,EAAAA,IAAS,IACxC,aAAtByB,EAAIQ,gBACDpC,EAAK6B,QAASG,QAAOhC,EAAK6B,QAASG,MAAQ,IAChDhC,EAAK6B,QAASG,MAAOY,cAAgB3D,EAAAA,GAAAA,MAAAA,eAIvC,IA1BM,iBA0BD,IAAM4D,EAAI,KACPC,EAAkB,GAOxB,GANIlB,EAAImB,OAAOF,IACbC,EAAKE,KAAKlB,EAAMF,EAAI9B,KAAK+C,GAAOjB,EAAImB,OAAOF,KACjCjB,EAAIqB,WAAWC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAMP,OAE3CC,EAAKE,MAAKjC,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,IAAW2C,EAAIqB,WAAWI,KAAI,SAAAF,GAAC,uBAAIA,EAAEC,MAAMP,UAAZ,QAAqBS,UAErER,EAAKS,OAAQ,iBAElB,IAAMC,GAASjC,EAAAA,EAAAA,IAAwB,IAAhBuB,EAAKS,OAAeT,EAAK,GAAKtC,EAAAA,GAAAA,WAAA,EAAOsC,GAAO,CAAE9D,IAAK6D,EAAMY,OAAQ,OAAQC,SAAS,IAEzG,GADIb,EAAKc,SAAS,WAAUH,EAAOI,KAAMpC,QAAUqB,EAAKgB,MAAM,GAAI,IACrD,QAAThB,GAA2B,QAATA,GAA2B,OAATA,EACtC7C,EAAKF,KAAM+C,GAAQW,MAChB,CACH,GAAIvB,EAAc,MAAM,IAAI6B,MAAM,2BAClC7B,GAAe,EACfjC,EAAK+D,QAAUP,EACfxD,EAAKqC,OAAQQ,GAAQ5D,EAAAA,GAAAA,UAlBzB,wBAAuB+E,EAAAA,GAAvB,CAAwC,QAAxC,eAAyD,IAsBzD,OAAO/D,EAAAA,EAAAA,IAAU,CAACD,GAAMiE,EAAAA,EAAAA,IAAalE,O,i/BCpIjCmE,EAA+D,CACnEC,eAAAA,EAAgBC,eAAAA,EAAgBC,eAAAA,EAAgBC,eAAAA,EAAgBC,eAAAA,EAAgBC,eAAAA,EAAgBC,MAAAA,EAAOC,MAAAA,EAAOC,SAAAA,EAAUC,SAAAA,EAAUC,SAAAA,G,61FCN9HC,EAAWC,EAEX/F,EAAoB,SAE1B,GAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,GAAhC,eAAOiG,EAAP,KAAWC,EAAX,KACMC,GAAKC,EAAAA,EAAAA,GAAcpG,EAAK8F,EAAS1C,cAAe8B,GAElDmB,EAAI,EAAGC,EAAI,EAAGC,EAAI,EAChBC,EAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,EAAAA,GAAoBN,KACpBM,EAAAA,GAAoBN,KACpBM,EAAAA,GAAoBN,KACpBM,EAAAA,GAAoBN,KACpBM,EAAAA,GAAoBN,OAGxBO,QAAS,CACPC,KAAMF,EAAAA,GAAoBN,KAC1BS,KAAMH,EAAAA,GAAoBN,KAC1BU,QAASJ,EAAAA,GAAoBN,KAAK,IAEpCW,SAAU,CACRC,IAAKN,EAAAA,GAAoBN,KACzBa,IAAKP,EAAAA,GAAoBN,KACzBc,KAAMR,EAAAA,GAAoBN,MAE5BZ,MAAO,CACL2B,SAAUT,EAAAA,GAAqBL,KAC/Be,WAAYV,EAAAA,GAAqBL,KACjCgB,SAAUX,EAAAA,GAAqBL,KAAK,GACpCiB,GAAIZ,EAAAA,GAAqBL,KAAK,GAC9BkB,UAAW,GAEb9B,MAAO,CACL+B,SAAUd,EAAAA,GAAqBJ,KAC/Bc,WAAYV,EAAAA,GAAqBJ,KACjCmB,WAAY,EACZH,GAAIZ,EAAAA,GAAqBJ,KAAK,GAC9BoB,SAAUhB,EAAAA,GAAqBJ,KAAK,IAEtCZ,SAAU,CACRiC,cAAe,IACfC,SAAU,IAEZjC,SAAU,CACRkC,UAAWnB,EAAAA,GAAAA,GAAAA,GACXW,SAAUX,EAAAA,GAAAA,GAAAA,IAEZxB,eAAgB,CACd4C,YAAapB,EAAAA,GAAAA,IAEfvB,eAAgB,CACdwC,cAAe,GACfI,UAAW,EACXC,cAAe,IAEjB3C,eAAgB,CACd4C,cAAe,IAEjB1C,eAAgB,CACd2C,WAAY,MAIhB,GAAiDC,EAAAA,EAAAA,IAAKpI,EAAK,gBAA3D,eAAOqI,EAAP,KAA6BC,EAA7B,KACA,GAA2CF,EAAAA,EAAAA,IAAKpI,EAAK,aAArD,eAAOuI,EAAP,KAA0BC,EAA1B,KACMC,GAAiBC,EAAAA,EAAAA,IAAMF,EAAe,aAAaG,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAGuG,EAASZ,SAASkC,YAEnG,GAA2CM,EAAAA,EAAAA,IAAKpI,EAAK,aAArD,eAAO4I,EAAP,KAA0BC,EAA1B,KACMC,GAAkBJ,EAAAA,EAAAA,IAAMG,EAAe,WAAWF,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAGuG,EAASb,SAASiC,gBAElG,GAAyCQ,EAAAA,EAAAA,IAAKpI,EAAK,YAAnD,gBAAO+I,GAAP,MAAyBC,GAAzB,MACMC,IAAkBN,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACrDsB,EAAAA,EAAAA,KACElB,EAAAA,EAAAA,IACE2I,GACApJ,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,EAASpB,eAAe4C,WAAW3D,KAAI,SAAA+E,GAAC,MAClE,CAACA,GACC7H,EAAAA,EAAAA,IAAK6H,EAAG5C,EAASpB,eAAewC,oBAGpCyB,EAAAA,IAEFpJ,EAAAA,GAAAA,MAAAA,MAIJ,IAAiDmI,EAAAA,EAAAA,IAAKpI,EAAK,gBAA3D,iBAAOsJ,GAAP,MAA6BC,GAA7B,MACMC,IAAuBb,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC1DyI,EAAAA,EAAAA,IAAMa,GAAkB,eAAgB/C,EAASlB,eAAe4C,gBAE5DuB,IAAmBf,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBF,IAIpE,IAAmDpB,EAAAA,EAAAA,IAAKpI,EAAK,iBAA7D,iBAAO2J,GAAP,MAA8BC,GAA9B,MACMC,IAA0BlB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC7DyI,EAAAA,EAAAA,IAAMa,GAAkB,gBACtBb,EAAAA,EAAAA,IAAMkB,GAAmB,gBAAiBpD,EAAShB,eAAe2C,cAGhE2B,IAAsBpB,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBG,IAEjEE,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,EAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,EAASI,QAAQC,KAAM,WAC5CC,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,EAASI,QAAQE,KAAM,YAE9CE,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,EAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,EAASf,MAAM2B,SAAU,SAC7C8C,SAAStI,EAAAA,EAAAA,IAAQ,MAAO4E,EAASf,MAAM4B,WAAY,QAAS,CAAE8C,MAAO,CAAEC,WAAYtB,MAErFpD,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,EAASd,MAAM+B,SAAU,SAC7CyC,SAASxB,EAAAA,EAAAA,IAAM,aAAcJ,GAAkB1G,EAAAA,EAAAA,IAAQ,MAAO4E,EAASd,MAAM2B,WAAY,YAIvFgD,IAAU1B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5CqK,IAAU3B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAErCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,EA5Hd,MA4H+B,YAAa8F,EAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAO4E,GACP3E,MAAO4E,IAET/G,SAAU,CACRF,OAAQ,CACNmH,OAAQ/B,EACRP,cAAeuB,GACfgB,SAAUX,KAGdzG,OAAQ,CACNqH,aAAczB,MAIZ0B,GAAyB,CAC7BC,KAAM3E,EAAG,QACT4E,QAASC,EACTC,SAAUC,EACVC,aAAcC,EACdC,UAAWC,EACXC,OAAQvF,EAASwF,KACjBC,WApJ6B,MAqJ7BnI,cAAe0C,EAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,EAAG,qBACtByF,MAAOzF,EAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,EAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,EAAG,uBACR,CACD+F,OAAQxF,EAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,EAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,EAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,EAAV,6BAC7CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,EAAV,6BAC7CmM,WAAY,OACX,CACDJ,KAAM9F,EAAG,sBACTtG,MAAO6G,EAASI,QAAQG,WAEzB,CACDgF,KAAM9F,EAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,EAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,EAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMyE,QAAS,CAAElK,IAAI,QAAD,OAAUA,EAAV,+BAC7C,CACD+L,KAAM7F,EAAI,aACVvG,MAAO6G,EAASf,MAAM+B,UACtB/F,KAAM,KACL,CACDsK,KAAM9F,EAAG,uBACTtG,MAAO6G,EAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,EAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,EAAGkG,oBAAoB,WAAY,CACpC1M,MAAOkJ,EACPyD,KAAM1D,EACNgC,MAAM2B,EAAAA,EAAAA,IAAG,qBAAsB,CAAEvK,QAASwE,EAASb,SAASkC,WAC5D2E,OAAQ,CACNC,QAAS,CACPT,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQuG,EAAiB,CAAE9I,IAAI,QAAD,OAAUA,EAAV,wBAIxCmG,EAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM7F,EAAI,kBACVvG,MAAO6G,EAASrB,eAAe4C,YAC/B4E,MAAO,MAEPxG,EAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAO4J,GACP+C,KAAMhD,GACNsB,MAAM2B,EAAAA,EAAAA,IAAG,mBACThJ,UAAU,EACViJ,OAAQ,CACNI,aAAc,CACZZ,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQiH,GAAsB,CAAExJ,IAAK,wBAI/CmG,EAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOiK,GACP0C,KAAM3C,GACNiB,MAAM2B,EAAAA,EAAAA,IAAG,4BACTM,SAASnE,EAAAA,EAAAA,IAAMa,GAAkB,eAAgB,GACjDhG,UAAU,EACViJ,OAAQ,CACNM,cAAe,CACbd,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQsH,GAAyB,CAAE7J,IAAK,qBAMtD0F,MAAOS,EAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,EAAV,+BACzC,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,EAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,EAASd,MAAMiC,YAEvBxB,EAAGkG,oBAAoB,QAAS,CACjC1M,MAAO2I,EACPgE,KAAMjE,EACNuC,KAAM1E,EAAI,kBACVsG,OAAQ,CACNO,WAAY,CACVf,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMwE,QAAS,CAAElK,IAAI,QAAD,OAAUA,EAAV,8BAC9CmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAOxG,EAASd,MAAMgC,mBAIrDvB,EAAGkG,oBAAoB,WAAY,CACrC1M,MAAO6I,EACP8D,KAAM/D,EACNqC,MAAM2B,EAAAA,EAAAA,IAAG,kBACThJ,UAAU,EACViJ,OAAQ,CACNS,UAAW,CACTjB,OAAQ,CAAC,CACPE,KAAMzD,GACL,CACDsD,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,EAASZ,SAAS0B,SACzB7F,KAAM,UAIV0E,EAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOqJ,GACPsD,KAAMvD,GACN6B,KAAM1E,EAAI,YACVsG,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,EAASpB,eAAe4C,WAAW3D,KAAI,SAAA+E,GAAC,MAC1E,CAACA,EAAG,CACFwB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO5D,IAC3B4C,OAAQ,CAAC,CACPE,KAAMjD,eAMdtD,SAAUQ,EAAG2F,eAAe,YAC5BlG,SAAUO,EAAG2F,eAAe,YAC5BjG,SAAUM,EAAG2F,eAAe,YAC5B3G,eAAgBgB,EAAG2F,eAAe,kBAClC1G,eAAgBe,EAAG2F,eAAe,kBAClCzG,eAAgBc,EAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM7B,QACxE/E,eAAgBa,EAAG2F,eAAe,kBAClCvG,eAAgBY,EAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM5B,QACxE9E,eAAgBW,EAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,22BCvTnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,2lGCN9HC,GAAWC,GAEX/F,GAAoB,OACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BiH,aAAc3G,GAAAA,GAAoBN,OAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL8H,cAAe5G,GAAAA,GAAqBL,MACpCkH,mBAAoB7G,GAAAA,GAAqBL,MACzCmH,YAAa9G,GAAAA,GAAqBL,MAClCoH,oBAAqB/G,GAAAA,GAAqBL,MAAK,GAC/CqH,oBAAqBhH,GAAAA,GAAqBL,MAC1CsH,oBAAqBjH,GAAAA,GAAqBL,MAC1CuH,oBAAqBlH,GAAAA,GAAqBL,MAC1CwH,sBAAuBnH,GAAAA,GAAqBL,MAC5CyH,gBAAiBpH,GAAAA,GAAqBL,MAAK,GAC3CiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRqI,OAAQ,IACRC,WAAYtH,GAAAA,GAAwBwG,MAAM,GAC1C7F,SAAUX,GAAAA,GAAwBwG,MAAM,IAE1CvH,SAAU,CACRsI,aAAcvH,GAAAA,GAAwByG,MAAM,KAIhD,IAAiChF,EAAAA,EAAAA,IAAKpI,GAAK,QAA3C,iBAAOmO,GAAP,MAAqBC,GAArB,MACMC,IAAchO,EAAAA,EAAAA,IAAO+N,GAAU,CACnC,OAASrM,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMkI,oBAAqB,CAAE3N,IAAK,MACtF,OAAS+B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMmI,oBAAqB,CAAE5N,IAAK,MACtF,OAAS+B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMoI,oBAAqB,CAAE7N,IAAK,MACtF,MAAQ+B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMqI,sBAAuB,CAAE9N,IAAK,OACtFqJ,EAAAA,IACGiF,IAAO3F,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsO,EAAAA,EAAAA,IAAQH,QAAU9N,GAAW0B,EAAAA,EAAAA,IAAQwE,GAASb,SAASqI,UAE5F,IAA6B5F,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAOwO,GAAP,MAAmBC,GAAnB,MACMC,IAAW/F,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM+F,GAAQ,MACrDF,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,IAAKgC,EAAAA,EAAAA,IAAQwE,GAASb,SAASsI,eAE9D,IAA6B7F,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO2O,GAAP,MAAmBC,GAAnB,MACMC,IAAYlG,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACrCI,EAAAA,EAAAA,IAAOuO,GAAQhP,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,IAAI9E,KAAI,SAAA+E,GAAC,MAAI,CAACA,GAAGpH,EAAAA,EAAAA,IAAQwE,GAASZ,SAASsI,aAAe9E,QAAOC,EAAAA,KAExGU,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,SAAU,CAChC9I,IAAK,CACHE,KAAK0N,EAAAA,EAAAA,IAAU,OAAQV,IAAUjN,EAAAA,EAAAA,IAASoK,KAAapK,EAAAA,EAAAA,IAAS,qBAGtEyF,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9CC,cAAc1L,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0G,aAAc,UAAW,CAAEpM,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAEhG6F,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL8H,eAAe3L,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM8H,cAAe,SAC5DC,oBAAoB5L,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM+H,mBAAoB,SACtEC,aAAa1L,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMgI,cAEhE/H,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,WAI/BjG,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,QAAYjL,EAAWwF,GAAUiE,GAAa,CAC9F1G,OAAQ,CACNgL,YAAAA,GACAC,KAAAA,GACAO,UAAAA,IAEFtL,SAAU,CACRF,OAAQ,CACNiL,KAAMI,OAKN/D,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,GAAW,IAANA,EAAU,GAAK,MACpG+C,WAAkB,IAAN/C,EAAU,MAAc,IAANA,EAAU,MAAQ,QAEjD,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0G,aAAc,CAAEtN,IAAI,QAAD,OAAUA,GAAV,gCAEtD,CACD+L,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM8H,cAAe,CAAEvN,IAAI,QAAD,OAAUA,GAAV,+BACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+H,mBAAoB,CAAExN,IAAI,QAAD,OAAUA,GAAV,+BACxD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMgI,YAAa,CAAEzN,IAAI,QAAD,OAAUA,GAAV,gCACjD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAMiI,qBACzBjM,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM8B,IACzB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOyO,GACP9B,KAAM6B,GACNvD,KAAM1E,GAAI,cACVsG,OAAQ,CACN,MAAS,CACP5B,KAAM1E,GAAI,eACV8F,OAAQ,CAAC,CACPE,KAAMmC,MAGV,MAAS,CACPzD,KAAM1E,GAAI,eACV8F,OAAQ,CAAC,CACPE,KAAMmC,MAGV,MAAS,CACPzD,KAAM1E,GAAI,eACV8F,OAAQ,CAAC,CACPE,KAAMmC,MAGV,KAAQ,CACNzD,KAAM1E,GAAI,cACV8F,OAAQ,CAAC,CACPE,KAAMmC,IACL,CACDtC,KAAM7F,GAAI,kBACT,CACD6F,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMsI,gBACtBtM,KAAM,YAMdiE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,cAI1BhC,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,KAAMoC,IACL,CACDvC,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,QAEN0E,GAAGkG,oBAAoB,WAAY,CACrC1M,MAAO8O,GACPnC,KAAMkC,GACN3B,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,GAAK,GAC3CuD,UAAU,EACVqH,KAAM1E,GAAI,cACVsG,OAAQ,CACN,GAAM,CACJR,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQmM,GAAU,CAAE1O,IAAK,UAC9B,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,YAKdmE,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAOiP,GACPtC,KAAMqC,GACN9B,SAASnE,EAAAA,EAAAA,IAAM,OAAQ0F,GAAU,GACjCxD,KAAM1E,GAAI,mBACVsG,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,IAAI9E,KAAI,SAAA+E,GAAC,MAAI,CAACA,EAAG,CACnDwB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO5D,IAC3B4C,OAAQ,CAAC,CAAEE,KAAM2C,eAGrBhJ,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,kBAClCxG,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,kBAClCtG,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,42BChQnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,o1FCP9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,OAE/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BiH,aAAc3G,GAAAA,GAAoBN,OAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLuJ,YAAarI,GAAAA,GAAqBL,MAClCW,IAAKN,GAAAA,GAAqBL,MAC1B2I,QAAStI,GAAAA,GAAqBL,MAC9BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLwJ,WAAYvI,GAAAA,GAAqBJ,MACjCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,GACpC4I,QAASxI,GAAAA,GAAqBJ,MAC9Be,SAAUX,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRyJ,YAAazI,GAAAA,GAAwBwG,MAAM,GAC3CkC,OAAQ1I,GAAAA,GAAwBwG,MAAM,IAExCvH,SAAU,CACRoI,OAAQrH,GAAAA,GAAwByG,MAAM,GACtC9F,SAAUX,GAAAA,GAAwByG,MAAM,IAE1CjI,eAAgB,CACdmK,YAAa3I,GAAAA,GAAAA,IAEfvB,eAAgB,CACdmK,qBAAsB5I,GAAAA,GAAAA,IAExBnB,eAAgB,CACdgK,WAAY7I,GAAAA,GAAAA,GACZqH,OAAQrH,GAAAA,GAAAA,GACRW,SAAUX,GAAAA,GAAAA,KAIR8I,IAAkB9G,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASb,SAASyJ,cAC1E,IAA6BhH,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO2O,GAAP,MAAmBC,GAAnB,MACMN,IAAO5F,EAAAA,EAAAA,IAAM,KAAMkG,IAAQ5M,EAAAA,EAAAA,IAAQwE,GAASZ,SAASoI,SAE3D,IAA6B5F,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACMC,IAAWlH,EAAAA,EAAAA,IAAM,KAAMiH,IAAQ3N,EAAAA,EAAAA,IAAQwE,GAAShB,eAAegK,aAC/Dd,IAAWhG,EAAAA,EAAAA,IAAM,KAAMiH,IAAQ3N,EAAAA,EAAAA,IAAQwE,GAAShB,eAAewI,SAE/DjE,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9CC,cAAc1L,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0G,aAAc,UAAW,CAAEpM,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,WAC9F0O,aAAalH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASrB,eAAemK,cAAc1N,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,aACzIyC,oBAAoBnH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGsB,EAAAA,EAAAA,KAAKK,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0G,aAAc,UACvG,CAAEpM,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAAca,EAAAA,EAAAA,IAAQwE,GAASrB,eAAemK,gBAEzEtI,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLuJ,aAAazN,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMuJ,aAAc/O,EAAAA,GAAAA,MAAAA,IACjFgH,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLyJ,SAASvN,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMyJ,QAAS,SAChDD,YAAYtN,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMwJ,WAAY,UAExD9J,eAAgB,CACd2K,qBAAqBpH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,QAAS,CAAE5D,OAAQ,CAAE+G,YAAYpI,EAAAA,EAAAA,IAAQwE,GAASpB,eAAemK,4BAGzJS,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GA7F3B,YA6F+CzF,GAAUiE,GAAa,CAC3FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACNiL,KAAAA,GACAmB,gBAAAA,IAEFlM,SAAU,CACRF,OAAQ,CACNuM,SAAAA,GACAtB,KAAMI,OAKN/D,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQiJ,YAAa,CAAE7P,IAAI,QAAD,OAAUA,GAAV,6BACpDmM,WAAYjG,GAAI,gBACf,CACDgG,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0G,aAAc,CAAEtN,IAAI,QAAD,OAAUA,GAAV,8BACpD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQkJ,mBAAoB,CAAE9P,IAAI,QAAD,OAAUA,GAAV,6BAC3DmM,WAAYjG,GAAI,kBAEjB,CACD6F,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMuJ,YAAa,CAAEhP,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aACnG,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY3E,eAAe2K,oBAAqB,CAAE/P,IAAI,QAAD,OAAUA,GAAV,2BAClE,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAACqB,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAI6G,GAASf,MAAM8B,GAAyB,GAApBf,GAASf,MAAM8B,GAAWf,GAASf,MAAM8B,IACzH9F,KAAM,KACL,CACDoL,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DoM,MAAMQ,EAAAA,EAAAA,IAAG,WACT5M,MAAO,OAIX+F,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMwJ,WAAY,CAAElP,IAAI,QAAD,OAAUA,GAAV,+BAChD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMyJ,QAAS,CAAEnP,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,aAE1BxB,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAOgQ,GACPrD,KAAMoD,GACN9E,KAAM1E,GAAI,cACV3C,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMwC,IACL,CACDxC,KAAM0D,IACL,CACD7D,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,YAMdkE,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPD,KAAM7F,GAAI,iBACVvG,MAAuC,IAAhC6G,GAASb,SAASyJ,YACzB3N,KAAM,KACL,CACDsK,KAAM7F,GAAI,iBACVvG,MAAkC,IAA3B6G,GAASb,SAAS0J,OACzB5N,KAAM,KACL,CACDyK,KAAMuD,SAGV7J,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAOiP,GACPtC,KAAMqC,GACN/D,KAAM1E,GAAI,cACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMoC,IACL,CACDvC,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,YAKdoE,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,i2BCxPnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,ikFCN9HC,GAAWC,GAEX/F,GAAoB,cAG1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAEhDsB,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,KAGJC,QAAS,CACPwJ,OAAQzJ,GAAAA,GAAAA,GACR0J,QAAS1J,GAAAA,GAAAA,GACT2J,QAAS3J,GAAAA,GAAAA,GACT4J,KAAM5J,GAAAA,GAAAA,GAAAA,IAERK,SAAU,CACRC,IAAKN,GAAAA,GAAAA,GACLO,IAAKP,GAAAA,GAAAA,GACLQ,KAAMR,GAAAA,GAAAA,KAER6J,GAAI,CACFlJ,SAAUX,GAAAA,GAAAA,IAAAA,IAEZlB,MAAO,CACLwB,IAAKN,GAAAA,GAAAA,GACL8J,GAAI9J,GAAAA,GAAAA,GACJW,SAAUX,GAAAA,GAAAA,GAAAA,GACV+J,MAAO/J,GAAAA,GAAAA,GAAAA,GACPY,GAAIZ,GAAAA,GAAAA,GAAAA,IAENjB,MAAO,CACLiL,OAAQhK,GAAAA,GAAAA,GAAAA,GACRiK,QAASjK,GAAAA,GAAAA,GACTkK,OAAQlK,GAAAA,GAAAA,GAAAA,GACRW,SAAUX,GAAAA,GAAAA,GAAAA,GACVY,GAAIZ,GAAAA,GAAAA,GAAAA,GACJmK,KAAMnK,GAAAA,GAAAA,GAAAA,IAERhB,SAAU,CACRqC,UAAW,EACX+I,QAAS,IAEXnL,SAAU,CACRoL,KAAMrK,GAAAA,GAAAA,GAAAA,IAERxB,eAAgB,CACd8L,cAAetK,GAAAA,GAAAA,GACfuK,YAAavK,GAAAA,GAAAA,IAEfvB,eAAgB,CACd+L,WAAYxK,GAAAA,GAAAA,GACZyK,YAAazK,GAAAA,GAAAA,IAEfrB,eAAgB,CACd0L,KAAMrK,GAAAA,GAAAA,GACN2H,KAAM3H,GAAAA,GAAAA,GACNW,SAAUX,GAAAA,GAAAA,IAEZnB,eAAgB,CACd6L,iBAAkB1K,GAAAA,GAAAA,KAItB,IAAmCyB,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOsR,GAAP,MAAsBC,GAAtB,MACA,IAA6BnJ,EAAAA,EAAAA,IAAKpI,GAAK,YAAvC,iBAAOwR,GAAP,MAAmBC,GAAnB,MACA,IAA6BrJ,EAAAA,EAAAA,IAAKpI,GAAK,kBAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MAEMC,IAAcrQ,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMgL,GAAI,CAAEzQ,IAAK,QAAUC,EAAAA,GAAAA,MAAAA,IACzF4R,IAAenJ,EAAAA,EAAAA,IAAM6I,GAAW,MAAMhQ,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMkL,QAAS,CAAE5Q,IAAK,SAAWC,EAAAA,GAAAA,MAAAA,MACvH6R,IAAkBpJ,EAAAA,EAAAA,IAAM6I,GAAW,KAAM/K,GAASd,MAAMiL,OAAQ,CAAE3Q,IAAK,YACvE+R,GAAkBnS,OAAOsJ,YAAY8I,GAAAA,GAAAA,KAAuB,SAAA5Q,GAAG,MAAI,CAAC,GAAD,OAAIA,EAAJ,UAAgBsH,EAAAA,EAAAA,IAAM6I,GAAW,MAAO/K,GAASd,MAAMmL,aAC1HoB,IAAoBC,EAAAA,EAAAA,IAASX,GAAW,KAAM,OAC9CY,IAAcxJ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASoL,MAAO/Q,EAAAA,GAAAA,OAAAA,MAC5EmS,IAAezJ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGI,EAAAA,EAAAA,IAAOoR,GAAQ7R,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASb,SAASqC,WAAW3D,KAAI,SAAA+E,GAAC,MAAI,CAACA,GAAGjI,EAAAA,EAAAA,IAASqF,GAASb,SAASoL,QAAU3H,QAAO,EAAG,CAAEpJ,IAAK,aAClLqS,IAAiB9Q,EAAAA,EAAAA,KAAK+Q,EAAAA,EAAAA,IAAI9O,EAAAA,GAAAA,IAAW,GAAIgD,GAASpB,eAAe+L,YACjEoB,IAAoBhR,EAAAA,EAAAA,KAAK+Q,EAAAA,EAAAA,IAAI9O,EAAAA,GAAAA,IAAW,GAAIgD,GAASpB,eAAegM,aACpEoB,IAAY9J,EAAAA,EAAAA,IAAMiJ,GAAQ,MAAMhJ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASlB,eAAegJ,OAC1FmE,IAAY/J,EAAAA,EAAAA,IAAMiJ,GAAQ,MAAMhJ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASlB,eAAe0L,OAC1F0B,IAAgB/J,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAAShB,eAAe6L,kBAE1EtH,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPwJ,QAAQxO,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQwJ,OAAQ,WAChDC,SAASzO,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyJ,QAAS,UAAW,CAAEhN,OAAQ,CAAEsP,eAAgBR,MACzF7B,SAAS1O,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0J,QAAS,UAAW,CAAEjN,OAAQ,CAAEsP,eAAgBR,OAE3FnL,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAEuG,EAAF,KAAQZ,EAAR,WACjE,CAACY,GAAMhJ,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,iBAC7BvE,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,SACxCwJ,GAAImB,IAENlM,MAAO,CACLkL,QAASiB,KAIP7B,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GA1Gd,MA0G+B,UAAW8F,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET1M,SAAU,CACRF,OAAQ,CACNiL,KAAMkE,GACNxB,KAAMyB,KAGVpP,QAAO,SACLgO,iBAAkBqB,GAClBE,IAAKf,GACLd,SAASvP,EAAAA,EAAAA,IAAIsQ,GAAiBM,KAC3BL,IAELc,SAAU,CACRC,mBAAoBb,MAIlBtH,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAY,MACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyJ,QAAS,CAAErQ,IAAI,QAAD,OAAUA,GAAV,8BAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0J,QAAS,CAAEtQ,IAAI,QAAD,OAAUA,GAAV,8BAC/C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASgK,GAAGlJ,SACnB7F,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQwJ,OAAQ,CAAEpQ,IAAI,QAAD,OAAUA,GAAV,8BAC9C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQ2J,QAEzBpK,GAAGkG,oBAAoB,WAAY,CACpCzB,KAAM1E,GAAI,WACVvG,MAAO8R,GACPnF,KAAMkF,GACNhF,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASb,SAASqC,WAAW3D,KAAI,SAAA+E,GAAC,MACpE,CAACA,EAAG,CACFwB,MAAM2B,EAAAA,EAAAA,IAAG,YAAa,CAAES,MAAO5D,IAC/B4C,OAAQ,CAAC,CACPE,KAAMkG,aAIVjM,GAAGuG,eAAe,WAAY,CAChCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQ4P,GAAa,CAAEnS,IAAI,QAAD,OAAUA,GAAV,oBAEhCmG,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPE,KAAMwG,OAEN,CACF3G,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMgL,GAAI,CAAEzQ,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC1F,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPD,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMoL,QAEvB3K,GAAGkG,oBAAoB,QAAS,CACjCzB,MAAM2B,EAAAA,EAAAA,IAAG,kBACT5M,MAAO4R,GACPjF,KAAMgF,GACN9E,OAAQ,CACN2D,GAAI,CACFnE,OAAO,CAAE,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,gBACT/J,QAAS,OACR,CACD0J,KAAM4F,KAJF,gBAMHlS,OAAOC,OAAOkS,IAAiB1N,KAAI,SAAA6H,GAAI,MAAK,CAAEA,KAAAA,OAN3C,CAON,CACEA,MAAM3J,EAAAA,EAAAA,IAAQsP,GAAc,CAAE7R,IAAI,QAAD,OAAUA,GAAV,+BAChC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,WAIV0E,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,kBACVvG,MAAO6G,GAASrB,eAAe8L,eAC9B,CACDlF,KAAM7F,GAAI,gBACVvG,MAAO6G,GAASrB,eAAe+L,cAEjCrE,SAASnE,EAAAA,EAAAA,IAAM6I,GAAW,KAAM,KAC9BpL,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,cACT5M,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAImC,IAAgB1S,OACxC8B,KAAM,IACNkL,MAAO,GACN,CACDZ,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIqC,IAAmB5S,SAE7CkN,SAASnE,EAAAA,EAAAA,IAAM6I,GAAW,KAAM,KAC9BpL,GAAGkG,oBAAoB,iBAAkB,CAC3CzB,KAAM1E,GAAI,WACV3C,UAAU,EACV5D,MAAOgS,GACPrF,KAAMoF,GACNlF,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMsG,IACL,CACDtG,KAAMuG,IACL,CACD1G,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASlB,eAAegC,SAC/B7F,KAAM,YAMdkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMwG,WAK9E,OAAmBxF,EAAAA,EAAevC,GAAO3J,I,yzBCvSnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,spGCP9HC,GAAWC,GAEX/F,GAAoB,UACpBuL,GAAyB,QAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsN,WAAYpM,GAAAA,GAAqBL,MACjC0M,UAAWrM,GAAAA,GAAqBL,MAChC2M,UAAWtM,GAAAA,GAAqBL,MAChC4M,SAAUvM,GAAAA,GAAqBL,MAC/BW,IAAKN,GAAAA,GAAqBL,MAC1BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLyN,IAAKxM,GAAAA,GAAqBJ,MAC1BkK,GAAI9J,GAAAA,GAAqBJ,MACzBgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACR4K,MAAO5J,GAAAA,GAAAA,GAAAA,IAETf,SAAU,CACRwN,IAAKzM,GAAAA,GAAAA,GAAAA,GACL0M,OAAQ1M,GAAAA,GAAAA,GAAAA,IAEVvB,eAAgB,CACdkO,MAAO,IACPC,WAAY,MAIVvD,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEjD,IAAmCmI,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOwT,GAAP,MAAsBC,GAAtB,MACMC,IAAS/K,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM+K,GAAW,MAAM/K,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBlD,GAASb,SAAS4K,QACrHoD,IAAgBhL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM+K,GAAW,KAAMjN,GAASb,SAAS4K,OAEvF,IAA6BnI,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACMC,IAASnL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMmL,GAAQ,MAAMnL,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBlD,GAASpB,eAAemO,cAClIQ,IAAgBpL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMmL,GAAQ,KAAMrN,GAASpB,eAAemO,aAC9FxJ,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLuO,OAAOvR,EAAAA,EAAAA,IAAe,KAAM+D,GAASf,MAAMwN,UAAWzM,GAASf,MAAMyN,SAAU,SAC/Ee,QAAQxR,EAAAA,EAAAA,IAAe,KAAM+D,GAASf,MAAMsN,WAAYvM,GAASf,MAAMuN,UAAW,SAClF/L,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLsO,OAAOvR,EAAAA,EAAAA,IAAe,KAAM+D,GAASd,MAAMyN,IAAK3M,GAASd,MAAM+K,GAAI,WAK1DzP,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IACNzM,SAAU,CACXF,OAAQ,CACN6Q,YAAaR,GACbH,WAAYO,OAKZnJ,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAYA,GACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMuO,MAAO,CAAEhU,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC7F,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwO,OAAQ,CAAEjU,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC9F,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UAA8C6G,GAASf,MAAM8B,GAA7D,eAAsG,IAAhCf,GAASpB,eAAekO,MAA9F,eAAkH9M,GAASf,MAAM8B,GAAjI,WAInB7B,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMsO,MAAO,CAAEhU,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC7F,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,IACrB,CACDwE,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,cAI1BhC,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E9I,UAAU,EACV5D,MAAO8T,GACPnH,KAAMkH,GACN5I,KAAM1E,GAAI,iBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQoR,GAAe,CAAE3T,IAAK,wBAK5C4F,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F9I,UAAU,EACV5D,MAAOkU,GACPvH,KAAMsH,GACNhJ,KAAM1E,GAAI,uBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwR,GAAe,CAAE/T,IAAK,uBAK5CqF,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAKxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,wzBCpMnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,gwGCP9H7F,GAAoB,SACpBuL,GAAyB,UACzBzF,GAAWC,GACjB,IAAkBC,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPuN,YAAaxN,GAAAA,GAAoBN,MACjC+N,SAAUzN,GAAAA,GAAoBN,MAC9BU,QAASJ,GAAAA,GAAoBN,MAAK,GAClCiB,SAAUX,GAAAA,GAAoBN,MAAK,IAErCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL4O,UAAW1N,GAAAA,GAAqBL,MAChCgO,WAAY3N,GAAAA,GAAqBL,MACjCiO,QAAS5N,GAAAA,GAAqBL,MAC9BkO,cAAe7N,GAAAA,GAAqBL,MACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACL+B,SAAUd,GAAAA,GAAqBJ,MAC/BkO,aAAc9N,GAAAA,GAAqBJ,MACnCmO,gBAAiB/N,GAAAA,GAAqBJ,MACtCe,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoO,WAAYhO,GAAAA,GAAqBJ,MAAK,IAGxCqO,WAAY,CACVC,WAAYlO,GAAAA,GAAAA,GAAAA,GACZmO,WAAYnO,GAAAA,GAAAA,GAAAA,GACZoO,YAAapO,GAAAA,GAAAA,GAAAA,IAEfxB,eAAgB,CACdkP,UAAW1N,GAAAA,GAAAA,IAEbrB,eAAgB,CACd8B,SAAUT,GAAAA,GAAAA,GACVW,SAAUX,GAAAA,GAAAA,IAEZnB,eAAgB,CACdwP,kBAAmB,EAAIrO,GAAAA,GAAAA,KAQ3B,IAA6ByB,EAAAA,EAAAA,IAAKpI,GAAK,kBAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACA,IAA6BvH,EAAAA,EAAAA,IAAKpI,GAAK,cAAvC,iBAAO2O,GAAP,MAAmBC,GAAnB,MAEMoB,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAE3CgV,GAAiBzO,GAASf,MAAM8O,QAAQlQ,KAAI,SAAC4C,EAAKmC,GAAN,OAAYnC,EAAMT,GAASf,MAAM+O,cAAcpL,MAC3F8L,GAAkB1O,GAASf,MAAM8O,QAAQlQ,KAAI,SAAC4C,EAAKmC,GAAN,OAAYnC,EAAM,EAAIT,GAASf,MAAM+O,cAAcpL,MAEhG+L,IAA0BzM,EAAAA,EAAAA,IAAMiH,GAAQ,MAAM3N,EAAAA,EAAAA,IAAQwE,GAAShB,eAAewP,kBAAmB,CAAEhV,IAAI,QAAD,OAAUA,GAAV,kBACtGoV,IAAsB1M,EAAAA,EAAAA,IAAMkG,GAAQ,MAAM5M,EAAAA,EAAAA,IAAQwE,GAASoO,WAAWC,YAAa,CAAE7U,IAAI,QAAD,OAAUA,GAAV,mBACxFqV,IAAsB3M,EAAAA,EAAAA,IAAMkG,GAAQ,MAAM5M,EAAAA,EAAAA,IAAQwE,GAASoO,WAAWE,YAAa,CAAE9U,IAAI,QAAD,OAAUA,GAAV,mBACxFsV,IAAwB5M,EAAAA,EAAAA,IAAMkG,GAAQ,MAAM5M,EAAAA,EAAAA,IAAQwE,GAASoO,WAAWG,aAAc,CAAE/U,IAAI,QAAD,OAAUA,GAAV,kBAE3F+J,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPuN,aAAavS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQuN,YAAa,WAC1DC,UAAUxS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQwN,SAAU,YAEtDpN,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL8P,eAAelT,EAAAA,EAAAA,IAAc,WAAWH,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAM4O,UAAW7N,GAASf,MAAM6O,WAAY,UACpHkB,QAAQtT,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAM4O,UAAW7N,GAASf,MAAM6O,WAAY,SACpFmB,SAAS7T,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM8O,QAAS,SAChDmB,WAAW9T,EAAAA,EAAAA,IAAQ,MAAOqT,GAAgB,SAC1CU,YAAY/T,EAAAA,EAAAA,IAAQ,MAAOsT,GAAiB,UAE9CxP,MAAO,CACL+B,UAAU7F,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+B,SAAU,SAClDgN,cAAc7S,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+O,aAAc,UAE5DtP,eAAgB,CACdoQ,eAAe5M,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGoC,EAAAA,EAAAA,IAAc,WAAWf,EAAAA,EAAAA,IAAW,MAAMU,EAAAA,EAAAA,IAAQwE,GAASrB,eAAekP,WAAY,KACvImB,QAAQ7M,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGqB,EAAAA,EAAAA,IAAW,MAAMU,EAAAA,EAAAA,IAAQwE,GAASrB,eAAekP,WAAY,KAEzG/O,eAAgB,CACd8B,UAAUuB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB+B,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe8B,WAAY,YAAa,CAAElG,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,UAIvJvK,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IACN2F,YAAa,CACdvH,YAAa+G,GACbS,aAAcR,GACdtE,QAASuE,IACR/R,SAAU,CACXF,OAAQ,CACNyS,kBAAmBX,OAKnBxK,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAYA,GACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQuN,YAAa,CAAEnU,IAAI,QAAD,OAAUA,GAAV,8BACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQwN,SAAU,CAAEpU,IAAI,QAAD,OAAUA,GAAV,8BAChD,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,QACxBtF,KAAM,MACL,CACDsK,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQU,SACxB7F,KAAM,OAEP,CACDsK,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM8P,cAAe,CAAEvV,IAAI,QAAD,OAAUA,GAAV,4BAAyC,QAAW,aACvG,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+P,OAAQ,CAAExV,IAAI,QAAD,OAAUA,GAAV,+BAC5C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMgQ,QAAS,CAAEzV,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMiQ,UAAW,CAAE1V,IAAI,QAAD,OAAUA,GAAV,mBAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMkQ,WAAY,CAAE3V,IAAI,QAAD,OAAUA,GAAV,mBAChD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,WAAY,CACpC9I,UAAU,EACV5D,MAAOiP,GACPtC,KAAMqC,GACN/D,KAAM1E,GAAI,oBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMkJ,IACL,CACDlJ,KAAMmJ,IACL,CACDnJ,KAAMoJ,IACL,CACDvJ,KAAM7F,GAAI,cACVvG,MAAO,GACP8B,KAAM,KACL,CACDsK,KAAM7F,GAAI,oBAMlBR,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM+B,SAAU,CAAEzH,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM+O,aAAc,CAAEzU,IAAI,QAAD,OAAUA,GAAV,+BAClD,CACDkM,MAAM3J,EAAAA,EAAAA,KAAQR,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMgP,iBAAkB,CAAE1U,IAAI,QAAD,OAAUA,GAAV,oBACrF,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiP,cAEvBxO,GAAGkG,oBAAoB,iBAAkB,CAC1C9I,UAAU,EACV5D,MAAOgQ,GACPrD,KAAMoD,GACN9E,KAAM1E,GAAI,eACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMiJ,WAMdxP,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAeoQ,cAAe,CAAEvV,IAAI,QAAD,OAAUA,GAAV,4BAAyC,QAAW,aAChH,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAeqQ,OAAQ,CAAExV,IAAI,QAAD,OAAUA,GAAV,oCAG1DoF,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAe8B,SAAU,CAAEpH,IAAI,QAAD,OAAUA,GAAV,kBAG5DuF,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAKxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,yzBCrQnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,+gHCN9HC,GAAWC,GAEX/F,GAAoB,UACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPC,KAAMF,GAAAA,GAAoBN,MAC1BS,KAAMH,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5B0P,QAASrP,GAAAA,GAAqBL,MAC9B2P,QAAStP,GAAAA,GAAqBL,MAC9B4P,QAASvP,GAAAA,GAAqBL,MAC9B6P,QAASxP,GAAAA,GAAqBL,MAC9B8P,UAAWzP,GAAAA,GAAqBL,MAChC+P,SAAU1P,GAAAA,GAAqBL,MAAK,GACpCgQ,SAAU3P,GAAAA,GAAqBL,MAAK,GACpCiQ,SAAU5P,GAAAA,GAAqBL,MAAK,IAEtCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BiQ,OAAQ7P,GAAAA,GAAqBJ,MAC7BkQ,UAAW9P,GAAAA,GAAqBJ,MAChCmQ,SAAU/P,GAAAA,GAAqBJ,MAC/Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRgR,OAAQ,IAEV/Q,SAAU,CACR+Q,OAAQ,IAEVxR,eAAgB,CACdyR,QAASjQ,GAAAA,GAAAA,IAEXvB,eAAgB,CACdyR,UAAWlQ,GAAAA,GAAAA,GACXmQ,OAAQnQ,GAAAA,GAAAA,IAEVrB,eAAgB,CACd2B,IAAKN,GAAAA,GAAAA,IAEPnB,eAAgB,CACduR,SAAUpQ,GAAAA,GAAAA,KAIRqQ,IAAYrO,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAGuG,GAASb,SAASgR,QAEtDM,IAAgBlV,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMgR,SAAU,CAAE1W,IAAK,MAClFkX,IAAe3V,EAAAA,EAAAA,IAAK0V,GAAehX,EAAAA,GAAAA,KAAAA,KACnCkX,IAAaxO,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASrB,eAAeyR,QAAS,CAAE5W,IAAI,QAAD,OAAUA,GAAV,0BACrFoX,IAAYzO,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGsB,EAAAA,EAAAA,IAAK4V,GAAYlX,EAAAA,GAAAA,KAAAA,MAC/DoX,IAAc7V,EAAAA,EAAAA,IAAIyV,GAAeE,IACjCG,IAAsB/V,EAAAA,EAAAA,IAAK8V,GAAapX,EAAAA,GAAAA,KAAAA,KAE9C,IAAqCmI,EAAAA,EAAAA,IAAKpI,GAAK,gBAA/C,iBAAOuX,GAAP,MAAuBC,GAAvB,MACMC,IAAe/O,EAAAA,EAAAA,IAAM,eAAgB8O,IAAY9O,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgB,IAC5FgO,IAAkBhP,EAAAA,EAAAA,IAAM+O,GAAc,EAAGH,IAEzCK,IAAiBhP,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAC1CyI,EAAAA,EAAAA,IAAM+O,GAAc,EAAGjR,GAASZ,SAAS+Q,SAGrCiB,IAAkBjP,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACrDI,EAAAA,EAAAA,IAAOqJ,EAAAA,GAAAA,WACL,CAAE,OAASvI,EAAAA,EAAAA,IAAS,GAAI,UAAYA,EAAAA,EAAAA,IAAS,GAAI,SAAWA,EAAAA,EAAAA,IAAS,KAAMA,EAAAA,EAAAA,IAAS,KAClF0W,IAAwBnP,EAAAA,EAAAA,IAAM+O,GAAc,GAChD9O,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAAShB,eAAeuR,WAEtDe,IAAyB5F,EAAAA,EAAAA,IAAS0F,GAAiB,GAAG1F,EAAAA,EAAAA,IAASuF,GAAc,EAAGlM,KAEtF,IAAuCnD,EAAAA,EAAAA,IAAKpI,GAAK,WAAjD,iBAAO+X,GAAP,MAAwBC,GAAxB,MACMC,IAAUtP,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC7CyI,EAAAA,EAAAA,IAAM,UAAWsP,GAAaxR,GAASpB,eAAe0R,SAElD/M,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQC,KAAM,WAC5CC,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQE,KAAM,YAE9CE,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,SAC5CC,SAASpU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMuQ,QAAS,SAChDC,SAASrU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwQ,QAAS,SAChDC,SAAStU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMyQ,QAAS,SAChDC,SAASvU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM0Q,QAAS,SAChDC,WAAWxU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM2Q,UAAW,UAEtD1Q,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxC+M,OAAOvR,EAAAA,EAAAA,IAAe,KAAM+D,GAASd,MAAM8Q,OAAQhQ,GAASd,MAAM+Q,UAAW,SAC7EzI,OAAQ0J,IAEVpS,eAAgB,CACd2B,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGsB,EAAAA,EAAAA,KAAKK,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwQ,QAAS,SAAUzP,GAASlB,eAAe2B,QAInH+I,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET1M,SAAU,CACRF,OAAQ,CACN6U,UAAWL,IAEb1N,MAAO,CAELyI,IAAK8E,IAEP7E,SAAU,CACRsF,KAAML,KAGVzU,OAAQ,CACN+U,UAAWH,MAKTtN,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDJ,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CAEPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,sBAC3C,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACV3K,KAAM,IACN9B,MAAO,SAAAqB,GAAI,OAAIqX,GAAiBrX,EAAMwF,GAASf,MAAM4Q,YACpD,CAEDnK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMuQ,QAAS,CAAEhW,IAAI,QAAD,OAAUA,GAAV,uBAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwQ,QAAS,CAAEjW,IAAI,QAAD,OAAUA,GAAV,uBAC7C,CACD+L,KAAM7F,GAAI,gBACVzE,KAAM,IACN9B,MAAO,SAAAqB,GAAI,OAAIqX,GAAiBrX,EAAMwF,GAASf,MAAM6Q,YACpD,CAEDpK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMyQ,QAAS,CAAElW,IAAI,QAAD,OAAUA,GAAV,uBAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM0Q,QAAS,CAAEnW,IAAI,QAAD,OAAUA,GAAV,uBAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM2Q,UAAW,CAAEpW,IAAI,QAAD,OAAUA,GAAV,qBAC/C,CACD+L,KAAM7F,GAAI,gBACVzE,KAAM,IACN9B,MAAO,SAAAqB,GAAI,OAAIqX,GAAiBrX,EAAMwF,GAASf,MAAM8Q,cAEtDpQ,GAAGuG,eAAe,WAAY,CAC/BV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQyU,GAAW,CAAEhX,IAAK,sBAIpC0F,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMsO,MAAO,CAAEhU,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC7F,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO6X,GACPlL,KAAMiL,GACN3M,MAAM2B,EAAAA,EAAAA,IAAG,mBACThJ,UAAU,EACViJ,OAAQ,CACNiL,aAAc,CACZzL,OAAQ,CAAC,CACPD,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAoC,IAAhCA,EAAKkP,IAAI+G,IAAetX,OACvC8B,KAAM,IACNkL,MAAO,GACN,CACDT,MAAM3J,EAAAA,EAAAA,IAAQ2U,GAAc,CAAElX,IAAI,6BAItCmG,GAAGuG,eAAe,WAAY,CAChCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQoV,GAAgB,CAAE3X,IAAK,kBAEvC6M,SAASnE,EAAAA,EAAAA,IAAM8O,GAAY,eAAgB,KACzCrR,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,sBACVgG,KAAMiL,IACL,CACDjL,MAAM3J,EAAAA,EAAAA,IAAQ6U,GAAW,CAAEpX,IAAI,QAAD,OAAUA,GAAV,sBAEhC6M,SAASnE,EAAAA,EAAAA,IAAM8O,GAAY,eAAgB,GAC3CjU,UAAU,IACR4C,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPE,MAAM/K,EAAAA,EAAAA,IAASqF,GAAShB,eAAeuR,SAAU,CAAE/W,IAAK,YAAawC,QAAS,UAC7E,CACDuJ,KAAM7F,GAAI,oBAEZ2G,SAASnE,EAAAA,EAAAA,IAAM8O,GAAY,eAAgB,GAC3CjU,UAAU,MAEZoC,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAClD3F,GAAGkG,oBAAoB,iBAAkB,CACvC1M,MAAOqY,GACP1L,KAAMyL,GACNnN,MAAM2B,EAAAA,EAAAA,IAAG,gBAAiB,CAAEvK,QAA6C,IAApCwE,GAASpB,eAAeyR,YAC7DrK,OAAQ,CACNyL,QAAS,CACPjM,OAAQ,CAAC,CACPE,KAAM+L,WAMhB5S,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAe2B,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,kBAGvDuF,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,IAEzC,SAASqX,GAAiBrX,EAAcsX,GACtC,IAAIC,EAAmB,EACnB/T,EAAiB8T,EAAU,IAQ/B,OAPItX,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,IAC/B4Y,EAAW,IAGI,KADjBA,GAAa,EAAIvX,EAAKkP,IAAIyH,IAAgBhY,SAExC6E,GAAU,OAAS,IAAiB,IAAX+T,GAAkB,OAASD,EAAUC,GAEzD/T,E,m3BCnUHU,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,ylFCP9HC,GAAWC,GAEX/F,GAAoB,WACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDoB,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EACzB5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,KAGJC,QAAS,CACP4R,SAAU7R,GAAAA,GAAAA,GACV8R,UAAW9R,GAAAA,GAAAA,GACXI,QAASJ,GAAAA,GAAAA,GAAAA,GACTW,SAAUX,GAAAA,GAAAA,GAAAA,IAEZK,SAAU,CACRC,IAAKN,GAAAA,GAAAA,GACLO,IAAKP,GAAAA,GAAAA,GACLQ,KAAMR,GAAAA,GAAAA,KAERlB,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1BoS,iBAAkB/R,GAAAA,GAAqBL,MAAK,GAC5CiB,GAAIZ,GAAAA,GAAqBL,MAAK,GAC9BqS,cAAehS,GAAAA,GAAqBL,MAAK,IAE3CZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRiT,QAASjS,GAAAA,GAAwBwG,MAAM,IAEzCvH,SAAU,CACRqB,IAAKN,GAAAA,GAAwByG,MAAM,GACnCyL,IAAKlS,GAAAA,GAAwByG,MAAM,GACnC9F,SAAUX,GAAAA,GAAwByG,MAAM,IAE1CjI,eAAgB,CACd8B,IAAKN,GAAAA,GAAAA,IAEPvB,eAAgB,CACd0T,IAAKnS,GAAAA,GAAAA,IAEPrB,eAAgB,CACdyT,aAAcpS,GAAAA,GAAAA,GACdY,GAAIZ,GAAAA,GAAAA,IAENnB,eAAgB,CACdwT,WAAYrS,GAAAA,GAAAA,KAIhB,IAAiCyB,EAAAA,EAAAA,IAAKpI,GAAK,QAA3C,iBAAOiZ,GAAP,MAAqBC,GAArB,MACA,IAAmC9Q,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOwT,GAAP,MAAsBC,GAAtB,MACA,IAA6BrL,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MAEMvI,IAAWxF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,SAE9C8C,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPuN,aAAavS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ4R,SAAU,WACvDpE,UAAUxS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ6R,UAAW,YAEvDzR,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,IAAKG,IAEP1B,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,UAE1CrB,SAAU,CACRqB,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAGmH,KAE/BjC,eAAgB,CACd8B,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASrB,eAAe8B,KAAMhH,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,UAIpJ4N,IAAWxQ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACpCyI,EAAAA,EAAAA,IAAMwQ,GAAU,OACb,KAGCzB,IAAe/O,EAAAA,EAAAA,IAAM,eAAgB+K,IAAW/K,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgB,IAE3F0P,IAAezQ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAG+B,EAAAA,EAAAA,IAAQ,MAC/CqX,IAAW3Q,EAAAA,EAAAA,IAAM+O,GAAc,EAAG2B,IAElCE,IACJjZ,EAAAA,EAAAA,IAAOqJ,EAAAA,GAAAA,WACL,CAAE,OAASvI,EAAAA,EAAAA,IAAS,GAAI,UAAYA,EAAAA,EAAAA,IAAS,GAAI,SAAWA,EAAAA,EAAAA,IAAS,KAAMA,EAAAA,EAAAA,IAAS,IAElFoY,IAAuBrH,EAAAA,EAAAA,IAASoH,GAAY,GAAGpH,EAAAA,EAAAA,IAASuF,GAAc,EAAGlM,KAEzEiO,IAAS7Q,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMiH,GAAQ,KAAMnJ,GAAShB,eAAewT,aAEvFhJ,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACN2V,WAAYQ,IAEdjW,SAAU,CACRF,OAAQ,CACNoW,eAAgBN,GAChBpI,QAASsI,IAEXxG,SAAU,CACRsF,KAAMoB,OAKN5O,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAY,OACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQuN,YAAa,CAAEnU,IAAI,QAAD,OAAUA,GAAV,8BACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQwN,SAAU,CAAEpU,IAAI,QAAD,OAAUA,GAAV,8BAChD,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,QACxBtF,KAAM,MACL,CACDsK,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQU,SACxB7F,KAAM,OAEP,CACDsK,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMkT,cACtBlX,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC9I,UAAU,EACV5D,MAAO8T,GACPnH,KAAMkH,GACN5I,MAAM2B,EAAAA,EAAAA,IAAG,mBACTC,OAAQ,CACNiL,aAAc,CACZzL,OAAQ,CAAC,CACPD,KAAM7F,GAAI,YACV1D,QAAS+I,IACR,CACDQ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMiT,iBACtBjX,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQ6W,GAAc,CAAEpZ,IAAK,oBAM3C0F,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,UACrB,CACDoE,KAAM7F,GAAI,UACVvG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,MAAQ,EAAI,EAAI,QAIjEgG,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnE,SAASqB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,mBAE7CmG,GAAGkG,oBAAoB,WAAY,CACrC9I,UAAU,EACV5D,MAAOuZ,GACP5M,KAAM2M,GACNrO,KAAM1E,GAAI,YACVsG,OAAQ,CACNtL,IAAK,CACH8K,OAAQ,CAAC,CACPE,KAAMiN,WAKdtT,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAe8B,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,2BAGvDoF,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgQ,GACPrD,KAAMoD,GACN9E,KAAM1E,GAAI,kBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMsN,cAQpB,OAAmBtM,EAAAA,EAAevC,GAAO3J,I,42BCzQnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,g9FCL9H7F,GAAoB,QACpBuL,GAAyB,OACzBzF,GAAWC,GACjB,IAAaC,EAAAA,EAAAA,IAAM,OAAQhG,IAA3B,iBAAOiG,GAAP,MACME,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAAGsM,GAAM,EAAGC,GAAM,EAClDnT,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPuN,YAAaxN,GAAAA,GAAoBN,MACjC+N,SAAUzN,GAAAA,GAAoBN,MAC9BU,QAASJ,GAAAA,GAAoBN,MAAK,GAClCiB,SAAUX,GAAAA,GAAoBN,MAAK,IAErCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLmU,SAAUjT,GAAAA,GAAqBL,MAC/BuT,UAAWlT,GAAAA,GAAqBL,MAChCwT,SAAUnT,GAAAA,GAAqBL,MAC/BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLqU,SAAUpT,GAAAA,GAAqBJ,MAC/ByT,OAAQrT,GAAAA,GAAqBJ,MAC7B0T,aAActT,GAAAA,GAAqBJ,MACnCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCuK,KAAMnK,GAAAA,GAAqBJ,MAAK,IAElCZ,SAAU,CACRuU,cAAevT,GAAAA,GAAwBwG,MAAM,GAC7C7F,SAAUX,GAAAA,GAAwBwG,MAAM,IAE1CvH,SAAU,CACRuU,YAAaxT,GAAAA,GAAwByG,MAAM,GAC3CgN,QAASzT,GAAAA,GAAwByG,MAAM,IAEzCjI,eAAgB,CACdkV,OAAQ1T,GAAAA,GAAAA,GACR2T,UAAW,IAEblV,eAAgB,CACd4I,OAAQrH,GAAAA,GAA8B+S,MACtCa,UAAW5T,GAAAA,GAA8B+S,MACzCpS,SAAUX,GAAAA,GAA8B+S,MACxCc,SAAU7T,GAAAA,GAA8B+S,MACxCnS,GAAIZ,GAAAA,GAA8B+S,OAEpCpU,eAAgB,CACd+U,OAAQ1T,GAAAA,GAAAA,IAEVnB,eAAgB,CACd8B,SAAUX,GAAAA,GAA8BgT,MACxCU,OAAQ1T,GAAAA,GAA8BgT,MACtCY,UAAW5T,GAAAA,GAA8BgT,QAI7C,IAAmCvR,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOsR,GAAP,MAAsBC,GAAtB,MACA,IAA6BnJ,EAAAA,EAAAA,IAAKpI,GAAK,WAAvC,iBAAOya,GAAP,MAAmBC,GAAnB,MACA,IAA6BtS,EAAAA,EAAAA,IAAKpI,GAAK,WAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACA,IAA6BzL,EAAAA,EAAAA,IAAKpI,GAAK,WAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MAEMsC,IAAoBC,EAAAA,EAAAA,IAASX,GAAW,KAAM,QAC9CY,IAAcxJ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM6I,GAAW,KAAM/K,GAASZ,SAASwU,UAE/EO,IAAcjS,EAAAA,EAAAA,IAAMgS,GAAQ,MAAM/R,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASrB,eAAekV,SAC5FO,IAAiBjS,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACpDI,EAAAA,EAAAA,IAAOwT,GAAQjU,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASpB,eAAeoV,UAAUnW,KAAI,SAAA+E,GAAC,MAAI,CAACA,GAAGjI,EAAAA,EAAAA,IAASqF,GAASpB,eAAe4I,OAAS5E,QAAO,EAAG,CAAEpJ,IAAK,UACjJ6a,IAAiBlS,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACpDI,EAAAA,EAAAA,IAAOwT,GAAQjU,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASpB,eAAeoV,UAAUnW,KAAI,SAAA+E,GAAC,MAAI,CAACA,GAAGjI,EAAAA,EAAAA,IAASqF,GAASpB,eAAemV,UAAYnR,QAAO,EAAG,CAAEpJ,IAAK,aACpJ8a,IAAiBpS,EAAAA,EAAAA,IAAMiH,GAAQ,MAAMhH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAAShB,eAAe6U,SAC/FU,IAAiBrS,EAAAA,EAAAA,IAAMiH,GAAQ,MAAMhH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAAShB,eAAe+U,WAAY,CAAEva,IAAK,YAElHgb,GAAwB,CAC5B3X,OAAQ,CAAE+G,YAAYjJ,EAAAA,EAAAA,IAASqF,GAASlB,eAAe+U,SACvDnZ,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,UAGjB4I,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPuN,aAAavS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQuN,YAAa,WAC1DC,UAAUxS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQwN,SAAU,YAEtDpN,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAEuG,EAAF,KAAQZ,EAAR,WACjE,CAACY,GAAMhJ,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,iBAC7BvE,MAAO,CACLmU,UAAUhY,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMmU,SAAU,SAClDC,WAAWjY,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMoU,UAAW,SACpDoB,UAAUrZ,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMqU,SAAU,UAEpDpU,MAAO,CACLqU,UAAUnY,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMqU,SAAU,SAClDC,QAAQpY,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMsU,OAAQ,SAC9CC,cAAcrY,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuU,aAAc,UAE5D3U,eAAgB,CACd4V,gBAAgBvS,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMoU,UAAW,QAASmB,KACpGG,eAAexS,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMqU,SAAU,QAASkB,OAIhGhL,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET5M,OAAQ,CACN6U,UAAW/F,GACX7D,KAAMsM,GACN7J,SAASvP,EAAAA,EAAAA,IAAIuZ,GAAgBF,IAC7BpQ,SAAUkQ,GACVtM,YAAayM,IAEfjI,SAAU,CAIRC,mBAAoBb,MAIlBtH,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAYA,GACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQuN,YAAa,CAAEnU,IAAI,QAAD,OAAUA,GAAV,8BACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQwN,SAAU,CAAEpU,IAAI,QAAD,OAAUA,GAAV,8BAChD,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,EAA7B,UAAoC6G,GAASI,QAAQG,QAArD,gBAAsG,IAAlCP,GAASb,SAASuU,cAAtF,eAAkH1T,GAASI,QAAQG,QAAnI,QACd,CACDgF,KAAM9F,GAAG,sBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,EAA7B,UAAoC6G,GAASI,QAAQU,SAArD,eAAoEd,GAASb,SAAS2B,UAAad,GAASI,QAAQU,UACnI7F,KAAM,OAEP,CACDsK,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMmU,SAAU,CAAE5Z,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMoU,UAAW,CAAE7Z,IAAI,QAAD,OAAUA,GAAV,+BAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwV,SAAU,CAAEjb,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAe4V,eAAgB,CAAElb,IAAI,QAAD,OAAUA,GAAV,gBAC7D,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAe6V,cAAe,CAAEnb,IAAI,QAAD,OAAUA,GAAV,gBAC5D,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,MAEvBpB,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAOgQ,GACPrD,KAAMoD,GACN9E,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM4O,IACL,CACD5O,KAAM6O,WAMdrV,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMqU,SAAU,CAAE/Z,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMsU,OAAQ,CAAEha,IAAI,QAAD,OAAUA,GAAV,+BAC5C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuU,aAAc,CAAEja,IAAI,QAAD,OAAUA,GAAV,+BAClD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMoL,QAEvB3K,GAAGkG,oBAAoB,QAAS,CACjCzB,MAAM2B,EAAAA,EAAAA,IAAG,kBACT5M,MAAO4R,GACPjF,KAAMgF,GACN9E,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,iBACT/J,QAAS,QACR,CACD0J,KAAMiG,IACL,CACDpG,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,EAA7B,UAAoC6G,GAASd,MAAM4B,SAAnD,cAAiEd,GAASZ,SAASuU,aAAgB3T,GAASd,MAAM4B,UACjI7F,KAAM,YAMdkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAO+a,GACPpO,KAAMmO,GACN7P,MAAM2B,EAAAA,EAAAA,IAAG,wBAAyB,CAAEvK,QAA6C,IAApCwE,GAASrB,eAAemV,YACrEzN,SAASlE,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CuM,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMyO,WAKdvV,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOkU,GACPvH,KAAMsH,GACNhJ,MAAM2B,EAAAA,EAAAA,IAAG,WACTC,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASpB,eAAeoV,UAAUnW,KAAI,SAAA+E,GAAC,MACzE,CAACA,EAAG,CACFwB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO5D,IAC3B4C,OAAQ,CAAC,CACPE,KAAM0O,IACL,CACD1O,KAAM2O,eAKdxV,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,42BC5RnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,o1GCP9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BiH,aAAc3G,GAAAA,GAAoBN,OAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL2V,UAAWzU,GAAAA,GAAqBL,MAChC+N,UAAW1N,GAAAA,GAAqBL,MAChCgO,WAAY3N,GAAAA,GAAqBL,MACjC+U,QAAS1U,GAAAA,GAAqBL,MAAK,GACnCgV,OAAQ3U,GAAAA,GAAqBL,MAAK,GAClCgB,SAAUX,GAAAA,GAAqBL,OAEjCZ,MAAO,CACL0B,SAAUT,GAAAA,GAAqBJ,MAC/BgV,SAAU5U,GAAAA,GAAqBJ,MAC/BiV,QAAS7U,GAAAA,GAAqBJ,MAC9BkV,SAAU9U,GAAAA,GAAqBJ,MAC/BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,GACpCe,SAAUX,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACR+V,WAAY/U,GAAAA,GAAwBwG,MAAM,GAC1CwO,SAAUhV,GAAAA,GAAwBwG,MAAM,IAE1CvH,SAAU,CACRgW,QAASjV,GAAAA,GAAwByG,MAAM,GACvC9F,SAAUX,GAAAA,GAAwByG,MAAM,IAE1CjI,eAAgB,CACdiM,YAAazK,GAAAA,GAAAA,IAEfvB,eAAgB,CACdyW,WAAYlV,GAAAA,GAAAA,GACZmV,cAAenV,GAAAA,GAAAA,GACfoV,YAAapV,GAAAA,GAAAA,GACbqV,oBAAqBrV,GAAAA,GAAAA,IAEvBnB,eAAgB,CACdyW,cAAetV,GAAAA,GAAAA,GACfuV,QAASvV,GAAAA,GAAAA,KAIb,IAA6ByB,EAAAA,EAAAA,IAAKpI,GAAK,kBAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACA,IAA6BvH,EAAAA,EAAAA,IAAKpI,GAAK,cAAvC,iBAAOwO,GAAP,MAAmBC,GAAnB,MAEMuB,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3Ckc,IAAkBxT,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAeyW,aAEpFO,GAAsB,CAAE,YAAe,CAAE,SAAWpa,EAAAA,EAAAA,IAAQ,OAG5Dqa,IAAmB7a,EAAAA,EAAAA,KAAIQ,EAAAA,EAAAA,IAAQ,IAAI2G,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe0W,iBACrGQ,IAAuB/a,EAAAA,EAAAA,IAAK8a,IAAkBna,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAM4O,UAAW7N,GAASf,MAAM6O,WAAY,UAC1HiI,IAAsBhb,EAAAA,EAAAA,IAAK8a,IAAkBna,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAM4O,UAAW7N,GAASf,MAAM6O,WAAY,QAAS8H,KAElIrS,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9CC,cAAc1L,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0G,aAAc,UAAW,CAAEpM,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAEhG6F,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL+W,iBAAiBna,EAAAA,EAAAA,IAAckJ,GAAY+Q,IAC3CG,YAAaH,GACbI,gBAAgBra,EAAAA,EAAAA,IAAckJ,GAAYgR,IAC1CI,WAAYJ,GACZnV,UAAUxF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM2V,UAAW,QAAS,KAE9D1V,MAAO,CACL0B,UAAUxF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM0B,SAAU,SAClDmU,UAAU3Z,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM6V,SAAU,SAClDqB,SAASna,EAAAA,EAAAA,IAAe,KAAM+D,GAASd,MAAM8V,QAAShV,GAASd,MAAM+V,SAAU,WAI7EoB,IAAkBnU,EAAAA,EAAAA,IAAM+F,GAAQ,MAAMzM,EAAAA,EAAAA,IAAQwE,GAASb,SAAS+V,aAChEoB,IAAgBpU,EAAAA,EAAAA,IAAM+F,GAAQ,MAAMzM,EAAAA,EAAAA,IAAQwE,GAASb,SAASgW,WAE9DoB,IAAqBrU,EAAAA,EAAAA,IAAMiH,GAAQ,SAAS3N,EAAAA,EAAAA,IAAQwE,GAAShB,eAAeyW,gBAC5Ee,IAAiBtU,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBqT,IAC5DE,IAAevU,EAAAA,EAAAA,IAAMiH,GAAQ,SAAUnJ,GAAShB,eAAe0W,SAC/DgB,IAAWxU,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBuT,IAE/Cjc,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IACN3M,OAAQ,CACT+G,WAAY+R,IACX5Y,SAAU,CACXF,OAAQ,CACN6Q,YAAa4I,GACblN,SAAUiN,GACVrS,OAAQ0S,GACRC,SAAUH,OAKVrS,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAYA,GACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0G,aAAc,CAAEtN,IAAI,QAAD,OAAUA,GAAV,gCAEtD,CACD+L,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+W,gBAAiB,CAAExc,IAAI,QAAD,OAAUA,GAAV,mBACrD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMgX,YAAa,CAAEzc,IAAI,QAAD,OAAUA,GAAV,mBACjD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMiX,eAAgB,CAAE1c,IAAI,QAAD,OAAUA,GAAV,kBACpD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMkX,WAAY,CAAE3c,IAAI,QAAD,OAAUA,GAAV,kBAChD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM2B,SAAU,CAAEpH,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACD+L,KAAM7F,GAAI,iBACVvG,MAAO,SAAAqB,GAAI,OAAIwF,GAASf,MAAM6B,SAAStG,EAAKkP,IAAIjQ,EAAAA,GAAAA,MAAAA,YAAwBN,QACxE8B,KAAM,IACNkL,MAAO,GACN,CACDZ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM4V,QACtB5Z,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6V,OACtB7Z,KAAM,OAEP0E,GAAGkG,oBAAoB,WAAY,CACpC9I,UAAU,EACV5D,MAAO8O,GACPnC,KAAMkC,GACN5D,KAAM1E,GAAI,cACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM2Q,IACL,CACD3Q,KAAM4Q,WAMdpX,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM0B,SAAU,CAAEpH,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM6V,SAAU,CAAEvb,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMkX,QAAS,CAAE5c,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC/F,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,IACrB,CACDwE,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,iBAAkB,CAC1C9I,UAAU,EACV5D,MAAOgQ,GACPrD,KAAMoD,GACN9E,MAAM2B,EAAAA,EAAAA,IAAG,mBACTC,OAAQ,CACN4Q,MAAO,CACLxS,MAAM2B,EAAAA,EAAAA,IAAG,kBAAmB,CAAEvK,QAAS,KACvCgK,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwa,GAAoB,CAAE/c,IAAK,gBAG7Cqd,OAAQ,CACNzS,MAAM2B,EAAAA,EAAAA,IAAG,mBAAoB,CAAEvK,QAAS,KACxCgK,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQ0a,GAAc,CAAEjd,IAAK,mBAM3C2F,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMiQ,QACxE9W,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAKxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,22BC/PnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,wsHCL9HC,GAAWC,GAEX/F,GAAoB,OAC1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EACxB3G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPuN,YAAaxN,GAAAA,GAAoBN,MACjC+N,SAAUzN,GAAAA,GAAoBN,MAC9BU,QAASJ,GAAAA,GAAoBN,MAAK,GAClCiB,SAAUX,GAAAA,GAAoBN,MAAK,IAErCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5BgX,KAAM3W,GAAAA,GAAqBL,MAC3BiX,SAAU5W,GAAAA,GAAqBL,MAC/BkX,WAAY7W,GAAAA,GAAqBL,MACjCmX,WAAY9W,GAAAA,GAAqBL,MACjCoX,eAAgB/W,GAAAA,GAAqBL,MAAK,GAC1CqX,QAAShX,GAAAA,GAAqBL,MAAK,GACnCsX,OAAQjX,GAAAA,GAAqBL,MAAK,GAClCuX,SAAUlX,GAAAA,GAAqBL,MAAK,GACpC2I,QAAStI,GAAAA,GAAqBL,MAAK,GACnCwX,mBAAoBnX,GAAAA,GAAqBL,MACzCyX,mBAAoBpX,GAAAA,GAAqBL,MACzC0X,kBAAmBrX,GAAAA,GAAqBL,MAAK,IAE/CZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1B0X,aAActX,GAAAA,GAAqBJ,MACnC2X,YAAavX,GAAAA,GAAqBJ,MAClCiU,SAAU7T,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRwY,WAAYxX,GAAAA,GAAwBwG,MAAM,IAE5ChI,eAAgB,CACdiZ,QAASzX,GAAAA,GAAAA,IAEXrB,eAAgB,CACd+U,OAAQ1T,GAAAA,GAAAA,KAIZ,IAA2CyB,EAAAA,EAAAA,IAAKpI,GAAK,aAArD,iBAAOqe,GAAP,MAA0BC,GAA1B,MACA,IAAqDlW,EAAAA,EAAAA,IAAKpI,GAAK,kBAA/D,iBAAOue,GAAP,MAA+BC,GAA/B,MACA,IAA6BpW,EAAAA,EAAAA,IAAKpI,GAAK,oBAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACA,IAAmDvJ,EAAAA,EAAAA,IAAKpI,GAAK,iBAA7D,iBAAOye,GAAP,MAA8BC,GAA9B,MAEM1N,IAAOxP,EAAAA,EAAAA,KAAIkH,EAAAA,EAAAA,IAAM,SAAU4V,IAAetc,EAAAA,EAAAA,IAAQwE,GAASf,MAAMoY,YAAYnV,EAAAA,EAAAA,IAAM,SAAU4V,IAAetc,EAAAA,EAAAA,IAAQ,EAAIwE,GAASf,MAAMoY,YACvIpE,IAAiB/Q,EAAAA,EAAAA,IAAM,WAAY4V,IAAevc,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMsY,qBACnGY,IAAqBjW,EAAAA,EAAAA,IAAM,WAAY4V,IAAevc,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMqY,qBACvGla,IAAgB8E,EAAAA,EAAAA,IAAM,KAAMgW,IAAmB1c,EAAAA,EAAAA,IAAQwE,GAASrB,eAAeiZ,UAE/EQ,GAA6B,CACjCvb,OAAQ,CAAE2V,YAAYtQ,EAAAA,EAAAA,IAAMiJ,GAAQ,MAAMxQ,EAAAA,EAAAA,IAASqF,GAASlB,eAAe+U,UAC3EnZ,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,cAGjB4I,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPuN,aAAavS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQuN,YAAa,WAC1DC,UAAUxS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQwN,SAAU,YAEtDpN,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,SAC5CuH,MAAM1b,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM6X,KAAM,SAC1CC,UAAU3b,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM8X,SAAU,UAEpD7X,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxC4X,mBAAmBhe,EAAAA,EAAAA,KACjBU,EAAAA,EAAAA,KACEC,EAAAA,EAAAA,KACEO,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMuY,aAAc,CAAEje,IAAK,OACtEuB,EAAAA,EAAAA,KACElB,EAAAA,EAAAA,IAAOme,IAAoBze,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,KAAK,SAAAC,GAAC,OAAIjI,EAAAA,EAAAA,IAASiI,OAAKjI,EAAAA,EAAAA,IAAS,KAClFY,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMwY,YAAa,CAAEle,IAAK,QAGzEC,EAAAA,GAAAA,MAAAA,KACC,QAAS2e,KAEhBjZ,SAAU,CACRmZ,yBAAyBvd,EAAAA,EAAAA,KACvBS,EAAAA,EAAAA,IAAQwE,GAASb,SAASwY,aAC1Bvc,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuY,aAAc,QAASW,OAIrD5O,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAK,OAAQ,YAAa8F,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACN2N,KAAAA,GACAyI,eAAAA,GACAkF,mBAAAA,GACA/a,cAAAA,MAIE+G,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAY,OACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAmB,IAAN/C,GAAiB,IAANA,GAAWmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEjE,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQuN,YAAa,CAAEnU,IAAI,QAAD,OAAUA,GAAV,8BACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQwN,SAAU,CAAEpU,IAAI,QAAD,OAAUA,GAAV,8BAChD,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,QACxBtF,KAAM,MACL,CACDsK,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQU,SACxB7F,KAAM,OAEP,CACDsK,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAMkY,SACzBlc,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM6X,KAAM,CAAEtd,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACD+L,MAAMQ,EAAAA,EAAAA,IAAG,UACT5M,MAAM,GAAD,OAAK6G,GAASf,MAAMmY,QACzBnc,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO,GACN,CACDuM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM8X,SAAU,CAAEvd,IAAI,QAAD,OAAUA,GAAV,iCAEhDmG,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO2e,GACPhS,KAAM+R,GACNzT,KAAM1E,GAAI,eACVsG,OAAQ,CACN,OAAU,CACR5B,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO,IAC3BhB,OAAQ,CAAC,CACPE,KAAM8E,IACL,CACDjF,KAAM7F,GAAI,yBACT,CACD6F,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMuY,kBACtBvc,KAAM,OAGV,OAAU,CACRmJ,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO,IAC3BhB,OAAQ,CAAC,CACPE,KAAM8E,IACL,CACDjF,KAAM7F,GAAI,yBACT,CACD6F,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMuY,kBACtBvc,KAAM,OAGV,SAAY,CACVmJ,KAAM1E,GAAI,mBACV8F,OAAQ,CAAC,CACPE,KAAMuN,IACL,CACDvN,KAAMyS,IACL,CACD5S,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO,EACP8B,KAAM,YAMdiE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMmZ,kBAAmB,CAAE7e,IAAI,QAAD,OAAUA,GAAV,kBACvD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6B,IACzB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,WACxB,CACDoE,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO,EACP8B,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO6e,GACPlS,KAAMiS,GACN3T,KAAM1E,GAAI,eACVsG,QAAO,YACFzM,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,KAAK,SAAAC,GAAC,MAAK,CAClCwB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO5D,IAC3B4C,OAAQ,CAAC,CACPa,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDoM,KAAM7F,GAAI,kBACT,CACD2G,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDoM,KAAM7F,GAAI,6BAIdC,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOgS,GACPrF,KAAMoF,GACN9G,KAAM1E,GAAI,YACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPD,KAAM7F,GAAI,oBAMlBP,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAASmZ,wBAAyB,CAAE9e,IAAI,QAAD,OAAUA,GAAV,qBAGrE4F,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAO+e,GACPpS,KAAMmS,GACN7T,KAAM1E,GAAI,YACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMtI,IACL,CACDmI,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAOuG,GAAI,6BAKnBd,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,62BCxTnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,yrFCP9HC,GAAWC,GACX/F,GAAoB,SACpBuL,GAAyB,UAE/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BiH,aAAc3G,GAAAA,GAAoBN,OAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsZ,MAAOpY,GAAAA,GAAqBL,MAC5B0Y,UAAWrY,GAAAA,GAAqBL,MAChCgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRsB,IAAKN,GAAAA,GAAwBwG,MAAM,IAErCvH,SAAU,CACRqB,IAAKN,GAAAA,GAAwByG,MAAM,IAErCjI,eAAgB,CACd8B,IAAKN,GAAAA,GAAAA,IAEPvB,eAAgB,CACd6B,IAAKN,GAAAA,GAAAA,IAEPrB,eAAgB,CACd2B,IAAKN,GAAAA,GAAAA,GACLqN,MAAOrN,GAAAA,GAAAA,IAETnB,eAAgB,CACdyB,IAAKN,GAAAA,GAAAA,GACLW,SAAUX,GAAAA,GAAAA,KAIRoD,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9CC,cAAc1L,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0G,aAAc,UAAW,CAAEpM,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,cAC9F8d,gBAAgBtW,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASb,SAASsB,MAAMrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0G,aAAc,UAAW,CAAEpM,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,iBAE/J6F,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsZ,OAAOnd,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsZ,MAAO,SAC5CC,WAAWE,EAAAA,EAAAA,IAASjf,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMuZ,UAAW,UACrFG,aAAaxW,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKC,EAAAA,EAAAA,KAAIO,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAC9EuG,GAASf,MAAMuZ,UAAW,CAAEhf,IAAK,OAAQgC,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe6B,MAAOhH,EAAAA,GAAAA,MAAAA,KAAkB,QAClG,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eACzBie,iBAAiBzW,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB+B,EAAAA,EAAAA,IAAQwE,GAAShB,eAAeyB,MAAO,QAAS,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,gBAEhKuE,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxCoY,eAAe1W,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB+B,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe2B,MAAO,QAAS,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAC5J6S,OAAOrL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyB,EAAAA,EAAAA,KAAeH,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAgB+B,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe0O,WAE/GpO,SAAU,CACRqB,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB+B,EAAAA,EAAAA,IAAQwE,GAASZ,SAASqB,MAAO,QAAS,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,gBAEpIgE,eAAgB,CACd8B,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB+B,EAAAA,EAAAA,IAAQwE,GAASrB,eAAe8B,MAAO,YAAa,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,kBAGpJ6O,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GA1F3B,YA0F+CzF,GAAUiE,GAAa,CAC3FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,MAILtF,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0G,aAAc,CAAEtN,IAAI,QAAD,OAAUA,GAAV,8BACpD,CACD6M,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,GAChDuM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQqY,eAAgB,CAAEjf,IAAI,QAAD,OAAUA,GAAV,gBAExD,CACD+L,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsZ,MAAO,CAAE/e,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD6M,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,MAAQ,GACzDuM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMuZ,UAAW,CAAEhf,IAAI,QAAD,OAAUA,GAAV,+BAC/C,CACD6M,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DuM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM0Z,YAAa,CAAEnf,IAAI,QAAD,OAAUA,GAAV,+BACjD,CACD6M,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DuM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM2Z,gBAAiB,CAAEpf,IAAI,QAAD,OAAUA,GAAV,eACrD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAACqB,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAI6G,GAASf,MAAM6B,SAAWd,GAAShB,eAAe8B,SAAWd,GAASf,MAAM6B,UACxI7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM8B,IACzB9F,KAAM,KACL,CACDoL,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DoM,KAAM7F,GAAI,iBACVvG,MAAO,GACP8B,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD6M,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DuM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM2Z,cAAe,CAAErf,IAAI,QAAD,OAAUA,GAAV,gBACnD,CACD6M,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DuM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMsO,MAAO,CAAEhU,IAAI,oBAAsBwC,QAAS,aAC3E,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6B,IACzB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,eAI7BhC,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnE,SAASqB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,mBAGjD6F,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAe8B,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,mBAGvDoF,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,42BC5MnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,u/FCN9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,OAE/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BiH,aAAc3G,GAAAA,GAAoBN,MAClCiZ,WAAY3Y,GAAAA,GAAoBN,MAChCkZ,gBAAiB5Y,GAAAA,GAAoBN,OAEvCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLuJ,YAAarI,GAAAA,GAAqBL,MAClCW,IAAKN,GAAAA,GAAqBL,MAC1BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACR2B,SAAUX,GAAAA,GAAwBwG,MAAM,GACxCiC,YAAazI,GAAAA,GAAwBwG,MAAM,IAE7CvH,SAAU,CACRsI,aAAcvH,GAAAA,GAAwByG,MAAM,IAE9CjI,eAAgB,CACdqa,UAAW7Y,GAAAA,GAAAA,GACXW,SAAUX,GAAAA,GAAAA,GACV8Y,UAAW9Y,GAAAA,GAAAA,KAIf,IAA6ByB,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAOwO,GAAP,MAAmBC,GAAnB,MACA,IAA6BrG,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO2O,GAAP,MAAmBC,GAAnB,MACA,IAA6BxG,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAOya,GAAP,MAAmBC,GAAnB,MACA,IAA6BtS,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACM8H,IAAiB9Q,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMgS,IAAQ1Y,EAAAA,EAAAA,IAAQwE,GAASrB,eAAeqa,aACvGE,IAAgB/W,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM,KAAMkG,IAAQ5M,EAAAA,EAAAA,IAAQwE,GAASZ,SAASsI,gBACtFW,IAAYnG,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBgW,IACvDjV,IAAW9B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC9CI,EAAAA,EAAAA,IAAOsR,GAAQ/R,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAA+E,GAAC,MAAI,CAACA,GAAGpH,EAAAA,EAAAA,IAAQ,IAAOoH,QAAOC,EAAAA,KAE7EU,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9CC,cAAc1L,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0G,aAAc,UAAW,CAAEpM,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,WAC9Fme,YAAY1d,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0Y,WAAY,UACtD,CAAEjc,OAAQ,CAAEsc,WAAWhX,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM+F,GAAQ,MAAMzM,EAAAA,EAAAA,IAAQwE,GAASb,SAASyJ,gBAAkBlO,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,WACtIoe,iBAAiB3d,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ2Y,gBAAiB,UAChE,CAAElc,OAAQ,CAAEsc,WAAWhX,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM+F,GAAQ,MAAMzM,EAAAA,EAAAA,IAAQwE,GAASb,SAASyJ,gBAAkBlO,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAExI6F,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLuJ,aAAazN,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMuJ,aAAc/O,EAAAA,GAAAA,MAAAA,IACjFgH,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,WAGtC+I,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAvF3B,QAuF+CzF,GAAUiE,GAAa,CAC3FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAETzM,SAAU,CACRF,OAAQ,CACNwL,UAAAA,GACApE,SAAAA,GACAgP,eAAAA,OAKA9O,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0G,aAAc,CAAEtN,IAAI,QAAD,OAAUA,GAAV,8BACpD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0Y,WAAY,CAAEtf,IAAI,QAAD,OAAUA,GAAV,8BAClD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ2Y,gBAAiB,CAAEvf,IAAI,QAAD,OAAUA,GAAV,gCAEzDmG,GAAGkG,oBAAoB,WAAY,CACpC1M,MAAO8O,GACPnC,KAAMkC,GACN5D,KAAM1E,GAAI,eACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPD,KAAM7F,GAAI,kBACVvG,MAAuC,IAAhC6G,GAASb,SAASyJ,YACzB3N,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAM,GAAD,OAAK6G,GAASb,SAAS2B,SAAvB,WAITnB,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAO+a,GACPpO,KAAMmO,GACN7P,KAAM1E,GAAI,eACV3C,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMuN,IACL,CACD1N,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAM,GAAD,OAAK6G,GAASrB,eAAemC,SAA7B,WAIT,CACFyE,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMuJ,YAAa,CAAEhP,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aACnG,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM6B,SAApB,MACJ,CACDyE,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM8B,GAApB,MACJ,CACDsF,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DoM,MAAMQ,EAAAA,EAAAA,IAAG,WACT5M,MAAO,OAIX+F,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM4B,SAApB,MACJ,CACDyE,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6B,GAApB,MACJ,CACDwE,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,aAE1BxB,GAAGkG,oBAAoB,WAAY,CACpC1M,MAAOiP,GACPtC,KAAMqC,GACNpL,UAAU,EACVqH,MAAM2B,EAAAA,EAAAA,IAAG,mBACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQmd,GAAe,CAAE1f,IAAK,YAAawC,QAAS,eAI9D2D,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOgS,GACPrF,KAAMoF,GACNnO,UAAU,EACVqH,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAA+E,GAAC,MAAI,CAACA,EAAG,CAClDwB,MAAM2B,EAAAA,EAAAA,IAAG,UAAW,CAAES,MAAiB,GAAT5D,EAAI,KAClC4C,OAAQ,CAAC,CAAEE,KAAMzB,IAAY,CAAEsB,KAAM7F,GAAI,qBAAsBvG,MAAO,EAAG8B,KAAM,gBAInFkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,42BCjPnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,kzFCP9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,MAC/B,IAAavF,EAAAA,EAAAA,IAAM,OAAQhG,IAA3B,iBAAOiG,GAAP,MACME,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BuZ,MAAOjZ,GAAAA,GAAoBN,OAE7BW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1BuZ,OAAQlZ,GAAAA,GAAqBL,MAC7BwZ,SAAUnZ,GAAAA,GAAqBL,MAAK,GACpCgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLqa,QAASpZ,GAAAA,GAAqBJ,MAC9ByZ,eAAgBrZ,GAAAA,GAAqBJ,MACrC0Z,YAAa,EACb3Y,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRqL,KAAMrK,GAAAA,GAAAA,GAAAA,GACNW,SAAUX,GAAAA,GAAAA,GAAAA,IAEZf,SAAU,CACRsa,aAAcvZ,GAAAA,GAAAA,GAAAA,GACd+D,aAAc/D,GAAAA,GAAAA,GAAAA,IAEhBrB,eAAgB,CACd6a,UAAWxZ,GAAAA,GAAAA,IAEbnB,eAAgB,CACd4a,aAAc,CACZzZ,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,IAEFW,SAAUX,GAAAA,GAAAA,KAId,IAAuCyB,EAAAA,EAAAA,IAAKpI,GAAK,WAAjD,iBAAOqgB,GAAP,MAAwBC,GAAxB,MACMC,IAAiB7X,EAAAA,EAAAA,IAAM4X,GAAa,WACxC3X,EAAAA,EAAAA,IAAUnF,EAAAA,GAAAA,IAAc,GACtBzB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMoa,UAG/CW,IAAa9X,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgB6W,IACxDE,IAAsB/X,EAAAA,EAAAA,IAAM4X,GAAa,WAC7C3X,EAAAA,EAAAA,IAAUnF,EAAAA,GAAAA,IAAc,EAAGgD,GAASf,MAAMqa,WAEtCY,IAAkBhY,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgB+W,IAEnE,IAA6CrY,EAAAA,EAAAA,IAAKpI,GAAK,cAAvD,iBAAO2gB,GAAP,MAA2BC,GAA3B,MACMC,IAAkBlY,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAMkY,GAAgB,aAAcpa,GAASb,SAASqL,OAEhG8P,IAAkBnY,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAiBuG,GAASZ,SAASsa,eAClFa,IAAkBpY,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAiBuG,GAASZ,SAAS8E,eAExF,IAAuDtC,EAAAA,EAAAA,IAAKpI,GAAK,mBAAjE,iBAAOghB,GAAP,MAAgCC,GAAhC,MACMC,IAAkBvY,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACrDyI,EAAAA,EAAAA,IAAMuY,GAAqB,mBACzBlf,EAAAA,EAAAA,KAAUP,EAAAA,EAAAA,IAAIgC,EAAAA,GAAAA,KAAe,GAAIgD,GAAShB,eAAe4a,gBAIvDrW,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9CuS,OAAOhe,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQgZ,MAAO,UAAW,CAAE1e,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,QAElFvE,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMqa,QAAS,SAC5CoB,iBAAiBvf,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMsa,eAAgB,UAEjE1a,eAAgB,CACd8b,MAAMzY,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG0I,EAAAA,EAAAA,IAAUnF,EAAAA,GAAAA,IAAc,GAAG7B,EAAAA,EAAAA,IAAS,MAAO6E,GAASlB,eAAe6a,UAAW,OAIpH9V,IAAU1B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5CqK,IAAU3B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAErCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,UAAWzF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL7E,MAAO4E,GACP7E,MAAO4E,IAET9G,SAAU,CACRF,OAAQ,CACNge,IAAKb,GACLV,SAAUY,GACV1P,KAAM6P,GACNT,aAAcc,KAGlB7d,OAAQ,CACN6c,aAAcY,GACdpW,aAAcqW,MAIZpW,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQgZ,MAAO,CAAE5f,IAAI,QAAD,OAAUA,GAAV,gCAE/C,CACD+L,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO2gB,GACPhU,KAAM+T,GACNzV,MAAM2B,EAAAA,EAAAA,IAAG,mBACThJ,UAAU,EACViJ,OAAQ,CACN8U,QAAS,CACPtV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQge,GAAgB,CAAEvgB,IAAK,SACpC,CACD6M,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAI1M,EAAAA,GAAAA,KAAc7D,OAAS,GACjDoM,MAAMQ,EAAAA,EAAAA,IAAG,gBACR,CACDL,MAAM3J,EAAAA,EAAAA,IAAQke,GAAqB,CAAEzgB,IAAK,WAAYwC,QAAS,cAInE2D,GAAGuG,eAAe,WAAY,CAChCV,OAAQ,CAAC,CACPE,KAAM4U,OAEN3a,GAAGuG,eAAe,iBAAkB,CACtCnJ,UAAU,EACVsJ,SAASlE,EAAAA,EAAAA,IAAUnF,EAAAA,GAAAA,IAAW,EAAG,GACjCwI,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAe8b,KAAM,CAAEphB,IAAK,oBAAqBwC,QAAS,kBAIxFkD,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMyb,gBAAiB,CAAEnhB,IAAI,QAAD,OAAUA,GAAV,8BACtDmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAOxG,GAASd,MAAMua,eAChD,CACDlU,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,WAAY,CACpC1M,MAAOihB,GACPtU,KAAMqU,GACN/V,MAAM2B,EAAAA,EAAAA,IAAG,kBACThJ,UAAU,EACViJ,OAAQ,CACN+U,WAAY,CACVvV,OAAQ,CAAC,CACPE,KAAM2U,IACL,CACD9U,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,UAIV0E,GAAGuG,eAAe,WAAY,CAChCV,OAAQ,CAAC,CACPE,KAAM6U,SAIVpb,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM7B,QACxE/E,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM5B,QACxE9E,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOshB,GACP3U,KAAM0U,GACNpW,MAAM2B,EAAAA,EAAAA,IAAG,yBACThJ,UAAU,EACViJ,OAAQ,CACNgV,gBAAiB,CACfxV,OAAQ,CAAC,CACPE,KAAMgV,IACL,CACDnV,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAAShB,eAAe8B,SAC/B7F,KAAM,eAQpB,OAAmByL,EAAAA,EAAevC,GAAO3J,I,y3BClRnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,m/GCN9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLgc,eAAgB9a,GAAAA,GAAqBL,MAAK,GAC1C0H,OAAQrH,GAAAA,GAAqBL,MAC7BW,IAAKN,GAAAA,GAAqBL,MAC1Bob,qBAAsB/a,GAAAA,GAAqBL,MAAK,GAChDgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,GAC9Bqb,UAAWhb,GAAAA,GAAqBL,MAAK,IAEvCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1Bqb,SAAUjb,GAAAA,GAAqBJ,MAC/ByN,MAAOrN,GAAAA,GAAqBJ,MAC5Bsb,WAAYlb,GAAAA,GAAqBJ,MACjCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,GACpCub,MAAOnb,GAAAA,GAAqBJ,MAAK,IAEnCZ,SAAU,CACRyJ,YAAazI,GAAAA,GAAwBwG,MAAM,GAC3C7F,SAAUX,GAAAA,GAAwBwG,MAAM,IAE1CvH,SAAU,CACRkc,MAAOnb,GAAAA,GAAwByG,MAAM,GACrC2U,WAAYpb,GAAAA,GAAwByG,MAAM,IAE5ChI,eAAgB,CACd4c,mBAAoBrb,GAAAA,GAAAA,IAEtBrB,eAAgB,CACd8J,YAAazI,GAAAA,GAAAA,GACbW,SAAUX,GAAAA,GAAAA,IAEZnB,eAAgB,CACdsc,MAAOnb,GAAAA,GAAAA,GACPW,SAAUX,GAAAA,GAAAA,GACVsb,cAAetb,GAAAA,GAAAA,GACfyI,YAAazI,GAAAA,GAAAA,KAIjB,IAA2CyB,EAAAA,EAAAA,IAAKpI,GAAK,0BAArD,iBAAOkiB,GAAP,MAA0BC,GAA1B,MACMvP,IAAMlK,EAAAA,EAAAA,IAAM,KAAMyZ,IAAe7P,EAAAA,EAAAA,KACrC/Q,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMuI,QAAS/N,EAAAA,GAAAA,OAAAA,KAC/DsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASf,MAAMkc,WAAY1hB,EAAAA,GAAAA,KAAAA,OACpC4S,IAAWX,EAAAA,EAAAA,IAAS,KAAMiQ,GAAe5W,IAE/C,IAA6BnD,EAAAA,EAAAA,IAAKpI,GAAK,aAAvC,iBAAOwO,GAAP,MAAmBC,GAAnB,MACM2T,IAAiB1Z,EAAAA,EAAAA,IAAM,KAAM+F,IAAQF,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAAe+B,EAAAA,EAAAA,IAAQwE,GAASb,SAASyJ,aAAc,CAAEpP,IAAK,eACtI,IAA6BoI,EAAAA,EAAAA,IAAKpI,GAAK,iBAAvC,iBAAOqiB,GAAP,MAAmBC,GAAnB,MACMpK,IAAYxP,EAAAA,EAAAA,IAAM,KAAM4Z,IAAQtgB,EAAAA,EAAAA,IAAQwE,GAASZ,SAASmc,aAEhE,IAA6B3Z,EAAAA,EAAAA,IAAKpI,GAAK,uBAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACM4Q,IAAiB7Z,EAAAA,EAAAA,IAAM,KAAMiJ,IAAQpD,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAAe+B,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe8J,aAAc,CAAEpP,IAAK,eAE5I,IAA6BoI,EAAAA,EAAAA,IAAKpI,GAAK,qBAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACMgQ,IAAYjX,EAAAA,EAAAA,IAAM,KAAMiH,IAAQhH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAAShB,eAAe4J,eAClGoT,GAAY5iB,OAAOsJ,YAAY8I,GAAAA,GAAAA,KAAuB,SAAA5Q,GAAG,MAAI,CAACA,GAAKsH,EAAAA,EAAAA,IAAM,KAAMiH,IAAQhH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAAShB,eAAeyc,sBAEzJlY,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKiY,EAAAA,EAAAA,IAASjf,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UACzEwb,OAAO9Z,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,QAAS,CAAE/F,IAAK,CAAEmZ,QAAQ9Y,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,GAAgBuG,GAASpB,eAAe4c,yBAErJtc,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxC2a,UAAUhgB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMkc,SAAU,SAClD5N,OAAOtS,EAAAA,EAAAA,KAAeH,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAgB8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMsO,MAAO,CAAEhU,IAAK,QAC1G6hB,YAAYngB,EAAAA,EAAAA,KAAeH,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAgB8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMmc,WAAY,CAAE7hB,IAAK,UAGlHgQ,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET5M,QAAO,kBACL6U,UAAAA,IACGtY,OAAOsJ,YAAY8I,GAAAA,GAAAA,KAAuB,SAAA5Q,GAAG,MAAI,CAAC,GAAD,OAAIA,EAAJ,SAAgBohB,GAAUphB,SAF1E,IAGJue,UAAAA,KAEFxV,MAAO,CACLyI,IAAAA,IAEFrP,SAAU,CACRF,OAAQ,CACNsc,WAAWne,EAAAA,EAAAA,IAAI4gB,GAAgBG,MAGnC1P,SAAU,CACRC,mBAAoBD,MAIlBlI,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,GAAKA,EAAI,EAAI,GAAK,MAClG+C,WAAkB,IAAN/C,EAAU,MAAc,IAANA,EAAU,MAAQ,QAEjD,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMgd,MAAO,CAAEziB,IAAI,QAAD,OAAUA,GAAV,oCAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMic,qBACtBjgB,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOwiB,GACP7V,KAAM4V,GACNtX,KAAM1E,GAAI,kBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPD,KAAM9F,GAAG,uBACTtG,MAAuC,IAAhC6G,GAASf,MAAMgc,eACtBhgB,KAAM,gBACL,CACDyK,KAAM0G,IACL,CACD7G,MAAM,UAAC,KAAD,CAAW2W,MAAM,OAAjB,4BACL,CACD3W,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,YAMdiE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMkc,SAAU,CAAE5hB,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMsO,MAAO,CAAEhU,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC7F,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMmc,WAAY,CAAE7hB,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAClG,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,UACrB,CACDkF,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,MAAQ,GACzDoM,KAAM7F,GAAI,yCAIdP,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAO8O,GACPnC,KAAMkC,GACNjL,UAAU,EACVsJ,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,QAAe,GACrD2K,KAAM1E,GAAI,gBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMkW,IACL,CACDrW,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,YAKdmE,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAO2iB,GACPhW,KAAM+V,GACNzX,MAAM2B,EAAAA,EAAAA,IAAG,kBAAmB,CAAEvK,QAAmC,IAA1BwE,GAASZ,SAASkc,QACzDtV,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMgM,WAKdrS,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgS,GACPrF,KAAMoF,GACNnO,UAAU,EACVsJ,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,QAAe,GACrD2K,KAAM1E,GAAI,2BACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMqW,IACL,CACDxW,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASlB,eAAegC,SAC/B7F,KAAM,YAKd8D,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgQ,GACPrD,KAAMoD,GACN9E,KAAM1E,GAAI,2BACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAO,GAAD,gBAAMgG,GAAAA,GAAAA,KAAuB,SAAA5Q,GAAG,MAAK,CAAE8K,KAAMsW,GAAUphB,QAAvD,CAAiE,CACrE8K,KAAMyT,IACL,CACD5T,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAAShB,eAAe8B,SAC/B7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO,GACP8B,KAAM,gBAQpB,OAAmByL,EAAAA,EAAevC,GAAO3J,I,22BCjTnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,yvGCP9HC,GAAWC,GAEX/F,GAAoB,OACpBuL,GAAyB,QAE/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1BS,QAASJ,GAAAA,GAAqBL,MAAK,GACnCgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1Boc,aAAchc,GAAAA,GAAqBJ,MACnCqc,2BAA4Bjc,GAAAA,GAAqBJ,MACjDsc,wBAAyBlc,GAAAA,GAAqBJ,MAC9Cuc,sBAAuBnc,GAAAA,GAAqBJ,MAC5Cwc,uBAAwBpc,GAAAA,GAAqBJ,MAC7CgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRqd,OAAQrc,GAAAA,GAAwBwG,MAAM,GACtC8V,cAAetc,GAAAA,GAAwBwG,MAAM,IAE/CvH,SAAU,CACRwL,YAAazK,GAAAA,GAAwByG,MAAM,IAE7CjI,eAAgB,CACd+d,YAAavc,GAAAA,GAAAA,IAEfvB,eAAgB,CACd+d,QAASxc,GAAAA,GAAAA,GACTgK,OAAQhK,GAAAA,GAAAA,GACRW,SAAUX,GAAAA,GAAAA,IAEZrB,eAAgB,CACd8d,SAAUzc,GAAAA,GAAAA,IAEZnB,eAAgB,CACd6d,aAAc1c,GAAAA,GAAAA,KAIZqN,IAAQvR,EAAAA,EAAAA,IAAe,MAAO+D,GAASd,MAAMkd,2BAA4Bpc,GAASd,MAAMmd,wBAAyB,SACjHS,IAAY7gB,EAAAA,EAAAA,IAAe,MAAO+D,GAASd,MAAMod,sBAAuBtc,GAASd,MAAMqd,uBAAwB,SAC/GQ,IAAU5a,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyB,EAAAA,EAAAA,KAAeH,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASb,SAASsd,eAAgBhjB,EAAAA,GAAAA,MAAAA,OAEtG,IAA6BmI,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAOya,GAAP,MAAmBC,GAAnB,MACMtQ,IAAa1B,EAAAA,EAAAA,IAAMgS,GAAQ,MAAM/R,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASrB,eAAe+d,cAEjG,IAA6B9a,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACM9C,IAAUrI,EAAAA,EAAAA,IAAMmL,GAAQ,MAAMlL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAeuL,UAChGf,IAAWlH,EAAAA,EAAAA,IAAMmL,GAAQ,MAAMlL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe+d,WAEvG,IAA6B/a,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACM6R,IAAkB9a,EAAAA,EAAAA,IAAMiJ,GAAQ,MAAMhJ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,KAASyhB,KAAKC,IAAIld,GAASlB,eAAe8d,aAExH,IAA6Bhb,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACMgU,IAAcjb,EAAAA,EAAAA,IAAMiH,GAAQ,MAAMhH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAAShB,eAAe6d,gBACpGO,IAAUlb,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBia,IAErD5Z,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxC0b,cAAc/gB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMid,aAAc,SAC1D3O,MAAAA,GACAsP,UAAAA,IAEF3d,SAAU,CACR4d,QAAAA,IAEFne,eAAgB,CACd2L,QAAAA,GACAnB,SAAAA,KAGEI,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GA7GxB,YA6G+CzF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACN+G,WAAAA,IAEF7G,SAAU,CACRF,OAAQ,CACN0N,QAAAA,GACAnB,SAAAA,GACA4T,gBAAAA,GACAI,QAAAA,OAKAjZ,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAMsB,SACzBtF,KAAM,MACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM6B,UACzB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM8B,IACzB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAO+a,GACPpO,KAAMmO,GACN7P,KAAM1E,GAAI,cACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPD,KAAM7F,GAAI,gBACT,CACDgG,KAAM9B,WAMd1E,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMid,aAAc,CAAE3iB,IAAI,QAAD,OAAUA,GAAV,+BAClD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMsO,MAAO,CAAEhU,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC7F,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM4d,UAAW,CAAEtjB,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aACjG,CACDuJ,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO,GACP8B,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6B,IACzB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,aAE1BxB,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAOgS,GACPrF,KAAMoF,GACNnO,UAAU,EACVqH,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMsX,SAIVrd,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOgQ,GACPrD,KAAMoD,GACNnM,UAAU,EACVqH,MAAM2B,EAAAA,EAAAA,IAAG,mBACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQohB,GAAa,CAAE3jB,IAAK,oBAM1C2F,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAAS4d,QAAS,CAAEvjB,IAAI,oBAAsBwC,QAAS,kBAGrFoD,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAAO6G,GAASZ,SAASwL,kBAG7BvL,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOkU,GACPvH,KAAMsH,GACNrQ,UAAU,EACVqH,KAAM1E,GAAI,cACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM6E,IACL,CACD7E,KAAM0D,IACL,CACD7D,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASpB,eAAekC,SAC/B7F,KAAM,YAKd4D,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,62BC3RnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,89FCN9HC,GAAWC,GAEX/F,GAAoB,kBACpBuL,GAAyB,QAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPC,KAAMF,GAAAA,GAAoBN,MAC1BS,KAAMH,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5BiB,GAAIZ,GAAAA,GAAqBL,MAAK,GAC9BgX,KAAM3W,GAAAA,GAAqBL,MAC3BgV,OAAQ3U,GAAAA,GAAqBL,MAAK,IAEpCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1Bsd,IAAKld,GAAAA,GAAqBJ,MAC1Bud,IAAKnd,GAAAA,GAAqBJ,MAC1Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRoe,SAAUpd,GAAAA,GAAwBwG,MAAM,IAE1CvH,SAAU,CACRoe,YAAard,GAAAA,GAAwByG,MAAM,GAC3C9F,SAAUX,GAAAA,GAAwByG,MAAM,IAE1ChI,eAAgB,CACd6e,OAAQtd,GAAAA,GAAAA,IAEVnB,eAAgB,CACd0e,MAAOvd,GAAAA,GAAAA,GACPW,SAAUX,GAAAA,GAAAA,KAId,IAAuDyB,EAAAA,EAAAA,IAAKpI,GAAK,mBAAjE,iBAAOmkB,GAAP,MAAgCC,GAAhC,MAEA,IAAuDhc,EAAAA,EAAAA,IAAKpI,GAAK,mBAAjE,iBAAOqkB,GAAP,MAAgCC,GAAhC,MAEMC,GAAiB3kB,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAC,GAAC,MAAI,CAACA,EAAG,CAACzkB,GAAD,eAAcykB,SAC7EC,GAAa9kB,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAC,GAAC,MAAI,CAACA,GAAGE,EAAAA,EAAAA,IAAaJ,GAAeE,SACvFG,GAAOhlB,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAApjB,GAAG,MACnD,CAAC,GAAD,OAAIA,EAAJ,UAAgBuH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACnCyI,EAAAA,EAAAA,IAAMtH,EAAKsjB,GAAWtjB,IAEpBG,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASoe,YAAa,CAAErX,MAAO,IAAM1M,EAAAA,GAAAA,OAAAA,eAIjE,IAA6BmI,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACMgR,IAAWlc,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC9CyI,EAAAA,EAAAA,IAAM,KAAMmL,GAAQrN,GAASpB,eAAe6e,SAE9C,IAA+B7b,EAAAA,EAAAA,IAAKpI,GAAK,OAAzC,iBAAO8kB,GAAP,MAAoBC,GAApB,MACMC,IAAgBrc,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACnDyI,EAAAA,EAAAA,IAAM,MAAOqc,GAASve,GAASpB,eAAe6e,SAE1CgB,IAAYvc,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,SAC3C6E,EAAAA,EAAAA,IAAQ7E,EAAAA,GAAAA,QAAgB1J,GAAKglB,KAG/B,IAA6B5c,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACMuV,IAAaC,EAAAA,EAAAA,IAAallB,EAAAA,GAAAA,cAAqB,GACnDiS,EAAAA,EAAAA,IAAS,KAAMvC,GAAQ,UACnByV,IAASzc,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAE5CyI,EAAAA,EAAAA,IAAM,KAAMiH,IAAQpO,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAAShB,eAAe0e,OAAQjkB,EAAAA,GAAAA,OAAAA,UAG7DolB,IAAU,WAAQD,IAClBE,IAAa,WAAQF,IACrBG,IAAc,WAAQH,IAEtBI,IAAUxjB,EAAAA,EAAAA,IAAQ,IAElB+H,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQC,KAAM,WAC5CC,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQE,KAAM,YAE9CE,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,SAC5CuH,MAAM1b,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM6X,KAAM,SAC1CmI,MAAM7jB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASQ,SAASC,IAAK,WAAY,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC/EukB,MAAM9jB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASQ,SAASE,IAAK,WAAY,CAAEhG,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC/EwkB,OAAO/jB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASQ,SAASG,KAAM,WAAY,CAAEjG,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,aAEnFuE,OAAM,SACJuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxC4c,KAAKjiB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMme,IAAK,UACrCjkB,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAxkB,GAAG,MACzC,CAACA,GAAK0I,EAAAA,EAAAA,IAAM0b,GAAqBpkB,GAAK4B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMoe,IAAK,QAAS,CAAE5iB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASnB,aAE7G2F,SAAU/F,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAxkB,GAAG,MAChD,CAACA,GAAK0I,EAAAA,EAAAA,IAAM4b,GAAqBtkB,GAAKa,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAiBuG,GAASb,SAASoe,UAAW,WAAY,CAAE7iB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASnB,YAC5I4F,SAAUgf,GACVpf,eAAgB,CACd6I,YAAagX,GACbxP,aAAcyP,GACdpd,cAAeqd,KAGbvV,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAK,QAAS,UAAW8F,GAAUiE,GAAa,CAC3FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET1M,SAAU,CACRF,OAAQ,CACNuiB,kBAAmBJ,GACnBhb,OAAQya,IAEV9a,OAAM,WAGDya,KAGP/R,SAAU,CACRgT,gBAAiBX,IAEnB/a,MAAO,CACLkE,YAAagX,GACbxP,aAAcyP,GACdpd,cAAeqd,IAEjBliB,OAAQ,CACNmH,OAAQqa,MAINla,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,GAAKA,EAAI,EAAI,GAAK,MAClG+C,WAAkB,IAAN/C,EAAU,MAAc,IAANA,EAAU,MAAc,IAANA,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAExF,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDJ,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACR6G,GAASf,MAAM8B,GADP,oBACqB,GAAAf,GAASf,MAAM8B,IADpC,UAERf,GAASf,MAAM8B,KACtB9F,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM6X,KAAM,CAAEtd,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACD+L,MAAMQ,EAAAA,EAAAA,IAAG,UACT5M,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACR6G,GAASf,MAAM6V,OADP,oBACyB,GAAA9U,GAASf,MAAM6V,QADxC,UAER9U,GAASf,MAAM6V,SACtB7Z,KAAM,OAEP0E,GAAGuG,eAAe,QAAS,CAC5BV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMggB,KAAM,CAAEzlB,IAAK,4BAC5C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMigB,KAAM,CAAE1lB,IAAK,4BAC5C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMkgB,MAAO,CAAE3lB,IAAK,gCAE9CmG,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,KAAQoG,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQ,KAAO,CAAEhC,IAAK,iBACrE,CACD+L,KAAM7F,GAAI,YAIdR,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMme,IAAK,CAAE7jB,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOykB,GACP9X,KAAM6X,GACNvZ,MAAM2B,EAAAA,EAAAA,IAAG,YACTC,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMogB,GAAS,CAAE9lB,IAAI,QAAD,OAAUA,GAAV,wCAGhDmG,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOkU,GACPvH,KAAMsH,GACNhJ,KAAM1E,GAAI,MACVsG,OAAQ,CACNuZ,GAAI,CACF/Z,OAAQ,CAAC,CACPE,KAAM2Y,SAIV1e,GAAGkG,oBAAoB,iBAAkB,CAC3CQ,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,GAAK,GAC3CL,MAAOolB,GACPzY,KAAMwY,GACNvhB,UAAU,EACVqH,MAAM2B,EAAAA,EAAAA,IAAG,mBACTC,OAAQ,CACNwZ,IAAK,CACHha,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQyiB,GAAe,CAAEhlB,IAAK,mBAM5C2F,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAE1E1M,MAAO2kB,GACPhY,KAAM+X,GACNzZ,MAAM2B,EAAAA,EAAAA,IAAG,YACTC,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAASmgB,GAAS,CAAE9lB,IAAI,oCAIxD4F,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E9I,UAAU,EACViJ,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAApjB,GAAG,MAAI,CAACA,EAAK,CACxDzB,MAAO+kB,GAAWtjB,GAClBkL,KAAMiY,GAAenjB,GACrBwJ,MAAM2B,EAAAA,EAAAA,IAAG,iBAAD,OAAkBnL,IAC1B4K,OAAQ,CAAC,CACPE,KAAM0Y,GAAK,GAAD,OAAIxjB,EAAJ,WACT,CACD2K,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,gBAKZoE,SAAUM,GAAG2F,eAAe,WAAY,CAAC3F,GAAGuG,eAAe,WAAY,CACrEnJ,UAAU,EACVyI,OAAQ,CAAC,CACPE,KAAMsZ,SAGVrgB,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAE5F1M,MAAOgQ,GACPrD,KAAMoD,GACN9E,KAAM1E,GAAI,YACVsG,OAAQ,CACNyZ,GAAI,CACFja,OAAQ,CAAC,CACPa,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIgV,IAAYvlB,QAAU4L,IAChDQ,MAAM,UAAC,KAAD,CAAW2W,MAAOnX,GAAlB,UAA+BgB,EAAAA,EAAAA,IAAG,qBACvC,CACDL,KAAMmZ,IACL,CACDnZ,KAAMoZ,IACL,CACDpZ,KAAMqZ,IACL,CACDxZ,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAAShB,eAAe8B,SAC/B7F,KAAM,eAQpB,OAAmByL,EAAAA,EAAevC,GAAO3J,I,42BCnWnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,0lFCP9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,OAE/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPC,KAAMF,GAAAA,GAAoBN,MAC1BS,KAAMH,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCX,SAAU,CACRsgB,SAAU,KAEZ/gB,eAAgB,CACdwa,UAAW,KAEbra,eAAgB,CACd+O,UAAW,GACX/M,SAAU,GACV6e,SAAU,KAIRpc,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQC,KAAM,WAC5CC,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQE,KAAM,YAE9CE,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,UAE1CtB,SAAU,CACRyb,MAAMzf,EAAAA,EAAAA,IAAS,OAAOK,EAAAA,EAAAA,IAAQwE,GAASZ,SAASsgB,UAAW,IAE7D5gB,eAAgB,CACd8gB,YAAY/jB,EAAAA,EAAAA,IAAc,QAAQf,EAAAA,EAAAA,IAAW,MAAMU,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe+O,WAAY,IAC/FmB,QAAQlU,EAAAA,EAAAA,IAAW,MAAMU,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe+O,WAAY,KAInErE,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAGjD,IAAiCmI,EAAAA,EAAAA,IAAKpI,GAAK,UAA3C,iBAAOya,GAAP,MAAmB4L,GAAnB,MACMC,IAAuB5d,EAAAA,EAAAA,IAAM2d,GAAY,MAAM1d,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASrB,eAAewa,YACzG4G,IAAuB7d,EAAAA,EAAAA,IAAM2d,GAAY,MAAM1d,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASrB,eAAewa,YAElG3e,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAhF3B,YAgF+CzF,GAAUiE,GAAa,CAC3FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IACN5M,OAAQ,CACTmjB,iBAAkBF,GAClBG,kBAAmBF,MAIjB5b,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAYA,GACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDJ,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,UACrB,CACDkF,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDoM,KAAM7F,GAAI,wBAIdP,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGuG,eAAe,WAAY,CACrEV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAASyb,KAAM,CAAEphB,IAAI,QAAD,OAAUA,GAAV,WAAwBwC,QAAS,kBAGnFoD,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAO0mB,GACP/Z,KAAMmO,GACN7P,KAAM1E,GAAI,UACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMoa,IACL,CACDpa,KAAMqa,WAKdnhB,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAe8gB,WAAY,CAAEpmB,IAAI,QAAD,OAAUA,GAAV,gBACzD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAekQ,OAAQ,CAAExV,IAAI,QAAD,OAAUA,GAAV,gBACrD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASlB,eAAegC,SAC/B7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASlB,eAAe6gB,SAC/B1kB,KAAM,UAGV8D,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAKxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,26BC9MnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,GAAU6gB,OAAAA,I,8yFCPxI5gB,GAAWC,GAEX/F,GAAoB,gBACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGogB,GAAK,EAAGxZ,GAAK,EAAGC,GAAK,EACxC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPC,KAAMF,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLkhB,OAAQjgB,GAAAA,GAAqBJ,MAC7BsgB,SAAUlgB,GAAAA,GAAqBJ,MAC/Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCmgB,OAAQ,CACNI,YAAangB,GAAAA,GAAsBggB,MAAM,GACzCI,WAAYpgB,GAAAA,GAAsBggB,MAAM,GACxCrf,SAAUX,GAAAA,GAAsBggB,MAAM,IAExChhB,SAAU,CACRqhB,UAAWrgB,GAAAA,GAAwBwG,MAAM,GACzC7F,SAAUX,GAAAA,GAAwBwG,MAAM,IAE1CvH,SAAU,CACRmB,QAASJ,GAAAA,GAAwByG,MAAM,GACvC6Z,KAAMtgB,GAAAA,GAAwByG,MAAM,GACpC9F,SAAUX,GAAAA,GAAwByG,MAAM,IAE1ChI,eAAgB,CACd8hB,UAAWvgB,GAAAA,GAAAA,IAEbrB,eAAgB,CACd6hB,QAASxgB,GAAAA,GAAAA,GACTW,SAAUX,GAAAA,GAAAA,IAEZnB,eAAgB,CACd+B,GAAIZ,GAAAA,GAAAA,GACJygB,cAAezgB,GAAAA,GAAAA,KAInB,IAA+CyB,EAAAA,EAAAA,IAAKpI,GAAK,eAAzD,iBAAOqnB,GAAP,MAA4BC,GAA5B,MACMC,IAAsBrV,EAAAA,EAAAA,IAAS,cAAeoV,GAAiB/b,IAErE,IAAiDnD,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAOwnB,GAAP,MAA6BC,GAA7B,MACMC,IAAahf,EAAAA,EAAAA,IAAM,aAAc+e,IAAkBzlB,EAAAA,EAAAA,IAAQwE,GAASb,SAASqhB,YAC7EW,IAAgBjf,EAAAA,EAAAA,IAAM,aAAc+e,IAAkBzlB,EAAAA,EAAAA,IAAQwE,GAASb,SAASqhB,WAAY,CAAEhnB,IAAK,iBAEzG,IAAyDoI,EAAAA,EAAAA,IAAKpI,GAAK,oBAAnE,iBAAO4nB,GAAP,MAAiCC,GAAjC,MACMC,IAAuBpf,EAAAA,EAAAA,IAAM,mBAAoBmf,IAAsB7lB,EAAAA,EAAAA,IAAQwE,GAASZ,SAASqhB,OAEvG,IAA6C7e,EAAAA,EAAAA,IAAKpI,GAAK,cAAvD,iBAAO2gB,GAAP,MAA2BC,GAA3B,MACMW,IAAa5Y,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAChDyI,EAAAA,EAAAA,IAAM,KAAMkY,GAAgBpa,GAASlB,eAAe6hB,UAEtD,IAA6B/e,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACM2V,IAAgB3c,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACnDyI,EAAAA,EAAAA,IAAM,KAAMiH,GAAQnJ,GAAShB,eAAe4hB,eAAgB,CAAEpnB,IAAI,iBAE9D+J,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQC,KAAM,YAE9CG,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,UAE9CrQ,MAAO,CACLqiB,SAASnmB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMkhB,OAAQ,SAC/CoB,OAAOpmB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMmhB,SAAU,UAEjDzhB,eAAgB,CACd6B,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KACnDQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMkhB,OAAQ,CAAE5mB,IAAK,OAChEgC,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe8hB,WAChCjnB,EAAAA,GAAAA,MAAAA,KACC,QAAS,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,UAGjCyE,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,UAAWzF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAETzM,SAAU,CACRF,OAAQ,CACN4kB,aAAc1G,KAGlB1O,SAAU,CACRgT,gBAAiB0B,IAEnBlkB,OAAQ,CACNgL,YAAaqZ,GACb7R,cAAcrU,EAAAA,EAAAA,IAAImmB,GAAerC,IACjCzW,UAAWiZ,MAITnd,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAkB,IAAN/C,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEpD,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,KACjC,CACDjB,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,WAAY,CACpC1M,MAAO8nB,GACPnb,KAAMkb,GACN5c,KAAM1E,GAAI,cACVsG,OAAQ,CACN0b,WAAY,CACVlc,OAAQ,CAAC,CACPE,KAAMwb,IACL,CACDxb,KAAMyb,IACL,CACD5b,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,YAMdiE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMqiB,QAAS,CAAE/nB,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMsiB,MAAO,CAAEhoB,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,iBAAkB,CAC1C9I,UAAU,EACV5D,MAAOihB,GACPtU,KAAMqU,GACN/V,KAAM1E,GAAI,kBACVsG,OAAQ,CACN2b,GAAI,CACFnc,OAAQ,CAAC,CACPE,KAAMqV,IACL,CACDxV,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO,aAMf+mB,OAAQvgB,GAAG2F,eAAe,SAAU,CAAC,CACnCE,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,kBACT5M,MAAO6G,GAASkgB,OAAOI,aACtB,CACD/a,MAAMQ,EAAAA,EAAAA,IAAG,aACT5M,MAAO6G,GAASkgB,OAAOK,WACvBtlB,KAAM,QAEP0E,GAAGkG,oBAAoB,SAAU,CAClC1M,MAAO2nB,GACPhb,KAAM+a,GACNzc,KAAM1E,GAAI,eACVsG,OAAQ,CACN4b,YAAa,CACXpc,OAAQ,CAAC,CACPa,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIqX,IAAqB5nB,QAAU4L,IACzDQ,MAAM,UAAC,KAAD,CAAW2W,MAAM,OAAjB,UAAyBnW,EAAAA,EAAAA,IAAG,oBACjC,CACDR,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASkgB,OAAOpf,SACvB7F,KAAM,UAIV0E,GAAGkG,oBAAoB,WAAY,CACrC1M,MAAOkoB,GACPvb,KAAMsb,GACNhd,KAAM1E,GAAI,mBACVsG,OAAQ,CACN6b,iBAAkB,CAChBrc,OAAQ,CAAC,CACPD,KAAM7F,GAAI,kBACVvG,MAAO6G,GAASZ,SAASmB,SACxB,CACDmF,KAAM4b,IACL,CACD/b,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,YAMdkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY3E,eAAe6B,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,yBAGvDqF,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgQ,GACPrD,KAAMoD,GACN9E,KAAM1E,GAAI,YACVsG,OAAQ,CACNyZ,GAAI,CACFja,OAAQ,CAAC,CACPE,KAAMoZ,IACL,CACDvZ,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAAShB,eAAe+B,GAC/B9F,KAAM,eAQpB,OAAmByL,EAAAA,EAAevC,GAAO3J,I,q3BC/SnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,yxGCL9HC,GAAWC,GAEX/F,GAAoB,gBACpBuL,GAAyB,QAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL6iB,OAAQ,CACN3hB,GAAAA,GAAqBL,MACrBK,GAAAA,GAAqBL,MACrBK,GAAAA,GAAqBL,OAEvBiiB,cAAe5hB,GAAAA,GAAqBL,MAAK,GACzCkiB,cAAe7hB,GAAAA,GAAqBL,MACpC0B,UAAW,EACXygB,YAAa9hB,GAAAA,GAAqBL,MAClCoiB,iBAAkB/hB,GAAAA,GAAqBL,MAAK,GAC5CiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1B8H,YAAa1H,GAAAA,GAAqBJ,MAClCe,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRgjB,aAAchiB,GAAAA,GAAAA,GAAAA,IAEhBf,SAAU,CACRgjB,WAAYjiB,GAAAA,GAAAA,GAAAA,GACZY,GAAIZ,GAAAA,GAAAA,GAAAA,GACJkiB,cAAeliB,GAAAA,GAAAA,GAAAA,IAEjBxB,eAAgB,CACd2jB,YAAaniB,GAAAA,GAAAA,GACboiB,SAAUpiB,GAAAA,GAAAA,IAEZvB,eAAgB,CACd4jB,YAAariB,GAAAA,GAAAA,GACbsiB,YAAa,EACb9V,IAAKxM,GAAAA,GAAAA,IAEPrB,eAAgB,CACd4jB,OAAQviB,GAAAA,GAAAA,GACRW,SAAUX,GAAAA,GAAAA,IAEZnB,eAAgB,CACd2jB,aAAc,EACdliB,IAAKN,GAAAA,GAAAA,KAIT,IAAuCyB,EAAAA,EAAAA,IAAKpI,GAAK,WAAjD,iBAAOopB,GAAP,MAAwBC,GAAxB,MAEA,IAA+CjhB,EAAAA,EAAAA,IAAKpI,GAAK,eAAzD,iBAAOspB,GAAP,MAA4BC,GAA5B,MACMC,IAAqB9gB,EAAAA,EAAAA,IAAM2gB,GAAa,MAC5ChpB,EAAAA,EAAAA,IAAOkpB,GAAiB3pB,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAAolB,GAAM,MAAI,CACnEA,GACAloB,EAAAA,EAAAA,IACEkoB,GACA1nB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM+iB,cAAe,CAAExoB,IAAK,MACvEC,EAAAA,GAAAA,MAAAA,SAECoJ,EAAAA,KAGP,IAA+CjB,EAAAA,EAAAA,IAAKpI,GAAK,eAAzD,iBAAO0pB,GAAP,MAA4BC,GAA5B,MACMC,IAAwBlhB,EAAAA,EAAAA,IAAMihB,GAAiB,MACnD5nB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM2I,cAE7Cwb,IAAoBnhB,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBkgB,IAErE,IAAuCxhB,EAAAA,EAAAA,IAAKpI,GAAK,WAAjD,iBAAO8pB,GAAP,MAAwBC,GAAxB,MACMC,IAAcrhB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMqhB,GAAa,KAAMvjB,GAASrB,eAAe4jB,WAGjGkB,IAASthB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM2gB,GAAa,MAClEhpB,EAAAA,EAAAA,IAAOkpB,GAAiB3pB,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM3C,GAASpB,eAAe6jB,YAAa,GAAG5kB,KAAI,SAAAolB,GAAM,MAAI,CACrGA,GACAznB,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe+N,UAC7B9J,EAAAA,MAGP,IAAiDjB,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAOkqB,GAAP,MAA6BC,GAA7B,MACMC,IAAazhB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMyhB,GAAkB,KAAM3jB,GAASlB,eAAe4jB,SAErGmB,GAAiB,CACrBnpB,IAAK,CACHE,KAAKD,EAAAA,EAAAA,IAASoK,KAEhBlI,OAAQ,CACNinB,cAAed,GACfnb,YAAa2b,KAIXjgB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,OAAM,oBACD7F,OAAOsJ,YAAY1C,GAASf,MAAM6iB,OAAOjkB,KAAI,SAAC2F,EAAKZ,GAAN,MAC9C,CAAC,MAAD,OAAOA,IAAKV,EAAAA,EAAAA,IAAM2gB,GAAa,MAAMxoB,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KACjDQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwB+J,EAAK,CAAEhK,IAAK,MAC9CC,EAAAA,GAAAA,MAAAA,KACC,SAAUoqB,WALZ,IAMH5B,aAAa7mB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMgjB,YAAa,WAE1D/iB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,UAE1CzB,eAAgB,CAEdyB,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAAShB,eAAeyB,KAAMhH,EAAAA,GAAAA,MAAAA,KAAkB,SAAU,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,KAAelI,OAAQ,CAAEgL,YAAa2b,SAGvL3f,IAAU1B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5CqK,IAAU3B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACrCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,UAAWzF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAO4E,GACP3E,MAAO4E,IAET/G,SAAU,CACRF,OAAQ,CACNgL,YAAawb,GACb9Y,QAASqZ,KAGb/mB,OAAQ,CACN8P,IAAK8W,MAIHtf,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OACExF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CACpC8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAkB,IAAN/C,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEtD,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMgjB,YAAa,CAAEzoB,IAAI,QAAD,OAAUA,GAAV,+BACjD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMijB,iBACtBjnB,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO0pB,GACP/c,KAAM8c,GACNxe,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAO,GAAD,gBACDxF,GAASf,MAAM6iB,OAAOjkB,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CACtC8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAZ,aAAwB2D,IAAM,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,kCAAuCoJ,UAFtF,CAGC,CACH2C,MAAMQ,EAAAA,EAAAA,IAAG,gBACR,CACDR,KAAM7F,GAAI,uBACT,CACD6F,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASf,MAAM8iB,cACtB9mB,KAAM,WAIZ0E,GAAGkG,oBAAoB,QAAS,CAClC1M,MAAO4pB,GACPjd,KAAMgd,GACN1e,KAAM1E,GAAI,uBACV2G,SAASnE,EAAAA,EAAAA,IAAM2gB,GAAa,KAAM,GAClC7c,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAAolB,GAAM,MAAI,CACnDA,EAAQ,CACN7e,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAOyc,IAC3Bzd,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQinB,GAAoB,CAAExpB,IAAI,QAAD,OAAUA,GAAV,yBACtC,CACD+L,MAAMQ,EAAAA,EAAAA,IAAG,aACT5M,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAClD6G,GAASf,MAAMuC,UAAYxB,GAASpB,eAAe4jB,YACnDxiB,GAASf,MAAMuC,qBAIvB7B,GAAGuG,eAAe,WAAY,CAChCG,SAASnE,EAAAA,EAAAA,IAAM2gB,GAAa,KAAM,GAClCrd,OAAQ,CAAC,CACPD,KAAM7F,GAAI,qBACVvG,MAAO6G,GAASb,SAASgjB,cACxB,CACD5c,KAAM7F,GAAI,yBACVvG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAClD6G,GAASf,MAAMuC,UAAYxB,GAASpB,eAAe4jB,YACnDxiB,GAASf,MAAMuC,eAEnB7B,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOoqB,GACPzd,KAAMwd,GACNlf,MAAM2B,EAAAA,EAAAA,IAAG,uBAAwB,CAAEvK,QAA+C,IAAtCwE,GAASrB,eAAe2jB,cACpEjc,SAASnE,EAAAA,EAAAA,IAAM2gB,GAAa,KAAM,GAClC7c,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQynB,GAAa,CAAEhqB,IAAI,QAAD,OAAUA,GAAV,yBAIpCmG,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,iBACVvG,MAAO6G,GAASpB,eAAe4jB,aAC9B,CACDnc,QAAS,SAAA7L,GAAI,OAA+B,IAA3BA,EAAKkP,IAAI+Z,IAAQtqB,OAClCuM,KAAM+d,OAEN9jB,GAAGuG,eAAe,iBAAkB,CACtCG,SAASnE,EAAAA,EAAAA,IAAM2gB,GAAa,KAAM,GAClCrd,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYvE,eAAeyB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,aACnDmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAOxG,GAAShB,eAAe2jB,qBAI9DzjB,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOgqB,GACPrd,KAAMod,GACN9e,MAAM2B,EAAAA,EAAAA,IAAG,mBACThJ,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQqnB,GAAuB,CAAE5pB,IAAK,sBAIhDmG,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOwqB,GACP7d,KAAM4d,GACNtf,MAAM2B,EAAAA,EAAAA,IAAG,kBACThJ,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMke,IACL,CACDre,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASlB,eAAegC,SAC/B7F,KAAM,YAMdkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM7B,QACxE/E,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM5B,QACxE9E,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,62BCzVnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,yhGCL9HC,GAAWC,GAEX/F,GAAoB,SACpBuL,GAAyB,UAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG6G,GAAK,EACxB5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPC,KAAMF,GAAAA,GAAoBN,MAC1BS,KAAMH,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL8kB,SAAU5jB,GAAAA,GAAqBL,MAC/BkkB,MAAO7jB,GAAAA,GAAqBL,MAC5BmkB,YAAa9jB,GAAAA,GAAqBL,MAClCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLglB,QAAS/jB,GAAAA,GAAqBJ,MAC9BikB,MAAO7jB,GAAAA,GAAqBJ,MAC5BokB,MAAOhkB,GAAAA,GAAqBJ,MAC5BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BuK,KAAMnK,GAAAA,GAAqBJ,MAAK,IAElCZ,SAAU,CACR2B,SAAUX,GAAAA,GAAAA,GAAAA,IAEZf,SAAU,CACRglB,SAAUjkB,GAAAA,GAAwByG,MAAM,GACxCyd,aAAclkB,GAAAA,GAAwByG,MAAM,GAC5C9F,SAAUX,GAAAA,GAAwByG,MAAM,IAE1CjI,eAAgB,CACd8B,IAAKN,GAAAA,GAAAA,IAEPrB,eAAgB,CACdgC,SAAUX,GAAAA,GAAAA,GACVqH,OAAQrH,GAAAA,GAAAA,IAEVnB,eAAgB,CACdslB,WAAYnkB,GAAAA,GAAAA,GACZW,SAAUX,GAAAA,GAAAA,KAIRoD,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQC,KAAM,WAC5CC,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQE,KAAM,YAE9CE,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL8kB,UAAU3oB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM8kB,SAAU,SAClDC,OAAO5oB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM+kB,MAAO,SAC5CC,aAAa7oB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMglB,YAAa,UAE1D/kB,MAAO,CACLglB,SAAS9oB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMglB,QAAS,SAChDF,OAAO5oB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM8kB,MAAO,SAC5CG,OAAO/oB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMilB,MAAO,UAE9CxlB,eAAgB,CACd8B,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAiBuG,GAASrB,eAAe8B,KAAM,YAAa,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,UAI3IyE,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEjD,IAA+CmI,EAAAA,EAAAA,IAAKpI,GAAK,eAAzD,iBAAO+qB,GAAP,MAA4BC,GAA5B,MACMC,IAAsB/Y,EAAAA,EAAAA,IAAS,cAAe8Y,IAClD7F,EAAAA,EAAAA,IAAallB,EAAAA,GAAAA,IAAW,EAAGsL,KAG7B,IAA6CnD,EAAAA,EAAAA,IAAKpI,GAAK,cAAvD,iBAAO2gB,GAAP,MAA2BC,GAA3B,MACMsK,IAAsBviB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM,aAAckY,IAAgB5e,EAAAA,EAAAA,IAAQwE,GAASZ,SAASglB,YAC5GO,IAAmB,WAAQD,IAEjC,IAA6C9iB,EAAAA,EAAAA,IAAKpI,GAAK,cAAvD,iBAAOorB,GAAP,MAA2BC,GAA3B,MACMC,IAAiB3iB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,aAAc2iB,IAAgBrpB,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe0I,UAE7H,IAAuC5F,EAAAA,EAAAA,IAAKpI,GAAK,WAAjD,iBAAOurB,GAAP,MAAwBC,GAAxB,MACMC,IAAiB9iB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACpDsB,EAAAA,EAAAA,KACElB,EAAAA,EAAAA,IAAOmrB,IAAazrB,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAIjI,EAAAA,EAAAA,IAASiI,OAAKjI,EAAAA,EAAAA,IAAS,IAC1EqF,GAAShB,eAAeslB,aAIf9pB,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET6C,SAAU,CACRgT,gBAAiBoF,IAEnB5nB,OAAQ,CACNsc,UAAWuL,GACX9S,UAAW+S,GACX7c,KAAMgd,GACNI,aAAcD,MAIZ9gB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAC/B,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,GAAKA,EAAI,EAAI,GAAK,MAE/D+C,WAAkB,IAAN/C,EAAU,MAAc,IAANA,EAAU,MAAQ,QAEjD,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDJ,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM8kB,SAAU,CAAEvqB,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+kB,MAAO,CAAExqB,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMglB,YAAa,CAAEzqB,IAAI,QAAD,OAAUA,GAAV,+BACjD,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,WAAY,CACpC1M,MAAOqrB,GACP1e,KAAMye,GACNngB,KAAM1E,GAAI,UACVsG,OAAQ,CACNmf,YAAa,CACX3f,OAAQ,CAAC,CACPa,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAI+a,IAAqBtrB,QAAU4L,IACzDQ,MAAM,UAAC,KAAD,CAAW2W,MAAM,UAAjB,UAA4BnW,EAAAA,EAAAA,IAAG,uBACpC,CACDR,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,YAMdiE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMglB,QAAS,CAAE1qB,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM8kB,MAAO,CAAExqB,IAAI,QAAD,OAAUA,GAAV,8BAC5CmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,KACjC,CACDd,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMilB,MAAO,CAAE3qB,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMoL,QAEvB3K,GAAGkG,oBAAoB,WAAY,CACpC1M,MAAOihB,GACPtU,KAAMqU,GACN/V,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ,CACN+U,WAAY,CACVvV,OAAQ,CAAC,CACPE,KAAMgf,IACL,CACDhf,KAAMif,WAMdxlB,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAe8B,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,kBAGvDoF,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAO0rB,GACP/e,KAAM8e,GACNxgB,KAAM1E,GAAI,gBACVsG,OAAQ,CACNof,WAAY,CACV5f,OAAQ,CAAC,CACPE,KAAMof,WAKd/lB,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAO6rB,GACPlf,KAAMif,GACN3gB,KAAM1E,GAAI,kBACVsG,QAAQzM,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACtCwB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO5D,IAC3B4C,OAAQ,CAAC,CACPE,KAAMuf,gBAOlB,OAAmBve,EAAAA,EAAevC,GAAO3J,I,22BC5QnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,swFCP9HC,GAAWC,GACX/F,GAAoB,OACpBuL,GAAyB,OAE/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLomB,iBAAkBllB,GAAAA,GAAqBL,MACvCwlB,iBAAkBnlB,GAAAA,GAAqBL,MACvCylB,iBAAkBplB,GAAAA,GAAqBL,MACvC0lB,QAASrlB,GAAAA,GAAqBL,MAC9B2lB,aAActlB,GAAAA,GAAqBL,MAAK,GACxCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,GACpC0I,QAAStI,GAAAA,GAAqBJ,MAC9Be,SAAUX,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRkQ,aAAc,IAEhB1Q,eAAgB,CACd+mB,KAAM,KAER9mB,eAAgB,CACd6iB,aAAc,KAEhB3iB,eAAgB,CACd2B,IAAK,MAEPzB,eAAgB,CACd0S,UAAW,KAIf,IAA6B9P,EAAAA,EAAAA,IAAKpI,GAAK,oBAAvC,iBAAOwO,GAAP,MAAmBC,GAAnB,MACMoH,IAAenN,EAAAA,EAAAA,IAAM,KAAM+F,IAAQ9F,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASb,SAASkQ,gBAE3F,IAA6BzN,EAAAA,EAAAA,IAAKpI,GAAK,kBAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACMoU,IAAevf,EAAAA,EAAAA,IAAM,KAAMmL,IAAQlL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe6iB,gBAE3G,IAA6B7f,EAAAA,EAAAA,IAAKpI,GAAK,kBAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACMuI,IAAYxP,EAAAA,EAAAA,IAAM,KAAMiH,IAAQhH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAAShB,eAAe0S,aAElGnO,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL0mB,iBAAiBvqB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMomB,iBAAkB,SACjEG,SAASpqB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMumB,QAAS,UAElDtmB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,UAE1C9B,eAAgB,CACdinB,qBAAqBzjB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASrB,eAAe+mB,OAAOtqB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,YAExI3B,eAAgB,CACd+mB,qBAAqB1jB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe2B,KAAMhH,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,cAGpK6O,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAxFxB,YAwF+CzF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET5M,OAAQ,CACNwS,aAAAA,IAEFtS,SAAU,CACRF,OAAQ,CACN6U,UAAAA,GACA+P,aAAAA,OAKAtd,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM0mB,gBAAiB,CAAEnsB,IAAI,QAAD,OAAUA,GAAV,+BACrD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMumB,QAAS,CAAEhsB,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAMwmB,cACzBxqB,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM8B,IACzB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM4B,UACzB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6B,IACzB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,eAI7BhC,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAO8O,GACPnC,KAAMkC,GACN5D,KAAM1E,GAAI,cACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM2J,IACL,CACD9J,KAAM7F,GAAI,uBAKlBN,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAeinB,oBAAqB,CAAEpsB,IAAI,oBAGxEoF,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOkU,GACPvH,KAAMsH,GACNrQ,UAAU,EACVqH,KAAM1E,GAAI,cACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM+b,IACL,CACDlc,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO,GACP8B,KAAM,YAKd4D,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAe+mB,oBAAqB,CAAErsB,IAAI,oBAGxEuF,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgQ,GACPrD,KAAMoD,GACNnM,UAAU,EACVqH,KAAM1E,GAAI,cACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMgM,IACL,CACDnM,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO,GACP8B,KAAM,eAQpB,OAAmByL,EAAAA,EAAevC,GAAO3J,I,i3BChPnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,0tFCP9HC,GAAWC,GAEX/F,GAAoB,YAC1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG6G,GAAK,EACxB5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BimB,WAAY3lB,GAAAA,GAAoBN,OAElCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1BoQ,SAAU/P,GAAAA,GAAqBL,MAC/BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACL6mB,gBAAiB5lB,GAAAA,GAAqBJ,MACtCimB,gBAAiB7lB,GAAAA,GAAqBJ,MACtCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCX,SAAU,CACR6mB,UAAW9lB,GAAAA,GAAwByG,MAAM,GACzCsf,GAAI/lB,GAAAA,GAAwByG,MAAM,IAEpChI,eAAgB,CACdunB,eAAgBhmB,GAAAA,GAAAA,IAElBnB,eAAgB,CACdwI,OAAQrH,GAAAA,GAAAA,KAIZ,IAAyDyB,EAAAA,EAAAA,IAAKpI,GAAK,qBAAnE,iBAAO4sB,GAAP,MAAiCC,GAAjC,MACMxV,IAActV,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMiR,SAASrS,KAAI,SAAAF,GAAC,OAAIA,KAAI,CAAEnE,IAAK,MAC5F8sB,IAAwBpkB,EAAAA,EAAAA,IAAM,oBAAqBmkB,IACvDtrB,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,KAAAA,IAAgBoX,KAEjB0V,IAAoBrkB,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBojB,IAErE,IAA6B1kB,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACMqd,IAAoBtkB,EAAAA,EAAAA,IAAM,KAAMiH,IAAQ3N,EAAAA,EAAAA,IAAQwE,GAAShB,eAAewI,SAExEjE,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9Cif,YAAY1qB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0lB,WAAY,UAAW,CAAEprB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAE5F6F,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,SACxC8lB,kBAAAA,IAEFrnB,MAAO,CACLunB,cAAcrrB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM6mB,gBAAiB,SAC7DW,cAActrB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM8mB,gBAAiB,UAE/DpnB,eAAgB,CACd6B,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGsB,EAAAA,EAAAA,KAAKK,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAAUjF,EAAAA,EAAAA,IAAQwE,GAASpB,eAAeunB,oBAGvH3c,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAK,UAAW,UAAW8F,GAAUiE,GAAa,CAC7FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAETzM,SAAU,CACRF,OAAQ,CACN8pB,iBAAkBH,IAEpB7iB,MAAO,CACLyI,IAAKma,OAKLpiB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAY,UACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0lB,WAAY,CAAEtsB,IAAI,QAAD,OAAUA,GAAV,gCAEpD,CACD+L,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM6B,SAApB,MACJ,CACDyE,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM8B,GAApB,QAENpB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOktB,GACPvgB,KAAMsgB,GACNhiB,KAAM1E,GAAI,gBACV3C,UAAU,EACViJ,OAAQ,CACN4gB,kBAAmB,CACjBphB,OAAQ,CAAC,CACPD,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAkC,IAA9BA,EAAKkP,IAAImH,IAAa1X,OACrC8B,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQuqB,GAAuB,CAAE9sB,IAAI,+BAMnD0F,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMunB,aAAc,CAAEjtB,IAAI,QAAD,OAAUA,GAAV,+BAClD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMwnB,aAAc,CAAEltB,IAAI,QAAD,OAAUA,GAAV,+BAClD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6B,GAApB,MACJ,CACDwE,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,eAI7BhC,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPD,KAAM7F,GAAI,eACVvG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,MAAAA,WAAuBN,MAAQ6G,GAASZ,SAAS6mB,iBAG7E5mB,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY3E,eAAe6B,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,oCAGvDqF,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgQ,GACPrD,KAAMoD,GACNnM,UAAU,EACVqH,KAAM1E,GAAI,qBACVsG,OAAQ,CACNyZ,GAAI,CACFja,OAAQ,CAAC,CACPE,KAAM8gB,cAQpB,OAAmB9f,EAAAA,EAAevC,GAAO3J,I,22BChNnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,2qFCN9H7F,GAAoB,OACpBuL,GAAyB,UACzBzF,GAAWC,GACjB,IAAkBC,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG6G,GAAK,EACxB5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL4nB,OAAQ1mB,GAAAA,GAAqBL,MAC7BgnB,OAAQ3mB,GAAAA,GAAqBL,MAC7BinB,OAAQ5mB,GAAAA,GAAqBL,MAC7BknB,OAAQ7mB,GAAAA,GAAqBL,MAC7BmnB,OAAQ9mB,GAAAA,GAAqBL,MAAK,GAClCyP,MAAOpP,GAAAA,GAAqBL,MAC5BonB,QAAS/mB,GAAAA,GAAqBL,MAAK,IAErCZ,MAAO,CACLioB,KAAMhnB,GAAAA,GAAqBJ,MAC3Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BuK,KAAMnK,GAAAA,GAAqBJ,MAAK,IAElCZ,SAAU,CACRsJ,QAAStI,GAAAA,GAAAA,GAAAA,IAEXf,SAAU,CACRgoB,SAAUjnB,GAAAA,GAAwByG,MAAM,GACxC9F,SAAUX,GAAAA,GAAwByG,MAAM,KAI5C,IAA6BhF,EAAAA,EAAAA,IAAKpI,GAAK,UAAvC,iBAAO2O,GAAP,MAAmBC,GAAnB,MACA,IAA6BxG,EAAAA,EAAAA,IAAKpI,GAAK,UAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MAEMga,IAAiBnlB,EAAAA,EAAAA,IAAMkG,GAAQ,MAAMjG,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAGuG,GAASZ,SAASgoB,WAC/EE,IAAoBplB,EAAAA,EAAAA,IAAMmL,GAAQ,MAAMlL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGkB,EAAAA,EAAAA,IAAS,OAEnF4I,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAEuG,EAAF,KAAQZ,EAAR,WACjE,CAACY,GAAMhJ,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,iBAC7BvE,MAAO,CACL4nB,QAAQzrB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM4nB,OAAQ,SAC9CC,QAAQ1rB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM6nB,OAAQ,SAC9CC,QAAQ3rB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM8nB,OAAQ,SAC9CC,QAAQ5rB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM+nB,OAAQ,SAC9CzX,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,UAE9CrQ,MAAO,CACLioB,MAAM/rB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMioB,KAAM,WAIxC3d,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL7E,MAAOsK,GACPvK,MAAOwK,IAET5M,OAAQ,CACN2N,KAAM8c,IAERvqB,SAAU,CACRF,OAAQ,CACN4kB,aAAc4F,OAKdljB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAYA,GACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAO,CAAE,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,gCADxC,iBAGHmJ,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAA+E,GAAC,MAAK,CACvB8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAZ,eAA0B2D,IAAM,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,kCAAuC,EAAIoJ,UAJ1F,CAKD,CACH2C,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASf,MAAMioB,QACtBjsB,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,WACVzM,MAAO6G,GAASf,MAAMgoB,OACtBhsB,KAAM,UAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMioB,KAAM,CAAE3tB,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMoL,UAI1BnL,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1EzB,KAAM1E,GAAI,OACVvG,MAAOiP,GACPtC,KAAMqC,GACNpL,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM2hB,IACL,CACD9hB,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,YAKdoE,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOkU,GACPvH,KAAMsH,GACNhJ,KAAM1E,GAAI,OACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM4hB,IACL,CACD/hB,MAAMQ,EAAAA,EAAAA,IAAG,uBAKjBlH,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,i6BC1MnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,GAAU6gB,OAAAA,I,msFCPxI5gB,GAAWC,GAEX/F,GAAoB,OACpBuL,GAAyB,QAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGogB,GAAK,EAAGxZ,GAAK,EAAGC,GAAK,EACxC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLoe,IAAKld,GAAAA,GAAqBL,MAC1BW,IAAKN,GAAAA,GAAqBL,MAC1BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLqoB,eAAgBpnB,GAAAA,GAAqBJ,MAAK,GAC1CU,IAAKN,GAAAA,GAAqBJ,MAC1BynB,YAAarnB,GAAAA,GAAqBJ,MAClC0nB,aAActnB,GAAAA,GAAqBJ,MACnCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,GACpC2nB,SAAUvnB,GAAAA,GAAqBJ,OAEjCmgB,OAAQ,CACNI,YAAangB,GAAAA,GAAsBggB,MAAM,GACzCI,WAAYpgB,GAAAA,GAAsBggB,MAAM,IAE1ChhB,SAAU,CACRwoB,gBAAiBxnB,GAAAA,GAAwBwG,MAAM,GAC/CihB,gBAAiBznB,GAAAA,GAAwBwG,MAAM,GAC/CgR,WAAYxX,GAAAA,GAAwBwG,MAAM,IAE5CvH,SAAU,CACRqJ,QAAStI,GAAAA,GAAwByG,MAAM,GACvC+Q,WAAYxX,GAAAA,GAAwByG,MAAM,IAE5CjI,eAAgB,CACdkpB,oBAAqB1nB,GAAAA,GAAAA,GACrB2nB,eAAgB3nB,GAAAA,GAAAA,GAChB4nB,iBAAkB5nB,GAAAA,GAAAA,GAClB6nB,gBAAiB7nB,GAAAA,GAAAA,GACjBsI,QAAStI,GAAAA,GAAAA,GACTW,SAAUX,GAAAA,GAAAA,IAEZrB,eAAgB,CACdmpB,eAAgBhL,KAAKC,IAAI/c,GAAAA,GAAAA,KAE3BnB,eAAgB,CACdyJ,QAAStI,GAAAA,GAAAA,GACTunB,SAAUvnB,GAAAA,GAAAA,GACV+nB,YAAa/nB,GAAAA,GAAAA,GACbW,SAAUX,GAAAA,GAAAA,KAIR4M,IAAa5K,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,OAAAA,WAAwB+B,EAAAA,EAAAA,IAAQwE,GAASZ,SAASuY,cAElG,IAAiC/V,EAAAA,EAAAA,IAAKpI,GAAK,QAA3C,iBAAO2uB,GAAP,MAAqBC,GAArB,MACMnkB,IAAW/B,EAAAA,EAAAA,IAAM,KAAMkmB,IAAU7sB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMwoB,SAAU,CAAEluB,IAAK,OAEzG,IAA+BoI,EAAAA,EAAAA,IAAKpI,GAAK,wBAAzC,iBAAO6uB,GAAP,MAAoBC,GAApB,MACMC,IAAsBpmB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMomB,IAAS9sB,EAAAA,EAAAA,IAAQwE,GAASrB,eAAekpB,uBAC7GW,IAAarmB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMomB,IAAS9sB,EAAAA,EAAAA,IAAQwE,GAASrB,eAAeopB,oBACpGU,IAAgBtmB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMomB,IAAS9sB,EAAAA,EAAAA,IAAQwE,GAASrB,eAAempB,kBAE7G,IAA+BlmB,EAAAA,EAAAA,IAAKpI,GAAK,sBAAzC,iBAAOkvB,GAAP,MAAoBC,GAApB,MACMxP,IAAYhX,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMymB,IAASntB,EAAAA,EAAAA,IAAQwE,GAASlB,eAAempB,kBAEzG,IAA+BrmB,EAAAA,EAAAA,IAAKpI,GAAK,wBAAzC,iBAAOovB,GAAP,MAAoBC,GAApB,MACMxZ,IAAelN,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGI,EAAAA,EAAAA,IAAOgvB,IAAStvB,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAIpH,EAAAA,EAAAA,IAAQoH,EAAI5C,GAAShB,eAAe0oB,aAAY,IAEhJnkB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLoe,KAAKjiB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMoe,IAAK,SACxC5c,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,UAE1CtB,SAAU,CACRsB,KAAK1F,EAAAA,EAAAA,KAAKK,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAAUjF,EAAAA,EAAAA,IAAQwE,GAASb,SAASwY,eAI/EnO,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACNwS,aAAAA,GACAtC,WAAAA,IAEFhQ,SAAU,CACRF,OAAQ,CACNoH,SAAAA,GACAskB,oBAAAA,GACAC,WAAAA,GACAC,cAAAA,GACAtP,UAAAA,OAKAhV,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMoe,IAAK,CAAE7jB,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,SAGViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPD,KAAM7F,GAAI,kBACVvG,MAAO6G,GAASd,MAAMqoB,eACtBtsB,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOivB,GACPtiB,KAAMqiB,GACNprB,UAAU,EACVqH,KAAM1E,GAAI,QACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMzB,IACL,CACDsB,KAAM7F,GAAI,gBACVvG,MAAO,SAACqB,GAAD,OAAUwF,GAASd,MAAMuoB,aAAajtB,EAAKkP,IAAIjQ,EAAAA,GAAAA,MAAAA,YAAwBN,QAC9E8B,KAAM,YAMdilB,OAAQvgB,GAAG2F,eAAe,SAAU,CAAC,CACnCE,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,kBACT5M,MAAO6G,GAASkgB,OAAOI,aACtB,CACD/a,MAAMQ,EAAAA,EAAAA,IAAG,aACT5M,MAAO6G,GAASkgB,OAAOK,WACvBtlB,KAAM,UAIVkE,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAASsB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BAC5C,CACD+L,KAAM7F,GAAI,mBACVvG,MAAO6G,GAASb,SAASyoB,gBACzB3sB,KAAM,UAGVmE,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,KAAMqH,SAGV1N,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOmvB,GACPxiB,KAAMuiB,GACNtrB,UAAU,EACVqH,KAAM1E,GAAI,wBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM6iB,IACL,CACD7iB,KAAM8iB,IACL,CACD9iB,KAAM+iB,IACL,CACDljB,KAAM7F,GAAI,kBACVvG,MAAiD,IAA1C6G,GAASrB,eAAeqpB,gBAC/B/sB,KAAM,YAKd2D,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOwvB,GACP7iB,KAAM4iB,GACN3rB,UAAU,EACVqH,KAAM1E,GAAI,wBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMyT,WAKdpa,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAO0vB,GACP/iB,KAAM8iB,GACNxkB,KAAM1E,GAAI,cACVsG,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAA+E,GAAC,MAAI,CAACA,EAAG,CAClDwB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO5D,IAC3B4C,OAAQ,CACN,CAAEE,KAAM2J,IACR,CACE9J,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAAShB,eAAe8B,SAC/B7F,KAAM,mBAOpB,OAAmByL,EAAAA,EAAevC,GAAO3J,I,2zBCpSnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,8zECP9HC,GAAWC,GAEX/F,GAAoB,YAE1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EACxB3G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBipB,QAAS3oB,GAAAA,GAAoBN,MAC7BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL8pB,YAAa5oB,GAAAA,GAAqBL,MAClCc,SAAUT,GAAAA,GAAqBL,MAC/BkpB,SAAU7oB,GAAAA,GAAqBL,MAC/BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACL+pB,UAAW9oB,GAAAA,GAAqBJ,MAChCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCX,SAAU,CACR8pB,aAAc/oB,GAAAA,GAAwBwG,MAAM,GAC5C7F,SAAUX,GAAAA,GAAwBwG,MAAM,KAI5C,IAA6B/E,EAAAA,EAAAA,IAAKpI,GAAK,cAAvC,iBAAO2O,GAAP,MAAmBC,GAAnB,MACA,IAA6BxG,EAAAA,EAAAA,IAAKpI,GAAK,kBAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MAEMge,IAAqBjnB,EAAAA,EAAAA,IAAMkG,GAAQ,MAAM5M,EAAAA,EAAAA,IAAQwE,GAASZ,SAAS8pB,cAAe,CAAE1vB,IAAI,QAAD,OAAUA,GAAV,eAEvF4vB,GAAUhwB,OAAOsJ,YAAY2mB,GAAAA,EAAAA,KAAgB,SAAAzuB,GAAG,MAAI,CAAC,GAAD,OACrDA,EADqD,UAExDsH,EAAAA,EAAAA,IAAMiJ,GAAQ,MAAM3P,EAAAA,EAAAA,IAAQ,UAGxB+H,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACP6O,SAAS7T,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,WAC9CqoB,SAAS1tB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0oB,QAAS,YAEpDtoB,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL+pB,UAAUjuB,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM+pB,SAAU,CAAExvB,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,IACzFgH,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM2B,SAAU,UAE/C1B,MAAO,CACLoqB,QAAQluB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+pB,UAAW,WAI/Czf,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GArEd,MAqE+B,QAAS8F,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IACNzM,SAAU,CACXF,QAAO,SACLyc,SAAU6P,IACPC,OAKHjlB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAxF6B,MAyF7BnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO,GAAI,CAAEzG,IAAI,QAAD,OAAUA,GAAV,8BACzC,CACD6M,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDoM,KAAM7F,GAAI,cAEX,CACD6F,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ6O,QAAS,CAAEzV,IAAI,QAAD,OAAUA,GAAV,8BAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0oB,QAAS,CAAEtvB,IAAI,QAAD,OAAUA,GAAV,8BAC/C,CACD6M,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,MAAQ,GAC7CoM,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,SACvB,CACD8F,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,GAC9CoM,KAAM9F,GAAG,sBACTtG,MAAOuG,GAAI,0BAEZ,CACD6F,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+pB,SAAU,CAAExvB,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDoL,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDoM,KAAM7F,GAAI,iBAEXC,GAAGkG,oBAAoB,WAAY,CACpC9I,UAAU,EACV5D,MAAOiP,GACPtC,KAAMqC,GACN/D,KAAM1E,GAAI,YACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMyjB,IACL,CACD5jB,KAAM7F,GAAI,cACVvG,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,UAIV0E,GAAGkG,oBAAoB,iBAAkB,CAC3C9I,UAAU,EACV5D,MAAOgS,GACPrF,KAAMoF,GACN9G,KAAM1E,GAAI,YACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQpM,OAAOC,OAAO+vB,IAASvrB,KAAI,SAAA0rB,GAAC,MAAK,CAAE7jB,KAAM6jB,YAKvDrqB,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMoqB,OAAQ,CAAE9vB,IAAI,QAAD,OAAUA,GAAV,+BAC5C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,UACrB,CACDkF,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDoM,KAAM7F,GAAI,WACVvG,MAAO,OAGXgG,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAKxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,wzBCvMnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,k4GCP9HC,GAAWC,GAEX/F,GAAoB,SAE1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EACxB3G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPuN,YAAaxN,GAAAA,GAAoBN,MACjC+N,SAAUzN,GAAAA,GAAoBN,MAC9BU,QAASJ,GAAAA,GAAoBN,MAAK,GAClCiB,SAAUX,GAAAA,GAAoBN,MAAK,IAErCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLuqB,UAAWrpB,GAAAA,GAAqBL,MAChC2pB,QAAStpB,GAAAA,GAAqBL,MAC9B4pB,WAAYvpB,GAAAA,GAAqBL,MACjC6pB,eAAgBxpB,GAAAA,GAAqBL,MAAK,GAC1CiB,GAAIZ,GAAAA,GAAqBL,MAAK,GAC9Bc,SAAUT,GAAAA,GAAqBL,MAC/BgO,WAAY3N,GAAAA,GAAqBL,MACjC8pB,SAAUzpB,GAAAA,GAAqBL,OAEjCZ,MAAO,CACL+B,SAAUd,GAAAA,GAAqBJ,MAC/Ba,SAAUT,GAAAA,GAAqBJ,MAC/B8pB,SAAU1pB,GAAAA,GAAqBJ,MAC/Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACR2qB,YAAa3pB,GAAAA,GAAwBwG,MAAM,GAC3CqI,OAAQ7O,GAAAA,GAAwBwG,MAAM,GACtC7F,SAAUX,GAAAA,GAAwBwG,MAAM,GACxCgZ,SAAUxf,GAAAA,GAAwBwG,MAAM,IAE1ChI,eAAgB,CACdorB,cAAe5pB,GAAAA,GAAAA,IAEjBvB,eAAgB,CACdorB,cAAe7pB,GAAAA,GAAAA,GACfmO,WAAYnO,GAAAA,GAAAA,IAEdrB,eAAgB,CACd8B,SAAUT,GAAAA,GAAAA,IAEZnB,eAAgB,CACdirB,cAAe9pB,GAAAA,GAAAA,KAInB,IAAmCyB,EAAAA,EAAAA,IAAKpI,GAAK,gBAA7C,iBAAOsR,GAAP,MAAsBC,GAAtB,MACMU,IAAoBC,EAAAA,EAAAA,IAASX,GAAW,KAAM,OAC9CM,IAAenJ,EAAAA,EAAAA,IAAM,KAAM6I,IAAWhQ,EAAAA,EAAAA,IAC1CtB,EAAAA,GAAAA,MAAAA,KACAuB,EAAAA,EAAAA,KACEO,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM2qB,SAAU,CAAErwB,IAAK,OAClE2I,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAAShB,eAAeirB,mBAIhEC,IAA0B3uB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMyqB,WAAY,CAAElwB,IAAI,QAAD,OAAUA,GAAV,iBAC5F2wB,IAA+BjoB,EAAAA,EAAAA,IAAM,KAAM6I,IAAWvP,EAAAA,EAAAA,IAAQwE,GAASrB,eAAeorB,eAAgB,CAAEvwB,IAAI,QAAD,OAAUA,GAAV,iBAC3G4wB,IAAgCriB,EAAAA,EAAAA,IAAQ,KAAMgD,GAAWmf,IAEzDG,IAAkBloB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe0P,aACpFgc,IAAkBnoB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,KAASwE,GAASpB,eAAeorB,gBACrFO,IAAYpoB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB+B,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe8B,WAAY,YAAa,CAAElG,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAhFhI,WAkFzB4I,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPuN,aAAavS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQuN,YAAa,WAC1DC,UAAUxS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQwN,SAAU,YAEtDpN,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM2B,SAAU,SAC7CoO,QAAQnT,EAAAA,EAAAA,IAAc,OAAOH,EAAAA,EAAAA,IAAiB,MAAOsE,GAASf,MAAMuqB,UAAWxpB,GAASf,MAAM6O,WAAY,UAC1G8M,MAAM3e,EAAAA,EAAAA,IAAe,MAAO+D,GAASf,MAAMwqB,QAASzpB,GAASf,MAAM2qB,SAAU,UAE/E1qB,MAAO,CACLkL,QAASiB,GACTpK,UAAU7F,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+B,SAAU,SAClDL,UAAUxF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM0B,SAAU,UAEpDzB,SAAU,CACRqrB,gBAAgBroB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGoC,EAAAA,EAAAA,IAAc,OAAOf,EAAAA,EAAAA,IAAW,OAAOU,EAAAA,EAAAA,IAAQwE,GAASb,SAAS6P,QAAS,MAEpHlQ,eAAgB,CACd2B,IAAK8pB,KAIH/gB,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAhHd,MAgH+B,YAAa8F,GAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET5M,OAAQ,CACNwS,aAAcgb,GACdje,IAAKf,GACLof,mBAAoBH,IAEtBje,SAAU,CACRC,mBAAoBb,MAIlBtH,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAY,MACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQuN,YAAa,CAAEnU,IAAI,QAAD,OAAUA,GAAV,8BACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQwN,SAAU,CAAEpU,IAAI,QAAD,OAAUA,GAAV,8BAChD,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,QACxBtF,KAAM,MACL,CACDsK,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQU,SACxB7F,KAAM,OAEP,CACDsK,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+P,OAAQ,CAAExV,IAAI,QAAD,OAAUA,GAAV,+BAC5C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM2b,KAAM,CAAEphB,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC5F,CACDqK,QAAS,SAAA7L,GAAI,OAA4C,IAAxCA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAC/CuM,KAAMwkB,IACL,CACD7jB,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDuM,KAAM0kB,IACL,CACD/jB,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDuM,KAAMykB,IACL,CACD5kB,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM0qB,eACtB1uB,KAAM,KACL,CACDoL,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,MAAQ,GAC7CoM,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,KACL,CACDoL,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,GAC9CoM,KAAM9F,GAAG,uBACTtG,MAAOuG,GAAI,aAIfR,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM+B,SAAU,CAAEzH,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM0B,SAAU,CAAEpH,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACD6M,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,MAAQ,GACvDoM,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDoL,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDoM,KAAM9F,GAAG,uBACTtG,MAAOuG,GAAI,eACV,CACD6F,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,IACrB,CACDwE,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjCzB,KAAM3E,GAAG,cACTtG,MAAO4R,GACPjF,KAAMgF,GACN9E,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,gBACT/J,QAAS,OACR,CACDuJ,KAAM7F,GAAI,YACT,CACDgG,KAAM2F,WAMdlM,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAASqrB,eAAgB,CAAEhxB,IAAI,QAAD,OAAUA,GAAV,+BACvD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASb,SAASwgB,SACzB1kB,KAAM,UAGVmE,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,KAAM4kB,IACL,CACD5kB,KAAM2kB,SAGVxrB,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwuB,GAAW,CAAE/wB,IAAI,QAAD,OAAUA,GAAV,kBAGlCuF,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAKxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,szBCtRnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,i8GCP9H7F,GAAoB,OACpBuL,GAAyB,OACzBzF,GAAWC,GACjB,IAAkBC,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLyrB,gBAAiBvqB,GAAAA,GAAqBL,MACtC6qB,aAAcxqB,GAAAA,GAAqBL,MACnC8qB,iBAAkBzqB,GAAAA,GAAqBL,MACvC+qB,cAAe1qB,GAAAA,GAAqBL,MACpCgrB,QAAS3qB,GAAAA,GAAqBL,MAC9BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,GAC9BirB,QAAS5qB,GAAAA,GAAqBL,OAEhCZ,MAAO,CACL8rB,YAAa7qB,GAAAA,GAAqBJ,MAClC6pB,SAAUzpB,GAAAA,GAAqBJ,MAC/BU,IAAKN,GAAAA,GAAqBJ,MAC1Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BuK,KAAMnK,GAAAA,GAAqBJ,MAAK,KAIpC,IAA6B6B,EAAAA,EAAAA,IAAKpI,GAAK,UAAvC,iBAAOwO,GAAP,MAAmBC,GAAnB,MACA,IAA6BrG,EAAAA,EAAAA,IAAKpI,GAAK,UAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MAGM4d,IAAqB/oB,EAAAA,EAAAA,IAAM+F,GAAQ,MAAM9F,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGkB,EAAAA,EAAAA,IAAS,MAC1EuwB,IAAsBhpB,EAAAA,EAAAA,IAAMmL,GAAQ,MAAMlL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGkB,EAAAA,EAAAA,IAAS,OACrFwwB,IAAqBjpB,EAAAA,EAAAA,IAAMmL,GAAQ,MAAMlL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGkB,EAAAA,EAAAA,IAAS,OAEpF4I,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAEuG,EAAF,KAAQZ,EAAR,WACjE,CAACY,GAAMhJ,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,iBAC7BvE,MAAO,CACL8rB,SAAS3vB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM8rB,QAAS,SAChDD,SAAS1vB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM6rB,QAAS,SAChDM,UAAUnvB,EAAAA,EAAAA,IAAe,MAAO+D,GAASf,MAAMyrB,gBAAiB1qB,GAASf,MAAM0rB,aAAc,SAC7F7N,WAAW7gB,EAAAA,EAAAA,IAAe,MAAO+D,GAASf,MAAM2rB,iBAAkB5qB,GAASf,MAAM4rB,cAAe,UAElG3rB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxCma,MAAM3e,EAAAA,EAAAA,IAAe,MAAO+D,GAASd,MAAM8rB,YAAahrB,GAASd,MAAM0qB,SAAU,WAI/EpgB,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL7E,MAAOsK,GACPvK,MAAOwK,IAET5M,OAAQ,CACNgL,YAAasjB,GACb9b,aAAc6b,GACdvU,SAAUsU,MAIR9mB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAYA,GACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,6BAC5CmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,KACjC,CACDjB,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM8rB,QAAS,CAAEvxB,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMmsB,SAAU,CAAE5xB,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAChG,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM6d,UAAW,CAAEtjB,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aACjG,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM6rB,QAAS,CAAEtxB,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BAE5C,CACEkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM0b,KAAM,CAAEphB,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC5F,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMoL,UAI1BnL,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1EzB,KAAM1E,GAAI,OACVvG,MAAO8O,GACPnC,KAAMkC,GACNhC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMulB,IACL,CACD1lB,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO,EACP8B,KAAM,YAKdmE,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOkU,GACPvH,KAAMsH,GACNhJ,KAAM1E,GAAI,OACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMylB,IACL,CACDzlB,KAAMwlB,WAKdrsB,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,+zBC5MnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,0rJCN9HC,GAAWC,GAEX/F,GAAoB,eAC1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG6G,GAAK,EACxB5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL2B,SAAUT,GAAAA,GAAqBL,MAC/BurB,QAASlrB,GAAAA,GAAqBL,MAC9BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCwrB,eAAgBnrB,GAAAA,GAAqBL,MACrCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BwrB,cAAeprB,GAAAA,GAAqBJ,MACpCyrB,cAAerrB,GAAAA,GAAqBJ,MACpC0rB,cAAetrB,GAAAA,GAAqBJ,MACpC2rB,KAAMvrB,GAAAA,GAAqBJ,MAC3B4rB,KAAMxrB,GAAAA,GAAqBJ,MAC3B6rB,KAAMzrB,GAAAA,GAAqBJ,MAC3B8rB,MAAO1rB,GAAAA,GAAqBJ,MAC5B+rB,MAAO3rB,GAAAA,GAAqBJ,MAC5BgsB,KAAM5rB,GAAAA,GAAqBJ,MAC3BisB,SAAU7rB,GAAAA,GAAqBJ,MAC/BksB,SAAU9rB,GAAAA,GAAqBJ,MAC/BgK,KAAM5J,GAAAA,GAAqBJ,MAAK,GAChCmsB,OAAQ/rB,GAAAA,GAAqBJ,MAC7BosB,UAAWhsB,GAAAA,GAAqBJ,MAChCqsB,WAAYjsB,GAAAA,GAAqBJ,MACjCssB,QAASlsB,GAAAA,GAAqBJ,MAC9Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCX,SAAU,CACR8mB,GAAI/lB,GAAAA,GAAwByG,MAAM,GAClCqf,UAAW9lB,GAAAA,GAAwByG,MAAM,GACzC0lB,iBAAkBnsB,GAAAA,GAAwByG,MAAM,IAElDhI,eAAgB,CACd2tB,WAAYpsB,GAAAA,GAAAA,IAEdrB,eAAgB,CACd0tB,UAAWrsB,GAAAA,GAAAA,GACXW,SAAUX,GAAAA,GAAAA,KAId,IAAyCyB,EAAAA,EAAAA,IAAKpI,GAAK,YAAnD,iBAAOizB,GAAP,MAAyBC,GAAzB,MACMC,IAAYzqB,EAAAA,EAAAA,IAAM,WAAYwqB,IAClC3xB,EAAAA,EAAAA,IAAKiF,GAASd,MAAMiC,UAAU5F,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMqsB,eAAeztB,KAAI,SAAAF,GAAC,OAAIA,KAAI,CAAEnE,IAAK,QAEpH,SAASoH,GAASgsB,GAEhB,OAAOxxB,EAAAA,EAAAA,IAAQ,MAAOwxB,EAAS,QAAS,CACtCC,MAAO,CAAEC,QAAQ3qB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASpB,eAAe2tB,eAI/E,IAAMQ,GAAc,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACzC,IAAiDnrB,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAOwzB,GAAP,MAA6BC,GAA7B,MACMC,IAA0BnlB,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAC3DsB,EAAAA,EAAAA,KAAKlB,EAAAA,EAAAA,IAAOozB,IAAkB1zB,EAAAA,EAAAA,GAAawzB,IAAa,SAAAnqB,GAAC,OAAIjI,EAAAA,EAAAA,IAASiI,MAAK,IACzErH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMqsB,eAAgB,CAAE9xB,IAAK,QAEtE2zB,GAAgB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAC3C,IAAiDvrB,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAO4zB,GAAP,MAA6BC,GAA7B,MAEMC,IAAmBzzB,EAAAA,EAAAA,IAAOwzB,IAAkB9zB,EAAAA,EAAAA,GAAa4zB,IAAe,SAAAvqB,GAAC,OAAIjI,EAAAA,EAAAA,IAASiI,MAAK,GAC3F2qB,IAAuBxyB,EAAAA,EAAAA,KAC3BQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMqsB,cAAe,CAAE/xB,IAAK,MACvE8zB,IAEIE,IAAuBzyB,EAAAA,EAAAA,KAC3BQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMssB,cAAe,CAAEhyB,IAAK,MACvE8zB,IAEF,SAASG,GAAaC,GAAmC,IAAlBxJ,EAAiB,wDAChDyJ,EAAezJ,EAAUqJ,GAAuBC,GAEtD,OAAOnzB,EAAAA,EAAAA,KACLU,EAAAA,EAAAA,KACEC,EAAAA,EAAAA,KACEO,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBi0B,EAAO,CAAEl0B,IAAK,MAChDm0B,GAEFl0B,EAAAA,GAAAA,MAAAA,KAEF,QACA,CACEiB,IAAK,CACHE,KAAKD,EAAAA,EAAAA,IAAS,YACbkyB,MAAO,CAERC,QAAQ3qB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASpB,eAAe2tB,eAM1E,IAAMqB,IAAuBzrB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,KAAKC,EAAAA,EAAAA,IAAIvB,EAAAA,GAAAA,OAAAA,WAAwB+B,EAAAA,EAAAA,KAAS,IAA2C,IAArCwE,GAASZ,SAASktB,mBAEvH,IAA6B1qB,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACM0iB,IAAc1rB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACjDyI,EAAAA,EAAAA,IAAM,KAAMiJ,IAAQpD,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,QAAeuG,GAASlB,eAAe0tB,aAGpFjpB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,IAAKG,GAASZ,GAASf,MAAM2B,UAC7ByqB,QAASzqB,GAASZ,GAASf,MAAMosB,SACjCsB,UAAAA,IAEFztB,MAAO,CACLuB,IAAKgtB,GAAaztB,GAASd,MAAMuB,KAAK,GACtCirB,KAAM+B,GAAaztB,GAASd,MAAMwsB,MAClCC,KAAM8B,GAAaztB,GAASd,MAAMysB,MAClCC,KAAM6B,GAAaztB,GAASd,MAAM0sB,MAClCC,MAAO4B,GAAaztB,GAASd,MAAM2sB,OACnCC,MAAO2B,GAAaztB,GAASd,MAAM4sB,OACnCC,KAAM0B,GAAaztB,GAASd,MAAM6sB,MAClCC,SAAUyB,GAAaztB,GAASd,MAAM8sB,UACtCC,SAAUwB,GAAaztB,GAASd,MAAM+sB,UACtCC,OAAQuB,GAAaztB,GAASd,MAAMgtB,QACpCC,UAAWsB,GAAaztB,GAASd,MAAMitB,WACvCC,WAAYqB,GAAaztB,GAASd,MAAMktB,cAGtC5iB,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAK,UAAW,UAAW8F,GAAUiE,GAAa,CAC7FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACN2V,WAAYma,GACZzH,aAAc0I,IAEhB7wB,SAAU,CACRF,OAAQ,CACNiL,KAAM+lB,GACNrb,WAAY0a,OAKZ/oB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAY,UACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,GAAKA,EAAI,EAAI,GAAK,MAClG+C,WAAkB,IAAN/C,EAAU,MAAc,IAANA,EAAU,MAAQ,QAEjD,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMosB,QAAS,CAAE7xB,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM6B,SAApB,MACJ,CACDyE,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASf,MAAM8B,GAApB,QAENpB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOuzB,GACP5mB,KAAM2mB,GACNroB,KAAM1E,GAAI,aACVsG,OAAQ,CACN8nB,SAAU,CACRtoB,OAAQ,CAAC,CACPE,KAAMinB,SAKXhtB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO8zB,GACPnnB,KAAMknB,GACNjwB,UAAU,EACVsJ,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,QAAe,GACrD2K,KAAM1E,GAAI,mBACVsG,OAAQ5M,OAAOsJ,YAAYqqB,GAAYlvB,KAAI,SAAAkwB,GAAC,MAAI,CAACA,EAAG,CAClD3pB,KAAK,GAAD,OAAK2pB,GACTvoB,OAAQ,CAAC,CACPE,KAAMwnB,eAKZhuB,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMwsB,KAAM,CAAElyB,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMysB,KAAM,CAAEnyB,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM0sB,KAAM,CAAEpyB,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM2sB,MAAO,CAAEryB,IAAI,QAAD,OAAUA,GAAV,8BAC5CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM4sB,MAAO,CAAEtyB,IAAI,QAAD,OAAUA,GAAV,8BAC5CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM6sB,KAAM,CAAEvyB,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM8sB,SAAU,CAAExyB,IAAI,QAAD,OAAUA,GAAV,8BAC/CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM+sB,SAAU,CAAEzyB,IAAI,QAAD,OAAUA,GAAV,8BAC/CmM,WAAY,OACX,CACDJ,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6K,OACxB,CACDrE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMgtB,OAAQ,CAAE1yB,IAAI,QAAD,OAAUA,GAAV,gCAC5C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMitB,UAAW,CAAE3yB,IAAI,QAAD,OAAUA,GAAV,gCAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMktB,WAAY,CAAE5yB,IAAI,QAAD,OAAUA,GAAV,gCAChD,CACD+L,KAAM9F,GAAG,wBACTtG,MAAO,SAACqB,GAAD,gBAAawF,GAASd,MAAMmtB,QAAQ7xB,EAAKkP,IAAIjQ,EAAAA,GAAAA,MAAAA,YAAwBN,UAC3E,CACDoM,KAAM9F,GAAG,wBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM4B,SAApB,MACJ,CACDyE,KAAM9F,GAAG,wBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6B,GAApB,MACJ,CACDwE,KAAM9F,GAAG,wBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,aAE1BxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOk0B,GACPvnB,KAAMsnB,GACNhpB,KAAM1E,GAAI,kBACVsG,OAAQ5M,OAAOsJ,YAAYyqB,GAActvB,KAAI,SAAAkwB,GAAC,MAAI,CAACA,EAAG,CACpD3pB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAOunB,IAC3BvoB,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwxB,GAAsB,CAAE/zB,IAAI,QAAD,OAAUA,GAAV,6BACxC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQyxB,GAAsB,CAAEh0B,IAAI,QAAD,OAAUA,GAAV,wCAK/C2F,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPD,KAAM7F,GAAI,eACVvG,MAAO,SAACqB,GAAD,OAAmD,IAAxCA,EAAKkP,IAAIjQ,EAAAA,GAAAA,MAAAA,WAAuBN,MAAc,MAAsC,IAA9B6G,GAASZ,SAAS6mB,YAC1FhrB,KAAM,KACL,CACDyK,KAAMkoB,SAGVvuB,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgS,GACPrF,KAAMoF,GACNnO,UAAU,EACVsJ,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,QAAe,GACrD2K,KAAM1E,GAAI,cACVsG,OAAQ,CACN2b,GAAI,CACFnc,OAAQ,CAAC,CACPE,KAAMmoB,IACL,CACDtoB,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASlB,eAAegC,SAA7B,aAKb/B,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,42BC3VnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,4/FCN9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,UAE/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPuN,YAAaxN,GAAAA,GAAoBN,MACjC+N,SAAUzN,GAAAA,GAAoBN,MAC9BU,QAASJ,GAAAA,GAAoBN,MAAK,GAClCiB,SAAUX,GAAAA,GAAoBN,MAAK,IAErCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5BgX,KAAM3W,GAAAA,GAAqBL,MAC3BkuB,QAAS7tB,GAAAA,GAAqBL,MAAK,GACnCmZ,UAAW9Y,GAAAA,GAAqBL,MAAK,GACrCgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCqX,QAAShX,GAAAA,GAAqBL,MAAK,GACnCsX,OAAQjX,GAAAA,GAAqBL,MAAK,IAEpCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BkuB,aAAc9tB,GAAAA,GAAqBJ,MACnCmuB,YAAa/tB,GAAAA,GAAqBJ,MAClCouB,gBAAiBhuB,GAAAA,GAAqBJ,MAAK,GAC3Ce,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRivB,MAAO,KAEThvB,SAAU,CACRivB,cAAe,GACfC,MAAO,IAETjvB,SAAU,CACRkvB,iBAAkB,IAEpB5vB,eAAgB,CACd6vB,UAAW,GACX1tB,SAAU,GAEZlC,eAAgB,CACdkrB,YAAa,GACblhB,YAAa,IAEf9J,eAAgB,CACd2vB,OAAQ,IACR3tB,SAAU,GAEZ9B,eAAgB,CACdyB,IAAK,EACLiuB,sBAAuB,EACvB3tB,GAAI,KAIR,IAAiDa,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAOm1B,GAAP,MAA6BC,GAA7B,MACA,IAAmDhtB,EAAAA,EAAAA,IAAKpI,GAAK,iBAA7D,iBAAOq1B,GAAP,MAA8BC,GAA9B,MACA,IAA6BltB,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO2O,GAAP,MAAmBC,GAAnB,MACA,IAA6BxG,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAOya,GAAP,MAAmBC,GAAnB,MACA,IAA6BtS,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACA,IAA6BzL,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MAEM4jB,IAAwBl1B,EAAAA,EAAAA,IAAO+0B,IAAkBr1B,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAI7H,EAAAA,EAAAA,IAAK6H,GAAGpH,EAAAA,EAAAA,IAAQwE,GAASf,MAAM+uB,aACnHnrB,EAAAA,GAAQ,CAAErJ,IAAK,cACXw1B,IAAe9sB,EAAAA,EAAAA,IAAM,KAAM4sB,IAAmBtzB,EAAAA,EAAAA,IAAQwE,GAASd,MAAMivB,kBACrE5jB,IAAUrI,EAAAA,EAAAA,IAAM,KAAM4sB,IAAmBvzB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMgvB,YAAa,CAAE10B,IAAK,OAC9Gy1B,IAAc9sB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM,KAAMkG,IAAQ5M,EAAAA,EAAAA,IAAQwE,GAASZ,SAASkvB,MAAO,CAAE90B,IAAK,gBAClGyK,IAAW9B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMgS,IAAQ1Y,EAAAA,EAAAA,IAAQwE,GAASrB,eAAe6vB,aACjGrV,IAAYhX,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMmL,IAAQ7R,EAAAA,EAAAA,IAAQwE,GAASpB,eAAegK,eAClG6Y,IAAetf,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMiJ,IAAQ3P,EAAAA,EAAAA,IAAQwE,GAASlB,eAAe2vB,UAErGlrB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPuN,aAAavS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQuN,YAAa,WAC1DC,UAAUxS,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQwN,SAAU,YAEtDpN,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,SAC5CuH,MAAM1b,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM6X,KAAM,UAE5C5X,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxCyuB,eAAe70B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKA,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,KAC7F3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+uB,eAAgBx0B,EAAAA,GAAAA,MAAAA,KAAkB,SACrF01B,eAAe90B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKA,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,KAC7F3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+uB,eAAgBx0B,EAAAA,GAAAA,MAAAA,KAAkB,SACrF21B,eAAe/0B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKA,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,KAC7F3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+uB,eAAgBx0B,EAAAA,GAAAA,MAAAA,KAAkB,SACrF41B,eAAeh1B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKA,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,KAC7F3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+uB,eAAgBx0B,EAAAA,GAAAA,MAAAA,KAAkB,SAIrF61B,eAAet0B,EAAAA,EAAAA,KAAIX,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,IAAKzG,EAAAA,GAAAA,MAAAA,KAAkB,WACnHY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKA,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,KAC9E3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+uB,eAAgBx0B,EAAAA,GAAAA,MAAAA,KAAkB,UACvF81B,eAAev0B,EAAAA,EAAAA,KAAIX,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,IAAKzG,EAAAA,GAAAA,MAAAA,KAAkB,WACnHY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKA,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,KAC9E3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+uB,eAAgBx0B,EAAAA,GAAAA,MAAAA,KAAkB,UACvF+1B,eAAex0B,EAAAA,EAAAA,KAAIX,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,IAAKzG,EAAAA,GAAAA,MAAAA,KAAkB,WACnHY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKA,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,KAC9E3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+uB,eAAgBx0B,EAAAA,GAAAA,MAAAA,KAAkB,UACvFg2B,eAAez0B,EAAAA,EAAAA,KAAIX,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,IAAKzG,EAAAA,GAAAA,MAAAA,KAAkB,WACnHY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKA,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASC,OAAOC,OAAO,KAC9E3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+uB,eAAgBx0B,EAAAA,GAAAA,MAAAA,KAAkB,WAEzFuF,eAAgB,CACdyB,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAAShB,eAAeyB,KAAMhH,EAAAA,GAAAA,MAAAA,KAAkB,YAChH,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,UAIvByE,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAxIxB,YAwI+CzF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACN+U,WAAW5W,EAAAA,EAAAA,IAAI+zB,GAAuBE,IACtCD,aAAAA,GACAzkB,QAAAA,GACAtG,SAAAA,GACAkV,UAAAA,IAEFpc,SAAU,CACRF,OAAQ,CACN4kB,aAAAA,OAKAtd,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQuN,YAAa,CAAEnU,IAAI,QAAD,OAAUA,GAAV,8BACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQwN,SAAU,CAAEpU,IAAI,QAAD,OAAUA,GAAV,8BAChD,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,QACxBtF,KAAM,MACL,CACDsK,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQU,SACxB7F,KAAM,OAEP,CACDsK,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAACqB,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,EAC1C6G,GAASf,MAAMkY,QAAWnX,GAASf,MAAMkY,QAAUnX,GAASb,SAASivB,MACrEpuB,GAASf,MAAMkY,SACnBlc,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM6X,KAAM,CAAEtd,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAACqB,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,EAC1C6G,GAASf,MAAMmY,OAAUpX,GAASf,MAAMmY,OAASpX,GAASb,SAASivB,MACnEpuB,GAASf,MAAMmY,QACnBnc,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOy1B,GACP9oB,KAAM6oB,GACNvqB,KAAM1E,GAAI,gBACVsG,QAAO,YACFzM,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACjCwB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO5D,IAC3B4C,OAAQ,CAAC,CACPE,KAAMqpB,IACL,CACDxpB,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM7F,GAAI,wBACVvG,MAAO6G,GAASf,MAAMga,UAAYrW,aAM1C1D,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMgwB,cAAe,CAAE11B,IAAI,QAAD,OAAUA,GAAV,8BACpDmM,WAAYlG,GAAG,uBACd,CACDiG,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMiwB,cAAe,CAAE31B,IAAI,QAAD,OAAUA,GAAV,8BACpDmM,WAAYlG,GAAG,uBACd,CACDiG,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMkwB,cAAe,CAAE51B,IAAI,QAAD,OAAUA,GAAV,8BACpDmM,WAAYlG,GAAG,uBACd,CACDiG,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMmwB,cAAe,CAAE71B,IAAI,QAAD,OAAUA,GAAV,8BACpDmM,WAAYlG,GAAG,uBACd,CACD8F,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO21B,GACPhpB,KAAM+oB,GACNzqB,KAAM3E,GAAG,uBACTuG,OAAQ,CACN,GAAM,CACJR,OAAQ,CAAC,CACPE,KAAMspB,IACL,CACDtpB,KAAM6E,IACL,CACDhF,MAAMQ,EAAAA,EAAAA,IAAG,qBAIb,CACFR,KAAM7F,GAAI,6BACTC,GAAGuG,eAAe,QAAS,CAC5BV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMowB,cAAe,CAAE91B,IAAI,QAAD,OAAUA,GAAV,yBACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMqwB,cAAe,CAAE/1B,IAAI,QAAD,OAAUA,GAAV,yBACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMswB,cAAe,CAAEh2B,IAAI,QAAD,OAAUA,GAAV,yBACnD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuwB,cAAe,CAAEj2B,IAAI,QAAD,OAAUA,GAAV,8BAIxD2F,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAOiP,GACPtC,KAAMqC,GACN/D,MAAM2B,EAAAA,EAAAA,IAAG,oBAAqB,CAAEvK,QAA2C,IAAlCwE,GAASZ,SAASivB,gBAC3DroB,OAAQ,CACN,GAAM,CACJR,OAAQ,CAAC,CACPE,KAAMupB,WAKd5vB,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAO+a,GACPpO,KAAMmO,GACN7P,KAAM1E,GAAI,8BACVsG,OAAQ,CACN,GAAM,CACJR,OAAQ,CAAC,CACPE,KAAMzB,IACL,CACDsB,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASrB,eAAemC,SAC/B7F,KAAM,YAKd2D,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOkU,GACPvH,KAAMsH,GACNhJ,MAAM2B,EAAAA,EAAAA,IAAG,qBAAsB,CAAEvK,QAA+C,IAAtCwE,GAASpB,eAAekrB,cAClE9jB,OAAQ,CACN,GAAM,CACJR,OAAQ,CAAC,CACPE,KAAMyT,WAKdta,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgS,GACPrF,KAAMoF,GACNnO,UAAU,EACVqH,KAAM1E,GAAI,2BACVsG,OAAQ,CACN,GAAM,CACJR,OAAQ,CAAC,CACPE,KAAM+b,IACL,CACDlc,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASlB,eAAegC,SAC/B7F,KAAM,YAKd8D,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYvE,eAAeyB,IAAK,CAAEjH,IAAK,eACpD,CACD+L,KAAM7F,GAAI,uBACVvG,MAAO6G,GAAShB,eAAe0vB,uBAC9B,CACDnpB,MAAMQ,EAAAA,EAAAA,IAAG,YACT5M,MAAO6G,GAAShB,eAAe+B,GAC/B9F,KAAM,aAMhB,OAAmByL,EAAAA,EAAevC,GAAO3J,I,82BCrXnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,wvFCP9H7F,GAAoB,UACpBuL,GAAyB,OACzBzF,GAAWC,GACjB,IAAkBC,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAAG8oB,GAAM,EAAGvc,GAAM,EAClDnT,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLysB,KAAMvrB,GAAAA,GAAqBL,MAC3B6rB,KAAMxrB,GAAAA,GAAqBL,MAC3BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLwsB,KAAMvrB,GAAAA,GAAqBJ,MAC3B4rB,KAAMxrB,GAAAA,GAAqBJ,MAC3ByT,OAAQrT,GAAAA,GAAqBJ,MAC7Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BuK,KAAMnK,GAAAA,GAAqBJ,MAAK,IAElCZ,SAAU,CACRwwB,MAAOxvB,GAAAA,GAAwBwG,MAAM,GACrC7F,SAAUX,GAAAA,GAAwBwG,MAAM,IAE1CvH,SAAU,CACRwwB,QAASzvB,GAAAA,GAAwByG,MAAM,GACvC9F,SAAUX,GAAAA,GAAwByG,MAAM,GACxCipB,SAAU1vB,GAAAA,GAAwByG,MAAM,IAE1CjI,eAAgB,CACdoV,UAAW5T,GAAAA,GAA8BuvB,MACzC7b,OAAQ1T,GAAAA,GAA8BuvB,MACtC5uB,SAAUX,GAAAA,GAA8BuvB,OAE1C1wB,eAAgB,CACd8wB,UAAW3vB,GAAAA,GAA8BgT,MACzCrS,SAAUX,GAAAA,GAA8BgT,QAI5C,IAA6BvR,EAAAA,EAAAA,IAAKpI,GAAK,aAAvC,iBAAOwO,GAAP,MAAmBC,GAAnB,MACA,IAA6BrG,EAAAA,EAAAA,IAAKpI,GAAK,aAAvC,iBAAO2O,GAAP,MAAmBC,GAAnB,MACA,IAA6BxG,EAAAA,EAAAA,IAAKpI,GAAK,aAAvC,iBAAOya,GAAP,MAAmBC,GAAnB,MACA,IAA6BtS,EAAAA,EAAAA,IAAKpI,GAAK,WAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MAEM4mB,IAAgB7tB,EAAAA,EAAAA,IAAM+F,GAAQ,MAAM9F,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAGuG,GAASb,SAASwwB,QAC9EK,IAAsB9tB,EAAAA,EAAAA,IAAMkG,GAAQ,MACxCjG,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGqS,EAAAA,EAAAA,KACtB/Q,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASwwB,SAAUn2B,EAAAA,GAAAA,OAAAA,YACzC+B,EAAAA,EAAAA,IAAQwE,GAASZ,SAASywB,aAGxBI,IAAkBloB,EAAAA,EAAAA,IAAQ7E,EAAAA,GAAAA,QAAgB1J,GAAKw2B,IAE/CE,IAAehuB,EAAAA,EAAAA,IAAMgS,GAAQ,MAAM/R,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASrB,eAAeoV,YAC7Foc,IAAkBjuB,EAAAA,EAAAA,IAAMgS,GAAQ,MAAM/R,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASrB,eAAekV,SAChGuc,IAAkBluB,EAAAA,EAAAA,IAAMiH,GAAQ,MAAMhH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAIuG,GAAShB,eAAe8wB,YAEjGvsB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAEuG,EAAF,KAAQZ,EAAR,WACjE,CAACY,GAAMhJ,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,iBAC7BvE,MAAO,CACLysB,MAAMtwB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMysB,KAAM,SAC1CC,MAAMvwB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM0sB,KAAM,UAE5CzsB,MAAO,CACLwsB,MAAMtwB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMwsB,KAAM,SAC1CC,MAAMvwB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMysB,KAAM,SAC1CnY,QAAQpY,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMsU,OAAQ,WAI5ChK,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET5M,OAAQ,CACNsc,UAAW4W,GACXxlB,QAAS2lB,GACTroB,YAAasoB,IAEfpzB,SAAU,CACRF,OAAQ,CACNsb,mBAAoBiY,IAEtBzsB,MAAO,CACLwV,UAAW8W,OAKX9rB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAYA,GACZnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,GAAKA,EAAI,EAAI,GAAK,MAClG+C,WAAkB,IAAN/C,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAa,IAAN5D,EAAU,MAAc,IAANA,EAAU,MAAQ,QAExF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMysB,KAAM,CAAElyB,IAAI,QAAD,OAAUA,GAAV,8BAC3CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM0sB,KAAM,CAAEnyB,IAAI,QAAD,OAAUA,GAAV,8BAC3CmM,WAAY,OACX,CACDJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMwsB,KAAM,CAAElyB,IAAI,QAAD,OAAUA,GAAV,8BAC3CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMysB,KAAM,CAAEnyB,IAAI,QAAD,OAAUA,GAAV,8BAC3CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMsU,OAAQ,CAAEha,IAAI,QAAD,OAAUA,GAAV,+BAC5C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMoL,QAEvB3K,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAOgQ,GACPrD,KAAMoD,GACN9E,MAAM2B,EAAAA,EAAAA,IAAG,eACThJ,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM0qB,IACL,CACD7qB,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAAShB,eAAe8B,SAC/B7F,KAAM,YAMdkE,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1EzB,KAAM1E,GAAI,MACVvG,MAAO8O,GACPnC,KAAMkC,GACNhC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMqqB,IACL,CACDxqB,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,YAKdmE,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1EzB,MAAM2B,EAAAA,EAAAA,IAAG,kBACT5M,MAAOiP,GACPtC,KAAMqC,GACNpL,UAAU,EAEVsJ,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,GAAK,GAC3CwM,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQi0B,GAAqB,CAAEx2B,IAAK,YAAa62B,YAAY,KAClE,CACD9qB,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,YAKdoE,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAO+a,GACPpO,KAAMmO,GACN7P,MAAM2B,EAAAA,EAAAA,IAAG,cACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMyqB,IACL,CACDzqB,KAAMwqB,IACL,CACD3qB,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASrB,eAAemC,SAC/B7F,KAAM,YAKd2D,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,y3BC1QnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,u+GCR9HC,GAAWC,GAEX/F,GAAoB,oBACpBuL,GAAyB,QAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGoT,GAAM,EACzBnT,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLqxB,MAAOnwB,GAAAA,GAAqBL,MAC5B8a,KAAMza,GAAAA,GAAqBL,MAC3BW,IAAKN,GAAAA,GAAqBL,MAC1BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BuwB,MAAOnwB,GAAAA,GAAqBJ,MAC5B6a,KAAMza,GAAAA,GAAqBJ,MAC3BwwB,QAASpwB,GAAAA,GAAqBJ,MAC9BywB,QAASrwB,GAAAA,GAAqBJ,MAC9Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,GACpC0wB,QAAStwB,GAAAA,GAAqBJ,OAEhC2wB,EAAG,CACDJ,MAAO,IACPnX,WAAY,GAEdvS,GAAI,CACF+pB,YAAaxwB,GAAAA,GAAAA,GAAAA,IAEfywB,GAAI,CACFjkB,IAAKxM,GAAAA,GAAAA,IAEPof,GAAI,CACFsR,QAAS1wB,GAAAA,GAAAA,GACT2wB,SAAU3wB,GAAAA,GAAAA,IAEZwhB,GAAI,CACFpX,QAASpK,GAAAA,GAAAA,GACT4wB,OAAQ5wB,GAAAA,GAAAA,IAEVsf,GAAI,CACF9S,IAAKxM,GAAAA,GAA8BgT,MACnC6d,OAAQ7wB,GAAAA,GAA8BgT,MACtCrS,SAAUX,GAAAA,GAA8BgT,QAI5C,IAAmCvR,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOsR,GAAP,MAAsBC,GAAtB,MACA,IAA6BnJ,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACA,IAA6BzL,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MAEM8nB,IAAoB/uB,EAAAA,EAAAA,IAAM6I,GAAW,MAAMhQ,EAAAA,EAAAA,KAC/CC,EAAAA,EAAAA,KACEO,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMqxB,QAAS,CAAE/2B,IAAK,OACjE2I,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAAS4G,GAAG+pB,aAAcl3B,EAAAA,GAAAA,OAAAA,SAEjEA,EAAAA,GAAAA,OAAAA,KACIy3B,IAAqBhvB,EAAAA,EAAAA,IAAM6I,GAAW,MAAMhQ,EAAAA,EAAAA,KAChDC,EAAAA,EAAAA,KACEO,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMsxB,QAAS,CAAEh3B,IAAK,OACjE2I,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAAS4G,GAAG+pB,aAAcl3B,EAAAA,GAAAA,OAAAA,SAEjEA,EAAAA,GAAAA,OAAAA,KACI03B,IAAmBjvB,EAAAA,EAAAA,IAAM6I,GAAW,MAAMhQ,EAAAA,EAAAA,KAC9CQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMuxB,QAAS,CAAEj3B,IAAK,MACjEC,EAAAA,GAAAA,OAAAA,KAEI23B,IAAez2B,EAAAA,EAAAA,IAASqF,GAAS0wB,EAAEJ,OACnCe,IAAmB12B,EAAAA,EAAAA,IAASqF,GAAS0wB,EAAEvX,WACvCmY,IAAenvB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAClDyI,EAAAA,EAAAA,IAAMmL,GAAQ,MACZtS,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASuf,GAAGsR,SAAUp3B,EAAAA,GAAAA,MAAAA,MAGjC83B,IAAepvB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAClDyI,EAAAA,EAAAA,IAAMmL,GAAQ,MACZtS,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASuf,GAAGuR,UAAWr3B,EAAAA,GAAAA,MAAAA,MAGlC+3B,IAAYrvB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGkB,EAAAA,EAAAA,IAASqF,GAAS2hB,GAAGpX,UACnEknB,IAAWtvB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMiH,GAAQ,MAAMxO,EAAAA,EAAAA,IAASqF,GAASyf,GAAGuR,UAEtFztB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,SACxCma,MAAM3e,EAAAA,EAAAA,IAAe,KAAM+D,GAASf,MAAMqxB,MAAOtwB,GAASf,MAAM2b,KAAM,QACpE,CAAE/d,OAAQ,CAAEyzB,MAAOgB,OAGvBpyB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,KAAM4E,GAASd,MAAMuB,IAAK,SACvCma,MAAM3e,EAAAA,EAAAA,IAAe,KAAM+D,GAASd,MAAMoxB,MAAOtwB,GAASd,MAAM0b,KAAM,QACpE,CAAE/d,OAAQ,CAAEyzB,MAAOiB,OAGvB5yB,eAAgB,CACd8B,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAgB+B,EAAAA,EAAAA,IAAQwE,GAAS4wB,GAAGjkB,MAAO,YAAa,CAChHjS,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,UAKrByE,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACNyzB,MAAOc,GACPjY,UAAWkY,GACX9mB,QAASinB,GACTzkB,WAAY0kB,GAEZ3N,cAAemN,GACf9kB,eAAgB+kB,GAChBxX,aAAcyX,MAIZhtB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM2b,KAAM,CAAEphB,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC5F,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO4R,GACPjF,KAAMgF,GACN1G,KAAM1E,GAAI,SACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMurB,IACL,CACDvrB,KAAMwrB,IACL,CACDxrB,KAAMyrB,IACL,CACDzrB,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM0b,KAAM,CAAEphB,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAC5F,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,YAMd+jB,QAASrf,GAAG2F,eAAe,UAAW,CAAC,CACrCE,OAAQ,CAAC,CACPE,KAAM0rB,IACL,CACD1rB,KAAM2rB,QAGVlyB,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAe8B,IAAK,CAAEjH,IAAK,oBAGzDoF,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5FC,KAAMsH,GACNjU,MAAOkU,GACPjJ,KAAM1E,GAAI,MACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQu1B,GAAc,CAAE93B,IAAI,QAAD,OAAUA,GAAV,oBAChC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQw1B,GAAc,CAAE/3B,IAAI,QAAD,OAAUA,GAAV,2BAKzCqF,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8rB,QACxEzyB,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5FC,KAAMoD,GACN/P,MAAOgQ,GACP/E,KAAM1E,GAAI,MACVsG,OAAQ,CACN2D,GAAI,CAAEnE,OAAQ,CAAC,CAAEE,KAAM+rB,cAMjC,OAAmB/qB,EAAAA,EAAevC,GAAO3J,I,22BCrRnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,6mHCL9HC,GAAWC,GAEX/F,GAAoB,OAE1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDoB,GAAI,EAAGC,GAAI,EACTC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,KAGJC,QAAS,CACPsxB,KAAMvxB,GAAAA,GAAAA,GACNgkB,MAAOhkB,GAAAA,GAAAA,GACPI,QAASJ,GAAAA,GAAAA,GAAAA,GACTW,SAAUX,GAAAA,GAAAA,GAAAA,IAEZK,SAAU,CACRC,IAAKN,GAAAA,GAAAA,GACLO,IAAKP,GAAAA,GAAAA,IACLQ,KAAMR,GAAAA,GAAAA,KAERlB,MAAO,CACL0yB,SAAUxxB,GAAAA,GAAqBL,MAC/B8xB,YAAazxB,GAAAA,GAAqBL,MAClC+xB,aAAc1xB,GAAAA,GAAqBL,MACnCgyB,YAAa3xB,GAAAA,GAAqBL,MAClCiyB,WAAY5xB,GAAAA,GAAqBL,MACjCgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCkyB,MAAO7xB,GAAAA,GAAqBL,MAAK,GACjCmyB,MAAO9xB,GAAAA,GAAqBL,MAAK,IAEnCZ,MAAO,CACLgzB,SAAU/xB,GAAAA,GAAqBJ,MAC/BoyB,cAAehyB,GAAAA,GAAqBJ,MACpCqyB,aAAcjyB,GAAAA,GAAqBJ,MACnCsyB,UAAWlyB,GAAAA,GAAqBJ,MAChCuyB,eAAgBnyB,GAAAA,GAAqBJ,MACrCwyB,cAAepyB,GAAAA,GAAqBJ,MACpCyyB,WAAY,EACZ1xB,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRszB,SAAUtyB,GAAAA,GAAAA,GAAAA,GACVuyB,OAAQvyB,GAAAA,GAAAA,GAAAA,GACRY,GAAIZ,GAAAA,GAAAA,GAAAA,IAENf,SAAU,CACRuzB,SAAUxyB,GAAAA,GAAAA,GAAAA,IAEZvB,eAAgB,CACdiV,OAAQ1T,GAAAA,GAAAA,GACRqB,UAAWrB,GAAAA,GAAAA,IAEbrB,eAAgB,CACd8zB,KAAMzyB,GAAAA,GAAAA,GACNY,GAAIZ,GAAAA,GAAAA,IAENnB,eAAgB,CACd6zB,aAAc1yB,GAAAA,GAAAA,GACdqB,UAAWrB,GAAAA,GAAAA,GAAmCA,GAAAA,GAAAA,GAC9C2yB,cAAe3yB,GAAAA,GAAAA,KAInB,IAAuDyB,EAAAA,EAAAA,IAAKpI,GAAK,mBAAjE,iBAAOqkB,GAAP,MAAgCC,GAAhC,MAEA,IAA+Clc,EAAAA,EAAAA,IAAKpI,GAAK,eAAzD,iBAAOu5B,GAAP,MAA4BC,GAA5B,MAEA,IAAiDpxB,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAOy5B,GAAP,MAA6BC,GAA7B,MACMC,IAAmBhxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAeiV,SACrFuf,IAAcjxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACjDI,EAAAA,EAAAA,IAAOq5B,GACL95B,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASpB,eAAe4C,WAAW3D,KAAI,SAAAw1B,GAAK,MAAI,CAC1EA,GACAt4B,EAAAA,EAAAA,IAAKs4B,GAAO73B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAeiV,cAE9ChR,EAAAA,KAIEywB,IAAoBnxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACvDsB,EAAAA,EAAAA,KACE+Q,EAAAA,EAAAA,IAAIrS,EAAAA,GAAAA,MAAAA,OAAoBuG,GAAShB,eAAewC,WAChDxB,GAAShB,eAAe6zB,aACxBp5B,EAAAA,GAAAA,MAAAA,MAGE85B,IAAqBpxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACxDsB,EAAAA,EAAAA,KAAK+Q,EAAAA,EAAAA,IAAIrS,EAAAA,GAAAA,MAAAA,OAAoBuG,GAAShB,eAAewC,WAAYxB,GAAShB,eAAe8zB,gBAGrFU,IAAat4B,EAAAA,EAAAA,KAAeF,EAAAA,EAAAA,KAChCD,EAAAA,EAAAA,KACEQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMqzB,cAAe,CAAE/4B,IAAK,MACvEC,EAAAA,GAAAA,MAAAA,MAEF8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMozB,gBACjDiB,KAGIhwB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPsxB,MAAMt2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQsxB,KAAM,WAC5CvN,OAAO/oB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ+jB,MAAO,YAEhD3jB,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL0yB,UAAUv2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM0yB,SAAU,SAClDE,cAAcz2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM4yB,aAAc,QACxD,CAAEh1B,OAAQ,CAAE+G,YAAY5I,EAAAA,EAAAA,IAAIo4B,GAAaD,OAC3CrB,aAAa12B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM6yB,YAAa,QACtD,CAAEj1B,OAAQ,CAAE+G,WAAYwvB,MAC1BxB,aAAa/3B,EAAAA,EAAAA,IAAOikB,GAAqB1kB,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CACtFA,GACAlkB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM2yB,YAAa,QAAS,CAAEl3B,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS2kB,WACxEzc,EAAAA,IACLkvB,YAAYl4B,EAAAA,EAAAA,IAAOikB,GAAqB1kB,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CACrFA,GACAlkB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM8yB,WAAY,QACxC,CAAEr3B,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS2kB,IAAWziB,OAAQ,CAAE+G,WAAYwvB,WACvDvwB,EAAAA,KAEP3D,MAAO,CACLgzB,UAAU92B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMgzB,SAAU,SAClDuB,WAAWx3B,EAAAA,EAAAA,IAAe,MAAO+D,GAASd,MAAMkzB,aAAcpyB,GAASd,MAAMizB,cAAe,SAC5FE,WAAWj3B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMmzB,UAAW,QAClD,CAAEx1B,OAAQ,CAAEqH,aAAcovB,MAC5BE,WAAAA,IAEFr0B,SAAU,CACRyb,MAAMzY,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGuB,EAAAA,EAAAA,IAAIgF,GAASb,SAASszB,UAAU13B,EAAAA,EAAAA,IAAKiF,GAASb,SAASuzB,OAAQj5B,EAAAA,GAAAA,MAAAA,WAE/F2F,SAAU,CACRs0B,WAAWvxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,IAAKy4B,IAAYh4B,EAAAA,EAAAA,IAAQwE,GAASZ,SAASuzB,cAI5EgB,IAAUxxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5Cm6B,IAAUzxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAErCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAK,QAAS,UAAW8F,GAAUiE,GAAa,CAC3FQ,MAAO,CACL9E,MAAO20B,GACP10B,MAAOy0B,MAILxvB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAnK6B,QAoK7BnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAkB,IAAN/C,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEpD,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQsxB,KAAM,CAAEl4B,IAAI,QAAD,OAAUA,GAAV,8BAC5C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ+jB,MAAO,CAAE3qB,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAM,GAAD,OAAK6G,GAASI,QAAQG,QAAtB,SAEN,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM0yB,SAAU,CAAEn4B,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM4yB,aAAc,CAAEr4B,IAAI,QAAD,OAAUA,GAAV,+BAClD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM6yB,YAAa,CAAEt4B,IAAI,QAAD,OAAUA,GAAV,+BACjD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAM,GAAD,OAAK6G,GAASf,MAAM+yB,MAApB,eAAgChyB,GAASf,MAAMgzB,OACpDh3B,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO2kB,GACPhY,KAAM+X,GACNzZ,MAAM2B,EAAAA,EAAAA,IAAG,YACTC,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM2yB,YAAa,CAAEp4B,IAAI,QAAD,OAAUA,GAAV,+BACjD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM8yB,WAAY,CAAEv4B,IAAI,QAAD,OAAUA,GAAV,wCAGnDmG,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQo3B,GAAkB,CAAE35B,IAAI,QAAD,OAAUA,GAAV,0BAErCmG,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAO+5B,GACPptB,KAAMmtB,GACN7uB,KAAM1E,GAAI,UACVsG,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASpB,eAAe4C,WAAW3D,KAAI,SAAAw1B,GAAK,MAAI,CAACA,EAAO,CAC1FjvB,MAAM2B,EAAAA,EAAAA,IAAG,UAAW,CAAES,MAAe,GAAR6sB,IAC7B7tB,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQq3B,GAAa,CAAE55B,IAAI,QAAD,OAAUA,GAAV,6BAKtC0F,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMgzB,SAAU,CAAE14B,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMu0B,UAAW,CAAEj6B,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aACjG,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMmzB,UAAW,CAAE74B,IAAI,QAAD,OAAUA,GAAV,+BAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMs0B,WAAY,CAAEh6B,IAAI,QAAD,OAAUA,GAAV,4BAAyCwC,QAAS,aAClG,CACDuJ,KAAM7F,GAAI,aACVvG,MAAO6G,GAASd,MAAMszB,cAEvB7yB,GAAGuG,eAAe,WAAY,CAC/BV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnE,SAASs0B,UAAW,CAAEl6B,IAAI,QAAD,OAAUA,GAAV,WAAwBwC,QAAS,aACnF,CACDuJ,KAAM7F,GAAI,aAEVC,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,cAEVC,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQu3B,GAAmB,CAAE95B,IAAI,QAAD,OAAUA,GAAV,mBAAgCwC,QAAS,WAC9E,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQw3B,GAAoB,CAAE/5B,IAAI,QAAD,OAAUA,GAAV,oBAAiCwC,QAAS,kBAIrFmD,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAO65B,GACPltB,KAAMitB,GACN3uB,KAAM1E,GAAI,WACVsG,OAAQ,CACN6tB,YAAa,CACXruB,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAASyb,KAAM,CAAEphB,IAAI,oBAAsBwC,QAAS,aAC7E,CACDuJ,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASb,SAAS4B,GACzB9F,KAAM,YAKdmE,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMiuB,QACxE70B,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPD,KAAM7F,GAAI,UACVvG,MAAO6G,GAASlB,eAAe8zB,KAC/BzsB,MAAO,GACN,CACDZ,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASlB,eAAeiC,GAC/B9F,KAAM,UAGV8D,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMkuB,QACxE50B,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,62BCvTnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,knGCN9HC,GAAWC,GAEX/F,GAAoB,SACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDoB,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EACzB5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,KAGJC,QAAS,CACPK,IAAKN,GAAAA,GAAAA,GACLI,QAASJ,GAAAA,GAAAA,GAAAA,IAEXK,SAAU,CACRC,IAAKN,GAAAA,GAAAA,GACLO,IAAKP,GAAAA,GAAAA,GACLQ,KAAMR,GAAAA,GAAAA,KAERlB,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5BgX,KAAM3W,GAAAA,GAAqBL,MAC3Bg0B,QAAS3zB,GAAAA,GAAqBL,MAC9BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCi0B,aAAc5zB,GAAAA,GAAqBL,MAAK,GACxCk0B,QAAS7zB,GAAAA,GAAqBL,MAAK,GACnCm0B,YAAa9zB,GAAAA,GAAqBL,MAAK,GACvCiB,GAAIZ,GAAAA,GAAqBL,MAAK,GAC9BgV,OAAQ3U,GAAAA,GAAqBL,MAAK,IAEpCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1Bm0B,KAAM/zB,GAAAA,GAAqBJ,MAC3Bsd,IAAKld,GAAAA,GAAqBJ,MAC1Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRkJ,UAAWlI,GAAAA,GAAwBwG,MAAM,IAE3CvH,SAAU,CACR+0B,WAAYh0B,GAAAA,GAAwByG,MAAM,GAC1CwtB,cAAej0B,GAAAA,GAAwByG,MAAM,GAC7CytB,UAAWl0B,GAAAA,GAAwByG,MAAM,GACzCmtB,aAAc5zB,GAAAA,GAAwByG,MAAM,IAE9ChI,eAAgB,CACd+U,YAAaxT,GAAAA,GAAAA,IAEfrB,eAAgB,CACd4mB,KAAMvlB,GAAAA,GAAAA,GACNqB,UAAWrB,GAAAA,GAAAA,IAEbnB,eAAgB,CACd0e,MAAOvd,GAAAA,GAAAA,GACPW,SAAUX,GAAAA,GAAAA,KAId,IAAmCyB,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAO86B,GAAP,MAAsBC,GAAtB,MACMC,IAAYtyB,EAAAA,EAAAA,IAAM,QAASqyB,IAC/Bx5B,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM60B,QAAS,CAAEt6B,IAAK,QAGzF,IAAmCoI,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOsR,GAAP,MAAsBC,GAAtB,MACM0pB,IAAYvyB,EAAAA,EAAAA,IAAM,QAAS6I,IAC/BxP,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMg1B,KAAKr2B,KAAI,SAAAF,GAAC,OAAKA,KAAI,CAAEnE,IAAK,OAEvEk7B,IAAuB,WAAQD,IAC/BE,IAA2B,WAAQF,IAEzC,IAAiC7yB,EAAAA,EAAAA,IAAKpI,GAAK,QAA3C,iBAAOo7B,GAAP,MAAqBC,GAArB,MACMjiB,IAAezQ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACxCyI,EAAAA,EAAAA,IAAM2yB,GAAU,QACd70B,GAASb,SAASkJ,YAGhBwK,IAAW3Q,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgB0P,IAE5D,IAAiChR,EAAAA,EAAAA,IAAKpI,GAAK,QAA3C,iBAAOiZ,GAAP,MAAqBC,GAArB,MACMC,IAAWxQ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACpCyI,EAAAA,EAAAA,IAAMwQ,GAAU,QACd1S,GAASZ,SAAS+0B,aAGhBW,IAAwB,WAAQniB,IAChCoiB,IAAwB,WAAQpiB,IAChCqiB,IAAe7yB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACxCyI,EAAAA,EAAAA,IAAMwQ,GAAU,OACd1S,GAASZ,SAASi1B,YAGhBY,IAAwB,WAAQD,IAChCE,IAAyB,WAAQF,IACjCG,IAA0B,WAAQH,IAElCI,IAAajzB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAChDyI,EAAAA,EAAAA,IAAM2yB,GAAU,QACd70B,GAASb,SAASkJ,YAGhBiF,IAASpL,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBkyB,IAE1D,IAA6BxzB,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACMkqB,IAAQlzB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC3CI,EAAAA,EAAAA,IAAOsR,IACL5R,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG3C,GAASlB,eAAe0C,YAAY,SAAAoB,GAAC,OAAIpH,EAAAA,EAAAA,IAAQoH,EAAI5C,GAASlB,eAAe4mB,SACnG,GACF,CAAElsB,IAAK,yBACH+J,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,QAAS,CAAE7U,IAAK,CAAEgtB,SAAU2N,MACxEve,MAAM1b,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM6X,KAAM,QAAS,CAAEpc,IAAK,CAAEgtB,SAAU2N,MACtEC,SAAUd,IAEZt1B,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxC4c,KAAKjiB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMme,IAAK,WAGtC7T,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET1M,SAAU,CACRF,OAAQ,CACN04B,YAAaf,GACbvhB,eAAgByhB,GAChBvc,mBAAoBwc,GACpBtsB,UAAWwK,GACXjP,WAAYkxB,GACZtiB,WAAYuiB,GACZltB,YAAaotB,GACb5lB,aAAc6lB,GACdxzB,cAAeyzB,GACfK,cAAeloB,OAKfnJ,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAkB,IAAN/C,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEpD,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM7F,GAAI,iBACVvG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM7F,GAAI,cACVvG,MAAO6G,GAASf,MAAM+0B,SACrB,CACDzuB,MAAMQ,EAAAA,EAAAA,IAAG,WACT5M,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM6X,KAAM,CAAEtd,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACD+L,KAAM7F,GAAI,gBACVvG,MAAO6G,GAASf,MAAM80B,aACtB94B,KAAM,KACL,CACDsK,KAAM7F,GAAI,aACVvG,MAAO6G,GAASf,MAAMg1B,aACrB,CACD1uB,MAAMQ,EAAAA,EAAAA,IAAG,UACT5M,MAAO6G,GAASf,MAAM6V,OACtB7Z,KAAM,KACL,CACDoL,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DoM,MAAMQ,EAAAA,EAAAA,IAAG,WACT5M,MAAO,KAERwG,GAAGkG,oBAAoB,QAAS,CACjC9I,UAAU,EACV5D,MAAOo7B,GACPzuB,KAAMwuB,GACNlwB,KAAM1E,GAAI,SACVsG,OAAQ,CACNyvB,MAAO,CACLjwB,OAAQ,CAAC,CACPE,KAAM8uB,SAIV70B,GAAGkG,oBAAoB,WAAY,CACrC1M,MAAOuZ,GACP5M,KAAM2M,GACN1V,UAAU,EACVqH,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ,CACNuJ,MAAO,CACLnL,MAAM2B,EAAAA,EAAAA,IAAG,SACTP,OAAQ,CAAC,CACPE,KAAMovB,IACL,CACDpvB,KAAMqvB,MAGVje,KAAM,CACJ1S,MAAM2B,EAAAA,EAAAA,IAAG,QACTP,OAAQ,CAAC,CACPE,KAAMuvB,IACL,CACDvvB,KAAMwvB,IACL,CACDxvB,KAAMyvB,SAIVx1B,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAAO,MAEPwG,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOgS,GACPrF,KAAMoF,GACN9G,KAAM1E,GAAI,MACVsG,QAAQzM,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,IAAI9E,KAAI,SAAA+E,GAAC,OAAIA,EAAE8yB,eAAa,SAAA9yB,GAAC,MAAK,CAC9DwB,KAAMxB,EAAE8yB,WACRlwB,OAAQ,CAAC,CAAEE,KAAM2vB,WAEjB11B,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM9F,GAAG,gCAEX1C,UAAU,MAIZmC,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACTE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMme,IAAK,CAAE7jB,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAACqB,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACV6G,GAASd,MAAM4B,SADL,cACmBd,GAASpB,eAAe+U,YAD3C,cAC4D3T,GAASd,MAAM4B,SAAWd,GAASpB,eAAe+U,aAC3H3T,GAASd,MAAM4B,UACnB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CAC/B9I,UAAU,EACV5D,MAAO4R,GACPjF,KAAMgF,GACN1G,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ,CACN9G,MAAO,CACLsG,OAAQ,CAAC,CACPE,KAAMgvB,IACL,CACDhvB,KAAMivB,SAIVh1B,GAAGkG,oBAAoB,WAAY,CACnC1M,MAAO07B,GACP/uB,KAAM8uB,GACN73B,UAAU,EACVqH,MAAM2B,EAAAA,EAAAA,IAAG,mBACTC,OAAQ,CACN2vB,MAAO,CACLnwB,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQ6W,GAAc,CAAEpZ,IAAK,YAAawC,QAAS,eAI7D2D,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACTD,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAAO6G,GAASpB,eAAe+U,YAC/B1Y,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQq5B,GAAY,CAAE57B,IAAK,gBAAiBwC,QAAS,WAE7De,UAAU,MAIZoC,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,82BCnWnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,wjFCL9HC,GAAWC,GACX/F,GAAoB,UACpBuL,GAAyB,QAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLme,IAAKld,GAAAA,GAAqBJ,MAC1B2lB,KAAMvlB,GAAAA,GAAqBJ,MAC3Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACR6E,OAAQ7D,GAAAA,GAAwBwG,MAAM,GACtC7F,SAAUX,GAAAA,GAAwBwG,MAAM,IAE1CvH,SAAU,CACRw2B,QAASz1B,GAAAA,GAAwByG,MAAM,GACvC9F,SAAUX,GAAAA,GAAwByG,MAAM,IAE1ChI,eAAgB,CACd+U,YAAaxT,GAAAA,GAAAA,IAEfnB,eAAgB,CACd62B,SAAU11B,GAAAA,GAAAA,KAId,IAA6CyB,EAAAA,EAAAA,IAAKpI,GAAK,cAAvD,iBAAOs8B,GAAP,MAA2BC,GAA3B,MAEA,IAAmDn0B,EAAAA,EAAAA,IAAKpI,GAAK,SAA7D,iBAAOw8B,GAAP,MAA8BC,GAA9B,MAEA,IAAyDr0B,EAAAA,EAAAA,IAAKpI,GAAK,YAAnE,iBAAO08B,GAAP,MAAiCC,GAAjC,MAGMC,IAAWj0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAGuG,GAASb,SAAS6E,QACrDqyB,IAAOtuB,EAAAA,EAAAA,IAAQ7E,EAAAA,GAAAA,QAAgB1J,IACnC0I,EAAAA,EAAAA,IAAMgB,EAAAA,GAAAA,QAAgB+yB,GAAmBG,KACrCE,IAAWp0B,EAAAA,EAAAA,IAAM,MAAOi0B,IAC5Bh0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACnBsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASw2B,SAAUn8B,EAAAA,GAAAA,OAAAA,UACvC2kB,IAAOrW,EAAAA,EAAAA,IAAQ7E,EAAAA,GAAAA,QAAgB1J,GAAK88B,IACpCC,IAASp0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG+B,EAAAA,EAAAA,IAAQ,KAEnDg7B,IAAUj9B,EAAAA,EAAAA,GAAaykB,GAAAA,GAAAA,KAAkB,SAAApjB,GAAG,gBAAOA,EAAP,aAA6B,SAAApB,GAAG,OAChF0I,EAAAA,EAAAA,IAAM6zB,GAAgBv8B,EAAI6E,MAAM,GAAI,GAAIk4B,OAE7BhzB,GAAc,CACzBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,UAE9CrQ,OAAM,SACJme,KAAKjiB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMme,IAAK,UACrCjkB,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAxkB,GAAG,MACzC,CAACA,GAAK0I,EAAAA,EAAAA,IAAM6zB,GAAgBv8B,GAAK4B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMwmB,KAAM,QAAS,CAAEhrB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASnB,cAIrGgQ,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET1M,SAAU,CACR4G,MAAO,CAAEK,OAAQoa,IACjBvhB,QAAO,oBAAM25B,IAAP,IAAgBxyB,OAAQqyB,QAI5BlyB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,KACL,CACDoL,QAAS,SAAC7L,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GAC1DoM,MAAMQ,EAAAA,EAAAA,IAAG,WACT5M,MAAO,OAIX+F,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMme,IAAK,CAAE7jB,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACR6G,GAASd,MAAM4B,SADP,SAEXd,GAASd,MAAM4B,UACnB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO48B,GACPjwB,KAAMgwB,GACN1xB,MAAM2B,EAAAA,EAAAA,IAAG,YACTC,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMogB,GAAS,CAAE9lB,IAAI,QAAD,OAAUA,GAAV,wCAGhDmG,GAAGkG,oBAAoB,iBAAkB,CAC3C9I,UAAU,EACVsJ,SAAS0B,EAAAA,EAAAA,IAAQ7E,EAAAA,GAAAA,QAAgBzJ,EAAAA,GAAAA,cAAqB,GACtDN,MAAO48B,GACPjwB,KAAMgwB,GACN1xB,MAAM2B,EAAAA,EAAAA,IAAG,YACTC,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQpM,OAAOC,OAAOm9B,IAAS34B,KAAI,SAAA0rB,GAAC,MAAK,CAAE7jB,KAAM6jB,cAEjD5pB,GAAGuG,eAAe,iBAAkB,CACtCG,SAAS0B,EAAAA,EAAAA,IAAQguB,QAAgBj8B,EAAW,GAC5C0L,OAAQpM,OAAOC,OAAOm9B,IAAS34B,KAAI,SAAA0rB,GAAC,MAAK,CAAE7jB,KAAM6jB,UAGnDpqB,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAE1E9I,UAAU,EACV5D,MAAO88B,GACPnwB,KAAMkwB,GACN5xB,MAAM2B,EAAAA,EAAAA,IAAG,cAETM,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,GAAK,GAC3CwM,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQq6B,GAAU,CAAE58B,IAAK,YAC9B,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,gBAIZmE,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAE1E9I,UAAU,EACV5D,MAAOg9B,GACPrwB,KAAMowB,GACN9xB,KAAM1E,GAAI,QACV2G,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,GAAK,GAC3CwM,OAAQ,CACNtL,IAAK,CACH8K,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQu6B,GAAU,CAAE98B,IAAK,YAC9B,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,YAKdoE,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,g3BCnPnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,yvICP9HC,GAAWC,GAEX/F,GAAoB,YACpBuL,GAAyB,QAE/B,IAAavF,EAAAA,EAAAA,IAAM,OAAQhG,IAA3B,iBAAOiG,GAAP,MACME,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EACxB3G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BiH,aAAc3G,GAAAA,GAAoBN,OAEpC42B,QAAS,CACPC,SAAUv2B,GAAAA,GAAoBN,MAC9BoB,SAAUd,GAAAA,GAAoBN,OAEhCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5B82B,gBAAiBx2B,GAAAA,GAAoBN,MAAK,GAC1CZ,MAAO,CACL23B,UAAWz2B,GAAAA,GAAqBL,MAChC+2B,QAAS12B,GAAAA,GAAqBL,MAC9Bg3B,QAAS32B,GAAAA,GAAqBL,MAC9Bi3B,QAAS52B,GAAAA,GAAqBL,MAC9Bk3B,QAAS72B,GAAAA,GAAqBL,MAC9Bm3B,QAAS92B,GAAAA,GAAqBL,MAC9Bo3B,SAAU/2B,GAAAA,GAAqBL,MAC/Bq3B,SAAUh3B,GAAAA,GAAqBL,MAC/BksB,SAAU7rB,GAAAA,GAAqBL,MAC/BmsB,SAAU9rB,GAAAA,GAAqBL,MAC/Bs3B,aAAcj3B,GAAAA,GAAqBL,MACnCu3B,eAAgBl3B,GAAAA,GAAqBL,MAAK,GAC1CgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCw3B,cAAen3B,GAAAA,GAAqBL,MAAK,GACzCy3B,cAAep3B,GAAAA,GAAqBL,MAAK,GACzC03B,MAAOr3B,GAAAA,GAAqBL,MAAK,IAEnCZ,MAAO,CACLu4B,SAAUt3B,GAAAA,GAAqBJ,MAC/B23B,gBAAiBv3B,GAAAA,GAAqBJ,MACtC43B,UAAWx3B,GAAAA,GAAqBJ,MAChC63B,aAAcz3B,GAAAA,GAAqBJ,MAAK,GACxCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACR04B,YAAa13B,GAAAA,GAAwBwG,MAAM,IAE7CqY,QAAS,CACP8Y,WAAY,GAEdn5B,eAAgB,CACdyvB,MAAO,KAIL7qB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9CC,cAAc1L,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ0G,aAAc,UAAW,CAAEpM,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC9F+7B,UAAUt7B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASy2B,QAAQC,SAAU,SAAU,CAAEh8B,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YACrFsG,UAAU7F,EAAAA,EAAAA,IAAQ,MAAO4E,GAASy2B,QAAQx1B,SAAU,SAAU,CAAEvG,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,aAEvF6F,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL23B,WAAWx7B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM23B,UAAW,SACpDC,SAASx8B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM43B,SAAUp9B,EAAAA,GAAAA,MAAAA,KAAkB,SAAU,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC1Im8B,SAASz8B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM63B,SAAUr9B,EAAAA,GAAAA,MAAAA,KAAkB,SAAU,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC1Io8B,SAAS18B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM83B,SAAUt9B,EAAAA,GAAAA,MAAAA,KAAkB,SAAU,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC1Iq8B,SAAS38B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM+3B,SAAUv9B,EAAAA,GAAAA,MAAAA,KAAkB,SAAU,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC1Is8B,SAAS58B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMg4B,SAAUx9B,EAAAA,GAAAA,MAAAA,KAAkB,SAAU,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC1Iu8B,UAAU78B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMi4B,UAAWz9B,EAAAA,GAAAA,MAAAA,KAAkB,SAAU,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC5Iw8B,UAAU98B,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMk4B,UAAW19B,EAAAA,GAAAA,MAAAA,KAAkB,SAAU,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC5IqxB,UAAU3xB,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM+sB,UAAWvyB,EAAAA,GAAAA,MAAAA,KAAkB,UAAW,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC7IsxB,UAAU5xB,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMgtB,UAAWxyB,EAAAA,GAAAA,MAAAA,KAAkB,UAAW,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,YAC7Iy8B,cAAch8B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMm4B,aAAc,UAE5Dl4B,MAAO,CACLu4B,UAAUr8B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMu4B,SAAU,SAClDE,WAAWv8B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMy4B,UAAW,SACpDD,iBAAiBt8B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMw4B,gBAAiB,WAI9DK,IAAcp9B,EAAAA,EAAAA,IAAS,GAEvB6O,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAvG3B,YAuG+CzF,GAAUiE,GAAa,CAC3FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET1M,SAAU,CACRgH,MAAO,CACLsB,KAAM0yB,OAKN5zB,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,uBACT+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ0G,aAAc,CAAEtN,IAAI,QAAD,OAAUA,GAAV,gCAEtD,CACD+L,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQs2B,SAAU,CAAEl9B,IAAI,QAAD,OAAUA,GAAV,6BACjDmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,KACjC,CACDd,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQa,SAAU,CAAEzH,IAAI,QAAD,OAAUA,GAAV,8BAChD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAACqB,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,EAC1C6G,GAASb,SAAS04B,YAAc73B,GAAS22B,gBACzC32B,GAAS22B,iBACb17B,KAAM,OAEP,CACDsK,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM23B,UAAW,CAAEp9B,IAAI,QAAD,OAAUA,GAAV,+BAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM43B,QAAS,CAAEr9B,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM63B,QAAS,CAAEt9B,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM83B,QAAS,CAAEv9B,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+3B,QAAS,CAAEx9B,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMg4B,QAAS,CAAEz9B,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMi4B,SAAU,CAAE19B,IAAI,QAAD,OAAUA,GAAV,8BAC/CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMk4B,SAAU,CAAE39B,IAAI,QAAD,OAAUA,GAAV,8BAC/CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+sB,SAAU,CAAExyB,IAAI,QAAD,OAAUA,GAAV,8BAC/CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMgtB,SAAU,CAAEzyB,IAAI,QAAD,OAAUA,GAAV,8BAC/CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,KAAQpB,EAAAA,EAAAA,IAASqF,GAASf,MAAMo4B,gBAAiB,CAAE79B,IAAI,QAAD,OAAUA,GAAV,+BAC3D,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMm4B,aAAc,CAAE59B,IAAI,QAAD,OAAUA,GAAV,+BAClD,CACD+L,KAAM9F,GAAG,wBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,wBACTtG,MAAO,SAACqB,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACV6G,GAASf,MAAMq4B,cAAiBt3B,GAASf,MAAMq4B,cAAgBt3B,GAASrB,eAAeyvB,MAD7E,2BAEXpuB,GAASf,MAAMs4B,cAAiBv3B,GAASf,MAAMs4B,cAAgBv3B,GAASrB,eAAeyvB,OAF5E,UAGVpuB,GAASf,MAAMq4B,cAHL,cAGwBt3B,GAASf,MAAMs4B,gBACxDt8B,KAAM,KACL,CACDsK,KAAM9F,GAAG,wBACTtG,MAAO,SAACqB,GAAD,OAAUA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACV6G,GAASf,MAAMu4B,MAASx3B,GAASf,MAAMu4B,MAAQx3B,GAASrB,eAAeyvB,OAD7D,UAEVpuB,GAASf,MAAMu4B,QACtBv8B,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMu4B,SAAU,CAAEj+B,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMy4B,UAAW,CAAEn+B,IAAI,QAAD,OAAUA,GAAV,+BAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMw4B,gBAAiB,CAAEl+B,IAAI,QAAD,OAAUA,GAAV,+BACrD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM6B,IACzB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAMiC,WACxB,CACDoE,KAAM9F,GAAG,uBACTtG,MAAM,GAAD,OAAK6G,GAASd,MAAM04B,mBAG7Bz4B,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,WAAY,CAAC3F,GAAGuG,eAAe,WAAY,CACrEnJ,UAAU,EACVyI,OAAQ,CAAC,CAAEE,KAAMqyB,SAEnBp5B,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,42BC1PnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,mhHCN9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1Bk4B,UAAW73B,GAAAA,GAAqBL,MAChCm4B,WAAY93B,GAAAA,GAAqBL,MACjC6pB,eAAgBxpB,GAAAA,GAAqBL,MAAK,GAC1Co4B,aAAc/3B,GAAAA,GAAqBL,MACnCq4B,cAAeh4B,GAAAA,GAAqBL,MACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLgzB,SAAU/xB,GAAAA,GAAqBJ,MAC/Bq4B,YAAaj4B,GAAAA,GAAqBJ,MAClCi4B,UAAW73B,GAAAA,GAAqBJ,MAChCk4B,WAAY93B,GAAAA,GAAqBJ,MACjC4pB,eAAgBxpB,GAAAA,GAAqBJ,MAAK,GAC1C0I,QAAStI,GAAAA,GAAqBJ,MAAK,GACnCs4B,kBAAmBl4B,GAAAA,GAAqBJ,MAAK,GAC7CgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRm5B,QAASn4B,GAAAA,GAAAA,GAAAA,GACTW,SAAUX,GAAAA,GAAAA,GAAAA,GACVqB,UAAWrB,GAAAA,GAAAA,GAAAA,GACXY,GAAIZ,GAAAA,GAAAA,GAAAA,IAENf,SAAU,CACRm5B,gBAAiBp4B,GAAAA,GAAAA,GAAAA,IAEnBof,GAAI,CACFiZ,cAAer4B,GAAAA,GAAAA,IAEjBwhB,GAAI,CACFU,cAAeliB,GAAAA,GAAAA,IAEjBsf,GAAI,CACFgZ,SAAUt4B,GAAAA,GAAAA,GACVW,SAAUX,GAAAA,GAAAA,KAId,IAAuDyB,EAAAA,EAAAA,IAAKpI,GAAK,mBAAjE,iBAAOk/B,GAAP,MAAgCC,GAAhC,MAGMC,IAAaz2B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACtCI,EAAAA,EAAAA,IAAO8+B,GAAqBv/B,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASb,SAASqC,WAAW3D,KAAI,SAAAolB,GAAM,MAAI,CACjGA,GACAtoB,EAAAA,EAAAA,IAASsoB,EAASjjB,GAASb,SAASm5B,cACjCz1B,EAAAA,KAGDg2B,IAAoB12B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,GAAgBuG,GAASZ,SAASm5B,kBAEzF,IAAiD32B,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAOkqB,GAAP,MAA6BC,GAA7B,MAEA,IAAqD/hB,EAAAA,EAAAA,IAAKpI,GAAK,kBAA/D,iBAAOs/B,GAAP,MAA+BC,GAA/B,MACMC,IAAiB72B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACpDyI,EAAAA,EAAAA,IAAM62B,GAAoB,KAAM/4B,GAASyf,GAAGgZ,WAExCQ,IAAe,WAAQD,IACvBE,IAAgB,WAAQF,IAExBz1B,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE7CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,SACxC04B,WAAWz9B,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAM+4B,UAAWh4B,GAASf,MAAMg5B,WAAY,SACvFmB,eAAev9B,EAAAA,EAAAA,IAAc,QAAQH,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAM+4B,UAAWh4B,GAASf,MAAMg5B,WAAY,UACjHoB,WAAW39B,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAMi5B,aAAcl4B,GAASf,MAAMk5B,cAAe,SAC7FmB,eAAez9B,EAAAA,EAAAA,IAAc,QAAQH,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAMi5B,aAAcl4B,GAASf,MAAMk5B,cAAe,WAEzHj5B,MAAO,CACLgzB,UAAU92B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMgzB,SAAU,SAClDkG,aAAah9B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMk5B,YAAa,QACtD,CAAEv7B,OAAQ,CAAEqH,aAAc20B,MAE5B7pB,QAAQtT,EAAAA,EAAAA,IAAiB,KAAMsE,GAASd,MAAM84B,UAAWh4B,GAASd,MAAM+4B,WAAY,SACpFsB,YAAY19B,EAAAA,EAAAA,IAAc,QAAQH,EAAAA,EAAAA,IAAiB,KAAMsE,GAASd,MAAM84B,UAAWh4B,GAASd,MAAM+4B,WAAY,YAI5Gp0B,IAAU1B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5CqK,IAAU3B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAErCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,UAAWzF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAO4E,GACP3E,MAAO4E,IAET/G,SAAU,CACRF,OAAQ,CACNy7B,QAASM,GACT/wB,YAAamxB,GACb3pB,aAAc4pB,GACdv3B,cAAew3B,OAKf/0B,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAkB,IAAN/C,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEpD,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,8BAC5C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMk6B,UAAW,CAAE3/B,IAAK,6BACjD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMm6B,cAC9B,CAAE5/B,IAAI,uBAAD,OAAyBuL,IAAc/I,QAAS+I,MAEtD,CACDW,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMo6B,UAAW,CAAE7/B,IAAI,QAAD,OAAUA,GAAV,iBAC/C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMq6B,cAC9B,CAAE9/B,IAAI,QAAD,OAAUA,GAAV,kBAA+BwC,QAAS+I,MAE9C,CACDQ,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASf,MAAM0qB,eACtB1uB,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMgzB,SAAU,CAAE14B,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM8P,OAAQ,CAAExV,IAAK,6BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMq6B,WAC9B,CAAE//B,IAAI,uBAAD,OAAyBuL,IAAc/I,QAAS+I,MAEtD,CACDQ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMyqB,eACtB1uB,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMk5B,YAAa,CAAE5+B,IAAI,QAAD,OAAUA,GAAV,+BACjD,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACR6G,GAASd,MAAMm5B,kBADP,eAC+Br4B,GAASuf,GAAGiZ,cAD3C,eAC+Dx4B,GAASd,MAAMm5B,kBAAoBr4B,GAASuf,GAAGiZ,eACzHx4B,GAASd,MAAMm5B,mBACnBp9B,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,WAAY,CACpC1M,MAAOw/B,GACP7yB,KAAM4yB,GACNt0B,KAAM1E,GAAI,MACV3C,UAAU,EACViJ,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASb,SAASqC,WAAW3D,KAAI,SAAAolB,GAAM,MAAI,CAC7EA,EACA,CACE7e,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAOyc,IAC3Bzd,OAAQ,CAAC,CACPE,KAAMkzB,IACL,CACDrzB,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,KACL,CACDsK,MAAMQ,EAAAA,EAAAA,IAAG,aACT5M,MAAO6G,GAASb,SAAS4B,GACzB9F,KAAM,IACNkL,MAAO,YAIXxG,GAAGuG,eAAe,WAAY,CAChCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQ88B,GAAmB,CAAEr/B,IAAI,QAAD,OAAUA,GAAV,OAAoBwC,QAAS+I,SAEnEpF,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,MACVvG,MAAO6G,GAASuf,GAAGiZ,cACnBv9B,KAAM,QAEN0E,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOwqB,GACP7d,KAAM4d,GACNtf,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAAO6G,GAAS2hB,GAAGU,oBAIvB1iB,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAO4/B,GACPjzB,KAAMgzB,GACN10B,KAAM1E,GAAI,MACV3C,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMszB,IACL,CACDtzB,KAAMuzB,IACL,CACDvzB,KAAMwzB,WAMd/5B,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM7B,QACxE/E,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM5B,QACxE9E,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,y7CC/SnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,IAG1H,M,68DCDME,GAAWC,GAEX/F,GAAoB,WACpBuL,GAAyB,QACzBpF,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe48B,GAAaz0B,IAE7DtF,GAAK,SAACg6B,GAAD,OAAoB,UAACC,GAAA,EAAD,CAAWC,GAAG,oBAAoBC,MAAK,UAAK70B,GAAL,YAAmB00B,MACnF/5B,GAAM,SAAC+5B,GAAD,OAAoB,UAACC,GAAA,EAAD,CAAWC,GAAG,gBAAgBC,MAAK,UAAK70B,GAAL,YAAmB00B,MAElF55B,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPsrB,KAAMvrB,GAAAA,GAAoBN,MAC1B8rB,KAAMxrB,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACL46B,YAAa15B,GAAAA,GAAqBL,MAClCg6B,YAAa35B,GAAAA,GAAqBL,MAClCi6B,UAAW55B,GAAAA,GAAqBL,MAChCk6B,UAAW75B,GAAAA,GAAqBL,MAChCiB,GAAIZ,GAAAA,GAAqBL,MAAK,GAC9B03B,MAAOr3B,GAAAA,GAAqBL,MAAK,IAEnCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1Bk6B,UAAW95B,GAAAA,GAAqBJ,MAChCe,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRsB,IAAK,IAEPrB,SAAU,CACRkxB,MAAO,KAET1xB,eAAgB,CACdgT,UAAW,KAEb5S,eAAgB,CACdy1B,WAAY,KAIhB,IAAuD7yB,EAAAA,EAAAA,IAAKpI,GAAD,UAASuL,GAAT,oBAA3D,iBAAO4Y,GAAP,MAAgCC,GAAhC,MACMtQ,IAASnL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASpB,eAAegT,WACzE,IAA6BhQ,EAAAA,EAAAA,IAAKpI,GAAD,UAASuL,GAAT,UAAjC,iBAAOmE,GAAP,MAAmBC,GAAnB,MACM6J,IAAS7Q,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMiH,GAAQ,KAAMnJ,GAAShB,eAAey1B,YACvFyF,IAAUC,EAAAA,EAAAA,IAAkBnc,GAAAA,IAAe,SAAApjB,GAAG,MAAI,CAAC,GAAD,OAAIA,EAAJ,eAAqBuH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMiH,GAAQ,MAAMjH,EAAAA,EAAAA,IAAM0b,GAAqBhjB,EAAKoF,GAAShB,eAAey1B,iBACrLlxB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQsrB,KAAM,WAC5CprB,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQurB,KAAM,YAE9CnrB,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACL46B,aAAaz+B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM46B,YAAa,SACxDC,aAAa1+B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM66B,YAAa,SACxDC,WAAW3+B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM86B,UAAW,SACpDC,WAAW5+B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM+6B,UAAW,UAEtD96B,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxC25B,QAAQh/B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+6B,UAAW,QAAS,CAAEv/B,IAAK,CAAEE,IAAKgjB,OAE1Eze,SAAU,CACRsB,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGY,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAiBuG,GAASb,SAASsB,KAAM,YAAa,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,SAE/H3F,SAAU,CACRwb,MAAMzY,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyB,EAAAA,EAAAA,KAAeH,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASkxB,OAAQ72B,EAAAA,GAAAA,MAAAA,QAIlF+P,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,QAAYjL,EAAWwF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACN+U,UAAWtE,IAEbvQ,SAAU,CACRF,QAAO,oBACFq9B,IADC,IAEJld,gBAAiBhK,QAKjBqnB,GAA2B,CAC/Bj1B,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,6BAAoDnC,UAE/F,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,yBAC7CY,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,yBAC7CY,WAAY,OACX,CACDJ,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM46B,YAAa,CAAErgC,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BACjD,CACDW,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM66B,YAAa,CAAEtgC,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BACjD,CACDW,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM86B,UAAW,CAAEvgC,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BAC/C,CACDW,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+6B,UAAW,CAAExgC,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BAC/C,CACDQ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMu4B,MACtBv8B,KAAM,KACL,CACDoL,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACxDoM,KAAM7F,GAAI,MACVvG,MAAO,GACP8B,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BACzC,CACDQ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOykB,GACP9X,KAAM6X,GACNvZ,MAAM2B,EAAAA,EAAAA,IAAG,YACTC,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMk7B,OAAQ,CAAE5gC,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,oCAG/CpF,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOgQ,GACPrD,KAAMoD,GACNnM,UAAU,EACVqH,KAAM1E,GAAI,MACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQiX,GAAQ,CAAExZ,IAAK,kBAAmBwC,QAAS,gBAI7D2D,GAAGuG,eAAe,iBAAkB,CACtCG,SAAS0B,EAAAA,EAAAA,IAAQ6V,QAAqB9jB,GAAWoI,EAAAA,EAAAA,IAAMiH,GAAQ,MAAMjH,EAAAA,EAAAA,IAAMgB,EAAAA,GAAAA,QAAgB1J,GAAK,KAChGgM,OAAQwY,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAC9B,CAAE5Z,KAAMw0B,GAAQ,GAAD,OAAI5a,EAAJ,qBAEf3f,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOykB,GACP9X,KAAM6X,GACNvZ,MAAM2B,EAAAA,EAAAA,IAAG,YACThJ,UAAU,EACVsJ,SAASnE,EAAAA,EAAAA,IAAMiH,GAAQ,MAAMpB,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,GAAK,IAC/DwM,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,KAAMw0B,GAAQ,GAAD,OAAI5a,EAAJ,2BAInBngB,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAASsB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,YAAiBuL,GAAjB,eAGjD3F,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnE,SAASwb,KAAM,CAAEphB,IAAI,oBAAsBwC,QAAS,kBAGlF2C,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM4H,QACxEzO,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,oBAGtC,M,8kBCnPM5G,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,IAG1H,M,4hECHME,GAAWC,GAEX/F,GAAoB,WACpBuL,GAAyB,UACzBpF,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,GAAcqG,IAE9DtF,GAAK,SAACg6B,GAAD,OAAoB,UAACC,GAAA,EAAD,CAAWC,GAAG,oBAAoBC,MAAK,UAAK70B,GAAL,YAAmB00B,MACnF/5B,GAAM,SAAC+5B,GAAD,OAAoB,UAACC,GAAA,EAAD,CAAWC,GAAG,gBAAgBC,MAAK,UAAK70B,GAAL,YAAmB00B,MAElF55B,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPsrB,KAAMvrB,GAAAA,GAAoBN,MAC1B8rB,KAAMxrB,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1BuiB,cAAeliB,GAAAA,GAAqBL,MACpCw6B,QAAS,EACTC,eAAgBp6B,GAAAA,GAAqBL,MAAK,GAC1C8R,UAAWzR,GAAAA,GAAqBL,MAAK,GACrC06B,kBAAmBr6B,GAAAA,GAAqBL,MAAK,GAC7CiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLgzB,SAAU/xB,GAAAA,GAAqBJ,MAC/B06B,WAAYt6B,GAAAA,GAAqBJ,MACjC26B,UAAW,GACXrY,cAAeliB,GAAAA,GAAqBJ,MACpCe,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRivB,MAAOjuB,GAAAA,GAAAA,GAAAA,IAETf,SAAU,CACRwS,UAAWzR,GAAAA,GAAAA,GAAAA,IAEbxB,eAAgB,CACdg8B,YAAa,GAEf/7B,eAAgB,CACdkC,SAAUX,GAAAA,GAAAA,GACVy6B,iBAAkBz6B,GAAAA,GAAAA,IAEpBnB,eAAgB,CACd67B,WAAY16B,GAAAA,GAAAA,GACZ26B,aAAc36B,GAAAA,GAAAA,GACdkiB,cAAeliB,GAAAA,GAAAA,KAInB,IAA+CyB,EAAAA,EAAAA,IAAKpI,GAAD,UAASuL,GAAT,gBAAnD,iBAAOg2B,GAAP,MAA4BC,GAA5B,MACMC,IAAe94B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACxCsB,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,OAAAA,WAAwB+B,EAAAA,EAAAA,IAAQwE,GAASZ,SAASwS,aAEnDspB,IAA4Bh5B,EAAAA,EAAAA,IAAM84B,GAAiB,MACvDhgC,EAAAA,EAAAA,KACEQ,EAAAA,EAAAA,IAAQwE,GAASf,MAAM2S,WACvBqpB,KAGEE,IAAwBj5B,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBg4B,IAEnEE,IAAqB7/B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMmjB,cAC1E,CAAE7oB,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,0BAGP,IAA2CnD,EAAAA,EAAAA,IAAKpI,GAAD,UAASuL,GAAT,cAA/C,iBAAOs2B,GAAP,MAA0BC,GAA1B,MACMC,IAA8Bp5B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACjEyI,EAAAA,EAAAA,IAAMo5B,GAAe,KAAMt7B,GAASpB,eAAeg8B,mBAGrD,IAAuDh5B,EAAAA,EAAAA,IAAKpI,GAAD,UAASuL,GAAT,oBAA3D,iBAAOy2B,GAAP,MAAgCC,GAAhC,MACMC,IAAkBv5B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMu5B,GAAqB,KAAMz7B,GAAShB,eAAe87B,eAE7Gv3B,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQsrB,KAAM,WAC5CprB,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQurB,KAAM,YAE9CnrB,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLgzB,UAAU92B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMgzB,SAAU,SAClDuI,YAAYr/B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMu7B,WAAY,QACpD,CAAE59B,OAAQ,CAAE2V,WAAYkpB,QAIxB/H,IAAUxxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5Cm6B,IAAUzxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAErCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,QAAYjL,EAAWwF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAO20B,GACP10B,MAAOy0B,IAET52B,SAAU,CACRF,OAAQ,CACNyS,kBAAmBisB,IAErB53B,MAAO,CACLiO,UAAWupB,OAKXd,GAA2B,CAC/Bj1B,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,6BAAoDnC,UAE/F,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,yBAC7CY,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,yBAC7CY,WAAY,OACX,CACDJ,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BACzC,CACDQ,KAAM7F,GAAI,sBACVvG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAClD6G,GAASf,MAAMq7B,QAAUt6B,GAASrB,eAAeg8B,YACjD36B,GAASf,MAAMq7B,UAClB,CACD/0B,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMs7B,eACtBt/B,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,IACNkL,MAAO,KAERxG,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO6hC,GACPl1B,KAAMi1B,GACN32B,KAAM1E,GAAI,gBACV3C,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAMnK,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMojB,cACrD,CAAE7oB,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BAEN,CACDW,MAAM3J,EAAAA,EAAAA,IAAQm/B,GAA2B,CAAE1hC,IAAK,eAC/C,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASf,MAAMu7B,kBACtBv/B,KAAM,UAIV0E,GAAGuG,eAAe,WAAY,CAChCV,OAAQ,CAAC,CACPD,KAAM9F,GAAG,4BAETE,GAAGuG,eAAe,WAAY,CAChCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQk/B,GAAc,CAAEzhC,IAAI,QAAD,OAAUA,GAAV,YAAiBuL,GAAjB,+BAIrC7F,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMgzB,SAC9B,CAAE14B,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BAEN,CACDW,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMu7B,WAC9B,CAAEjhC,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BAEN,CACDQ,KAAM7F,GAAI,mBACVvG,MAAO6G,GAASd,MAAMw7B,UACtBz/B,KAAM,IACNkL,MAAO,GACN,CACDT,MAAM3J,EAAAA,EAAAA,IAAQq/B,GAAoB,CAAE5hC,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BACtC,CACDQ,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAOmiC,GACPx1B,KAAMu1B,GACNj3B,KAAM1E,GAAI,iBACV3C,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM61B,IACL,CACDh2B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASpB,eAAekC,SAC/B7F,KAAM,UAIV0E,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOsiC,GACP31B,KAAM01B,GACNp3B,KAAM1E,GAAI,sBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQ2/B,GACZ,CAAEliC,IAAI,QAAD,OAAUA,GAAV,YAAiBuL,GAAjB,4BAAuD/I,QAAS,aAEtE,CACDuJ,KAAM9F,GAAG,uBACTtG,MAAO6G,GAAShB,eAAeqjB,sBAMvCljB,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMiuB,QACxE70B,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMkuB,QACxE50B,eAAgBW,GAAG2F,eAAe,oBAGtC,M,8kBC3RM5G,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,IAG1H,M,8mDCFME,GAAWC,GAEX/F,GAAoB,WACpBuL,GAAyB,MACzBpF,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,GAAcqG,IAE9DtF,GAAK,SAACg6B,GAAD,OAAoB,UAACC,GAAA,EAAD,CAAWC,GAAG,oBAAoBC,MAAK,UAAK70B,GAAL,YAAmB00B,MAErF55B,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPsrB,KAAMvrB,GAAAA,GAAoBN,MAC1B8rB,KAAMxrB,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1B47B,cAAe,EACf76B,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRy8B,YAAa,GAEfx8B,SAAU,CACRy8B,QAAQrgC,EAAAA,EAAAA,IAAQ,KAElBmD,eAAgB,CACdwa,WAAW3d,EAAAA,EAAAA,IAAQ,KAErBsD,eAAgB,CACdujB,cAAe,EACfyZ,YAAa,GAEf98B,eAAgB,CACdw5B,cAAe,EACfuD,cAAe,KAInB,IAA+Cn6B,EAAAA,EAAAA,IAAKpI,GAAD,UAASuL,GAAT,gBAAnD,iBAAOi3B,GAAP,MAA4BC,GAA5B,MACMC,IAA4B/5B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC/DyI,EAAAA,EAAAA,IAAM+5B,GAAiB,KAAMj8B,GAASrB,eAAewa,YAEjDgjB,IAAwBj6B,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBg5B,IAEzE,IAA6Ct6B,EAAAA,EAAAA,IAAKpI,GAAD,UAASuL,GAAT,eAAjD,iBAAOq3B,GAAP,MAA2BC,GAA3B,MACMC,IAAwBziC,EAAAA,EAAAA,IAAOwiC,GACnCjjC,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASlB,eAAeg9B,aAAaj+B,KAAI,SAAAw1B,GAAK,MAAI,CAC5EA,GACA14B,EAAAA,EAAAA,IAAS04B,EAAQrzB,GAASlB,eAAeujB,oBAE3Cxf,EAAAA,IAGIU,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQsrB,KAAM,WAC5CprB,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQurB,KAAM,YAE9CnrB,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,UAE1CrB,SAAU,CACRqB,KAAKpG,EAAAA,EAAAA,KACHU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAiBuG,GAASZ,SAASy8B,QAAS,YAAa,CAAEnhC,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,WAGzFiE,eAAgB,CACd6B,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,YAIxEkzB,IAAUxxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5Cm6B,IAAUzxB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAErCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,QAAYjL,EAAWwF,GAAUiE,GAAa,CAC9FQ,MAAO,CACL9E,MAAO20B,GACP10B,MAAOy0B,IAET52B,SAAU,CACRF,OAAQ,CACNsc,UAAWgjB,OAKX9B,GAA2B,CAC/Bj1B,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,6BAAoDnC,UAE/F,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,yBAC7CY,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,yBAC7CY,WAAY,OACX,CACDJ,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,gBAAqBuL,GAArB,2BACzC,CACDQ,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACR6G,GAASf,MAAM6B,SADP,eACsBd,GAAShB,eAAe+8B,cAD9C,eACkE/7B,GAASf,MAAM6B,SAAWd,GAAShB,eAAe+8B,eAC/H/7B,GAASf,MAAM6B,UACnB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,KAAWN,OAAS,EAA7B,UACR6G,GAASf,MAAM8B,GADP,eACgBf,GAASb,SAASy8B,YADlC,eACoD57B,GAASf,MAAM8B,GAAKf,GAASb,SAASy8B,aACrG57B,GAASf,MAAM8B,IACnB9F,KAAM,OAEP0E,GAAGuG,eAAe,WAAY,CAC/BV,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,cACT5M,MAAO6G,GAASb,SAASy8B,YACzB3gC,KAAM,QAEN0E,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY3E,eAAe6B,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,YAAiBuL,GAAjB,iBAEnDpF,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAAO6G,GAAShB,eAAe+8B,cAC/B9gC,KAAM,UAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAC9B,CAAEjH,IAAI,uBAERmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAOxG,GAASd,MAAMy8B,iBAChD,CACDp2B,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACR6G,GAASd,MAAM4B,SADP,eACsBd,GAAShB,eAAew5B,cAD9C,eACkEx4B,GAASd,MAAM4B,SAAWd,GAAShB,eAAew5B,eAC/Hx4B,GAASd,MAAM4B,UACnB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAO8iC,GACPn2B,KAAMk2B,GACN53B,MAAM2B,EAAAA,EAAAA,IAAG,mBACThJ,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQmgC,GAA2B,CAAE1iC,IAAK,eAC/C,CACD+L,MAAMQ,EAAAA,EAAAA,IAAG,qBAIbpG,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOkjC,GACPv2B,KAAMs2B,GACNh4B,MAAM2B,EAAAA,EAAAA,IAAG,eACTC,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASlB,eAAeg9B,aAAaj+B,KAAI,SAAAw1B,GAAK,MAAI,CACpFA,EACA,CACEjvB,MAAM2B,EAAAA,EAAAA,IAAG,OAAQ,CAAES,MAAO6sB,IAC1B7tB,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQugC,GAAuB,CAAE9iC,IAAK,gCAIhDmG,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAAO6G,GAAShB,eAAew5B,cAC/Bv9B,KAAM,UAIVkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnE,SAASqB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,YAAiBuL,GAAjB,yBAGjDpG,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMiuB,QACxE70B,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMkuB,QACxE50B,eAAgBW,GAAG2F,eAAe,oBAGtC,M,gLC9PMhG,GAAWC,GAEjB,IAAaC,EAAAA,EAAAA,IAAM,OADO,YAC1B,iBAAOC,GAAP,MAEM0E,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdG,OAAQvF,GAASwF,KACjBlI,cAAe0C,GAAS1C,cACxBoI,OAAQ,MACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV88B,QAAS,CACPC,MAAAA,GACAC,IAAAA,GACAC,QAAAA,KAGJ,OAAmBh2B,EAAAA,EAAevC,GAAO,CACvCq4B,MAAOG,GACPF,IAAKG,GACLF,QAASG,K,w3BCjBLn+B,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,23FCJ9HC,GAAWC,GAEX/F,GAAoB,QACpBuL,GAAyB,QAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPyG,MAAO1G,GAAAA,GAAoBN,MAC3BuZ,MAAOjZ,GAAAA,GAAoBN,OAE7BW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLizB,SAAU/xB,GAAAA,GAAqBL,MAC/BonB,QAAS/mB,GAAAA,GAAqBL,MAAK,GACnCg9B,QAAS38B,GAAAA,GAAqBL,MAC9BmnB,OAAQ9mB,GAAAA,GAAqBL,MAAK,IAEpCZ,MAAO,CACL+P,QAAS9O,GAAAA,GAAqBJ,MAC9Bg9B,UAAW,GACX9C,UAAW95B,GAAAA,GAAqBJ,MAChCi9B,YAAa,GACbl8B,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACR2B,SAAUX,GAAAA,GAAAA,GAAAA,IAGZd,SAAU,CACR49B,MAAO,IAETt+B,eAAgB,CACdu+B,SAAU,KAEZt+B,eAAgB,CACds1B,MAAO,IACPpzB,SAAU,IAEZhC,eAAgB,CACdq+B,WAAY,IACZr8B,SAAU,IAEZ9B,eAAgB,CACdk1B,MAAO,GACPpzB,SAAU,KAIR0I,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3C2jC,IAAwBziC,EAAAA,EAAAA,IAASqF,GAASX,SAAS49B,OAEzD,IAAuDr7B,EAAAA,EAAAA,IAAKpI,GAAK,mBAAjE,iBAAOmkB,GAAP,MAAgCC,GAAhC,MAEA,IAA6Bhc,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACMgwB,IAAwBl7B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC3DI,EAAAA,EAAAA,IAAOwT,GAAQ,CACb,KAAO1S,EAAAA,EAAAA,IAASqF,GAASpB,eAAes1B,MACxC,UAAYn5B,EAAAA,EAAAA,IAAKiF,GAASpB,eAAes1B,KAAM,IAE/CrxB,EAAAA,KAGEy6B,IAAqB,WAAQD,IAEnC,IAA6Bz7B,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACMoyB,IAAgBp7B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMiJ,GAAQ,SACpEnL,GAASlB,eAAeq+B,aAE1B,IAA6Bv7B,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0P,GAAP,MAAmBC,GAAnB,MACMq0B,IAAqBr7B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMiH,GAAQ,UAAWnJ,GAAShB,eAAek1B,OACxGuJ,GAAsBrkC,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAApjB,GAAG,MAAI,CAAC,GAAD,OACnEA,EADmE,eAEtEuH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAMiH,GAAQ,WAAWjH,EAAAA,EAAAA,IAAMtH,EAAKgjB,IAAqBjjB,EAAAA,EAAAA,IAASqF,GAAShB,eAAek1B,cAGxH3wB,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPyG,OAAOzL,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQyG,MAAO,WAC9CuS,OAAOhe,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQgZ,MAAO,UAAW,CAAE1e,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,QAElFvE,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMizB,SAAU,SAC/Cpb,MAAM1b,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM69B,QAAS,UAE/C59B,MAAO,CACL5E,MAAMc,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+P,QAAS,SAC7CmrB,QAAQryB,EAAAA,EAAAA,IAAQ6V,QAAqB9jB,GAAWsB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+6B,UAAW,QAAS,CAAEv/B,IAAK,CAAEE,IAAKgjB,OAChH8f,OAAO31B,EAAAA,EAAAA,IAAQ6V,QAAqB9jB,GAAWkB,EAAAA,EAAAA,KAC7CD,EAAAA,EAAAA,KAAKK,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+P,QAAS,SAAU,KACtDlU,EAAAA,EAAAA,KAAKK,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+6B,UAAW,QAAS,CAAEv/B,IAAK,CAAEE,IAAKgjB,MAA0B,KAC/F7iB,EAAAA,EAAAA,KAAKlB,EAAAA,EAAAA,IAAO+jB,IAAqBrkB,EAAAA,EAAAA,GAAaykB,GAAAA,IAAe,SAAApjB,GAAG,OAAIsC,GAAAA,GAAAA,MAAA,UAAmBtC,EAAnB,aAAiCiI,EAAAA,IAAS,KAEhH86B,QAAQ51B,EAAAA,EAAAA,IAAQ6V,GAAqB,SAAS7V,EAAAA,EAAAA,IAAQ6V,QAAqB9jB,GAAWkB,EAAAA,EAAAA,KACpFD,EAAAA,EAAAA,KAAKK,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+P,QAAS,SAAU,KACtDlU,EAAAA,EAAAA,KAAKK,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+6B,UAAW,QAAS,CAAEv/B,IAAK,CAAEE,IAAKgjB,MAA0B,KAC/F7iB,EAAAA,EAAAA,KAAKlB,EAAAA,EAAAA,IAAO+jB,IAAqBrkB,EAAAA,EAAAA,GAAaykB,GAAAA,IAAe,SAAApjB,GAAG,OAAIsC,GAAAA,GAAAA,MAAA,UAAmBtC,EAAnB,aAAiCiI,EAAAA,IAAS,QAGlHlE,eAAgB,CACdkI,OAAO1E,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACpCY,EAAAA,EAAAA,KACEU,EAAAA,EAAAA,KACES,EAAAA,EAAAA,IAAQwE,GAASrB,eAAeu+B,WAChC3hC,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASI,QAAQyG,MAAO,CAAErN,IAAK,MAChEC,EAAAA,GAAAA,MAAAA,KAEF,YAGJ2f,OAAOjX,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACpCY,EAAAA,EAAAA,KACEU,EAAAA,EAAAA,KACES,EAAAA,EAAAA,IAAQwE,GAASrB,eAAeu+B,WAChC3hC,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuBuG,GAASI,QAAQgZ,MAAO,CAAE5f,IAAK,MAChEC,EAAAA,GAAAA,MAAAA,KAEF,UAAW,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,UAM7BvK,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,YAAazF,GAAUiE,GAAa,CAChGQ,MAAO,CACL7E,MAAOsK,GACPvK,MAAOwK,IAET5M,OAAQ,CACNsgC,WAAYI,GACZK,mBAAoBR,IAEtBrgC,SAAU,CACRF,QAAO,SACLmgB,iBAAiBhiB,EAAAA,EAAAA,IAAIqiC,GAAuBG,IAC5CrlB,mBAAoBmlB,IACjBG,OAKHt5B,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAmB,IAAN/C,GAAiB,IAANA,GAAWmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEjE,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQyG,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAekI,MAAO,CAAErN,IAAI,QAAD,OAAUA,GAAV,gBACpD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQgZ,MAAO,CAAE5f,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY5E,eAAeya,MAAO,CAAE5f,IAAI,QAAD,OAAUA,GAAV,sBAEtD,CACD+L,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMioB,QACtBjsB,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM6X,KAAM,CAAEtd,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACD+L,MAAMQ,EAAAA,EAAAA,IAAG,UACT5M,MAAO6G,GAASf,MAAMgoB,OACtBhsB,KAAM,OAEP0E,GAAGuG,eAAe,WAAY,CAC/BV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,qBACVvG,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,QAEN0E,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOkU,GACPvH,KAAMsH,GACNrQ,UAAU,EACVqH,KAAM3E,GAAG,uBACTuG,OAAQ,CACNtL,IAAK,CACH0J,KAAM1E,GAAI,UACV8F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQshC,GAAuB,CAAE7jC,IAAK,kBAAmBwC,QAAS,WACvE,CACD0J,KAAM43B,MAGVO,SAAU,CACRz5B,KAAM1E,GAAI,eACV8F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQshC,GAAuB,CAAE7jC,IAAK,kBAAmBwC,QAAS,WACvE,CACD0J,KAAM43B,WAMdp+B,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM5E,KAAM,CAAEd,IAAI,QAAD,OAAUA,GAAV,8BAC3CmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAOxG,GAASd,MAAM69B,aAChD,CACDx3B,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOykB,GACP9X,KAAM6X,GACNvZ,MAAM2B,EAAAA,EAAAA,IAAG,YACTC,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMk7B,OAAQ,CAAE5gC,IAAI,QAAD,OAAUA,GAAV,8BAC7CmM,YAAYI,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAOxG,GAASd,MAAM89B,wBAGnDr9B,GAAGuG,eAAe,QAAS,CAC7BV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMw+B,MAAO,CAAElkC,IAAI,QAAD,OAAUA,GAAV,sBAAmCwC,QAAS,cACvF,CACD0J,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMy+B,OAAQ,CAAEnkC,IAAI,QAAD,OAAUA,GAAV,uBAAoCwC,QAAS,eAE5FqK,SAAS0B,EAAAA,EAAAA,IAAQ6V,QAAqB9jB,EAAW,KAC/C,CACFyL,KAAM7F,GAAI,6BACTC,GAAGuG,eAAe,WAAY,CAC/BV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,cACT,CACD6F,KAAM7F,GAAI,SAEVC,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOgQ,GACPrD,KAAMoD,GACNnM,UAAU,EACVqH,KAAM1E,GAAI,MACVsG,OAAQ,CACN83B,QAAS,CACPt4B,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQyhC,GAAoB,CAAEhkC,IAAK,kBAAmBwC,QAAS,gBAIzE2D,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQwY,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAC9B,CAAE5Z,KAAM+3B,GAAoB,GAAD,OAAIne,EAAJ,mBAE7BjZ,SAAS0B,EAAAA,EAAAA,IAAQ6V,QAAqB9jB,GACpCoI,EAAAA,EAAAA,IAAMiH,GAAQ,WACZjH,EAAAA,EAAAA,IAAMgB,EAAAA,GAAAA,QAAgB1J,GAAK,OAG7BmG,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOykB,GACP9X,KAAM6X,GACNvZ,MAAM2B,EAAAA,EAAAA,IAAG,YACThJ,UAAU,EACVsJ,SAASnE,EAAAA,EAAAA,IAAMiH,GAAQ,WAAWpB,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,GAAK,IACpEwM,OAAQ5M,OAAOsJ,YAAYsb,GAAAA,GAAAA,KAAkB,SAAAsB,GAAM,MAAI,CAACA,EAAQ,CAC9Dlb,MAAM,UAAC,KAAD,CAAW8X,MAAOoD,EAAlB,UAA2B1Z,EAAAA,EAAAA,IAAI,WAAD,OAAY0Z,MAChD9Z,OAAQ,CAAC,CACPE,KAAM+3B,GAAoB,GAAD,OAAIne,EAAJ,2BAK/BngB,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,WAAY,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM03B,QAC5Dz+B,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAClD3F,GAAGkG,oBAAoB,iBAAkB,CACvC1M,MAAOgS,GACPrF,KAAMoF,GACN9G,KAAM1E,GAAI,MACVsG,OAAQ,CACN+3B,OAAQ,CACNv4B,OAAQ,CAAC,CACPE,KAAM63B,WAMhBx+B,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,g3BCjWnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,6uFCP9HC,GAAWC,GAEX/F,GAAoB,YACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG6G,GAAK,EACxB5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPC,KAAMF,GAAAA,GAAoBN,MAC1BU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLmB,KAAMF,GAAAA,GAAqBJ,MAC3BO,KAAMH,GAAAA,GAAqBJ,MAC3Bi+B,KAAM79B,GAAAA,GAAqBJ,MAC3Bk+B,QAAS99B,GAAAA,GAAqBJ,MAC9Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCX,SAAU,CACRotB,UAAWrsB,GAAAA,GAAwByG,MAAM,GACzC9F,SAAUX,GAAAA,GAAwByG,MAAM,IAE1CjI,eAAgB,CACdu/B,QAAS/9B,GAAAA,GAAAA,GACTW,SAAUX,GAAAA,GAAAA,IAEZvB,eAAgB,CACdu/B,UAAWh+B,GAAAA,GAAAA,GACXi+B,UAAWj+B,GAAAA,GAAAA,GACXM,IAAKN,GAAAA,GAAAA,IAEPnB,eAAgB,CACdq/B,QAASl+B,GAAAA,GAAAA,KAKb,IAA6CyB,EAAAA,EAAAA,IAAKpI,GAAK,cAAvD,iBAAO8kC,GAAP,MAA2BC,GAA3B,MACMC,IAAar8B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACtCyI,EAAAA,EAAAA,IAAM,aAAcq8B,IAAgB/iC,EAAAA,EAAAA,IAAQwE,GAASZ,SAASotB,aAGhE,IAAmD5qB,EAAAA,EAAAA,IAAKpI,GAAK,iBAA7D,iBAAOilC,GAAP,MAA8BC,GAA9B,MACMC,IAAgBx8B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACnDyI,EAAAA,EAAAA,IAAM,gBAAiBw8B,IAAmBljC,EAAAA,EAAAA,KAASwE,GAASrB,eAAeu/B,WAG7E,IAAqDt8B,EAAAA,EAAAA,IAAKpI,GAAK,iBAA/D,iBAAOolC,GAAP,MAA+BC,GAA/B,MACMC,IAAiB38B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACpDyI,EAAAA,EAAAA,IAAM,iBAAkB28B,IAAoBrjC,EAAAA,EAAAA,IAAQwE,GAAShB,eAAeq/B,WAExEU,IAAShkC,EAAAA,EAAAA,IAAK+jC,IAAiB,GAE/Bv7B,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQC,KAAM,YAE9CG,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,UAE9CrQ,MAAO,CACLmB,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMmB,KAAM,QAAS,CAAExD,OAAQ,CAAE6U,UAAWqtB,MAC1Ez+B,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMoB,KAAM,QAAS,CAAEzD,OAAQ,CAAE6U,UAAWqtB,MAC1Ef,MAAM5iC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM8+B,KAAM,SAC1CC,SAAS7iC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM++B,QAAS,QAAS,CAAEphC,OAAQ,CAAE6U,UAAWqtB,OAElFngC,eAAgB,CACd6B,KAAKpG,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB+B,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe6B,MAAO,YAC9E,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,SAIvByE,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAETzM,SAAU,CACRF,OAAQ,CACNiL,KAAM02B,GACN9sB,UAAWotB,GACXE,eAAgBL,OAKhBx6B,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAkB,IAAN/C,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAa,IAAN5D,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAE3F,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,8BAC5C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAOulC,GACP54B,KAAM24B,GACNr6B,KAAM1E,GAAI,iBACV3C,UAAU,EACViJ,OAAQ,CACN24B,cAAe,CACbn5B,OAAQ,CAAC,CACPE,KAAMi5B,IACL,CACDp5B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASrB,eAAemC,SAC/B7F,KAAM,YAMdiE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMmB,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMoB,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM8+B,KAAM,CAAExkC,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM++B,QAAS,CAAEzkC,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,iBAAkB,CAC1C1M,MAAO0lC,GACP/4B,KAAM84B,GACNx6B,KAAM1E,GAAI,kBACV3C,UAAU,EACViJ,OAAQ,CACN84B,eAAgB,CACdt5B,OAAQ,CAAC,CACPD,KAAM7F,GAAI,eACV2G,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,GACZ,mBAAvCqB,EAAKkP,IAAIm1B,IAAoB1lC,QACjC,CACDuM,KAAMo5B,IACL,CACDv5B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASrB,eAAemC,SAC/B7F,KAAM,YAMdkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAOolC,GACPz4B,KAAMw4B,GACNl6B,KAAM1E,GAAI,cACV3C,UAAU,EACViJ,OAAQ,CACNw4B,WAAY,CACVh5B,OAAQ,CAAC,CACPE,KAAM84B,IACL,CACDj5B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,YAKdoE,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPrM,MAAO6G,GAASpB,eAAe6B,IAC/BiF,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY3E,eAAe6B,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,yBAGvDqF,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,22BC5PnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,0vFCL9HC,GAAWC,GAEX/F,GAAoB,OACpBuL,GAAyB,QAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDoB,GAAI,EAAGC,GAAI,EACTC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,KAGJC,QAAS,CACPC,KAAMF,GAAAA,GAAAA,GACNI,QAASJ,GAAAA,GAAAA,GAAAA,IAEXK,SAAU,CACRC,IAAKN,GAAAA,GAAAA,IACLO,IAAKP,GAAAA,GAAAA,IACLQ,KAAMR,GAAAA,GAAAA,KAERlB,MAAO,CACLsQ,MAAOpP,GAAAA,GAAqBL,MAC5BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLwoB,SAAUvnB,GAAAA,GAAqBJ,MAC/Bk/B,MAAO9+B,GAAAA,GAAqBJ,MAC5Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRuoB,SAAUvnB,GAAAA,GAAAA,GAAAA,IAEZf,SAAU,CACR0B,SAAUX,GAAAA,GAAAA,GAAAA,GACV++B,cAAe/+B,GAAAA,GAAAA,GAAAA,GACfqB,UAAWrB,GAAAA,GAAAA,GAAAA,IAEbd,SAAU,CACR8/B,oBAAqB,IAEvBvgC,eAAgB,CACdgT,UAAWzR,GAAAA,GAAAA,IAEbrB,eAAgB,CACduC,SAAUlB,GAAAA,GAAAA,GACVqK,KAAMrK,GAAAA,GAAAA,IAERnB,eAAgB,CACd8B,SAAUX,GAAAA,GAAAA,KAIRoD,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQC,KAAM,YAE9CG,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLsQ,OAAOnU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMsQ,MAAO,WAI1C/F,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEjD,IAAuCmI,EAAAA,EAAAA,IAAKpI,GAAK,WAAjD,iBAAO4lC,GAAP,MAAwBC,GAAxB,MACMC,IAAY/jC,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMwoB,SAAU,CAAEluB,IAAK,MAC9EqO,IAAc3F,EAAAA,EAAAA,IAAM,UAAWm9B,GAAaC,GAAW,CAAE9lC,IAAK,MAC9D6V,IAAY,WAAQxH,IACpBnG,IAAa,WAAQmG,IACrB03B,IAAYhkC,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM+/B,OAC7D5yB,IAAWX,EAAAA,EAAAA,IAAS,UAAW2zB,GAAat6B,IAElD,IAAiDnD,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAOgmC,GAAP,MAA6BC,GAA7B,MACMC,IAAkB/8B,EAAAA,EAAAA,IAAM,EAAG,GAC3BsB,IAAW/B,EAAAA,EAAAA,IAAM,UAAWm9B,IAChCxlC,EAAAA,EAAAA,IAAO4lC,GACLrmC,OAAOsJ,YAAYg9B,GAAgB7hC,KAAI,SAAA+E,GAAC,MAAI,CAACA,GAAG7H,EAAAA,EAAAA,IAAKiF,GAASb,SAASuoB,SAAU9kB,EAAI,QACrFC,EAAAA,KAIJ,IAAiDjB,EAAAA,EAAAA,IAAKpI,GAAK,gBAA3D,iBAAOmmC,GAAP,MAA6BC,GAA7B,MACMC,IAAkBl9B,EAAAA,EAAAA,IAAM,EAAG3C,GAASZ,SAASoC,WAC7CoC,IAAazB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GACtCI,EAAAA,EAAAA,IAAO+lC,GACLxmC,OAAOsJ,YAAYm9B,GAAgBhiC,KAAI,SAAA+E,GAAC,MAAI,CAACA,GAAG7H,EAAAA,EAAAA,IAAKiF,GAASZ,SAAS8/B,cAAet8B,QACtFC,EAAAA,KAIEi9B,IAAa39B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAChDsO,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBD,GAAK,IAE9BumC,IAAuB79B,EAAAA,EAAAA,IAAM49B,GAAY,EAAG9/B,GAASpB,eAAegT,WAE1E,IAA2ChQ,EAAAA,EAAAA,IAAKpI,GAAK,aAArD,iBAAOwmC,GAAP,MAA0BC,GAA1B,MACMC,IAAiB/9B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACpDyI,EAAAA,EAAAA,IAAM,YAAa+9B,GAAejgC,GAASlB,eAAe0L,OAE/ChQ,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET5M,OAAQ,CACNgL,YAAAA,GACAwH,aAAAA,GACA3N,cAAAA,GACAuC,SAAAA,GACAL,WAAAA,GACAgO,UAAWmuB,GACXv1B,KAAM01B,IAER7zB,SAAU,CACRC,mBAAoBD,MAIlBlI,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,8BAC5C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMsQ,MAAO,CAAE/V,IAAI,QAAD,OAAUA,GAAV,+BAC3C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,KACL,CACDsK,MAAMQ,EAAAA,EAAAA,IAAG,WACT5M,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAI,EAAI,MAE/DwG,GAAGkG,oBAAoB,WAAY,CACpCC,KAAM65B,GACNxmC,MAAOymC,GACPx7B,KAAM1E,GAAI,cACVsG,OAAQ5M,OAAOsJ,YAAYm9B,GAAgBhiC,KAAI,SAAA+E,GAAC,MAAI,CAACA,EAAG,CACtDwB,MAAM2B,EAAAA,EAAAA,IAAG,OAAQ,CAAES,MAAO5D,IAC1B4C,OAAQ,CAAC,CAAEE,KAAM9B,eAIrB1E,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQujC,GAAW,CAAE9lC,IAAI,QAAD,OAAUA,GAAV,8BAC7B,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwjC,GAAW,CAAE/lC,IAAI,QAAD,OAAUA,GAAV,uBAC9BmM,WAAYjG,GAAI,0BACf,CACD6F,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjCC,KAAMs5B,GACNjmC,MAAOkmC,GACPj7B,KAAM1E,GAAI,iBACVsG,OAAQ,CACNm6B,QAAS,CACP36B,OAAQ,CAAC,CACPE,KAAMmC,IACL,CACDnC,KAAM2J,IACL,CACD3J,KAAMhE,IACL,CACD6D,KAAM7F,GAAI,kBACT,CACD6F,KAAM7F,GAAI,oBACT,CACD2G,QAAS,SAAA7L,GAAI,OAAIA,EAAKkP,IAAI2C,IAAUlT,QAAU4L,IAC9CQ,MAAM,UAAC,KAAD,CAAW2W,MAAM,QAAjB,UAA0BnW,EAAAA,EAAAA,IAAG,0BAIvCpG,GAAGkG,oBAAoB,WAAY,CACrCC,KAAM05B,GACNrmC,MAAOsmC,GACPr7B,KAAM1E,GAAI,eACV2G,SAASnE,EAAAA,EAAAA,IAAM,UAAWm9B,GAAa,GACvCr5B,OAAQ5M,OAAOsJ,YAAYg9B,GAAgB7hC,KAAI,SAAA+E,GAAC,MAAI,CAACA,EAAG,CACtDwB,MAAM2B,EAAAA,EAAAA,IAAG,UAAW,CAAES,MAAW,EAAJ5D,IAC7B4C,OAAQ,CAAC,CAAEE,KAAMzB,eAIrB9E,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvFlC,SAASnE,EAAAA,EAAAA,IAAM49B,GAAY,EAAG,GAC9B/iC,UAAU,EACVyI,OAAQ,CAAC,CAAEE,KAAMq6B,SAEnBlhC,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5FC,KAAMk6B,GACN7mC,MAAO8mC,GACP77B,MAAM2B,EAAAA,EAAAA,IAAG,gBAAiB,CAAEvK,QAA4C,IAAnCwE,GAASlB,eAAeuC,WAC7D2E,OAAQ,CACNo6B,UAAW,CACT56B,OAAQ,CAAC,CAAEE,KAAMw6B,WAIvBnhC,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,82BC1QnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,uzFCP9H7F,GAAoB,UACpBuL,GAAyB,QACzBzF,GAAWC,GACjB,IAAkBC,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDoB,GAAI,EAAGC,GAAI,EACFC,GAAW,CACtBC,OAAQ,CACNC,OAAQ,CACLC,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GAEAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,KAILC,QAAS,CACPsrB,KAAOvrB,GAAAA,GAAAA,GACPwrB,KAAOxrB,GAAAA,GAAAA,GACPI,QAASJ,GAAAA,GAAAA,GAAAA,IAEXK,SAAU,CACRC,IAAMN,GAAAA,GAAAA,IACNO,IAAMP,GAAAA,GAAAA,IACNQ,KAAOR,GAAAA,GAAAA,KAETlB,MAAO,CACLysB,KAAOvrB,GAAAA,GAAqBL,MAC5B6rB,KAAOxrB,GAAAA,GAAqBL,MAC5Bsd,QAAUjd,GAAAA,GAAqBL,MAC/BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAMN,GAAAA,GAAqBJ,MAC3Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BuK,KAAMnK,GAAAA,GAAqBJ,MAAK,IAElCX,SAAU,CACR2N,WAAY,IAEdnO,eAAgB,CACdyhC,iBAAkB,IAClBC,eAAgB,GAElBxhC,eAAgB,CACd4mB,KAAM,KAIJ6a,IAASp+B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAGuG,GAASZ,SAAS2N,YAEzD,IAA6BnL,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO4T,GAAP,MAAmBC,GAAnB,MACMC,IAASnL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC5CyI,EAAAA,EAAAA,IAAMmL,GAAQ,KAAMrN,GAASpB,eAAeyhC,kBAE9C,IAAmCz+B,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOwT,GAAP,MAAsBC,GAAtB,MAEA,IAAmCrL,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOsR,GAAP,MAAsBC,GAAtB,MACMy1B,IAASr+B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC5CyI,EAAAA,EAAAA,IAAM6I,GAAW,KAAM/K,GAASlB,eAAe4mB,MAAO,CAAElsB,IAAI,QAAD,OAAUA,GAAV,aAEvDinC,IAAmBv+B,EAAAA,EAAAA,IAAM+K,GAAW,MACxCjS,EAAAA,EAAAA,KAAIO,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMme,QAAS,CAAE5jB,IAAK,OAAQsS,EAAAA,EAAAA,KAAItQ,EAAAA,EAAAA,IAAQ,MAAOT,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQ,IAAM/B,EAAAA,GAAAA,OAAAA,eAE/GinC,IAAaxlC,EAAAA,EAAAA,KAAeiH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAgB+B,EAAAA,EAAAA,IAAQ,QAE1E+H,GAAc,CACzBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPC,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQsrB,KAAM,WAC5CprB,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQurB,KAAM,YAE9CnrB,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CAEL0hC,QAAQtmC,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KACpBQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMysB,KAAM,CAAElyB,IAAK,MAC9DC,EAAAA,GAAAA,MAAAA,KACAuB,EAAAA,EAAAA,IAAIC,EAAAA,GAAMulC,KACT,SACHI,QAAQvmC,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,KACpBQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAM0sB,KAAM,CAAEnyB,IAAK,MAC9DC,EAAAA,GAAAA,MAAAA,KACAuB,EAAAA,EAAAA,IAAIC,EAAAA,GAAMulC,KACT,SACHpjB,QAASqjB,IAEXthC,SAAU,CACR0hC,QAASH,IAEXxhC,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,QAAS,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,SAGtEyE,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAETzM,SAAU,CACRF,OAAQ,CACNwjC,gBAAiB/yB,GACjB8P,SAASrhB,EAAAA,EAAAA,IAAQ0kC,GAAkB,CAAEjnC,IAAK,cAG9CqD,OAAQ,CACNkQ,WAAYwzB,MAIVp8B,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAmB,IAAN/C,GAAiB,IAANA,GAAWmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEjE,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQC,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQE,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,6BAC7CmM,WAAY,OACX,CACDJ,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM0hC,OAAQ,CAAEnnC,IAAI,QAAD,OAAUA,GAAV,8BAC7CmM,WAAY,OACX,CACDD,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM2hC,OAAQ,CAAEpnC,IAAI,QAAD,OAAUA,GAAV,8BAC7CmM,WAAY,OACX,CACDJ,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACR6G,GAASf,MAAM6B,SADP,eACsBd,GAASpB,eAAe0hC,gBAD9C,UAERtgC,GAASf,MAAM6B,WACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC9I,UAAU,EACV5D,MAAO8T,GACPnH,KAAMkH,GACN5I,KAAM1E,GAAI,aACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMnC,GAAYtE,MAAMme,gBAMhCle,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPD,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMoL,QAEvB3K,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO4R,GACPjF,KAAMgF,GACN1G,KAAM1E,GAAI,aACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDyK,KAAM86B,WAMdrhC,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYpE,SAAS0hC,QAAS,CAAErnC,IAAI,oBAAsBwC,QAAS,kBAGrFoD,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,KAAM66B,SAGVlhC,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOkU,GACPvH,KAAMsH,GACNrQ,UAAU,EACVqH,KAAM1E,GAAI,UACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM4H,WAKdzO,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAKxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,62BC5PnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,klHCN9HC,GAAWC,GAEX/F,GAAoB,SACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPsxB,KAAMvxB,GAAAA,GAAoBN,MAC1BskB,MAAOhkB,GAAAA,GAAoBN,MAC3BU,QAASJ,GAAAA,GAAoBN,MAAK,GAClCiB,SAAUX,GAAAA,GAAoBN,MAAK,IAErCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLwB,IAAKN,GAAAA,GAAqBL,MAC1BghC,UAAW,CACT,CAAEC,WAAY5gC,GAAAA,GAAqBL,MAAMm4B,WAAY93B,GAAAA,GAAqBL,OAC1E,CAAEihC,WAAY5gC,GAAAA,GAAqBL,MAAMm4B,WAAY93B,GAAAA,GAAqBL,OAC1E,CAAEihC,WAAY5gC,GAAAA,GAAqBL,MAAMm4B,WAAY93B,GAAAA,GAAqBL,QAE5EkhC,QAAS7gC,GAAAA,GAAqBL,MAC9BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACL+hC,aAAc9gC,GAAAA,GAAqBJ,MACnCmhC,WAAY/gC,GAAAA,GAAqBJ,MACjCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,GACpCe,SAAUX,GAAAA,GAAqBJ,MAAK,IAEtCX,SAAU,CACRhC,cAAe+C,GAAAA,GAAAA,GAAAA,IAEjBywB,GAAI,CACFrmB,QAASpK,GAAAA,GAAAA,GACTW,SAAUX,GAAAA,GAAAA,GACVY,GAAIZ,GAAAA,GAAAA,IAENof,GAAI,CACF4hB,wBAAyBhhC,GAAAA,GAAAA,IAE3BwhB,GAAI,CACFxJ,mBAAoBhY,GAAAA,GAAAA,GACpBW,SAAUX,GAAAA,GAAAA,IAEZsf,GAAI,CACFgL,oBAAqBtqB,GAAAA,GAAAA,GACrBihC,iBAAkBjhC,GAAAA,GAAAA,KAItB,IAA+CyB,EAAAA,EAAAA,IAAKpI,GAAK,eAAzD,iBAAO6nC,GAAP,MAA4BC,GAA5B,MAEA,IAAyC1/B,EAAAA,EAAAA,IAAKpI,GAAK,YAAnD,iBAAO+nC,GAAP,MAAyBC,GAAzB,MACMC,IAA6Bt/B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAMs/B,GAAc,KAAMxhC,GAASZ,SAAShC,gBACjGskC,IAAyBx/B,EAAAA,EAAAA,IAAMzI,EAAAA,GAAAA,cAAqByJ,EAAAA,GAAAA,QAAgBu+B,IAE1E,IAAqC7/B,EAAAA,EAAAA,IAAKpI,GAAK,UAA/C,iBAAOmoC,GAAP,MAAuBC,GAAvB,MACMC,IAAiB1/B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM0/B,GAAY,KAAM5hC,GAAS4wB,GAAGrmB,UAEvFu3B,IAA4B3/B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASuf,GAAG4hB,yBAEhF,IAA6Cv/B,EAAAA,EAAAA,IAAKpI,GAAK,WAAvD,iBAAOuoC,GAAP,MAA2BC,GAA3B,MACMC,IAAgC9/B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM8/B,GAAgB,KAAMhiC,GAAS2hB,GAAGxJ,qBAE1G+pB,IAAwB//B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAASyf,GAAGgL,oBAC5E,IAA2C7oB,EAAAA,EAAAA,IAAKpI,GAAK,aAArD,iBAAO2oC,GAAP,MAA0BC,GAA1B,MACMC,IAAqBlgC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACxDyI,EAAAA,EAAAA,IAAMkgC,GAAe,MACnBrnC,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB+B,EAAAA,EAAAA,IAAQwE,GAASyf,GAAG2hB,qBAIxC79B,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPsxB,MAAMt2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQsxB,KAAM,WAC5CvN,OAAO/oB,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ+jB,MAAO,YAEhD3jB,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,OAAM,2BACJwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UACrCrH,OAAOsJ,YAAY1C,GAASf,MAAM6hC,UAAUjjC,KAAI,SAACrD,EAAMoI,GAAP,MAAa,CAAC,aAAD,OACjDA,EAAI,IACjBlH,EAAAA,EAAAA,IAAiB,MAAOlB,EAAKumC,WAAYvmC,EAAKy9B,WAAY,eAEzD7+B,OAAOsJ,YAAY1C,GAASf,MAAM6hC,UAAUjjC,KAAI,SAACrD,EAAMoI,GAAP,MAAa,CAAC,aAAD,OACjDA,EAAI,IACjB/G,EAAAA,EAAAA,IAAckJ,IAAYrJ,EAAAA,EAAAA,IAAiB,MAAOlB,EAAKumC,WAAYvmC,EAAKy9B,WAAY,gBARnF,IAUH+I,SAAS5lC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM+hC,QAAS,WAElD9hC,MAAO,CACL+hC,cAAc7lC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAM+hC,aAAc,QAAS,CACjEvmC,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,aACrBkC,OAAQ,CACNoM,gBAAiB64B,MAGrBZ,YAAY9lC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMgiC,WAAY,WAIpDr9B,IAAU1B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5CqK,IAAU3B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAErCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAO4E,GACP3E,MAAO4E,IAET/G,SAAU,CACRF,OAAQ,CACNO,cAAeskC,GACfvpB,mBAAoB8pB,KAGxBplC,OAAQ,CACN0N,QAASs3B,GACTpX,mBAAoByX,GACpB91B,IAAKi2B,MAIHl+B,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQsxB,KAAM,CAAEl4B,IAAI,QAAD,OAAUA,GAAV,8BAC5C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ+jB,MAAO,CAAE3qB,IAAI,QAAD,OAAUA,GAAV,8BAC7C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAM,GAAD,OAAK6G,GAASI,QAAQG,QAAtB,SAENZ,GAAGuG,eAAe,iBAAkB,CACrCV,OAAQ,CAAC,CACPE,KAAMw8B,OAENviC,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOipC,GACPt8B,KAAMq8B,GACN/9B,KAAM1E,GAAI,mBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM28B,SAIV,CACF98B,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOmoC,GACPx7B,KAAMu7B,GACNj9B,KAAM1E,GAAI,qBACVsG,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAAykC,GAAG,MAAI,CAChDA,EAAK,CACHl+B,KAAM1E,GAAI,sBAAD,OAAuB4iC,IAChC98B,OAAO,GAAD,gBACA,CAAC,OAAQ,QAAkB+8B,SAAQ,SAAAC,GAAI,MAAK,CAAC,CAC/C98B,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAZ,UAAqBujC,EAArB,iBAAkCF,IAC9C,CACE9oC,IAAc,SAATgpC,EAAA,eACOhpC,GADP,kCACoC8oC,GADpC,eAEO9oC,GAFP,6BAE+B8oC,WANtC,CAUC,CACH/8B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,OAbJ,QAgBO,IAARqnC,EAAY,CAAC,CAAE58B,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+hC,QAAS,CAAExnC,IAAI,QAAD,OAAUA,GAAV,gCAAgD,aAIpHmG,GAAGuG,eAAe,WAAY,CAChCV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,eAEVC,GAAGkG,oBAAoB,WAAY,CACrC1M,MAAOqoC,GACP17B,KAAMy7B,GACNn9B,KAAM1E,GAAI,mBACV3C,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQ0lC,GAA4B,CAAEjoC,IAAK,wBAIrDmG,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAO6oC,GACPl8B,KAAMi8B,GACN39B,KAAM1E,GAAI,eACV3C,UAAU,EACViJ,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMu8B,IACL,CACD18B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAAS2hB,GAAG7gB,SACnB7F,KAAM,YAMdiE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAM+hC,aAAc,CAAEznC,IAAI,QAAD,OAAUA,GAAV,+BAClD,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMgiC,WAAY,CAAE1nC,IAAI,QAAD,OAAUA,GAAV,+BAChD,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGuG,eAAe,iBAAkB,CACrCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQ+lC,GAA2B,CAAEtoC,IAAI,QAAD,OAAUA,GAAV,eAC7C,CACD+L,KAAM7F,GAAI,mBAIdP,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOyoC,GACP97B,KAAM67B,GACNv9B,MAAM2B,EAAAA,EAAAA,IAAG,cACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMm8B,IACL,CACDt8B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAAS4wB,GAAG9vB,SACnB7F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAAS4wB,GAAG7vB,GACnB9F,KAAM,YAKd2D,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM7B,QACxE/E,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM5B,QACxE9E,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,+2BChUnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,60FCP9HC,GAAWC,GAEX/F,GAAoB,UACpBuL,GAAyB,UAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG6G,GAAK,EACxB5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLoB,KAAMF,GAAAA,GAAqBL,MAC3BQ,KAAMH,GAAAA,GAAqBL,MAC3Bk+B,KAAM79B,GAAAA,GAAqBL,MAC3B2iC,KAAMtiC,GAAAA,GAAqBL,MAC3BgB,SAAUX,GAAAA,GAAqBL,MAAK,GACpCiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1B2iC,SAAUviC,GAAAA,GAAqBJ,MAC/BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCX,SAAU,CACRujC,YAAaxiC,GAAAA,GAAwByG,MAAM,IAE7C9H,eAAgB,CACd+2B,SAAU11B,GAAAA,GAAAA,GACVW,SAAUX,GAAAA,GAAAA,IAEZnB,eAAgB,CACd4jC,QAASziC,GAAAA,GAAAA,KAKPwS,IAAWxQ,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,QAAoB+B,EAAAA,EAAAA,IAAQwE,GAASZ,SAASujC,YAAa,CAAEx8B,MAAO,MAElH,IAA6BvE,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACMq1B,IAASr+B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,MAAOiJ,GAAQnL,GAASlB,eAAe+2B,WAExF7iB,IAAS7Q,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAGuG,GAAShB,eAAe4jC,SAEnEr/B,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLoB,MAAMqY,EAAAA,EAAAA,IAASjf,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMoB,KAAM,UAC3EC,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMqB,KAAM,QAAS,CAAEusB,MAAO,CAAEC,OAAQ9Z,MACtEgrB,MAAM5iC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAM++B,KAAM,QAAS,CAAEnR,MAAO,CAAEC,OAAQ9Z,MACtEyvB,MAAMtgC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwjC,KAAM,QAAS,CAAE5V,MAAO,CAAEC,OAAQ9Z,QAE1G9T,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxCiiC,UAAUtnC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMwjC,SAAU,WAGhDl5B,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3Ce,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CACrFQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET9F,MAAO,CACLC,WAAY+O,IAEd5V,SAAU,CACRF,OAAQ,CACNqoB,aAAcsb,OAKdr8B,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMoB,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMqB,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM++B,KAAM,CAAExkC,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwjC,KAAM,CAAEjpC,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,QAI1B7B,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMwjC,SAAU,CAAElpC,IAAI,QAAD,OAAUA,GAAV,+BAC9C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,cAG1BhC,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAMiN,QAC5DtT,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgS,GACPrF,KAAMoF,GACNnO,UAAU,EACVqH,KAAM1E,GAAI,MACVsG,OAAQ,CACNtL,IAAK,CACH8K,OAAQ,CAAC,CACPE,KAAM86B,WAKdzhC,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,62BC3LnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,MAAAA,GAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,63GCN9HC,GAAWC,GAEX/F,GAAoB,SACpBuL,GAAyB,OAC/B,IAAkBvF,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGE,GAAI,EACTC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACP0hB,OAAQ,CACN3hB,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,OAEtB4I,QAAS,CACPjF,IAAK,CACHrD,GAAAA,GAAoBN,MAAK,GACzBM,GAAAA,GAAoBN,MAAK,GACzBM,GAAAA,GAAoBN,MAAK,GACzBM,GAAAA,GAAoBN,MAAK,GACzBM,GAAAA,GAAoBN,MAAK,KAG7BU,QAASJ,GAAAA,GAAoBN,MAAK,GAClCgjC,gBAAiB1iC,GAAAA,GAAoBN,MAAK,GAC1CijC,SAAU,GAEZtiC,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BkjC,aAAc5iC,GAAAA,GAAoBN,MAAK,GAEvCZ,MAAO,CACLwB,IAAKN,GAAAA,GAAAA,GACLY,GAAIZ,GAAAA,GAAAA,GAAAA,IAENjB,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1BsP,aAAclP,GAAAA,GAAqBJ,MACnCe,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCijC,aAAc7iC,GAAAA,GAAqBJ,MAAK,GACxCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACR8jC,eAAgB9iC,GAAAA,GAAAA,GAAAA,GAChBW,SAAUX,GAAAA,GAAAA,GAAAA,IAEZf,SAAU,CACRqB,KAAKjF,EAAAA,EAAAA,IAAQ2E,GAAAA,GAAAA,GAAAA,KAEfywB,GAAI,CACFiS,gBAAiB1iC,GAAAA,GAAAA,IAEnBof,GAAI,CACFle,SAAUlB,GAAAA,GAAAA,GACV8f,kBAAmB9f,GAAAA,GAAAA,IAErBwhB,GAAI,CACFqW,UAAW73B,GAAAA,GAAAA,GACXW,SAAU,IAEZ2e,GAAI,CACFyjB,WAAY/iC,GAAAA,GAAAA,KAIhB,IAA6CyB,EAAAA,EAAAA,IAAKpI,GAAK,cAAvD,iBAAO2gB,GAAP,MAA2BC,GAA3B,MACM+oB,IAA0BjhC,EAAAA,EAAAA,IAAMkY,GAAgB,MACpD7e,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAMmQ,eAGnD,IAAuCzN,EAAAA,EAAAA,IAAKpI,GAAK,WAAjD,iBAAO4pC,GAAP,MAAwBC,GAAxB,MACMC,IAAenhC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAExCI,EAAAA,EAAAA,IAAOwpC,GAAajqC,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAA0lC,GAAK,MAAI,CAC9DA,GACAxoC,EAAAA,EAAAA,IAAKwoC,EAAOvjC,GAASb,SAAS8jC,qBAC3BpgC,EAAAA,KAGP,IAAmDjB,EAAAA,EAAAA,IAAKpI,GAAK,iBAA7D,iBAAOgqC,GAAP,MAA8BC,GAA9B,MAEA,IAA2C7hC,EAAAA,EAAAA,IAAKpI,GAAK,aAArD,iBAAOkqC,GAAP,MAA0BC,GAA1B,MACMC,IAAsBzhC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GACzDyI,EAAAA,EAAAA,IAAMyhC,GAAe,KAAM3jC,GAASuf,GAAGU,oBAGnC1c,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAShH,OAAOsJ,YAAY1C,GAASI,QAAQ0hB,OAAOjkB,KAAI,SAAC2F,EAAKZ,GAAN,MACtD,CAACA,EAAGA,EAAI,GACJxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,YACpBrB,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAG2B,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,iBAE5DhD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,UAE1CvB,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,UAE1CrB,SAAU,CACRqB,KAAK0B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAMuhC,GAAmB,MACpDppC,EAAAA,EAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAiBuG,GAASZ,SAASqB,KAAM,cAGhE3B,eAAgB,CACd+kC,aAAa1hC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC1CoC,EAAAA,EAAAA,IAAckJ,IAAYlK,EAAAA,EAAAA,KAAiBE,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,GAAgBuG,GAAS2hB,GAAGqW,cAE9E8L,aAAa3hC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC1CoB,EAAAA,EAAAA,KAAiBE,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,GAAgBuG,GAAS2hB,GAAGqW,eAKlDn0B,IAAU1B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC5CqK,IAAU3B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAErCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAAKuL,GAAY,QAASzF,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAO4E,GACP3E,MAAO4E,IAETjH,OAAQ,CACNwS,aAAc8zB,GACdljB,kBAAmB2jB,GACnBlyB,UAAW4xB,MAITn/B,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,UAEjF,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAO,GAAD,gBAGDxF,GAASI,QAAQ0hB,OAAOjkB,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CACxC8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQwC,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,oBAAyBoJ,UAJlE,CAKC,CACH2C,KAAM9F,GAAG,sBAGTtG,MAAO6G,GAASI,QAAQG,SACvB,CACDgF,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAA0C,IAAnC6G,GAASI,QAAQyiC,gBACxBl9B,WAAYjG,GAAI,WAChBzE,KAAM,KACL,CACDsK,KAAM7F,GAAI,YACVvG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAClD6G,GAASI,QAAQ0iC,SAAW9iC,GAASyf,GAAGyjB,WACxCljC,GAASI,QAAQ0iC,WACpB,CACDv9B,KAAM9F,GAAG,sBACTtG,MAAO6G,GAAS+iC,aAChB9nC,KAAM,QAET0E,GAAGkG,oBAAoB,WAAY,CACpC1M,MAAOkqC,GACPv9B,KAAMs9B,GACNh/B,KAAM1E,GAAI,0BAEVsG,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG,GAAG9E,KAAI,SAAA0lC,GAAK,MAAI,CAClDA,EAAO,CACLn/B,KAAM1E,GAAI,SAAD,OAAU6jC,IACnB/9B,OAAQ,CAAC,CACPE,KAAM49B,IACL,CACD/9B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,cAIV0E,GAAGkG,oBAAoB,WAAY,CACrC1M,MAAOsqC,GACP39B,KAAM09B,GACNp/B,KAAM1E,GAAI,wBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnE,SAASqB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,yBAIjDmG,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,uBACVvG,OAAsC,IAA/B6G,GAAS4wB,GAAGiS,gBACnBl9B,WAAYjG,GAAI,WAChBzE,KAAM,KACL,CACDsK,MAAMQ,EAAAA,EAAAA,IAAG,mBAETpG,GAAGkG,oBAAoB,iBAAkB,CAC3C1M,MAAOwqC,GACP79B,KAAM49B,GACNt/B,MAAM2B,EAAAA,EAAAA,IAAG,qBAAsB,CAAEvK,QAAgC,IAAvBwE,GAASuf,GAAGle,WACtD2E,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMk+B,SAIVjkC,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPD,KAAM7F,GAAI,iBACVvG,MAAO6G,GAASyf,GAAGyjB,eAEnB,CACF39B,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM7F,GAAI,mBACT,CACD6F,MAAMK,EAAAA,EAAAA,IAAI,MACVzM,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,MAAMK,EAAAA,EAAAA,IAAI,cACVzM,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAOihB,GACPtU,KAAMqU,GACN/V,MAAM2B,EAAAA,EAAAA,IAAG,kBACTC,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPD,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM8jC,aACtB/nC,KAAM,KACL,CACDyK,KAAMy9B,SAIVxjC,GAAGuG,eAAe,iBAAkB,CACtCV,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAeglC,YAAa,CAAEtqC,IAAK,6BAC5D,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYzE,eAAe+kC,YAAa,CAAErqC,IAAI,uBAAD,OAAyBuL,OACnF,CACDQ,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAAS2hB,GAAG7gB,SACnB7F,KAAM,UAGVkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,YAC5BjG,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM7B,QACxE/E,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM5B,QACxE9E,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,yzBC3TnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,qsFCL9H0kC,GAA6B,UAC7Bh/B,GAAyB,OACzBzF,GAAWC,GACjB,IAAkBC,EAAAA,EAAAA,IAAM,OAAQukC,IAAhC,iBAAOtkC,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcmkC,GAAczkC,GAAS1C,cAAe8B,IAEzDsB,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,GACAA,GAAAA,GAAAA,KAGJC,QAAS,CACP1F,IAAKyF,GAAAA,GAAAA,GACL6jC,KAAM7jC,GAAAA,GAAAA,GACN8jC,SAAU9jC,GAAAA,GAAAA,IAEZK,SAAU,CACRC,IAAKN,GAAAA,GAAAA,GACLO,IAAKP,GAAAA,GAAAA,GACLQ,KAAMR,GAAAA,GAAAA,KAERlB,MAAO,CACLymB,KAAMvlB,GAAAA,GAAAA,GACNW,SAAUX,GAAAA,GAAAA,GAAAA,GACVY,GAAIZ,GAAAA,GAAAA,GAAAA,IAENjB,MAAO,CACLuB,IAAKN,GAAAA,GAAAA,GACL+jC,IAAK/jC,GAAAA,GAAAA,GACLW,SAAUX,GAAAA,GAAAA,GAAAA,GACVY,GAAIZ,GAAAA,GAAAA,GAAAA,GACJmK,KAAMnK,GAAAA,GAAAA,GAAAA,IAERhB,SAAU,CACRuS,UAAWvR,GAAAA,GAAAA,GAAAA,GACXW,SAAUX,GAAAA,GAAAA,GAAAA,GACVqB,UAAW,IAEbpC,SAAU,CACR+kC,WAAYhkC,GAAAA,GAAAA,GAAAA,GACZikC,SAAUjkC,GAAAA,GAAAA,GAAAA,GACVW,SAAUX,GAAAA,GAAAA,GAAAA,IAEZxB,eAAgB,CACd0lC,kBAAmBlkC,GAAAA,GAAAA,GACnB2H,KAAM3H,GAAAA,GAAAA,GACNW,SAAUX,GAAAA,GAAAA,IAEZvB,eAAgB,CACd8S,UAAWvR,GAAAA,GAAAA,GACXW,SAAUX,GAAAA,GAAAA,IAEZtB,eAAgB,GAChBC,eAAgB,CACdsvB,MAAOjuB,GAAAA,GAAAA,IAETpB,eAAgB,GAChBC,eAAgB,CACdwd,OAAQrc,GAAAA,GAAAA,GACRulB,KAAMvlB,GAAAA,GAAAA,KAIV,IAAmCyB,EAAAA,EAAAA,IAAKmiC,GAAc,SAAtD,iBAAO/2B,GAAP,MAAsBC,GAAtB,MACA,IAAmCrL,EAAAA,EAAAA,IAAKmiC,GAAc,SAAtD,iBAAOj5B,GAAP,MAAsBC,GAAtB,MACA,IAA6BnJ,EAAAA,EAAAA,IAAKmiC,GAAc,MAAhD,iBAAO/7B,GAAP,MAAmBC,GAAnB,MACA,IAA6BrG,EAAAA,EAAAA,IAAKmiC,GAAc,MAAhD,iBAAO9vB,GAAP,MAAmBC,GAAnB,MACA,IAA6BtS,EAAAA,EAAAA,IAAKmiC,GAAc,MAAhD,iBAAO32B,GAAP,MAAmBC,GAAnB,MACMi3B,IAAkBniC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpD8qC,IAAkBpiC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpD+qC,IAAiBl8B,EAAAA,EAAAA,IAAU2E,GAAW,SAAS1R,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASf,MAAMymB,KAAM,CAAElsB,IAAK,MAAQyB,EAAAA,IACrHwpC,IAAW5qC,EAAAA,EAAAA,IAAOoO,GAAQ7O,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASb,SAASqC,WAAW3D,KAAI,SAAA+E,GAAC,MAAI,CAACA,GAAGjI,EAAAA,EAAAA,IAASiI,QAAO,GAChH8O,IAAYvP,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM+K,GAAW,SAASlR,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASb,SAASuS,WAAY+yB,IAAW,CAAEjrC,IAAK,YAAawC,QAAS+I,OACzJ+C,IAAO3F,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGyI,EAAAA,EAAAA,IAAM6I,GAAW,MAAMhD,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBsqC,IACvF/oC,EAAAA,EAAAA,KAAIQ,EAAAA,EAAAA,IAAQwE,GAASZ,SAAS+kC,aAAappC,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASglC,UAAWK,QACjFC,IAASxiC,EAAAA,EAAAA,IAAMgS,GAAQ,MAAM1Y,EAAAA,EAAAA,IAAQwE,GAASrB,eAAemJ,OAC7D68B,IAAcziC,EAAAA,EAAAA,IAAMmL,GAAQ,MAAM7R,EAAAA,EAAAA,IAAQwE,GAASpB,eAAe8S,WAAY,CAAElY,IAAK,YAAawC,QAAS+I,KAE3G6/B,GAAgB5kC,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MAAY,CAC3DA,GACAvI,EAAAA,EAAAA,KACEU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,UAAuB+J,EAAK,CAAEhK,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,IAAiB+qC,IAC3E,SAAU,CACV9pC,IAAK,CACHE,KAAK0N,EAAAA,EAAAA,IAAU2E,GAAW,SAAStS,EAAAA,EAAAA,IAASoK,KAAapK,EAAAA,EAAAA,IAAS,oBAOlEkqC,GAAkBD,GAAc/mC,KAAI,WAAY+E,GAAZ,mBAAK8C,GAAL,iBAAkB,CAAC9C,GAAGT,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM+K,GAAW,SAASlS,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAAShB,eAAe0mB,MAAOhgB,SAE3JnC,GAAc,CACzBtD,OAAQ7G,OAAOsJ,YAAYkiC,IAC3BxkC,QAAS,CACP1F,KAAKU,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ1F,IAAK,WAC1CspC,MAAM5oC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ4jC,KAAM,UAAW,CAAEtpC,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,OAC9Ek/B,UAAUl8B,EAAAA,EAAAA,IAAQkF,GAAW,SAAS7R,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQ6jC,SAAU,UAAW,CAAEvpC,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,SAEpHvE,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,GACPC,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,QAAS,CAAE/F,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,OACxEm/B,KAAK9oC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMglC,IAAK,QAAS,CAAExpC,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAASoK,QAE1E/F,eAAgB5F,OAAOsJ,YAAYmiC,KAGxBC,IAAU5oC,EAAAA,EAAAA,GAAyB6nC,GAAch/B,GAAY,UAAWzF,GAAUiE,GAAa,CAC1GQ,MAAO,CACL9E,MAAOqlC,GACPplC,MAAOqlC,IAETxnC,SAAU,CACRF,OAAQ,CACNiL,KAAAA,KAGJjL,OAAQ,CACNiL,KAAM48B,GACNhzB,WAAW1W,EAAAA,EAAAA,IAAI0W,GAAWizB,OAIxBxgC,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WAAAA,GACAnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUuqC,GAAV,iCAA+CnhC,KACzF+C,WAAa,CAAC,EAAG,GAAGo/B,SAASniC,IAAMmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEjE,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ1F,IAAK,CAAElB,IAAI,QAAD,OAAUuqC,GAAV,8BAC3C,CACDr+B,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ4jC,KAAM,CAAExqC,IAAI,QAAD,OAAUuqC,GAAV,8BAC5C,CACDr+B,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQ6jC,SAAU,CAAEzqC,IAAI,QAAD,OAAUuqC,GAAV,gCAElD,CACDx+B,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPD,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM8B,GACtB9F,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjCzB,MAAM2B,EAAAA,EAAAA,IAAG,kBACTD,KAAMkH,GACN7T,MAAO8T,GACPjH,OAAQ,CACN/G,MAAO,CACLuG,OAAQ,CAAC,CACPD,KAAM7F,GAAI,YACVvG,MAAO,SAAAqB,GAAI,OAAqC,IAAjCA,EAAKkP,IAAI86B,IAAgBrrC,OACxCgN,MAAO,EACPlL,KAAM,KACL,CACDsK,KAAM7F,GAAI,kBACT,CACD6F,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAM6B,SACtB7F,KAAM,UAIV0E,GAAGkG,oBAAoB,WAAY,CAErCQ,SAASnE,EAAAA,EAAAA,IAAM+K,GAAW,QAAS,GACnC9T,MAAO8O,GACPnC,KAAMkC,GACN5D,KAAM3E,GAAG,iBACTuG,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASb,SAASqC,WAAW3D,KAAI,SAAA+E,GAAC,MACpE,CAACA,EAAG,CACFwB,KAAK,GAAD,OAAKxB,EAAL,UACJ4C,OAAQ,CAAC,CACPE,KAAMgM,IACL,CACDnM,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,cAIV0E,GAAGuG,eAAe,iBAAkB,CACtCG,SAASnE,EAAAA,EAAAA,IAAM+K,GAAW,QAAS,GACnCzH,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAA8B,CAC/D8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYvE,eAAe4D,GAAI,CAAEpJ,IAAI,QAAD,OAAUuqC,GAAV,iCAA+CnhC,KACjG+C,WAAa,CAAC,EAAG,GAAGo/B,SAASniC,IAAMmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,WAIpEtH,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUuqC,GAAV,+BACzC,CACDr+B,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMglC,IAAK,CAAE1qC,IAAI,QAAD,OAAUuqC,GAAV,+BACzC,CACDx+B,KAAM9F,GAAG,uBACTtG,MAAO,SAAA6rC,GAAM,OAAIhlC,GAASd,MAAM4B,UAAYkkC,EAAOt7B,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAI6G,GAASrB,eAAe0lC,kBAAoB,IACrIppC,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO,MAERwG,GAAGuG,eAAe,iBAAkB,CACrCV,OAAQ,CAAC,CACPD,MAAMQ,EAAAA,EAAAA,IAAG,eACT5M,MAAO6G,GAASrB,eAAe0lC,kBAC/BppC,KAAM,QAEN0E,GAAGkG,oBAAoB,iBAAkB,CAC3CzB,KAAM1E,GAAI,MACVvG,MAAO+a,GACPpO,KAAMmO,GACNjO,OAAQ,CACN4qB,GAAI,CACFprB,OAAQ,CAAC,CACPE,MAAM/K,EAAAA,EAAAA,IAASqF,GAASrB,eAAemJ,KAAM,CAAEtO,IAAK,UACnD,CACD+L,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASrB,eAAemC,SAC/B7F,KAAM,YAMdkE,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E9I,UAAU,EAEVsJ,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBsqC,GAAc,GACpDj+B,KAAMgF,GACN3R,MAAO4R,GACP3G,KAAM3E,GAAG,cACTuG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAMoC,IACL,CACDvC,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASZ,SAAS0B,SACzB7F,KAAM,UAIV0E,GAAGkG,oBAAoB,WAAY,CAErCQ,SAAS0B,EAAAA,EAAAA,IAAQtO,EAAAA,GAAAA,cAAqBsqC,IACpC7hC,EAAAA,EAAAA,IAAM6I,GAAW,MAAM5I,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,EAAG,KAEjDsD,UAAU,EACV5D,MAAO8O,GACPnC,KAAMkC,GACN5D,KAAM3E,GAAG,iBACTuG,OAAQ5M,OAAOsJ,aAAYC,EAAAA,EAAAA,IAAM,EAAG3C,GAASb,SAASqC,WAAW3D,KAAI,SAAA+E,GAAC,MACpE,CAACA,EAAG,CACFwB,KAAK,GAAD,OAAKxB,EAAL,UACJ4C,OAAQ,CAAC,CACPE,KAAMgM,IACL,CACDnM,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASb,SAAS2B,SACzB7F,KAAM,gBAKdoE,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5FzB,KAAM1E,GAAI,MACVvG,MAAOkU,GACPvH,KAAMsH,GACNpH,OAAQ,CACNuZ,GAAI,CACF/Z,OAAQ,CAAC,CACPE,KAAMi/B,IACL,CACDp/B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASpB,eAAekC,SAC/B7F,KAAM,YAKd4D,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM4+B,QACxExlC,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM6+B,QACxEvlC,eAAgBW,GAAG2F,eAAe,qBAKxC,OAAmBoB,EAAAA,EAAevC,GAAO2gC,I,yzBCzUnCpmC,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,q6GCP9HC,GAAWC,GAEX/F,GAAoB,SAE1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAChBC,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLq5B,QAASn4B,GAAAA,GAAqBL,MAC9BkP,OAAQ7O,GAAAA,GAAqBL,MAC7BW,IAAKN,GAAAA,GAAqBL,MAC1BO,KAAMF,GAAAA,GAAqBL,MAC3BQ,KAAMH,GAAAA,GAAqBL,MAC3BiB,GAAIZ,GAAAA,GAAqBL,MAAK,IAEhCZ,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1B8T,OAAQ1T,GAAAA,GAAqBJ,MAC7Be,SAAUX,GAAAA,GAAqBJ,MAAK,GACpCgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,GACpCklC,WAAY9kC,GAAAA,GAAqBJ,MAAK,IAExCX,SAAU,CACRyU,OAAQ1T,GAAAA,GAAAA,KAA4B,SAAAN,GAAC,OAAIA,EAAE,OAE7CjB,eAAgB,CACdsmC,UAAW/kC,GAAAA,GAAAA,IAEbrB,eAAgB,CACd0L,KAAMrK,GAAAA,GAAAA,GACNW,SAAUX,GAAAA,GAAAA,IAEZnB,eAAgB,CACdmL,OAAQhK,GAAAA,GAAAA,KAINogC,IAASp+B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAClC8B,EAAAA,EAAAA,IAAUP,EAAAA,GAAAA,WAAA,WAAOquB,GAAAA,EAAAA,KAAgB,SAAAzuB,GAAG,OAAIuH,EAAAA,EAAAA,IAAUnF,EAAAA,GAAMpC,GAAM,EAAG,QAAxD,CAA+D,GAA/D,gBAAqEoF,GAASZ,SAASyU,SAAS,CAAEra,IAAK,OAElH,IAAmCoI,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOsR,GAAP,MAAsBC,GAAtB,MACMypB,IAAYtyB,EAAAA,EAAAA,IAAM,KAAM6I,IAAW/P,EAAAA,EAAAA,KACvCD,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,OAAAA,KAAkBuB,EAAAA,EAAAA,KAAIO,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAAA,WAAwBuG,GAASd,MAAM2U,OAAQ,CAAEra,IAAK,MAAQ+mC,OAE/FjzB,IAASnL,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAM6I,GAAW/K,GAASpB,eAAesmC,YAEhG,IAA6BtjC,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAO0R,GAAP,MAAmBC,GAAnB,MACMq1B,IAASr+B,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAMiJ,GAAQnL,GAASlB,eAAe0L,OAEvFwI,IAAS7Q,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAAGyI,EAAAA,EAAAA,IAAM,KAAM6I,GAAW/K,GAAShB,eAAemL,SAE1F5G,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLwB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMwB,IAAK,SACxCJ,MAAMjF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMoB,KAAM,SAC1CC,MAAMlF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMqB,KAAM,SAC1C0O,QAAQnT,EAAAA,EAAAA,IAAc,OAAOH,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAMq5B,QAASt4B,GAASf,MAAM+P,OAAQ,WAGrG9P,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,SACxCoT,OAAQ2gB,KAGNhrB,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GACpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GA7Fd,MA6F+B,QAAS8F,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOwK,GACPvK,MAAOsK,IAET3M,OAAQ,CACN2N,KAAMg2B,GACNj2B,QAASyI,IAEXjW,SAAU,CACRF,OAAQ,CACNinB,cAAe0Q,GACf3sB,YAAayF,OAKbnJ,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WArH6B,MAsH7BnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,GAAKA,EAAI,GAAK,EAAI,IAAMA,EAAI,GAAK,EAAI,MACrH+C,WAAmB,IAAN/C,GAAiB,IAANA,EAAW,MAAe,IAANA,GAAiB,IAANA,EAAW,MAAQ,QAE3E,CACD2C,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMwB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMoB,KAAM,CAAE7G,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMqB,KAAM,CAAE9G,IAAI,QAAD,OAAUA,GAAV,+BAC1C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+P,OAAQ,CAAExV,IAAI,QAAD,OAAUA,GAAV,+BAC5C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAvC,UACR6G,GAASf,MAAM8B,GADP,qBACsBf,GAASf,MAAM8B,IAAM,EAAI,MAAOokC,QAAQ,IAD9D,UAERnlC,GAASf,MAAM8B,KACtB9F,KAAM,SAIViE,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,YAEvBxB,GAAGkG,oBAAoB,QAAS,CACjC9I,UAAU,EACV5D,MAAO4R,GACPjF,KAAMgF,GACN1G,KAAM1E,GAAI,SACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM8uB,IACL,CACD9uB,KAAM4H,IACL,CACD5H,KAAMsN,IACL,CACDzN,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM4B,SACtB7F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM+lC,mBAM9B9lC,SAAUQ,GAAG2F,eAAe,YAC5BlG,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CAAEE,MAAM3J,EAAAA,EAAAA,IAAQwkC,GAAQ,CAAE/mC,IAAI,QAAD,OAAUA,GAAV,mBAExC6F,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM4H,QACxEzO,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAGkG,oBAAoB,iBAAkB,CAC5F1M,MAAOgS,GACPrF,KAAMoF,GACN9G,KAAM1E,GAAI,MACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQ,CAAC,CACPE,KAAM86B,IACL,CACDj7B,MAAMK,EAAAA,EAAAA,IAAI,YACVzM,MAAO6G,GAASlB,eAAegC,SAC/B7F,KAAM,YAKd8D,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,qBAIxC,OAAmBoB,EAAAA,EAAevC,GAAO3J,I,yzBCxOnCkE,GAA+D,CACnEC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,eAAAA,GAAgBC,M,kDAAOC,MAAAA,GAAOC,SAAAA,GAAUC,SAAAA,GAAUC,SAAAA,I,0wGCP9HC,GAAWC,GAEX/F,GAAoB,UAE1B,IAAkBgG,EAAAA,EAAAA,IAAM,OAAQhG,IAAhC,iBAAOiG,GAAP,MAAWC,GAAX,MACMC,IAAKC,EAAAA,EAAAA,GAAcpG,GAAK8F,GAAS1C,cAAe8B,IAElDmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG4G,GAAK,EAAGC,GAAK,EAChC5G,GAAW,CACfC,OAAQ,CACNC,OAAQ,CACNC,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,MACpBM,GAAAA,GAAoBN,QAGxBO,QAAS,CACPK,IAAKN,GAAAA,GAAoBN,MACzBU,QAASJ,GAAAA,GAAoBN,MAAK,IAEpCW,SAAU,CACRC,IAAKN,GAAAA,GAAoBN,MACzBa,IAAKP,GAAAA,GAAoBN,MACzBc,KAAMR,GAAAA,GAAoBN,OAE5BZ,MAAO,CACLmmC,MAAOjlC,GAAAA,GAAqBL,MAC5BulC,UAAWllC,GAAAA,GAAqBL,MAChConB,QAAS/mB,GAAAA,GAAqBL,MAAK,GACnCwlC,QAASnlC,GAAAA,GAAqBL,MAC9BkP,OAAQ7O,GAAAA,GAAqBL,MAC7Bw4B,QAASn4B,GAAAA,GAAqBL,MAC9BylC,cAAeplC,GAAAA,GAAqBL,MAAK,GACzCmnB,OAAQ9mB,GAAAA,GAAqBL,MAAK,GAClC20B,WAAY,IAEdv1B,MAAO,CACLuB,IAAKN,GAAAA,GAAqBJ,MAC1Be,SAAUX,GAAAA,GAAqBJ,MAC/BgB,GAAIZ,GAAAA,GAAqBJ,MAAK,GAC9BoB,SAAUhB,GAAAA,GAAqBJ,MAAK,IAEtCZ,SAAU,CACRm5B,QAASn4B,GAAAA,GAAwBwG,MAAM,IAEzCvH,SAAU,CACRse,MAAOvd,GAAAA,GAAwByG,MAAM,GACrC4+B,OAAQrlC,GAAAA,GAAwByG,MAAM,GACtC6+B,OAAQtlC,GAAAA,GAAwByG,MAAM,IAExC9H,eAAgB,CACd6U,YAAaxT,GAAAA,GAAAA,IAEfnB,eAAgB,CACd2N,IAAKxM,GAAAA,GAAAA,KAGT,IAAmCyB,EAAAA,EAAAA,IAAKpI,GAAK,SAA7C,iBAAOwT,GAAP,MAAsBC,GAAtB,MACMy4B,IAAavL,EAAAA,EAAAA,IAAkB3uB,GAAAA,IAAoB,SAAAm6B,GAAC,MAAI,CAAC,GAAD,OAAIA,EAAJ,eAC9DzjC,EAAAA,EAAAA,IAAM,KAAM+K,IAAWzR,EAAAA,EAAAA,IAAQwE,GAASf,MAAMw1B,gBAE9C,IAA6B7yB,EAAAA,EAAAA,IAAKpI,GAAK,MAAvC,iBAAOwR,GAAP,MAAmBC,GAAnB,MACM26B,IAASzjC,EAAAA,EAAAA,IACb1I,EAAAA,GAAAA,IAAW,GACXI,EAAAA,EAAAA,IAAOoR,IAAQ1R,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAIpH,EAAAA,EAAAA,IAAQwE,GAASb,SAASm5B,QAAU11B,MAAKC,EAAAA,KAGnFgjC,IAAe1jC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASse,OAAQjkB,EAAAA,GAAAA,OAAAA,KAC9EqsC,IAAc,WAAQD,IACtBE,IAAe,WAAQF,IACvBG,IAAgB,WAAQH,IACxBI,IAAgB9jC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASomC,QAAS/rC,EAAAA,GAAAA,OAAAA,KAChFysC,IAAgB/jC,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,IAAW,GAAGsB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQwE,GAASZ,SAASqmC,QAAShsC,EAAAA,GAAAA,OAAAA,KAEhFuZ,IAAS7Q,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,GAC5CyB,EAAAA,EAAAA,KAAeH,EAAAA,EAAAA,KACbS,EAAAA,EAAAA,IAAQwE,GAAShB,eAAe2N,KAChClT,EAAAA,GAAAA,MAAAA,MAGE8J,GAAc,CAClBtD,OAAQ7G,OAAOsJ,YAAY1C,GAASC,OAAOC,OAAOrC,KAAI,SAAC2F,EAAKZ,GAAN,MACpD,CAACA,GAAGxH,EAAAA,EAAAA,IAAQ,MAAOoI,EAAK,eAC1BpD,QAAS,CACPK,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASI,QAAQK,IAAK,YAE5CD,SAAUpH,OAAOsJ,YAAYtJ,OAAOqK,QAAQzD,GAASQ,UAAU3C,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WACjE,CAACK,GAAK4B,EAAAA,EAAAA,IAAQ,MAAOjC,EAAO,iBAC9B8F,MAAO,CACLmmC,OAAOhqC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMmmC,MAAO,SAC5CC,WAAWjqC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMomC,UAAW,SACpDC,SAASlqC,EAAAA,EAAAA,IAAQ,MAAO4E,GAASf,MAAMqmC,QAAS,SAChDt2B,QAAQnT,EAAAA,EAAAA,IAAc,OAAOH,EAAAA,EAAAA,IAAiB,KAAMsE,GAASf,MAAMq5B,QAASt4B,GAASf,MAAM+P,OAAQ,WAErG9P,MAAO,CACLuB,KAAKrF,EAAAA,EAAAA,IAAQ,MAAO4E,GAASd,MAAMuB,IAAK,UAE1CrB,SAAU,CACR0mC,eAAAA,GACAC,gBAAAA,GACAC,iBAAAA,GACAC,cAAAA,GACAC,cAAAA,IAEFlnC,eAAgB,CACd4b,KAAM5H,KAIJxJ,IAASrH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAC3CgQ,IAAStH,EAAAA,EAAAA,IAAU1I,EAAAA,GAAAA,cAAqB,EAAG,GAEpCe,IAAO0B,EAAAA,EAAAA,GAAyB1C,GAhHd,MAgH+B,QAAS8F,GAAUiE,GAAa,CAC5FQ,MAAO,CACL9E,MAAOuK,GACPtK,MAAOuK,IAET5M,OAAQ,CAENinB,cAAegiB,GACf35B,eAAgB45B,GAChBI,gBAAiBH,GACjBtsB,aAAcusB,GACd/hC,aAAcgiC,IAEhBnpC,SAAU,CACRF,QAAO,SACLy7B,QAASsN,IACNF,OAKHvhC,GAAyB,CAC7BC,KAAM3E,GAAG,QACT4E,QAASC,GACTC,SAAUC,GACVC,aAAcC,GACdC,UAAWC,GACXC,OAAQvF,GAASwF,KACjBC,WA5I6B,MA6I7BnI,cAAe0C,GAAS1C,cACxBoI,OAAQ,IACRC,kBAAmBxF,GAAG,qBACtByF,MAAOzF,GAAG,SACV0F,OAAQ,CACNC,OAAQ,CACNC,KAAM1F,GAAG2F,eAAe,OAAQ,CAAC,CAC/BC,KAAM9F,GAAG,uBACR,CACD+F,OAAQxF,GAASC,OAAOC,OAAOrC,KAAI,SAAC4H,EAAG7C,GAAJ,MAAW,CAC5C8C,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtD,OAAO2C,GAAI,CAAEpJ,IAAI,QAAD,OAAUA,GAAV,iCAAsCoJ,KAChF+C,WAAkB,IAAN/C,GAAUmD,EAAAA,EAAAA,IAAG,SAAU,CAAES,MAAO,IAAO,QAEpD,CACDjB,KAAM9F,GAAG,wBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYnD,QAAQK,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,8BAC3C,CACD+L,KAAM9F,GAAG,sBACTtG,MAAO6G,GAASI,QAAQG,WAEzB,CACDgF,KAAM9F,GAAG,yBACR,CACD+F,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASC,IAAK,CAAEjH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASE,IAAK,CAAElH,IAAK,4BAC9C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAY/C,SAASG,KAAM,CAAEnH,IAAK,iCAIpDyF,MAAOU,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMmmC,MAAO,CAAE5rC,IAAI,QAAD,OAAUA,GAAV,mBAC3C,CACDkM,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMomC,UAAW,CAAE7rC,IAAI,QAAD,OAAUA,GAAV,uBAC/C,CACD+L,KAAM7F,GAAI,kBACVvG,MAAO,SAAAqB,GAAI,OAAIA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,OAAS,EAAI,EAAI,IAC7D,CACDoM,MAAMQ,EAAAA,EAAAA,IAAG,WACT5M,MAAO6G,GAASf,MAAMioB,QACtBjsB,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAMqmC,QAAS,CAAE9rC,IAAI,QAAD,OAAUA,GAAV,+BAC7C,CACD+L,MAAMQ,EAAAA,EAAAA,IAAG,UACT5M,MAAO6G,GAASf,MAAMgoB,OACtBhsB,KAAM,KACL,CACDyK,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYtE,MAAM+P,OAAQ,CAAExV,IAAI,6BAC7C,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASf,MAAMsmC,cACtBtqC,KAAM,OAEP0E,GAAGkG,oBAAoB,QAAS,CACjC1M,MAAO8T,GACPnH,KAAMkH,GACNjQ,UAAU,EACVqH,KAAM1E,GAAI,oBACVsG,OAAQ,CACN2D,GAAI,CACFnE,OAAQpM,OAAOC,OAAOqsC,IAAY7nC,KAAI,SAAA6H,GAAI,MAAK,CAAEA,KAAAA,YAKvDxG,MAAOS,GAAG2F,eAAe,QAAS,CAAC,CACjCE,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYrE,MAAMuB,IAAK,CAAEjH,IAAI,QAAD,OAAUA,GAAV,+BACzC,CACD+L,KAAM9F,GAAG,uBACTtG,MAAO,SAAAqB,GAAI,OACTA,EAAKkP,IAAIjQ,EAAAA,GAAAA,eAAqBN,MAAQ,EACpC6G,GAASd,MAAM4B,SAAStG,EAAKkP,IAAIjQ,EAAAA,GAAAA,MAAAA,YAAwBN,OAD3D,UAEK6G,GAASd,MAAM4B,SAAStG,EAAKkP,IAAIjQ,EAAAA,GAAAA,MAAAA,YAAwBN,OAF9D,cAE0E6G,GAASlB,eAAe6U,cACpGxN,MAAO,EACPlL,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAM6B,GACtB9F,KAAM,KACL,CACDsK,KAAM9F,GAAG,uBACTtG,MAAO6G,GAASd,MAAMiC,cAI1BhC,SAAUQ,GAAG2F,eAAe,WAAY,CAAC3F,GAAGkG,oBAAoB,WAAY,CAC1E1M,MAAO8R,GACPnF,KAAMkF,GACNjO,UAAU,EACVqH,KAAM1E,GAAI,UACVsG,QAAQzM,EAAAA,EAAAA,IAAaoJ,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CAAEwB,MAAM2B,EAAAA,EAAAA,IAAG,QAAS,CAAES,MAAO5D,IAAM4C,OAAQ,CAAC,CAAEE,KAAMkgC,aAE9FxmC,SAAUO,GAAG2F,eAAe,WAAY,CAAC3F,GAAG4I,eAAe,WAAY,CACrE/C,OAAQ,CAAC,CACPE,KAAMogC,IACL,CACDpgC,KAAMqgC,IACL,CACDrgC,KAAMsgC,IACL,CACDtgC,KAAMugC,IACL,CACDvgC,KAAMwgC,SAGV7mC,SAAUM,GAAG2F,eAAe,YAC5B3G,eAAgBgB,GAAG2F,eAAe,kBAClC1G,eAAgBe,GAAG2F,eAAe,kBAClCzG,eAAgBc,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM8D,QACxE1K,eAAgBa,GAAG2F,eAAe,kBAClCvG,eAAgBY,GAAG2F,eAAe,iBAAkB,CAAC,CAAEE,OAAQ,CAAC,CAAEE,KAAM+D,QACxEzK,eAAgBW,GAAG2F,eAAe,iBAAkB,CAAC3F,GAAG4I,eAAe,iBAAkB,CACvF/C,OAAQ,CAAC,CACPE,MAAM3J,EAAAA,EAAAA,IAAQwH,GAAYvE,eAAe4b,KAAM,CAAEphB,IAAI,QAAD,OAAUA,GAAV,WAAwBwC,QAAS,qBC7K/F,GAlDyD,CACvDoqC,OAAAA,GACAC,KAAAA,GACAC,MAAAA,GACAC,YAAAA,GACAC,QAAAA,GACAC,OAAAA,GACAC,QAAAA,GACAC,SAAAA,GACAC,MAAAA,GACAC,MAAAA,GACAC,KAAAA,GACAC,OAAAA,GACAC,MAAAA,GACAC,MAAAA,GACAC,MAAAA,GACAC,KAAAA,GACAC,gBAAAA,GACAC,MAAAA,GACAC,cAAAA,GACAC,cAAAA,GACAC,OAAAA,GACAC,KAAAA,GACAC,UAAAA,GACAC,KAAAA,GACAC,KAAAA,GACAC,UAAAA,GACAC,OAAAA,GACAC,KAAAA,GACAC,aAAAA,GACAC,MAAAA,GACAC,QAAAA,GACAC,kBAAAA,GACAC,KAAAA,GACAC,OAAAA,GACAC,QAAAA,GACAC,UAAAA,GACAC,MAAAA,GACAC,SAAAA,GACAC,MAAAA,GACAC,UAAAA,GACAC,KAAAA,GACAC,QAAAA,GACAC,OAAAA,GACAC,QAAAA,GACAC,OAAAA,GACAC,QAAAA,GACAC,OAAAA,GACAC,QDqLF,IAAmBziC,EAAAA,EAAevC,GAAO3J,M,uIErQnC4uC,GAAoB7tC,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,IANO,EAAE,EAC3C,QAAS,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,QAAS,UAAW,UAAW,SAAU,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,MAAO,SAAU,UAAW,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAAW,SAAU,UAAW,UAAW,SAAU,SAAU,QAAS,SAAU,SAAU,UAAW,SAAU,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAMx6B4vC,GAAoBtuC,EAAAA,EAAAA,IAAK,GAAK,GAAGuuC,EAAAA,EAAAA,IAAK7vC,EAAAA,GAAAA,MAAAA,OAAoB,OAC1D8vC,GAAiBxtC,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KAAKC,EAAAA,EAAAA,IAAIC,EAAAA,GAAiCouC,GAAoBD,GAAoB,CAAE5vC,IAAK,cAAewC,QAAS,QAE1IwtC,GAAcjuC,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,IAbwB,EAAE,EACtD,UAAW,UAAW,UAAW,UAAW,QAAS,UAAW,UAAW,UAAW,SAAU,UAAW,OAAQ,MAAO,UAAW,SAAU,SAAU,UAAW,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,WAAY,UAAW,UAAW,WAAY,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,SAAU,SAAU,UAAW,SAAU,SAAU,UAAW,SAAU,UAAW,QAAS,UAAW,UAAW,SAAU,UAAW,SAAU,UAAW,UAAW,SAAU,UAAW,SAAU,UAAW,UAAW,UAAW,SAAU,UAAW,SAAU,UAAW,SAAU,UAAW,SAAU,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAa56BgwC,GAAc1uC,EAAAA,EAAAA,IAAK,IAAIuuC,EAAAA,EAAAA,IAAK7vC,EAAAA,GAAAA,MAAAA,OAAoB,MAChD+F,GAAK,mBACNjG,EAAAA,EAAAA,GAAa,CAAC,aAAc,iBAAkB,eAAgB,cAAuB,SAAA0D,GACtF,MAAmCysC,EAAAA,GAAwBzsC,GAAnD0sC,EAAR,EAAQA,MAAkB/uC,GAA1B,SAAegvC,SAAf,MACA,OAAO7tC,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KACbgB,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,IAAK4uC,EAAOH,GAAc,CAAEtrC,QAZ1B,QAaVlD,EAAAA,EAAAA,IAAIC,EAAAA,GAAMwuC,EAAahwC,EAAAA,GAAAA,MAAA,UAAewD,EAAf,WACvBxD,EAAAA,GAAAA,MAAA,UAAemB,EAAf,eACA,CAAEpB,IAAI,GAAD,OAAKyD,EAAL,QAAqBjB,QAASiB,QAP9B,IAST4sC,OAAOtwC,EAAAA,EAAAA,GAAamwC,EAAAA,GAAAA,MAAAA,UAAwC,SAAA9uC,GAAG,OAAImB,EAAAA,EAAAA,KACjEhB,EAAAA,EAAAA,KACEgB,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,IAAK2uC,EAAAA,GAAAA,MAAAA,MAAqCF,GAAc,CAAEtrC,QAnBxD,QAoBVlD,EAAAA,EAAAA,IAAIC,EAAAA,GAAMwuC,EAAahwC,EAAAA,GAAAA,MAAAA,YACvBA,EAAAA,GAAAA,MAAA,UAAemB,EAAf,eACF,CAAEpB,IAAI,GAAD,OAAKoB,EAAL,cAAsBoB,QAASpB,SAE3BsC,EAAY,CACvBs/B,MAAO,CACLsN,aAActqC,EAAMqqC,MAAMnN,QAC1BqN,UAAWvqC,EAAMqqC,MAAMG,KACvBC,UAAWzqC,EAAMqqC,MAAMppB,KACvBypB,WAAY1qC,EAAMqqC,MAAMM,MACxBC,UAAW5qC,EAAM4qC,WAEnB3N,KAAI,gBACF4N,YAAad,GACVnwC,OAAOsJ,YAAYsb,EAAAA,GAAAA,KAAkB,SAAAC,GAAC,MAAI,CAAC,GAAD,OAAIA,EAAJ,gBAC7CliB,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQ,KAAM+tC,GAAiB,CAAE/vC,IAAI,GAAD,OAAKykB,EAAL,gBAAsBjiB,QAASiiB,UAH/E,IAIDmsB,UAAW5qC,EAAM4qC,YAEnB1N,QAAS,CACP4N,WAAY9qC,EAAM8qC,WAClBC,eAAgB/qC,EAAM+qC,eACtBC,aAAchrC,EAAMgrC,aACpBJ,UAAW5qC,EAAM4qC,WAEnBD,MAAO,CACLI,eAAgB/qC,EAAM+qC,eACtBH,UAAW5qC,EAAM4qC,WAEnBJ,KAAM,CACJM,WAAY9qC,EAAM8qC,WAClBF,UAAW5qC,EAAM4qC,WAEnB3pB,KAAM,CACJ+pB,aAAchrC,EAAMgrC,aACpBJ,UAAW5qC,EAAM4qC","sources":["Data/Characters/dataUtil.tsx","Data/Characters/Albedo/assets.tsx","Data/Characters/Albedo/index.tsx","Data/Characters/Aloy/assets.tsx","Data/Characters/Aloy/index.tsx","Data/Characters/Amber/assets.tsx","Data/Characters/Amber/index.tsx","Data/Characters/AratakiItto/assets.tsx","Data/Characters/AratakiItto/index.tsx","Data/Characters/Barbara/assets.tsx","Data/Characters/Barbara/index.tsx","Data/Characters/Beidou/assets.tsx","Data/Characters/Beidou/index.tsx","Data/Characters/Bennett/assets.tsx","Data/Characters/Bennett/index.tsx","Data/Characters/Chongyun/assets.tsx","Data/Characters/Chongyun/index.tsx","Data/Characters/Diluc/assets.tsx","Data/Characters/Diluc/index.tsx","Data/Characters/Diona/assets.tsx","Data/Characters/Diona/index.tsx","Data/Characters/Eula/assets.tsx","Data/Characters/Eula/index.tsx","Data/Characters/Fischl/assets.tsx","Data/Characters/Fischl/index.tsx","Data/Characters/Ganyu/assets.tsx","Data/Characters/Ganyu/index.tsx","Data/Characters/Gorou/assets.tsx","Data/Characters/Gorou/index.tsx","Data/Characters/HuTao/assets.tsx","Data/Characters/HuTao/index.tsx","Data/Characters/Jean/assets.tsx","Data/Characters/Jean/index.tsx","Data/Characters/KaedeharaKazuha/assets.tsx","Data/Characters/KaedeharaKazuha/index.tsx","Data/Characters/Kaeya/assets.tsx","Data/Characters/Kaeya/index.tsx","Data/Characters/KamisatoAyaka/assets.tsx","Data/Characters/KamisatoAyaka/index.tsx","Data/Characters/KamisatoAyato/assets.tsx","Data/Characters/KamisatoAyato/index.tsx","Data/Characters/Keqing/assets.tsx","Data/Characters/Keqing/index.tsx","Data/Characters/Klee/assets.tsx","Data/Characters/Klee/index.tsx","Data/Characters/KujouSara/assets.tsx","Data/Characters/KujouSara/index.tsx","Data/Characters/Lisa/assets.tsx","Data/Characters/Lisa/index.tsx","Data/Characters/Mona/assets.tsx","Data/Characters/Mona/index.tsx","Data/Characters/Ningguang/assets.tsx","Data/Characters/Ningguang/index.tsx","Data/Characters/Noelle/assets.tsx","Data/Characters/Noelle/index.tsx","Data/Characters/Qiqi/assets.tsx","Data/Characters/Qiqi/index.tsx","Data/Characters/RaidenShogun/assets.tsx","Data/Characters/RaidenShogun/index.tsx","Data/Characters/Razor/assets.tsx","Data/Characters/Razor/index.tsx","Data/Characters/Rosaria/assets.ts","Data/Characters/Rosaria/index.tsx","Data/Characters/SangonomiyaKokomi/assets.tsx","Data/Characters/SangonomiyaKokomi/index.tsx","Data/Characters/Sayu/assets.tsx","Data/Characters/Sayu/index.tsx","Data/Characters/Shenhe/assets.tsx","Data/Characters/Shenhe/index.tsx","Data/Characters/Sucrose/assets.tsx","Data/Characters/Sucrose/index.tsx","Data/Characters/Tartaglia/assets.tsx","Data/Characters/Tartaglia/index.tsx","Data/Characters/Thoma/assets.tsx","Data/Characters/Thoma/index.tsx","Data/Characters/Traveler/anemo/assets.tsx","Data/Characters/Traveler/anemo/index.tsx","Data/Characters/Traveler/electro/assets.tsx","Data/Characters/Traveler/electro/index.tsx","Data/Characters/Traveler/geo/assets.tsx","Data/Characters/Traveler/geo/index.tsx","Data/Characters/Traveler/index.tsx","Data/Characters/Venti/assets.tsx","Data/Characters/Venti/index.tsx","Data/Characters/Xiangling/assets.tsx","Data/Characters/Xiangling/index.tsx","Data/Characters/Xiao/assets.tsx","Data/Characters/Xiao/index.tsx","Data/Characters/Xingqiu/assets.tsx","Data/Characters/Xingqiu/index.tsx","Data/Characters/Xinyan/assets.tsx","Data/Characters/Xinyan/index.tsx","Data/Characters/YaeMiko/assets.tsx","Data/Characters/YaeMiko/index.tsx","Data/Characters/Yanfei/assets.tsx","Data/Characters/Yanfei/index.tsx","Data/Characters/Yoimiya/assets.tsx","Data/Characters/Yoimiya/index.tsx","Data/Characters/YunJin/assets.tsx","Data/Characters/YunJin/index.tsx","Data/Characters/Zhongli/assets.tsx","Data/Characters/Zhongli/index.tsx","Data/Characters/index.ts","Formula/reaction.ts"],"sourcesContent":["import { SubstatKey } from \"pipeline\";\r\nimport { input } from \"../../Formula\";\r\nimport { inferInfoMut, mergeData } from \"../../Formula/api\";\r\nimport { reactions } from \"../../Formula/reaction\";\r\nimport { Data, DisplaySub, NumNode } from \"../../Formula/type\";\r\nimport { constant, data, infoMut, lookup, percent, prod, stringPrio, subscript, sum, unit } from \"../../Formula/utils\";\r\nimport { allMainStatKeys, MainStatKey } from \"../../Types/artifact\";\r\nimport { CharacterKey, ElementKey, Region } from \"../../Types/consts\";\r\nimport { layeredAssignment, objectKeyMap, objectMap } from \"../../Util/Util\";\r\nimport _charCurves from \"./expCurve_gen.json\";\r\n\r\n// TODO: Remove this conversion after changing the file format\r\nconst charCurves = objectMap(_charCurves, value => [0, ...Object.values(value)])\r\n\r\nconst commonBasic = objectKeyMap([\"hp\", \"atk\", \"def\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"heal_\"], key => input.total[key])\r\n\r\nexport const infusionNode = stringPrio(\r\n  input.infusion.nonOverridableSelf,\r\n  input.infusion.team,\r\n  input.infusion.overridableSelf)\r\nconst inferredHitEle = stringPrio(\r\n  lookup(input.hit.move, {\r\n    \"skill\": input.charEle, \"burst\": input.charEle,\r\n  }, undefined),\r\n  lookup(input.weaponType, {\r\n    sword: infusionNode, claymore: infusionNode, polearm: infusionNode,\r\n    catalyst: input.charEle,\r\n  }, undefined),\r\n  \"physical\"\r\n)\r\n\r\nfunction getTalentType(move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\") {\r\n  switch (move) {\r\n    case \"normal\": case \"charged\": case \"plunging\": return \"auto\";\r\n    case \"skill\": return \"skill\";\r\n    case \"burst\": return \"burst\";\r\n  }\r\n}\r\n\r\n/** Note: `additional` applies only to this formula */\r\nexport function customDmgNode(base: NumNode, move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\" | \"elemental\", additional: Data = {}): NumNode {\r\n  return data(input.hit.dmg, mergeData([{\r\n    hit: { base, move: constant(move), ele: additional?.hit?.ele ? undefined : inferredHitEle },\r\n  }, additional]))\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customShieldNode(base: NumNode, additional?: Data): NumNode {\r\n  const shieldNode = prod(base, sum(unit, input.total.shield_))\r\n  return additional ? data(shieldNode, additional) : shieldNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customHealNode(base: NumNode, additional?: Data): NumNode {\r\n  const healNode = prod(base, sum(unit, input.total.heal_, input.total.incHeal_))\r\n  return additional ? data(healNode, additional) : healNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function dmgNode(base: MainStatKey | SubstatKey, lvlMultiplier: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional: Data = {}): NumNode {\r\n  const talentType = getTalentType(move)\r\n  return customDmgNode(prod(subscript(input.total[`${talentType}Index`], lvlMultiplier, { key: '_' }), input.total[base]), move, additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customShieldNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customHealNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customShieldNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function shieldElement(element: \"electro\" | \"cryo\" | \"hydro\" | \"pyro\" | \"geo\", shieldNode: NumNode) {\r\n  return infoMut(prod(percent(element === \"geo\" ? 1.5 : 2.5), shieldNode), { variant: element })\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customHealNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function dataObjForCharacterSheet(\r\n  key: CharacterKey,\r\n  element: ElementKey | undefined,\r\n  region: Region | undefined,\r\n  gen: {\r\n    weaponTypeKey: string,\r\n    base: { hp: number, atk: number, def: number },\r\n    curves: { [key in string]?: string },\r\n    ascensions: { props: { [key in string]?: number } }[]\r\n  },\r\n  display: { [key: string]: DisplaySub },\r\n  additional: Data = {},\r\n): Data {\r\n  function curve(base: number, lvlCurve: string): NumNode {\r\n    return prod(base, subscript(input.lvl, charCurves[lvlCurve]))\r\n  }\r\n  display.basic = { ...commonBasic }\r\n  const data: Data = {\r\n    charKey: constant(key),\r\n    base: {},\r\n    weaponType: constant(gen.weaponTypeKey),\r\n    premod: {},\r\n    display,\r\n  }\r\n  if (element) {\r\n    data.charEle = constant(element)\r\n    data.teamBuff = { tally: { [element]: constant(1) } }\r\n    data.display!.basic[`${element}_dmg_`] = input.total[`${element}_dmg_`]\r\n    data.display!.reaction = reactions[element]\r\n  }\r\n  if (region)\r\n    layeredAssignment(data, [\"teamBuff\", \"tally\", region], constant(1))\r\n  if (gen.weaponTypeKey !== \"catalyst\") {\r\n    if (!data.display!.basic) data.display!.basic = {}\r\n    data.display!.basic!.physical_dmg_ = input.total.physical_dmg_\r\n  }\r\n\r\n  let foundSpecial: boolean | undefined\r\n  for (const stat of [...allMainStatKeys, \"def\" as const]) {\r\n    const list: NumNode[] = []\r\n    if (gen.curves[stat])\r\n      list.push(curve(gen.base[stat], gen.curves[stat]!))\r\n    const asc = gen.ascensions.some(x => x.props[stat])\r\n    if (asc)\r\n      list.push(subscript(input.asc, gen.ascensions.map(x => x.props[stat] ?? NaN)))\r\n\r\n    if (!list.length) continue\r\n\r\n    const result = infoMut(list.length === 1 ? list[0] : sum(...list), { key: stat, prefix: \"char\", asConst: true })\r\n    if (stat.endsWith(\"_dmg_\")) result.info!.variant = stat.slice(0, -5) as any\r\n    if (stat === \"atk\" || stat === \"def\" || stat === \"hp\")\r\n      data.base![stat] = result\r\n    else {\r\n      if (foundSpecial) throw new Error(\"Duplicated Char Special\")\r\n      foundSpecial = true\r\n      data.special = result\r\n      data.premod![stat] = input.special\r\n    }\r\n  }\r\n\r\n  return mergeData([data, inferInfoMut(additional)])\r\n}\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Albedo_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Albedo\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    blossomDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    blossomCd: 2,\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    blossomDmg: skillParam_gen.burst[b++],\r\n    blossomAmt: 7,\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    blossomDmgInc: 0.25,\r\n    hpThresh: 50,\r\n  },\r\n  passive2: {\r\n    eleMasInc: skillParam_gen.passive2[0][0],\r\n    duration: skillParam_gen.passive2[1][0]\r\n  },\r\n  constellation1: {\r\n    blossomEner: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    blossomDmgInc: 0.30,\r\n    maxStacks: 4,\r\n    stackDuration: 30\r\n  },\r\n  constellation4: {\r\n    plunging_dmg_: 0.3,\r\n  },\r\n  constellation6: {\r\n    bonus_dmg_: 0.17\r\n  }\r\n} as const\r\n\r\nconst [condBurstBlossomPath, condBurstBlossom] = cond(key, \"burstBlossom\")\r\nconst [condBurstUsedPath, condBurstUsed] = cond(key, \"burstUsed\")\r\nconst p2Burst_eleMas = equal(condBurstUsed, \"burstUsed\", greaterEq(input.asc, 4, datamine.passive2.eleMasInc))\r\n\r\nconst [condP1EnemyHpPath, condP1EnemyHp] = cond(key, \"p1EnemyHp\")\r\nconst p1_blossom_dmg_ = equal(condP1EnemyHp, \"belowHp\", greaterEq(input.asc, 1, datamine.passive1.blossomDmgInc))\r\n\r\nconst [condC2StacksPath, condC2Stacks] = cond(key, \"c2Stacks\")\r\nconst c2_burst_dmgInc = greaterEq(input.constellation, 2,\r\n  prod(\r\n    lookup(\r\n      condC2Stacks,\r\n      Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(i =>\r\n        [i,\r\n          prod(i, datamine.constellation2.blossomDmgInc)]\r\n      )\r\n      ),\r\n      naught\r\n    ),\r\n    input.total.def\r\n  )\r\n)\r\n\r\nconst [condSkillInFieldPath, condSkillInField] = cond(key, \"skillInField\")\r\nconst c4_plunging_dmg_disp = greaterEq(input.constellation, 4,\r\n  equal(condSkillInField, \"skillInField\", datamine.constellation4.plunging_dmg_)\r\n)\r\nconst c4_plunging_dmg_ = equal(input.activeCharKey, target.charKey, c4_plunging_dmg_disp)\r\n\r\n// Maybe we should just have a single conditional for \"in field AND crystallize shield\"?\r\n// This is technically a nested conditional\r\nconst [condC6CrystallizePath, condC6Crystallize] = cond(key, \"c6Crystallize\")\r\nconst c6_Crystal_all_dmg_disp = greaterEq(input.constellation, 6,\r\n  equal(condSkillInField, \"skillInField\",\r\n    equal(condC6Crystallize, \"c6Crystallize\", datamine.constellation6.bonus_dmg_)\r\n  )\r\n)\r\nconst c6_Crystal_all_dmg_ = equal(input.activeCharKey, target.charKey, c6_Crystal_all_dmg_disp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.skillDmg, \"skill\"),\r\n    blossom: dmgNode(\"def\", datamine.skill.blossomDmg, \"skill\", { total: { skill_dmg_: p1_blossom_dmg_ } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    blossom: equal(\"isoOnField\", condBurstBlossom, dmgNode(\"atk\", datamine.burst.blossomDmg, \"burst\")),\r\n  },\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      eleMas: p2Burst_eleMas,\r\n      plunging_dmg_: c4_plunging_dmg_,\r\n      all_dmg_: c6_Crystal_all_dmg_,\r\n    }\r\n  },\r\n  premod: {\r\n    burst_dmgInc: c2_burst_dmgInc,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.blossom, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          text: trm(\"blossomCD\"),\r\n          value: datamine.skill.blossomCd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condP1EnemyHp,\r\n        path: condP1EnemyHpPath,\r\n        name: st(\"enemyLessPercentHP\", { percent: datamine.passive1.hpThresh }),\r\n        states: {\r\n          belowHp: {\r\n            fields: [{\r\n              node: infoMut(p1_blossom_dmg_, { key: `char_${key}:blossomDmg_` })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"enerPerBlossom\"),\r\n          value: datamine.constellation1.blossomEner,\r\n          fixed: 1,\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condSkillInField,\r\n        path: condSkillInFieldPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          skillInField: {\r\n            fields: [{\r\n              node: infoMut(c4_plunging_dmg_disp, { key: \"plunging_dmg_\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6Crystallize,\r\n        path: condC6CrystallizePath,\r\n        name: st(\"protectedByShieldCrystal\"),\r\n        canShow: equal(condSkillInField, \"skillInField\", 1),\r\n        teamBuff: true,\r\n        states: {\r\n          c6Crystallize: {\r\n            fields: [{\r\n              node: infoMut(c6_Crystal_all_dmg_disp, { key: \"all_dmg_\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurstBlossom,\r\n        path: condBurstBlossomPath,\r\n        name: trm(\"isotomaOnField\"),\r\n        states: {\r\n          isoOnField: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.blossom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n              textSuffix: st(\"brHits\", { count: datamine.burst.blossomAmt })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condBurstUsed,\r\n        path: condBurstUsedPath,\r\n        name: st(\"afterUse.burst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          burstUsed: {\r\n            fields: [{\r\n              node: p2Burst_eleMas\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2Stacks,\r\n        path: condC2StacksPath,\r\n        name: trm(\"c2Stacks\"),\r\n        states: Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(i =>\r\n          [i, {\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              node: c2_burst_dmgInc\r\n            }]\r\n          }]\r\n        ))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Aloy_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, matchFull, naught, percent, subscript, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Aloy\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1.1\r\n      skillParam_gen.auto[a++], // 1.2\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    freezeBombDmg: skillParam_gen.skill[s++],\r\n    chillWaterBomblets: skillParam_gen.skill[s++],\r\n    atkDecrease: skillParam_gen.skill[s++],\r\n    atkDecreaseDuration: skillParam_gen.skill[s++][0],\r\n    coilNormalDmgBonus1: skillParam_gen.skill[s++],\r\n    coilNormalDmgBonus2: skillParam_gen.skill[s++],\r\n    coilNormalDmgBonus3: skillParam_gen.skill[s++],\r\n    rushingNormalDmgBonus: skillParam_gen.skill[s++],\r\n    rushingDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    atkInc: 0.16,\r\n    teamAtkInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    cryoDmgBonus: skillParam_gen.passive2[p2++][0]\r\n  }\r\n} as const\r\n\r\nconst [condCoilPath, condCoil] = cond(key, \"coil\")\r\nconst normal_dmg_ = lookup(condCoil, {\r\n  \"coil1\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus1, { key: \"_\" }),\r\n  \"coil2\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus2, { key: \"_\" }),\r\n  \"coil3\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus3, { key: \"_\" }),\r\n  \"rush\": subscript(input.total.skillIndex, datamine.skill.rushingNormalDmgBonus, { key: \"_\" })\r\n}, naught)\r\nconst atk_ = greaterEq(input.asc, 1, unequal(condCoil, undefined, percent(datamine.passive1.atkInc)))\r\n\r\nconst [condA1Path, condA1] = cond(key, \"A1\")\r\nconst teamAtk_ = greaterEq(input.asc, 1, equal(condA1, \"on\",\r\n  unequal(input.activeCharKey, key, percent(datamine.passive1.teamAtkInc))))\r\n\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst cryo_dmg_ = greaterEq(input.asc, 4,\r\n  lookup(condA4, Object.fromEntries(range(1, 10).map(i => [i, percent(datamine.passive2.cryoDmgBonus * i)])), naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\", {\r\n      hit: {\r\n        ele: matchFull(\"rush\", condCoil, constant(elementKey), constant(\"physical\"))\r\n      }\r\n    })])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    freezeBombDmg: dmgNode(\"atk\", datamine.skill.freezeBombDmg, \"skill\"),\r\n    chillWaterBomblets: dmgNode(\"atk\", datamine.skill.chillWaterBomblets, \"skill\"),\r\n    atkDecrease: subscript(input.total.skillIndex, datamine.skill.atkDecrease)\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  premod: {\r\n    normal_dmg_,\r\n    atk_,\r\n    cryo_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: teamAtk_\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i === 0 ? 0 : -1)}` }),\r\n          textSuffix: i === 0 ? \"(1)\" : i === 1 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.freezeBombDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.chillWaterBomblets, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.atkDecrease, { key: `char_${key}_gen:skill.skillParams.2_` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.atkDecreaseDuration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.7\"),\r\n          value: `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condCoil,\r\n        path: condCoilPath,\r\n        name: trm(\"skill.coil\"),\r\n        states: {\r\n          \"coil1\": {\r\n            name: trm(\"skill.coil1\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"coil2\": {\r\n            name: trm(\"skill.coil2\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"coil3\": {\r\n            name: trm(\"skill.coil3\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"rush\": {\r\n            name: trm(\"skill.rush\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }, {\r\n              text: trm(\"normCryoInfus\"),\r\n            }, {\r\n              text: tr(\"skill.skillParams.6\"),\r\n              value: datamine.skill.rushingDuration,\r\n              unit: \"s\"\r\n            }]\r\n          },\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }]\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        teamBuff: true,\r\n        name: trm(\"a1CondName\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: infoMut(teamAtk_, { key: \"atk_\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        canShow: equal(\"rush\", condCoil, 1),\r\n        name: trm(\"skill.rushState\"),\r\n        states: Object.fromEntries(range(1, 10).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{ node: cryo_dmg_ }]\r\n        }]))\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\"),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\"),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Amber_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Amber\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    inheritedHp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    unknown: skillParam_gen.skill[s++], // what is this??\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgPerWave: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    rainDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    aoeInc: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    atkInc: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    secArrowDmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    manualDetionationDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    moveSpdInc: skillParam_gen.constellation6[0],\r\n    atkInc: skillParam_gen.constellation6[1],\r\n    duration: skillParam_gen.constellation6[2]\r\n  }\r\n} as const\r\n\r\nconst burst_critRate_ = greaterEq(input.asc, 1, percent(datamine.passive1.critRateInc))\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst atk_ = equal(\"on\", condA4, percent(datamine.passive2.atkInc))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst moveSPD_ = equal(\"on\", condC6, percent(datamine.constellation6.moveSpdInc))\r\nconst teamAtk_ = equal(\"on\", condC6, percent(datamine.constellation6.atkInc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('pyro') } }),\r\n    secondAimed: greaterEq(input.constellation, 1, prod(percent(datamine.constellation1.secArrowDmg), dmgNode(\"atk\", datamine.charged.aimed, \"charged\"))),\r\n    secondAimedCharged: greaterEq(input.constellation, 1, prod(dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\",\r\n      { hit: { ele: constant('pyro') } }), percent(datamine.constellation1.secArrowDmg))),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    inheritedHp: prod(subscript(input.total.skillIndex, datamine.skill.inheritedHp), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    rainDmg: dmgNode(\"atk\", datamine.burst.rainDmg, \"burst\"),\r\n    dmgPerWave: dmgNode(\"atk\", datamine.burst.dmgPerWave, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    manualDetonationDmg: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\", { premod: { skill_dmg_: percent(datamine.constellation2.manualDetionationDmg) } })),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    atk_,\r\n    burst_critRate_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      moveSPD_,\r\n      atk_: teamAtk_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        })),\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.secondAimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: trm(\"secondArrow\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.secondAimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          textSuffix: trm(\"secondArrow\")\r\n        },],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.inheritedHp, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation2.manualDetonationDmg, { key: `char_${key}:manualDetonationDmg` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: (data) => data.get(input.constellation).value >= 4 ? datamine.skill.cd - datamine.skill.cd * 0.2 : datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 4,\r\n          text: st(\"charges\"),\r\n          value: 2,\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmgPerWave, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.rainDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6CondName\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: teamAtk_\r\n            }, {\r\n              node: moveSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          text: trm(\"critRateBonus\"),\r\n          value: datamine.passive1.critRateInc * 100,\r\n          unit: \"%\"\r\n        }, {\r\n          text: trm(\"aoeRangeBonus\"),\r\n          value: datamine.passive1.aoeInc * 100,\r\n          unit: \"%\"\r\n        }, {\r\n          node: burst_critRate_\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: trm(\"a4CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atk_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Arataki_Itto_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, min, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"AratakiItto\"\r\nconst elementKey: ElementKey = \"geo\"\r\n\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0],\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3],\r\n    ]\r\n  },\r\n  charged: {\r\n    sSlash: skillParam_gen.auto[4],\r\n    akSlash: skillParam_gen.auto[5],\r\n    akFinal: skillParam_gen.auto[6],\r\n    stam: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  ss: { //Superlative Superstrength\r\n    duration: skillParam_gen.auto[11][0],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[0],\r\n    hp: skillParam_gen.skill[1],\r\n    duration: skillParam_gen.skill[2][0],\r\n    ss_cd: skillParam_gen.skill[3][0],\r\n    cd: skillParam_gen.skill[4][0],\r\n  },\r\n  burst: {\r\n    atkSpd: skillParam_gen.burst[0][0],\r\n    defConv: skillParam_gen.burst[1],\r\n    resDec: skillParam_gen.burst[2][0],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0],\r\n  },\r\n  passive1: {\r\n    maxStacks: 3,\r\n    atkSPD_: 0.10\r\n  },\r\n  passive2: {\r\n    def_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    initialStacks: skillParam_gen.constellation1[0],\r\n    timedStacks: skillParam_gen.constellation1[1]\r\n  },\r\n  constellation2: {\r\n    burstCdRed: skillParam_gen.constellation2[0],\r\n    energyRegen: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    atk_: skillParam_gen.constellation4[1],\r\n    duration: skillParam_gen.constellation4[2],\r\n  },\r\n  constellation6: {\r\n    charged_critDMG_: skillParam_gen.constellation6[0],\r\n  }\r\n}\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condP1Path, condP1] = cond(key, \"passive1\")\r\nconst [condC4Path, condC4] = cond(key, \"constellation4\")\r\n\r\nconst nodeSkillHP = prod(subscript(input.total.skillIndex, datamine.skill.hp, { key: 'hp_' }), input.total.hp)\r\nconst nodeBurstAtk = equal(condBurst, \"on\", prod(subscript(input.total.burstIndex, datamine.burst.defConv, { key: 'def_' }), input.total.def))\r\nconst nodeBurstAtkSpd = equal(condBurst, \"on\", datamine.burst.atkSpd, { key: 'atkSPD_' })\r\nconst allNodeBurstRes = Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, equal(condBurst, \"on\", -datamine.burst.resDec)]))\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, prod(percent(datamine.passive2.def_), input.premod.def))\r\nconst nodeP1AtkSpd = greaterEq(input.asc, 4, lookup(condP1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(datamine.passive1.atkSPD_ * i)])), 0, { key: 'atkSPD_' }))\r\nconst nodeC2BurstRed = prod(min(tally.geo, 3), datamine.constellation2.burstCdRed)\r\nconst nodeC2EnergyRegen = prod(min(tally.geo, 3), datamine.constellation2.energyRegen)\r\nconst nodeC4Atk = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.atk_))\r\nconst nodeC4Def = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.def_))\r\nconst nodeC6CritDMG = greaterEq(input.constellation, 6, datamine.constellation6.charged_critDMG_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    sSlash: dmgNode(\"atk\", datamine.charged.sSlash, \"charged\"),\r\n    akSlash: dmgNode(\"atk\", datamine.charged.akSlash, \"charged\", { premod: { charged_dmgInc: nodeA4Bonus } }),\r\n    akFinal: dmgNode(\"atk\", datamine.charged.akFinal, \"charged\", { premod: { charged_dmgInc: nodeA4Bonus } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    hp: nodeSkillHP\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: nodeC4Atk,\r\n      def_: nodeC4Def,\r\n    }\r\n  },\r\n  premod: {\r\n    charged_critDMG_: nodeC6CritDMG,\r\n    atk: nodeBurstAtk,\r\n    atkSPD_: sum(nodeBurstAtkSpd, nodeP1AtkSpd),\r\n    ...allNodeBurstRes\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.akSlash, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.akFinal, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.ss.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.sSlash, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.8\"),\r\n          value: datamine.charged.stam,\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        name: trm(\"a1.name\"),\r\n        value: condP1,\r\n        path: condP1Path,\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: st(\"stack_one\", { count: i }),\r\n            fields: [{\r\n              node: nodeP1AtkSpd\r\n            }]\r\n          }]\r\n        ))\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(nodeA4Bonus, { key: `char_${key}:a4:dmgInc` })\r\n        }]\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: nodeC6CritDMG\r\n        }]\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hp, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"success\" }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        name: st(\"afterUse.burst\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              node: nodeBurstAtkSpd,\r\n            },\r\n            ...Object.values(allNodeBurstRes).map(node => ({ node })),\r\n            {\r\n              node: infoMut(nodeBurstAtk, { key: `char_${key}_gen:burst.skillParams.0` })\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"c1.initialGain\"),\r\n          value: datamine.constellation1.initialStacks\r\n        }, {\r\n          text: trm(\"c1.timedGain\"),\r\n          value: datamine.constellation1.timedStacks\r\n        }],\r\n        canShow: equal(condBurst, \"on\", 1),\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          text: st(\"burstCDRed\"),\r\n          value: data => data.get(nodeC2BurstRed).value,\r\n          unit: \"s\",\r\n          fixed: 1\r\n        }, {\r\n          text: st(\"energyRegen\"),\r\n          value: data => data.get(nodeC2EnergyRegen).value,\r\n        }],\r\n        canShow: equal(condBurst, \"on\", 1)\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        name: trm(\"c4.name\"),\r\n        teamBuff: true,\r\n        value: condC4,\r\n        path: condC4Path,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC4Atk\r\n            }, {\r\n              node: nodeC4Def\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [{ fields: [{ node: nodeC6CritDMG }] }])\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Barbara_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Barbara\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ],\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    cregen_hp_: skillParam_gen.skill[s++],\r\n    cregen_hp: skillParam_gen.skill[s++],\r\n    regen_hp_: skillParam_gen.skill[s++],\r\n    regen_hp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    hp_: skillParam_gen.burst[b++],\r\n    hp: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    stam: -skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    ext: skillParam_gen.passive2[0][0],\r\n    maxExt: skillParam_gen.passive2[0][1],\r\n  },\r\n  constellation2: {\r\n    cdDec: 0.15,\r\n    hydro_dmg_: 0.15\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst nodeA1 = greaterEq(input.asc, 1, equal(condSkill, \"on\", equal(input.activeCharKey, target.charKey, datamine.passive1.stam)))\r\nconst nodeA1Display = greaterEq(input.asc, 1, equal(condSkill, \"on\", datamine.passive1.stam))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst nodeC2 = greaterEq(input.constellation, 2, equal(condC2, \"on\", equal(input.activeCharKey, target.charKey, datamine.constellation2.hydro_dmg_)))\r\nconst nodeC2Display = greaterEq(input.constellation, 2, equal(condC2, \"on\", datamine.constellation2.hydro_dmg_))\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    regen: healNodeTalent(\"hp\", datamine.skill.regen_hp_, datamine.skill.regen_hp, \"skill\"),\r\n    cregen: healNodeTalent(\"hp\", datamine.skill.cregen_hp_, datamine.skill.cregen_hp, \"skill\"),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    regen: healNodeTalent(\"hp\", datamine.burst.hp_, datamine.burst.hp, \"burst\"),\r\n  }\r\n}\r\n\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, teamBuff: {\r\n    premod: {\r\n      staminaDec_: nodeA1,\r\n      hydro_dmg_: nodeC2,\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.regen, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.cregen, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"success\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          text: tr(`skill.skillParams.3`),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(`skill.skillParams.4`),\r\n          value: data => data.get(input.constellation).value >= 2 ? `${datamine.skill.cd}s - ${datamine.constellation2.cdDec * 100}%` : `${datamine.skill.cd}s`,\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.0`, variant: \"success\" })\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"passive1.cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeA1Display, { key: \"staminaDec_\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        teamBuff: true,\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"constellation2.cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeC2Display, { key: \"hydro_dmg_\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Beidou_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Beidou\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldHp_: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    dmgBase: skillParam_gen.skill[s++],\r\n    onHitDmgBonus: skillParam_gen.skill[s++], //DMG bonus on hit taken\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    lightningDmg: skillParam_gen.burst[b++],\r\n    damageReduction: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    energyCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  //pasive 1: 2, //additional targets for lightning arc\r\n  ascension4: {\r\n    normalDmg_: skillParam_gen.passive2[0][0], //Same value for all 3\r\n    chargeDmg_: skillParam_gen.passive2[0][0],\r\n    attackSpeed: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    shieldHp_: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    electroResShred_: -1 * skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\n//Toggable stuff:\r\n// A4: Unleashing <b>Tidecaller</b> with its maximum DMG Bonus\r\n// C6: During the duration of <b>Stormbreaker</b>\r\n\r\nconst [condC6Path, condC6] = cond(key, \"Constellation6\")\r\nconst [condA4Path, condA4] = cond(key, \"Ascension4\")\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst skillDmgOneHit = datamine.skill.dmgBase.map((dmg, i) => dmg + datamine.skill.onHitDmgBonus[i])\r\nconst skillDmgTwoHits = datamine.skill.dmgBase.map((dmg, i) => dmg + 2 * datamine.skill.onHitDmgBonus[i])\r\n\r\nconst nodeBurstElectroResRed_ = equal(condC6, \"on\", percent(datamine.constellation6.electroResShred_), { key: `char_${key}:baneOfEvil_` })\r\nconst nodeSkillNormalDmg_ = equal(condA4, \"on\", percent(datamine.ascension4.normalDmg_), { key: `char_${key}:a4normalDmg_` })\r\nconst nodeSkillChargeDmg_ = equal(condA4, \"on\", percent(datamine.ascension4.chargeDmg_), { key: `char_${key}:a4chargeDmg_` })\r\nconst nodeSkillAttackSpeed_ = equal(condA4, \"on\", percent(datamine.ascension4.attackSpeed), { key: `char_${key}:a4atkSpeed_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    electroShield: shieldElement(\"electro\", shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\")),\r\n    shield: shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\"),\r\n    baseDmg: dmgNode(\"atk\", datamine.skill.dmgBase, \"skill\"),\r\n    dmgOneHit: dmgNode(\"atk\", skillDmgOneHit, \"skill\"),\r\n    dmgTwoHits: dmgNode(\"atk\", skillDmgTwoHits, \"skill\"),\r\n  },\r\n  burst: {\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    lightningDmg: dmgNode(\"atk\", datamine.burst.lightningDmg, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    electroShield: greaterEq(input.constellation, 1, shieldElement(\"electro\", shieldNode(\"hp\", percent(datamine.constellation1.shieldHp_), 0))),\r\n    shield: greaterEq(input.constellation, 1, shieldNode(\"hp\", percent(datamine.constellation1.shieldHp_), 0)),\r\n  },\r\n  constellation4: {\r\n    skillDmg: greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }, customBonus: {\r\n    normal_dmg_: nodeSkillNormalDmg_,\r\n    charged_dmg_: nodeSkillChargeDmg_,\r\n    atkSPD_: nodeSkillAttackSpeed_,\r\n  }, teamBuff: {\r\n    premod: {\r\n      electro_enemyRes_: nodeBurstElectroResRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.8\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.electroShield, { key: `char_${key}_gen:skill.skillParams.0`, \"variant\": \"electro\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.baseDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmgOneHit, { key: `char_${key}:skillOneHit` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmgTwoHits, { key: `char_${key}:skillTwoHit` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        teamBuff: false,\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: trm(\"tidecallerMaxDmg\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkillNormalDmg_,\r\n            }, {\r\n              node: nodeSkillChargeDmg_,\r\n            }, {\r\n              node: nodeSkillAttackSpeed_,\r\n            }, {\r\n              text: trm(\"a4duration\"),\r\n              value: 10,\r\n              unit: \"s\"\r\n            }, {\r\n              text: trm(\"a4charge\"),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.lightningDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(subscript(input.total.burstIndex, datamine.burst.damageReduction), { key: `char_${key}:burstDmgRed_` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.energyCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        teamBuff: true,\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"duringBurst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeBurstElectroResRed_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.electroShield, { key: `char_${key}_gen:skill.skillParams.0`, \"variant\": \"electro\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation1.shield, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.skillDmg, { key: `char_${key}:c4dmg` }),\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Bennett_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { UIData } from '../../../Formula/uiData'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Bennett\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold1_1: skillParam_gen.skill[s++],\r\n    hold1_2: skillParam_gen.skill[s++],\r\n    hold2_1: skillParam_gen.skill[s++],\r\n    hold2_2: skillParam_gen.skill[s++],\r\n    explosion: skillParam_gen.skill[s++],\r\n    cd_press: skillParam_gen.skill[s++][0],\r\n    cd_hold1: skillParam_gen.skill[s++][0],\r\n    cd_hold2: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    regen_: skillParam_gen.burst[b++],\r\n    regenFlat: skillParam_gen.burst[b++],\r\n    atkBonus: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cd_red: 0.2, // Not in the datamine for some reason\r\n  },\r\n  passive2: {\r\n    cd_red: 0.5, // Not in the datamine for some reason\r\n  },\r\n  constellation1: {\r\n    atk_inc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    hp_thresh: skillParam_gen.constellation2[0],\r\n    er_inc: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    pyro_dmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst a1SkillCd = greaterEq(input.asc, 1, datamine.passive1.cd_red)\r\n\r\nconst burstAtkRatio = subscript(input.total.burstIndex, datamine.burst.atkBonus, { key: \"_\" })\r\nconst burstAddlAtk = prod(burstAtkRatio, input.base.atk)\r\nconst c1AtkRatio = greaterEq(input.constellation, 1, datamine.constellation1.atk_inc, { key: `char_${key}:additionalATKRatio_` })\r\nconst c1AddlAtk = greaterEq(input.constellation, 1, prod(c1AtkRatio, input.base.atk))\r\nconst atkIncRatio = sum(burstAtkRatio, c1AtkRatio)\r\nconst activeInAreaAtkDisp = prod(atkIncRatio, input.base.atk)\r\n\r\nconst [condInAreaPath, condInArea] = cond(key, \"activeInArea\")\r\nconst activeInArea = equal(\"activeInArea\", condInArea, equal(input.activeCharKey, target.charKey, 1))\r\nconst activeInAreaAtk = equal(activeInArea, 1, activeInAreaAtkDisp)\r\n\r\nconst activeInAreaA4 = greaterEq(input.asc, 4,\r\n  equal(activeInArea, 1, datamine.passive2.cd_red)\r\n)\r\n\r\nconst c6AndCorrectWep = greaterEq(input.constellation, 6,\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(1), \"claymore\": constant(1), \"polearm\": constant(1) }, constant(0)))\r\nconst activeInAreaC6PyroDmg = equal(activeInArea, 1,\r\n  greaterEq(input.constellation, 6, datamine.constellation6.pyro_dmg)\r\n)\r\nconst activeInAreaC6Infusion = equalStr(c6AndCorrectWep, 1, equalStr(activeInArea, 1, elementKey))\r\n\r\nconst [condUnderHPPath, condUnderHP] = cond(key, \"underHP\")\r\nconst underHP = greaterEq(input.constellation, 2,\r\n  equal(\"underHP\", condUnderHP, datamine.constellation2.er_inc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold1_1: dmgNode(\"atk\", datamine.skill.hold1_1, \"skill\"),\r\n    hold1_2: dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"),\r\n    hold2_1: dmgNode(\"atk\", datamine.skill.hold2_1, \"skill\"),\r\n    hold2_2: dmgNode(\"atk\", datamine.skill.hold2_2, \"skill\"),\r\n    explosion: dmgNode(\"atk\", datamine.skill.explosion, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    regen: healNodeTalent(\"hp\", datamine.burst.regen_, datamine.burst.regenFlat, \"burst\"),\r\n    atkInc: activeInAreaAtk,\r\n  },\r\n  constellation4: {\r\n    dmg: greaterEq(input.constellation, 4, prod(dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"), datamine.constellation4.dmg))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_: activeInAreaC6PyroDmg,\r\n    },\r\n    total: {\r\n      // Not 100% sure if this should be in premod or total\r\n      atk: activeInAreaAtk,\r\n    },\r\n    infusion: {\r\n      team: activeInAreaC6Infusion,\r\n    },\r\n  },\r\n  premod: {\r\n    enerRech_: underHP,\r\n\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        })),\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          // Press\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}:skill.pressDMG` }),\r\n        }, {\r\n          text: sgt(\"press.cd\"),\r\n          unit: \"s\",\r\n          value: data => calculateSkillCD(data, datamine.skill.cd_press),\r\n        }, {\r\n          // Lvl 1\r\n          node: infoMut(dmgFormulas.skill.hold1_1, { key: `char_${key}:skill.lvl1_1DMG` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold1_2, { key: `char_${key}:skill.lvl1_2DMG` }),\r\n        }, {\r\n          text: trm(\"skill.lvl1CD\"),\r\n          unit: \"s\",\r\n          value: data => calculateSkillCD(data, datamine.skill.cd_hold1),\r\n        }, {\r\n          // Lvl 2\r\n          node: infoMut(dmgFormulas.skill.hold2_1, { key: `char_${key}:skill.lvl2_1DMG` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold2_2, { key: `char_${key}:skill.lvl2_2DMG` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.explosion, { key: `char_${key}:skill.explDMG` }),\r\n        }, {\r\n          text: trm(\"skill.lvl2CD\"),\r\n          unit: \"s\",\r\n          value: data => calculateSkillCD(data, datamine.skill.cd_hold2),\r\n        }]\r\n      }, ct.headerTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(a1SkillCd, { key: \"skillCDRed_\" })\r\n        }],\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" })\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condInArea,\r\n        path: condInAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          activeInArea: {\r\n            fields: [{\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: data => data.get(burstAtkRatio).value * 100,\r\n              unit: \"%\",\r\n              fixed: 1\r\n            }, {\r\n              node: infoMut(burstAddlAtk, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(activeInAreaA4, { key: \"skillCDRed_\" })\r\n        }],\r\n        canShow: equal(condInArea, \"activeInArea\", 1),\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"additionalATKRatio\"),\r\n          node: c1AtkRatio\r\n        }, {\r\n          node: infoMut(c1AddlAtk, { key: `char_${key}:additionalATK` })\r\n        }],\r\n        canShow: equal(condInArea, \"activeInArea\", 1),\r\n        teamBuff: true,\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: constant(datamine.constellation6.pyro_dmg, { key: \"pyro_dmg_\", variant: \"pyro\" })\r\n        }, {\r\n          text: trm(\"c6PyroInfusion\")\r\n        }],\r\n        canShow: equal(condInArea, \"activeInArea\", 1),\r\n        teamBuff: true,\r\n      })]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [\r\n        ct.conditionalTemplate(\"constellation2\", {\r\n          value: condUnderHP,\r\n          path: condUnderHPPath,\r\n          name: st(\"lessPercentHP\", { percent: datamine.constellation2.hp_thresh * 100 }),\r\n          states: {\r\n            underHP: {\r\n              fields: [{\r\n                node: underHP\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.dmg, { key: `char_${key}:c4DMG` })\r\n        }],\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n\r\nfunction calculateSkillCD(data: UIData, skillCD: number): string {\r\n  let cdFactor: number = 1.00;\r\n  let result: string = skillCD + \"s\"\r\n  if (data.get(input.asc).value >= 1) {\r\n    cdFactor = 0.80;\r\n  }\r\n  cdFactor *= (1 - data.get(activeInAreaA4).value);\r\n  if (cdFactor !== 1.00) {\r\n    result += \" - \" + (100 - cdFactor * 100) + \"% = \" + skillCD * cdFactor;\r\n  }\r\n  return result;\r\n}\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Chongyun_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, WeaponTypeKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Chongyun\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin_dmg: skillParam_gen.auto[4],\r\n    final_dmg: skillParam_gen.auto[5],\r\n    stamina: skillParam_gen.auto[6][0],\r\n    duration: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    infusionDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    fieldDuration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    atk_spd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    dmg: skillParam_gen.passive2[p2++][0],\r\n    res: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    cdr: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    energy_regen: skillParam_gen.constellation4[0],\r\n    cd: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    burst_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\n\r\nconst skillDmg = dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spin_dmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.final_dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg,\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, skillDmg),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(percent(datamine.constellation1.dmg), input.total.atk), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeAsc4 = greaterEq(input.asc, 4,\r\n  equal(condAsc4, \"hit\",\r\n    -0.10\r\n  )\r\n)\r\nconst activeInArea = equal(\"activeInArea\", condSkill, equal(input.activeCharKey, target.charKey, 1))\r\n\r\nconst nodeAsc1Disp = greaterEq(input.asc, 1, percent(0.08))\r\nconst nodeAsc1 = equal(activeInArea, 1, nodeAsc1Disp)\r\n\r\nconst correctWep =\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(1), \"claymore\": constant(1), \"polearm\": constant(1) }, constant(0));\r\n\r\nconst activeInAreaInfusion = equalStr(correctWep, 1, equalStr(activeInArea, 1, elementKey))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(condC6, \"on\", datamine.constellation6.burst_dmg_))\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    burst_dmg_: nodeC6,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_enemyRes_: nodeAsc4,\r\n      atkSPD_: nodeAsc1\r\n    },\r\n    infusion: {\r\n      team: activeInAreaInfusion,\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"cryo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey as WeaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.fieldDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          activeInArea: {\r\n            fields: [{\r\n              text: trm(\"infusion\"),\r\n              variant: elementKey\r\n            }, {\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: datamine.skill.infusionDuration,\r\n              unit: \"s\"\r\n            }, {\r\n              node: infoMut(nodeAsc1Disp, { key: \"atkSPD_\" })\r\n            }]\r\n          },\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          text: trm(\"blades\"),\r\n          value: data => data.get(input.constellation).value < 6 ? 3 : 4\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:passive2` }),\r\n        }]\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        teamBuff: true,\r\n        value: condAsc4,\r\n        path: condAsc4Path,\r\n        name: trm(\"asc4Cond\"),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: nodeAsc4\r\n            }]\r\n          },\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:constellation1` })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"constellation6\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC6\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Diluc_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Diluc\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0, c2i = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    firstHit: skillParam_gen.skill[s++],\r\n    secondHit: skillParam_gen.skill[s++],\r\n    thridHit: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    slashDmg: skillParam_gen.burst[b++],\r\n    dotDmg: skillParam_gen.burst[b++],\r\n    explosionDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    stamReduction: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    durationInc: skillParam_gen.passive2[p2++][0],\r\n    pyroInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    dmgInc: skillParam_gen.constellation1[0],\r\n    hpThresh_: 0.5,\r\n  },\r\n  constellation2: {\r\n    atkInc: skillParam_gen.constellation2[c2i++],\r\n    atkSpdInc: skillParam_gen.constellation2[c2i++],\r\n    duration: skillParam_gen.constellation2[c2i++],\r\n    maxStack: skillParam_gen.constellation2[c2i++],\r\n    cd: skillParam_gen.constellation2[c2i++],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    duration: skillParam_gen.constellation6[c6i++],\r\n    dmgInc: skillParam_gen.constellation6[c6i++],\r\n    atkSpdInc: skillParam_gen.constellation6[c6i++],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"Burst\")\r\nconst [condC1Path, condC1] = cond(key, \"DilucC1\")\r\nconst [condC2Path, condC2] = cond(key, \"DilucC2\")\r\nconst [condC6Path, condC6] = cond(key, \"DilucC6\")\r\n\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"pyro\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, equal(condBurst, \"on\", datamine.passive2.pyroInc))\r\n\r\nconst nodeC1Bonus = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.dmgInc))\r\nconst nodeC2AtkBonus = greaterEq(input.constellation, 2,\r\n  lookup(condC2, Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i => [i, constant(datamine.constellation2.atkInc * i)])), 0, { key: \"atk_\" }))\r\nconst nodeC2SpdBonus = greaterEq(input.constellation, 2,\r\n  lookup(condC2, Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i => [i, constant(datamine.constellation2.atkSpdInc * i)])), 0, { key: \"atkSPD_\" }))\r\nconst nodeC6DmgBonus = equal(condC6, \"on\", greaterEq(input.constellation, 6, datamine.constellation6.dmgInc))\r\nconst nodeC6SpdBonus = equal(condC6, \"on\", greaterEq(input.constellation, 6, datamine.constellation6.atkSpdInc), { key: \"atkSPD_\" })\r\n\r\nconst skillAdditional: Data = {\r\n  premod: { skill_dmg_: constant(datamine.constellation4.dmgInc) },\r\n  hit: { ele: constant(\"pyro\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    firstHit: dmgNode(\"atk\", datamine.skill.firstHit, \"skill\"),\r\n    secondHit: dmgNode(\"atk\", datamine.skill.secondHit, \"skill\"),\r\n    thirdHit: dmgNode(\"atk\", datamine.skill.thridHit, \"skill\"),\r\n  },\r\n  burst: {\r\n    slashDmg: dmgNode(\"atk\", datamine.burst.slashDmg, \"burst\"),\r\n    dotDmg: dmgNode(\"atk\", datamine.burst.dotDmg, \"burst\"),\r\n    explosionDmg: dmgNode(\"atk\", datamine.burst.explosionDmg, \"burst\"),\r\n  },\r\n  constellation4: {\r\n    secondHitBoost: greaterEq(input.constellation, 4, dmgNode(\"atk\", datamine.skill.secondHit, \"skill\", skillAdditional)),\r\n    thirdHitBoost: greaterEq(input.constellation, 4, dmgNode(\"atk\", datamine.skill.thridHit, \"skill\", skillAdditional)),\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_: nodeA4Bonus,\r\n    atk_: nodeC2AtkBonus,\r\n    atkSPD_: sum(nodeC6SpdBonus, nodeC2SpdBonus),\r\n    all_dmg_: nodeC1Bonus,\r\n    normal_dmg_: nodeC6DmgBonus,\r\n  },\r\n  infusion: {\r\n    // CAUTION: Technically, this infusion is overridable,\r\n    // but it should also be higher prio than `team` because\r\n    // it refreshes faster than auras. So we put it here instead.\r\n    nonOverridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: data => data.get(input.asc).value >= 1 ? `${datamine.charged.stamina}/s - ${datamine.passive1.stamReduction * 100}%` : `${datamine.charged.stamina}/s`,\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: data => data.get(input.asc).value >= 1 ? `${datamine.charged.duration}s + ${datamine.passive1.duration}` : datamine.charged.duration,\r\n          unit: 's'\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.firstHit, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.secondHit, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.thirdHit, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.secondHitBoost, { key: `char_${key}:skillB.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.thirdHitBoost, { key: `char_${key}:skillB.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n        }],\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: st(\"afterUse.skill\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC6DmgBonus,\r\n            }, {\r\n              node: nodeC6SpdBonus\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.slashDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dotDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.explosionDmg, { key: `char_${key}_gen:burst.skillParams.2` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        name: st(\"afterUse.burst\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.pyro\"),\r\n              variant: \"pyro\",\r\n            }, {\r\n              node: nodeA4Bonus\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: data => data.get(input.asc).value >= 4 ? `${datamine.burst.duration} + ${datamine.passive2.durationInc}` : datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: st(\"enemyGreaterPercentHP\", { percent: datamine.constellation1.hpThresh_ * 100 }),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1Bonus,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: st(\"takeDmg\"),\r\n        states: Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i =>\r\n          [i, {\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              node: nodeC2AtkBonus\r\n            }, {\r\n              node: nodeC2SpdBonus\r\n            }]\r\n          }]\r\n        ))\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Diona_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Diona\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    icyPawDmg: skillParam_gen.skill[s++],\r\n    shieldHp_: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    cdPress: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    fieldDmg: skillParam_gen.burst[b++],\r\n    healHp_: skillParam_gen.burst[b++],\r\n    healBase: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    moveSpeed_: skillParam_gen.passive1[p1++][0], //+10% move speed\r\n    stamRed_: skillParam_gen.passive1[p1++][0], //Stamina consumption reduced by 10%\r\n  },\r\n  passive2: {\r\n    atkRed_: skillParam_gen.passive1[p2++][0], //Opponents inside burst -10% attack\r\n    duration: skillParam_gen.passive1[p2++][0],\r\n  },\r\n  constellation1: {\r\n    energyRegen: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    icyPawDmg_: skillParam_gen.constellation2[0], //Icy Paws +15% dmg\r\n    icyPawShield_: skillParam_gen.constellation2[1], //Icy paws +15% shield\r\n    coopShield_: skillParam_gen.constellation2[2], //Coop shield 50% of total shield\r\n    coopShieldDuration_: skillParam_gen.constellation2[3], //Coop shield lasts for 5s\r\n  },\r\n  constellation6: {\r\n    healingBonus_: skillParam_gen.constellation6[0],\r\n    emBonus: skillParam_gen.constellation6[1],\r\n  },\r\n} as const\r\n\r\nconst [condC6Path, condC6] = cond(key, \"Constellation6\")\r\nconst [condA1Path, condA1] = cond(key, \"Ascension1\")\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst nodeC2skillDmg_ = greaterEq(input.constellation, 2, percent(datamine.constellation2.icyPawDmg_))\r\n\r\nconst holdSkillShieldStr_ = { \"customBonus\": { \"shield_\": percent(0.75) } }\r\n//C2 Shield bonus modifies everything at the very end, it's not a shield strength bonus\r\n//100% if not C2, 175% if C2 or higher\r\nconst nodeC2shieldStr_ = sum(percent(1), greaterEq(input.constellation, 2, percent(datamine.constellation2.icyPawShield_)))\r\nconst nodeSkillShieldPress = prod(nodeC2shieldStr_, shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\",))\r\nconst nodeSkillShieldHold = prod(nodeC2shieldStr_, shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\", holdSkillShieldStr_))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    pressCryoShield: shieldElement(elementKey, nodeSkillShieldPress),\r\n    pressShield: nodeSkillShieldPress,\r\n    holdCryoShield: shieldElement(elementKey, nodeSkillShieldHold),\r\n    holdShield: nodeSkillShieldHold,\r\n    skillDmg: dmgNode(\"atk\", datamine.skill.icyPawDmg, \"skill\", {}),\r\n  },\r\n  burst: {\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n    fieldDmg: dmgNode(\"atk\", datamine.burst.fieldDmg, \"burst\"),\r\n    healDot: healNodeTalent(\"hp\", datamine.burst.healHp_, datamine.burst.healBase, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeA1MoveSpeed = equal(condA1, \"on\", percent(datamine.passive1.moveSpeed_),)\r\nconst nodeA1Stamina = equal(condA1, \"on\", percent(datamine.passive1.stamRed_),)\r\n\r\nconst nodeC6healing_Disp = equal(condC6, \"lower\", percent(datamine.constellation6.healingBonus_),)\r\nconst nodeC6healing_ = equal(input.activeCharKey, target.charKey, nodeC6healing_Disp)\r\nconst nodeC6emDisp = equal(condC6, \"higher\", datamine.constellation6.emBonus,)\r\nconst nodeC6em = equal(input.activeCharKey, target.charKey, nodeC6emDisp)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, premod: {\r\n    skill_dmg_: nodeC2skillDmg_,\r\n  }, teamBuff: {\r\n    premod: {\r\n      staminaDec_: nodeA1Stamina,\r\n      moveSPD_: nodeA1MoveSpeed,\r\n      eleMas: nodeC6em,\r\n      incHeal_: nodeC6healing_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.pressCryoShield, { key: `char_${key}:pressShield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.pressShield, { key: `char_${key}:pressShield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.holdCryoShield, { key: `char_${key}:holdShield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.holdShield, { key: `char_${key}:holdShield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.skillDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: trm(\"skillDuration\"),\r\n          value: data => datamine.skill.duration[data.get(input.total.skillIndex).value],\r\n          unit: \"s\",\r\n          fixed: 1,\r\n        }, {\r\n          text: tr(`skill.skillParams.3`),\r\n          value: datamine.skill.cdPress,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(`skill.skillParams.4`),\r\n          value: datamine.skill.cdHold,\r\n          unit: \"s\",\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        teamBuff: true,\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: trm(`a1shielded`),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1MoveSpeed,\r\n            }, {\r\n              node: nodeA1Stamina,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fieldDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.healDot, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        teamBuff: true,\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          lower: {\r\n            name: st(\"lessEqPercentHP\", { percent: 50 }),\r\n            fields: [{\r\n              node: infoMut(nodeC6healing_Disp, { key: \"incHeal_\" }),\r\n            }]\r\n          },\r\n          higher: {\r\n            name: st(\"greaterPercentHP\", { percent: 50 }),\r\n            fields: [{\r\n              node: infoMut(nodeC6emDisp, { key: \"eleMas\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [{ fields: [{ node: nodeC2skillDmg_ }] }]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Eula_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Eula\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    icewhirl: skillParam_gen.skill[s++],\r\n    physResDec: skillParam_gen.skill[s++],\r\n    cryoResDec: skillParam_gen.skill[s++],\r\n    resDecDuration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0],\r\n    defBonus: skillParam_gen.skill[s++][0],\r\n    unknown: skillParam_gen.skill[s++][0], // combined cooldown?\r\n    physResDecNegative: skillParam_gen.skill[s++],\r\n    cryoResDecNegative: skillParam_gen.skill[s++],\r\n    grimheartDuration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lightfallDmg: skillParam_gen.burst[b++],\r\n    dmgPerStack: skillParam_gen.burst[b++],\r\n    maxStack: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    physInc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n} as const\r\n\r\nconst [condGrimheartPath, condGrimheart] = cond(key, \"Grimheart\")\r\nconst [condLightfallSwordPath, condLightfallSword] = cond(key, \"LightfallSword\")\r\nconst [condC4Path, condC4] = cond(key, \"LightfallSwordC4\")\r\nconst [condTidalIllusionPath, condTidalIllusion] = cond(key, \"TidalIllusion\")\r\n\r\nconst def_ = sum(equal(\"stack1\", condGrimheart, percent(datamine.skill.defBonus)), equal(\"stack2\", condGrimheart, percent(2 * datamine.skill.defBonus)))\r\nconst cryo_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.cryoResDecNegative))\r\nconst physical_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.physResDecNegative))\r\nconst physical_dmg_ = equal(\"on\", condTidalIllusion, percent(datamine.constellation1.physInc))\r\n\r\nconst lightSwordAdditional: Data = {\r\n  premod: { burst_dmg_: equal(condC4, \"on\", constant(datamine.constellation4.dmgInc)) },\r\n  hit: { ele: constant(\"physical\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    icewhirl: dmgNode(\"atk\", datamine.skill.icewhirl, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lightFallSwordNew: customDmgNode(\r\n      prod(\r\n        sum(\r\n          subscript(input.total.burstIndex, datamine.burst.lightfallDmg, { key: '_' }),\r\n          prod(\r\n            lookup(condLightfallSword, objectKeyMap(range(1, 30), i => constant(i)), constant(0)),\r\n            subscript(input.total.burstIndex, datamine.burst.dmgPerStack, { key: '_' })\r\n          ),\r\n        ),\r\n        input.total.atk\r\n      ), \"burst\", lightSwordAdditional),\r\n  },\r\n  passive1: {\r\n    shatteredLightfallSword: prod(\r\n      percent(datamine.passive1.percentage),\r\n      dmgNode(\"atk\", datamine.burst.lightfallDmg, \"burst\", lightSwordAdditional))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"cryo\", \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_,\r\n    cryo_enemyRes_,\r\n    physical_enemyRes_,\r\n    physical_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"cryo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.8\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.8\"),\r\n          value: `${datamine.skill.pressCd}`,\r\n          unit: 's'\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: `${datamine.skill.holdCd}`,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: 2,\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.icewhirl, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condGrimheart,\r\n        path: condGrimheartPath,\r\n        name: trm(\"skillC.name\"),\r\n        states: {\r\n          \"stack1\": {\r\n            name: st(\"stack\", { count: 1 }),\r\n            fields: [{\r\n              node: def_,\r\n            }, {\r\n              text: trm(\"skillC.grimheart.int\")\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.grimheartDuration,\r\n              unit: 's'\r\n            }]\r\n          },\r\n          \"stack2\": {\r\n            name: st(\"stack\", { count: 2 }),\r\n            fields: [{\r\n              node: def_,\r\n            }, {\r\n              text: trm(\"skillC.grimheart.int\")\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.grimheartDuration,\r\n              unit: 's'\r\n            }]\r\n          },\r\n          \"consumed\": {\r\n            name: trm(\"skillC.consumed\"),\r\n            fields: [{\r\n              node: cryo_enemyRes_,\r\n            }, {\r\n              node: physical_enemyRes_,\r\n            }, {\r\n              text: sgt('duration'),\r\n              value: 7,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.lightFallSwordNew, { key: `char_${key}:burstC.dmg` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 7,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condLightfallSword,\r\n        path: condLightfallSwordPath,\r\n        name: trm(\"burstC.name\"),\r\n        states: {\r\n          ...objectKeyMap(range(1, 30), i => ({\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              canShow: data => data.get(input.constellation).value >= 6,\r\n              text: trm(\"burstC.start5\"),\r\n            }, {\r\n              canShow: data => data.get(input.constellation).value >= 6,\r\n              text: trm(\"burstC.addStacks\"),\r\n            }]\r\n          })),\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4C.name\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"c4C.desc\")\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.shatteredLightfallSword, { key: `char_${key}:passive1` }),\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condTidalIllusion,\r\n        path: condTidalIllusionPath,\r\n        name: trm(\"c1C.name\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: physical_dmg_,\r\n            }, {\r\n              text: sgt('duration'),\r\n              value: trm('c1C.durationStack')\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Fischl_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, lessThan, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Fischl\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    ozDmg: skillParam_gen.skill[s++],\r\n    summonDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmg: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    dmg: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0]\r\n  },\r\n  constellation2: {\r\n    dmg: skillParam_gen.constellation2[0]\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n    regen: skillParam_gen.constellation4[1]\r\n  },\r\n  constellation6: {\r\n    dmg: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('electro') } }),\r\n    aimedChargedOz: greaterEq(input.asc, 1, prod(percent(datamine.passive1.dmg), dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('electro') } })))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    ozDmg: dmgNode(\"atk\", datamine.skill.ozDmg, \"skill\"),\r\n    summonDmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.summonDmg, \"skill\")),\r\n    summonDmgC2: greaterEq(input.constellation, 2, customDmgNode(prod(sum(subscript(input.total.skillIndex,\r\n      datamine.skill.summonDmg, { key: \"_\" }), percent(datamine.constellation2.dmg)), input.total.atk), \"skill\",\r\n      { hit: { ele: constant('electro') } })),\r\n    ozActiveCharDmg: greaterEq(input.constellation, 6, customDmgNode(prod(input.total.atk, percent(datamine.constellation6.dmg)), \"skill\", { hit: { ele: constant('electro') } }))\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    additionalDmg: greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.dmg)), \"burst\", { hit: { ele: constant('electro') } })),\r\n    regen: greaterEq(input.constellation, 4, customHealNode(prod(input.total.hp, percent(datamine.constellation4.regen))))\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, customDmgNode(prod(input.total.atk, percent(datamine.passive2.dmg)), \"skill\", { hit: { ele: constant('electro') } }))\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.atk, percent(datamine.constellation1.dmg)), \"elemental\", { hit: { ele: constant('physical') } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.asc).value >= 1,\r\n          node: infoMut(dmgFormulas.charged.aimedChargedOz, { key: `char_${key}:a1Name` }),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.ozDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value < 2,\r\n          node: infoMut(dmgFormulas.skill.summonDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 2,\r\n          node: infoMut(dmgFormulas.skill.summonDmgC2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 6,\r\n          node: infoMut(dmgFormulas.skill.ozActiveCharDmg, { key: `char_${key}:c6OzDmg` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: (data) => data.get(input.constellation).value >= 6 ? datamine.skill.duration + datamine.constellation6.duration : datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 2,\r\n          text: trm(\"c2AoeIncrease\"),\r\n          value: 50,\r\n          unit: \"%\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 4,\r\n          node: infoMut(dmgFormulas.burst.additionalDmg, { key: `char_${key}:c4AoeDmg` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 4,\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:a2Name` })\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:c1Name` })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Ganyu_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Ganyu\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst region: Region = \"liyue\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n    frostflake: skillParam_gen.auto[a++],\r\n    frostflakeBloom: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    inheritedHp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    cryoDmgBonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    opCryoRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n    enerRegen: skillParam_gen.constellation1[2],\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"A1\")\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst [condC1Path, condC1] = cond(key, \"C1\")\r\nconst [condC4Path, condC4] = cond(key, \"C4\")\r\nconst cryo_enemyRes_ = greaterEq(input.constellation, 1, equal(\"on\", condC1, percent(datamine.constellation1.opCryoRes)))\r\nconst cryo_dmg_disp = greaterEq(input.asc, 4, equal(\"on\", condA4, percent(datamine.passive2.cryoDmgBonus)))\r\nconst cryo_dmg_ = equal(input.activeCharKey, target.charKey, cryo_dmg_disp)\r\nconst all_dmg_ = greaterEq(input.constellation, 4,\r\n  lookup(condC4, Object.fromEntries(range(1, 5).map(i => [i, percent(0.05 * i)])), naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n    frostflake: dmgNode(\"atk\", datamine.charged.frostflake, \"charged\",\r\n      { premod: { critRate_: greaterEq(input.asc, 1, equal(condA1, \"on\", percent(datamine.passive1.critRateInc))) }, hit: { ele: constant('cryo') } }),\r\n    frostflakeBloom: dmgNode(\"atk\", datamine.charged.frostflakeBloom, \"charged\",\r\n      { premod: { critRate_: greaterEq(input.asc, 1, equal(condA1, \"on\", percent(datamine.passive1.critRateInc))) }, hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    inheritedHp: prod(subscript(input.total.skillIndex, datamine.skill.inheritedHp), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmg_,\r\n      all_dmg_,\r\n      cryo_enemyRes_,\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.frostflake, { key: `char_${key}_gen:auto.skillParams.8` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.frostflakeBloom, { key: `char_${key}_gen:auto.skillParams.9` }),\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: trm(\"a1.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"a1.critRateInc\"),\r\n              value: datamine.passive1.critRateInc * 100,\r\n              unit: \"%\"\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: `${datamine.passive1.duration}s`,\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"c1.condName\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: cryo_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: `${datamine.constellation1.duration}s`,\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.inheritedHp, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.duration}s`,\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}s`,\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 2,\r\n          text: st(\"charges\"),\r\n          value: 2,\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: `${datamine.burst.duration}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: `${datamine.burst.cd}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(cryo_dmg_disp, { key: \"cryo_dmg_\", variant: \"cryo\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        name: st(\"opponentsField\"),\r\n        states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n          name: st(\"seconds\", { count: (i - 1) * 3 }),\r\n          fields: [{ node: all_dmg_ }, { text: trm(\"c4.lingerDuration\"), value: 3, unit: \"s\" }]\r\n        }]))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Gorou_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Gorou\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++], // Aimed\r\n    fully: skillParam_gen.auto[a++], // Fully-charged\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    defInc: skillParam_gen.skill[s++],\r\n    geo_dmg_: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg_def: skillParam_gen.burst[b++],\r\n    crystalDmg_def: skillParam_gen.burst[b++],\r\n    crystalHits: 6,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    def_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n  },\r\n  passive2: {\r\n    skill_dmgInc: skillParam_gen.passive2[0][0],\r\n    burst_dmgInc: skillParam_gen.passive2[1][0],\r\n  },\r\n  constellation4: {\r\n    heal_def_: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    geo_critDMG_: [\r\n      skillParam_gen.constellation6[0],\r\n      skillParam_gen.constellation6[1],\r\n      skillParam_gen.constellation6[2],\r\n      skillParam_gen.constellation6[2],\r\n    ] as number[],\r\n    duration: skillParam_gen.constellation6[3]\r\n  }\r\n} as const\r\n\r\nconst [condInFieldPath, condInField] = cond(key, \"inField\")\r\nconst skill1_defDisp = equal(condInField, \"inField\",\r\n  greaterEq(tally[\"geo\"], 1,\r\n    subscript(input.total.skillIndex, datamine.skill.defInc)\r\n  )\r\n)\r\nconst skill1_def = equal(input.activeCharKey, target.charKey, skill1_defDisp)\r\nconst skill3_geo_dmg_Disp = equal(condInField, \"inField\",\r\n  greaterEq(tally[\"geo\"], 3, datamine.skill.geo_dmg_)\r\n)\r\nconst skill3_geo_dmg_ = equal(input.activeCharKey, target.charKey, skill3_geo_dmg_Disp)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst_def_ = greaterEq(input.asc, 1, equal(condAfterBurst, \"afterBurst\", datamine.passive1.def_))\r\n\r\nconst p2_skill_dmgInc = greaterEq(input.asc, 4, prod(input.total.def, datamine.passive2.skill_dmgInc))\r\nconst p2_burst_dmgInc = greaterEq(input.asc, 4, prod(input.total.def, datamine.passive2.burst_dmgInc))\r\n\r\nconst [condAfterSkillBurstPath, condAfterSkillBurst] = cond(key, \"afterSkillBurst\")\r\nconst c6_geo_critDMG_ = greaterEq(input.constellation, 6,\r\n  equal(condAfterSkillBurst, \"afterSkillBurst\",\r\n    subscript(sum(tally[\"geo\"], -1), datamine.constellation6.geo_critDMG_)\r\n  )\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fully: dmgNode(\"atk\", datamine.charged.fully, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"def\", datamine.burst.dmg_def, \"burst\"),\r\n    crystalCollapse: dmgNode(\"def\", datamine.burst.crystalDmg_def, \"burst\")\r\n  },\r\n  constellation4: {\r\n    heal: greaterEq(input.constellation, 4, greaterEq(tally[\"geo\"], 2, healNode(\"def\", datamine.constellation4.heal_def_, 0)))\r\n  }\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: burstC5,\r\n    skill: skillC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      def: skill1_def,\r\n      geo_dmg_: skill3_geo_dmg_,\r\n      def_: afterBurst_def_,\r\n      geo_critDMG_: c6_geo_critDMG_,\r\n    }\r\n  },\r\n  premod: {\r\n    skill_dmgInc: p2_skill_dmgInc,\r\n    burst_dmgInc: p2_burst_dmgInc,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.fully, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }],\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condInField,\r\n        path: condInFieldPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          inField: {\r\n            fields: [{\r\n              node: infoMut(skill1_defDisp, { key: \"def\" }),\r\n            }, {\r\n              canShow: data => data.get(tally[\"geo\"]).value >= 2,\r\n              text: st(\"incInterRes\")\r\n            }, {\r\n              node: infoMut(skill3_geo_dmg_Disp, { key: \"geo_dmg_\", variant: \"geo\" }),\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: p2_skill_dmgInc\r\n        }]\r\n      }), ct.headerTemplate(\"constellation4\", {\r\n        teamBuff: true,\r\n        canShow: greaterEq(tally.geo, 2, 1),\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.heal, { key: \"sheet_gen:healing\", variant: \"success\" }),\r\n        }]\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.crystalCollapse, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: st(\"brHits\", { count: datamine.burst.crystalHits })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterBurst: {\r\n            fields: [{\r\n              node: afterBurst_def_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: p2_burst_dmgInc\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condAfterSkillBurst,\r\n        path: condAfterSkillBurstPath,\r\n        name: st(\"afterUse.skillOrBurst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterSkillBurst: {\r\n            fields: [{\r\n              node: c6_geo_critDMG_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })])\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Hu_Tao_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lessThan, min, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"HuTao\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    activationCost: skillParam_gen.skill[s++][0],\r\n    atkInc: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    bloodBlossomDuration: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxAtkInc: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lowHpDmg: skillParam_gen.burst[b++],\r\n    regen: skillParam_gen.burst[b++],\r\n    lowHpRegen: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    minHp: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    minHp: skillParam_gen.passive2[p2++][0],\r\n    pyroDmgInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    bloodBlossomDmgInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    critRateInc: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    minHp: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n    elePhysResInc: skillParam_gen.constellation6[2],\r\n    critRateInc: skillParam_gen.constellation6[3],\r\n  },\r\n} as const\r\n\r\nconst [condAfterlifePath, condAfterlife] = cond(key, \"GuideToAfterlifeVoyage\")\r\nconst atk = equal(\"on\", condAfterlife, min(\r\n  prod(subscript(input.total.skillIndex, datamine.skill.atkInc), input.premod.hp),\r\n  prod(percent(datamine.skill.maxAtkInc), input.base.atk)))\r\nconst infusion = equalStr(\"on\", condAfterlife, elementKey)\r\n\r\nconst [condA1Path, condA1] = cond(key, \"FlutterBy\")\r\nconst critRateTeam_1 = equal(\"on\", condA1, unequal(input.activeCharKey, input.charKey, percent(datamine.passive1.critRateInc), { key: \"critRate_\" }))\r\nconst [condA2Path, condA2] = cond(key, \"SanguineRouge\")\r\nconst pyro_dmg_ = equal(\"on\", condA2, percent(datamine.passive2.pyroDmgInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"GardenOfEternalRest\")\r\nconst critRateTeam_2 = equal(\"on\", condC4, unequal(input.activeCharKey, input.charKey, percent(datamine.constellation4.critRateInc), { key: \"critRate_\" }))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"ButterflysEmbrace\")\r\nconst critRate_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.critRateInc)))\r\nconst ele_res_s = Object.fromEntries(allElementsWithPhy.map(ele => [ele, equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.elePhysResInc)))]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n    dmgC2: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\", { hit: { dmgInc: prod(input.total.hp, datamine.constellation2.bloodBlossomDmgInc) } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lowHpDmg: dmgNode(\"atk\", datamine.burst.lowHpDmg, \"burst\"),\r\n    regen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.regen, { key: \"_\" }))),\r\n    lowHpRegen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.lowHpRegen, { key: \"_\" }))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_,\r\n    ...Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, ele_res_s[ele]])),\r\n    critRate_\r\n  },\r\n  total: {\r\n    atk\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: sum(critRateTeam_1, critRateTeam_2)\r\n    }\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: infusion\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n          textSuffix: i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmgC2, { key: `char_${key}:constellation2.skillParams.2` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.bloodBlossomDuration,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condAfterlife,\r\n        path: condAfterlifePath,\r\n        name: trm(\"paramita.enter\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.0\"),\r\n              value: datamine.skill.activationCost * 100, // Convert to percentage\r\n              unit: '% Current HP'\r\n            }, {\r\n              node: atk,\r\n            }, {\r\n              text: <ColorText color=\"pyro\">Pyro Infusion</ColorText>\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }, {\r\n              text: tr(\"skill.skillParams.5\"),\r\n              value: datamine.skill.cd,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.lowHpDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.lowHpRegen, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" })\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value > 1,\r\n          text: trm(\"constellation2.applyBloodBlossom\"),\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n        name: trm(\"paramita.end\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_1,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condA2,\r\n        path: condA2Path,\r\n        name: st(\"lessEqPercentHP\", { percent: datamine.passive2.minHp * 100 }),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n        name: trm(\"constellation4.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_2,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"constellation6.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [...allElementsWithPhy.map(ele => ({ node: ele_res_s[ele] })), {\r\n              node: critRate_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: 60,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Jean_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Jean\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    stamina: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    enterExitDmg: skillParam_gen.burst[b++],\r\n    burstActivationAtkModifier: skillParam_gen.burst[b++],\r\n    burstActionFlatModifier: skillParam_gen.burst[b++],\r\n    burstRegenAtkModifier: skillParam_gen.burst[b++],\r\n    burstRegenFlatModifier: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    chance: skillParam_gen.passive1[p1++][0],\r\n    atkPercentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    energyRegen: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    increaseDmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    moveSpd: skillParam_gen.constellation2[0],\r\n    atkSpd: skillParam_gen.constellation2[1],\r\n    duration: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation4: {\r\n    anemoRes: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    dmgReduction: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst regen = healNodeTalent(\"atk\", datamine.burst.burstActivationAtkModifier, datamine.burst.burstActionFlatModifier, \"burst\")\r\nconst contRegen = healNodeTalent(\"atk\", datamine.burst.burstRegenAtkModifier, datamine.burst.burstRegenFlatModifier, \"burst\")\r\nconst a1Regen = greaterEq(input.asc, 1, customHealNode(prod(percent(datamine.passive1.atkPercentage), input.total.atk)))\r\n\r\nconst [condC1Path, condC1] = cond(key, \"c1\")\r\nconst skill_dmg_ = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.increaseDmg))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst atkSPD_ = equal(condC2, \"on\", greaterEq(input.constellation, 2, percent(datamine.constellation2.atkSpd)))\r\nconst moveSPD_ = equal(condC2, \"on\", greaterEq(input.constellation, 2, percent(datamine.constellation2.moveSpd)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst anemo_enemyRes_ = equal(condC4, \"on\", greaterEq(input.constellation, 4, percent(-Math.abs(datamine.constellation4.anemoRes))))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst dmgRed_disp = equal(condC6, \"on\", greaterEq(input.constellation, 6, percent(datamine.constellation6.dmgReduction)))\r\nconst dmgRed_ = equal(input.activeCharKey, target.charKey, dmgRed_disp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    enterExitDmg: dmgNode(\"atk\", datamine.burst.enterExitDmg, \"burst\"),\r\n    regen,\r\n    contRegen\r\n  },\r\n  passive1: {\r\n    a1Regen\r\n  },\r\n  constellation2: {\r\n    atkSPD_,\r\n    moveSPD_\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    skill_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atkSPD_,\r\n      moveSPD_,\r\n      anemo_enemyRes_,\r\n      dmgRed_\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: `${datamine.skill.stamina}`,\r\n          unit: \"/s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.duration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }],\r\n      }, ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"c1CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"c1PullSpeed\")\r\n            }, {\r\n              node: skill_dmg_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.enterExitDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.contRegen, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 11,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        name: st(\"opponentsField\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: anemo_enemyRes_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgRed_disp, { key: \"dmgRed_\" })\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.a1Regen, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          text: st(\"energyRegen\"),\r\n          value: datamine.passive2.energyRegen\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atkSPD_\r\n            }, {\r\n              node: moveSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kazuha_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, percent, prod, unequal } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, condReadNode, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KaedeharaKazuha\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5x3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    hold: skillParam_gen.skill[s++],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    add: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    asorbAdd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    elemas_dmg_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    elemas: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst condSwirlPaths = Object.fromEntries(absorbableEle.map(e => [e, [key, `swirl${e}`]]))\r\nconst condSwirls = Object.fromEntries(absorbableEle.map(e => [e, condReadNode(condSwirlPaths[e])]))\r\nconst asc4 = Object.fromEntries(absorbableEle.map(ele =>\r\n  [`${ele}_dmg_`, greaterEq(input.asc, 4,\r\n    equal(ele, condSwirls[ele],\r\n      // Use premod since this is a percentage-based effect\r\n      prod(percent(datamine.passive2.elemas_dmg_, { fixed: 2 }), input.premod.eleMas)\r\n    ))]))\r\n\r\n// 2 C2 conds for the 2 parts of his C2\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2EleMas = greaterEq(input.constellation, 2,\r\n  equal(\"c2\", condC2, datamine.constellation2.elemas))\r\n\r\nconst [condC2PPath, condC2P] = cond(key, \"c2p\")\r\nconst c2PEleMasDisp = greaterEq(input.constellation, 2,\r\n  equal(\"c2p\", condC2P, datamine.constellation2.elemas)\r\n)\r\nconst c2PEleMas = equal(input.activeCharKey, target.charKey, // Apply to active character\r\n  unequal(target.charKey, key, c2PEleMasDisp) // But not to Kazuha\r\n)\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6infusion = greaterEqStr(input.constellation, 6,\r\n  equalStr(\"c6\", condC6, \"anemo\"))\r\nconst c6Dmg_ = greaterEq(input.constellation, 6,\r\n  // Not sure if this should be premod or total. I am guessing premod\r\n  equal(\"c6\", condC6, prod(percent(datamine.constellation6.auto_), input.premod.eleMas))\r\n)\r\n// Share `match` and `prod` between the three nodes\r\nconst c6NormDmg_ = { ...c6Dmg_ }\r\nconst c6ChargedDmg_ = { ...c6Dmg_ }\r\nconst c6PlungingDmg_ = { ...c6Dmg_ }\r\n\r\nconst passive = percent(0.2)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    pdmg: dmgNode(\"atk\", datamine.plunging.dmg, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    plow: dmgNode(\"atk\", datamine.plunging.low, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    phigh: dmgNode(\"atk\", datamine.plunging.high, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condBurstAbsorption, key, dmgNode(\"atk\", datamine.burst.add, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n  passive1: Object.fromEntries(absorbableEle.map(key =>\r\n    [key, equal(condSkillAbsorption, key, customDmgNode(prod(input.total.atk, datamine.passive1.asorbAdd), \"plunging\", { hit: { ele: constant(key) } }))])),\r\n  passive2: asc4,\r\n  constellation6: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      staminaSprintDec_: passive,\r\n      eleMas: c2PEleMas,\r\n    },\r\n    total: {\r\n      // Should be in total, since other character abilities should not scale off this\r\n      // if those abilities are percentage-based (e.g. XQ skill dmg red.)\r\n      ...asc4,\r\n    }\r\n  },\r\n  infusion: {\r\n    overridableSelf: c6infusion,\r\n  },\r\n  total: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  },\r\n  premod: {\r\n    eleMas: c2EleMas,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 3 ? 0 : -1)}` }),\r\n          textSuffix: i === 2 ? \"(1)\" : i === 3 ? \"(2)\" : i === 5 ? st(\"brHits\", { count: 3 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: data => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.cd} - 10% = ${datamine.skill.cd * (1 - 0.10)}`\r\n            : `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: data => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.cdHold} - 10% = ${datamine.skill.cdHold * (1 - 0.10)}`\r\n            : `${datamine.skill.cdHold}`,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.headerTemplate(\"skill\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.pdmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.plow, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.phigh, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(greaterEq(input.constellation, 1, percent(0.1)), { key: \"skillCDRed_\" })\r\n        }, {\r\n          text: trm(\"c1\"),\r\n        }]\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", { // Burst absorption\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.2` }),\r\n          }]\r\n        }]))\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2\"),\r\n        states: {\r\n          c2: {\r\n            fields: [{\r\n              node: c2EleMas\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation2\", { // C2 Party\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        value: condC2P,\r\n        path: condC2PPath,\r\n        teamBuff: true,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          c2p: {\r\n            fields: [{\r\n              node: infoMut(c2PEleMasDisp, { key: \"eleMas\" })\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        // Skill Absorption\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.passive1[eleKey], { key: `sheet_gen:addEleDMG` }),\r\n          }]\r\n        }]))\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", { // Poetics of Fuubutsu\r\n        teamBuff: true,\r\n        states: Object.fromEntries(absorbableEle.map(ele => [ele, {\r\n          value: condSwirls[ele],\r\n          path: condSwirlPaths[ele],\r\n          name: st(`swirlReaction.${ele}`),\r\n          fields: [{\r\n            node: asc4[`${ele}_dmg_`]\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.passive2.duration,\r\n            unit: \"s\"\r\n          }]\r\n        }]))\r\n        }),\r\n      ]),\r\n      passive3: ct.talentTemplate(\"passive3\", [ct.headerTemplate(\"passive3\", {\r\n        teamBuff: true,\r\n        fields: [{\r\n          node: passive\r\n        }]\r\n      })]),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        // Crimson Momiji\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6.after\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              canShow: data => data.get(c6infusion).value === elementKey,\r\n              text: <ColorText color={elementKey}>{st(\"infusion.anemo\")}</ColorText>\r\n            }, {\r\n              node: c6NormDmg_\r\n            }, {\r\n              node: c6ChargedDmg_\r\n            }, {\r\n              node: c6PlungingDmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })])\r\n    },\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kaeya_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNode, shieldElement, shieldNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Kaeya\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    healAtk_: .15,\r\n  },\r\n  constellation1: {\r\n    critRate_: .15,\r\n  },\r\n  constellation4: {\r\n    shieldHp_: 0.30,\r\n    duration: 20,\r\n    cooldown: 60,\r\n  },\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    heal: healNode(\"atk\", percent(datamine.passive2.healAtk_), 0),\r\n  },\r\n  constellation4: {\r\n    cryoShield: shieldElement(\"cryo\", shieldNode(\"hp\", percent(datamine.constellation4.shieldHp_), 0)),\r\n    shield: shieldNode(\"hp\", percent(datamine.constellation4.shieldHp_), 0),\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\n//Conditional C1: Oppo affected by Cryo\r\nconst [condC1Path, condC1Cryo] = cond(key, \"CryoC1\")\r\nconst nodeC1NormalCritRate = equal(condC1Cryo, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.critRate_))\r\nconst nodeC1ChargeCritRate = equal(condC1Cryo, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.critRate_))\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }, premod: {\r\n    normal_critRate_: nodeC1NormalCritRate,\r\n    charged_critRate_: nodeC1ChargeCritRate,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 2,\r\n          text: trm(\"c2burstDuration\"),\r\n        }],\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.headerTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.heal, { key: `char_${key}:p1heal`, variant: \"success\" }),\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1Cryo,\r\n        path: condC1Path,\r\n        name: trm(\"c1cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1NormalCritRate\r\n            }, {\r\n              node: nodeC1ChargeCritRate\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.cryoShield, { key: `char_${key}:c4shield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.shield, { key: `char_${key}:c4shield` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.constellation4.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.constellation4.cooldown,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kamisato_Ayaka_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\nimport sprint from './sprint.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3, sprint\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KamisatoAyaka\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x3\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1x3\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    cutDmg: skillParam_gen.burst[b++],\r\n    bloomDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n    duration: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    dmg_bonus: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    stamina: skillParam_gen.passive2[p2++][0],\r\n    cryo: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    snowflake: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_red: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    cd: skillParam_gen.constellation6[0],\r\n    charged_bonus: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condAfterSprintPath, condAfterSprint] = cond(key, \"afterSprint\")\r\nconst afterSprintInfusion = equalStr(\"afterSprint\", condAfterSprint, elementKey)\r\n\r\nconst [condAfterSkillA1Path, condAfterSkillA1] = cond(key, \"afterSkillA1\")\r\nconst a1NormDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus))\r\nconst a1ChargedDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus), { key: \"charged_dmg_\" })\r\n\r\nconst [condAfterApplySprintPath, condAfterApplySprint] = cond(key, \"afterApplySprint\")\r\nconst afterApplySprintCryo = equal(\"afterApplySprint\", condAfterApplySprint, percent(datamine.passive2.cryo))\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condAfterBurst, datamine.constellation4.def_red))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst c6ChargedDmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, datamine.constellation6.charged_bonus), { key: `charged_dmg_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    cutting: dmgNode(\"atk\", datamine.burst.cutDmg, \"burst\"),\r\n    bloom: dmgNode(\"atk\", datamine.burst.bloomDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, customDmgNode(prod(\r\n      subscript(input.total.burstIndex, datamine.burst.cutDmg, { key: \"_\" }),\r\n      percent(datamine.constellation2.snowflake),\r\n      input.total.atk,\r\n    ), \"burst\", { hit: { ele: constant(elementKey) } })),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: afterBurst\r\n    }\r\n  },\r\n  infusion: {\r\n    overridableSelf: afterSprintInfusion,\r\n  },\r\n  premod: {\r\n    normal_dmg_: a1NormDmg_,\r\n    charged_dmg_: sum(a1ChargedDmg_, c6ChargedDmg_),\r\n    cryo_dmg_: afterApplySprintCryo,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 3 ? st(\"brHits\", { count: 3 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: st(\"brHits\", { count: 3 })\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condAfterSkillA1,\r\n        path: condAfterSkillA1Path,\r\n        name: trm(\"afterSkill\"),\r\n        states: {\r\n          afterSkill: {\r\n            fields: [{\r\n              node: a1NormDmg_,\r\n            }, {\r\n              node: a1ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.cutting, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.bloom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation4\", {\r\n        teamBuff: true,\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: trm(\"dmgBySnowflake\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: afterBurst\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: \"6s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      sprint: ct.talentTemplate(\"sprint\", [{\r\n        fields: [{\r\n          text: st(\"activationStam\"),\r\n          value: datamine.sprint.active_stam,\r\n        }, {\r\n          text: st(\"stamDrain\"),\r\n          value: datamine.sprint.drain_stam,\r\n          unit: \"/s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"sprint\", {\r\n        value: condAfterSprint,\r\n        path: condAfterSprintPath,\r\n        name: trm(\"afterSprint\"),\r\n        states: {\r\n          afterSprint: {\r\n            fields: [{\r\n              canShow: data => data.get(afterSprintInfusion).value === elementKey,\r\n              text: <ColorText color=\"cryo\">{st(\"infusion.cryo\")}</ColorText>\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.sprint.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condAfterApplySprint,\r\n        path: condAfterApplySprintPath,\r\n        name: trm(\"afterSprintCryo\"),\r\n        states: {\r\n          afterApplySprint: {\r\n            fields: [{\r\n              text: trm(\"staminaRestore\"),\r\n              value: datamine.passive2.stamina,\r\n            }, {\r\n              node: afterApplySprintCryo\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:snowflakeDMG` }),\r\n        }]\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6Active\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.constellation6.cd,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      })])\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kamisato_Ayato_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KamisatoAyato\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmgArr: [\r\n      skillParam_gen.skill[s++],\r\n      skillParam_gen.skill[s++],\r\n      skillParam_gen.skill[s++],\r\n    ],\r\n    stateDuration: skillParam_gen.skill[s++][0],\r\n    stackHpDmgInc: skillParam_gen.skill[s++],\r\n    maxStacks: 4,\r\n    illusionDmg: skillParam_gen.skill[s++],\r\n    illusionDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    normal_dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    stacksGained: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    enerThres_: skillParam_gen.passive2[0][0],\r\n    cd: skillParam_gen.passive2[1][0],\r\n    energyRestore: skillParam_gen.passive2[2][0]\r\n  },\r\n  constellation1: {\r\n    oppHpThres_: skillParam_gen.constellation1[0],\r\n    shunDmg_: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    extraStacks: skillParam_gen.constellation2[0],\r\n    stackThresh: 3,\r\n    hp_: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    atkSPD: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    extraStrikes: 2,\r\n    dmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condInSkillPath, condInSkill] = cond(key, \"inSkill\")\r\n\r\nconst [condSkillStacksPath, condSkillStacks] = cond(key, \"skillStacks\")\r\nconst skillStacks_dmgInc = equal(condInSkill, \"on\",\r\n  lookup(condSkillStacks, Object.fromEntries(range(1, 5).map(stacks => [\r\n    stacks,\r\n    prod(\r\n      stacks,\r\n      subscript(input.total.skillIndex, datamine.skill.stackHpDmgInc, { key: \"_\" }),\r\n      input.total.hp,\r\n    )\r\n  ])), naught)\r\n)\r\n\r\nconst [condBurstInAreaPath, condBurstInArea] = cond(key, \"burstInArea\")\r\nconst burst_normal_dmg_Disp = equal(condBurstInArea, \"on\",\r\n  subscript(input.total.burstIndex, datamine.burst.normal_dmg_)\r\n)\r\nconst burst_normal_dmg_ = equal(input.activeCharKey, target.charKey, burst_normal_dmg_Disp)\r\n\r\nconst [condC1OppHpPath, condC1OppHp] = cond(key, \"c1OppHp\")\r\nconst c1Shun_dmg_ = greaterEq(input.constellation, 1, equal(condC1OppHp, \"on\", datamine.constellation1.shunDmg_))\r\n\r\n// Not sure what \"Max HP increased by 50%\" means\r\nconst c2_hp_ = greaterEq(input.constellation, 2, equal(condInSkill, \"on\",\r\n  lookup(condSkillStacks, Object.fromEntries(range(datamine.constellation2.stackThresh, 5).map(stacks => [\r\n    stacks,\r\n    percent(datamine.constellation2.hp_)\r\n  ])), naught)\r\n))\r\n\r\nconst [condC4AfterBurstPath, condC4AfterBurst] = cond(key, \"c4AfterBurst\")\r\nconst c4_atkSPD_ = greaterEq(input.constellation, 4, equal(condC4AfterBurst, \"on\", datamine.constellation4.atkSPD))\r\n\r\nconst shunAddl: Data = {\r\n  hit: {\r\n    ele: constant(elementKey)\r\n  },\r\n  premod: {\r\n    normal_dmgInc: skillStacks_dmgInc,\r\n    normal_dmg_: c1Shun_dmg_\r\n  }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    ...Object.fromEntries(datamine.skill.dmgArr.map((arr, i) =>\r\n      [`dmg${i}`, equal(condInSkill, \"on\", customDmgNode(prod(\r\n        subscript(input.total.skillIndex, arr, { key: \"_\" }),\r\n        input.total.atk,\r\n      ), \"normal\", shunAddl))])),\r\n    illusionDmg: dmgNode(\"atk\", datamine.skill.illusionDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  constellation6: {\r\n    // Not sure if this benefits from C1 or not\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(prod(percent(datamine.constellation6.dmg), input.total.atk), \"normal\", { hit: { ele: constant(elementKey) }, premod: { normal_dmg_: c1Shun_dmg_ } }))\r\n  }\r\n}\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmg_: burst_normal_dmg_,\r\n      atkSPD_: c4_atkSPD_,\r\n    }\r\n  },\r\n  premod: {\r\n    hp_: c2_hp_,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields:\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.illusionDmg, { key: `char_${key}_gen:skill.skillParams.5` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.6\"),\r\n          value: datamine.skill.illusionDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condInSkill,\r\n        path: condInSkillPath,\r\n        name: st(\"afterUse.skill\"),\r\n        states: {\r\n          on: {\r\n            fields: [\r\n              ...datamine.skill.dmgArr.map((_, i) => ({\r\n                node: infoMut(dmgFormulas.skill[`dmg${i}`], { key: `char_${key}_gen:skill.skillParams.${i}` })\r\n              })), {\r\n                text: st(\"incInterRes\"),\r\n              }, {\r\n                text: trm(\"skill.unableToAuto\"),\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.skill.stateDuration,\r\n                unit: \"s\"\r\n              }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillStacks,\r\n        path: condSkillStacksPath,\r\n        name: trm(\"skill.namisenStacks\"),\r\n        canShow: equal(condInSkill, \"on\", 1),\r\n        states: Object.fromEntries(range(1, 5).map(stacks => [\r\n          stacks, {\r\n            name: st(\"stack\", { count: stacks }),\r\n            fields: [{\r\n              node: infoMut(skillStacks_dmgInc, { key: `char_${key}:skill.shun_dmgInc` })\r\n            }, {\r\n              text: st(\"maxStacks\"),\r\n              value: data => data.get(input.constellation).value >= 2\r\n                ? datamine.skill.maxStacks + datamine.constellation2.extraStacks\r\n                : datamine.skill.maxStacks\r\n            }]\r\n          }\r\n        ]))\r\n      }), ct.headerTemplate(\"passive1\", {\r\n        canShow: equal(condInSkill, \"on\", 1),\r\n        fields: [{\r\n          text: trm(\"passive1.afterUse\"),\r\n          value: datamine.passive1.stacksGained,\r\n        }, {\r\n          text: trm(\"passive1.afterExplode\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? datamine.skill.maxStacks + datamine.constellation2.extraStacks\r\n            : datamine.skill.maxStacks\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1OppHp,\r\n        path: condC1OppHpPath,\r\n        name: st(\"enemyLessEqPercentHP\", { percent: datamine.constellation1.oppHpThres_ * 100 }),\r\n        canShow: equal(condInSkill, \"on\", 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c1Shun_dmg_, { key: `char_${key}:c1.shun_dmg_` }),\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          text: trm(\"c2.addlStacks\"),\r\n          value: datamine.constellation2.extraStacks,\r\n        }, {\r\n          canShow: data => data.get(c2_hp_).value !== 0,\r\n          node: c2_hp_,\r\n        }]\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        canShow: equal(condInSkill, \"on\", 1),\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation6.dmg, { key: `char_${key}:c6.dmg` }),\r\n          textSuffix: st(\"brHits\", { count: datamine.constellation6.extraStrikes })\r\n        }]\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurstInArea,\r\n        path: condBurstInAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(burst_normal_dmg_Disp, { key: \"normal_dmg_\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4AfterBurst,\r\n        path: condC4AfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c4_atkSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Keqing_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, lookup, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Keqing\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stiletto: skillParam_gen.skill[s++],\r\n    slash: skillParam_gen.skill[s++],\r\n    thunderclap: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    initial: skillParam_gen.burst[b++],\r\n    slash: skillParam_gen.burst[b++],\r\n    final: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    critInc_: skillParam_gen.passive2[p2++][0],\r\n    enerRechInc_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    duration: skillParam_gen.constellation4[0],\r\n    atkInc: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    electroInc: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stiletto: dmgNode(\"atk\", datamine.skill.stiletto, \"skill\"),\r\n    slash: dmgNode(\"atk\", datamine.skill.slash, \"skill\"),\r\n    thunderclap: dmgNode(\"atk\", datamine.skill.thunderclap, \"skill\"),\r\n  },\r\n  burst: {\r\n    initial: dmgNode(\"atk\", datamine.burst.initial, \"burst\"),\r\n    slash: dmgNode(\"atk\", datamine.burst.slash, \"burst\"),\r\n    final: dmgNode(\"atk\", datamine.burst.final, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.atk, datamine.constellation1.dmg), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condAfterRecastPath, condAfterRecast] = cond(key, \"afterRecast\")\r\nconst afterRecastInfusion = equalStr(\"afterRecast\", condAfterRecast,\r\n  greaterEqStr(input.asc, 1, elementKey)\r\n)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurstCritRate_ = greaterEq(input.asc, 4, equal(\"afterBurst\", condAfterBurst, percent(datamine.passive2.critInc_)))\r\nconst afterBurstEnerRech_ = { ...afterBurstCritRate_ }\r\n\r\nconst [condAfterReactPath, condAfterReact] = cond(key, \"afterReact\")\r\nconst afterReactAtk_ = greaterEq(input.constellation, 4, equal(\"afterReact\", condAfterReact, percent(datamine.constellation4.atkInc)))\r\n\r\nconst [condC6StackPath, condC6Stack] = cond(key, \"c6Stack\")\r\nconst c6Electro_dmg_ = greaterEq(input.constellation, 6,\r\n  prod(\r\n    lookup(condC6Stack, objectKeyMap(range(1, 4), i => constant(i)), constant(0)),\r\n    datamine.constellation6.electroInc\r\n  )\r\n)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  infusion: {\r\n    overridableSelf: afterRecastInfusion,\r\n  },\r\n  premod: {\r\n    critRate_: afterBurstCritRate_,\r\n    enerRech_: afterBurstEnerRech_,\r\n    atk_: afterReactAtk_,\r\n    electro_dmg_: c6Electro_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i],\r\n            { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }\r\n          ),\r\n          textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.stiletto, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.slash, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.thunderclap, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condAfterRecast,\r\n        path: condAfterRecastPath,\r\n        name: trm(\"recast\"),\r\n        states: {\r\n          afterRecast: {\r\n            fields: [{\r\n              canShow: data => data.get(afterRecastInfusion).value === elementKey,\r\n              text: <ColorText color=\"electro\">{st(\"infusion.electro\")}</ColorText>\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.initial, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.slash, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: st(\"brHits\", { count: 8 })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.final, { key: `char_${key}_gen:burst.skillParams.2` })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        states: {\r\n          afterBurst: {\r\n            fields: [{\r\n              node: afterBurstCritRate_\r\n            }, {\r\n              node: afterBurstEnerRech_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:c1DMG` })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condAfterReact,\r\n        path: condAfterReactPath,\r\n        name: trm(\"electroReact\"),\r\n        states: {\r\n          afterReact: {\r\n            fields: [{\r\n              node: afterReactAtk_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6Stack,\r\n        path: condC6StackPath,\r\n        name: trm(\"effectTriggers\"),\r\n        states: objectKeyMap(range(1, 4), i => ({\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: c6Electro_dmg_\r\n          }]\r\n        }))\r\n      })]),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Klee_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Klee\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    jumptyDumptyDmg1: skillParam_gen.skill[s++],\r\n    jumptyDumptyDmg2: skillParam_gen.skill[s++],\r\n    jumptyDumptyDmg3: skillParam_gen.skill[s++],\r\n    mineDmg: skillParam_gen.skill[s++],\r\n    mineDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    unknown: skillParam_gen.burst[b++], // what is this??\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    charged_dmg_: 0.5\r\n  },\r\n  constellation1: {\r\n    dmg_: 1.2\r\n  },\r\n  constellation2: {\r\n    enemyDefRed_: 0.23\r\n  },\r\n  constellation4: {\r\n    dmg: 5.55\r\n  },\r\n  constellation6: {\r\n    pyro_dmg_: 0.1\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"PoundingSurprise\")\r\nconst charged_dmg_ = equal(\"on\", condA1, greaterEq(input.asc, 1, percent(datamine.passive1.charged_dmg_)))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"ExplosiveFrags\")\r\nconst enemyDefRed_ = equal(\"on\", condC2, greaterEq(input.constellation, 2, percent(datamine.constellation2.enemyDefRed_)))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"BlazingDelight\")\r\nconst pyro_dmg_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.pyro_dmg_)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    jumptyDumptyDmg: dmgNode(\"atk\", datamine.skill.jumptyDumptyDmg1, \"skill\"),\r\n    mineDmg: dmgNode(\"atk\", datamine.skill.mineDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    chainedReactionsDmg: greaterEq(input.constellation, 1, prod(percent(datamine.constellation1.dmg_), dmgNode(\"atk\", datamine.burst.dmg, \"burst\")))\r\n  },\r\n  constellation4: {\r\n    sparklyExplosionDmg: greaterEq(input.constellation, 4, customDmgNode(prod(percent(datamine.constellation4.dmg), input.total.atk), \"elemental\", { hit: { ele: constant('pyro') } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_,\r\n      enemyDefRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` })\r\n        }, {\r\n          text: tr(\"auto.skillParams.4\"),\r\n          value: datamine.charged.stamina\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" })\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.jumptyDumptyDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.mineDmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.mineDuration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: `${datamine.burst.duration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: `${datamine.burst.enerCost}`\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: trm(\"a1CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: charged_dmg_\r\n            }, {\r\n              text: trm(\"a1CondName2\")\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.chainedReactionsDmg, { key: `sheet:dmg` }),\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: enemyDefRed_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 10,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.sparklyExplosionDmg, { key: `sheet:dmg` })\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        name: trm(\"c6CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 25,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })])\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kujou_Sara_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KujouSara\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    fullyAimed: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    atkBonus: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    titanBreakerDmg: skillParam_gen.burst[b++],\r\n    stormClusterDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    er: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation2: {\r\n    crowfeatherDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    atkInc: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condSkillTenguAmbushPath, condSkillTenguAmbush] = cond(key, \"TenguJuuraiAmbush\")\r\nconst atkIncRatio = subscript(input.total.skillIndex, datamine.skill.atkBonus.map(x => x), { key: '_' })\r\nconst skillTenguAmbush_disp = equal(\"TenguJuuraiAmbush\", condSkillTenguAmbush,\r\n  prod(input.base.atk, atkIncRatio)\r\n)\r\nconst skillTenguAmbush_ = equal(input.activeCharKey, target.charKey, skillTenguAmbush_disp)\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6ElectroCritDmg_ = equal(\"c6\", condC6, percent(datamine.constellation6.atkInc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fullyAimed: dmgNode(\"atk\", datamine.charged.fullyAimed, \"charged\", { hit: { ele: constant('electro') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    skillTenguAmbush_\r\n  },\r\n  burst: {\r\n    titanbreaker: dmgNode(\"atk\", datamine.burst.titanBreakerDmg, \"burst\"),\r\n    stormcluster: dmgNode(\"atk\", datamine.burst.stormClusterDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.constellation2.crowfeatherDmg))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_critDMG_: c6ElectroCritDmg_\r\n    },\r\n    total: {\r\n      atk: skillTenguAmbush_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.fullyAimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.duration}s`,\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}s`,\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillTenguAmbush,\r\n        path: condSkillTenguAmbushPath,\r\n        name: trm(\"skill.ambush\"),\r\n        teamBuff: true,\r\n        states: {\r\n          TenguJuuraiAmbush: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: data => data.get(atkIncRatio).value * 100,\r\n              unit: \"%\",\r\n            }, {\r\n              node: infoMut(skillTenguAmbush_disp, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.titanbreaker, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.stormcluster, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: `${datamine.burst.cd}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          text: trm(\"a4.enerRest\"),\r\n          value: data => data.get(input.total.enerRech_).value * datamine.passive2.energyGen\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }]\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        name: trm(\"c6.electroCritDmg\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ElectroCritDmg_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Lisa_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Lisa\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stack0: skillParam_gen.skill[s++],\r\n    stack1: skillParam_gen.skill[s++],\r\n    stack2: skillParam_gen.skill[s++],\r\n    stack3: skillParam_gen.skill[s++],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n    press: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    tick: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    unknown: skillParam_gen.passive1[0][0] // I have no idea what this is\r\n  },\r\n  passive2: {\r\n    defShred: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0]\r\n  }\r\n} as const\r\n\r\nconst [condA4Path, condA4] = cond(key, \"LisaA4\")\r\nconst [condC2Path, condC2] = cond(key, \"LisaC2\")\r\n\r\nconst nodeA4DefShred = equal(condA4, \"on\", greaterEq(input.asc, 1, datamine.passive2.defShred))\r\nconst nodeC2DefIncrease = equal(condC2, \"on\", greaterEq(input.constellation, 2, constant(0.25))) // Doesn't exist in skillParam_gen\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    stack0: dmgNode(\"atk\", datamine.skill.stack0, \"skill\"),\r\n    stack1: dmgNode(\"atk\", datamine.skill.stack1, \"skill\"),\r\n    stack2: dmgNode(\"atk\", datamine.skill.stack2, \"skill\"),\r\n    stack3: dmgNode(\"atk\", datamine.skill.stack3, \"skill\"),\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    tick: dmgNode(\"atk\", datamine.burst.tick, \"burst\")\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    def_: nodeC2DefIncrease,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: nodeA4DefShred\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        },\r\n        ...range(0, 3).map(i => ({\r\n          node: infoMut(dmgFormulas.skill[`stack${i}`], { key: `char_${key}_gen:skill.skillParams.${2 + i}` })\r\n        })), {\r\n          text: sgt(\"press.cd\"),\r\n          value: datamine.skill.pressCD,\r\n          unit: 's'\r\n        }, {\r\n          text: sgt(\"hold.cd\"),\r\n          value: datamine.skill.holdCD,\r\n          unit: 's'\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.tick, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        name: trm(\"a4C\"),\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA4DefShred\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2C\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2DefIncrease\r\n            }, {\r\n              text: st(\"incInterRes\")\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Mona_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\nimport sprint from './sprint.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3, sprint\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Mona\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dot: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    bubbleDuration: skillParam_gen.burst[b++][0],\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgBonusNeg: skillParam_gen.burst[b++],\r\n    omenDuration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    torrentDuration: skillParam_gen.passive1[p1++][0],\r\n    phantomDuration: skillParam_gen.passive1[p1++][0],\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    unknown: skillParam_gen.passive2[p2++][0], // what is this?\r\n    percentage: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    electroChargeDmgInc: skillParam_gen.constellation1[0],\r\n    vaporizeDmgInc: skillParam_gen.constellation1[1],\r\n    hydroSwirlDmgInc: skillParam_gen.constellation1[2],\r\n    frozenExtension: skillParam_gen.constellation1[3],\r\n    unknown: skillParam_gen.constellation1[4], // what is this?\r\n    duration: skillParam_gen.constellation1[5],\r\n  },\r\n  constellation4: {\r\n    critRateIncNeg: Math.abs(skillParam_gen.constellation4[0]), // why do they even keep this as a negative??\r\n  },\r\n  constellation6: {\r\n    unknown: skillParam_gen.constellation6[0], // what is this?\r\n    dmgBonus: skillParam_gen.constellation6[1],\r\n    maxDmgBonus: skillParam_gen.constellation6[2],\r\n    duration: skillParam_gen.constellation6[3],\r\n  }\r\n} as const\r\n\r\nconst hydro_dmg_ = greaterEq(input.asc, 4, prod(input.premod.enerRech_, percent(datamine.passive2.percentage)))\r\n\r\nconst [condOmenPath, condOmen] = cond(key, \"Omen\")\r\nconst all_dmg_ = equal(\"on\", condOmen, subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" }))\r\n\r\nconst [condPoSPath, condPoS] = cond(key, \"ProphecyOfSubmersion\")\r\nconst electrocharged_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.electroChargeDmgInc)))\r\nconst swirl_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.hydroSwirlDmgInc)))\r\nconst vaporize_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.vaporizeDmgInc)))\r\n\r\nconst [condPoOPath, condPoO] = cond(key, \"ProphecyOfOblivion\")\r\nconst critRate_ = greaterEq(input.constellation, 4, equal(\"on\", condPoO, percent(datamine.constellation4.critRateIncNeg)))\r\n\r\nconst [condRoCPath, condRoC] = cond(key, \"RhetoricsOfCalamitas\")\r\nconst charged_dmg_ = greaterEq(input.constellation, 6, lookup(condRoC, objectKeyMap(range(1, 3), i => percent(i * datamine.constellation6.dmgBonus)), 0))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dot: dmgNode(\"atk\", datamine.skill.dot, \"skill\"),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\")\r\n  },\r\n  passive1: {\r\n    dmg: prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.passive1.percentage))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    charged_dmg_,\r\n    hydro_dmg_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      all_dmg_,\r\n      electrocharged_dmg_,\r\n      swirl_dmg_,\r\n      vaporize_dmg_,\r\n      critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` })\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dot, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }]),\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          text: trm(\"bubbleDuration\"),\r\n          value: datamine.burst.bubbleDuration,\r\n          unit: \"s\",\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condOmen,\r\n        path: condOmenPath,\r\n        teamBuff: true,\r\n        name: trm(\"omen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: all_dmg_,\r\n            }, {\r\n              text: trm(\"omenDuration\"),\r\n              value: (data) => datamine.burst.omenDuration[data.get(input.total.burstIndex).value],\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      sprint: ct.talentTemplate(\"sprint\", [{\r\n        fields: [{\r\n          text: st(\"activationStam\"),\r\n          value: datamine.sprint.active_stam,\r\n        }, {\r\n          text: st(\"stamDrain\"),\r\n          value: datamine.sprint.drain_stam,\r\n          unit: \"/s\",\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          text: trm(\"phantomDuration\"),\r\n          value: datamine.passive1.phantomDuration,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: hydro_dmg_\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condPoS,\r\n        path: condPoSPath,\r\n        teamBuff: true,\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: electrocharged_dmg_,\r\n            }, {\r\n              node: swirl_dmg_,\r\n            }, {\r\n              node: vaporize_dmg_,\r\n            }, {\r\n              text: trm(\"frozenDuration\"),\r\n              value: datamine.constellation1.frozenExtension * 100, // Convert to percentage\r\n              unit: \"%\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condPoO,\r\n        path: condPoOPath,\r\n        teamBuff: true,\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRate_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condRoC,\r\n        path: condRoCPath,\r\n        name: trm(\"uponSprint\"),\r\n        states: Object.fromEntries(range(1, 3).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [\r\n            { node: charged_dmg_ },\r\n            {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }]\r\n        }]))\r\n      })])\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Ningguang_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { allElements, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Ningguang\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    jadeDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    screenHpMod: skillParam_gen.skill[s++], // 100% + skillParam_gen.skill[s++] * 100\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    screenHp: skillParam_gen.skill[s++], //screenHp * 100%\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgPerGem: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    geoDmgBonus_: skillParam_gen.passive2[p1++][0],\r\n    duration: skillParam_gen.passive2[p1++][0],\r\n  },\r\n} as const\r\n\r\nconst [condA4Path, condA4] = cond(key, \"Ascension4\") //12% Geo DMG bonus after passing through the Jade Screen\r\nconst [condC4Path, condC4] = cond(key, \"Constellation4\")\r\n\r\nconst nodeA4GeoDmgBonus_ = equal(condA4, \"on\", percent(datamine.passive2.geoDmgBonus_), { key: `char_${key}:a4bonus_` })\r\n\r\nconst nodesC4 = Object.fromEntries(allElements.map(ele => [\r\n  `${ele}_res_`,\r\n  equal(condC4, \"on\", percent(0.10))\r\n]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    baseDmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n    jadeDmg: dmgNode(\"atk\", datamine.charged.jadeDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    screenHp: prod(subscript(input.total.skillIndex, datamine.skill.screenHp, { key: '_' }), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.skillDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    gemDmg: dmgNode(\"atk\", datamine.burst.dmgPerGem, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, teamBuff: {\r\n    premod: {\r\n      geo_dmg_: nodeA4GeoDmgBonus_,\r\n      ...nodesC4,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.normal[0], { key: `char_${key}_gen:auto.skillParams.0` })\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          text: trm(\"aoeGems\"),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.baseDmg, { key: `char_${key}_gen:auto.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.jadeDmg, { key: `char_${key}_gen:auto.skillParams.2` }),\r\n        }, {\r\n          canShow: data => data.get(input.asc).value < 1,\r\n          text: tr(\"auto.skillParams.3\"),\r\n          value: datamine.charged.stamina,\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          text: tr(\"auto.skillParams.3\"),\r\n          value: trm(\"starJadeStaminaCost\"),\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.screenHp, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 2,\r\n          text: trm(\"skillReset\"),\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        teamBuff: true,\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: trm(\"a4toggle\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA4GeoDmgBonus_\r\n            }, {\r\n              text: trm(\"a4duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        teamBuff: true,\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4toggle\"),\r\n        states: {\r\n          on: {\r\n            fields: Object.values(nodesC4).map(n => ({ node: n }))\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.gemDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: trm(\"c6bonus\"),\r\n          value: 7,\r\n        }]\r\n      }]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Noelle_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldElement, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Noelle\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldDef: skillParam_gen.skill[s++],\r\n    healDef: skillParam_gen.skill[s++],\r\n    healChance: skillParam_gen.skill[s++],\r\n    shieldDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    healFlat: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    defToAtk: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: { // Devotion Shield\r\n    hpThreshold: skillParam_gen.passive1[p1++][0],\r\n    shield: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    cooldown: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    healingChance: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    chargeStamina: skillParam_gen.constellation2[0],\r\n    chargeDmg_: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    burstAtkBonus: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"SweepingTime\")\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeBurstAtk = equal(\"on\", condBurst, prod(\r\n  input.total.def,\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.defToAtk, { key: \"_\" }),\r\n    greaterEq(input.constellation, 6, percent(datamine.constellation6.burstAtkBonus))\r\n  )\r\n))\r\n\r\nconst nodeSkillHealChanceBase = subscript(input.total.skillIndex, datamine.skill.healChance, { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOn = equal(\"on\", condBurst, percent(datamine.constellation1.healingChance), { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOff = unequal(\"on\", condBurst, nodeSkillHealChanceBase)\r\n\r\nconst nodeC2ChargeDMG = greaterEq(input.constellation, 2, percent(datamine.constellation2.chargeDmg_))\r\nconst nodeC2ChargeDec = greaterEq(input.constellation, 2, percent(-datamine.constellation2.chargeStamina))\r\nconst nodeC4dmg = greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"def\", datamine.skill.skillDmg, \"skill\"),\r\n    shield: shieldElement(\"geo\", shieldNodeTalent(\"def\", datamine.skill.shieldDef, datamine.skill.shieldFlat, \"skill\")),\r\n    heal: healNodeTalent(\"def\", datamine.skill.healDef, datamine.skill.healFlat, \"skill\"),\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    devotionShield: greaterEq(input.asc, 1, shieldElement(\"geo\", shieldNode(\"def\", percent(datamine.passive1.shield), 0)))\r\n  },\r\n  constellation4: {\r\n    dmg: nodeC4dmg\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_: nodeC2ChargeDMG,\r\n    atk: nodeBurstAtk,\r\n    staminaChargedDec_: nodeC2ChargeDec,\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.2`, variant: \"success\" }),\r\n        }, { //Heal trigger chance\r\n          canShow: data => data.get(input.constellation).value === 0,\r\n          node: nodeSkillHealChanceBase,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOff,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOn,\r\n        }, { //Shield Duration\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.shieldDuration,\r\n          unit: \"s\"\r\n        }, { //Cooldown\r\n          canShow: data => data.get(input.asc).value < 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: trm(`p4cd`),\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value < 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: trm(`c6duration`),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }],\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              text: trm(\"qlarger\")\r\n            }, {\r\n              node: nodeBurstAtk\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.devotionShield, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.passive1.cooldown,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: nodeC2ChargeDec\r\n        }, {\r\n          node: nodeC2ChargeDMG\r\n        }]\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(nodeC4dmg, { key: `char_${key}:c4dmg` })\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Qiqi_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Qiqi\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    hitRegenPercent: skillParam_gen.skill[s++],\r\n    hitRegenFlat: skillParam_gen.skill[s++],\r\n    contRegenPercent: skillParam_gen.skill[s++],\r\n    contRegenFlat: skillParam_gen.skill[s++],\r\n    tickDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    castDmg: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    healPercent: skillParam_gen.burst[b++],\r\n    healFlat: skillParam_gen.burst[b++],\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"QiqiA1\")\r\nconst [condC2Path, condC2] = cond(key, \"QiqiC2\")\r\n\r\n// Values here doesn't exist in skillParam_gen\r\nconst nodeA1HealingBonus = equal(condA1, \"on\", greaterEq(input.asc, 1, constant(0.2)))\r\nconst nodeC2ChargedDmgInc = equal(condC2, \"on\", greaterEq(input.constellation, 2, constant(0.15)))\r\nconst nodeC2NormalDmgInc = equal(condC2, \"on\", greaterEq(input.constellation, 2, constant(0.15)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    castDmg: dmgNode(\"atk\", datamine.skill.castDmg, \"skill\"),\r\n    tickDmg: dmgNode(\"atk\", datamine.skill.tickDmg, \"skill\"),\r\n    hitRegen: healNodeTalent(\"atk\", datamine.skill.hitRegenPercent, datamine.skill.hitRegenFlat, \"skill\"),\r\n    contRegen: healNodeTalent(\"atk\", datamine.skill.contRegenPercent, datamine.skill.contRegenFlat, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    heal: healNodeTalent(\"atk\", datamine.burst.healPercent, datamine.burst.healFlat, \"burst\")\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    normal_dmg_: nodeC2NormalDmgInc,\r\n    charged_dmg_: nodeC2ChargedDmgInc,\r\n    incHeal_: nodeA1HealingBonus\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: st(\"brHits\", { count: 2 })\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.castDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hitRegen, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"success\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.contRegen, { key: `char_${key}_gen:skill.skillParams.2`, variant: \"success\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.tickDmg, { key: `char_${key}_gen:skill.skillParams.3` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.duration,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        },\r\n        {\r\n          node: infoMut(dmgFormulas.burst.heal, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.skill.duration,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        name: trm(\"a1C\"),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1HealingBonus\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 8,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2C\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2NormalDmgInc\r\n            }, {\r\n              node: nodeC2ChargedDmgInc\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Raiden_Shogun_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"RaidenShogun\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    coorDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    burstDmg_bonus: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    resolveBonus1: skillParam_gen.burst[b++],\r\n    resolveBonus2: skillParam_gen.burst[b++],\r\n    resolveGained: skillParam_gen.burst[b++],\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    hit3: skillParam_gen.burst[b++],\r\n    hit41: skillParam_gen.burst[b++],\r\n    hit42: skillParam_gen.burst[b++],\r\n    hit5: skillParam_gen.burst[b++],\r\n    charged1: skillParam_gen.burst[b++],\r\n    charged2: skillParam_gen.burst[b++],\r\n    stam: skillParam_gen.burst[b++][0],\r\n    plunge: skillParam_gen.burst[b++],\r\n    plungeLow: skillParam_gen.burst[b++],\r\n    plungeHigh: skillParam_gen.burst[b++],\r\n    enerGen: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    er: skillParam_gen.passive2[p2++][0],\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    electroDmg_bonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    def_ignore: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    atk_bonus: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n} as const\r\n\r\nconst [condSkillEyePath, condSkillEye] = cond(key, \"skillEye\")\r\nconst skillEye_ = equal(\"skillEye\", condSkillEye,\r\n  prod(datamine.burst.enerCost, subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus.map(x => x), { key: '_' })))\r\n\r\nfunction skillDmg(atkType: number[]) {\r\n  // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n  return dmgNode('atk', atkType, 'skill', {\r\n    enemy: { defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore) }\r\n  })\r\n}\r\n\r\nconst energyCosts = [40, 50, 60, 70, 80, 90]\r\nconst [condSkillEyeTeamPath, condSkillEyeTeam] = cond(key, \"skillEyeTeam\")\r\nconst skillEyeTeamBurstDmgInc = unequal(input.activeCharKey, input.charKey,\r\n  prod(lookup(condSkillEyeTeam, objectKeyMap(energyCosts, i => constant(i)), 0),\r\n    subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus, { key: '_' })))\r\n\r\nconst resolveStacks = [10, 20, 30, 40, 50, 60]\r\nconst [condResolveStackPath, condResolveStack] = cond(key, \"burstResolve\")\r\n\r\nconst resolveStackNode = lookup(condResolveStack, objectKeyMap(resolveStacks, i => constant(i)), 0)\r\nconst resolveInitialBonus_ = prod(\r\n  subscript(input.total.burstIndex, datamine.burst.resolveBonus1, { key: \"_\" }),\r\n  resolveStackNode\r\n)\r\nconst resolveInfusedBonus_ = prod(\r\n  subscript(input.total.burstIndex, datamine.burst.resolveBonus2, { key: \"_\" }),\r\n  resolveStackNode\r\n)\r\nfunction burstResolve(mvArr: number[], initial = false) {\r\n  const resolveBonus = initial ? resolveInitialBonus_ : resolveInfusedBonus_\r\n\r\n  return customDmgNode(\r\n    prod(\r\n      sum(\r\n        subscript(input.total.burstIndex, mvArr, { key: '_' }),\r\n        resolveBonus\r\n      ),\r\n      input.total.atk\r\n    ),\r\n    'burst',\r\n    {\r\n      hit: {\r\n        ele: constant('electro')\r\n      }, enemy: {\r\n        // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n        defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore)\r\n      }\r\n    }\r\n  )\r\n}\r\n\r\nconst passive2ElecDmgBonus = greaterEq(input.asc, 4, prod(sum(input.premod.enerRech_, percent(-1)), (datamine.passive2.electroDmg_bonus * 100)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4AtkBonus_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condC4, unequal(input.activeCharKey, input.charKey, datamine.constellation4.atk_bonus))\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg(datamine.skill.skillDmg),\r\n    coorDmg: skillDmg(datamine.skill.coorDmg),\r\n    skillEye_\r\n  },\r\n  burst: {\r\n    dmg: burstResolve(datamine.burst.dmg, true),\r\n    hit1: burstResolve(datamine.burst.hit1),\r\n    hit2: burstResolve(datamine.burst.hit2),\r\n    hit3: burstResolve(datamine.burst.hit3),\r\n    hit41: burstResolve(datamine.burst.hit41),\r\n    hit42: burstResolve(datamine.burst.hit42),\r\n    hit5: burstResolve(datamine.burst.hit5),\r\n    charged1: burstResolve(datamine.burst.charged1),\r\n    charged2: burstResolve(datamine.burst.charged2),\r\n    plunge: burstResolve(datamine.burst.plunge),\r\n    plungeLow: burstResolve(datamine.burst.plungeLow),\r\n    plungeHigh: burstResolve(datamine.burst.plungeHigh),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    burst_dmg_: skillEye_,\r\n    electro_dmg_: passive2ElecDmgBonus,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: c4AtkBonus_,\r\n      burst_dmg_: skillEyeTeamBurstDmgInc\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }),\r\n          textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.coorDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.duration}s`,\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: `${datamine.skill.cd}s`,\r\n        }],\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillEye,\r\n        path: condSkillEyePath,\r\n        name: trm(\"skill.eye\"),\r\n        states: {\r\n          skillEye: {\r\n            fields: [{\r\n              node: skillEye_\r\n            }]\r\n          }\r\n        }\r\n      },\r\n      ), ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillEyeTeam,\r\n        path: condSkillEyeTeamPath,\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n        name: trm(\"skill.partyCost\"),\r\n        states: Object.fromEntries(energyCosts.map(c => [c, {\r\n          name: `${c}`,\r\n          fields: [{\r\n            node: skillEyeTeamBurstDmgInc,\r\n          }]\r\n        }]))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.3` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit3, { key: `char_${key}_gen:burst.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit41, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit42, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit5, { key: `char_${key}_gen:burst.skillParams.7` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.charged1, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.charged2, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.9\"),\r\n          value: `${datamine.burst.stam}`,\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.plunge, { key: `char_${key}_gen:burst.skillParams.10` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.plungeLow, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.plungeHigh, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.12\"),\r\n          value: (data) => `${datamine.burst.enerGen[data.get(input.total.burstIndex).value]}`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.13\"),\r\n          value: `${datamine.burst.duration}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.14\"),\r\n          value: `${datamine.burst.cd}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.15\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }],\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condResolveStack,\r\n        path: condResolveStackPath,\r\n        name: trm(\"burst.resolves\"),\r\n        states: Object.fromEntries(resolveStacks.map(c => [c, {\r\n          name: st(\"stack\", { count: c }),\r\n          fields: [{\r\n            node: infoMut(resolveInitialBonus_, { key: `char_${key}:burst.resolveInitial_` }),\r\n          }, {\r\n            node: infoMut(resolveInfusedBonus_, { key: `char_${key}:burst.resolveInfused_` })\r\n          }]\r\n        }]))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          text: trm(\"a4.enerRest\"),\r\n          value: (data) => (data.get(input.total.enerRech_).value * 100 - 100) * (datamine.passive2.energyGen * 100),\r\n          unit: \"%\"\r\n        }, {\r\n          node: passive2ElecDmgBonus,\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n        name: trm(\"c4.expires\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: c4AtkBonus_,\r\n            }, {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: `${datamine.constellation4.duration}s`\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Razor_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Razor\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++]\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    erBonus: skillParam_gen.skill[s++][0],\r\n    enerRegen: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    companionDmg: skillParam_gen.burst[b++],\r\n    atkSpdBonus: skillParam_gen.burst[b++],\r\n    electroResBonus: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: 0.18\r\n  },\r\n  passive2: {\r\n    enerThreshold: 0.5,\r\n    erInc: 0.3\r\n  },\r\n  passive3: {\r\n    sprintStaminaDec: 0.2\r\n  },\r\n  constellation1: {\r\n    allDmgInc: 0.1,\r\n    duration: 8\r\n  },\r\n  constellation2: {\r\n    hpThreshold: 0.3,\r\n    critRateInc: 0.1\r\n  },\r\n  constellation4: {\r\n    defDec: 0.15,\r\n    duration: 7\r\n  },\r\n  constellation6: {\r\n    dmg: 1,\r\n    electroSigilGenerated: 1,\r\n    cd: 10\r\n  }\r\n} as const\r\n\r\nconst [condElectroSigilPath, condElectroSigil] = cond(key, \"ElectroSigil\")\r\nconst [condTheWolfWithinPath, condTheWolfWithin] = cond(key, \"TheWolfWithin\")\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst [condC1Path, condC1] = cond(key, \"C1\")\r\nconst [condC2Path, condC2] = cond(key, \"C2\")\r\nconst [condC4Path, condC4] = cond(key, \"C4\")\r\n\r\nconst enerRechElectroSigil_ = lookup(condElectroSigil, objectKeyMap(range(1, 3), i => prod(i, percent(datamine.skill.erBonus))),\r\n  naught, { key: \"enerRech_\" })\r\nconst electro_res_ = equal(\"on\", condTheWolfWithin, percent(datamine.burst.electroResBonus))\r\nconst atkSPD_ = equal(\"on\", condTheWolfWithin, subscript(input.total.burstIndex, datamine.burst.atkSpdBonus, { key: \"_\" }))\r\nconst enerRechA4_ = greaterEq(input.asc, 4, equal(\"on\", condA4, percent(datamine.passive2.erInc, { key: \"enerRech_\" })))\r\nconst all_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condC1, percent(datamine.constellation1.allDmgInc)))\r\nconst critRate_ = greaterEq(input.constellation, 2, equal(\"on\", condC2, percent(datamine.constellation2.critRateInc)))\r\nconst enemyDefRed_ = greaterEq(input.constellation, 4, equal(\"on\", condC4, percent(datamine.constellation4.defDec)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    companionDmg1: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg2: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg3: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg4: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    // TODO: this is for the additional section to calculate the full burst dmg where the full burst dmg = sum of normal dmg and burst companion dmg\r\n    // However, the final dmg then defaults to Electro text color which is sort of incorrect?\r\n    // Is there a way to disable the electro text color and default it to just normal color instead?\r\n    fullBurstDmg1: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg2: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg3: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg4: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"))\r\n  },\r\n  constellation6: {\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(prod(percent(datamine.constellation6.dmg), input.total.atk), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    enerRech_: sum(enerRechElectroSigil_, enerRechA4_),\r\n    electro_res_,\r\n    atkSPD_,\r\n    all_dmg_,\r\n    critRate_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: (data) => data.get(input.asc).value >= 1\r\n            ? datamine.skill.pressCd - (datamine.skill.pressCd * datamine.passive1.cdRed)\r\n            : datamine.skill.pressCd,\r\n          unit: 's'\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.6\"),\r\n          value: (data) => data.get(input.asc).value >= 1\r\n            ? datamine.skill.holdCd - (datamine.skill.holdCd * datamine.passive1.cdRed)\r\n            : datamine.skill.holdCd,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", { // Electro Sigil\r\n        value: condElectroSigil,\r\n        path: condElectroSigilPath,\r\n        name: trm(\"electroSigil\"),\r\n        states: {\r\n          ...objectKeyMap(range(1, 3), i => ({\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              node: enerRechElectroSigil_\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: trm(\"electroSigilAbsorbed\"),\r\n              value: datamine.skill.enerRegen * i,\r\n            }]\r\n          })),\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.companionDmg1, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: tr(\"auto.skillParams.0\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.companionDmg2, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: tr(\"auto.skillParams.1\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.companionDmg3, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: tr(\"auto.skillParams.2\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.companionDmg4, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: tr(\"auto.skillParams.3\")\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.duration,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.cd,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.6\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", { // The Wolf Within\r\n        value: condTheWolfWithin,\r\n        path: condTheWolfWithinPath,\r\n        name: tr(\"burst.description.3\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: electro_res_\r\n            }, {\r\n              node: atkSPD_\r\n            }, {\r\n              text: st(\"incInterRes\")\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        text: trm(\"fullBurstDMG.description\"),\r\n      }, ct.headerTemplate(\"burst\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg1, { key: `char_${key}:fullBurstDMG.dmg1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg2, { key: `char_${key}:fullBurstDMG.dmg2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg3, { key: `char_${key}:fullBurstDMG.dmg3` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg4, { key: `char_${key}:fullBurstDMG.dmg4` })\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: st(\"lessPercentEnergy\", { percent: datamine.passive2.enerThreshold * 100 }),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: enerRechA4_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"pickUpElementalOrbParticle\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: all_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: st(\"enemyLessPercentHP\", { percent: datamine.constellation2.hpThreshold * 100 }),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: critRate_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        name: trm(\"opHitWithClawAndThunder\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: enemyDefRed_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.fieldsTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation6.dmg, { key: \"sheet:dmg\" })\r\n        }, {\r\n          text: trm(\"electroSigilPerProc\"),\r\n          value: datamine.constellation6.electroSigilGenerated\r\n        }, {\r\n          text: st(\"cooldown\"),\r\n          value: datamine.constellation6.cd,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Rosaria_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, min, percent, prod, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Rosaria\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0, c1i = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    hit1: skillParam_gen.skill[s++],\r\n    hit2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    dotDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    crInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    crBonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n    maxBonus: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    atkSpdInc: skillParam_gen.constellation1[c1i++],\r\n    dmgInc: skillParam_gen.constellation1[c1i++],\r\n    duration: skillParam_gen.constellation1[c1i++],\r\n  },\r\n  constellation6: {\r\n    physShred: skillParam_gen.constellation6[c6i++],\r\n    duration: skillParam_gen.constellation6[c6i++],\r\n  },\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"RosariaA1\")\r\nconst [condA4Path, condA4] = cond(key, \"RosariaA4\")\r\nconst [condC1Path, condC1] = cond(key, \"RosariaC1\")\r\nconst [condC6Path, condC6] = cond(key, \"DilucC6\")\r\n\r\nconst nodeA1CritInc = equal(condA1, \"on\", greaterEq(input.asc, 1, datamine.passive1.crInc))\r\nconst nodeA4CritBonusDisp = equal(condA4, \"on\",\r\n  greaterEq(input.asc, 4, min(\r\n    prod(percent(datamine.passive2.crBonus), input.premod.critRate_),\r\n    percent(datamine.passive2.maxBonus)\r\n  ))\r\n)\r\nconst nodeA4CritBonus = unequal(target.charKey, key, nodeA4CritBonusDisp)\r\n\r\nconst nodeC1AtkSpd = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.atkSpdInc))\r\nconst nodeC1NormalInc = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.dmgInc))\r\nconst nodeC6PhysShred = equal(condC6, \"on\", greaterEq(input.constellation, 6, -datamine.constellation6.physShred))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    hit1: dmgNode(\"atk\", datamine.skill.hit1, \"skill\"),\r\n    hit2: dmgNode(\"atk\", datamine.skill.hit2, \"skill\"),\r\n  },\r\n  burst: {\r\n    hit1: dmgNode(\"atk\", datamine.burst.hit1, \"burst\"),\r\n    hit2: dmgNode(\"atk\", datamine.burst.hit2, \"burst\"),\r\n    dotDmg: dmgNode(\"atk\", datamine.burst.dotDmg, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    critRate_: nodeA1CritInc,\r\n    atkSPD_: nodeC1AtkSpd,\r\n    normal_dmg_: nodeC1NormalInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      physical_enemyRes_: nodeC6PhysShred\r\n    },\r\n    total: {\r\n      critRate_: nodeA4CritBonus\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.hit1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hit2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dotDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: st(\"hitOp.skill\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC6PhysShred\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        name: trm(\"a1\"),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1CritInc\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        name: st(\"afterUse.burst\"),\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        // Hide for Rosaria\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeA4CritBonusDisp, { key: \"critRate_\", isTeamBuff: true }),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: st(\"hitOp.crit\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1NormalInc\r\n            }, {\r\n              node: nodeC1AtkSpd,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Sangonomiya_Kokomi_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"SangonomiyaKokomi\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    heal_: skillParam_gen.skill[s++],\r\n    heal: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    heal_: skillParam_gen.burst[b++],\r\n    heal: skillParam_gen.burst[b++],\r\n    nBonus_: skillParam_gen.burst[b++],\r\n    cBonus_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    sBonus_: skillParam_gen.burst[b++],\r\n  },\r\n  p: {\r\n    heal_: 0.25,\r\n    critRate_: -1\r\n  },\r\n  p2: {\r\n    heal_ratio_: skillParam_gen.passive2[0][0],\r\n  },\r\n  c1: {\r\n    hp_: skillParam_gen.constellation1[0],\r\n  },\r\n  c2: {\r\n    s_heal_: skillParam_gen.constellation2[1],\r\n    nc_heal_: skillParam_gen.constellation2[2],\r\n  },\r\n  c4: {\r\n    atkSPD_: skillParam_gen.constellation4[0],\r\n    energy: skillParam_gen.constellation4[1]\r\n  },\r\n  c6: {\r\n    hp_: skillParam_gen.constellation6[c6i++],\r\n    hydro_: skillParam_gen.constellation6[c6i++],\r\n    duration: skillParam_gen.constellation6[c6i++]\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\n\r\nconst burstNormalDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.nBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp))\r\nconst burstChargedDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.cBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp))\r\nconst burstSkillDmgInc = equal(condBurst, \"on\", prod(\r\n  subscript(input.total.burstIndex, datamine.burst.sBonus_, { key: '_' }),\r\n  input.premod.hp))\r\n\r\nconst passiveHeal_ = constant(datamine.p.heal_)\r\nconst passiveCritRate_ = constant(datamine.p.critRate_)\r\nconst c2SkillHeal_ = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\",\r\n    prod(percent(datamine.c2.s_heal_), input.total.hp)\r\n  )\r\n)\r\nconst c2BurstHeal_ = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\",\r\n    prod(percent(datamine.c2.nc_heal_), input.total.hp)\r\n  )\r\n)\r\nconst c4AtkSpd_ = greaterEq(input.constellation, 4, constant(datamine.c4.atkSPD_))\r\nconst c6Hydro_ = greaterEq(input.constellation, 6, equal(condC6, \"on\", constant(datamine.c6.hydro_)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    heal: healNodeTalent(\"hp\", datamine.skill.heal_, datamine.skill.heal, \"skill\",\r\n      { premod: { heal_: c2SkillHeal_ } }\r\n    )\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"hp\", datamine.burst.dmg, \"burst\"),\r\n    heal: healNodeTalent(\"hp\", datamine.burst.heal_, datamine.burst.heal, \"burst\",\r\n      { premod: { heal_: c2BurstHeal_ } }\r\n    )\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.hp, percent(datamine.c1.hp_)), \"elemental\", {\r\n      hit: { ele: constant(elementKey) }\r\n    }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    heal_: passiveHeal_,\r\n    critRate_: passiveCritRate_,\r\n    atkSPD_: c4AtkSpd_,\r\n    hydro_dmg_: c6Hydro_,\r\n    // TODO: below should be for `total`\r\n    normal_dmgInc: burstNormalDmgInc,\r\n    charged_dmgInc: burstChargedDmgInc,\r\n    skill_dmgInc: burstSkillDmgInc,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` })\r\n        }, {\r\n          text: tr(\"auto.skillParams.4\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.6\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.7\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: burstNormalDmgInc,\r\n            }, {\r\n              node: burstChargedDmgInc,\r\n            }, {\r\n              node: burstSkillDmgInc,\r\n            }, {\r\n              node: infoMut(dmgFormulas.burst.heal, { key: `char_${key}_gen:burst.skillParams.4`, variant: \"success\" }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.5\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive: ct.talentTemplate(\"passive\", [{\r\n        fields: [{\r\n          node: passiveHeal_\r\n        }, {\r\n          node: passiveCritRate_\r\n        }]\r\n      }]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.dmg, { key: \"sheet:dmg\" })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        path: condC2Path,\r\n        value: condC2,\r\n        name: trm(\"c2\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c2SkillHeal_, { key: `char_${key}:c2SkillHeal_` }),\r\n            }, {\r\n              node: infoMut(c2BurstHeal_, { key: `char_${key}:c2BurstHeal_` }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [{ fields: [{ node: c4AtkSpd_ }] }]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        path: condC6Path,\r\n        value: condC6,\r\n        name: trm(\"c6\"),\r\n        states: {\r\n          on: { fields: [{ node: c6Hydro_ }] }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Sayu_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, lookup, min, naught, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Sayu\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3x2\r\n      skillParam_gen.auto[4], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin: skillParam_gen.auto[5],\r\n    final: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n    duration: skillParam_gen.auto[8][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[9],\r\n    low: skillParam_gen.auto[10],\r\n    high: skillParam_gen.auto[11],\r\n  },\r\n  skill: {\r\n    wheelDmg: skillParam_gen.skill[s++],\r\n    eleWheelDmg: skillParam_gen.skill[s++],\r\n    kickPressDmg: skillParam_gen.skill[s++],\r\n    kickHoldDmg: skillParam_gen.skill[s++],\r\n    eleKickDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cdMin: skillParam_gen.skill[s++][0],\r\n    cdMax: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    pressBaseHeal: skillParam_gen.burst[b++],\r\n    pressAtkHeal: skillParam_gen.burst[b++],\r\n    darumaDmg: skillParam_gen.burst[b++],\r\n    darumaBaseHeal: skillParam_gen.burst[b++],\r\n    darumaAtkHeal: skillParam_gen.burst[b++],\r\n    darumaHits: 7,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    baseHeal: skillParam_gen.passive1[0][0],\r\n    emHeal: skillParam_gen.passive1[1][0],\r\n    cd: skillParam_gen.passive1[2][0]\r\n  },\r\n  passive2: {\r\n    nearHeal: skillParam_gen.passive2[0][0]\r\n  },\r\n  constellation2: {\r\n    dmgInc: skillParam_gen.constellation2[0],\r\n    maxStacks: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    ener: skillParam_gen.constellation4[0],\r\n    cd: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    darumaDmgInc: skillParam_gen.constellation6[0],\r\n    maxStacks: skillParam_gen.constellation6[1] / skillParam_gen.constellation6[0],\r\n    darumaHealInc: skillParam_gen.constellation6[2]\r\n  }\r\n} as const\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst [condActiveSwirlPath, condActiveSwirl] = cond(key, \"activeSwirl\")\r\n\r\nconst [condC2SkillStackPath, condC2SkillStack] = cond(key, \"c2SkillStack\")\r\nconst c2_kickPressDmg_ = greaterEq(input.constellation, 2, percent(datamine.constellation2.dmgInc))\r\nconst c2_kickDmg_ = greaterEq(input.constellation, 2,\r\n  lookup(condC2SkillStack,\r\n    Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(stack => [\r\n      stack,\r\n      prod(stack, percent(datamine.constellation2.dmgInc))\r\n    ])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst c6_daruma_dmg_inc = greaterEq(input.constellation, 6,\r\n  prod(\r\n    min(input.total.eleMas, datamine.constellation6.maxStacks),\r\n    datamine.constellation6.darumaDmgInc,\r\n    input.total.atk\r\n  )\r\n)\r\nconst c6_daruma_heal_inc = greaterEq(input.constellation, 6,\r\n  prod(min(input.total.eleMas, datamine.constellation6.maxStacks), datamine.constellation6.darumaHealInc)\r\n)\r\n// Using customHealNode so I can have healInc\r\nconst darumaHeal = customHealNode(sum(\r\n  prod(\r\n    subscript(input.total.burstIndex, datamine.burst.darumaAtkHeal, { key: \"_\" }),\r\n    input.total.atk,\r\n  ),\r\n  subscript(input.total.burstIndex, datamine.burst.darumaBaseHeal),\r\n  c6_daruma_heal_inc,\r\n))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spin: dmgNode(\"atk\", datamine.charged.spin, \"charged\"),\r\n    final: dmgNode(\"atk\", datamine.charged.final, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    wheelDmg: dmgNode(\"atk\", datamine.skill.wheelDmg, \"skill\"),\r\n    kickPressDmg: dmgNode(\"atk\", datamine.skill.kickPressDmg, \"skill\",\r\n      { premod: { skill_dmg_: sum(c2_kickDmg_, c2_kickPressDmg_) } }),\r\n    kickHoldDmg: dmgNode(\"atk\", datamine.skill.kickHoldDmg, \"skill\",\r\n      { premod: { skill_dmg_: c2_kickDmg_ } }),\r\n    eleWheelDmg: lookup(condSkillAbsorption, Object.fromEntries(absorbableEle.map(eleKey => [\r\n      eleKey,\r\n      dmgNode(\"atk\", datamine.skill.eleWheelDmg, \"skill\", { hit: { ele: constant(eleKey) } })\r\n    ])), naught),\r\n    eleKickDmg: lookup(condSkillAbsorption, Object.fromEntries(absorbableEle.map(eleKey => [\r\n      eleKey,\r\n      dmgNode(\"atk\", datamine.skill.eleKickDmg, \"skill\",\r\n        { hit: { ele: constant(eleKey) }, premod: { skill_dmg_: c2_kickDmg_ } })\r\n    ])), naught)\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    pressHeal: healNodeTalent(\"atk\", datamine.burst.pressAtkHeal, datamine.burst.pressBaseHeal, \"burst\"),\r\n    darumaDmg: dmgNode(\"atk\", datamine.burst.darumaDmg, \"burst\",\r\n      { premod: { burst_dmgInc: c6_daruma_dmg_inc } }),\r\n    darumaHeal\r\n  },\r\n  passive1: {\r\n    heal: greaterEq(input.asc, 1, sum(datamine.passive1.baseHeal, prod(datamine.passive1.emHeal, input.total.eleMas)))\r\n  },\r\n  passive2: {\r\n    extraHeal: greaterEq(input.asc, 4, prod(darumaHeal, percent(datamine.passive2.nearHeal)))\r\n  }\r\n}\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spin, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.final, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: `${datamine.charged.stamina}/s`,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.wheelDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.kickPressDmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.kickHoldDmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: `${datamine.skill.cdMin}s ~ ${datamine.skill.cdMax}`,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.eleWheelDmg, { key: `char_${key}_gen:skill.skillParams.3` })\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.eleKickDmg, { key: `char_${key}_gen:skill.skillParams.4` })\r\n          }]\r\n        }]))\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(c2_kickPressDmg_, { key: `char_${key}:c2KickPressDmg_` })\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2SkillStack,\r\n        path: condC2SkillStackPath,\r\n        name: trm(\"c2Cond\"),\r\n        states: Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(stack => [stack, {\r\n          name: st(\"seconds\", { count: stack * 0.5 }),\r\n          fields: [{\r\n            node: infoMut(c2_kickDmg_, { key: `char_${key}:c2KickDmg_` })\r\n          }]\r\n        }]))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.pressDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.pressHeal, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.darumaDmg, { key: `char_${key}_gen:burst.skillParams.2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.darumaHeal, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" })\r\n        }, {\r\n          text: trm(\"burstHits\"),\r\n          value: datamine.burst.darumaHits,\r\n        }]\r\n      }, ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive2.extraHeal, { key: `char_${key}:p2Heal`, variant: \"success\" })\r\n        }, {\r\n          text: trm(\"p2Aoe\")\r\n        }]\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"c1Text\")\r\n        }]\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: infoMut(c6_daruma_dmg_inc, { key: `char_${key}:c6DarumaDmgInc`, variant: \"anemo\" })\r\n        }, {\r\n          node: infoMut(c6_daruma_heal_inc, { key: `char_${key}:c6DarumaHealInc`, variant: \"success\" })\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        value: condActiveSwirl,\r\n        path: condActiveSwirlPath,\r\n        name: trm(\"p1Swirl\"),\r\n        states: {\r\n          activeSwirl: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.passive1.heal, { key: `sheet_gen:healing`, variant: \"success\" })\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.passive1.cd,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          text: trm(\"c4Ener\"),\r\n          value: datamine.constellation4.ener,\r\n          fixed: 1\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.constellation4.cd,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\")\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Shenhe_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Shenhe\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4x2\r\n      skillParam_gen.auto[5], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    dmgAtk_: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    durationHold: skillParam_gen.skill[s++][0],\r\n    trigger: skillParam_gen.skill[s++][0],\r\n    triggerHold: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    res_: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cryo_dmg_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    press_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationPress: skillParam_gen.passive2[p2++][0],\r\n    hold_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationHold: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    dmg_: skillParam_gen.constellation4[0],\r\n    maxStacks: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condQuillPath, condQuill] = cond(key, \"quill\")\r\nconst nodeSkill = equal(\"quill\", condQuill,\r\n  prod(input.total.atk, subscript(input.total.skillIndex, datamine.skill.dmgAtk_, { key: '_' })))\r\n\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst enemyRes_ = equal(\"burst\", condBurst,\r\n  subscript(input.total.burstIndex, datamine.burst.res_.map(x => -x), { key: '_' }))\r\n\r\nconst nodeBurstCryo_enemyRes_ = { ...enemyRes_ }\r\nconst nodeBurstPhysical_enemyRes_ = { ...enemyRes_ }\r\n\r\nconst [condAsc1Path, condAsc1] = cond(key, \"asc1\")\r\nconst nodeAsc1Disp = greaterEq(input.asc, 1,\r\n  equal(condAsc1, \"field\",\r\n    datamine.passive1.cryo_dmg_\r\n  )\r\n)\r\nconst nodeAsc1 = equal(input.activeCharKey, target.charKey, nodeAsc1Disp)\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst nodeAsc4 = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"press\",\r\n    datamine.passive2.press_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Press_skill_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Press_burst_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Hold = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"hold\",\r\n    datamine.passive2.hold_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Hold_normal_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_charged_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_plunging_dmg_ = { ...nodeAsc4Hold }\r\n\r\nconst nodeC2Disp = greaterEq(input.constellation, 2,\r\n  equal(condAsc1, \"field\",\r\n    datamine.passive1.cryo_dmg_\r\n  )\r\n)\r\nconst nodeC2 = equal(input.activeCharKey, target.charKey, nodeC2Disp)\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4Inc = greaterEq(input.constellation, 4,\r\n  lookup(condC4,\r\n    objectKeyMap(range(1, datamine.constellation4.maxStacks), i => percent(i * datamine.constellation4.dmg_)),\r\n    0),\r\n  { key: \"char_Shenhe:c4Bonus_\" })\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    quillDmg: nodeSkill\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmgInc: nodeSkill,\r\n      cryo_enemyRes_: nodeBurstCryo_enemyRes_,\r\n      physical_enemyRes_: nodeBurstPhysical_enemyRes_,\r\n      cryo_dmg_: nodeAsc1,\r\n      skill_dmg_: nodeAsc4Press_skill_dmg_,\r\n      burst_dmg_: nodeAsc4Press_burst_dmg_,\r\n      normal_dmg_: nodeAsc4Hold_normal_dmg_,\r\n      charged_dmg_: nodeAsc4Hold_charged_dmg_,\r\n      plunging_dmg_: nodeAsc4Hold_plunging_dmg_,\r\n      cryo_critDMG_: nodeC2\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: trm(\"pressDuration\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: trm(\"pressQuota\"),\r\n          value: datamine.skill.trigger,\r\n        }, {\r\n          text: st(\"pressCD\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: trm(\"holdDuration\"),\r\n          value: datamine.skill.durationHold,\r\n          unit: \"s\"\r\n        }, {\r\n          text: trm(\"holdQuota\"),\r\n          value: datamine.skill.triggerHold,\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: datamine.skill.cdHold,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 1,\r\n          text: st(\"charges\"),\r\n          value: 2\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        teamBuff: true,\r\n        value: condQuill,\r\n        path: condQuillPath,\r\n        name: trm(\"quill\"),\r\n        states: {\r\n          quill: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condAsc4,\r\n        path: condAsc4Path,\r\n        teamBuff: true,\r\n        name: st(\"afterUse.skill\"),\r\n        states: {\r\n          press: {\r\n            name: st(\"press\"),\r\n            fields: [{\r\n              node: nodeAsc4Press_skill_dmg_\r\n            }, {\r\n              node: nodeAsc4Press_burst_dmg_\r\n            }]\r\n          },\r\n          hold: {\r\n            name: st(\"hold\"),\r\n            fields: [{\r\n              node: nodeAsc4Hold_normal_dmg_\r\n            }, {\r\n              node: nodeAsc4Hold_charged_dmg_\r\n            }, {\r\n              node: nodeAsc4Hold_plunging_dmg_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: st(\"addlCharges\"),\r\n          value: 1\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        states: objectKeyMap(range(1, 50).map(i => i.toString()), i => ({\r\n          name: i.toString(),\r\n          fields: [{ node: c4Inc }]\r\n        }))\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          text: tr(\"constellation6.description\")\r\n        }],\r\n        teamBuff: true\r\n      }),\r\n      ]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: (data) => data.get(input.constellation).value >= 2\r\n          ? `${datamine.burst.duration} + ${datamine.constellation2.durationInc} = ${datamine.burst.duration + datamine.constellation2.durationInc}`\r\n          : datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"burst\", {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: st(\"opponentsField\"),\r\n        states: {\r\n          burst: {\r\n            fields: [{\r\n              node: nodeBurstCryo_enemyRes_\r\n            }, {\r\n              node: nodeBurstPhysical_enemyRes_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n          value: condAsc1,\r\n          path: condAsc1Path,\r\n          teamBuff: true,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            field: {\r\n              fields: [{\r\n                node: infoMut(nodeAsc1Disp, { key: \"cryo_dmg_\", variant: \"cryo\" }) // Jank\r\n              }]\r\n            }\r\n          }\r\n        }), ct.headerTemplate(\"constellation2\", {\r\n          fields: [{\r\n          text: st(\"durationInc\"),\r\n          value: datamine.constellation2.durationInc,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(nodeC2Disp, { key: \"cryo_critDMG_\", variant: \"cryo\" })\r\n        }],\r\n        teamBuff: true,\r\n       }),\r\n      ]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Sucrose_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from \"../../../Formula/utils\"\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Sucrose\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dot: skillParam_gen.burst[b++],\r\n    dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    eleMas: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    ele_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condAbsorptionPath, condAbsorption] = cond(key, \"absorption\")\r\n// A1 Swirl Reaction Element\r\nconst [condSwirlReactionPath, condSwirlReaction] = cond(key, \"swirl\")\r\n// Set to \"hit\" if skill hit opponents\r\nconst [condSkillHitOpponentPath, condSkillHitOpponent] = cond(key, \"skillHit\")\r\n\r\n// Conditional Output\r\nconst asc1Disp = greaterEq(input.asc, 1, datamine.passive1.eleMas)\r\nconst asc1 = unequal(target.charKey, key, // Not applying to Sucrose\r\n  equal(target.charEle, condSwirlReaction, asc1Disp)) // And element matches the swirl\r\nconst asc4Disp = equal(\"hit\", condSkillHitOpponent,\r\n  greaterEq(input.asc, 4,\r\n    prod(percent(datamine.passive2.eleMas_), input.premod.eleMas)))\r\nconst asc4 = unequal(target.charKey, key, asc4Disp)\r\nconst c6Base = greaterEq(input.constellation, 6, percent(0.2))\r\n\r\nconst c6Bonus = objectKeyMap(absorbableEle.map(ele => `${ele}_dmg_` as const), key =>\r\n  equal(condAbsorption, key.slice(0, -5), c6Base))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condAbsorption, key, dmgNode(\"atk\", datamine.burst.dmg_, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    total: { eleMas: asc4 },\r\n    premod: { ...c6Bonus, eleMas: asc1 },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 1,\r\n          text: st(\"charges\"),\r\n          value: 2\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? `${datamine.burst.duration}s + 2`\r\n            : datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", { // Absorption\r\n        value: condAbsorption,\r\n        path: condAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          }]\r\n        }]))\r\n      }), ct.conditionalTemplate(\"constellation6\", { // Absorption teambuff for C6\r\n        teamBuff: true,\r\n        canShow: unequal(target.charKey, input.activeCharKey, 1),\r\n        value: condAbsorption,\r\n        path: condAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: Object.values(c6Bonus).map(n => ({ node: n }))\r\n        }]))\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        canShow: unequal(condAbsorption, undefined, 1),\r\n        fields: Object.values(c6Bonus).map(n => ({ node: n }))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        // Swirl Element\r\n        teamBuff: true,\r\n        value: condSwirlReaction,\r\n        path: condSwirlReactionPath,\r\n        name: st(\"eleSwirled\"),\r\n        // Hide for Sucrose\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(asc1Disp, { key: \"eleMas\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.passive1.duration,\r\n            unit: \"s\",\r\n          }],\r\n        }]))\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        // Swirl element\r\n        teamBuff: true,\r\n        value: condSkillHitOpponent,\r\n        path: condSkillHitOpponentPath,\r\n        name: trm(\"asc4\"),\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: infoMut(asc4Disp, { key: \"eleMas\" }),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }],\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Tartaglia_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Tartaglia\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst region: Region = \"snezhnaya\"\r\nconst [tr] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  riptide: {\r\n    flashDmg: skillParam_gen.auto[a++],\r\n    burstDmg: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  riptideDuration: skillParam_gen.auto[a++][0],\r\n  skill: {\r\n    stanceDmg: skillParam_gen.skill[s++],\r\n    normal1: skillParam_gen.skill[s++],\r\n    normal2: skillParam_gen.skill[s++],\r\n    normal3: skillParam_gen.skill[s++],\r\n    normal4: skillParam_gen.skill[s++],\r\n    normal5: skillParam_gen.skill[s++],\r\n    normal61: skillParam_gen.skill[s++], // 6.1\r\n    normal62: skillParam_gen.skill[s++], // 6.2\r\n    charged1: skillParam_gen.skill[s++],\r\n    charged2: skillParam_gen.skill[s++],\r\n    riptideSlash: skillParam_gen.skill[s++],\r\n    chargedStamina: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    preemptiveCd1: skillParam_gen.skill[s++][0],\r\n    preemptiveCd2: skillParam_gen.skill[s++][0],\r\n    maxCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    meleeDmg: skillParam_gen.burst[b++],\r\n    riptideBlastDmg: skillParam_gen.burst[b++],\r\n    rangedDmg: skillParam_gen.burst[b++],\r\n    enerReturned: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    durationExt: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive: {\r\n    auto_boost: 1,\r\n  },\r\n  constellation1: {\r\n    cdRed: 0.2\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('hydro') } }),\r\n    flashDmg: dmgNode(\"atk\", datamine.riptide.flashDmg, \"normal\", { hit: { ele: constant('hydro') } }),\r\n    burstDmg: dmgNode(\"atk\", datamine.riptide.burstDmg, \"normal\", { hit: { ele: constant('hydro') } })\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stanceDmg: dmgNode(\"atk\", datamine.skill.stanceDmg, \"skill\"),\r\n    normal1: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal1), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal2: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal2), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal3: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal3), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal4: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal4), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal5: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal5), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal61: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal61), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal62: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal62), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    charged1: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.charged1), input.total.atk), \"charged\", { hit: { ele: constant('hydro') } }),\r\n    charged2: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.charged2), input.total.atk), \"charged\", { hit: { ele: constant('hydro') } }),\r\n    riptideSlash: dmgNode(\"atk\", datamine.skill.riptideSlash, \"skill\")\r\n  },\r\n  burst: {\r\n    meleeDmg: dmgNode(\"atk\", datamine.burst.meleeDmg, \"burst\"),\r\n    rangedDmg: dmgNode(\"atk\", datamine.burst.rangedDmg, \"burst\"),\r\n    riptideBlastDmg: dmgNode(\"atk\", datamine.burst.riptideBlastDmg, \"burst\")\r\n  }\r\n}\r\n\r\nconst nodePassive = constant(1)\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    bonus: {\r\n      auto: nodePassive,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.riptide\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.flashDmg, { key: `char_${key}_gen:auto.skillParams.8` }),\r\n          textSuffix: st(\"brHits\", { count: 3 })\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.burstDmg, { key: `char_${key}_gen:auto.skillParams.9` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.10\"),\r\n          value: (data) => data.get(input.asc).value >= 1\r\n            ? datamine.passive1.durationExt + datamine.riptideDuration\r\n            : datamine.riptideDuration,\r\n          unit: \"s\"\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.stanceDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal3, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal4, { key: `char_${key}_gen:skill.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal5, { key: `char_${key}_gen:skill.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal61, { key: `char_${key}_gen:skill.skillParams.6` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal62, { key: `char_${key}_gen:skill.skillParams.6` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.charged1, { key: `char_${key}_gen:skill.skillParams.7` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.charged2, { key: `char_${key}_gen:skill.skillParams.7` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          node: infoMut(constant(datamine.skill.chargedStamina), { key: `char_${key}_gen:skill.skillParams.8` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.riptideSlash, { key: `char_${key}_gen:skill.skillParams.9` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.10\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.11\"),\r\n          value: (data) => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.preemptiveCd1 - (datamine.skill.preemptiveCd1 * datamine.constellation1.cdRed)}\r\n            - ${datamine.skill.preemptiveCd2 - (datamine.skill.preemptiveCd2 * datamine.constellation1.cdRed)}`\r\n            : `${datamine.skill.preemptiveCd1} - ${datamine.skill.preemptiveCd2}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.12\"),\r\n          value: (data) => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.maxCd - (datamine.skill.maxCd * datamine.constellation1.cdRed)}`\r\n            : `${datamine.skill.maxCd}`,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.meleeDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.rangedDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.riptideBlastDmg, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: `${datamine.burst.enerReturned}`,\r\n        }]\r\n      }]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\", [ct.headerTemplate(\"passive3\", {\r\n        teamBuff: true,\r\n        fields: [{ node: nodePassive }]\r\n      })]),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Thoma_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Thoma\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    hpShield_: skillParam_gen.skill[s++],\r\n    baseShield: skillParam_gen.skill[s++],\r\n    shieldDuration: skillParam_gen.skill[s++][0],\r\n    maxHpShield_: skillParam_gen.skill[s++],\r\n    maxBaseShield: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    collapseDmg: skillParam_gen.burst[b++],\r\n    hpShield_: skillParam_gen.burst[b++],\r\n    baseShield: skillParam_gen.burst[b++],\r\n    shieldDuration: skillParam_gen.burst[b++][0],\r\n    unknown: skillParam_gen.burst[b++][0],\r\n    scorchingDuration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    shield_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n    maxStacks: skillParam_gen.passive1[2][0],\r\n    cd: skillParam_gen.passive1[3][0]\r\n  },\r\n  passive2: {\r\n    collapse_dmgInc: skillParam_gen.passive2[0][0],\r\n  },\r\n  c2: {\r\n    burstDuration: skillParam_gen.constellation2[0],\r\n  },\r\n  c4: {\r\n    energyRestore: skillParam_gen.constellation4[0],\r\n  },\r\n  c6: {\r\n    auto_dmg: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condP1BarrierStacksPath, condP1BarrierStacks] = cond(key, \"p1BarrierStacks\")\r\n// This should technically only apply to the active character, but I am trying\r\n// to minimize the amount of jank active character fixes.\r\nconst p1_shield_ = greaterEq(input.asc, 1,\r\n  lookup(condP1BarrierStacks, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(stacks => [\r\n    stacks,\r\n    constant(stacks * datamine.passive1.shield_)\r\n  ])), naught)\r\n)\r\n\r\nconst p2Collapse_dmgInc = greaterEq(input.asc, 4, prod(input.total.hp, datamine.passive2.collapse_dmgInc))\r\n\r\nconst [condC4AfterBurstPath, condC4AfterBurst] = cond(key, \"c4AfterBurst\")\r\n\r\nconst [condC6AfterBarrierPath, condC6AfterBarrier] = cond(key, \"c6AfterBarrier\")\r\nconst c6_normal_dmg_ = greaterEq(input.constellation, 6,\r\n  equal(condC6AfterBarrier, \"on\", datamine.c6.auto_dmg)\r\n)\r\nconst c6_charged_dmg_ = { ...c6_normal_dmg_ }\r\nconst c6_plunging_dmg_ = { ...c6_normal_dmg_ }\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    minShield: shieldNodeTalent(\"hp\", datamine.skill.hpShield_, datamine.skill.baseShield, \"skill\"),\r\n    minPyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.skill.hpShield_, datamine.skill.baseShield, \"skill\")),\r\n    maxShield: shieldNodeTalent(\"hp\", datamine.skill.maxHpShield_, datamine.skill.maxBaseShield, \"skill\"),\r\n    maxPyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.skill.maxHpShield_, datamine.skill.maxBaseShield, \"skill\")),\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    collapseDmg: dmgNode(\"atk\", datamine.burst.collapseDmg, \"burst\",\r\n      { premod: { burst_dmgInc: p2Collapse_dmgInc } }\r\n    ),\r\n    shield: shieldNodeTalent(\"hp\", datamine.burst.hpShield_, datamine.burst.baseShield, \"burst\"),\r\n    pyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.burst.hpShield_, datamine.burst.baseShield, \"burst\")),\r\n  }\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      shield_: p1_shield_,\r\n      normal_dmg_: c6_normal_dmg_,\r\n      charged_dmg_: c6_charged_dmg_,\r\n      plunging_dmg_: c6_plunging_dmg_,\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.minShield, { key: \"sheet_gen:dmgAbsorption\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.minPyroShield,\r\n            { key: `sheet:dmgAbsorption.${elementKey}`, variant: elementKey }\r\n          ),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.maxShield, { key: `char_${key}:maxShield` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.maxPyroShield,\r\n            { key: `char_${key}:maxPyroShield`, variant: elementKey }\r\n          ),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.skill.shieldDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.pressDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.shield, { key: \"sheet_gen:dmgAbsorption\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.pyroShield,\r\n            { key: `sheet:dmgAbsorption.${elementKey}`, variant: elementKey }\r\n          ),\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.shieldDuration,\r\n          unit: \"s\",\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.collapseDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? `${datamine.burst.scorchingDuration}s + ${datamine.c2.burstDuration}s = ${datamine.burst.scorchingDuration + datamine.c2.burstDuration}`\r\n            : datamine.burst.scorchingDuration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condP1BarrierStacks,\r\n        path: condP1BarrierStacksPath,\r\n        name: trm(\"a1\"),\r\n        teamBuff: true,\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(stacks => [\r\n          stacks,\r\n          {\r\n            name: st(\"stack\", { count: stacks }),\r\n            fields: [{\r\n              node: p1_shield_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: st(\"triggerCD\"),\r\n              value: datamine.passive1.cd,\r\n              unit: \"s\",\r\n              fixed: 1\r\n            }]\r\n          }\r\n        ]))\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(p2Collapse_dmgInc, { key: `char_${key}:a2`, variant: elementKey }),\r\n        }]\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          text: trm(\"c2\"),\r\n          value: datamine.c2.burstDuration,\r\n          unit: \"s\"\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4AfterBurst,\r\n        path: condC4AfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"energyRegen\"),\r\n              value: datamine.c4.energyRestore,\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6AfterBarrier,\r\n        path: condC6AfterBarrierPath,\r\n        name: trm(\"c6\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c6_normal_dmg_,\r\n            }, {\r\n              node: c6_charged_dmg_,\r\n            }, {\r\n              node: c6_plunging_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../../Types/character'\r\nimport burst from './burst.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2\r\n}\r\n\r\nexport default talentAssets\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../../Components/ColoredText'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input, target } from '../../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from '../../../../Formula/utils'\r\nimport { TalentSheet } from '../../../../Types/character'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { objectKeyValueMap } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { charTemplates } from '../../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport data_gen_src from '../data_gen.json'\r\nimport skillAssets from './assets'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, skillAssets, elementKey)\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\nconst trm = (strKey: string) => <Translate ns=\"char_Traveler\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    initial_dmg: skillParam_gen.skill[s++],\r\n    initial_max: skillParam_gen.skill[s++],\r\n    storm_dmg: skillParam_gen.skill[s++],\r\n    storm_max: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    absorbDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmg: 0.6,\r\n  },\r\n  passive2: {\r\n    heal_: 0.02,\r\n  },\r\n  constellation2: {\r\n    enerRech_: 0.16,\r\n  },\r\n  constellation6: {\r\n    enemyRes_: -0.2\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, `${elementKey}BurstAbsorption`)\r\nconst nodeC2 = greaterEq(input.constellation, 2, datamine.constellation2.enerRech_)\r\nconst [condC6Path, condC6] = cond(key, `${elementKey}C6Hit`)\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(condC6, \"on\", datamine.constellation6.enemyRes_))\r\nconst nodesC6 = objectKeyValueMap(absorbableEle, ele => [`${ele}_enemyRes_`, greaterEq(input.constellation, 6, equal(condC6, \"on\", equal(condBurstAbsorption, ele, datamine.constellation6.enemyRes_)))])\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    initial_dmg: dmgNode(\"atk\", datamine.skill.initial_dmg, \"skill\"),\r\n    initial_max: dmgNode(\"atk\", datamine.skill.initial_max, \"skill\"),\r\n    storm_dmg: dmgNode(\"atk\", datamine.skill.storm_dmg, \"skill\"),\r\n    storm_max: dmgNode(\"atk\", datamine.skill.storm_max, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    absorb: dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } }),\r\n  },\r\n  passive1: {\r\n    dmg: greaterEq(input.asc, 1, customDmgNode(prod(input.total.atk, datamine.passive1.dmg), \"elemental\", { hit: { ele: constant(elementKey) } })),\r\n  },\r\n  passive2: {\r\n    heal: greaterEq(input.asc, 2, customHealNode(prod(percent(datamine.passive2.heal_), input.total.hp))),\r\n  }\r\n} as const\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    enerRech_: nodeC2,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      ...nodesC6,\r\n      anemo_enemyRes_: nodeC6,\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: ct.talentTemplate(\"auto\", [{\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      fields: datamine.normal.hitArr.map((_, i) => ({\r\n        node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n      }))\r\n    }, {\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n    }, {\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n    }]),\r\n\r\n    skill: ct.talentTemplate(\"skill\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.skill.initial_dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.initial_max, { key: `char_${key}_gen:${elementKey}.skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.storm_dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.storm_max, { key: `char_${key}_gen:${elementKey}.skill.skillParams.3` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.maxCd,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        text: trm(\"c1\"),\r\n        value: 10,\r\n        unit: \"%\"\r\n      }]\r\n    }]),\r\n\r\n    burst: ct.talentTemplate(\"burst\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"burst\", {\r\n      value: condBurstAbsorption,\r\n      path: condBurstAbsorptionPath,\r\n      name: st(\"eleAbsor\"),\r\n      states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n        name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.absorb, { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }),\r\n        }]\r\n      }]))\r\n    }), ct.conditionalTemplate(\"constellation6\", { // C6 anemo\r\n      value: condC6,\r\n      path: condC6Path,\r\n      teamBuff: true,\r\n      name: trm(\"c6\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(nodeC6, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n          }]\r\n        }\r\n      }\r\n    }), ct.headerTemplate(\"constellation6\", { // C6 elemental self-display\r\n      canShow: unequal(condBurstAbsorption, undefined, equal(condC6, \"on\", equal(target.charKey, key, 1))),\r\n      fields: absorbableEle.map(eleKey => (\r\n        { node: nodesC6[`${eleKey}_enemyRes_`] }\r\n      ))\r\n    }), ct.conditionalTemplate(\"constellation6\", { // C6 elemental team-display\r\n      value: condBurstAbsorption,\r\n      path: condBurstAbsorptionPath,\r\n      name: st(\"eleAbsor\"),\r\n      teamBuff: true,\r\n      canShow: equal(condC6, \"on\", unequal(input.activeCharKey, key, 1)),\r\n      states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n        name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n        fields: [{\r\n          node: nodesC6[`${eleKey}_enemyRes_`]\r\n        }]\r\n      }]))\r\n    })]),\r\n    passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}:${elementKey}.p1` })\r\n      }]\r\n    })]),\r\n    passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.passive2.heal, { key: `sheet_gen:healing`, variant: \"success\" })\r\n      }]\r\n    })]),\r\n    constellation1: ct.talentTemplate(\"constellation1\"),\r\n    constellation2: ct.talentTemplate(\"constellation2\", [{ fields: [{ node: nodeC2 }] }]),\r\n    constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n    constellation4: ct.talentTemplate(\"constellation4\"),\r\n    constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n    constellation6: ct.talentTemplate(\"constellation6\"),\r\n  },\r\n}\r\nexport default talentSheet\r\n","import { TalentSheetElementKey } from '../../../../Types/character'\r\nimport burst from './burst.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2\r\n}\r\n\r\nexport default talentAssets\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input, target } from '../../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { TalentSheet } from '../../../../Types/character'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { cond, sgt } from '../../../SheetUtil'\r\nimport { charTemplates } from '../../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport data_gen_src from '../data_gen.json'\r\nimport talentAssets from './assets'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets, elementKey)\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\nconst trm = (strKey: string) => <Translate ns=\"char_Traveler\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    energyRestore: skillParam_gen.skill[s++],\r\n    amulets: 2,\r\n    amuletDuration: skillParam_gen.skill[s++][0],\r\n    enerRech_: skillParam_gen.skill[s++][0],\r\n    enerRech_duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    thunderDmg: skillParam_gen.burst[b++],\r\n    thunderCd: 0.5,\r\n    energyRestore: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    enerRech_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    addlAmulets: 1\r\n  },\r\n  constellation2: {\r\n    duration: skillParam_gen.constellation2[0],\r\n    electro_enemyRes: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation6: {\r\n    numAttacks: skillParam_gen.constellation6[0],\r\n    thunder_dmg_: skillParam_gen.constellation6[0],\r\n    energyRestore: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst [condSkillAmuletPath, condSkillAmulet] = cond(key, `${elementKey}SkillAmulet`)\r\nconst p2_enerRech_ = greaterEq(input.asc, 4,\r\n  prod(input.premod.enerRech_, percent(datamine.passive2.enerRech_))\r\n)\r\nconst skillAmulet_enerRech_Disp = equal(condSkillAmulet, \"on\",\r\n  sum(\r\n    percent(datamine.skill.enerRech_),\r\n    p2_enerRech_\r\n  )\r\n)\r\nconst skillAmulet_enerRech_ = equal(input.activeCharKey, target.charKey, skillAmulet_enerRech_Disp)\r\n\r\nconst burstEnergyRestore = subscript(input.total.burstIndex, datamine.burst.energyRestore,\r\n  { key: `char_${key}_gen:${elementKey}.burst.skillParmas.2` }\r\n)\r\n\r\nconst [condC2ThunderPath, condC2Thunder] = cond(key, `${elementKey}C2Thunder`)\r\nconst c2Thunder_electro_enemyRes_ = greaterEq(input.constellation, 2,\r\n  equal(condC2Thunder, \"on\", datamine.constellation2.electro_enemyRes)\r\n)\r\n\r\nconst [condC6After2ThunderPath, condC6After2Thunder] = cond(key, `${elementKey}C6After2Thunder`)\r\nconst c6_thunder_dmg_ = greaterEq(input.constellation, 6, equal(condC6After2Thunder, \"on\", datamine.constellation6.thunder_dmg_))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    thunderDmg: dmgNode(\"atk\", datamine.burst.thunderDmg, \"burst\",\r\n      { premod: { burst_dmg_: c6_thunder_dmg_ } })\r\n  }\r\n} as const\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_enemyRes_: c2Thunder_electro_enemyRes_,\r\n    },\r\n    total: {\r\n      enerRech_: skillAmulet_enerRech_ // In total to avoid loops\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: ct.talentTemplate(\"auto\", [{\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      fields: datamine.normal.hitArr.map((_, i) => ({\r\n        node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n      }))\r\n    }, {\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n    }, {\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n    }]),\r\n\r\n    skill: ct.talentTemplate(\"skill\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` })\r\n      }, {\r\n        text: trm(\"skill.amuletGenAmt\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? datamine.skill.amulets + datamine.constellation1.addlAmulets\r\n          : datamine.skill.amulets\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: datamine.skill.amuletDuration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n        fixed: 1\r\n      }]\r\n    }, ct.conditionalTemplate(\"skill\", {\r\n      value: condSkillAmulet,\r\n      path: condSkillAmuletPath,\r\n      name: trm(\"skill.absorb\"),\r\n      teamBuff: true,\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: subscript(input.total.skillIndex, datamine.skill.energyRestore,\r\n              { key: `char_${key}_gen:${elementKey}.skill.skillParams.1` }\r\n            )\r\n          }, {\r\n            node: infoMut(skillAmulet_enerRech_Disp, { key: \"enerRech_\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.skill.enerRech_duration,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }), ct.headerTemplate(\"passive1\", {\r\n      fields: [{\r\n        text: tr(\"passive1.description\")\r\n      }]\r\n    }), ct.headerTemplate(\"passive2\", {\r\n      fields: [{\r\n        node: infoMut(p2_enerRech_, { key: `char_${key}:${elementKey}.passive2.enerRech_` })\r\n      }]\r\n    })]),\r\n\r\n    burst: ct.talentTemplate(\"burst\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.burst.pressDmg,\r\n          { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }\r\n        )\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.thunderDmg,\r\n          { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }\r\n        )\r\n      }, {\r\n        text: trm(\"burst.thunderCd\"),\r\n        value: datamine.burst.thunderCd,\r\n        unit: \"s\",\r\n        fixed: 1\r\n      }, {\r\n        node: infoMut(burstEnergyRestore, { key: `char_${key}_gen:${elementKey}.burst.skillParams.2` })\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"constellation2\", {\r\n      value: condC2Thunder,\r\n      path: condC2ThunderPath,\r\n      name: trm(\"c2.thunderHit\"),\r\n      teamBuff: true,\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: c2Thunder_electro_enemyRes_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.constellation2.duration,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }), ct.conditionalTemplate(\"constellation6\", {\r\n      value: condC6After2Thunder,\r\n      path: condC6After2ThunderPath,\r\n      name: trm(\"c6.fallingThunder3\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(c6_thunder_dmg_,\r\n              { key: `char_${key}:${elementKey}.c6.fallingThunderBonus_`, variant: \"electro\" }\r\n            )\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: datamine.constellation6.energyRestore\r\n          }]\r\n        }\r\n      }\r\n    })]),\r\n\r\n    passive1: ct.talentTemplate(\"passive1\"),\r\n    passive2: ct.talentTemplate(\"passive2\"),\r\n    constellation1: ct.talentTemplate(\"constellation1\"),\r\n    constellation2: ct.talentTemplate(\"constellation2\"),\r\n    constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n    constellation4: ct.talentTemplate(\"constellation4\"),\r\n    constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n    constellation6: ct.talentTemplate(\"constellation6\"),\r\n  }\r\n}\r\nexport default talentSheet\r\n","import { TalentSheetElementKey } from '../../../../Types/character'\r\nimport burst from './burst.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2\r\n}\r\n\r\nexport default talentAssets\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input, target } from '../../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../../Formula/utils'\r\nimport { TalentSheet } from '../../../../Types/character'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { charTemplates } from '../../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport data_gen_src from '../data_gen.json'\r\nimport talentAssets from './assets'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets, elementKey)\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    numShockwaves: 4,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    skill_cdRed: 2\r\n  },\r\n  passive2: {\r\n    geoDmg: percent(0.6),\r\n  },\r\n  constellation1: {\r\n    critRate_: percent(0.1),\r\n  },\r\n  constellation4: {\r\n    energyRestore: 5,\r\n    maxTriggers: 5\r\n  },\r\n  constellation6: {\r\n    burstDuration: 5,\r\n    skillDuration: 10\r\n  }\r\n} as const\r\n\r\nconst [condC1BurstAreaPath, condC1BurstArea] = cond(key, `${elementKey}C1BurstArea`)\r\nconst c1BurstArea_critRate_Disp = greaterEq(input.constellation, 1,\r\n  equal(condC1BurstArea, \"on\", datamine.constellation1.critRate_)\r\n)\r\nconst c1BurstArea_critRate_ = equal(input.activeCharKey, target.charKey, c1BurstArea_critRate_Disp)\r\n\r\nconst [condC4BurstHitPath, condC4BurstHit] = cond(key, `${elementKey}C4BurstHit`)\r\nconst c4Burst_energyRestore = lookup(condC4BurstHit,\r\n  Object.fromEntries(range(1, datamine.constellation4.maxTriggers).map(stack => [\r\n    stack,\r\n    constant(stack * datamine.constellation4.energyRestore)\r\n  ])),\r\n  naught\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    dmg: customDmgNode(\r\n      prod(input.total.atk, datamine.passive2.geoDmg), \"elemental\", { hit: { ele: constant(\"geo\") } }\r\n    )\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n  }\r\n} as const\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: c1BurstArea_critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: ct.talentTemplate(\"auto\", [{\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      fields: datamine.normal.hitArr.map((_, i) => ({\r\n        node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n      }))\r\n    }, {\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n    }, {\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n    }]),\r\n\r\n    skill: ct.talentTemplate(\"skill\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: data => data.get(input.constellation).value >= 6\r\n          ? `${datamine.skill.duration}s + ${datamine.constellation6.skillDuration}s = ${datamine.skill.duration + datamine.constellation6.skillDuration}`\r\n          : datamine.skill.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: data => data.get(input.asc).value >= 1\r\n          ? `${datamine.skill.cd}s - ${datamine.passive1.skill_cdRed}s = ${datamine.skill.cd - datamine.passive1.skill_cdRed}`\r\n          : datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]\r\n    }, ct.headerTemplate(\"passive1\", {\r\n      fields: [{\r\n        text: st(\"skillCDRed\"),\r\n        value: datamine.passive1.skill_cdRed,\r\n        unit: \"s\"\r\n      }]\r\n    }), ct.headerTemplate(\"constellation2\", {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:${elementKey}.c2.key` }),\r\n      }]\r\n    }), ct.headerTemplate(\"constellation6\", {\r\n      fields: [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation6.skillDuration,\r\n        unit: \"s\"\r\n      }]\r\n    })]),\r\n\r\n    burst: ct.talentTemplate(\"burst\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.burst.dmg,\r\n          { key: `sheet_gen:skillDMG` }\r\n        ),\r\n        textSuffix: st(\"brHits\", { count: datamine.burst.numShockwaves })\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: data => data.get(input.constellation).value >= 6\r\n          ? `${datamine.burst.duration}s + ${datamine.constellation6.burstDuration}s = ${datamine.burst.duration + datamine.constellation6.burstDuration}`\r\n          : datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"constellation1\", {\r\n      value: condC1BurstArea,\r\n      path: condC1BurstAreaPath,\r\n      name: st(\"activeCharField\"),\r\n      teamBuff: true,\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(c1BurstArea_critRate_Disp, { key: \"critRate_\" }),\r\n          }, {\r\n            text: st(\"incInterRes\"),\r\n          }]\r\n        }\r\n      }\r\n    }), ct.conditionalTemplate(\"constellation4\", {\r\n      value: condC4BurstHit,\r\n      path: condC4BurstHitPath,\r\n      name: st(\"hitOp.burst\"),\r\n      states: Object.fromEntries(range(1, datamine.constellation4.maxTriggers).map(stack => [\r\n        stack,\r\n        {\r\n          name: st(\"hits\", { count: stack }),\r\n          fields: [{\r\n            node: infoMut(c4Burst_energyRestore, { key: \"sheet:energyRegen\" }),\r\n          }]\r\n        }\r\n      ]))\r\n    }), ct.headerTemplate(\"constellation6\", {\r\n      fields: [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation6.burstDuration,\r\n        unit: \"s\"\r\n      }]\r\n    })]),\r\n\r\n    passive1: ct.talentTemplate(\"passive1\"),\r\n    passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:${elementKey}.passive2.key` })\r\n      }]\r\n    })]),\r\n    constellation1: ct.talentTemplate(\"constellation1\"),\r\n    constellation2: ct.talentTemplate(\"constellation2\"),\r\n    constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n    constellation4: ct.talentTemplate(\"constellation4\"),\r\n    constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n    constellation6: ct.talentTemplate(\"constellation6\"),\r\n  }\r\n}\r\nexport default talentSheet\r\n","import { CharacterData } from 'pipeline'\r\nimport { CharacterKey, WeaponTypeKey } from '../../../Types/consts'\r\nimport { trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet } from '../CharacterSheet'\r\nimport anemo, { data as anemoData } from './anemo'\r\nimport data_gen_src from './data_gen.json'\r\nimport electro, { data as electroData } from './electro'\r\nimport geo, { data as geoData } from './geo'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport card from './Traveler_Female_Card.jpg'\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Traveler\"\r\nconst [tr] = trans(\"char\", key)\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  rarity: data_gen.star,\r\n  weaponTypeKey: data_gen.weaponTypeKey as WeaponTypeKey,\r\n  gender: \"F/M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talents: {\r\n    anemo,\r\n    geo,\r\n    electro,\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, {\r\n  anemo: anemoData,\r\n  geo: geoData,\r\n  electro: electroData,\r\n});\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Venti_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { reactions } from '../../../Formula/reaction'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Venti\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1x2\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x2\r\n      skillParam_gen.auto[a++], // 5\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++], // Aimed\r\n    fully: skillParam_gen.auto[a++], // Fully-charged\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    pressDmg: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n    holdDmg: skillParam_gen.skill[s++],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    baseDmg: skillParam_gen.burst[b++],\r\n    baseTicks: 20,\r\n    absorbDmg: skillParam_gen.burst[b++],\r\n    absorbTicks: 15,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[0][0]\r\n  },\r\n  // No real p3/constellation datamine values :(\r\n  passive3: {\r\n    stam_: 0.20,\r\n  },\r\n  constellation1: {\r\n    dmgRatio: 0.33,\r\n  },\r\n  constellation2: {\r\n    res_: -0.12,\r\n    duration: 10,\r\n  },\r\n  constellation4: {\r\n    anemo_dmg_: 0.25,\r\n    duration: 10,\r\n  },\r\n  constellation6: {\r\n    res_: -0.20,\r\n    duration: 10, // From KQM\r\n  }\r\n} as const\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst p3_staminaGlidingDec_ = constant(datamine.passive3.stam_)\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2Hit_anemo_enemyRes_ = greaterEq(input.constellation, 2,\r\n  lookup(condC2, {\r\n    \"hit\": constant(datamine.constellation2.res_),\r\n    \"launched\": prod(datamine.constellation2.res_, 2)\r\n  },\r\n    naught\r\n  )\r\n)\r\nconst c2Hit_phys_enemyRes__ = { ...c2Hit_anemo_enemyRes_ }\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4_anemo_dmg_ = greaterEq(input.constellation, 4, equal(condC4, \"pickup\",\r\n  datamine.constellation4.anemo_dmg_))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6_anemo_enemyRes_ = greaterEq(input.constellation, 6, equal(condC6, \"takeDmg\", datamine.constellation6.res_))\r\nconst c6_ele_enemyRes_arr = Object.fromEntries(absorbableEle.map(ele => [\r\n  `${ele}_enemyRes_`,\r\n  greaterEq(input.constellation, 6, equal(condC6, \"takeDmg\", equal(ele, condBurstAbsorption, constant(datamine.constellation6.res_))))\r\n]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fully: dmgNode(\"atk\", datamine.charged.fully, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.pressDmg, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.holdDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    base: dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"),\r\n    absorb: unequal(condBurstAbsorption, undefined, dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } })),\r\n    full7: unequal(condBurstAbsorption, undefined, sum(\r\n      prod(dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"), 20),\r\n      prod(dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } }), 15),\r\n      prod(lookup(condBurstAbsorption, objectKeyMap(absorbableEle, ele => reactions.anemo[`${ele}Swirl`]), naught), 7)\r\n    )),\r\n    full14: unequal(condBurstAbsorption, \"hydro\", unequal(condBurstAbsorption, undefined, sum(\r\n      prod(dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"), 20),\r\n      prod(dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } }), 15),\r\n      prod(lookup(condBurstAbsorption, objectKeyMap(absorbableEle, ele => reactions.anemo[`${ele}Swirl`]), naught), 14)\r\n    )))\r\n  },\r\n  constellation1: {\r\n    aimed: greaterEq(input.constellation, 1,\r\n      customDmgNode(\r\n        prod(\r\n          percent(datamine.constellation1.dmgRatio),\r\n          subscript(input.total.autoIndex, datamine.charged.aimed, { key: \"_\" }),\r\n          input.total.atk\r\n        ),\r\n        \"charged\"\r\n      )\r\n    ),\r\n    fully: greaterEq(input.constellation, 1,\r\n      customDmgNode(\r\n        prod(\r\n          percent(datamine.constellation1.dmgRatio),\r\n          subscript(input.total.autoIndex, datamine.charged.fully, { key: \"_\" }),\r\n          input.total.atk\r\n        ),\r\n        \"charged\", { hit: { ele: constant(elementKey) } }\r\n      )\r\n    ),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    anemo_dmg_: c4_anemo_dmg_,\r\n    staminaGlidingDec_: p3_staminaGlidingDec_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      anemo_enemyRes_: sum(c2Hit_anemo_enemyRes_, c6_anemo_enemyRes_),\r\n      physical_enemyRes_: c2Hit_phys_enemyRes__,\r\n      ...c6_ele_enemyRes_arr,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: (i === 0 || i === 3) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation1.aimed, { key: `char_${key}:addAimed` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.fully, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation1.fully, { key: `char_${key}:addFullAimed` })\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.pressCD,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: datamine.skill.holdCD,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.headerTemplate(\"passive1\", {\r\n        fields: [{\r\n          text: trm(\"upcurrentDuration\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: tr(\"constellation2.name\"),\r\n        states: {\r\n          hit: {\r\n            name: trm(\"c2.hit\"),\r\n            fields: [{\r\n              node: infoMut(c2Hit_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n            }, {\r\n              node: c2Hit_phys_enemyRes__\r\n            }]\r\n          },\r\n          launched: {\r\n            name: trm(\"c2.launched\"),\r\n            fields: [{\r\n              node: infoMut(c2Hit_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n            }, {\r\n              node: c2Hit_phys_enemyRes__\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.base, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          textSuffix: st(\"brHits\", { count: datamine.burst.baseTicks })\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.absorb, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n            textSuffix: st(\"brHits\", { count: datamine.burst.absorbTicks })\r\n          }]\r\n        }]))\r\n      }), ct.headerTemplate(\"burst\", { // Custom burst formula\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.full7, { key: `char_${key}:fullBurstDMG.dmg7`, variant: \"physical\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.full14, { key: `char_${key}:fullBurstDMG.dmg14`, variant: \"physical\" }),\r\n        }],\r\n        canShow: unequal(condBurstAbsorption, undefined, 1),\r\n      }), {\r\n        text: trm(\"fullBurstDMG.description\"),\r\n      }, ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          text: trm(\"regenEner\"),\r\n        }, {\r\n          text: trm(\"q\"),\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation6\", { // C6 Anemo\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        name: trm(\"c6\"),\r\n        states: {\r\n          takeDmg: {\r\n            fields: [{\r\n              node: infoMut(c6_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation6\", { // C6 elemental self-display\r\n        fields: absorbableEle.map(eleKey => (\r\n          { node: c6_ele_enemyRes_arr[`${eleKey}_enemyRes_`] }\r\n        )),\r\n        canShow: unequal(condBurstAbsorption, undefined,\r\n          equal(condC6, \"takeDmg\",\r\n            equal(target.charKey, key, 1)\r\n          )\r\n        ),\r\n      }), ct.conditionalTemplate(\"constellation6\", { // C6 elemental team-display\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        teamBuff: true,\r\n        canShow: equal(condC6, \"takeDmg\", unequal(input.activeCharKey, key, 1)),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: c6_ele_enemyRes_arr[`${eleKey}_enemyRes_`]\r\n          }]\r\n        }]))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\", [{ fields: [{ node: p3_staminaGlidingDec_ }] }]),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [\r\n        ct.conditionalTemplate(\"constellation4\", {\r\n          value: condC4,\r\n          path: condC4Path,\r\n          name: trm(\"c4\"),\r\n          states: {\r\n            pickup: {\r\n              fields: [{\r\n                node: c4_anemo_dmg_,\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Xiangling_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiangling\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4x4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg1: skillParam_gen.burst[b++],\r\n    dmg2: skillParam_gen.burst[b++],\r\n    dmg3: skillParam_gen.burst[b++],\r\n    dmgNado: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    atk_bonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    pyroRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    duration1: skillParam_gen.constellation2[0],\r\n    duration2: skillParam_gen.constellation2[1],\r\n    dmg: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation6: {\r\n    pyroDmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\n// A4\r\nconst [condAfterChiliPath, condAfterChili] = cond(key, \"afterChili\")\r\nconst afterChili = greaterEq(input.asc, 4,\r\n  equal(\"afterChili\", condAfterChili, percent(datamine.passive2.atk_bonus)))\r\n\r\n// C1\r\nconst [condAfterGuobaHitPath, condAfterGuobaHit] = cond(key, \"afterGuobaHit\")\r\nconst afterGuobaHit = greaterEq(input.constellation, 1,\r\n  equal(\"afterGuobaHit\", condAfterGuobaHit, percent(-datamine.constellation1.pyroRes)))\r\n\r\n// C6\r\nconst [condDuringPyronadoPath, condDuringPyronado] = cond(key, \"afterPyronado\")\r\nconst duringPyronado = greaterEq(input.constellation, 6,\r\n  equal(\"duringPyronado\", condDuringPyronado, percent(datamine.constellation6.pyroDmg))\r\n)\r\nconst antiC6 = prod(duringPyronado, -1)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg1: dmgNode(\"atk\", datamine.burst.dmg1, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n    dmg2: dmgNode(\"atk\", datamine.burst.dmg2, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.burst.dmg3, \"burst\"),\r\n    dmgNado: dmgNode(\"atk\", datamine.burst.dmgNado, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n  },\r\n  constellation2: {\r\n    dmg: customDmgNode(prod(input.total.atk, percent(datamine.constellation2.dmg)), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } })\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: afterChili,\r\n      pyro_dmg_: duringPyronado,\r\n      pyro_enemyRes_: afterGuobaHit,\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 3 ? st(\"brHits\", { count: 4 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` },)\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation1\", {\r\n        value: condAfterGuobaHit,\r\n        path: condAfterGuobaHitPath,\r\n        name: trm(\"afterGuobaHit\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterGuobaHit: {\r\n            fields: [{\r\n              node: afterGuobaHit\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg1, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dmg2, { key: `char_${key}_gen:burst.skillParams.1` },)\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dmg3, { key: `char_${key}_gen:burst.skillParams.2` },)\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dmgNado, { key: `char_${key}_gen:burst.skillParams.3` },)\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        value: condDuringPyronado,\r\n        path: condDuringPyronadoPath,\r\n        name: trm(\"duringPyronado\"),\r\n        teamBuff: true,\r\n        states: {\r\n          duringPyronado: {\r\n            fields: [{\r\n              text: trm(\"c6Exception\"),\r\n              canShow: data => data.get(input.constellation).value >= 6\r\n                && data.get(condDuringPyronado).value === \"duringPyronado\"\r\n            }, {\r\n              node: duringPyronado\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condAfterChili,\r\n        path: condAfterChiliPath,\r\n        name: trm(\"afterChili\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterChili: {\r\n            fields: [{\r\n              node: afterChili,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        fields: [{\r\n          value: datamine.constellation2.dmg,\r\n          node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:explosionDMG` }),\r\n        }]\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Xiao_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lookup, naught, prod, subscript, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiao\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[2], // 2\r\n      skillParam_gen.auto[3], // 3\r\n      skillParam_gen.auto[4], // 4\r\n      skillParam_gen.auto[6], // 5\r\n      skillParam_gen.auto[7], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[8], // 1\r\n    stamina: skillParam_gen.auto[9][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[10],\r\n    low: skillParam_gen.auto[11],\r\n    high: skillParam_gen.auto[12],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n    drain: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmgBonus: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    duration: skillParam_gen.passive2[0][0],\r\n    skillDmgBonus: skillParam_gen.passive2[1][0],\r\n    maxStacks: skillParam_gen.passive2[2][0],\r\n  },\r\n  passive3: {\r\n    staminaClimbingDec_: 0.20,\r\n  },\r\n  constellation2: {\r\n    enerRech_: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    hpThresh: skillParam_gen.constellation4[0],\r\n    def_: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    duration: skillParam_gen.constellation6[0]\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condInBurstPath, condInBurst] = cond(key, \"inBurst\")\r\nconst auto_dmg_ = subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" })\r\nconst normal_dmg_ = equal(\"inBurst\", condInBurst, auto_dmg_, { key: \"_\" })\r\nconst charged_dmg_ = { ...normal_dmg_ }\r\nconst plunging_dmg_ = { ...normal_dmg_ }\r\nconst lifeDrain = subscript(input.total.burstIndex, datamine.burst.drain)\r\nconst infusion = equalStr(\"inBurst\", condInBurst, elementKey)\r\n\r\nconst [condA1BurstStackPath, condA1BurstStack] = cond(key, \"a1BurstStack\")\r\nconst a1BurstStackArr = range(0, 4)\r\nconst all_dmg_ = equal(\"inBurst\", condInBurst,\r\n  lookup(condA1BurstStack,\r\n    Object.fromEntries(a1BurstStackArr.map(i => [i, prod(datamine.passive1.dmgBonus, i + 1)])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst [condA4SkillStackPath, condA4SkillStack] = cond(key, \"a4SkillStack\")\r\nconst a4SkillStackArr = range(1, datamine.passive2.maxStacks)\r\nconst skill_dmg_ = greaterEq(input.asc, 4,\r\n  lookup(condA4SkillStack,\r\n    Object.fromEntries(a4SkillStackArr.map(i => [i, prod(datamine.passive2.skillDmgBonus, i)])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst c2Inactive = greaterEq(input.constellation, 2,\r\n  unequal(input.activeCharKey, key, 1)\r\n)\r\nconst c2Inactive_enerRech_ = equal(c2Inactive, 1, datamine.constellation2.enerRech_)\r\n\r\nconst [condC4BelowHPPath, condC4BelowHP] = cond(key, \"c4BelowHP\")\r\nconst c4BelowHP_def_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4BelowHP\", condC4BelowHP, datamine.constellation4.def_))\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_,\r\n    plunging_dmg_,\r\n    all_dmg_,\r\n    skill_dmg_,\r\n    enerRech_: c2Inactive_enerRech_,\r\n    def_: c4BelowHP_def_,\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: infusion\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: st(\"charges\"),\r\n          value: data => data.get(input.constellation).value >= 1 ? 3 : 2,\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive2\", { // A4\r\n        path: condA4SkillStackPath,\r\n        value: condA4SkillStack,\r\n        name: trm(\"skillStack\"),\r\n        states: Object.fromEntries(a4SkillStackArr.map(i => [i, {\r\n          name: st(\"uses\", { count: i }),\r\n          fields: [{ node: skill_dmg_ }]\r\n        }]))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(auto_dmg_, { key: `char_${key}:burst.autoAtkDmgBonus_` }),\r\n        }, {\r\n          node: infoMut(lifeDrain, { key: `char_${key}:burst.lifeDrain_` }),\r\n          textSuffix: trm(\"burst.currentHPPerSec\"),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        path: condInBurstPath,\r\n        value: condInBurst,\r\n        name: trm(\"burst.inBurst\"),\r\n        states: {\r\n          inBurst: {\r\n            fields: [{\r\n              node: normal_dmg_,\r\n            }, {\r\n              node: charged_dmg_,\r\n            }, {\r\n              node: plunging_dmg_,\r\n            }, {\r\n              text: trm(\"burst.incJump\"),\r\n            }, {\r\n              text: trm(\"burst.incAtkAoe\"),\r\n            }, {\r\n              canShow: data => data.get(infusion).value === elementKey,\r\n              text: <ColorText color=\"anemo\">{st(\"infusion.anemo\")}</ColorText>\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", { // A1\r\n        path: condA1BurstStackPath,\r\n        value: condA1BurstStack,\r\n        name: trm(\"burst.stack\"),\r\n        canShow: equal(\"inBurst\", condInBurst, 1),\r\n        states: Object.fromEntries(a1BurstStackArr.map(i => [i, {\r\n          name: st(\"seconds\", { count: i * 3 }),\r\n          fields: [{ node: all_dmg_ }]\r\n        }]))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        canShow: equal(c2Inactive, 1, 1),\r\n        teamBuff: true,\r\n        fields: [{ node: c2Inactive_enerRech_ }],\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        path: condC4BelowHPPath,\r\n        value: condC4BelowHP,\r\n        name: st(\"lessPercentHP\", { percent: datamine.constellation4.hpThresh * 100 }),\r\n        states: {\r\n          c4BelowHP: {\r\n            fields: [{ node: c4BelowHP_def_ }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Xingqiu_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, min, percent, prod, subscript, sum, unit } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Xingqiu\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0\r\nexport const datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      (skillParam_gen.auto[0]),//1\r\n      (skillParam_gen.auto[1]),//2\r\n      (skillParam_gen.auto[2]),//3\r\n      // (skillParam_gen.auto[3]),\r\n      (skillParam_gen.auto[4]),//4\r\n      (skillParam_gen.auto[5]),//5\r\n      // (skillParam_gen.auto[6]),\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: (skillParam_gen.auto[7]),\r\n    hit2: (skillParam_gen.auto[8]),\r\n    stamina: skillParam_gen.auto[9][0]\r\n  },\r\n  plunging: {\r\n    dmg: (skillParam_gen.auto[10]),\r\n    low: (skillParam_gen.auto[11]),\r\n    high: (skillParam_gen.auto[12]),\r\n  },\r\n  skill: {\r\n    hit1: (skillParam_gen.skill[s++]),\r\n    hit2: (skillParam_gen.skill[s++]),\r\n    dmgRed_: (skillParam_gen.skill[s++]),\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: (skillParam_gen.burst[b++]),\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    hydro_dmg_: 0.20\r\n  },\r\n  constellation2: {\r\n    hydro_enemyRes_: -0.15,\r\n    skill_duration: 3\r\n  },\r\n  constellation4: {\r\n    dmg_: 0.50\r\n  },\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4, datamine.passive2.hydro_dmg_)\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst nodeC2 = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\", datamine.constellation2.hydro_enemyRes_))\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst nodeC4 = greaterEq(input.constellation, 4,\r\n  equal(condBurst, \"on\", datamine.constellation4.dmg_), { key: `char_${key}:c4dmg_` })\r\n\r\nconst nodeSkillDmgRed_ = equal(condSkill, \"on\",\r\n  sum(subscript(input.total.skillIndex, datamine.skill.dmgRed_, { key: \"_\" }), min(percent(0.24), prod(percent(0.2), input.premod.hydro_dmg_))))\r\n\r\nconst nodeA4Heal = customHealNode(greaterEq(input.asc, 1, prod(input.total.hp, percent(0.06))))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    // Multiplicative DMG increase requires customDmgNode\r\n    press1: customDmgNode(prod(\r\n      subscript(input.total.skillIndex, datamine.skill.hit1, { key: \"_\" }),\r\n      input.total.atk,\r\n      sum(unit, nodeC4)\r\n    ), \"skill\"),\r\n    press2: customDmgNode(prod(\r\n      subscript(input.total.skillIndex, datamine.skill.hit2, { key: \"_\" }),\r\n      input.total.atk,\r\n      sum(unit, nodeC4)\r\n    ), \"skill\"),\r\n    dmgRed_: nodeSkillDmgRed_,\r\n  },\r\n  passive1: {\r\n    healing: nodeA4Heal\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      hydro_enemyRes_: nodeC2,\r\n      dmgRed_: infoMut(nodeSkillDmgRed_, { key: \"dmgRed_\" }),\r\n    }\r\n  },\r\n  premod: {\r\n    hydro_dmg_: nodeA4,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.press2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? `${datamine.skill.duration}s + ${datamine.constellation2.skill_duration}`\r\n            : `${datamine.skill.duration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"skillCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: dmgFormulas.skill.dmgRed_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burstCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.1\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              node: nodeC4\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.healing, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: nodeA4\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2Cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Xinyan_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xinyan\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin: skillParam_gen.auto[a++],\r\n    final: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    shieldArr: [\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n    ],\r\n    lvl3Dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressPhysDmg: skillParam_gen.burst[b++],\r\n    dotPyroDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    physical_dmg_: skillParam_gen.passive2[0][0],\r\n  },\r\n  c1: {\r\n    atkSPD_: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n    cd: skillParam_gen.constellation1[1],\r\n  },\r\n  c2: {\r\n    burstphysical_critRate_: skillParam_gen.constellation2[0],\r\n  },\r\n  c4: {\r\n    physical_enemyRes_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  c6: {\r\n    staminaChargedDec_: -skillParam_gen.constellation6[0],\r\n    charged_atkBonus: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst [condSkillHitNumPath, condSkillHitNum] = cond(key, \"skillHitNum\")\r\n\r\nconst [condP2ShieldPath, condP2Shield] = cond(key, \"p2Shield\")\r\nconst p2Shield_physical_dmg_Disp = greaterEq(input.asc, 4, equal(condP2Shield, \"on\", datamine.passive2.physical_dmg_))\r\nconst p2Shield_physical_dmg_ = equal(input.activeCharKey, target.charKey, p2Shield_physical_dmg_Disp)\r\n\r\nconst [condC1CritPath, condC1Crit] = cond(key, \"c1Crit\")\r\nconst c1Crit_atkSPD_ = greaterEq(input.constellation, 1, equal(condC1Crit, \"on\", datamine.c1.atkSPD_))\r\n\r\nconst c2BurstPhysical_critRate_ = greaterEq(input.constellation, 2, datamine.c2.burstphysical_critRate_)\r\n\r\nconst [condC4SkillHitPath, condC4SkillHit] = cond(key, \"c4Burst\")\r\nconst c4SkillHit_physical_enemyRes_ = greaterEq(input.constellation, 4, equal(condC4SkillHit, \"on\", datamine.c4.physical_enemyRes_))\r\n\r\nconst c6_staminaChargedDec_ = greaterEq(input.constellation, 6, datamine.c6.staminaChargedDec_)\r\nconst [condC6ChargedPath, condC6Charged] = cond(key, \"c6Charged\")\r\nconst c6_chargedAtkBonus = greaterEq(input.constellation, 6,\r\n  equal(condC6Charged, \"on\",\r\n    prod(input.total.def, percent(datamine.c6.charged_atkBonus))\r\n  )\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spin: dmgNode(\"atk\", datamine.charged.spin, \"charged\"),\r\n    final: dmgNode(\"atk\", datamine.charged.final, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    ...Object.fromEntries(datamine.skill.shieldArr.map((data, i) => [\r\n      `normShield${i + 1}`,\r\n      shieldNodeTalent(\"def\", data.defShield_, data.baseShield, \"skill\"),\r\n    ])),\r\n    ...Object.fromEntries(datamine.skill.shieldArr.map((data, i) => [\r\n      `pyroShield${i + 1}`,\r\n      shieldElement(elementKey, shieldNodeTalent(\"def\", data.defShield_, data.baseShield, \"skill\"))\r\n    ])),\r\n    lvl3Dmg: dmgNode(\"atk\", datamine.skill.lvl3Dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    pressPhysDmg: dmgNode(\"atk\", datamine.burst.pressPhysDmg, \"burst\", {\r\n      hit: { ele: constant(\"physical\") },\r\n      premod: {\r\n        burst_critRate_: c2BurstPhysical_critRate_,\r\n      }\r\n    }),\r\n    dotPyroDmg: dmgNode(\"atk\", datamine.burst.dotPyroDmg, \"burst\"),\r\n  },\r\n} as const\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      physical_dmg_: p2Shield_physical_dmg_,\r\n      physical_enemyRes_: c4SkillHit_physical_enemyRes_,\r\n    }\r\n  },\r\n  premod: {\r\n    atkSPD_: c1Crit_atkSPD_,\r\n    staminaChargedDec_: c6_staminaChargedDec_,\r\n    atk: c6_chargedAtkBonus\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spin, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.final, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: `${datamine.charged.stamina}/s`,\r\n        }],\r\n      }, ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: c6_staminaChargedDec_\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6Charged,\r\n        path: condC6ChargedPath,\r\n        name: trm(\"c6.duringCharge\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c6_chargedAtkBonus\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillHitNum,\r\n        path: condSkillHitNumPath,\r\n        name: trm(\"skill.shieldLevel\"),\r\n        states: Object.fromEntries(range(1, 3).map(lvl => [ // For each level\r\n          lvl, {\r\n            name: trm(`skill.shieldLevels.${lvl}`),\r\n            fields: [\r\n              ...([\"norm\", \"pyro\"] as const).flatMap(type => ([{ // For each type of shield\r\n                node: infoMut(dmgFormulas.skill[`${type}Shield${lvl}`], // Make the node\r\n                  {\r\n                    key: type === \"norm\" // And change the key to match\r\n                      ? `char_${key}_gen:skill.skillParams.${lvl}`\r\n                      : `char_${key}:skill.pyroShield.${lvl}`\r\n                  }\r\n                )\r\n              },\r\n              ])), {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.skill.duration,\r\n                unit: \"s\",\r\n              },\r\n              // Level 3 damage\r\n              ...lvl === 3 ? [{ node: infoMut(dmgFormulas.skill.lvl3Dmg, { key: `char_${key}_gen:skill.skillParams.4` }) }] : [],\r\n            ]\r\n          }\r\n        ]))\r\n      }), ct.headerTemplate(\"passive1\", {\r\n        fields: [{\r\n          text: trm(\"p1.desc\"),\r\n        }]\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condP2Shield,\r\n        path: condP2ShieldPath,\r\n        name: trm(\"p2.activeShield\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(p2Shield_physical_dmg_Disp, { key: \"physical_dmg_\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4SkillHit,\r\n        path: condC4SkillHitPath,\r\n        name: trm(\"c4.swingHit\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c4SkillHit_physical_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.c4.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.pressPhysDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dotPyroDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(c2BurstPhysical_critRate_, { key: `char_${key}:c2.key_` }),\r\n        }, {\r\n          text: trm(\"c2.shield\"),\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1Crit,\r\n        path: condC1CritPath,\r\n        name: st(\"hitOp.crit\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c1Crit_atkSPD_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.c1.duration,\r\n              unit: \"s\",\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.c1.cd,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yae_Miko_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lessThan, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YaeMiko\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    dmg3: skillParam_gen.skill[s++],\r\n    dmg4: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    tenkoDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_dmg_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    ele_dmg_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    defIgn_: skillParam_gen.constellation6[0],\r\n  }\r\n\r\n} as const\r\n\r\nconst nodeAsc4 = greaterEq(input.asc, 4, prod(input.total.eleMas, percent(datamine.passive2.eleMas_dmg_, { fixed: 2 })))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"hit\", condC4, datamine.constellation4.ele_dmg_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, datamine.constellation6.defIgn_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg1: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg1, \"skill\")),\r\n    dmg2: dmgNode(\"atk\", datamine.skill.dmg2, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.skill.dmg3, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg4: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg4, \"skill\", { enemy: { defIgn: nodeC6 } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    tenkoDmg: dmgNode(\"atk\", datamine.burst.tenkoDmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  total: {\r\n    skill_dmg_: nodeAsc4,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_dmg_: nodeC4\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.4\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg3, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg4, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n        }],\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.tenkoDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [{ fields: [{ node: nodeAsc4 }] }]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: nodeC4,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yanfei_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, customShieldNode, dataObjForCharacterSheet, dmgNode, shieldElement } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Yanfei\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmgArr: [\r\n      skillParam_gen.auto[a++], // 0 seals\r\n      skillParam_gen.auto[a++], // 1 seal\r\n      skillParam_gen.auto[a++], // 2 seals\r\n      skillParam_gen.auto[a++], // 3 seals\r\n      skillParam_gen.auto[a++], // 4 seals\r\n    ],\r\n    unknown: {\r\n      arr: [\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n      ]\r\n    },\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    sealStaminaRed_: skillParam_gen.auto[a++][0],\r\n    maxSeals: 3,\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  sealDuration: skillParam_gen.auto[a++][0],\r\n  // There is another unknown here for auto\r\n  skill: {\r\n    dmg: skillParam_gen.skill[0],\r\n    cd: skillParam_gen.skill[1][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    charged_dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    sealInterval: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    seal_pyro_dmg_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n  },\r\n  passive2: {\r\n    dmg: percent(skillParam_gen.passive2[0][0])\r\n  },\r\n  c1: {\r\n    sealStaminaRed_: skillParam_gen.constellation1[0]\r\n  },\r\n  c2: {\r\n    hpThresh: skillParam_gen.constellation2[0],\r\n    charged_critRate_: skillParam_gen.constellation2[1]\r\n  },\r\n  c4: {\r\n    hpShield_: skillParam_gen.constellation4[0],\r\n    duration: 15,\r\n  },\r\n  c6: {\r\n    extraSeals: skillParam_gen.constellation6[0]\r\n  }\r\n} as const\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst_charged_dmg_ = equal(condAfterBurst, \"on\",\r\n  subscript(input.total.burstIndex, datamine.burst.charged_dmg_)\r\n)\r\n\r\nconst [condP1SealsPath, condP1Seals] = cond(key, \"p1Seals\")\r\nconst p1_pyro_dmg_ = greaterEq(input.asc, 1,\r\n  // TODO: Should be changing number of seals shown based on C6\r\n  lookup(condP1Seals, Object.fromEntries(range(1, 4).map(seals => [\r\n    seals,\r\n    prod(seals, datamine.passive1.seal_pyro_dmg_)\r\n  ])), naught)\r\n)\r\n\r\nconst [condP2ChargedCritPath, condP2ChargedCrit] = cond(key, \"p2ChargedCrit\")\r\n\r\nconst [condC2EnemyHpPath, condC2EnemyHp] = cond(key, \"c2EnemyHp\")\r\nconst c2EnemyHp_critRate_ = greaterEq(input.constellation, 2,\r\n  equal(condC2EnemyHp, \"on\", datamine.c2.charged_critRate_)\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: Object.fromEntries(datamine.charged.dmgArr.map((arr, i) =>\r\n    [i, i < 4\r\n      ? dmgNode(\"atk\", arr, \"charged\")\r\n      : greaterEq(input.constellation, 6, dmgNode(\"atk\", arr, \"charged\"))\r\n    ])),\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\")\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, equal(condP2ChargedCrit, \"on\",\r\n      customDmgNode(prod(input.total.atk, datamine.passive2.dmg), \"charged\")\r\n    ))\r\n  },\r\n  constellation4: {\r\n    pyro_shield: greaterEq(input.constellation, 4,\r\n      shieldElement(elementKey, customShieldNode(prod(input.total.hp, datamine.c4.hpShield_)))\r\n    ),\r\n    norm_shield: greaterEq(input.constellation, 4,\r\n      customShieldNode(prod(input.total.hp, datamine.c4.hpShield_))\r\n    ),\r\n  },\r\n} as const\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_: afterBurst_charged_dmg_,\r\n    charged_critRate_: c2EnemyHp_critRate_,\r\n    pyro_dmg_: p1_pyro_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [\r\n          // TODO: Would probably be better as a conditional,\r\n          // but can't make conditional states based on constellation value\r\n          ...datamine.charged.dmgArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.charged[i], { key: `char_${key}:charged.${i}` }),\r\n          })), {\r\n            text: tr(\"auto.skillParams.4\"),\r\n            // TODO: Should change this value based on how many seals, but can't do without conditional\r\n            // charged attack. And its a bit execssive.\r\n            value: datamine.charged.stamina,\r\n          }, {\r\n            text: st(\"staminaDec_\"),\r\n            value: datamine.charged.sealStaminaRed_ * 100,\r\n            textSuffix: trm(\"perSeal\"),\r\n            unit: \"%\",\r\n          }, {\r\n            text: trm(\"maxSeals\"),\r\n            value: data => data.get(input.constellation).value >= 6\r\n              ? datamine.charged.maxSeals + datamine.c6.extraSeals\r\n              : datamine.charged.maxSeals,\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.sealDuration,\r\n            unit: \"s\"\r\n          }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condP1Seals,\r\n        path: condP1SealsPath,\r\n        name: trm(\"passive1.sealsConsumed\"),\r\n        // TODO: Should be changing number of seals shown based on C6\r\n        states: Object.fromEntries(range(1, 4).map(seals => [\r\n          seals, {\r\n            name: trm(`seals.${seals}`),\r\n            fields: [{\r\n              node: p1_pyro_dmg_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        ]))\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condP2ChargedCrit,\r\n        path: condP2ChargedCritPath,\r\n        name: trm(\"passive2.chargedCrit\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:passive2.key` })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"c1.sealChargedStam_\"),\r\n          value: datamine.c1.sealStaminaRed_ * -100,\r\n          textSuffix: trm(\"perSeal\"),\r\n          unit: \"%\"\r\n        }, {\r\n          text: st(\"incInterRes\")\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2EnemyHp,\r\n        path: condC2EnemyHpPath,\r\n        name: st(\"enemyLessPercentHP\", { percent: datamine.c2.hpThresh * 100 }),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c2EnemyHp_critRate_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          text: trm(\"c6.maxSealInc\"),\r\n          value: datamine.c6.extraSeals\r\n        }]\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: trm(\"burst.grantMax\")\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.sealInterval,\r\n              unit: \"s\"\r\n            }, {\r\n              node: afterBurst_charged_dmg_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.norm_shield, { key: \"sheet_gen:dmgAbsorption\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.pyro_shield, { key: `sheet:dmgAbsorption.${elementKey}` })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.c4.duration,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yoimiya_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, matchFull, percent, prod, subscript, sum, unequal, unit } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { INodeFieldDisplay } from '../../../Types/IFieldDisplay'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst characterKey: CharacterKey = \"Yoimiya\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", characterKey)\r\nconst ct = charTemplates(characterKey, data_gen.weaponTypeKey, talentAssets)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], //x2\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3], //x2\r\n      skillParam_gen.auto[4],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit: skillParam_gen.auto[5],\r\n    full: skillParam_gen.auto[6],\r\n    kindling: skillParam_gen.auto[7],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    dmg_: skillParam_gen.skill[3],\r\n    duration: skillParam_gen.skill[1][0],\r\n    cd: skillParam_gen.skill[2][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[0],\r\n    exp: skillParam_gen.burst[1],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0]\r\n  },\r\n  passive1: {\r\n    pyro_dmg_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n    maxStacks: 10,\r\n  },\r\n  passive2: {\r\n    fixed_atk_: skillParam_gen.passive2[0][0],\r\n    var_atk_: skillParam_gen.passive2[1][0],\r\n    duration: skillParam_gen.passive2[2][0],\r\n  },\r\n  constellation1: {\r\n    burst_durationInc: skillParam_gen.constellation1[0],\r\n    atk_: skillParam_gen.constellation1[1],\r\n    duration: skillParam_gen.constellation1[2]\r\n  },\r\n  constellation2: {\r\n    pyro_dmg_: skillParam_gen.constellation2[0],\r\n    duration: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation3: {},\r\n  constellation4: {\r\n    cdRed: skillParam_gen.constellation4[0]\r\n  },\r\n  constellation5: {},\r\n  constellation6: {\r\n    chance: skillParam_gen.constellation6[0],\r\n    dmg_: skillParam_gen.constellation6[1],\r\n  },\r\n}\r\n\r\nconst [condSkillPath, condSkill] = cond(characterKey, \"skill\")\r\nconst [condBurstPath, condBurst] = cond(characterKey, \"burst\")\r\nconst [condA1Path, condA1] = cond(characterKey, \"a1\")\r\nconst [condC1Path, condC1] = cond(characterKey, \"c1\")\r\nconst [condC2Path, condC2] = cond(characterKey, \"c2\")\r\nconst const3TalentInc = greaterEq(input.constellation, 3, 3)\r\nconst const5TalentInc = greaterEq(input.constellation, 5, 3)\r\nconst normal_dmgMult = matchFull(condSkill, \"skill\", subscript(input.total.skillIndex, datamine.skill.dmg_, { key: \"_\" }), unit)\r\nconst a1Stacks = lookup(condA1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(i)])), 0)\r\nconst pyro_dmg_ = greaterEq(input.asc, 1, equal(condSkill, \"skill\", infoMut(prod(percent(datamine.passive1.pyro_dmg_), a1Stacks), { key: 'pyro_dmg_', variant: elementKey })))\r\nconst atk_ = greaterEq(input.asc, 4, equal(condBurst, \"on\", unequal(input.activeCharKey, characterKey,\r\n  sum(percent(datamine.passive2.fixed_atk_), prod(percent(datamine.passive2.var_atk_), a1Stacks)))))\r\nconst c1atk_ = equal(condC1, 'c1', percent(datamine.constellation1.atk_))\r\nconst c2pyro_dmg_ = equal(condC2, 'c2', percent(datamine.constellation2.pyro_dmg_), { key: 'pyro_dmg_', variant: elementKey })\r\n\r\nconst normalEntries = datamine.normal.hitArr.map((arr, i) => [\r\n  i,\r\n  customDmgNode(\r\n    prod(subscript(input.total.autoIndex, arr, { key: \"_\" }), input.total.atk, normal_dmgMult),\r\n    \"normal\", {\r\n    hit: {\r\n      ele: matchFull(condSkill, \"skill\", constant(elementKey), constant(\"physical\"))\r\n    }\r\n  }\r\n  )\r\n])\r\n\r\n// This might just need to be a single dmgNode of her kindling arrow, with proper scaling applied.\r\nconst kindlingEntries = normalEntries.map(([_, node], i) => [i, greaterEq(input.constellation, 6, equal(condSkill, \"skill\", prod(percent(datamine.constellation6.dmg_), node)))])\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(normalEntries),\r\n  charged: {\r\n    hit: dmgNode(\"atk\", datamine.charged.hit, \"charged\"),\r\n    full: dmgNode(\"atk\", datamine.charged.full, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n    kindling: unequal(condSkill, \"skill\", dmgNode(\"atk\", datamine.charged.kindling, \"charged\", { hit: { ele: constant(elementKey) } }))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {},\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n    exp: dmgNode(\"atk\", datamine.burst.exp, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  constellation6: Object.fromEntries(kindlingEntries)\r\n}\r\n\r\nexport const dataObj = dataObjForCharacterSheet(characterKey, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: const3TalentInc,\r\n    burst: const5TalentInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_,\r\n    }\r\n  },\r\n  premod: {\r\n    atk_: c1atk_,\r\n    pyro_dmg_: sum(pyro_dmg_, c2pyro_dmg_),\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.hit, { key: `char_${characterKey}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.full, { key: `char_${characterKey}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.kindling, { key: `char_${characterKey}_gen:auto.skillParams.7` }),\r\n        }],\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        name: st(\"afterUse.skill\"),\r\n        path: condSkillPath,\r\n        value: condSkill,\r\n        states: {\r\n          skill: {\r\n            fields: [{\r\n              text: trm(\"normMult\"),\r\n              value: data => data.get(normal_dmgMult).value * 100,\r\n              fixed: 1,\r\n              unit: \"%\",\r\n            }, {\r\n              text: trm(\"normPyroInfus\"),\r\n            }, {\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        // Conditional for self display\r\n        canShow: equal(condSkill, \"skill\", 1),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: tr(\"passive1.name\"),\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: `${i} stack`,\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }]\r\n        ))\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        canShow: equal(condSkill, \"skill\", 1),\r\n        fields: datamine.normal.hitArr.map((_, i): INodeFieldDisplay => ({\r\n          node: infoMut(dmgFormulas.constellation6[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${characterKey}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.exp, { key: `char_${characterKey}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: uiData => datamine.burst.duration + (uiData.get(input.constellation).value >= 1 ? datamine.constellation1.burst_durationInc : 0),\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: 60,\r\n        }]\r\n      }, ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: st(\"durationInc\"),\r\n          value: datamine.constellation1.burst_durationInc,\r\n          unit: \"s\"\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation1\", {\r\n        name: trm(\"c1\"),\r\n        value: condC1,\r\n        path: condC1Path,\r\n        states: {\r\n          c1: {\r\n            fields: [{\r\n              node: constant(datamine.constellation1.atk_, { key: \"atk_\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        teamBuff: true,\r\n        // Hide for Yoimiya\r\n        canShow: unequal(input.activeCharKey, characterKey, 1),\r\n        path: condBurstPath,\r\n        value: condBurst,\r\n        name: tr(\"burst.name\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atk_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        // Conditional from P1 for team buff display when P2 is activated\r\n        canShow: unequal(input.activeCharKey, characterKey,\r\n          equal(condBurst, \"on\", greaterEq(input.asc, 4, 1))\r\n        ),\r\n        teamBuff: true,\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: tr(\"passive1.name\"),\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: `${i} stack`,\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }]\r\n        ))\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        name: trm(\"c2\"),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        states: {\r\n          c2: {\r\n            fields: [{\r\n              node: c2pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: const3TalentInc }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: const5TalentInc }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\")\r\n    },\r\n  },\r\n}\r\n\r\nexport default new CharacterSheet(sheet, dataObj)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yun_Jin_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElements, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YunJin\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shield_: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgInc: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    triggerNum: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    dmgInc: skillParam_gen.passive2.map(a => a[0]),\r\n  },\r\n  constellation2: {\r\n    normalInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    atkSpd: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4,\r\n  subscript(sum(...allElements.map(ele => greaterEq(tally[ele], 1, 1))), [0, ...datamine.passive2.dmgInc], { key: '_' }))\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"skill\")\r\nconst nodeSkill = equal(\"on\", condBurst, sum(\r\n  prod(input.premod.def, sum(subscript(input.total.burstIndex, datamine.burst.dmgInc, { key: '_' }), nodeA4))))\r\n\r\nconst nodeC2 = greaterEq(input.constellation, 2, equal(\"on\", condBurst, datamine.constellation2.normalInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"on\", condC4, datamine.constellation4.def_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(\"on\", condBurst, datamine.constellation6.atkSpd))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"def\", datamine.skill.dmg, \"skill\"),\r\n    dmg1: dmgNode(\"def\", datamine.skill.dmg1, \"skill\"),\r\n    dmg2: dmgNode(\"def\", datamine.skill.dmg2, \"skill\"),\r\n    shield: shieldElement(\"geo\", shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\"))\r\n\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dmgInc: nodeSkill\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_: nodeC4,\r\n    atkSPD_: nodeC6,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmgInc: nodeSkill,\r\n      normal_dmg_: nodeC2,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i > 2 ? -1 : 0) + (i > 4 ? -1 : 0)}` }),\r\n          textSuffix: (i === 2 || i === 4) ? \"(1)\" : (i === 3 || i === 5) ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: data => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.cd} - 18% = ${(datamine.skill.cd * (1 - 0.18)).toFixed(2)}`\r\n            : `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }, {\r\n              node: nodeC2\r\n            }, {\r\n              node: nodeC6\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: tr(\"burst.skillParams.3\"),\r\n              value: datamine.burst.triggerNum,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{ node: infoMut(nodeA4, { key: `char_${key}:a4Inc_` }) }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [{ fields: [{ node: nodeC2 }] }]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC4\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../../../Types/character'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Zhongli_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, objectKeyValueMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Zhongli\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stele: skillParam_gen.skill[s++],\r\n    resonance: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n    holdDMG: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    shield_: skillParam_gen.skill[s++],\r\n    shileDuration: skillParam_gen.skill[s++][0],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n    enemyRes_: -0.2,\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    shield_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    auto_: skillParam_gen.passive2[p2++][0],\r\n    skill_: skillParam_gen.passive2[p2++][0],\r\n    burst_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    durationInc: skillParam_gen.constellation4[1]\r\n  },\r\n  constellation6: {\r\n    hp_: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst nodesSkill = objectKeyValueMap(allElementsWithPhy, k => [`${k}_enemyRes_`,\r\nequal(\"on\", condSkill, percent(datamine.skill.enemyRes_))])\r\n\r\nconst [condP1Path, condP1] = cond(key, \"p1\")\r\nconst nodeP1 = greaterEq(\r\n  input.asc, 1,\r\n  lookup(condP1, objectKeyMap(range(1, 5), i => percent(datamine.passive1.shield_ * i)), naught)\r\n)\r\n\r\nconst p4AutoDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.auto_), input.premod.hp))\r\nconst p4normalDmgInc = { ...p4AutoDmgInc }\r\nconst p4ChargedDmgInc = { ...p4AutoDmgInc }\r\nconst p4PlungingDmgInc = { ...p4AutoDmgInc }\r\nconst p4SKillDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.skill_), input.premod.hp))\r\nconst p4BurstDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.burst_), input.premod.hp))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6,\r\n  customHealNode(prod(\r\n    percent(datamine.constellation6.hp_),\r\n    input.total.hp\r\n  )))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stele: dmgNode(\"atk\", datamine.skill.stele, \"skill\"),\r\n    resonance: dmgNode(\"atk\", datamine.skill.resonance, \"skill\"),\r\n    holdDMG: dmgNode(\"atk\", datamine.skill.holdDMG, \"skill\"),\r\n    shield: shieldElement(\"geo\", shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\"))\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    p4normalDmgInc,\r\n    p4ChargedDmgInc,\r\n    p4PlungingDmgInc,\r\n    p4SKillDmgInc,\r\n    p4BurstDmgInc,\r\n  },\r\n  constellation6: {\r\n    heal: nodeC6\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    // TODO: below should be for `total`\r\n    normal_dmgInc: p4normalDmgInc,\r\n    charged_dmgInc: p4ChargedDmgInc,\r\n    plunging_dmgInc: p4PlungingDmgInc,\r\n    skill_dmgInc: p4SKillDmgInc,\r\n    burst_dmgInc: p4BurstDmgInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      shield_: nodeP1,\r\n      ...nodesSkill,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 4 ? st(\"brHits\", { count: 4 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.stele, { key: `char_${key}:skill.stele` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.resonance, { key: `char_${key}:skill.resonance` })\r\n        }, {\r\n          text: trm(\"skill.maxStele\"),\r\n          value: data => data.get(input.constellation).value >= 1 ? 2 : 1\r\n        }, {\r\n          text: st(\"pressCD\"),\r\n          value: datamine.skill.pressCD,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.holdDMG, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: datamine.skill.holdCD,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `sheet_gen:dmgAbsorption` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.shileDuration,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        teamBuff: true,\r\n        name: trm(\"skill.nearShield\"),\r\n        states: {\r\n          on: {\r\n            fields: Object.values(nodesSkill).map(node => ({ node }))\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: data =>\r\n            data.get(input.constellation).value < 4 ?\r\n              datamine.burst.duration[data.get(input.total.burstIndex).value] :\r\n              `${datamine.burst.duration[data.get(input.total.burstIndex).value]}s +${datamine.constellation4.durationInc}`,\r\n          fixed: 1,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        value: condP1,\r\n        path: condP1Path,\r\n        teamBuff: true,\r\n        name: trm(\"p1cond\"),\r\n        states: objectKeyMap(range(1, 5), i => ({ name: st(\"stack\", { count: i }), fields: [{ node: nodeP1 }] }))\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: p4normalDmgInc\r\n        }, {\r\n          node: p4ChargedDmgInc\r\n        }, {\r\n          node: p4PlungingDmgInc\r\n        }, {\r\n          node: p4SKillDmgInc\r\n        }, {\r\n          node: p4BurstDmgInc\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.fieldsTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation6.heal, { key: `char_${key}:c6heal`, variant: \"success\" })\r\n        }]\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { CharacterKey } from '../../Types/consts'\r\nimport CharacterSheet from './CharacterSheet'\r\n\r\nimport Albedo from './Albedo'\r\nimport Aloy from './Aloy'\r\nimport Amber from './Amber'\r\nimport AratakiItto from './AratakiItto'\r\nimport Barbara from './Barbara'\r\nimport Beidou from './Beidou'\r\nimport Bennett from './Bennett'\r\nimport Chongyun from './Chongyun'\r\nimport Diluc from './Diluc'\r\nimport Diona from './Diona'\r\nimport Eula from './Eula'\r\nimport Fischl from './Fischl'\r\nimport Ganyu from './Ganyu'\r\nimport Gorou from './Gorou'\r\nimport HuTao from './HuTao'\r\nimport Jean from './Jean'\r\nimport KaedeharaKazuha from './KaedeharaKazuha'\r\nimport Kaeya from './Kaeya'\r\nimport KamisatoAyaka from './KamisatoAyaka'\r\nimport KamisatoAyato from './KamisatoAyato'\r\nimport Keqing from './Keqing'\r\nimport Klee from './Klee'\r\nimport KujouSara from './KujouSara'\r\nimport Lisa from './Lisa'\r\nimport Mona from './Mona'\r\nimport Ningguang from './Ningguang'\r\nimport Noelle from './Noelle'\r\nimport Qiqi from './Qiqi'\r\nimport RaidenShogun from './RaidenShogun'\r\nimport Razor from './Razor'\r\nimport Rosaria from './Rosaria'\r\nimport SangonomiyaKokomi from './SangonomiyaKokomi'\r\nimport Sayu from './Sayu'\r\nimport Shenhe from \"./Shenhe\"\r\nimport Sucrose from \"./Sucrose\"\r\nimport Tartaglia from './Tartaglia'\r\nimport Thoma from './Thoma'\r\nimport Traveler from './Traveler'\r\nimport Venti from './Venti'\r\nimport Xiangling from './Xiangling'\r\nimport Xiao from './Xiao'\r\nimport Xingqiu from './Xingqiu'\r\nimport Xinyan from './Xinyan'\r\nimport YaeMiko from './YaeMiko'\r\nimport Yanfei from './Yanfei'\r\nimport Yoimiya from './Yoimiya'\r\nimport YunJin from './YunJin'\r\nimport Zhongli from './Zhongli'\r\n\r\nconst characters: Record<CharacterKey, CharacterSheet> = {\r\n  Albedo,\r\n  Aloy,\r\n  Amber,\r\n  AratakiItto,\r\n  Barbara,\r\n  Beidou,\r\n  Bennett,\r\n  Chongyun,\r\n  Diluc,\r\n  Diona,\r\n  Eula,\r\n  Fischl,\r\n  Ganyu,\r\n  Gorou,\r\n  HuTao,\r\n  Jean,\r\n  KaedeharaKazuha,\r\n  Kaeya,\r\n  KamisatoAyaka,\r\n  KamisatoAyato,\r\n  Keqing,\r\n  Klee,\r\n  KujouSara,\r\n  Lisa,\r\n  Mona,\r\n  Ningguang,\r\n  Noelle,\r\n  Qiqi,\r\n  RaidenShogun,\r\n  Razor,\r\n  Rosaria,\r\n  SangonomiyaKokomi,\r\n  Sayu,\r\n  Shenhe,\r\n  Sucrose,\r\n  Tartaglia,\r\n  Thoma,\r\n  Traveler,\r\n  Venti,\r\n  Xiangling,\r\n  Xiao,\r\n  Xingqiu,\r\n  Xinyan,\r\n  YaeMiko,\r\n  Yanfei,\r\n  Yoimiya,\r\n  YunJin,\r\n  Zhongli\r\n} as const\r\nexport default characters\r\n","import { transformativeReactions } from \"../KeyMap/StatConstants\";\r\nimport { absorbableEle } from \"../Types/consts\";\r\nimport { objectKeyMap } from \"../Util/Util\";\r\nimport { input } from \"./index\";\r\nimport { frac, infoMut, percent, prod, subscript, sum, unit } from \"./utils\";\r\n\r\n// https://github.com/Dimbreath/GenshinData/blob/72c9112a7c5e8e5014f61009a1a2764e266aeab7/ExcelBinOutput/ElementCoeffExcelConfigData.json\r\n//   or if the permalink is dead,\r\n// https://github.com/Dimbreath/GenshinData/blob/master/ExcelBinOutput/ElementCoeffExcelConfigData.json\r\n//\r\n// PlayerElementLevelCo\r\nexport const transformativeReactionLevelMultipliers = [-1.0, // lvl 0\r\n  17.165606, 18.535048, 19.904854, 21.274902, 22.6454, 24.649612, 26.640642, 28.868587, 31.36768, 34.143345, 37.201, 40.66, 44.446667, 48.56352, 53.74848, 59.081898, 64.420044, 69.72446, 75.12314, 80.58478, 86.11203, 91.70374, 97.24463, 102.812645, 108.40956, 113.20169, 118.102905, 122.97932, 129.72733, 136.29291, 142.67085, 149.02902, 155.41699, 161.8255, 169.10631, 176.51808, 184.07274, 191.70952, 199.55692, 207.38205, 215.3989, 224.16566, 233.50217, 243.35057, 256.06308, 268.5435, 281.52606, 295.01364, 309.0672, 323.6016, 336.75754, 350.5303, 364.4827, 378.61917, 398.6004, 416.39825, 434.387, 452.95105, 472.60623, 492.8849, 513.56854, 539.1032, 565.51056, 592.53876, 624.4434, 651.47015, 679.4968, 707.79407, 736.67145, 765.64026, 794.7734, 824.67737, 851.1578, 877.74207, 914.2291, 946.74677, 979.4114, 1011.223, 1044.7917, 1077.4437, 1109.9976, 1142.9766, 1176.3695, 1210.1844, 1253.8357, 1288.9528, 1325.4841, 1363.4569, 1405.0974, 1446.8535]\r\n// PlayerShieldLevelCo\r\nexport const crystallizeLevelMultipliers = [-1.0, // lvl 0\r\n  91.1791, 98.707664, 106.23622, 113.76477, 121.29332, 128.82188, 136.35042, 143.87898, 151.40752, 158.93608, 169.99149, 181.07625, 192.19037, 204.0482, 215.939, 227.86275, 247.68594, 267.5421, 287.4312, 303.82642, 320.22522, 336.62762, 352.31927, 368.01093, 383.70255, 394.43237, 405.18146, 415.94992, 426.73764, 437.5447, 450.6, 463.7003, 476.84558, 491.1275, 502.55457, 514.0121, 531.4096, 549.9796, 568.5849, 584.9965, 605.67035, 626.3862, 646.0523, 665.7556, 685.4961, 700.8394, 723.3331, 745.8653, 768.4357, 786.79193, 809.5388, 832.32904, 855.16266, 878.0396, 899.4848, 919.362, 946.0396, 974.7642, 1003.5786, 1030.077, 1056.635, 1085.2463, 1113.9244, 1149.2587, 1178.0648, 1200.2238, 1227.6603, 1257.243, 1284.9174, 1314.7529, 1342.6652, 1372.7524, 1396.321, 1427.3124, 1458.3745, 1482.3358, 1511.9109, 1541.5493, 1569.1537, 1596.8143, 1622.4197, 1648.074, 1666.3761, 1684.6782, 1702.9803, 1726.1047, 1754.6715, 1785.8666, 1817.1375, 1851.0603]\r\n\r\n\r\nconst asConst = true as const\r\n\r\nconst crystallizeMulti1 = subscript(input.lvl, crystallizeLevelMultipliers)\r\nconst crystallizeElemas = prod(40 / 9, frac(input.total.eleMas, 1400))\r\nconst crystallizeHit = infoMut(prod(sum(unit, /** + Crystallize bonus */ crystallizeElemas), crystallizeMulti1), { key: \"crystallize\", variant: \"geo\" })\r\n\r\nconst transMulti1 = subscript(input.lvl, transformativeReactionLevelMultipliers)\r\nconst transMulti2 = prod(16, frac(input.total.eleMas, 2000))\r\nconst trans = {\r\n  ...objectKeyMap([\"overloaded\", \"electrocharged\", \"superconduct\", \"shattered\"] as const, reaction => {\r\n    const { multi, variants: [ele] } = transformativeReactions[reaction]\r\n    return infoMut(prod(\r\n      infoMut(prod(multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total[`${reaction}_dmg_`]),\r\n      input.enemy[`${ele}_resMulti`]),\r\n      { key: `${reaction}_hit`, variant: reaction })\r\n  }),\r\n  swirl: objectKeyMap(transformativeReactions.swirl.variants, ele => infoMut(\r\n    prod(\r\n      infoMut(prod(transformativeReactions.swirl.multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total.swirl_dmg_),\r\n      input.enemy[`${ele}_resMulti`]),\r\n    { key: `${ele}_swirl_hit`, variant: ele }))\r\n}\r\nexport const reactions = {\r\n  anemo: {\r\n    electroSwirl: trans.swirl.electro,\r\n    pyroSwirl: trans.swirl.pyro,\r\n    cryoSwirl: trans.swirl.cryo,\r\n    hydroSwirl: trans.swirl.hydro,\r\n    shattered: trans.shattered,\r\n  },\r\n  geo: {\r\n    crystallize: crystallizeHit,\r\n    ...Object.fromEntries(absorbableEle.map(e => [`${e}Crystallize`,\r\n    infoMut(prod(percent(2.5), crystallizeHit), { key: `${e}_crystallize`, variant: e })])),\r\n    shattered: trans.shattered,\r\n  },\r\n  electro: {\r\n    overloaded: trans.overloaded,\r\n    electrocharged: trans.electrocharged,\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n  hydro: {\r\n    electrocharged: trans.electrocharged,\r\n    shattered: trans.shattered,\r\n  },\r\n  pyro: {\r\n    overloaded: trans.overloaded,\r\n    shattered: trans.shattered,\r\n  },\r\n  cryo: {\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n}\r\n"],"names":["charCurves","objectMap","_charCurves","value","Object","values","commonBasic","objectKeyMap","key","input","infusionNode","stringPrio","inferredHitEle","lookup","undefined","sword","claymore","polearm","catalyst","getTalentType","move","customDmgNode","base","additional","data","mergeData","hit","constant","ele","customShieldNode","shieldNode","prod","sum","unit","customHealNode","healNode","dmgNode","lvlMultiplier","talentType","subscript","percent","flat","shieldNodeTalent","baseMultiplier","talentIndex","shieldElement","element","infoMut","variant","healNodeTalent","dataObjForCharacterSheet","region","gen","display","curve","lvlCurve","basic","foundSpecial","charKey","weaponType","weaponTypeKey","premod","charEle","teamBuff","tally","reaction","reactions","layeredAssignment","physical_dmg_","stat","list","curves","push","ascensions","some","x","props","map","NaN","length","result","prefix","asConst","endsWith","info","slice","Error","special","allMainStatKeys","inferInfoMut","talentAssets","constellation1","constellation2","constellation3","constellation4","constellation5","constellation6","skill","burst","passive1","passive2","passive3","data_gen","data_gen_src","trans","tr","trm","ct","charTemplates","a","s","b","datamine","normal","hitArr","skillParam_gen","charged","dmg1","dmg2","stamina","plunging","dmg","low","high","skillDmg","blossomDmg","duration","cd","blossomCd","burstDmg","blossomAmt","enerCost","blossomDmgInc","hpThresh","eleMasInc","blossomEner","maxStacks","stackDuration","plunging_dmg_","bonus_dmg_","cond","condBurstBlossomPath","condBurstBlossom","condBurstUsedPath","condBurstUsed","p2Burst_eleMas","equal","greaterEq","condP1EnemyHpPath","condP1EnemyHp","p1_blossom_dmg_","condC2StacksPath","condC2Stacks","c2_burst_dmgInc","fromEntries","range","i","naught","condSkillInFieldPath","condSkillInField","c4_plunging_dmg_disp","c4_plunging_dmg_","target","condC6CrystallizePath","condC6Crystallize","c6_Crystal_all_dmg_disp","c6_Crystal_all_dmg_","dmgFormulas","arr","entries","blossom","total","skill_dmg_","skillC3","burstC5","bonus","eleMas","all_dmg_","burst_dmgInc","sheet","name","cardImg","card","thumbImg","thumb","thumbImgSide","thumbSide","bannerImg","banner","rarity","star","elementKey","gender","constellationName","title","talent","sheets","auto","talentTemplate","text","fields","_","node","textSuffix","sgt","conditionalTemplate","path","st","states","belowHp","headerTemplate","fixed","skillInField","canShow","c6Crystallize","isoOnField","count","burstUsed","CharacterSheet","p1","p2","aimed","aimedCharged","freezeBombDmg","chillWaterBomblets","atkDecrease","atkDecreaseDuration","coilNormalDmgBonus1","coilNormalDmgBonus2","coilNormalDmgBonus3","rushingNormalDmgBonus","rushingDuration","atkInc","teamAtkInc","cryoDmgBonus","condCoilPath","condCoil","normal_dmg_","atk_","unequal","condA1Path","condA1","teamAtk_","condA4Path","condA4","cryo_dmg_","matchFull","fieldsTemplate","inheritedHp","unknown","dmgPerWave","rainDmg","critRateInc","aoeInc","secArrowDmg","manualDetionationDmg","moveSpdInc","burst_critRate_","condC6Path","condC6","moveSPD_","secondAimed","secondAimedCharged","manualDetonationDmg","nodeC3","nodeC5","get","on","sSlash","akSlash","akFinal","stam","ss","hp","ss_cd","atkSpd","defConv","resDec","cost","atkSPD_","def_","initialStacks","timedStacks","burstCdRed","energyRegen","charged_critDMG_","condBurstPath","condBurst","condP1Path","condP1","condC4Path","condC4","nodeSkillHP","nodeBurstAtk","nodeBurstAtkSpd","allNodeBurstRes","allElementsWithPhy","nodeBurstInfusion","equalStr","nodeA4Bonus","nodeP1AtkSpd","nodeC2BurstRed","min","nodeC2EnergyRegen","nodeC4Atk","nodeC4Def","nodeC6CritDMG","charged_dmgInc","atk","infusion","nonOverridableSelf","cregen_hp_","cregen_hp","regen_hp_","regen_hp","hp_","ext","maxExt","cdDec","hydro_dmg_","condSkillPath","condSkill","nodeA1","nodeA1Display","condC2Path","condC2","nodeC2","nodeC2Display","regen","cregen","staminaDec_","spinningDmg","finalDmg","shieldHp_","shieldFlat","dmgBase","onHitDmgBonus","lightningDmg","damageReduction","energyCost","ascension4","normalDmg_","chargeDmg_","attackSpeed","electroResShred_","skillDmgOneHit","skillDmgTwoHits","nodeBurstElectroResRed_","nodeSkillNormalDmg_","nodeSkillChargeDmg_","nodeSkillAttackSpeed_","electroShield","shield","baseDmg","dmgOneHit","dmgTwoHits","customBonus","charged_dmg_","electro_enemyRes_","press","hold1_1","hold1_2","hold2_1","hold2_2","explosion","cd_press","cd_hold1","cd_hold2","regen_","regenFlat","atkBonus","cd_red","atk_inc","hp_thresh","er_inc","pyro_dmg","a1SkillCd","burstAtkRatio","burstAddlAtk","c1AtkRatio","c1AddlAtk","atkIncRatio","activeInAreaAtkDisp","condInAreaPath","condInArea","activeInArea","activeInAreaAtk","activeInAreaA4","c6AndCorrectWep","activeInAreaC6PyroDmg","activeInAreaC6Infusion","condUnderHPPath","condUnderHP","underHP","pyro_dmg_","team","enerRech_","calculateSkillCD","skillCD","cdFactor","spin_dmg","final_dmg","infusionDuration","fieldDuration","atk_spd","res","cdr","energy_regen","burst_dmg_","condAsc4Path","condAsc4","nodeAsc4","nodeAsc1Disp","nodeAsc1","correctWep","activeInAreaInfusion","nodeC6","cryo_enemyRes_","c2i","c6i","firstHit","secondHit","thridHit","slashDmg","dotDmg","explosionDmg","stamReduction","durationInc","pyroInc","dmgInc","hpThresh_","atkSpdInc","maxStack","condC1Path","condC1","nodeC1Bonus","nodeC2AtkBonus","nodeC2SpdBonus","nodeC6DmgBonus","nodeC6SpdBonus","skillAdditional","thirdHit","secondHitBoost","thirdHitBoost","icyPawDmg","cdPress","cdHold","fieldDmg","healHp_","healBase","moveSpeed_","stamRed_","atkRed_","icyPawDmg_","icyPawShield_","coopShield_","coopShieldDuration_","healingBonus_","emBonus","nodeC2skillDmg_","holdSkillShieldStr_","nodeC2shieldStr_","nodeSkillShieldPress","nodeSkillShieldHold","pressCryoShield","pressShield","holdCryoShield","holdShield","healDot","nodeA1MoveSpeed","nodeA1Stamina","nodeC6healing_Disp","nodeC6healing_","nodeC6emDisp","nodeC6em","incHeal_","lower","higher","hold","icewhirl","physResDec","cryoResDec","resDecDuration","pressCd","holdCd","defBonus","physResDecNegative","cryoResDecNegative","grimheartDuration","lightfallDmg","dmgPerStack","percentage","physInc","condGrimheartPath","condGrimheart","condLightfallSwordPath","condLightfallSword","condTidalIllusionPath","condTidalIllusion","physical_enemyRes_","lightSwordAdditional","lightFallSwordNew","shatteredLightfallSword","ozDmg","summonDmg","aimedChargedOz","lessThan","summonDmgC2","ozActiveCharDmg","additionalDmg","frostflake","frostflakeBloom","opCryoRes","enerRegen","cryo_dmg_disp","critRate_","fully","defInc","geo_dmg_","dmg_def","crystalDmg_def","crystalHits","skill_dmgInc","heal_def_","geo_critDMG_","condInFieldPath","condInField","skill1_defDisp","skill1_def","skill3_geo_dmg_Disp","skill3_geo_dmg_","condAfterBurstPath","condAfterBurst","afterBurst_def_","p2_skill_dmgInc","p2_burst_dmgInc","condAfterSkillBurstPath","condAfterSkillBurst","c6_geo_critDMG_","crystalCollapse","heal","def","inField","afterBurst","afterSkillBurst","activationCost","bloodBlossomDuration","maxAtkInc","lowHpDmg","lowHpRegen","minHp","pyroDmgInc","bloodBlossomDmgInc","elePhysResInc","condAfterlifePath","condAfterlife","critRateTeam_1","condA2Path","condA2","critRateTeam_2","ele_res_s","dmgC2","color","enterExitDmg","burstActivationAtkModifier","burstActionFlatModifier","burstRegenAtkModifier","burstRegenFlatModifier","chance","atkPercentage","increaseDmg","moveSpd","anemoRes","dmgReduction","contRegen","a1Regen","anemo_enemyRes_","Math","abs","dmgRed_disp","dmgRed_","dot","add","asorbAdd","elemas_dmg_","elemas","auto_","condBurstAbsorptionPath","condBurstAbsorption","condSkillAbsorptionPath","condSkillAbsorption","condSwirlPaths","absorbableEle","e","condSwirls","condReadNode","asc4","c2EleMas","condC2PPath","condC2P","c2PEleMasDisp","c2PEleMas","c6infusion","greaterEqStr","c6Dmg_","c6NormDmg_","c6ChargedDmg_","c6PlungingDmg_","passive","pdmg","plow","phigh","staminaSprintDec_","overridableSelf","eleKey","c2","c2p","c6","healAtk_","cooldown","cryoShield","condC1Cryo","nodeC1NormalCritRate","nodeC1ChargeCritRate","normal_critRate_","charged_critRate_","sprint","sp","cutDmg","bloomDmg","active_stam","drain_stam","dmg_bonus","cryo","snowflake","def_red","charged_bonus","condAfterSprintPath","condAfterSprint","afterSprintInfusion","condAfterSkillA1Path","condAfterSkillA1","a1NormDmg_","a1ChargedDmg_","condAfterApplySprintPath","condAfterApplySprint","afterApplySprintCryo","cutting","bloom","enemyDefRed_","afterSkill","c4","afterSprint","afterApplySprint","dmgArr","stateDuration","stackHpDmgInc","illusionDmg","illusionDuration","stacksGained","enerThres_","energyRestore","oppHpThres_","shunDmg_","extraStacks","stackThresh","atkSPD","extraStrikes","condInSkillPath","condInSkill","condSkillStacksPath","condSkillStacks","skillStacks_dmgInc","stacks","condBurstInAreaPath","condBurstInArea","burst_normal_dmg_Disp","burst_normal_dmg_","condC1OppHpPath","condC1OppHp","c1Shun_dmg_","c2_hp_","condC4AfterBurstPath","condC4AfterBurst","c4_atkSPD_","shunAddl","normal_dmgInc","stiletto","slash","thunderclap","initial","final","critInc_","enerRechInc_","electroInc","condAfterRecastPath","condAfterRecast","afterRecastInfusion","afterBurstCritRate_","afterBurstEnerRech_","condAfterReactPath","condAfterReact","afterReactAtk_","condC6StackPath","condC6Stack","c6Electro_dmg_","electro_dmg_","afterRecast","afterReact","jumptyDumptyDmg1","jumptyDumptyDmg2","jumptyDumptyDmg3","mineDmg","mineDuration","dmg_","jumptyDumptyDmg","chainedReactionsDmg","sparklyExplosionDmg","fullyAimed","titanBreakerDmg","stormClusterDmg","energyGen","er","crowfeatherDmg","condSkillTenguAmbushPath","condSkillTenguAmbush","skillTenguAmbush_disp","skillTenguAmbush_","c6ElectroCritDmg_","titanbreaker","stormcluster","electro_critDMG_","TenguJuuraiAmbush","stack0","stack1","stack2","stack3","holdCD","pressCD","tick","defShred","nodeA4DefShred","nodeC2DefIncrease","bubbleDuration","dmgBonusNeg","omenDuration","dmgBonus","torrentDuration","phantomDuration","electroChargeDmgInc","vaporizeDmgInc","hydroSwirlDmgInc","frozenExtension","critRateIncNeg","maxDmgBonus","condOmenPath","condOmen","condPoSPath","condPoS","electrocharged_dmg_","swirl_dmg_","vaporize_dmg_","condPoOPath","condPoO","condRoCPath","condRoC","jadeDmg","screenHpMod","screenHp","dmgPerGem","geoDmgBonus_","nodeA4GeoDmgBonus_","nodesC4","allElements","gemDmg","n","shieldDef","healDef","healChance","shieldDuration","healFlat","defToAtk","hpThreshold","healingChance","chargeStamina","burstAtkBonus","nodeSkillHealChanceBase","nodeSkillHealChanceC1BurstOn","nodeSkillHealChanceC1BurstOff","nodeC2ChargeDMG","nodeC2ChargeDec","nodeC4dmg","devotionShield","staminaChargedDec_","hitRegenPercent","hitRegenFlat","contRegenPercent","contRegenFlat","tickDmg","castDmg","healPercent","nodeA1HealingBonus","nodeC2ChargedDmgInc","nodeC2NormalDmgInc","hitRegen","coorDmg","burstDmg_bonus","resolveBonus1","resolveBonus2","resolveGained","hit1","hit2","hit3","hit41","hit42","hit5","charged1","charged2","plunge","plungeLow","plungeHigh","enerGen","electroDmg_bonus","def_ignore","atk_bonus","condSkillEyePath","condSkillEye","skillEye_","atkType","enemy","defIgn","energyCosts","condSkillEyeTeamPath","condSkillEyeTeam","skillEyeTeamBurstDmgInc","resolveStacks","condResolveStackPath","condResolveStack","resolveStackNode","resolveInitialBonus_","resolveInfusedBonus_","burstResolve","mvArr","resolveBonus","passive2ElecDmgBonus","c4AtkBonus_","skillEye","c","erBonus","companionDmg","atkSpdBonus","electroResBonus","cdRed","enerThreshold","erInc","sprintStaminaDec","allDmgInc","defDec","electroSigilGenerated","condElectroSigilPath","condElectroSigil","condTheWolfWithinPath","condTheWolfWithin","enerRechElectroSigil_","electro_res_","enerRechA4_","companionDmg1","companionDmg2","companionDmg3","companionDmg4","fullBurstDmg1","fullBurstDmg2","fullBurstDmg3","fullBurstDmg4","c1i","crInc","crBonus","maxBonus","physShred","nodeA1CritInc","nodeA4CritBonusDisp","nodeA4CritBonus","nodeC1AtkSpd","nodeC1NormalInc","nodeC6PhysShred","isTeamBuff","heal_","nBonus_","cBonus_","sBonus_","p","heal_ratio_","c1","s_heal_","nc_heal_","energy","hydro_","burstNormalDmgInc","burstChargedDmgInc","burstSkillDmgInc","passiveHeal_","passiveCritRate_","c2SkillHeal_","c2BurstHeal_","c4AtkSpd_","c6Hydro_","spin","wheelDmg","eleWheelDmg","kickPressDmg","kickHoldDmg","eleKickDmg","cdMin","cdMax","pressDmg","pressBaseHeal","pressAtkHeal","darumaDmg","darumaBaseHeal","darumaAtkHeal","darumaHits","baseHeal","emHeal","nearHeal","ener","darumaDmgInc","darumaHealInc","condActiveSwirlPath","condActiveSwirl","condC2SkillStackPath","condC2SkillStack","c2_kickPressDmg_","c2_kickDmg_","stack","c6_daruma_dmg_inc","c6_daruma_heal_inc","darumaHeal","pressHeal","extraHeal","burstC3","skillC5","activeSwirl","dmgAtk_","durationHold","trigger","triggerHold","res_","press_dmg_","durationPress","hold_dmg_","condQuillPath","condQuill","nodeSkill","enemyRes_","nodeBurstCryo_enemyRes_","nodeBurstPhysical_enemyRes_","condAsc1Path","condAsc1","nodeAsc4Press_skill_dmg_","nodeAsc4Press_burst_dmg_","nodeAsc4Hold","nodeAsc4Hold_normal_dmg_","nodeAsc4Hold_charged_dmg_","nodeAsc4Hold_plunging_dmg_","nodeC2Disp","c4Inc","quillDmg","cryo_dmgInc","cryo_critDMG_","quill","toString","field","eleMas_","ele_dmg_","condAbsorptionPath","condAbsorption","condSwirlReactionPath","condSwirlReaction","condSkillHitOpponentPath","condSkillHitOpponent","asc1Disp","asc1","asc4Disp","c6Base","c6Bonus","riptide","flashDmg","riptideDuration","stanceDmg","normal1","normal2","normal3","normal4","normal5","normal61","normal62","riptideSlash","chargedStamina","preemptiveCd1","preemptiveCd2","maxCd","meleeDmg","riptideBlastDmg","rangedDmg","enerReturned","durationExt","auto_boost","nodePassive","hpShield_","baseShield","maxHpShield_","maxBaseShield","collapseDmg","scorchingDuration","shield_","collapse_dmgInc","burstDuration","auto_dmg","condP1BarrierStacksPath","condP1BarrierStacks","p1_shield_","p2Collapse_dmgInc","condC6AfterBarrierPath","condC6AfterBarrier","c6_normal_dmg_","c6_charged_dmg_","c6_plunging_dmg_","minShield","minPyroShield","maxShield","maxPyroShield","pyroShield","skillAssets","strKey","Translate","ns","key18","initial_dmg","initial_max","storm_dmg","storm_max","absorbDmg","nodesC6","objectKeyValueMap","absorb","talentSheet","amulets","amuletDuration","enerRech_duration","thunderDmg","thunderCd","addlAmulets","electro_enemyRes","numAttacks","thunder_dmg_","condSkillAmuletPath","condSkillAmulet","p2_enerRech_","skillAmulet_enerRech_Disp","skillAmulet_enerRech_","burstEnergyRestore","condC2ThunderPath","condC2Thunder","c2Thunder_electro_enemyRes_","condC6After2ThunderPath","condC6After2Thunder","c6_thunder_dmg_","numShockwaves","skill_cdRed","geoDmg","maxTriggers","skillDuration","condC1BurstAreaPath","condC1BurstArea","c1BurstArea_critRate_Disp","c1BurstArea_critRate_","condC4BurstHitPath","condC4BurstHit","c4Burst_energyRestore","talents","anemo","geo","electro","anemoData","geoData","electroData","holdDmg","baseTicks","absorbTicks","stam_","dmgRatio","anemo_dmg_","p3_staminaGlidingDec_","c2Hit_anemo_enemyRes_","c2Hit_phys_enemyRes__","c4_anemo_dmg_","c6_anemo_enemyRes_","c6_ele_enemyRes_arr","full7","full14","staminaGlidingDec_","launched","takeDmg","pickup","dmg3","dmgNado","pyroRes","duration1","duration2","pyroDmg","condAfterChiliPath","condAfterChili","afterChili","condAfterGuobaHitPath","condAfterGuobaHit","afterGuobaHit","condDuringPyronadoPath","condDuringPyronado","duringPyronado","antiC6","pyro_enemyRes_","drain","skillDmgBonus","staminaClimbingDec_","condInBurstPath","condInBurst","auto_dmg_","lifeDrain","condA1BurstStackPath","condA1BurstStack","a1BurstStackArr","condA4SkillStackPath","condA4SkillStack","a4SkillStackArr","c2Inactive","c2Inactive_enerRech_","condC4BelowHPPath","condC4BelowHP","c4BelowHP_def_","inBurst","c4BelowHP","hydro_enemyRes_","skill_duration","nodeA4","nodeC4","nodeSkillDmgRed_","nodeA4Heal","press1","press2","healing","shieldArr","defShield_","lvl3Dmg","pressPhysDmg","dotPyroDmg","burstphysical_critRate_","charged_atkBonus","condSkillHitNumPath","condSkillHitNum","condP2ShieldPath","condP2Shield","p2Shield_physical_dmg_Disp","p2Shield_physical_dmg_","condC1CritPath","condC1Crit","c1Crit_atkSPD_","c2BurstPhysical_critRate_","condC4SkillHitPath","condC4SkillHit","c4SkillHit_physical_enemyRes_","c6_staminaChargedDec_","condC6ChargedPath","condC6Charged","c6_chargedAtkBonus","lvl","flatMap","type","dmg4","tenkoDmg","eleMas_dmg_","defIgn_","sealStaminaRed_","maxSeals","sealDuration","sealInterval","seal_pyro_dmg_","extraSeals","afterBurst_charged_dmg_","condP1SealsPath","condP1Seals","p1_pyro_dmg_","seals","condP2ChargedCritPath","condP2ChargedCrit","condC2EnemyHpPath","condC2EnemyHp","c2EnemyHp_critRate_","pyro_shield","norm_shield","characterKey","full","kindling","exp","fixed_atk_","var_atk_","burst_durationInc","const3TalentInc","const5TalentInc","normal_dmgMult","a1Stacks","c1atk_","c2pyro_dmg_","normalEntries","kindlingEntries","dataObj","includes","uiData","triggerNum","normalInc","toFixed","stele","resonance","holdDMG","shileDuration","skill_","burst_","nodesSkill","k","nodeP1","p4AutoDmgInc","p4normalDmgInc","p4ChargedDmgInc","p4PlungingDmgInc","p4SKillDmgInc","p4BurstDmgInc","plunging_dmgInc","Albedo","Aloy","Amber","AratakiItto","Barbara","Beidou","Bennett","Chongyun","Diluc","Diona","Eula","Fischl","Ganyu","Gorou","HuTao","Jean","KaedeharaKazuha","Kaeya","KamisatoAyaka","KamisatoAyato","Keqing","Klee","KujouSara","Lisa","Mona","Ningguang","Noelle","Qiqi","RaidenShogun","Razor","Rosaria","SangonomiyaKokomi","Sayu","Shenhe","Sucrose","Tartaglia","Thoma","Traveler","Venti","Xiangling","Xiao","Xingqiu","Xinyan","YaeMiko","Yanfei","Yoimiya","YunJin","Zhongli","crystallizeMulti1","crystallizeElemas","frac","crystallizeHit","transMulti1","transMulti2","transformativeReactions","multi","variants","swirl","electroSwirl","pyroSwirl","pyro","cryoSwirl","hydroSwirl","hydro","shattered","crystallize","overloaded","electrocharged","superconduct"],"sourceRoot":""}