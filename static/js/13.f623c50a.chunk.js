(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[13,19],{206:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(20),c=n(25),r=n(10),i=n(1),s=function(){return Object(i.jsx)(r.a,{icon:c.A})},l=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},207:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:n.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:n.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:n.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:n.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(130),c=n(69),r=n(20),i=n(9),s=n(4),l=n(18),o=n(70),u=n(122),d=n(108),j=n(41),b=n(87),O=n(40),v=n(212),h=n(14),f=n(12),m=n(48),p=n(213),x=function e(){if(Object(l.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};x.getElementalName=function(e){return b.a[e].name},x.getLevelString=function(e){return"".concat(e.level,"/").concat(j.a[e.ascension])},x.getTalentFieldValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(f.f)(e[t],n):a},x.hasOverride=function(e,t){return"finalHP"===t?x.hasOverride(e,"hp")||x.hasOverride(e,"hp_")||x.hasOverride(e,"characterHP"):"finalDEF"===t?x.hasOverride(e,"def")||x.hasOverride(e,"def_")||x.hasOverride(e,"characterDEF"):"finalATK"===t?x.hasOverride(e,"atk")||x.hasOverride(e,"atk_")||x.hasOverride(e,"characterATK"):!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},x.getBaseStatValue=function(e,t,n,a){return"enemyLevel"===a?e.level:a.includes("enemyRes_")?10:a in j.b?j.b[a]:0},x.getStatValueWithOverride=function(e,t,n,a){var c,r;return x.hasOverride(e,a)?null!==(c=null===(r=e.baseStatOverrides)||void 0===r?void 0:r[a])&&void 0!==c?c:0:x.getBaseStatValue(e,t,n,a)},x.calculateBuild=function(e,t,n,a,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var n=Object(s.a)(e,2),a=n[0],c=n[1];return[a,t._getArt(c)]}))),l=x.createInitialStats(e,t,n,a);return l.mainStatAssumptionLevel=r,x.calculateBuildwithArtifact(l,i,c)},x.calculateBuildwithArtifact=function(e,t,n){var a,c=o.a.setToSlots(t),r=u.a.setEffectsStats(n,e,c),l=Object(f.d)(e);Object.values(t).forEach((function(e){e&&(l[e.mainStatKey]=(l[e.mainStatKey]||0)+o.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(l.mainStatAssumptionLevel,4*e.rarity),e.level)),e.substats.forEach((function(e){return e&&e.key&&(l[e.key]=(l[e.key]||0)+e.value)})))})),Object(m.a)(l,r),d.a.parseConditionalValues({artifact:null===l||void 0===l||null===(a=l.conditionalValues)||void 0===a?void 0:a.artifact},(function(e,t,n){var a,r,i=Object(s.a)(n,3),o=i[1],u=i[2];if(!(parseInt(u)>(null!==(a=null===c||void 0===c||null===(r=c[o])||void 0===r?void 0:r.length)&&void 0!==a?a:0))){var j=d.a.resolve(e,l,t).stats;Object(m.a)(l,j)}})),l.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return[n,null===a||void 0===a?void 0:a.id]}))),l.setToSlots=c;var j=Object(v.a)(l,null===l||void 0===l?void 0:l.modifiers),b=Object(O.c)(j,l),h=b.initialStats;return(0,b.formula)(h),Object(i.a)(Object(i.a)({},l),h)},x.createInitialStats=function(e,t,n,l){var o,u,b,O,v=e=Object(f.d)(e),y=v.key,g=v.elementKey,w=v.level,S=v.ascension,N=v.hitMode,k=v.infusionAura,_=v.reactionMode,C=v.talent,E=v.constellation,T=v.equippedArtifacts,K=v.conditionalValues,A=void 0===K?{}:K,W=v.equippedWeapon,I=null!==(o=t._getWeapon(W))&&void 0!==o?o:Object(p.a)(n.weaponTypeKey),B=["enemyLevel"].concat(Object(r.a)(Object.keys(j.b))),V=Object.fromEntries(B.map((function(t){return[t,x.getStatValueWithOverride(e,n,l,t)]})));V.characterHP=n.getBase("hp",w,S),V.characterDEF=n.getBase("def",w,S),V.characterATK=n.getBase("atk",w,S),V.characterLevel=w,V.characterEle=null!==(u=null!==(b=n.elementKey)&&void 0!==b?b:g)&&void 0!==u?u:"anemo",V.characterKey=y,V.hitMode=N,V.infusionAura=k,V.reactionMode=_,V.conditionalValues=A,V.weaponType=n.weaponTypeKey,V.tlvl=Object.fromEntries(Object.entries(null!==C&&void 0!==C?C:{}).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1]-1]}))),V.constellation=E,V.ascension=S,V.weapon={key:I.key,refineIndex:I.refine-1},V.equippedArtifacts=T,["physical"].concat(Object(r.a)(h.d)).forEach((function(t){var a="".concat(t,"_enemyRes_");V[a]=x.getStatValueWithOverride(e,n,l,a),a="".concat(t,"_enemyImmunity"),V[a]=x.getStatValueWithOverride(e,n,l,a)}));var F=(null===(O=e)||void 0===O?void 0:O.baseStatOverrides)||{};Object.entries(F).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];V.hasOwnProperty(n)||(V[n]=a)}));var H=n.getSpecializedStat(S);if(H){var R=n.getSpecializedStatVal(S);Object(m.a)(V,Object(c.a)({},H,R))}for(var L in n.getTalentStatsAll(V,V.characterEle).forEach((function(e){return Object(m.a)(V,e)})),V.tlvl){var D;V.tlvl[L]+=null!==(D=V["".concat(L,"Boost")])&&void 0!==D?D:0}var M=l.getMainStatValue(I.level,I.ascension);V.weaponATK=M;var z=l.getSubStatKey();z&&Object(m.a)(V,Object(c.a)({},z,l.getSubStatValue(I.level,I.ascension))),Object(m.a)(V,l.stats(V));A.artifact;var q=A.weapon,P=Object(a.a)(A,["artifact","weapon"]);return d.a.parseConditionalValues(Object(i.a)(Object(i.a)({},I.key&&{weapon:Object(c.a)({},I.key,null===q||void 0===q?void 0:q[I.key])}),P),(function(e,t,n){if(("character"!==n[0]||"talents"!==n[3]||n[4]===g)&&d.a.canShow(e,V)){var a=d.a.resolve(e,V,t).stats;Object(m.a)(V,a)}})),V},x.getDisplayStatKeys=function(e,t){var n=t.characterSheet,a=t.weaponSheet,c=t.artifactSheets,r=e.characterEle,l=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(r,"_dmg_")];n.isAutoElemental||l.push("physical_dmg_");var o=Object(f.d)(O.a[r]),u=n.weaponTypeKey;o.includes("shattered_hit")||"claymore"!==u||o.push("shattered_hit");var j={},b=n.getTalent(r),v=function(t,n){return t.forEach((function(t){var a;t.formula&&(null===t||void 0===t||null===(a=t.canShow)||void 0===a?void 0:a.call(t,e))&&(j[n]||(j[n]=[]),j[n].push(t.formula.keys))}))},h=function(t,n){if(t.conditional&&d.a.canShow(t.conditional,e)){var a=d.a.resolve(t.conditional,e,null).fields;a&&v(a,n)}t.fields&&v(t.fields,n)};b&&Object.entries(b.sheets).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1].sections;"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto"),a.forEach((function(e){return h(e,"talentKey_".concat(n))}))}));var m="weapon_".concat(e.weapon.key);return a.document&&a.document.map((function(e){return h(e,m)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1],r=c[n];r&&Object.entries(r.setEffects).forEach((function(e){var t=Object(s.a)(e,2),c=t[0],r=t[1].document;a<parseInt(c)||r&&r.map((function(e){return h(e,"artifact_".concat(n,"_").concat(c))}))}))})),Object(i.a)(Object(i.a)({basicKeys:l},j),{},{transReactions:o})}},209:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return W}));var a=n(20),c=n(4),r=n(25),i=n(10),s=n(0),l=n(143),o=n(126),u=n(224),d=n(541),j=n(188),b=n(127),O=n(73),v=n(534),h=n(330),f=n(189),m=n(187),p=n(207),x=n(121),y=n(35),g=n(14),w=n(86),S=n(206),N=n(123),k=n(208),_=n(1);function C(e){var t=e.onSelect,n=e.weaponTypeKey,a=Object(s.useContext)(y.b),c=Object(w.b)(x.b.getAll(),[]);return Object(_.jsx)(_.Fragment,{children:a._getCharKeys().filter((function(e){var t;return!n||(null===c||void 0===c||null===(t=c[e])||void 0===t?void 0:t.weaponTypeKey)===n})).sort().map((function(e){return Object(_.jsx)(E,{characterKey:e,onSelect:t},e)}))})}function E(e){var t=e.characterKey,n=e.onSelect,a=Object(w.b)(x.b.get(t),[t]);return a?Object(_.jsx)(m.a.Item,{onClick:function(){return n(t)},children:a.nameWIthIcon}):null}function T(e){var t=e.characterSheet,n=e.onSelect,a=e.filter,r=Object(s.useState)(!1),i=Object(c.a)(r,2),d=i[0],j=i[1],b=t?Object(_.jsxs)("span",{children:[Object(_.jsx)(l.a,{src:t.thumbImg,className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(_.jsxs)("h6",{className:"d-inline",children:[" ",t.name," "]})]}):Object(_.jsx)("span",{children:"Select a Character"});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(o.a,{as:u.a,onClick:function(){return j(!0)},children:b}),Object(_.jsx)(W,{show:d,onHide:function(){return j(!1)},onSelect:n,filter:a})]})}var K={rarity:"Rarity",level:"Level",name:"Name"};function A(e,t){return t===e?"":t}function W(e){var t=e.show,n=e.onHide,m=e.onSelect,C=e.filter,E=void 0===C?function(){return!0}:C,T=Object(s.useContext)(y.b),W=Object(s.useState)((function(){return Object.keys(K)[0]})),I=Object(c.a)(W,2),B=I[0],V=I[1],F=Object(s.useReducer)(A,""),H=Object(c.a)(F,2),R=H[0],L=H[1],D=Object(s.useReducer)(A,""),M=Object(c.a)(D,2),z=M[0],q=M[1],P=Object(w.b)(x.b.getAll(),[]),U=function(e){var t,n;return null!==(t=null===(n=T._getChar(e))||void 0===n?void 0:n.level)&&void 0!==t?t:0},G=function(e){var t;return null===P||void 0===P||null===(t=P[e])||void 0===t?void 0:t.star},J=P?Object(a.a)(new Set(g.c)).filter((function(e){return E(T._getChar(e),P[e])})).filter((function(e){var t,n;return(!R||R===(null===P||void 0===P||null===(t=P[e])||void 0===t?void 0:t.elementKey))&&(!z||z===(null===P||void 0===P||null===(n=P[e])||void 0===n?void 0:n.weaponTypeKey))})).sort((function(e,t){if("name"===B)return e<t?-1:e>t?1:0;if("level"===B){var n=U(t)-U(e);return n||G(t)-G(e)}var a=G(t)-G(e);return a||U(t)-U(e)})):[];return P?Object(_.jsx)(d.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:n,children:Object(_.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",children:[Object(_.jsx)(j.a.Header,{children:Object(_.jsxs)(b.a,{children:[Object(_.jsx)(O.a,{xs:"auto",children:Object(_.jsx)(u.a,{children:g.d.map((function(e){return Object(_.jsx)(o.a,{variant:R&&R!==e?"secondary":e,className:"py-1 px-2 text-white",onClick:function(){return L(e)},children:Object(_.jsx)("h3",{className:"mb-0",children:N.b[e]})},e)}))})}),Object(_.jsx)(O.a,{children:Object(_.jsx)(u.a,{children:g.j.map((function(e){var t;return Object(_.jsx)(o.a,{variant:z&&z!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return q(e)},children:Object(_.jsx)("h3",{className:"mb-0",children:Object(_.jsx)(l.a,{src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(_.jsxs)(O.a,{xs:"auto",children:[Object(_.jsx)("span",{children:"Sort by: "}),Object(_.jsx)(v.a,{type:"radio",name:"level",value:B,onChange:V,children:Object.entries(K).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(_.jsx)(h.a,{value:n,variant:B===n?"success":"primary",children:Object(_.jsx)("h6",{className:"mb-0",children:a})},n)}))})]}),Object(_.jsx)(O.a,{xs:"auto",children:Object(_.jsx)(o.a,{onClick:n,variant:"danger",children:Object(_.jsx)(i.a,{icon:r.B})})})]})}),Object(_.jsx)(j.a.Body,{children:Object(_.jsx)(b.a,{children:J.map((function(e){var t,a=P[e],c=T._getChar(e);return Object(_.jsx)(O.a,{lg:3,md:4,className:"mb-2",children:Object(_.jsxs)(o.a,{className:"w-100",variant:"secondary",onClick:function(){n(),m(e)},children:[Object(_.jsx)("h5",{children:a.name}),Object(_.jsxs)(b.a,{children:[Object(_.jsx)(O.a,{xs:"auto",className:"pr-0",children:Object(_.jsx)(l.a,{src:a.thumbImg,className:"thumb-big grad-".concat(a.star,"star p-0"),thumbnail:!0})}),Object(_.jsxs)(O.a,{children:[c?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("h5",{className:"mb-0",children:["Lv. ",k.a.getLevelString(c)," ","C".concat(c.constellation)]}),Object(_.jsxs)("h6",{className:"mb-0",children:[Object(_.jsx)(f.a,{variant:"info",children:Object(_.jsx)("strong",{className:"mx-1",children:c.talent.auto})})," ",Object(_.jsx)(f.a,{variant:"info",children:Object(_.jsx)("strong",{className:"mx-1",children:c.talent.skill})})," ",Object(_.jsx)(f.a,{variant:"info",children:Object(_.jsx)("strong",{className:"mx-1",children:c.talent.burst})})]})]}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("h4",{children:Object(_.jsx)(f.a,{variant:"primary",children:"NEW"})})}),Object(_.jsx)("h6",{className:"mb-0",children:Object(_.jsx)(S.a,{stars:a.star,colored:!0})}),Object(_.jsxs)("h3",{className:"mb-0",children:[a.elementKey&&N.a[a.elementKey]," ",Object(_.jsx)(l.a,{src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[a.weaponTypeKey],className:"inline-icon"})]})]})]})]})},e)}))})})]})}):null}},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a,c=n(106),r=n(25),i=n(10),s=n(187),l=n(120),o=n(121),u=n(86),d=n(209),j=n(1);function b(e){var t=e.location,n=e.onEquip,b=e.weaponTypeKey,O=e.disableUnequip,v=void 0!==O&&O,h=e.editable,f=void 0!==h&&h,m=Object(l.a)(["artifact"]).t,p=Object(u.b)(o.b.get(t),[t]),x=(null===p||void 0===p?void 0:p.name)?p.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(i.a,{icon:r.c})," ",m(a||(a=Object(c.a)(["filterLocation.inventory"])))]});return f?Object(j.jsxs)(s.a,{children:[Object(j.jsx)(s.a.Toggle,{className:"text-left",children:x}),Object(j.jsxs)(s.a.Menu,{children:[!v&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(s.a.Item,{onClick:function(){},children:[Object(j.jsx)(i.a,{icon:r.c})," Inventory"]}),Object(j.jsx)(s.a.Divider,{})]}),Object(j.jsx)(d.b,{onSelect:n,weaponTypeKey:b})]})]}):x}},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),c=n(20),r=n(71),i=n(40);function s(e){var t=new Set;return e(new Proxy({},{get:function(e,n,a){t.add(n.toString())}})),Object(c.a)(t)}var l=Object.freeze(Object.fromEntries(Object.entries(i.b).map((function(e){var t=Object(a.a)(e,2);return[t[0],s(t[1])]}))));function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(i.d),a=new Set,r=[new Set,new Set];return n.forEach((function(n){return u(e,n,t,r,a)})),r.flatMap((function(e){return Object(c.a)(e)}))}function u(e,t,n,a,c){var s,o;c.has(t)||(c.add(t),null===(s=l[t])||void 0===s||s.forEach((function(t){return u(e,t,n,a,c)})),(null!==(o=n[t])&&void 0!==o?o:[]).forEach((function(t){return r.a.getCurrent(t,e)[1].forEach((function(t){return u(e,t,n,a,c)}))})),a[Object(i.e)(t)].add(t))}},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a=function(e){return c(function(e){switch(e){case"sword":return"DullBlade";case"bow":return"HuntersBow";case"claymore":return"WasterGreatsword";case"polearm":return"BeginnersProtector";case"catalyst":return"ApprenticesNotes";default:return"DullBlade"}}(e))},c=function(e){return{id:"",key:e,level:1,ascension:0,refine:1,location:""}}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(4),c=n(25),r=n(10),i=n(0),s=n(188),l=n(143),o=n(127),u=n(73),d=n(126),j=n(207),b=n(210),O=n(206),v=n(123),h=n(35),f=n(34),m=n(86),p=n(124),x=n(1);function y(e){var t,n=e.weaponId,y=e.onEdit,g=e.onDelete,w=e.onClick,S=e.cardClassName,N=void 0===S?"":S,k=e.bg,_=void 0===k?"":k,C=e.footer,E=void 0!==C&&C,T=e.editable,K=void 0!==T&&T,A=Object(i.useContext)(h.b),W=Object(i.useState)(void 0),I=Object(a.a)(W,2),B=I[0],V=I[1];Object(i.useEffect)((function(){return n?A.followWeapon(n,V):void 0}),[n,V,A]);var F=B,H=Object(m.b)((null===F||void 0===F?void 0:F.key)&&p.a.get(F.key),[null===F||void 0===F?void 0:F.key]);if(!F||!H)return null;var R=F.level,L=F.ascension,D=F.refine,M=(F.id,H.weaponType),z=H.getMainStatValue(R,L).toFixed(f.b.fixedUnit("atk")),q=H.getSubStatKey(),P=H.getSubStatValue(R,L).toFixed(f.b.fixedUnit(q)),U=p.a.getLevelString(F),G=[["weaponATK",z]];return(null===H||void 0===H?void 0:H.passiveName)&&G.push([q,P]),Object(x.jsxs)(s.a,{className:N,bg:_||"darkcontent",text:"lightfont",children:[Object(x.jsxs)(s.a.Header,{children:[Object(x.jsx)(l.a,{src:null===(t=j.a.weaponTypes)||void 0===t?void 0:t[M],className:"inline-icon"})," ",Object(x.jsx)("h5",{className:"d-inline",children:H.name})]}),Object(x.jsxs)(s.a.Body,{onClick:function(){return null===w||void 0===w?void 0:w(n)},className:w?"cursor-pointer":"",children:[Object(x.jsxs)(o.a,{children:[Object(x.jsx)(u.a,{xs:"auto",className:"pr-0",children:Object(x.jsx)(l.a,{src:H.img,className:"thumb-big grad-".concat(H.rarity,"star p-0"),thumbnail:!0})}),Object(x.jsxs)(u.a,{children:[Object(x.jsxs)("h5",{className:"mb-0",children:["Level ",U," "]}),Object(x.jsxs)("h5",{children:["Refinement ",D]}),Object(x.jsx)("h6",{className:"mb-0",children:Object(x.jsx)(O.a,{stars:H.rarity,colored:!0})})]})]}),Object(x.jsx)(o.a,{children:G.map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1],r=f.b.getStatUnit(n);return Object(x.jsxs)(u.a,{xs:12,children:[Object(x.jsxs)("h6",{className:"d-inline",children:[v.a[n]," ",f.b.getStatName(n)]}),Object(x.jsx)("span",{className:"float-right",children:c+r})]},n)}))}),!1]}),E&&Object(x.jsx)(s.a.Footer,{children:Object(x.jsxs)(o.a,{children:[Object(x.jsx)(u.a,{children:Object(x.jsx)(b.a,{location:null===F||void 0===F?void 0:F.location,onEquip:function(e){return A.setWeaponLocation(n,e)},weaponTypeKey:M,disableUnequip:!!F.location,editable:K})}),Object(x.jsx)(u.a,{xs:"auto",children:Object(x.jsxs)("span",{className:"float-right align-top ml-1",children:[y&&Object(x.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return y(n)},children:Object(x.jsx)(r.a,{icon:c.k})}),g&&Object(x.jsx)(d.a,{variant:"danger",size:"sm",disabled:!!F.location,onClick:function(){return g(n)},children:Object(x.jsx)(r.a,{icon:c.E})})]})})]})})]})}},218:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return w}));var a=n(20),c=n(4),r=n(25),i=n(10),s=n(0),l=n(541),o=n(188),u=n(127),d=n(73),j=n(224),b=n(126),O=n(143),v=n(207),h=n(206),f=n(14),m=n(86),p=n(124),x=n(1);function y(e,t){return t===e?"":t}function g(e){var t=e.show,n=e.onHide,g=e.onSelect,w=e.filter,S=void 0===w?function(){return!0}:w,N=Object(m.b)(p.a.getAll(),[]),k=Object(s.useReducer)(y,""),_=Object(c.a)(k,2),C=_[0],E=_[1],T=N?Object(a.a)(new Set(f.i)).filter((function(e){return S(N[e])})).filter((function(e){var t;return!C||C===(null===N||void 0===N||null===(t=N[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var n,a,c,r;return(null!==(n=null===N||void 0===N||null===(a=N[t])||void 0===a?void 0:a.rarity)&&void 0!==n?n:0)-(null!==(c=null===N||void 0===N||null===(r=N[e])||void 0===r?void 0:r.rarity)&&void 0!==c?c:0)})):[];return N?Object(x.jsx)(l.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:n,children:Object(x.jsxs)(o.a,{bg:"lightcontent",text:"lightfont",children:[Object(x.jsx)(o.a.Header,{children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(j.a,{children:f.j.map((function(e){var t;return Object(x.jsx)(b.a,{variant:C&&C!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return E(e)},children:Object(x.jsx)("h3",{className:"mb-0",children:Object(x.jsx)(O.a,{src:null===(t=v.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(x.jsx)(d.a,{xs:"auto",children:Object(x.jsx)(b.a,{onClick:n,variant:"danger",children:Object(x.jsx)(i.a,{icon:r.B})})})]})}),Object(x.jsx)(o.a.Body,{children:Object(x.jsx)(u.a,{children:T.map((function(e){var t,a=N[e];return Object(x.jsx)(d.a,{lg:3,md:4,className:"mb-2",children:Object(x.jsx)(b.a,{className:"w-100 h-100 align-top",variant:"secondary",onClick:function(){n(),g(e)},children:Object(x.jsxs)(u.a,{className:"h-100",children:[Object(x.jsx)(d.a,{xs:"auto",className:"pr-0",children:Object(x.jsx)(O.a,{src:a.img,className:"thumb-big grad-".concat(a.rarity,"star p-0"),thumbnail:!0})}),Object(x.jsxs)(d.a,{children:[Object(x.jsxs)("h5",{className:"mb-0",children:[Object(x.jsx)(O.a,{src:null===(t=v.a.weaponTypes)||void 0===t?void 0:t[a.weaponType],className:"inline-icon"})," ",a.name]}),Object(x.jsx)("h6",{className:"mb-0",children:Object(x.jsx)(h.a,{stars:a.rarity,colored:!0})})]})]})})},e)}))})})]})}):null}function w(e){var t,n=e.weaponSheet,a=e.onSelect,r=e.filter,i=Object(s.useState)(!1),l=Object(c.a)(i,2),o=l[0],u=l[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.a,{as:j.a,onClick:function(){return u(!0)},children:null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:"Select a Weapon"}),Object(x.jsx)(g,{show:o,onHide:function(){return u(!1)},onSelect:a,filter:r})]})}},538:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var a=n(47),c=n.n(a),r=n(57),i=n(4),s=n(25),l=n(10),o=n(111),u=n(0),d=n(191),j=n(127),b=n(73),O=n(188),v=n(224),h=n(126),f=n(143),m=n(534),p=n(330),x=n(49),y=n(207),g=n(35),w=n(28),S=n(14),N=n(86),k=n(217),_=n(218),C=n(124),E=n(213),T=n(1),K=Object(u.lazy)((function(){return Promise.all([n.e(1),n.e(23)]).then(n.bind(null,329))})),A={level:"Level",rarity:"Rarity"};function W(e,t){return t===e?"":t}function I(e){var t,n=Object(u.useContext)(g.b),a=Object(u.useState)(""),I=Object(i.a)(a,2),B=I[0],V=I[1],F=Object(u.useState)((function(){return Object.keys(A)[0]})),H=Object(i.a)(F,2),R=H[0],L=H[1],D=Object(u.useReducer)(W,""),M=Object(i.a)(D,2),z=M[0],q=M[1],P=Object(u.useState)(!1),U=Object(i.a)(P,2),G=U[0],J=U[1],Q=Object(N.a)(),X=Object(i.a)(Q,2)[1],Y=Object(u.useRef)(null);Object(u.useEffect)((function(){x.a.pageview("/weapon");var e=w.b.get("WeaponDisplay.state");if(e){var t=e.charIdToEdit,a=e.sortBy,c=e.weaponFilter;V(t),L(a),S.j.includes(c)&&q(c)}return n.followAnyWeapon(X)}),[X,n]);var Z=null!==(t=Object(N.b)(C.a.getAll(),[]))&&void 0!==t?t:{},$=function(e){var t,a;return null!==(t=null===(a=n._getWeapon(e))||void 0===a?void 0:a.level)&&void 0!==t?t:0},ee=function(e){var t,a;return null===(t=Z[null===(a=n._getWeapon(e))||void 0===a?void 0:a.key])||void 0===t?void 0:t.star};Object(u.useEffect)((function(){var e={charIdToEdit:B,sortBy:R,weaponFilter:z};w.b.set("WeaponDisplay.state",e)}),[B,R,z]);var te=Object(u.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n._getWeapon(t)){e.next=3;break}return e.abrupt("return");case 3:if(r=o.a.t("weapon_".concat(a.key,"_gen:name")),window.confirm("Are you sure you want to remove ".concat(r,"?"))){e.next=6;break}return e.abrupt("return");case 6:n.removeWeapon(t),B===t&&V("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[B,V,n]),ne=Object(u.useCallback)((function(e){V(e),setTimeout((function(){var e;null===(e=Y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[V,Y]),ae=Object(u.useCallback)((function(e){ne(n.createWeapon(Object(E.b)(e)))}),[n,ne]),ce=n.weapons.keys.filter((function(e){var t,a=n._getWeapon(e);return!!a&&(!z||z===(null===(t=Z[a.key])||void 0===t?void 0:t.weaponType))})).sort((function(e,t){if("level"===R){var n=$(t)-$(e);return n||ee(t)-ee(e)}var a=ee(t)-ee(e);return a||$(t)-$(e)}));return Object(T.jsxs)(d.a,{ref:Y,className:"mt-2",children:[B?Object(T.jsx)(j.a,{className:"mt-2",children:Object(T.jsx)(b.a,{children:Object(T.jsx)(K,{weaponId:B,editable:!0,footer:!0,onClose:function(){return V("")}})})}):null,Object(T.jsx)(O.a,{bg:"darkcontent",text:"lightfont",className:"mt-2",children:Object(T.jsx)(O.a.Body,{className:"p-2",children:Object(T.jsxs)(j.a,{children:[Object(T.jsx)(b.a,{children:Object(T.jsx)(v.a,{children:S.j.map((function(e){var t;return Object(T.jsx)(h.a,{variant:z&&z!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return q(e)},children:Object(T.jsx)("h3",{className:"mb-0",children:Object(T.jsx)(f.a,{src:null===(t=y.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(T.jsxs)(b.a,{xs:"auto",children:[Object(T.jsx)("span",{children:"Sort by: "}),Object(T.jsx)(m.a,{type:"radio",name:"level",value:R,onChange:L,children:Object.entries(A).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(T.jsx)(p.a,{value:n,variant:R===n?"success":"primary",children:Object(T.jsx)("h6",{className:"mb-0",children:a})},n)}))})]})]})})}),Object(T.jsxs)(j.a,{className:"mt-2",children:[!B&&Object(T.jsx)(b.a,{lg:4,md:6,className:"mb-2",children:Object(T.jsxs)(O.a,{className:"h-100",bg:"darkcontent",text:"lightfont",children:[Object(T.jsx)(O.a.Header,{className:"pr-2",children:Object(T.jsx)("span",{children:"Add New Weapon"})}),Object(T.jsx)(O.a.Body,{className:"d-flex flex-column justify-content-center",children:Object(T.jsx)(j.a,{className:"d-flex flex-row justify-content-center",children:Object(T.jsxs)(b.a,{xs:"auto",children:[Object(T.jsx)(h.a,{onClick:function(){return J(!0)},children:Object(T.jsx)("h1",{children:Object(T.jsx)(l.a,{icon:s.u,className:"fa-fw"})})}),Object(T.jsx)(_.b,{show:G,onHide:function(){return J(!1)},onSelect:ae})]})})})]})}),ce.map((function(e){return Object(T.jsx)(b.a,{lg:4,md:6,className:"mb-2",children:Object(T.jsx)(k.a,{weaponId:e,cardClassName:"h-100",onDelete:te,onEdit:ne,onClick:ne,footer:!0,editable:!0})},e)}))]})]})}}}]);
//# sourceMappingURL=13.f623c50a.chunk.js.map