(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[18],{286:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),c=a(1),i=a(174),r=a(42);function l(e){var t=Object(c.useContext)(i.b);return Object(c.useCallback)((function(a){if(e)if("type"in a)switch(a.type){case"weapon":t.setWeaponLocation(a.id,e);break;case"editStats":var c,i=t._getChar(e),l=a.statKey,s=a.value,o=i.bonusStats;if(o[l]===s)return;if(r.e.includes(l))(null!==(c=Object(r.a)(i)[l])&&void 0!==c?c:0)===s?delete o[l]:o[l]=s;else s?o[l]=s:delete o[l];t.updateChar(Object(n.a)(Object(n.a)({},i),{},{bonusStats:o}));break;case"resetStats":var j=t._getChar(e),d=a.statKey,u=j.bonusStats;delete u[d],t.updateChar(Object(n.a)(Object(n.a)({},j),{},{bonusStats:u}))}else t.updateChar(Object(n.a)(Object(n.a)({},t._getChar(e)),a))}),[e,t])}},287:function(e,t,a){"use strict";a.d(t,"b",(function(){return O})),a.d(t,"a",(function(){return v}));var n=a(51),c=a(17),i=a(79),r=a(221),l=a(394),s=a(10),o=a(270),j=a(1),d=a(112),u=a(283),b=a(297),h=a(32),x=a(0);function O(e){var t,a,s=e.field,o=Object(j.useContext)(d.a),O=o.newBuild,v=o.equippedBuild,p=o.compareBuild,f=O||v,m=Object(j.useMemo)((function(){var e;return!!f&&(null===s||void 0===s||null===(e=s.canShow)||void 0===e?void 0:e.call(s,f))}),[s,f]),g=(null===s||void 0===s?void 0:s.fixed)||0,y=Object(j.useMemo)((function(){if(s.value)return u.a.getTalentFieldValue(s,"value",f);if(s.formula){var e,t,a=null===(e=u.a.getTalentFieldValue(s,"formula",f))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.call(e,f);if(p&&v&&"number"===typeof a){var n,c,i,r,l,o,j,d,b,O=s.value?s.value:null===(n=s.formula)||void 0===n||null===(c=n.call(s,v))||void 0===c||null===(i=c[0])||void 0===i?void 0:i.call(c,v);"function"===typeof O&&(O=parseInt(null===(r=O)||void 0===r||null===(l=r(v))||void 0===l||null===(o=l.toFixed)||void 0===o?void 0:o.call(l,g)));var m=a-O;a=Object(x.jsxs)("span",{children:[null!==(j=null===(d=O)||void 0===d?void 0:d.toFixed(g))&&void 0!==j?j:O,m?Object(x.jsxs)(h.a,{color:m>0?"success":"error",children:[" (",m>0?"+":"",(null===m||void 0===m||null===(b=m.toFixed)||void 0===b?void 0:b.call(m,g))||m,")"]}):""]})}return a}}),[p,g,v,s,f]),S=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"text",f)}),[s,f]),w=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"variant",f)}),[s,f]),k=Object(j.useMemo)((function(){var e=u.a.getTalentFieldValue(s,"formulaText",f);return e?Object(x.jsx)(b.a,{placement:"top",title:Object(x.jsx)(i.a,{children:e}),children:Object(x.jsx)(r.a,{component:"span",sx:{cursor:"help",ml:1},children:Object(x.jsx)(c.a,{icon:n.v})})}):null}),[s,f]),C=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"unit",f)}),[s,f]);return m?Object(x.jsxs)(l.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("b",{children:S}),k]}),Object(x.jsxs)(i.a,{color:"".concat(w,".main"),children:[null!==(t=null===y||void 0===y||null===(a=y.toFixed)||void 0===a?void 0:a.call(y,g))&&void 0!==t?t:y,C]})]}):null}var v=Object(s.a)(o.a)((function(e){var t=e.theme;return{borderRadius:t.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:t.palette.contentDark.main},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:t.palette.contentDarker.main}}}))},293:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u}));var n=a(5),c=a(3),i=a(132),r=a(10),l=a(464),s=a(1),o=a(0),j=Object(r.a)(l.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),d=Object(r.a)("button",{shouldForwardProp:function(e){return!["fullWidth","disableRipple","disableFocusRipple","disableElevation"].includes(e)}})((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,padding:0,overflow:"hidden",border:"none",borderRadius:t.shape.borderRadius,"& div":{width:"100%",height:"100%"},"&.MuiButtonGroup-grouped:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},"&.MuiButtonGroup-grouped:not(:first-of-type)":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}}));function u(e){var t=e.value,a=e.onChange,r=e.disabled,l=void 0!==r&&r,d=e.float,u=void 0!==d&&d,b=Object(i.a)(e,["value","onChange","disabled","float"]),h=Object(s.useState)(""),x=Object(c.a)(h,2),O=x[0],v=x[1],p=Object(s.useCallback)((function(){if(""===O)return a(0);var e=u?parseFloat:parseInt;a(e(O))}),[a,O,u]);Object(s.useEffect)((function(){var e;return v(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,v]);var f=Object(s.useCallback)((function(e){return v(e.target.value)}),[v]),m=Object(s.useCallback)((function(e){return"Enter"===e.key&&p()}),[p]);return Object(o.jsx)(j,Object(n.a)({value:O,"aria-label":"custom-input",type:"number",onChange:f,onBlur:p,disabled:l,onKeyDown:m},b))}},296:function(e,t,a){"use strict";a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return k}));var n,c,i,r,l=a(5),s=a(46),o=a(132),j=a(357),d=a(358),u=a(1005),b=a(253),h=a(79),x=a(254),O=a(1),v=a(131),p=a(136),f=a(174),m=a(133),g=a(279),y=a(302),S=a(0);function w(e){var t,a=e.value,w=e.onChange,C=e.inventory,_=void 0!==C&&C,B=e.noUnselect,A=void 0!==B&&B,K=e.filter,N=void 0===K?function(){return!0}:K,T=Object(o.a)(e,["value","onChange","inventory","noUnselect","filter"]),E=Object(v.a)("ui").t,F=Object(O.useContext)(f.b),V=Object(m.a)(p.b.getAll(),[]),M=Object(m.a)(p.b.get(a),[a]),D=F._getCharKeys().filter((function(e){return(null===V||void 0===V?void 0:V[e])&&N(V[e])})).sort();return Object(S.jsxs)(g.a,Object(l.a)(Object(l.a)({},T),{},{title:null!==(t=null===M||void 0===M?void 0:M.name)&&void 0!==t?t:E(_?n||(n=Object(s.a)(["inventory"])):c||(c=Object(s.a)(["unselect"]))),color:a?"success":"primary",startIcon:(null===M||void 0===M?void 0:M.thumbImg)?Object(S.jsx)(y.a,{src:M.thumbImgSide}):_?Object(S.jsx)(j.a,{}):Object(S.jsx)(d.a,{}),children:[!A&&(_?Object(S.jsxs)(u.a,{onClick:function(){return w("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:E(i||(i=Object(s.a)(["inventory"])))})]}):Object(S.jsxs)(u.a,{onClick:function(){return w("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(d.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:E(r||(r=Object(s.a)(["unselect"])))})]})),!A&&Object(S.jsx)(x.a,{},"div"),!!V&&k(V,D,w,a)]}))}function k(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c;return Object(S.jsxs)(u.a,{onClick:function(){return a(t)},selected:n===t,disabled:n===t,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(y.a,{src:e[t].thumbImgSide})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.name})]},t)}))}},297:function(e,t,a){"use strict";var n=a(7),c=a(5),i=a(132),r=a(10),l=a(991),s=a(589),o=a(0),j=Object(r.a)((function(e){var t=e.className,a=Object(i.a)(e,["className"]);return Object(o.jsx)(l.a,Object(c.a)(Object(c.a)({},a),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,a=e.theme;return t={},Object(n.a)(t,"& .".concat(s.a.arrow),{color:a.palette.common.black}),Object(n.a)(t,"& .".concat(s.a.tooltip),{backgroundColor:a.palette.common.black}),t}));t.a=j},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(221),c=a(1),i=a(112),r=a(15),l=a(3),s=a(11),o=a(466),j=a(114),d=a(363),u=a(364),b=a(1005),h=a(254),x=a(272),O=a(279),v=a(281),p=a(0);function f(e){var t=e.conditional,a=e.conditionalValue,n=e.setConditional,c=e.name,i=e.disabled,o=void 0!==i&&i,j=e.stats,f=Object(l.a)(a,2),m=f[0],g=void 0===m?0:m,y=f[1];if(!t)return c;if("states"in t){var S=y?t.states[y]:Object.values(t.states)[0],w=0===g?"Not Active":Object(p.jsxs)("span",{children:[S.name," ",Object(r.f)(S.maxStack,j)>1?": ".concat(g," stack").concat(g>1?"s":""):""]}),k=Object(p.jsx)(v.a,{color:0===g?"secondary":"success",children:w});return Object(p.jsxs)(O.a,{size:"small",title:Object(p.jsxs)("span",{children:[c," ",k]}),disabled:o,children:[Object(p.jsx)(b.a,{onClick:function(){return n([0])},selected:0===g,disabled:0===g,children:Object(p.jsx)("span",{children:"Not Active"})}),Object(p.jsx)(h.a,{}),Object.entries(t.states).flatMap((function(e,t){var a=Object(l.a)(e,2),c=a[0],i=a[1];return Object(s.a)(Array(i.maxStack).keys()).map((function(e){return e+1})).map((function(e,t){return Object(p.jsxs)(b.a,{onClick:function(){return n([e,c])},selected:y===c&&g===e,disabled:y===c&&g===e,children:[i.name,i.maxStack>1?": ".concat(e," stack").concat(e>1?"s":""):""]},c+t)}))}))]})}var C=Object(r.f)(t.maxStack,j);if(C>1){var _=Object(p.jsx)(v.a,{color:0===g?"secondary":"success",children:g>0?"".concat(g," stack").concat(g>1?"s":""):"Not Active"});return Object(p.jsxs)(O.a,{size:"small",title:Object(p.jsxs)("span",{children:[c," ",_]}),disabled:o,children:[Object(p.jsx)(b.a,{onClick:function(){return n([0])},selected:0===g,disabled:0===g,children:Object(p.jsx)("span",{children:"Not Active"})}),Object(p.jsx)(h.a,{}),Object(s.a)(Array(C).keys()).map((function(e){return e+1})).map((function(e){return Object(p.jsx)(b.a,{onClick:function(){return n([e])},selected:g===e,disabled:g===e,children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})}return 1===C?Object(p.jsx)(x.a,{size:"small",onClick:function(){return n([g?0:1])},disabled:o,startIcon:g?Object(p.jsx)(d.a,{}):Object(p.jsx)(u.a,{}),children:c}):null}var m=a(286),g=a(113),y=a(278),S=a(287);function w(e){var t=e.conditional,a=e.characterKey,n=Object(c.useContext)(i.a),d=n.newBuild,u=n.equippedBuild,b=Object(m.a)(a),h=d||u,x=Object(c.useMemo)((function(){return j.a.canShow(t,h)}),[t,h]),O=Object(c.useMemo)((function(){return x&&j.a.resolve(t,h,void 0)}),[x,t,h]),v=O.stats,w=void 0===v?{}:v,k=O.fields,C=void 0===k?[]:k,_=O.conditionalValue,B=Object(c.useMemo)((function(){return x&&[].concat(Object(s.a)(Object(g.a)(w,h)),Object(s.a)(C))}),[x,w,h,C]),A=Object(c.useCallback)((function(e){if(h){var a=Object(l.a)(e,1)[0];(void 0===a?0:a)?t.keys&&Object(r.k)(h.conditionalValues,t.keys,e):(Object(r.e)(h.conditionalValues,t.keys),Object(r.l)(h.conditionalValues)),b({conditionalValues:h.conditionalValues})}}),[t,h,b]);return x&&h?Object(p.jsxs)(y.a,{children:[Object(p.jsx)(o.a,{children:Object(p.jsx)(f,{conditional:t,conditionalValue:_,setConditional:A,name:t.name,stats:h})}),Object(p.jsx)(S.a,{sx:{m:0},children:B.map((function(e,t){return Object(p.jsx)(S.b,{field:e},t)}))})]}):null}function k(e){var t=e.sections,a=e.characterKey,l=Object(c.useContext)(i.a),s=l.newBuild,o=l.equippedBuild,j=s||o;return j?Object(p.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e,t){var c,i;if(!e.canShow(j))return null;var l=Object(r.f)(e.text,j),s=null!==(c=e.fields)&&void 0!==c?c:[];return Object(p.jsxs)(n.a,{sx:{pb:-1,"& > *":{mb:1}},children:[Object(p.jsx)("div",{children:l}),s.length>0&&Object(p.jsx)(S.a,{children:null===s||void 0===s||null===(i=s.map)||void 0===i?void 0:i.call(s,(function(e,t){return Object(p.jsx)(S.b,{field:e},t)}))}),!!e.conditional&&Object(p.jsx)(w,{conditional:e.conditional,characterKey:a})]},"section"+t)}))}):null}},301:function(e,t,a){"use strict";var n=a(5),c=a(132),i=a(10),r=a(273),l=a(0),s=Object(i.a)((function(e){e.expand;var t=Object(c.a)(e,["expand"]);return Object(l.jsx)(r.a,Object(n.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));t.a=s},302:function(e,t,a){"use strict";var n=a(356),c=Object(n.a)("img")((function(e){var t=e.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:t.spacing(-3),marginLeft:t.spacing(-1.25),marginRight:t.spacing(-1),marginBottom:t.spacing(-1)}}));t.a=c},303:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n,c=a(46),i=a(357),r=a(79),l=a(131),s=a(136),o=a(133),j=a(0);function d(e){var t=e.location,a=Object(l.a)("ui").t,d=Object(o.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(j.jsx)(r.a,{component:"span",children:(null===d||void 0===d?void 0:d.name)?d.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(i.a,{sx:{verticalAlign:"text-bottom"}})," ",a(n||(n=Object(c.a)(["inventory"])))]})})}},312:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),c=a(281),i=a(15),r=a(0);function l(e){var t=e.value,a=e.valid,l="number"===typeof t?["roll".concat(Object(i.a)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(l,2),o=s[0],j=s[1];return a||(o="error"),Object(r.jsx)(c.a,{color:o,children:j})}},313:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5),c=a(132),i=a(10),r=a(272),l=a(0),s=Object(i.a)(r.a)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function o(e){var t=e.children,a=(e.disabled,Object(c.a)(e,["children","disabled"]));return Object(l.jsx)(s,Object(n.a)(Object(n.a)({},a),{},{disabled:!0,children:t}))}},314:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(221),c=a(79),i=a(1),r=a(283),l=a(83),s=a(133),o=a(40),j=a(42),d=a(32),u=a(135),b=a(0);function h(e){var t,a,i=e.label,r=void 0===i?"":i,l=e.val,s=e.oldVal,o=e.fixed,j=void 0===o?0:o,u=e.unit,h=void 0===u?"":u,x=e.hasBonus,O=void 0!==x&&x;"undefined"===typeof s&&"number"===typeof l&&(s=l,l=void 0);var v=void 0!==l?l-s:0,p="",f="";s||0===v?p=null===(t=s)||void 0===t?void 0:t.toFixed(j):void 0===s&&(p=null===(a=l)||void 0===a?void 0:a.toFixed(j)),p&&(p=Object(b.jsxs)("span",{children:[p,h]})),0!==v&&(f=Object(b.jsxs)(d.a,{color:v>0?"success":"error",children:[v>0?"+":"",null===v||void 0===v?void 0:v.toFixed(j),h]}));var m=Object(b.jsxs)(b.Fragment,{children:[p,f]});return Object(b.jsxs)(n.a,{display:"flex",justifyContent:"space-between",children:[Object(b.jsx)(c.a,{children:r}),Object(b.jsx)(c.a,{children:O?Object(b.jsx)("strong",{children:m}):m})]})}function x(e){var t=e.character,a=e.equippedBuild,n=e.newBuild,c=e.statKey,x=Object(s.a)(Array.isArray(c)?l.a.get(c):void 0,[c]),O=Object(i.useMemo)((function(){var e,i,l,s,h="";if("string"===typeof c){if(n&&a){var O,v;e=null!==(O=null===n||void 0===n?void 0:n[c])&&void 0!==O?O:0,i=null!==(v=null===a||void 0===a?void 0:a[c])&&void 0!==v?v:0}else{var p,f=n||a;e=null!==(p=null===f||void 0===f?void 0:f[c])&&void 0!==p?p:0,i=Object(j.a)(t)[c],f&&("finalHP"===c?i=f.characterHP:"finalDEF"===c?i=f.characterDEF:"finalATK"===c&&(i=f.characterATK+f.weaponATK))}s=o.b.getStatUnit(c),l=o.b.fixedUnit(c),h=Object(b.jsxs)("span",{children:[u.a[c]," ",o.b.getStatName(c)]})}else if(x){var m,g,y,S,w=n||a,k=x.field,C=r.a.getTalentFieldValue(k,"variant",w);if(h=Object(b.jsx)(d.a,{color:C,children:r.a.getTalentFieldValue(k,"text",w)}),l=r.a.getTalentFieldValue(k,"fixed",w,0),s=r.a.getTalentFieldValue(k,"unit",w,""),e=null===(m=r.a.getTalentFieldValue(k,"formula",w))||void 0===m||null===(g=m[0])||void 0===g?void 0:g.call(m,w),n&&a)i=null===(y=r.a.getTalentFieldValue(k,"formula",a))||void 0===y||null===(S=y[0])||void 0===S?void 0:S.call(y,a)}return{val:e,oldVal:i,fixed:l,unit:s,label:h,hasBonus:r.a.hasBonusStats(t,c)}}),[t,a,n,c,x]),v=O.val,p=O.oldVal,f=O.fixed,m=O.unit,g=O.label,y=O.hasBonus;return Object(b.jsx)(h,{val:v,oldVal:p,fixed:f,unit:m,label:g,hasBonus:y})}},315:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),c=a(132),i=a(358),r=a(10),l=a(955),s=a(272),o=a(293),j=a(313),d=a(0),u=Object(r.a)(l.a)({display:"flex"});function b(e){var t=e.name,a=e.children,r=e.value,l=e.placeholder,b=e.defaultValue,h=void 0===b?0:b,x=e.onValueChange,O=e.percent,v=void 0!==O&&O,p=e.disabled,f=void 0!==p&&p,m=e.onReset,g=Object(c.a)(e,["name","children","value","placeholder","defaultValue","onValueChange","percent","disabled","onReset"]);return Object(d.jsxs)(u,Object(n.a)(Object(n.a)({},g),{},{children:[a,Object(d.jsx)(j.a,{sx:{whiteSpace:"nowrap"},children:t}),Object(d.jsx)(o.a,{sx:{flexBasis:30,flexGrow:1},children:Object(d.jsx)(o.c,{sx:{px:1},inputProps:{sx:{textAlign:"right"}},float:v,placeholder:l,value:r,onChange:x,disabled:f,endAdornment:v?"%":void 0})}),Object(d.jsx)(s.a,{onClick:function(){return m?m():x(h)},disabled:f||r===h,children:Object(d.jsx)(i.a,{})})]}))}},316:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var n,c,i,r=a(46),l=a(3),s=a(51),o=a(17),j=a(374),d=a(375),u=a(79),b=a(170),h=a(466),x=a(221),O=a(395),v=a(273),p=a(265),f=a(396),m=a(468),g=a(955),y=a(272),S=a(991),w=a(1),k=a(131),C=a(297),_=a(276),B=a(296),A=a(303),K=a(32),N=a(281),T=a(282),E=a(174),F=a(133),V=a(40),M=a(70),D=a(139),R=a(15),L=a(81),W=a(134),q=a(140),z=a(312),I=a(0),G=new Set(M.b);function U(e){var t,a,M,U,P=e.artifactId,H=e.artifactObj,J=e.onEdit,X=e.onDelete,Q=e.mainStatAssumptionLevel,Y=void 0===Q?0:Q,Z=e.effFilter,$=void 0===Z?G:Z,ee=Object(k.a)(["artifact"]).t,te=Object(w.useContext)(E.b),ae=Object(w.useState)(void 0),ne=Object(l.a)(ae,2),ce=ne[0],ie=ne[1];Object(w.useEffect)((function(){return P?te.followArt(P,ie):void 0}),[P,ie,te]);var re=Object(F.a)(W.a.get(null===(t=null!==H&&void 0!==H?H:P?te._getArt(P):void 0)||void 0===t?void 0:t.setKey),[H,P]),le=!H&&te===E.c,se=null!==H&&void 0!==H?H:ce;if(!se)return null;var oe=se.id,je=se.lock,de=se.slotKey,ue=se.rarity,be=se.level,he=se.mainStatKey,xe=se.substats,Oe=se.exclude,ve=se.location,pe=void 0===ve?"":ve,fe=Math.max(Math.min(Y,4*ue),be),me="roll"+(Math.floor(Math.max(be,0)/4)+1),ge=Object(I.jsx)(K.a,{color:fe!==be?"warning":void 0,children:Object(D.b)(null!==(a=L.a.mainStatValue(he,ue,fe))&&void 0!==a?a:0,V.b.getStatUnit(he))}),ye=L.a.getArtifactEfficiency(se,$),Se=ye.currentEfficiency,we=ye.maxEfficiency,ke=0!==we,Ce=(null===re||void 0===re?void 0:re.getSlotName(de))||"Unknown Piece Name",_e=null===re||void 0===re?void 0:re.getSlotDesc(de),Be=_e&&Object(I.jsx)(C.a,{placement:"top",title:Object(I.jsx)(u.a,{children:_e}),children:Object(I.jsx)("span",{children:Object(I.jsx)(o.a,{icon:s.s})})}),Ae=null===re||void 0===re?void 0:re.setEffects,Ke=re&&Ae&&Object(I.jsx)(C.a,{placement:"top",title:Object(I.jsx)("span",{children:Object.keys(Ae).map((function(e){return Object(I.jsxs)("span",{children:[Object(I.jsx)(u.a,{variant:"h6",children:Object(I.jsx)(N.a,{color:"success",children:ee("setEffectNum",{setNum:e})})}),Object(I.jsx)(u.a,{children:re.setEffectDesc(e)})]},e)}))}),children:Object(I.jsx)("span",{children:Object(I.jsx)(o.a,{icon:s.s})})});return Object(I.jsx)(w.Suspense,{fallback:Object(I.jsx)(b.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(I.jsxs)(_.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(I.jsxs)(h.a,{className:"grad-".concat(ue,"star"),sx:{py:1},children:[Object(I.jsxs)(x.a,{component:"div",sx:{display:"flex",alignItems:"center"},children:[Object(I.jsx)(O.a,{size:"small",label:Object(I.jsx)("strong",{children:" +".concat(be)}),color:me}),Object(I.jsxs)(u.a,{sx:{pl:1,flexGrow:1},children:[Ce," ",Be]}),Object(I.jsx)(v.a,{color:"primary",disabled:!le,onClick:function(){return te.updateArt({lock:!je},oe)},children:je?Object(I.jsx)(j.a,{}):Object(I.jsx)(d.a,{})})]}),Object(I.jsxs)(p.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(I.jsxs)(p.a,{item:!0,flexGrow:1,children:[Object(I.jsx)(u.a,{color:"text.secondary",variant:"body2",children:Object(I.jsx)(q.c,{slotKey:de})}),Object(I.jsx)(u.a,{variant:"h6",children:V.b.getStatName(he)}),Object(I.jsx)(u.a,{variant:"h5",children:Object(I.jsx)("strong",{children:ge})}),Object(I.jsx)(T.a,{stars:ue,colored:!0})]}),Object(I.jsx)(p.a,{item:!0,xs:3,md:4,children:Object(I.jsx)(f.a,{component:"img",image:null!==(M=null===re||void 0===re?void 0:re.slotIcons[de])&&void 0!==M?M:"",width:"100%",height:"auto"})})]})]}),Object(I.jsxs)(h.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[xe.map((function(e,t){var a,n,c;if(!e.value)return null;var i=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,r="roll".concat(Object(R.a)(i,1,6)),l=null!==(c=e.efficiency)&&void 0!==c?c:0,s=.3+l/100*.7,o=V.b.getStatName(e.key);return Object(I.jsxs)(x.a,{sx:{display:"flex"},children:[Object(I.jsxs)(x.a,{sx:{flexGrow:1},children:[Object(I.jsx)(N.a,{color:i?r:"error",sx:{mr:1},children:Object(I.jsx)("strong",{children:i||"?"})}),Object(I.jsxs)(u.a,{color:i?"".concat(r,".main"):"error.main",component:"span",children:[o,"+".concat(Object(D.b)(e.value,V.b.getStatUnit(e.key)))]})]}),Object(I.jsx)(u.a,{sx:{opacity:s},children:e.key&&$.has(e.key)?Object(D.b)(l,"eff"):"-"})]},t)})),Object(I.jsxs)(x.a,{sx:{display:"flex",my:1},children:[Object(I.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ee(n||(n=Object(r.a)(["editor.curSubEff"])))}),Object(I.jsx)(z.a,{value:Se,valid:ke})]}),Se!==we&&Object(I.jsxs)(x.a,{sx:{display:"flex",mb:1},children:[Object(I.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ee(c||(c=Object(r.a)(["editor.maxSubEff"])))}),Object(I.jsx)(z.a,{value:we,valid:ke})]}),Object(I.jsx)(x.a,{flexGrow:1}),Object(I.jsxs)(u.a,{color:"success.main",children:[null!==(U=null===re||void 0===re?void 0:re.name)&&void 0!==U?U:"Artifact Set"," ",Ke]})]}),Object(I.jsx)(m.a,{children:Object(I.jsxs)(p.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(I.jsx)(p.a,{item:!0,xs:"auto",flexShrink:1,children:le?Object(I.jsx)(B.b,{size:"small",inventory:!0,value:pe,onChange:function(e){return te.setArtLocation(P,e)}}):Object(I.jsx)(A.a,{location:pe})}),Object(I.jsx)(p.a,{item:!0,flexGrow:1,sx:{mr:1}}),le&&Object(I.jsx)(p.a,{item:!0,xs:"auto",children:Object(I.jsxs)(g.a,{sx:{height:"100%"},children:[!!J&&Object(I.jsx)(y.a,{color:"info",onClick:function(){return J(oe)},size:"small",children:Object(I.jsx)(o.a,{icon:s.m,className:"fa-fw"})}),Object(I.jsx)(S.a,{title:Object(I.jsx)(u.a,{children:ee(i||(i=Object(r.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(I.jsx)(y.a,{onClick:function(){return te.updateArt({exclude:!Oe},oe)},color:Oe?"error":"success",size:"small",children:Object(I.jsx)(o.a,{icon:Oe?s.b:s.e,className:"fa-fw"})})}),!!X&&Object(I.jsx)(y.a,{color:"error",size:"small",onClick:function(){return X(oe)},disabled:je,children:Object(I.jsx)(o.a,{icon:s.D,className:"fa-fw"})})]})})]})})]})})}},319:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(11),c=a(3),i=a(466),r=a(265),l=a(254),s=a(397),o=a(221),j=a(79),d=a(1),u=a(284),b=a(133),h=a(20),x=a(137),O=a(278),v=a(276),p=a(285),f=a(98),m=a(288),g=a(282),y=a(304),S=a(0);function w(e){var t=e.show,a=e.onHide,w=e.onSelect,k=e.filter,C=void 0===k?function(){return!0}:k,_=e.weaponFilter,B=Object(b.a)(x.a.getAll(),[]),A=Object(d.useState)(null!==_&&void 0!==_?_:""),K=Object(c.a)(A,2),N=K[0],T=K[1];Object(d.useEffect)((function(){return _&&T(_)}),[_]);var E=B?Object(n.a)(new Set(h.i)).filter((function(e){return C(B[e])})).filter((function(e){var t;return!N||N===(null===B||void 0===B||null===(t=B[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,n,c,i;return(null!==(a=null===B||void 0===B||null===(n=B[t])||void 0===n?void 0:n.rarity)&&void 0!==a?a:0)-(null!==(c=null===B||void 0===B||null===(i=B[e])||void 0===i?void 0:i.rarity)&&void 0!==c?c:0)})):[];return B?Object(S.jsx)(m.a,{open:t,onClose:a,children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(i.a,{sx:{py:1},children:Object(S.jsxs)(r.a,{container:!0,children:[Object(S.jsx)(r.a,{item:!0,flexGrow:1,children:Object(S.jsx)(y.a,{value:N,onChange:T,disabled:!!_,size:"small"})}),Object(S.jsx)(r.a,{item:!0,children:Object(S.jsx)(p.a,{onClick:a})})]})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(i.a,{children:Object(S.jsx)(r.a,{container:!0,spacing:1,children:E.map((function(e){var t,n=B[e];return Object(S.jsx)(r.a,{item:!0,lg:3,md:4,children:Object(S.jsx)(v.a,{sx:{height:"100%"},children:Object(S.jsxs)(s.a,{onClick:function(){a(),w(e)},sx:{display:"flex"},children:[Object(S.jsx)(o.a,{component:"img",src:n.img,sx:{width:100,height:"auto"},className:" grad-".concat(n.rarity,"star")}),Object(S.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(S.jsx)(j.a,{variant:"subtitle1",children:n.name}),Object(S.jsxs)(j.a,{children:[Object(S.jsx)(f.a,{src:null===(t=u.a.weaponTypes)||void 0===t?void 0:t[n.weaponType]})," ",Object(S.jsx)(g.a,{stars:n.rarity,colored:!0})]})]})]})})},e)}))})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(i.a,{sx:{py:1},children:Object(S.jsx)(p.a,{large:!0,onClick:a})})]})}):null}},320:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(3),c=a(51),i=a(17),r=a(374),l=a(375),s=a(397),o=a(170),j=a(349),d=a(273),u=a(265),b=a(79),h=a(221),x=a(466),O=a(955),v=a(272),p=a(1),f=a(284),m=a(276),g=a(296),y=a(303),S=a(305),w=a(98),k=a(282),C=a(135),_=a(47),B=a(174),A=a(133),K=a(40),N=a(137),T=a(0);function E(e){var t,a=e.weaponId,E=e.onClick,F=e.onEdit,V=e.onDelete,M=e.canEquip,D=void 0!==M&&M,R=Object(p.useContext)(B.b),L=Object(p.useState)(void 0),W=Object(n.a)(L,2),q=W[0],z=W[1];Object(p.useEffect)((function(){return a?R.followWeapon(a,z):void 0}),[a,z,R]);var I=q,G=Object(A.a)((null===I||void 0===I?void 0:I.key)&&N.a.get(I.key),[null===I||void 0===I?void 0:I.key]),U=Object(p.useCallback)((function(e){return e.weaponTypeKey===(null===G||void 0===G?void 0:G.weaponType)}),[G]),P=Object(p.useCallback)((function(e){return Object(T.jsx)(s.a,{onClick:function(){return null===E||void 0===E?void 0:E(a)},sx:{height:"100%"},children:e})}),[E,a]),H=Object(p.useCallback)((function(e){return R.setWeaponLocation(a,e)}),[R,a]);if(!I||!G)return null;var J=I.level,X=I.ascension,Q=I.refinement,Y=I.id,Z=I.location,$=void 0===Z?"":Z,ee=I.lock,te=G.weaponType,ae=G.getMainStatValue(J,X).toFixed(K.b.fixedUnit("atk")),ne=G.getSubStatKey(),ce=G.getSubStatValue(J,X).toFixed(K.b.fixedUnit(ne)),ie=[["weaponATK",ae]];(null===G||void 0===G?void 0:G.passiveName)&&ie.push([ne,ce]);var re=X<2?null===G||void 0===G?void 0:G.img:null===G||void 0===G?void 0:G.imgAwaken;return Object(T.jsx)(p.Suspense,{fallback:Object(T.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(T.jsx)(S.a,{condition:!!E,wrapper:P,children:Object(T.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(T.jsxs)("div",{className:"grad-".concat(G.rarity,"star"),children:[Object(T.jsx)(j.a,{title:G.name,avatar:Object(T.jsx)(w.a,{sx:{fontSize:"2em"},src:null===(t=f.a.weaponTypes)||void 0===t?void 0:t[te]}),titleTypographyProps:{variant:"h6"},action:!E&&Object(T.jsx)(d.a,{color:"primary",onClick:function(){return R.updateWeapon({lock:!ee},Y)},children:ee?Object(T.jsx)(r.a,{}):Object(T.jsx)(l.a,{})})}),Object(T.jsxs)(u.a,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[Object(T.jsxs)(u.a,{item:!0,flexGrow:1,children:[Object(T.jsxs)(b.a,{component:"span",variant:"h4",children:["Lv. ",J]}),Object(T.jsxs)(b.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",_.b[X]]}),Object(T.jsxs)(b.a,{variant:"h6",children:["Refinement ",Object(T.jsx)("strong",{children:Q})]}),Object(T.jsx)(b.a,{children:Object(T.jsx)(k.a,{stars:G.rarity,colored:!0})})]}),Object(T.jsx)(u.a,{item:!0,container:!0,xs:4,alignContent:"flex-end",children:Object(T.jsx)(h.a,{component:"img",src:re,width:"100%",height:"auto",sx:{mt:"auto"}})})]})]}),Object(T.jsx)(x.a,{children:ie.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=K.b.getStatUnit(a);return Object(T.jsxs)(h.a,{sx:{display:"flex"},children:[Object(T.jsxs)(b.a,{flexGrow:1,children:[C.a[a]," ",K.b.getStatName(a)]}),Object(T.jsx)(b.a,{children:c+i})]},a)}))}),Object(T.jsx)(h.a,{flexGrow:1}),Object(T.jsx)(x.a,{sx:{py:1},children:Object(T.jsxs)(u.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(T.jsx)(u.a,{item:!0,xs:"auto",flexShrink:1,children:D?Object(T.jsx)(g.b,{size:"small",noUnselect:!0,inventory:!0,value:$,onChange:H,filter:U}):Object(T.jsx)(y.a,{location:$})}),Object(T.jsx)(u.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(T.jsx)(u.a,{item:!0,xs:"auto",children:Object(T.jsxs)(O.a,{sx:{height:"100%"},children:[!!F&&Object(T.jsx)(v.a,{color:"info",size:"small",onClick:function(){return F(Y)},children:Object(T.jsx)(i.a,{icon:c.m,className:"fa-fw"})}),!!V&&Object(T.jsx)(v.a,{color:"error",size:"small",onClick:function(){return V(Y)},disabled:!!$||ee,children:Object(T.jsx)(i.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})})}},326:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(221),c=a(466),i=a(79),r=a(278),l=a(300),s=a(287),o=a(281),j=a(133),d=a(113),u=a(134),b=a(0);function h(e){var t=e.setKey,a=e.setNumKey,h=e.equippedBuild,x=e.newBuild,O=Object(j.a)(u.a.get(t),[t]);if(!O)return null;var v=null!==x&&void 0!==x?x:h,p=O.setEffectDesc(a),f=O.setNumStats(a,v),m=Object(d.a)(f,v),g=O.setEffectDocument(a);return Object(b.jsxs)(n.a,{sx:{mt:1,"> div":{mb:1}},children:[Object(b.jsxs)(r.a,{children:[Object(b.jsx)(c.a,{children:Object(b.jsxs)(i.a,{children:[Object(b.jsxs)(o.a,{color:"success",children:[a,"-Set"]})," ",p]})}),Object(b.jsx)(s.a,{sx:{m:0},children:m.map((function(e,t){return Object(b.jsx)(s.b,{field:e},t)}))})]}),g?Object(b.jsx)(l.a,{sections:g,characterKey:v.characterKey}):null]})}},338:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(3),c=a(265),i=a(466),r=a(79),l=a(254),s=a(278),o=a(314),j=a(299),d=a(0);function u(e){var t=e.sheets,a=e.sheets,u=a.characterSheet,b=a.weaponSheet,h=e.character,x=e.equippedBuild,O=e.newBuild,v=e.statsDisplayKeys,p=O||x;return Object(d.jsx)(c.a,{container:!0,spacing:1,children:Object.entries(v).map((function(e){var a=Object(n.a)(e,2),v=a[0],f=a[1],m=Object(j.a)(v,t,null===p||void 0===p?void 0:p.characterEle);return Object(d.jsx)(c.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(d.jsx)(s.a,{sx:{height:"100%"},children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(r.a,{variant:"subtitle1",gutterBottom:!0,children:m}),Object(d.jsx)(l.a,{sx:{mb:1,mx:-2}}),f.map((function(e){return Object(d.jsx)(o.a,{characterSheet:u,weaponSheet:b,character:h,equippedBuild:x,newBuild:O,statKey:e},JSON.stringify(e))}))]})})},v)}))})}},339:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"c",(function(){return B})),a.d(t,"a",(function(){return A}));var n=a(5),c=a(11),i=a(3),r=a(51),l=a(17),s=a(352),o=a(466),j=a(265),d=a(395),u=a(79),b=a(371),h=a(272),x=a(1),O=a(283),v=a(315),p=a(286),f=a(40),m=a(20),g=a(42),y=a(276),S=a(32),w=a(301),k=a(135),C=a(0);function _(e){var t=e.character,a=Object(x.useState)(!1),n=Object(i.a)(a,2),r=n[0],l=n[1],h=Object(x.useCallback)((function(){return l(!r)}),[l,r]);return Object(C.jsxs)(y.a,{children:[Object(C.jsx)(o.a,{children:Object(C.jsxs)(j.a,{container:!0,children:[Object(C.jsx)(j.a,{item:!0,flexGrow:1,alignItems:"center",children:Object(C.jsxs)(j.a,{container:!0,spacing:1,children:[Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(d.a,{size:"small",color:"success",label:Object(C.jsxs)("span",{children:[f.b.getStatName("enemyLevel")," ",Object(C.jsx)("strong",{children:O.a.getStatValueWithBonus(t,"enemyLevel")})]})})}),["physical"].concat(Object(c.a)(m.d)).map((function(e){return Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(u.a,{children:Object(C.jsx)(B,{element:e,character:t})},e)},e)})),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsxs)(u.a,{children:["DEF Reduction ",O.a.getStatValueWithBonus(t,"enemyDEFRed_"),"%"]})})]})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(w.a,{expand:r,onClick:h,"aria-expanded":r,"aria-label":"show more",size:"small",sx:{p:0},children:Object(C.jsx)(s.a,{})})})]})}),Object(C.jsx)(b.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(C.jsx)(o.a,{sx:{pt:0},children:Object(C.jsx)(A,{character:t})})})]})}function B(e){var t=e.character,a=e.element,n=!!O.a.getStatValueWithBonus(t,"".concat(a,"_enemyImmunity")),c="".concat(a,"_enemyRes_"),i=n?Object(C.jsxs)("span",{children:[k.b[a]," IMMUNE"]}):Object(C.jsxs)("span",{children:[k.b[a],"RES ",Object(C.jsxs)("strong",{children:[O.a.getStatValueWithBonus(t,c),"%"]})]});return Object(C.jsx)(S.a,{color:a,children:i})}function A(e){var t=e.character,a=e.character.key,i=e.bsProps,s=void 0===i?{xs:12,md:6}:i,o=Object(p.a)(a),d=Object(g.a)(t);return Object(C.jsxs)(j.a,{container:!0,spacing:1,children:[Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(h.a,{fullWidth:!0,sx:{height:"100%"},size:"small",component:"a",color:"warning",href:"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})),Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:"Enemy Level"}),value:O.a.getStatValueWithBonus(t,"enemyLevel"),placeholder:f.b.getStatNameRaw("enemyLevel"),defaultValue:d.enemyLevel,onValueChange:function(e){return o({type:"editStats",statKey:"enemyLevel",value:e})}})})),["physical"].concat(Object(c.a)(m.d)).map((function(e){var a="".concat(e,"_enemyRes_"),c="".concat(e,"_enemyImmunity"),i=O.a.getStatValueWithBonus(t,c);return Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:f.b.getStatName(a)}),value:O.a.getStatValueWithBonus(t,a),placeholder:f.b.getStatNameRaw(a),defaultValue:d[a],onValueChange:function(e){return o({type:"editStats",statKey:a,value:e})},disabled:i,percent:!0,children:Object(C.jsxs)(h.a,{color:e,onClick:function(){return o({type:"editStats",statKey:c,value:!i})},children:[Object(C.jsx)(l.a,{icon:i?r.f:r.z,className:"fa-fw"})," Immunity"]})})}),e)})),Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:f.b.getStatName("enemyDEFRed_")}),value:O.a.getStatValueWithBonus(t,"enemyDEFRed_"),placeholder:f.b.getStatNameRaw("enemyDEFRed_"),defaultValue:d.enemyDEFRed_,onValueChange:function(e){return o({type:"editStats",statKey:"enemyDEFRed_",value:e})},percent:!0})})),Object(C.jsx)(j.a,{item:!0,xs:12,children:Object(C.jsx)("small",{children:"Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)"})})]})}},340:function(e,t,a){"use strict";a.d(t,"c",(function(){return y})),a.d(t,"d",(function(){return S})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return k}));var n=a(5),c=a(3),i=a(132),r=a(1005),l=a(1006),s=a(466),o=a(265),j=a(1),d=a(112),u=a(136),b=a(286),h=a(133),x=a(276),O=a(32),v=a(279),p=a(289),f=a(135),m=a(0),g={"":Object(m.jsx)("span",{children:"No External Infusion"}),pyro:Object(m.jsxs)("span",{children:[f.b.pyro," Pyro Infusion"]}),cryo:Object(m.jsxs)("span",{children:[f.b.cryo," Cryo Infusion"]})};function y(e){var t=e.character,a=t.infusionAura,l=void 0===a?"":a,s=t.key,o=Object(i.a)(e,["character"]),j=Object(h.a)(u.b.get(s),[s]),d=Object(b.a)(s);return(null===j||void 0===j?void 0:j.isMelee())?Object(m.jsx)(v.a,Object(n.a)(Object(n.a)({title:g[l],color:l||"secondary"},o),{},{children:Object.entries(g).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(m.jsx)(r.a,{sx:a?{color:"".concat(a,".main")}:void 0,selected:a===l,disabled:a===l,onClick:function(){return d({infusionAura:a})},children:n},a)}))})):null}function S(e){var t=e.character,a=t.reactionMode,c=void 0===a?"":a,r=t.infusionAura,s=t.key,o=e.build,j=Object(i.a)(e,["character","build"]),d=Object(b.a)(s);if(!o)return null;var u=o.characterEle;return["pyro","hydro","cryo"].includes(u)||["pyro","hydro","cryo"].includes(r)?Object(m.jsxs)(p.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return d({reactionMode:t})}},j),{},{children:[Object(m.jsx)(l.a,{value:"",children:"No Reactions"}),("pyro"===u||"pyro"===r)&&Object(m.jsx)(l.a,{value:"pyro_vaporize",children:Object(m.jsxs)(O.a,{color:"vaporize",children:["Vaporize(Pyro)",f.a.hydro,"+",f.a.pyro]})}),("pyro"===u||"pyro"===r)&&Object(m.jsx)(l.a,{value:"pyro_melt",children:Object(m.jsxs)(O.a,{color:"melt",children:["Melt(Pyro) ",f.a.cryo,"+",f.a.pyro]})}),("hydro"===u||"hydro"===r)&&Object(m.jsx)(l.a,{value:"hydro_vaporize",children:Object(m.jsxs)(O.a,{color:"vaporize",children:["Vaporize(Hydro) ",f.a.pyro,"+",f.a.hydro]})}),("cryo"===u||"cryo"===r)&&Object(m.jsx)(l.a,{value:"cryo_melt",children:Object(m.jsxs)(O.a,{color:"melt",children:["Melt(Cryo) ",f.a.pyro,"+",f.a.cryo]})})]})):null}function w(e){var t=e.character,a=t.hitMode,c=void 0===a?"avgHit":a,r=t.key,s=Object(i.a)(e,["character"]),o=Object(b.a)(r);return Object(m.jsxs)(p.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return o({hitMode:t})}},s),{},{children:[Object(m.jsx)(l.a,{value:"avgHit",children:"Avg. DMG"}),Object(m.jsx)(l.a,{value:"hit",children:"Non Crit DMG"}),Object(m.jsx)(l.a,{value:"critHit",children:"Crit Hit DMG"})]}))}function k(e){var t=e.character,a=Object(j.useContext)(d.a),n=a.newBuild,c=a.equippedBuild,i=n||c;return Object(m.jsx)(x.a,{children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(o.a,{container:!0,spacing:1,children:[Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(w,{character:t,size:"small"})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(y,{character:t})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(S,{character:t,build:i,size:"small"})})]})})})}},342:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return U}));var n=a(7),c=a(11),i=a(5),r=a(3),l=a(374),s=a(375),o=a(428),j=a(466),d=a(265),u=a(955),b=a(272),h=a(1005),x=a(254),O=a(221),v=a(79),p=a(1),f=a(284),m=a(112),g=a(136),y=a(278),S=a(276),w=a(296),k=a(285),C=(a(32),a(293)),_=a(300),B=a(279),A=a(98),K=a(288),N=a(281),T=a(282),E=a(319),F=a(47),V=a(174),M=a(290),D=a(133),R=a(15),L=a(320),W=a(137),q=a(287),z=a(113),I=a(0);function G(e){var t=e.title,a=e.statsVals,n=void 0===a?{}:a,c=e.stats;if(0===Object.keys(n).filter((function(e){return"modifiers"!==e})).length)return null;var i=Object(z.a)(n,c);return Object(I.jsxs)(y.a,{sx:{mb:1},children:[Object(I.jsx)(j.a,{children:Object(I.jsx)(v.a,{children:t})}),Object(I.jsx)(q.a,{children:i.map((function(e,t){return Object(I.jsx)(q.b,{field:e},t)}))})]})}function U(e){var t,a,o=e.weaponId,f=e.charData,y=e.footer,A=void 0!==y&&y,K=e.onClose,L=Object(p.useContext)(V.b),q=Object(M.a)(),z=Object(r.a)(q,2),U=z[0],H=z[1],J=Object(p.useContext)(m.a),X=Object(p.useMemo)((function(){return U&&L._getWeapon(o)}),[o,U,L]),Q=X.key,Y=X.level,Z=X.refinement,$=X.ascension,ee=X.lock,te=X,ae=te.location,ne=void 0===ae?"":ae,ce=te.id,ie=Object(D.a)(W.a.get(Q),[Q]),re=null===ie||void 0===ie?void 0:ie.weaponType;Object(p.useEffect)((function(){return o?L.followWeapon(o,H):void 0}),[o,H,L]);var le=Object(p.useCallback)((function(e){L.updateWeapon(e,o)}),[o,L]),se=Object(p.useCallback)((function(e){e=Object(R.a)(e,1,90);var t=F.b.findIndex((function(t){return e<=t}));le({level:e,ascension:t})}),[le]),oe=Object(p.useCallback)((function(){var e=F.b.findIndex((function(e){return 90!==Y&&Y===e}));le($===e?{ascension:$+1}:{ascension:e})}),[le,$,Y]),je=Object(i.a)({},f?null!==(t=f.newBuild)&&void 0!==t?t:f.equippedBuild:{weapon:{refineIndex:Z-1,level:Y,ascension:$}}),de=Object(D.a)(ne?g.b.get(ne):void 0,[ne]),ue=de?function(e){return e.weaponType===de.weaponTypeKey}:void 0,be=de&&de.weaponTypeKey,he=Object(p.useCallback)((function(e){return ce&&L.setWeaponLocation(ce,e)}),[L,ce]),xe=Object(p.useCallback)((function(e){return e.weaponTypeKey===(null===ie||void 0===ie?void 0:ie.weaponType)}),[ie]),Oe=Object(p.useState)(!1),ve=Object(r.a)(Oe,2),pe=ve[0],fe=ve[1],me=$<2?null===ie||void 0===ie?void 0:ie.img:null===ie||void 0===ie?void 0:ie.imgAwaken;return Object(I.jsxs)(S.a,{children:[Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,spacing:1,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsxs)(d.a,{container:!0,spacing:1,children:[Object(I.jsxs)(d.a,{item:!0,children:[Object(I.jsx)(E.a,{show:pe,onHide:function(){return fe(!1)},onSelect:function(e){return le({key:e})},filter:ue,weaponFilter:be}),Object(I.jsxs)(u.a,{children:[Object(I.jsx)(b.a,{onClick:function(){return fe(!0)},children:null!==(a=null===ie||void 0===ie?void 0:ie.name)&&void 0!==a?a:"Select a Weapon"}),Object(I.jsxs)(B.a,{title:"Refinement ".concat(Z),children:[Object(I.jsx)(h.a,{children:"Select Weapon Refinement"}),Object(I.jsx)(x.a,{}),Object(c.a)(Array(5).keys()).map((function(e){return Object(I.jsx)(h.a,{onClick:function(){return le({refinement:e+1})},selected:Z===e+1,disabled:Z===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsxs)(u.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(I.jsx)(C.a,{children:Object(I.jsx)(C.c,{onChange:se,value:Y,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(I.jsx)(b.a,{sx:{pl:1},disabled:!Object(F.a)(Y),onClick:oe,children:Object(I.jsxs)("strong",{children:["/ ",F.b[$]]})}),Object(I.jsx)(B.a,{title:"Select Level",children:F.c.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1],c=a===F.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(F.b[n]),i=a===Y&&n===$;return Object(I.jsx)(h.a,{selected:i,disabled:i,onClick:function(){return le({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(b.a,{color:"error",onClick:function(){return ce&&L.updateWeapon({lock:!ee},ce)},startIcon:ee?Object(I.jsx)(l.a,{}):Object(I.jsx)(s.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!K&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{onClick:K})}),!!f&&L===V.c&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(P,{weaponTypeKey:re,onChangeId:function(e){return L.setWeaponLocation(e,f.character.key)}})})]})}),Object(I.jsx)(x.a,{}),Object(I.jsx)(j.a,{children:function(){if(!ie)return null;var e=ie.getSubStatKey(),t=ie.getMainStatValue(Y,$),a=ie.getSubStatValue(Y,$),c=ie.passiveName,i=ie.stats(je),r=ie.document;return Object(I.jsxs)(O.a,{display:"flex",gap:{xs:1,md:1.5,lg:2},children:[Object(I.jsxs)(O.a,{sx:{maxWidth:256},flexShrink:1,minWidth:"25%",children:[Object(I.jsx)(O.a,{component:"img",src:me,className:"grad-".concat(ie.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}}),Object(I.jsx)(v.a,{children:Object(I.jsx)("small",{children:ie.description})})]}),Object(I.jsxs)(O.a,{sx:{mb:-1},flexGrow:1,children:[Object(I.jsxs)(v.a,{variant:"h6",children:[!1,ie.name," Lv. ",W.a.getLevelString(X)," ",c&&Object(I.jsxs)(N.a,{color:"info",children:["Refinement ",Z]})]}),Object(I.jsx)(v.a,{children:Object(I.jsx)(T.a,{stars:ie.rarity})}),Object(I.jsx)(v.a,{variant:"subtitle1",children:c}),Object(I.jsx)(v.a,{gutterBottom:!0,children:c&&ie.passiveDescription(je)}),je&&Object(I.jsxs)(m.a.Provider,{value:f?J:{equippedBuild:je,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(I.jsx)(G,{title:"Main Stats",statsVals:Object(n.a)({atk:t},e,e?a:void 0),stats:je}),Object(I.jsx)(G,{title:"Bonus Stats",statsVals:i,stats:je})]}),f&&r?function(){var e,t=f.equippedBuild,a=f.newBuild,n=null===(e=a||t)||void 0===e?void 0:e.characterKey;return!!n&&Object(I.jsx)(_.a,{sections:r,equippedBuild:t,newBuild:a,characterKey:n})}():null]})]})}()}),A&&ce&&Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsx)(w.b,{noUnselect:!0,inventory:!0,value:ne,onChange:he,filter:xe})}),!!K&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{large:!0,onClick:K})})]})})]})}function P(e){var t=e.onChangeId,a=e.weaponTypeKey,n=Object(p.useContext)(V.b),c=Object(p.useState)(!1),i=Object(r.a)(c,2),l=i[0],s=i[1],u=function(){return s(!1)},h=function(e){t(e),u()},O=Object(D.a)(W.a.getAll(),[]),m=n.weapons.keys.filter((function(e){var t,c=n._getWeapon(e);return!!c&&(!a||a===(null===O||void 0===O||null===(t=O[c.key])||void 0===t?void 0:t.weaponType))}));return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(b.a,{color:"info",onClick:function(){return s(!0)},startIcon:Object(I.jsx)(o.a,{}),children:"SWAP WEAPON"}),Object(I.jsx)(K.a,{open:l,onClose:u,children:Object(I.jsxs)(y.a,{children:[Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsxs)(v.a,{variant:"h6",children:[a?Object(I.jsx)(A.a,{src:f.a.weaponTypes[a]}):null," Swap Weapon"]})}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{onClick:u})})]})}),Object(I.jsx)(x.a,{}),Object(I.jsx)(j.a,{children:Object(I.jsx)(d.a,{container:!0,spacing:1,children:m.map((function(e){return Object(I.jsx)(d.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(I.jsx)(L.a,{weaponId:e,onClick:h})},e)}))})})]})})]})}},348:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return He}));var n=a(3),c=a(5),i=a(132),r=a(170),l=a(466),s=a(265),o=a(465),j=a(79),d=a(262),u=a(269),b=a(254),h=a(955),x=a(272),O=a(1005),v=a(1),p=a(134),f=a(112),m=a(278),g=a(276),y=a(333),S=a(302),w=a(285),k=a(293),C=a(279),_=a(339),B=a(352),A=a(371),K=a(574),N=a(575),T=a(576),E=a(221),F=a(283),V=a(299),M=a(83),D=a(133),R=a(40),L=a(307),W=a(32),q=a(301),z=a(0);function I(e){var t=e.sheets,a=Object(v.useState)(!1),c=Object(n.a)(a,2),i=c[0],r=c[1],o=Object(v.useCallback)((function(){return r(!i)}),[r,i]),d=Object(v.useContext)(f.a),u=d.newBuild,b=d.equippedBuild,h=u||b;return Object(z.jsxs)(g.a,{children:[Object(z.jsx)(l.a,{children:Object(z.jsxs)(s.a,{container:!0,children:[Object(z.jsxs)(s.a,{item:!0,flexGrow:1,children:[Object(z.jsxs)(j.a,{children:["Formulas ","&"," Calculations"]}),Object(z.jsx)(j.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(z.jsx)(s.a,{item:!0,children:Object(z.jsx)(q.a,{expand:i,onClick:o,"aria-expanded":i,"aria-label":"show more",children:Object(z.jsx)(B.a,{})})})]})}),Object(z.jsx)(A.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(z.jsx)(l.a,{sx:{pt:0},children:Object(z.jsx)(G,{sheets:t,build:h})})})]})}function G(e){var t=e.sheets,a=e.build,c=Object(v.useMemo)((function(){return a&&F.a.getDisplayStatKeys(a,t)}),[a,t]);return a?Object(z.jsx)(v.Suspense,{fallback:Object(z.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object.entries(c).map((function(e){var c=Object(n.a)(e,2),i=c[0],r=c[1],s=Object(V.a)(i,t,a.characterEle);return Object(z.jsxs)(m.a,{sx:{mb:1},children:[Object(z.jsx)(l.a,{sx:{pb:1},children:Object(z.jsx)(j.a,{variant:"h6",children:s})}),Object(z.jsx)(b.a,{}),Object(z.jsx)(l.a,{children:r.map((function(e,t){if(Array.isArray(e))return Object(z.jsx)(U,{fieldKeys:e,build:a},t);if("string"===typeof e){var n=R.b.getPrintableFormulaStatKeyList(Object(L.a)(a,null===a||void 0===a?void 0:a.modifiers,[e]),null===a||void 0===a?void 0:a.modifiers).reverse();return Boolean(n.length)&&Object(z.jsxs)(K.a,{sx:{bgcolor:"contentLight.main"},children:[Object(z.jsx)(N.a,{expandIcon:Object(z.jsx)(B.a,{}),children:Object(z.jsx)(j.a,{children:R.b.printStat(e,a)})}),Object(z.jsx)(T.a,{children:n.map((function(e){return Object(z.jsxs)(j.a,{children:[R.b.printStat(e,a)," = ",Object(z.jsx)("small",{children:Object(z.jsx)(R.a,{statKey:e,stats:a,modifiers:a.modifiers,expand:!1})})]},e)}))})]},t)}return null}))})]},i)}))}):null}function U(e){var t,a,c,i,r=e.fieldKeys,l=e.build,s=Object(D.a)(M.a.get(r),[r]);if(!s)return null;var o=s.field,d=F.a.getTalentFieldValue(o,"text",l),u=F.a.getTalentFieldValue(o,"variant",l),b=F.a.getTalentFieldValue(o,"formulaText",l),h=null!==(t=F.a.getTalentFieldValue(o,"fixed",l))&&void 0!==t?t:0,x=null!==(a=F.a.getTalentFieldValue(o,"unit",l))&&void 0!==a?a:"",O=F.a.getTalentFieldValue(o,"formula",l,[]),v=Object(n.a)(O,2),p=v[0],f=v[1];if(!p||!f)return null;var m=null===p||void 0===p||null===(c=p(l))||void 0===c||null===(i=c.toFixed)||void 0===i?void 0:i.call(c,h),g=R.b.getPrintableFormulaStatKeyList(Object(L.a)(l,null===l||void 0===l?void 0:l.modifiers,f),null===l||void 0===l?void 0:l.modifiers).reverse();return Object(z.jsxs)(K.a,{sx:{bgcolor:"contentLight.main"},children:[Object(z.jsx)(N.a,{expandIcon:Object(z.jsx)(B.a,{}),children:Object(z.jsxs)(j.a,{children:[Object(z.jsx)(E.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(z.jsxs)(W.a,{color:"info",children:[m,x]})]})}),Object(z.jsxs)(T.a,{children:[Object(z.jsxs)(j.a,{children:[Object(z.jsx)(E.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(z.jsx)(W.a,{color:"info",children:m})," = ",Object(z.jsx)("small",{children:b})]}),g.map((function(e){return Object(z.jsxs)(j.a,{children:[R.b.printStat(e,l)," = ",Object(z.jsx)("small",{children:Object(z.jsx)(R.a,{statKey:e,stats:l,modifiers:l.modifiers,expand:!1})})]},e)}))]})]})}var P=a(340),H=a(98),J=a(63),X=a(47),Q=a(174),Y=a(286),Z=a(290),$=a(15),ee=a(137),te=a(1006),ae=a(24),ne=a(316),ce=a(326),ie=a(289),re=a(20),le=a(338);var se=function(e){var t,a=e.sheets,c=e.character,i=e.character.key,r=Object(v.useContext)(f.a),d=r.newBuild,u=r.equippedBuild,h=r.compareBuild,O=r.setCompareBuild,m=Object(v.useContext)(Q.b),y=Object(ae.g)(),S=d||u,w=null!==(t=null===S||void 0===S?void 0:S.mainStatAssumptionLevel)&&void 0!==t?t:0,k=Object(v.useMemo)((function(){return S&&F.a.getDisplayStatKeys(S,a)}),[S,a]),C=Object(v.useCallback)((function(e){return y.push({pathname:"/artifact",artToEditId:e})}),[y]),_=Object(D.a)(p.a.getAll(),[]),B=Object(Z.a)(),A=Object(n.a)(B,2)[1];Object(v.useEffect)((function(){return m.followAnyArt(A)}));var K=Object(v.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&d&&d.equippedArtifacts&&m.equipArtifacts(i,d.equippedArtifacts)}),[i,d,m]),N=Object(v.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&m.equipArtifacts(i,Object($.o)(re.h,(function(){return""})))}),[i,m]);return S?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(g.a,{sx:{mb:1},children:[Object(z.jsx)(l.a,{children:Object(z.jsx)(le.a,{sheets:a,character:c,equippedBuild:d&&!h?void 0:u,newBuild:d,statsDisplayKeys:k})}),Object(z.jsx)(b.a,{}),Object(z.jsx)(l.a,{sx:{py:1},children:Object(z.jsxs)(s.a,{container:!0,spacing:1,children:[Object(z.jsx)(s.a,{item:!0,children:d?Object(z.jsx)(x.a,{onClick:K,className:"mr-2",children:"Equip artifacts"}):m===Q.c&&Object(z.jsx)(x.a,{color:"error",onClick:N,children:"Unequip all artifacts"})}),Object(z.jsx)(s.a,{item:!0,children:!!d&&Object(z.jsxs)(ie.a,{exclusive:!0,value:h,onChange:function(e,t){return null===O||void 0===O?void 0:O(t)},size:"small",children:[Object(z.jsx)(te.a,{value:!1,children:Object(z.jsx)("small",{children:"Show New artifact Stats"})}),Object(z.jsx)(te.a,{value:!0,children:Object(z.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(z.jsx)(s.a,{item:!0,flexGrow:1}),Object(z.jsx)(s.a,{item:!0,children:!!w&&Object(z.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(z.jsx)(j.a,{children:Object(z.jsxs)("strong",{children:["Assume Main Stats are Level ",w]})})})})]})})]}),Object(z.jsxs)(s.a,{container:!0,spacing:1,children:[Object(z.jsx)(s.a,{item:!0,xs:12,sm:6,md:4,children:Object(z.jsx)(g.a,{sx:{height:"100%"},children:Object(z.jsx)(l.a,{sx:{height:"100%"},children:Object(z.jsx)(s.a,{container:!0,spacing:2,flexDirection:"column",height:"100%",children:_&&Object.entries(p.a.setEffects(_,S.setToSlots)).map((function(e){var t,a=Object(n.a)(e,2),c=a[0],r=a[1];return Object(z.jsxs)(s.a,{item:!0,children:[Object(z.jsx)(j.a,{variant:"subtitle1",gutterBottom:!0,children:null!==(t=null===_||void 0===_?void 0:_[c].name)&&void 0!==t?t:""}),r.map((function(e){return Object(z.jsx)(ce.a,{setKey:c,setNumKey:e,equippedBuild:u,newBuild:d,characterKey:i},c+e)}))]},c)}))})})})}),re.h.map((function(e){var t,a,n;return!!(null===S||void 0===S||null===(t=S.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(z.jsx)(s.a,{item:!0,xs:6,md:4,children:Object(z.jsx)(ne.a,{artifactId:null===S||void 0===S||null===(n=S.equippedArtifacts)||void 0===n?void 0:n[e],mainStatAssumptionLevel:w,onEdit:function(){var t;return C(null===S||void 0===S||null===(t=S.equippedArtifacts)||void 0===t?void 0:t[e])}})},null===S||void 0===S||null===(a=S.equippedArtifacts)||void 0===a?void 0:a[e])}))]})]}):null},oe=a(11),je=a(51),de=a(17),ue=a(396),be=a(573),he=a(284),xe=a(282),Oe=a(314),ve=a(135),pe=a(42),fe=a(342),me=a(315);function ge(e){var t,a=e.characterSheet,n=e.character,i=e.character,r=i.constellation,o=i.key,d=Object(v.useContext)(f.a),u=d.newBuild,b=d.equippedBuild,h=Object(Y.a)(o),x=u||b;if(!x)return null;var O=x.tlvl,p=x.characterEle,m=a.weaponTypeKey;return Object(z.jsxs)(s.a,{container:!0,spacing:1,children:[Object(z.jsx)(s.a,{item:!0,xs:12,md:3,children:Object(z.jsxs)(g.a,{children:[Object(z.jsx)(ue.a,{src:a.cardImg,component:"img",width:"100%",height:"auto"}),Object(z.jsxs)(l.a,{children:[Object(z.jsxs)(j.a,{variant:"h5",children:[a.name," ",Object(z.jsx)(H.a,{src:null===(t=he.a.weaponTypes)||void 0===t?void 0:t[m]})," ",ve.a[p]," "]}),Object(z.jsx)(j.a,{children:Object(z.jsx)(xe.a,{stars:a.star,colored:!0})}),Object(z.jsxs)(j.a,{variant:"subtitle1",children:["Lvl. ",F.a.getLevelString(n)]}),Object(z.jsx)(s.a,{container:!0,spacing:1,children:["auto","skill","burst"].map((function(e){var t;return Object(z.jsx)(s.a,{item:!0,xs:4,children:Object(z.jsx)(be.a,{badgeContent:O[e]+1,color:"skill"===e&&x.skillBoost||"burst"===e&&x.burstBoost?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(z.jsx)(E.a,{component:"img",src:null===(t=a.getTalentOfKey(e,x.characterEle))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(z.jsx)(j.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:a.constellationName}),Object(z.jsx)(s.a,{container:!0,spacing:1,children:Object(oe.a)(Array(6).keys()).map((function(e){var t;return Object(z.jsx)(s.a,{item:!0,xs:4,children:Object(z.jsx)(E.a,{component:"img",src:null===(t=a.getTalentOfKey("constellation".concat(e+1),x.characterEle))||void 0===t?void 0:t.img,sx:Object(c.a)({cursor:"pointer"},r>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return h({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(z.jsxs)(s.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(z.jsx)(fe.default,{charData:{character:n,characterSheet:a,equippedBuild:b,newBuild:u,characterDispatch:h},weaponId:n.equippedWeapon}),Object(z.jsx)(Ae,{characterSheet:a,character:n,equippedBuild:b,newBuild:u})]})]})}var ye=["eleMas","critRate_","critDMG_","enerRech_","heal_"],Se=["characterATK","finalATK","finalHP","finalDEF"];Se.push.apply(Se,ye);var we=["hp","hp_","def","def_","atk","atk_"];we.push.apply(we,ye);var ke=[];["physical"].concat(Object(oe.a)(re.d)).forEach((function(e){ke.push("".concat(e,"_dmg_")),ke.push("".concat(e,"_res_"))})),ke.push("stamina","incHeal_","shield_","cdRed_");var Ce=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","moveSPD_","atkSPD_","weakspotDMG_"],_e={characterATK:"Override Base ATK",characterHP:"Override Base HP",characterDEF:"Override Base DEF"},Be={xs:12,sm:6,md:6,lg:4};function Ae(e){var t=e.characterSheet,a=e.character,n=e.character,i=n.key,r=n.level,l=n.ascension,o=e.equippedBuild,j=e.newBuild,d=Object(Y.a)(i),u=t.getSpecializedStat(a.ascension),b=t.getSpecializedStatVal(a.ascension),h=R.b.getStatUnit(u),x={character:a,equippedBuild:o,newBuild:j};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Ke,{title:"Main Stats",content:Object(z.jsxs)(s.a,{container:!0,columnSpacing:{xs:2,lg:3},rowSpacing:1,children:[Se.map((function(e){return Object(z.jsx)(s.a,Object(c.a)(Object(c.a)({item:!0},Be),{},{children:Object(z.jsx)(Oe.a,Object(c.a)({statKey:e},x))}),e)})),Object(z.jsxs)(s.a,Object(c.a)(Object(c.a)({item:!0},Be),{},{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(z.jsxs)("span",{children:[Object(z.jsx)("b",{children:"Specialized:"})," ",Object(z.jsxs)("span",{children:[u&&ve.a[u]," ",R.b.getStatName(u)]})]}),Object(z.jsx)("span",{children:"".concat(b.toFixed(R.b.fixedUnit(u))).concat(h)})]}))]}),editContent:Object(z.jsxs)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:[pe.b.map((function(e){var n,c=Math.round(t.getBase(e,r,l));return Object(z.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(z.jsx)(me.a,{name:Object(z.jsxs)("span",{children:[ve.a[e]," ",_e[e]]}),placeholder:R.b.getStatNameRaw(e),value:null!==(n=a.bonusStats[e])&&void 0!==n?n:c,defaultValue:c,percent:"%"===R.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})},onReset:function(){return d({type:"resetStats",statKey:e})}})},e)})),we.map((function(e){var t;return Object(z.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(z.jsx)(me.a,{name:Object(z.jsxs)("span",{children:[ve.a[e]," ",R.b.getStatNameWithPercent(e)]}),placeholder:R.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===R.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))]})}),Object(z.jsx)(Ke,{title:"Other Stats",content:Object(z.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:ke.map((function(e){return Object(v.createElement)(s.a,Object(c.a)(Object(c.a)({item:!0},Be),{},{key:e}),Object(z.jsx)(Oe.a,Object(c.a)({statKey:e},x)))}))}),editContent:Object(z.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:ke.map((function(e){var t;return Object(z.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(z.jsx)(me.a,{name:Object(z.jsxs)("span",{children:[ve.a[e]," ",R.b.getStatName(e)]}),placeholder:R.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:"stamina"===e?100:0,percent:"%"===R.b.getStatUnit(e),defaultValue:"stamina"===e?100:void 0,onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))})}),Object(z.jsx)(Ke,{title:"Misc Stats",content:Object(z.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ce.map((function(e){return Object(v.createElement)(s.a,Object(c.a)(Object(c.a)({item:!0},Be),{},{key:e}),Object(z.jsx)(Oe.a,Object(c.a)({statKey:e},x)))}))}),editContent:Object(z.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ce.map((function(e){var t;return Object(z.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(z.jsx)(me.a,{name:Object(z.jsxs)("span",{children:[ve.a[e]," ",R.b.getStatName(e)]}),placeholder:R.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===R.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))})})]})}function Ke(e){var t=e.title,a=e.content,c=e.editContent,i=Object(v.useState)(!1),r=Object(n.a)(i,2),s=r[0],o=r[1];return Object(z.jsxs)(g.a,{children:[Object(z.jsx)(l.a,{sx:{py:1},children:Object(z.jsxs)(E.a,{display:"flex",justifyContent:"space-between",children:[Object(z.jsx)(j.a,{variant:"subtitle1",children:t}),Object(z.jsx)(x.a,{size:"small",color:s?"error":"info",onClick:function(){return o(!s)},children:Object(z.jsxs)("span",{children:[Object(z.jsx)(de.a,{icon:s?je.w:je.m})," ",s?"EXIT":"Edit Stats"]})})]})}),Object(z.jsx)(b.a,{}),Object(z.jsx)(l.a,{children:s?c:a})]})}var Ne=a(397),Te=a(297),Ee=a(305),Fe=a(300),Ve=a(287),Me=a(48),De=a(113);function Re(e){var t=e.characterSheet,a=e.character,c=e.character,i=c.ascension,r=c.constellation,l=c.key,o=Object(v.useContext)(f.a),d=o.newBuild,u=o.equippedBuild,b=Object(Y.a)(l),h=d||u;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(We,{characterSheet:t}),Object(z.jsxs)(s.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var c=Object(n.a)(e,2),i=c[0],r=c[1];return Object(z.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(z.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:i,subtitle:r})},i)})),!!t.getTalentOfKey("sprint",null===h||void 0===h?void 0:h.characterEle)&&Object(z.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(z.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!t.getTalentOfKey("passive",null===h||void 0===h?void 0:h.characterEle)&&Object(z.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(z.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:"passive",subtitle:"Passive"})})]}),Object(z.jsx)(s.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var c=Object(n.a)(e,3),r=c[0],l=c[1],o=c[2],j=i>=o;return t.getTalentOfKey(r,null===h||void 0===h?void 0:h.characterEle)?Object(z.jsx)(s.a,{item:!0,style:{opacity:j?1:.5},xs:12,md:4,children:Object(z.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:r,subtitle:l})},r):null}))}),Object(z.jsxs)(j.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",r]}),Object(z.jsx)(s.a,{container:!0,spacing:1,children:Object(oe.a)(Array(6).keys()).map((function(e){var n="constellation".concat(e+1);return Object(z.jsx)(s.a,{item:!0,xs:12,md:4,style:{opacity:r>e?1:.5},children:Object(z.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:n,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return b({constellation:e+1===r?e:e+1})}})},e)}))})]})}var Le={superconduct_hit:function(e){var t,a=e.stats,n="superconduct_hit";return Object(z.jsx)(m.a,{children:Object(z.jsx)(l.a,{sx:{p:1},children:Object(z.jsxs)(j.a,{color:"superconduct.main",children:[R.b.getStatName(n)," ",ve.a.electro,"+",ve.a.cryo," ",Object(z.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(n))})]})})})},electrocharged_hit:function(e){var t,a=e.stats,n="electrocharged_hit";return Object(z.jsx)(m.a,{children:Object(z.jsx)(l.a,{sx:{p:1},children:Object(z.jsxs)(j.a,{color:"electrocharged.main",children:[R.b.getStatName(n)," ",ve.a.electro,"+",ve.a.hydro," ",Object(z.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(n))})]})})})},overloaded_hit:function(e){var t,a=e.stats,n="overloaded_hit";return Object(z.jsx)(m.a,{children:Object(z.jsx)(l.a,{sx:{p:1},children:Object(z.jsxs)(j.a,{color:"overloaded.main",children:[R.b.getStatName(n)," ",ve.a.electro,"+",ve.a.pyro," ",Object(z.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(n))})]})})})},pyro_swirl_hit:function(e){var t,a=e.stats,c=Object(v.useState)(Object.keys(qe)[0]),i=Object(n.a)(c,2),r=i[0],l=i[1],s="".concat(r,"_swirl_hit");return Object(z.jsxs)(m.a,{sx:{display:"flex"},children:[Object(z.jsx)(C.a,{size:"small",title:qe[r],color:"success",children:Object.entries(qe).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(z.jsx)(O.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:c},a)}))}),Object(z.jsx)(E.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(z.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(s))})})]})},shattered_hit:function(e){var t,a=e.stats,n="shattered_hit",c=Object(z.jsx)(Te.a,{placement:"top",title:Object(z.jsxs)(j.a,{children:["Claymores, Plunging Attacks and ",Object(z.jsx)(W.a,{color:"geo",children:"Geo DMG"})]}),children:Object(z.jsx)(E.a,{component:"span",sx:{cursor:"help"},children:Object(z.jsx)(de.a,{icon:je.v})})});return Object(z.jsx)(m.a,{children:Object(z.jsx)(l.a,{sx:{p:1},children:Object(z.jsxs)(W.a,{color:"shattered",children:[R.b.getStatName(n)," ",ve.a.hydro,"+",ve.a.cryo,"+ ",Object(z.jsx)(W.a,{color:"physical",children:Object(z.jsxs)("small",{children:["Heavy Attack",c," "]})})," ",Object(z.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(n))})]})})})},crystalize_hit:function(e){var t,a=e.stats,c=Object(v.useState)(Object.keys(ze)[0]),i=Object(n.a)(c,2),r=i[0],l=i[1],s="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(z.jsxs)(m.a,{sx:{display:"flex"},children:[Object(z.jsx)(C.a,{size:"small",title:ze[r],color:"success",children:Object.entries(ze).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(z.jsx)(O.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:c},a)}))}),Object(z.jsx)(E.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(z.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(s))})})]})}};function We(e){var t=e.characterSheet,a=Object(v.useContext)(f.a),n=a.newBuild,c=a.equippedBuild,i=n||c;if(!i)return null;var r=i.characterEle,o=Object(oe.a)(Me.a[r]||[]);return o.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||o.push("shattered_hit"),Object(z.jsx)(g.a,{sx:{mb:1},children:Object(z.jsx)(l.a,{children:Object(z.jsx)(s.a,{container:!0,spacing:1,children:o.map((function(e){var t=Le[e];return t?Object(z.jsx)(s.a,{item:!0,children:Object(z.jsx)(t,{stats:i})},e):null}))})})})}var qe={pyro:Object(z.jsxs)("span",{children:[R.b.getStatName("pyro_swirl_hit")," ",ve.a.pyro," + ",ve.a.anemo]}),electro:Object(z.jsxs)("span",{children:[R.b.getStatName("electro_swirl_hit")," ",ve.a.electro,"+",ve.a.anemo]}),cryo:Object(z.jsxs)("span",{children:[R.b.getStatName("cryo_swirl_hit")," ",ve.a.cryo," + ",ve.a.anemo]}),hydro:Object(z.jsxs)("span",{children:[R.b.getStatName("hydro_swirl_hit")," ",ve.a.hydro," + ",ve.a.anemo]})};var ze={default:Object(z.jsxs)(W.a,{color:"crystalize",children:[R.b.getStatName("crystalize_hit")," ",ve.a.electro,"/",ve.a.hydro,"/",ve.a.pyro,"/",ve.a.cryo,"+",ve.a.geo]}),pyro:Object(z.jsxs)("span",{children:[R.b.getStatName("pyro_crystalize_hit")," ",ve.a.pyro,"+",ve.a.geo]}),electro:Object(z.jsxs)("span",{children:[R.b.getStatName("electro_crystalize_hit")," ",ve.a.electro,"+",ve.a.geo]}),cryo:Object(z.jsxs)("span",{children:[R.b.getStatName("cryo_crystalize_hit")," ",ve.a.cryo,"+",ve.a.geo]}),hydro:Object(z.jsxs)("span",{children:[R.b.getStatName("hydro_crystalize_hit")," ",ve.a.hydro,"+",ve.a.geo]})};var Ie=[1,1,2,4,6,8,10];function Ge(e){var t=e.characterSheet,a=e.character,n=a.talent,c=a.ascension,i=a.key,r=e.characterDispatch,o=e.talentKey,d=e.subtitle,u=e.onClickTitle,h=Object(v.useContext)(f.a),x=h.newBuild,p=h.equippedBuild,m=x||p,y=Object(v.useCallback)((function(e){return Object(z.jsx)(Ne.a,{onClick:u,children:e})}),[u]);if(!m)return null;var S=null;if(o in n){var w,k=null!==(w=m["".concat(o,"Boost")])&&void 0!==w?w:0,_=n[o]+k;S=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(l.a,{sx:{py:1},children:Object(z.jsx)(C.a,{fullWidth:!0,title:"Talent Lv. ".concat(_),color:k?"info":"primary",children:Object(oe.a)(Array(Ie[c]+("auto"!==o||k?0:1)).keys()).map((function(e){return Object(z.jsxs)(O.a,{selected:n[o]===e+1,disabled:n[o]===e+1,onClick:function(){return t=e+1,n[o]=t,void r({talent:n});var t},children:["Talent Lv. ",e+k+1]},e)}))})}),Object(z.jsx)(b.a,{})]})}var B=t.getTalentStats(o,m),A=B&&Object(De.a)(B,m),K=A&&!!A.length&&Object(z.jsx)(Ve.a,{children:A.map((function(e,t){return Object(z.jsx)(Ve.b,{field:e},t)}))}),N=t.getTalentOfKey(o,m.characterEle),T=null===N||void 0===N?void 0:N.sections;return Object(z.jsxs)(g.a,{sx:{height:"100%"},children:[S,Object(z.jsxs)(l.a,{children:[Object(z.jsx)(Ee.a,{condition:!!u,wrapper:y,children:Object(z.jsxs)(s.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(z.jsx)(s.a,{item:!0,children:Object(z.jsx)(E.a,{component:"img",src:null===N||void 0===N?void 0:N.img,sx:{width:60,height:"auto"}})}),Object(z.jsxs)(s.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(z.jsx)(j.a,{variant:"h6",children:null===N||void 0===N?void 0:N.name}),Object(z.jsx)(j.a,{variant:"subtitle1",children:d})]})]})}),T?Object(z.jsx)(Fe.a,{sections:T,characterKey:i,equippedBuild:p,newBuild:x}):null,K]})]})}var Ue=a(136);function Pe(e){var t=e.children,a=e.current,n=e.value,l=Object(i.a)(e,["children","current","value"]);return n!==a?null:Object(z.jsx)(v.Suspense,{fallback:Object(z.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(z.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),{},{children:t}))})}function He(e){var t,a=e.characterKey,c=e.setCharacterKey,i=e.footer,r=e.newBuild,h=e.onClose,x=e.tabName,O=Object(v.useContext)(Q.b),y=Object(v.useState)(!1),S=Object(n.a)(y,2),k=S[0],C=S[1],B=Object(Z.a)(),A=Object(n.a)(B,2),K=A[0],N=A[1],T=Object(D.a)(ee.a.getAll(),[]),E=Object(D.a)(Ue.b.getAll(),[]),M=Object(D.a)(p.a.getAll(),[]),R=Object(v.useMemo)((function(){var e;return K&&(null!==(e=O._getChar(a))&&void 0!==e?e:Object(V.b)(a))}),[a,K,O]),L=Object(v.useMemo)((function(){return K&&O._getWeapon(R.equippedWeapon)}),[R.equippedWeapon,K,O]),W=null===E||void 0===E?void 0:E[a],q=L?null===T||void 0===T?void 0:T[L.key]:void 0,G=W&&q&&M&&{characterSheet:W,weaponSheet:q,artifactSheets:M};Object(v.useEffect)((function(){return O.followChar(a,N)}),[a,N,O]),Object(v.useEffect)((function(){return O.followWeapon(R.equippedWeapon,N)}),[R.equippedWeapon,N,O]);var U=Object(v.useMemo)((function(){if(r)return Object($.d)(r)}),[r]),H=Object(v.useState)(x||(U?"newartifacts":"character")),J=Object(n.a)(H,2),X=J[0],Y=J[1],te=Object(v.useCallback)((function(e,t){return Y(t)}),[Y]),ae=null!==(t=null===U||void 0===U?void 0:U.mainStatAssumptionLevel)&&void 0!==t?t:0,ne=Object(v.useMemo)((function(){return K&&W&&q&&M&&F.a.calculateBuild(R,O,W,q,M,ae)}),[K,R,W,q,M,ae,O]);return Object(z.jsx)(m.a,{children:Object(z.jsxs)(f.a.Provider,{value:{newBuild:U,equippedBuild:ne,compareBuild:k,setCompareBuild:C},children:[Object(z.jsxs)(l.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(z.jsxs)(s.a,{container:!0,spacing:1,children:[Object(z.jsx)(s.a,{item:!0,flexGrow:1,children:Object(z.jsx)(Je,{characterSheet:W,character:R,setCharacterKey:c})}),!!ae&&Object(z.jsx)(s.a,{item:!0,children:Object(z.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(z.jsx)(j.a,{children:Object(z.jsxs)("strong",{children:["Assume Main Stats are Level ",ae]})})})}),!!h&&Object(z.jsx)(s.a,{item:!0,children:Object(z.jsx)(w.a,{onClick:h})})]}),Object(z.jsx)(g.a,{children:Object(z.jsxs)(d.a,{onChange:te,value:X,variant:"fullWidth",children:[Object(z.jsx)(u.a,{value:"character",label:"Character"}),!!U&&Object(z.jsx)(u.a,{value:"newartifacts",label:"New Artifacts"}),Object(z.jsx)(u.a,{value:"artifacts",label:U?"Current Artifacts":"Artifacts"}),Object(z.jsx)(u.a,{value:"talent",label:"Talents"})]})}),Object(z.jsx)(P.a,{character:R}),!!G&&Object(z.jsx)(I,{sheets:G}),Object(z.jsx)(_.b,{character:R}),W&&Object(z.jsx)(Pe,{value:"character",current:X,children:Object(z.jsx)(ge,{characterSheet:W,character:R})}),G&&Object(z.jsx)(f.a.Provider,{value:{newBuild:void 0,equippedBuild:ne,compareBuild:k,setCompareBuild:C},children:Object(z.jsx)(Pe,{value:"artifacts",current:X,children:Object(z.jsx)(se,{sheets:G,character:R})})}),U&&G&&Object(z.jsx)(Pe,{value:"newartifacts",current:X,children:Object(z.jsx)(se,{sheets:G,character:R})}),W&&Object(z.jsx)(Pe,{value:"talent",current:X,children:Object(z.jsx)(Re,{characterSheet:W,character:R})})]}),!!i&&Object(z.jsx)(b.a,{}),i&&Object(z.jsx)(l.a,{sx:{py:1},children:i})]})})}function Je(e){var t,a=e.characterSheet,c=e.character,i=e.character,r=i.key,l=i.elementKey,s=void 0===l?"anemo":l,o=i.level,d=void 0===o?1:o,u=i.ascension,b=void 0===u?0:u,p=e.disabled,f=e.setCharacterKey,m=Object(v.useState)(!1),g=Object(n.a)(m,2),w=g[0],_=g[1],B=Object(Y.a)(r),A=a?Object(z.jsxs)("span",{children:[Object(z.jsx)(H.a,{src:a.thumbImg,sx:{mr:1}}),a.name]}):Object(z.jsx)("span",{children:"Select a Character"}),K=Object(v.useCallback)((function(e){e=Object($.a)(e,1,90);var t=X.b.findIndex((function(t){return e<=t}));B({level:e,ascension:t})}),[B]),N=Object(v.useCallback)((function(){var e=X.b.findIndex((function(e){return 90!==d&&d===e}));B(b===e?{ascension:b+1}:{ascension:e})}),[B,b,d]);return Object(z.jsx)(z.Fragment,{children:p?Object(z.jsxs)(j.a,{variant:"h6",children:[A," ",a&&F.a.getLevelString(c)]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(y.a,{show:w,onHide:function(){return _(!1)},onSelect:f}),Object(z.jsxs)(h.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[Object(z.jsx)(x.a,{disabled:!f,onClick:function(){return _(!0)},startIcon:Object(z.jsx)(S.a,{src:null===a||void 0===a?void 0:a.thumbImgSide}),children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Character"}),(null===a||void 0===a?void 0:a.sheet)&&"talents"in(null===a||void 0===a?void 0:a.sheet)&&Object(z.jsx)(C.a,{title:J.a[s].name,children:Object.keys(a.sheet.talents).map((function(e){return Object(z.jsx)(O.a,{selected:s===e,disabled:s===e,onClick:function(){return B({elementKey:e})},children:Object(z.jsx)("strong",{children:J.a[e].name})},e)}))}),Object(z.jsx)(k.a,{children:Object(z.jsx)(k.c,{onChange:K,value:d,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!a})}),Object(z.jsx)(x.a,{sx:{pl:1},disabled:!Object(X.a)(d)||!a,onClick:N,children:Object(z.jsxs)("strong",{children:["/ ",X.b[b]]})}),Object(z.jsx)(C.a,{title:"Select Level",disabled:!a,children:X.c.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=a===X.b[c]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(X.b[c]),r=a===d&&c===b;return Object(z.jsx)(O.a,{selected:r,disabled:r,onClick:function(){return B({level:a,ascension:c})},children:i},"".concat(a,"/").concat(c))}))})]})]})})}}}]);
//# sourceMappingURL=18.f62671e6.chunk.js.map