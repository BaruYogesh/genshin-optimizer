(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[18],{286:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),c=a(1),i=a(174),r=a(42);function l(e){var t=Object(c.useContext)(i.b);return Object(c.useCallback)((function(a){if(e)if("type"in a)switch(a.type){case"weapon":t.setWeaponLocation(a.id,e);break;case"editStats":var c,i=t._getChar(e),l=a.statKey,s=a.value,o=i.bonusStats;if(o[l]===s)return;if(r.e.includes(l))(null!==(c=Object(r.a)(i)[l])&&void 0!==c?c:0)===s?delete o[l]:o[l]=s;else s?o[l]=s:delete o[l];t.updateChar(Object(n.a)(Object(n.a)({},i),{},{bonusStats:o}));break;case"resetStats":var j=t._getChar(e),d=a.statKey,u=j.bonusStats;delete u[d],t.updateChar(Object(n.a)(Object(n.a)({},j),{},{bonusStats:u}))}else t.updateChar(Object(n.a)(Object(n.a)({},t._getChar(e)),a))}),[e,t])}},287:function(e,t,a){"use strict";a.d(t,"b",(function(){return x})),a.d(t,"a",(function(){return v}));var n=a(51),c=a(17),i=a(79),r=a(221),l=a(395),s=a(10),o=a(270),j=a(1),d=a(112),u=a(283),b=a(297),h=a(32),O=a(0);function x(e){var t,a,s=e.field,o=Object(j.useContext)(d.a),x=o.newBuild,v=o.equippedBuild,f=o.compareBuild,p=x||v,m=Object(j.useMemo)((function(){var e;return!!p&&(null===s||void 0===s||null===(e=s.canShow)||void 0===e?void 0:e.call(s,p))}),[s,p]),g=(null===s||void 0===s?void 0:s.fixed)||0,y=Object(j.useMemo)((function(){if(s.value)return u.a.getTalentFieldValue(s,"value",p);if(s.formula){var e,t,a=null===(e=u.a.getTalentFieldValue(s,"formula",p))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.call(e,p);if(f&&v&&"number"===typeof a){var n,c,i,r,l,o,j,d,b,x=s.value?s.value:null===(n=s.formula)||void 0===n||null===(c=n.call(s,v))||void 0===c||null===(i=c[0])||void 0===i?void 0:i.call(c,v);"function"===typeof x&&(x=parseInt(null===(r=x)||void 0===r||null===(l=r(v))||void 0===l||null===(o=l.toFixed)||void 0===o?void 0:o.call(l,g)));var m=a-x;a=Object(O.jsxs)("span",{children:[null!==(j=null===(d=x)||void 0===d?void 0:d.toFixed(g))&&void 0!==j?j:x,m?Object(O.jsxs)(h.a,{color:m>0?"success":"error",children:[" (",m>0?"+":"",(null===m||void 0===m||null===(b=m.toFixed)||void 0===b?void 0:b.call(m,g))||m,")"]}):""]})}return a}}),[f,g,v,s,p]),S=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"text",p)}),[s,p]),w=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"variant",p)}),[s,p]),k=Object(j.useMemo)((function(){var e=u.a.getTalentFieldValue(s,"formulaText",p);return e?Object(O.jsx)(b.a,{placement:"top",title:Object(O.jsx)(i.a,{children:e}),children:Object(O.jsx)(r.a,{component:"span",sx:{cursor:"help",ml:1},children:Object(O.jsx)(c.a,{icon:n.v})})}):null}),[s,p]),C=Object(j.useMemo)((function(){return u.a.getTalentFieldValue(s,"unit",p)}),[s,p]);return m?Object(O.jsxs)(l.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("b",{children:S}),k]}),Object(O.jsxs)(i.a,{color:"".concat(w,".main"),children:[null!==(t=null===y||void 0===y||null===(a=y.toFixed)||void 0===a?void 0:a.call(y,g))&&void 0!==t?t:y,C]})]}):null}var v=Object(s.a)(o.a)((function(e){var t=e.theme;return{borderRadius:t.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:t.palette.contentDark.main},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:t.palette.contentDarker.main}}}))},290:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u}));var n=a(5),c=a(3),i=a(132),r=a(10),l=a(466),s=a(1),o=a(0),j=Object(r.a)(l.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),d=Object(r.a)("button",{shouldForwardProp:function(e){return!["fullWidth","disableRipple","disableFocusRipple","disableElevation"].includes(e)}})((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,padding:0,overflow:"hidden",border:"none",borderRadius:t.shape.borderRadius,"& div":{width:"100%",height:"100%"},"&.MuiButtonGroup-grouped:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},"&.MuiButtonGroup-grouped:not(:first-of-type)":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}}));function u(e){var t=e.value,a=void 0===t?0:t,r=e.onChange,l=e.disabled,d=void 0!==l&&l,u=e.float,b=void 0!==u&&u,h=Object(i.a)(e,["value","onChange","disabled","float"]),O=Object(s.useState)(a),x=Object(c.a)(O,2),v=x[0],f=x[1],p=Object(s.useState)(!1),m=Object(c.a)(p,2),g=m[0],y=m[1],S=Object(s.useMemo)((function(){return b?parseFloat:parseInt}),[b]),w=Object(s.useCallback)((function(){r(v),y(!1)}),[r,v,y]),k=Object(s.useCallback)((function(){y(!0)}),[y]);Object(s.useEffect)((function(){return f(a)}),[a,f]);var C=Object(s.useCallback)((function(e){return f(S(e.target.value)||0)}),[f,S]),_=Object(s.useCallback)((function(e){return"Enter"===e.key&&w()}),[w]);return Object(o.jsx)(j,Object(n.a)({value:g&&!v?"":v,"aria-label":"custom-input",type:"number",onChange:C,onBlur:w,onFocus:k,disabled:d,onKeyDown:_},h))}},295:function(e,t,a){"use strict";a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return k}));var n,c,i,r,l=a(5),s=a(46),o=a(132),j=a(358),d=a(359),u=a(1012),b=a(253),h=a(79),O=a(254),x=a(1),v=a(131),f=a(136),p=a(174),m=a(133),g=a(279),y=a(302),S=a(0);function w(e){var t,a=e.value,w=e.onChange,C=e.inventory,_=void 0!==C&&C,B=e.noUnselect,A=void 0!==B&&B,K=e.filter,N=void 0===K?function(){return!0}:K,E=Object(o.a)(e,["value","onChange","inventory","noUnselect","filter"]),F=Object(v.a)("ui").t,T=Object(x.useContext)(p.b),V=Object(m.a)(f.b.getAll(),[]),M=Object(m.a)(f.b.get(a),[a]),D=T._getCharKeys().filter((function(e){return(null===V||void 0===V?void 0:V[e])&&N(V[e])})).sort();return Object(S.jsxs)(g.a,Object(l.a)(Object(l.a)({},E),{},{title:null!==(t=null===M||void 0===M?void 0:M.name)&&void 0!==t?t:F(_?n||(n=Object(s.a)(["inventory"])):c||(c=Object(s.a)(["unselect"]))),color:a?"success":"primary",startIcon:(null===M||void 0===M?void 0:M.thumbImg)?Object(S.jsx)(y.a,{src:M.thumbImgSide}):_?Object(S.jsx)(j.a,{}):Object(S.jsx)(d.a,{}),children:[!A&&(_?Object(S.jsxs)(u.a,{onClick:function(){return w("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:F(i||(i=Object(s.a)(["inventory"])))})]}):Object(S.jsxs)(u.a,{onClick:function(){return w("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(d.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:F(r||(r=Object(s.a)(["unselect"])))})]})),!A&&Object(S.jsx)(O.a,{},"div"),!!V&&k(V,D,w,a)]}))}function k(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c;return Object(S.jsxs)(u.a,{onClick:function(){return a(t)},selected:n===t,disabled:n===t,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(y.a,{src:e[t].thumbImgSide})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.name})]},t)}))}},297:function(e,t,a){"use strict";var n=a(7),c=a(5),i=a(132),r=a(10),l=a(998),s=a(592),o=a(0),j=Object(r.a)((function(e){var t=e.className,a=Object(i.a)(e,["className"]);return Object(o.jsx)(l.a,Object(c.a)(Object(c.a)({},a),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,a=e.theme;return t={},Object(n.a)(t,"& .".concat(s.a.arrow),{color:a.palette.common.black}),Object(n.a)(t,"& .".concat(s.a.tooltip),{backgroundColor:a.palette.common.black}),t}));t.a=j},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(221),c=a(1),i=a(112),r=a(15),l=a(3),s=a(11),o=a(468),j=a(114),d=a(364),u=a(365),b=a(1012),h=a(254),O=a(272),x=a(279),v=a(281),f=a(0);function p(e){var t=e.conditional,a=e.conditionalValue,n=e.setConditional,c=e.name,i=e.disabled,o=void 0!==i&&i,j=e.stats,p=Object(l.a)(a,2),m=p[0],g=void 0===m?0:m,y=p[1];if(!t)return c;if("states"in t){var S=y?t.states[y]:Object.values(t.states)[0],w=0===g?"Not Active":Object(f.jsxs)("span",{children:[S.name," ",Object(r.f)(S.maxStack,j)>1?": ".concat(g," stack").concat(g>1?"s":""):""]}),k=Object(f.jsx)(v.a,{color:0===g?"secondary":"success",children:w});return Object(f.jsxs)(x.a,{size:"small",title:Object(f.jsxs)("span",{children:[c," ",k]}),disabled:o,children:[Object(f.jsx)(b.a,{onClick:function(){return n([0])},selected:0===g,disabled:0===g,children:Object(f.jsx)("span",{children:"Not Active"})}),Object(f.jsx)(h.a,{}),Object.entries(t.states).flatMap((function(e,t){var a=Object(l.a)(e,2),c=a[0],i=a[1];return Object(s.a)(Array(i.maxStack).keys()).map((function(e){return e+1})).map((function(e,t){return Object(f.jsxs)(b.a,{onClick:function(){return n([e,c])},selected:y===c&&g===e,disabled:y===c&&g===e,children:[i.name,i.maxStack>1?": ".concat(e," stack").concat(e>1?"s":""):""]},c+t)}))}))]})}var C=Object(r.f)(t.maxStack,j);if(C>1){var _=Object(f.jsx)(v.a,{color:0===g?"secondary":"success",children:g>0?"".concat(g," stack").concat(g>1?"s":""):"Not Active"});return Object(f.jsxs)(x.a,{size:"small",title:Object(f.jsxs)("span",{children:[c," ",_]}),disabled:o,children:[Object(f.jsx)(b.a,{onClick:function(){return n([0])},selected:0===g,disabled:0===g,children:Object(f.jsx)("span",{children:"Not Active"})}),Object(f.jsx)(h.a,{}),Object(s.a)(Array(C).keys()).map((function(e){return e+1})).map((function(e){return Object(f.jsx)(b.a,{onClick:function(){return n([e])},selected:g===e,disabled:g===e,children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})}return 1===C?Object(f.jsx)(O.a,{size:"small",onClick:function(){return n([g?0:1])},disabled:o,startIcon:g?Object(f.jsx)(d.a,{}):Object(f.jsx)(u.a,{}),children:c}):null}var m=a(286),g=a(113),y=a(278),S=a(287);function w(e){var t=e.conditional,a=e.characterKey,n=Object(c.useContext)(i.a),d=n.newBuild,u=n.equippedBuild,b=Object(m.a)(a),h=d||u,O=Object(c.useMemo)((function(){return j.a.canShow(t,h)}),[t,h]),x=Object(c.useMemo)((function(){return O&&j.a.resolve(t,h,void 0)}),[O,t,h]),v=x.stats,w=void 0===v?{}:v,k=x.fields,C=void 0===k?[]:k,_=x.conditionalValue,B=Object(c.useMemo)((function(){return O&&[].concat(Object(s.a)(Object(g.a)(w,h)),Object(s.a)(C))}),[O,w,h,C]),A=Object(c.useCallback)((function(e){if(h){var a=Object(l.a)(e,1)[0];(void 0===a?0:a)?t.keys&&Object(r.k)(h.conditionalValues,t.keys,e):(Object(r.e)(h.conditionalValues,t.keys),Object(r.l)(h.conditionalValues)),b({conditionalValues:h.conditionalValues})}}),[t,h,b]);return O&&h?Object(f.jsxs)(y.a,{children:[Object(f.jsx)(o.a,{children:Object(f.jsx)(p,{conditional:t,conditionalValue:_,setConditional:A,name:t.name,stats:h})}),Object(f.jsx)(S.a,{sx:{m:0},children:B.map((function(e,t){return Object(f.jsx)(S.b,{field:e},t)}))})]}):null}function k(e){var t=e.sections,a=e.characterKey,l=Object(c.useContext)(i.a),s=l.newBuild,o=l.equippedBuild,j=s||o;return j?Object(f.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e,t){var c,i;if(!e.canShow(j))return null;var l=Object(r.f)(e.text,j),s=null!==(c=e.fields)&&void 0!==c?c:[];return Object(f.jsxs)(n.a,{sx:{pb:-1,"& > *":{mb:1}},children:[Object(f.jsx)("div",{children:l}),s.length>0&&Object(f.jsx)(S.a,{children:null===s||void 0===s||null===(i=s.map)||void 0===i?void 0:i.call(s,(function(e,t){return Object(f.jsx)(S.b,{field:e},t)}))}),!!e.conditional&&Object(f.jsx)(w,{conditional:e.conditional,characterKey:a})]},"section"+t)}))}):null}},301:function(e,t,a){"use strict";var n=a(5),c=a(132),i=a(10),r=a(273),l=a(0),s=Object(i.a)((function(e){e.expand;var t=Object(c.a)(e,["expand"]);return Object(l.jsx)(r.a,Object(n.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));t.a=s},302:function(e,t,a){"use strict";var n=a(357),c=Object(n.a)("img")((function(e){var t=e.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:t.spacing(-3),marginLeft:t.spacing(-1.25),marginRight:t.spacing(-1),marginBottom:t.spacing(-1)}}));t.a=c},303:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n,c=a(46),i=a(358),r=a(79),l=a(131),s=a(136),o=a(133),j=a(0);function d(e){var t=e.location,a=Object(l.a)("ui").t,d=Object(o.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(j.jsx)(r.a,{component:"span",children:(null===d||void 0===d?void 0:d.name)?d.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(i.a,{sx:{verticalAlign:"text-bottom"}})," ",a(n||(n=Object(c.a)(["inventory"])))]})})}},312:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(3),c=a(21),i=a(7),r=a(5),l=a(11),s=a(15),o=a(81),j=a(116),d=[3,4,6],u={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3},b={};function h(e,t,a,n){if(5!==e.length)for(var c=0,o=d;c<o.length;c++){var j=o[c];t[j]>0&&h([].concat(Object(l.a)(e),[j]),Object(r.a)(Object(r.a)({},t),{},Object(i.a)({},j,t[j]-j)),a-j,n*t[j]/a)}else Object(s.k)(b,e,n)}h([0],{3:6,4:20,6:18},44,1),h([3],{3:3,4:20,6:18},41,1),h([4],{3:6,4:16,6:18},40,1),h([6],{3:6,4:20,6:12},38,1);for(var O=Array(6).fill(0).map((function(e,t){for(var a=[1],n=0,c=1;++n<=t;)c*=t-n+1,c/=n,a.push(c);return a})),x=[[1]],v=function(){var e=x[x.length-1],t=Array(e.length+3).fill(0);e.forEach((function(e,a){for(var n=0,c=[0,1,2,3];n<c.length;n++){t[a+c[n]]+=e}})),x.push(t.map((function(e){return e/4})))};x.length<6;)v();for(var f=function(){var e=m[p],t=e.reduce((function(e,t){return e+t}));e.forEach((function(e,a,n){n[a]=t,t-=e}))},p=0,m=x;p<m.length;p++)f();function g(e,t){if(e.rarity<=2)return NaN;var a=e.rarity,l=e.level,h=e.substats,v=Object(r.a)({},t),f=new Set(Object.keys(v)),p=0,m=e.mainStatKey;if(m in v){var g=4*a;if(j[a][m][g]<v[m])return 0;delete v[m],f.delete(m)}var y,S=Object(c.a)(h);try{for(S.s();!(y=S.n()).done;){var w=y.value,k=w.key,C=w.value;k?f.has(k)&&(f.delete(k),v[k]>C?v[k]-=C:delete v[k]):p+=1}}catch(D){S.e(D)}finally{S.f()}if(p+=4-h.length,f.size>p||Object.keys(v).length>4)return 0;for(var _=o.a.rollsRemaining(l,a)-p,B=0,A=Object.entries(v);B<A.length;B++){var K=Object(n.a)(A[B],2),N=K[0],E=K[1];v[N]=Math.max(Math.ceil(10*E/o.a.maxSubstatValues(N,a)),1)}var F=0,T=Object.entries(v).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=f.has(a)?1:0,r=Math.ceil(c/10)-i;return F+=r,{target:c,filler:i,minUpgrade:r}})).reverse();if(F>_)return 0;var V=Object(i.a)({},_,1),M=_-F;return T.forEach((function(e,t){for(var a,c,i,r=e.target,l=e.filler,s=e.minUpgrade,o={},j=s;j<=s+M;j++)for(var d=r-7*(j+l),u=d>0?x[j+l][d]:1,b=0,h=Object.entries(V);b<h.length;b++){var v,f=Object(n.a)(h[b],2),p=f[0],m=f[1],g=parseInt(p);if(!(g<j)){var y=(c=j,i=4-t,O[a=g][c]*Math.pow(i-1,a-c)/Math.pow(i,a)),S=g-j;o[S]=(null!==(v=o[S])&&void 0!==v?v:0)+m*u*y}}V=o})),function(e,t,a){var n,i,r=null!==(n=u[e])&&void 0!==n?n:0,l=0,o={3:2,4:5,6:3},j=b[r],h=Object(c.a)(t);try{for(h.s();!(i=h.n()).done;){var x=i.value.key;if(x){var v=u[x];j=j[v],o[v]-=1}}}catch(D){h.e(D)}finally{h.f()}r&&(o[r]-=1);var f,p={3:0,4:0,6:0},m=Object(c.a)(a);try{for(m.s();!(f=m.n()).done;){var g=f.value;p[u[g]]+=1}}catch(D){m.e(D)}finally{m.f()}var y=0;Object(s.c)(j,[],(function(e){return"number"===typeof e}),(function(e,t){y+=e;var a,n={3:0,4:0,6:0},i=Object(c.a)(t);try{for(i.s();!(a=i.n()).done;){n[a.value]+=1}}catch(D){i.e(D)}finally{i.f()}var r,s=e,o=Object(c.a)(d);try{for(o.s();!(r=o.n()).done;){var j=r.value,u=n[j],b=p[j];if(u<b)return;s*=O[u][b]}}catch(D){o.e(D)}finally{o.f()}l+=s}));var S,w=Object(c.a)(d);try{for(w.s();!(S=w.n()).done;){var k=S.value;l/=O[o[k]][p[k]]}}catch(D){w.e(D)}finally{w.f()}return l/y}(e.mainStatKey,h,f)*Object.values(V).reduce((function(e,t){return e+t}))}},313:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),c=a(281),i=a(15),r=a(0);function l(e){var t=e.value,a=e.valid,l="number"===typeof t?["roll".concat(Object(i.a)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(l,2),o=s[0],j=s[1];return a||(o="error"),Object(r.jsx)(c.a,{color:o,children:j})}},314:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5),c=a(132),i=a(10),r=a(272),l=a(0),s=Object(i.a)(r.a)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function o(e){var t=e.children,a=(e.disabled,Object(c.a)(e,["children","disabled"]));return Object(l.jsx)(s,Object(n.a)(Object(n.a)({},a),{},{disabled:!0,children:t}))}},315:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(221),c=a(79),i=a(1),r=a(283),l=a(83),s=a(133),o=a(40),j=a(42),d=a(32),u=a(135),b=a(0);function h(e){var t,a,i=e.label,r=void 0===i?"":i,l=e.val,s=e.oldVal,o=e.fixed,j=void 0===o?0:o,u=e.unit,h=void 0===u?"":u,O=e.hasBonus,x=void 0!==O&&O;"undefined"===typeof s&&"number"===typeof l&&(s=l,l=void 0);var v=void 0!==l?l-s:0,f="",p="";s||0===v?f=null===(t=s)||void 0===t?void 0:t.toFixed(j):void 0===s&&(f=null===(a=l)||void 0===a?void 0:a.toFixed(j)),f&&(f=Object(b.jsxs)("span",{children:[f,h]})),0!==v&&(p=Object(b.jsxs)(d.a,{color:v>0?"success":"error",children:[v>0?"+":"",null===v||void 0===v?void 0:v.toFixed(j),h]}));var m=Object(b.jsxs)(b.Fragment,{children:[f,p]});return Object(b.jsxs)(n.a,{display:"flex",justifyContent:"space-between",children:[Object(b.jsx)(c.a,{children:r}),Object(b.jsx)(c.a,{children:x?Object(b.jsx)("strong",{children:m}):m})]})}function O(e){var t=e.character,a=e.equippedBuild,n=e.newBuild,c=e.statKey,O=Object(s.a)(Array.isArray(c)?l.a.get(c):void 0,[c]),x=Object(i.useMemo)((function(){var e,i,l,s,h="";if("string"===typeof c){if(n&&a){var x,v;e=null!==(x=null===n||void 0===n?void 0:n[c])&&void 0!==x?x:0,i=null!==(v=null===a||void 0===a?void 0:a[c])&&void 0!==v?v:0}else{var f,p=n||a;e=null!==(f=null===p||void 0===p?void 0:p[c])&&void 0!==f?f:0,i=Object(j.a)(t)[c],p&&("finalHP"===c?i=p.characterHP:"finalDEF"===c?i=p.characterDEF:"finalATK"===c&&(i=p.characterATK+p.weaponATK))}s=o.b.getStatUnit(c),l=o.b.fixedUnit(c),h=Object(b.jsxs)("span",{children:[u.a[c]," ",o.b.getStatName(c)]})}else if(O){var m,g,y,S,w=n||a,k=O.field,C=r.a.getTalentFieldValue(k,"variant",w);if(h=Object(b.jsx)(d.a,{color:C,children:r.a.getTalentFieldValue(k,"text",w)}),l=r.a.getTalentFieldValue(k,"fixed",w,0),s=r.a.getTalentFieldValue(k,"unit",w,""),e=null===(m=r.a.getTalentFieldValue(k,"formula",w))||void 0===m||null===(g=m[0])||void 0===g?void 0:g.call(m,w),n&&a)i=null===(y=r.a.getTalentFieldValue(k,"formula",a))||void 0===y||null===(S=y[0])||void 0===S?void 0:S.call(y,a)}return{val:e,oldVal:i,fixed:l,unit:s,label:h,hasBonus:r.a.hasBonusStats(t,c)}}),[t,a,n,c,O]),v=x.val,f=x.oldVal,p=x.fixed,m=x.unit,g=x.label,y=x.hasBonus;return Object(b.jsx)(h,{val:v,oldVal:f,fixed:p,unit:m,label:g,hasBonus:y})}},316:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),c=a(132),i=a(359),r=a(10),l=a(962),s=a(272),o=a(290),j=a(314),d=a(0),u=Object(r.a)(l.a)({display:"flex"});function b(e){var t=e.name,a=e.children,r=e.value,l=e.placeholder,b=e.defaultValue,h=void 0===b?0:b,O=e.onValueChange,x=e.percent,v=void 0!==x&&x,f=e.disabled,p=void 0!==f&&f,m=e.onReset,g=Object(c.a)(e,["name","children","value","placeholder","defaultValue","onValueChange","percent","disabled","onReset"]);return Object(d.jsxs)(u,Object(n.a)(Object(n.a)({},g),{},{children:[a,Object(d.jsx)(j.a,{sx:{whiteSpace:"nowrap"},children:t}),Object(d.jsx)(o.a,{sx:{flexBasis:30,flexGrow:1},children:Object(d.jsx)(o.c,{sx:{px:1},inputProps:{sx:{textAlign:"right"}},float:v,placeholder:l,value:r,onChange:O,disabled:p,endAdornment:v?"%":void 0})}),Object(d.jsx)(s.a,{onClick:function(){return m?m():O(h)},disabled:p||r===h,children:Object(d.jsx)(i.a,{})})]}))}},317:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var n,c,i,r=a(46),l=a(3),s=a(51),o=a(17),j=a(375),d=a(376),u=a(79),b=a(170),h=a(468),O=a(221),x=a(396),v=a(273),f=a(265),p=a(397),m=a(470),g=a(962),y=a(272),S=a(998),w=a(1),k=a(131),C=a(297),_=a(276),B=a(295),A=a(303),K=a(32),N=a(281),E=a(282),F=a(174),T=a(133),V=a(40),M=a(70),D=a(139),R=a(15),L=a(81),W=a(134),z=a(140),q=a(313),I=a(312),G=a(0),U=new Set(M.b);function P(e){var t,a,M,P,H=e.artifactId,J=e.artifactObj,X=e.onEdit,Q=e.onDelete,Y=e.mainStatAssumptionLevel,Z=void 0===Y?0:Y,$=e.effFilter,ee=void 0===$?U:$,te=e.probabilityFilter,ae=Object(k.a)(["artifact"]).t,ne=Object(w.useContext)(F.b),ce=Object(w.useState)(void 0),ie=Object(l.a)(ce,2),re=ie[0],le=ie[1];Object(w.useEffect)((function(){return H?ne.followArt(H,le):void 0}),[H,le,ne]);var se=Object(T.a)(W.a.get(null===(t=null!==J&&void 0!==J?J:H?ne._getArt(H):void 0)||void 0===t?void 0:t.setKey),[J,H]),oe=!J&&ne===F.c,je=null!==J&&void 0!==J?J:re;if(!je)return null;var de=je.id,ue=je.lock,be=je.slotKey,he=je.rarity,Oe=je.level,xe=je.mainStatKey,ve=je.substats,fe=je.exclude,pe=je.location,me=void 0===pe?"":pe,ge=Math.max(Math.min(Z,4*he),Oe),ye="roll"+(Math.floor(Math.max(Oe,0)/4)+1),Se=Object(G.jsx)(K.a,{color:ge!==Oe?"warning":void 0,children:Object(D.b)(null!==(a=L.a.mainStatValue(xe,he,ge))&&void 0!==a?a:0,V.b.getStatUnit(xe))}),we=L.a.getArtifactEfficiency(je,ee),ke=we.currentEfficiency,Ce=we.maxEfficiency,_e=0!==Ce,Be=(null===se||void 0===se?void 0:se.getSlotName(be))||"Unknown Piece Name",Ae=null===se||void 0===se?void 0:se.getSlotDesc(be),Ke=Ae&&Object(G.jsx)(C.a,{placement:"top",title:Object(G.jsx)(u.a,{children:Ae}),children:Object(G.jsx)("span",{children:Object(G.jsx)(o.a,{icon:s.s})})}),Ne=null===se||void 0===se?void 0:se.setEffects,Ee=se&&Ne&&Object(G.jsx)(C.a,{placement:"top",title:Object(G.jsx)("span",{children:Object.keys(Ne).map((function(e){return Object(G.jsxs)("span",{children:[Object(G.jsx)(u.a,{variant:"h6",children:Object(G.jsx)(N.a,{color:"success",children:ae("setEffectNum",{setNum:e})})}),Object(G.jsx)(u.a,{children:se.setEffectDesc(e)})]},e)}))}),children:Object(G.jsx)("span",{children:Object(G.jsx)(o.a,{icon:s.s})})});return Object(G.jsx)(w.Suspense,{fallback:Object(G.jsx)(b.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(G.jsxs)(_.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(G.jsxs)(h.a,{className:"grad-".concat(he,"star"),sx:{pt:1,pb:0,pr:0},children:[Object(G.jsxs)(O.a,{component:"div",sx:{display:"flex",alignItems:"center",pr:1},children:[Object(G.jsx)(x.a,{size:"small",label:Object(G.jsx)("strong",{children:" +".concat(Oe)}),color:ye}),Object(G.jsxs)(u.a,{sx:{pl:1,flexGrow:1},children:[Be," ",Ke]}),Object(G.jsx)(v.a,{color:"primary",disabled:!oe,onClick:function(){return ne.updateArt({lock:!ue},de)},children:ue?Object(G.jsx)(j.a,{}):Object(G.jsx)(d.a,{})})]}),Object(G.jsxs)(f.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(G.jsxs)(f.a,{item:!0,flexGrow:1,children:[Object(G.jsx)(u.a,{color:"text.secondary",variant:"body2",children:Object(G.jsx)(z.c,{slotKey:be})}),Object(G.jsx)(u.a,{variant:"h6",children:V.b.getStatName(xe)}),Object(G.jsx)(u.a,{variant:"h5",children:Object(G.jsx)("strong",{children:Se})}),Object(G.jsx)(E.a,{stars:he,colored:!0})]}),Object(G.jsx)(f.a,{item:!0,maxWidth:"40%",sx:{mt:-3,mb:-1,pl:-2},alignSelf:"flex-end",children:Object(G.jsx)(p.a,{component:"img",image:null!==(M=null===se||void 0===se?void 0:se.slotIcons[be])&&void 0!==M?M:"",width:"100%",height:"auto"})})]})]}),Object(G.jsxs)(h.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[ve.map((function(e,t){var a,n,c;if(!e.value)return null;var i=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,r="roll".concat(Object(R.a)(i,1,6)),l=null!==(c=e.efficiency)&&void 0!==c?c:0,s=.3+l/100*.7,o=V.b.getStatName(e.key);return Object(G.jsxs)(O.a,{sx:{display:"flex"},children:[Object(G.jsxs)(O.a,{sx:{flexGrow:1},children:[Object(G.jsx)(N.a,{color:i?r:"error",sx:{mr:1},children:Object(G.jsx)("strong",{children:i||"?"})}),Object(G.jsxs)(u.a,{color:i?"".concat(r,".main"):"error.main",component:"span",children:[o,"+".concat(Object(D.b)(e.value,V.b.getStatUnit(e.key)))]})]}),Object(G.jsx)(u.a,{sx:{opacity:s},children:e.key&&ee.has(e.key)?Object(D.b)(l,"eff"):"-"})]},t)})),Object(G.jsxs)(O.a,{sx:{display:"flex",my:1},children:[Object(G.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ae(n||(n=Object(r.a)(["editor.curSubEff"])))}),Object(G.jsx)(q.a,{value:ke,valid:_e})]}),ke!==Ce&&Object(G.jsxs)(O.a,{sx:{display:"flex",mb:1},children:[Object(G.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ae(c||(c=Object(r.a)(["editor.maxSubEff"])))}),Object(G.jsx)(q.a,{value:Ce,valid:_e})]}),Object(G.jsx)(O.a,{flexGrow:1}),te&&Object(G.jsxs)("strong",{children:["Probability: ",(100*Object(I.a)(je,te)).toFixed(2),"%"]}),Object(G.jsxs)(u.a,{color:"success.main",children:[null!==(P=null===se||void 0===se?void 0:se.name)&&void 0!==P?P:"Artifact Set"," ",Ee]})]}),Object(G.jsx)(m.a,{children:Object(G.jsxs)(f.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(G.jsx)(f.a,{item:!0,xs:"auto",flexShrink:1,children:oe?Object(G.jsx)(B.b,{size:"small",inventory:!0,value:me,onChange:function(e){return ne.setArtLocation(H,e)}}):Object(G.jsx)(A.a,{location:me})}),Object(G.jsx)(f.a,{item:!0,flexGrow:1,sx:{mr:1}}),oe&&Object(G.jsx)(f.a,{item:!0,xs:"auto",children:Object(G.jsxs)(g.a,{sx:{height:"100%"},children:[!!X&&Object(G.jsx)(y.a,{color:"info",onClick:function(){return X(de)},size:"small",children:Object(G.jsx)(o.a,{icon:s.m,className:"fa-fw"})}),Object(G.jsx)(S.a,{title:Object(G.jsx)(u.a,{children:ae(i||(i=Object(r.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(G.jsx)(y.a,{onClick:function(){return ne.updateArt({exclude:!fe},de)},color:fe?"error":"success",size:"small",children:Object(G.jsx)(o.a,{icon:fe?s.b:s.e,className:"fa-fw"})})}),!!Q&&Object(G.jsx)(y.a,{color:"error",size:"small",onClick:function(){return Q(de)},disabled:ue,children:Object(G.jsx)(o.a,{icon:s.D,className:"fa-fw"})})]})})]})})]})})}},320:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(11),c=a(3),i=a(468),r=a(265),l=a(254),s=a(398),o=a(221),j=a(79),d=a(1),u=a(284),b=a(133),h=a(20),O=a(137),x=a(278),v=a(276),f=a(285),p=a(98),m=a(288),g=a(282),y=a(304),S=a(0);function w(e){var t=e.show,a=e.onHide,w=e.onSelect,k=e.filter,C=void 0===k?function(){return!0}:k,_=e.weaponFilter,B=Object(b.a)(O.a.getAll(),[]),A=Object(d.useState)(null!==_&&void 0!==_?_:""),K=Object(c.a)(A,2),N=K[0],E=K[1];Object(d.useEffect)((function(){return _&&E(_)}),[_]);var F=B?Object(n.a)(new Set(h.i)).filter((function(e){return C(B[e])})).filter((function(e){var t;return!N||N===(null===B||void 0===B||null===(t=B[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,n,c,i;return(null!==(a=null===B||void 0===B||null===(n=B[t])||void 0===n?void 0:n.rarity)&&void 0!==a?a:0)-(null!==(c=null===B||void 0===B||null===(i=B[e])||void 0===i?void 0:i.rarity)&&void 0!==c?c:0)})):[];return B?Object(S.jsx)(m.a,{open:t,onClose:a,children:Object(S.jsxs)(x.a,{children:[Object(S.jsx)(i.a,{sx:{py:1},children:Object(S.jsxs)(r.a,{container:!0,children:[Object(S.jsx)(r.a,{item:!0,flexGrow:1,children:Object(S.jsx)(y.a,{value:N,onChange:E,disabled:!!_,size:"small"})}),Object(S.jsx)(r.a,{item:!0,children:Object(S.jsx)(f.a,{onClick:a})})]})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(i.a,{children:Object(S.jsx)(r.a,{container:!0,spacing:1,children:F.map((function(e){var t,n=B[e];return Object(S.jsx)(r.a,{item:!0,lg:3,md:4,children:Object(S.jsx)(v.a,{sx:{height:"100%"},children:Object(S.jsxs)(s.a,{onClick:function(){a(),w(e)},sx:{display:"flex"},children:[Object(S.jsx)(o.a,{component:"img",src:n.img,sx:{width:100,height:"auto"},className:" grad-".concat(n.rarity,"star")}),Object(S.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(S.jsx)(j.a,{variant:"subtitle1",children:n.name}),Object(S.jsxs)(j.a,{children:[Object(S.jsx)(p.a,{src:null===(t=u.a.weaponTypes)||void 0===t?void 0:t[n.weaponType]})," ",Object(S.jsx)(g.a,{stars:n.rarity,colored:!0})]})]})]})})},e)}))})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(i.a,{sx:{py:1},children:Object(S.jsx)(f.a,{large:!0,onClick:a})})]})}):null}},321:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var n=a(3),c=a(51),i=a(17),r=a(375),l=a(376),s=a(398),o=a(170),j=a(350),d=a(273),u=a(265),b=a(79),h=a(221),O=a(468),x=a(962),v=a(272),f=a(1),p=a(284),m=a(276),g=a(295),y=a(303),S=a(305),w=a(98),k=a(282),C=a(135),_=a(47),B=a(174),A=a(133),K=a(40),N=a(137),E=a(0);function F(e){var t,a=e.weaponId,F=e.onClick,T=e.onEdit,V=e.onDelete,M=e.canEquip,D=void 0!==M&&M,R=Object(f.useContext)(B.b),L=Object(f.useState)(void 0),W=Object(n.a)(L,2),z=W[0],q=W[1];Object(f.useEffect)((function(){return a?R.followWeapon(a,q):void 0}),[a,q,R]);var I=z,G=Object(A.a)((null===I||void 0===I?void 0:I.key)&&N.a.get(I.key),[null===I||void 0===I?void 0:I.key]),U=Object(f.useCallback)((function(e){return e.weaponTypeKey===(null===G||void 0===G?void 0:G.weaponType)}),[G]),P=Object(f.useCallback)((function(e){return Object(E.jsx)(s.a,{onClick:function(){return null===F||void 0===F?void 0:F(a)},sx:{height:"100%"},children:e})}),[F,a]),H=Object(f.useCallback)((function(e){return R.setWeaponLocation(a,e)}),[R,a]);if(!I||!G)return null;var J=I.level,X=I.ascension,Q=I.refinement,Y=I.id,Z=I.location,$=void 0===Z?"":Z,ee=I.lock,te=G.weaponType,ae=G.getMainStatValue(J,X).toFixed(K.b.fixedUnit("atk")),ne=G.getSubStatKey(),ce=G.getSubStatValue(J,X).toFixed(K.b.fixedUnit(ne)),ie=[["weaponATK",ae]];(null===G||void 0===G?void 0:G.passiveName)&&ie.push([ne,ce]);var re=X<2?null===G||void 0===G?void 0:G.img:null===G||void 0===G?void 0:G.imgAwaken;return Object(E.jsx)(f.Suspense,{fallback:Object(E.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(E.jsx)(S.a,{condition:!!F,wrapper:P,children:Object(E.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(E.jsxs)("div",{className:"grad-".concat(G.rarity,"star"),children:[Object(E.jsx)(j.a,{title:G.name,avatar:Object(E.jsx)(w.a,{sx:{fontSize:"2em"},src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[te]}),titleTypographyProps:{variant:"h6"},action:!F&&Object(E.jsx)(d.a,{color:"primary",onClick:function(){return R.updateWeapon({lock:!ee},Y)},children:ee?Object(E.jsx)(r.a,{}):Object(E.jsx)(l.a,{})})}),Object(E.jsxs)(u.a,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[Object(E.jsxs)(u.a,{item:!0,flexGrow:1,children:[Object(E.jsxs)(b.a,{component:"span",variant:"h4",children:["Lv. ",J]}),Object(E.jsxs)(b.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",_.b[X]]}),Object(E.jsxs)(b.a,{variant:"h6",children:["Refinement ",Object(E.jsx)("strong",{children:Q})]}),Object(E.jsx)(b.a,{children:Object(E.jsx)(k.a,{stars:G.rarity,colored:!0})})]}),Object(E.jsx)(u.a,{item:!0,container:!0,maxWidth:"40%",alignContent:"flex-end",sx:{mt:-3},children:Object(E.jsx)(h.a,{component:"img",src:re,width:"100%",height:"auto"})})]})]}),Object(E.jsx)(O.a,{children:ie.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=K.b.getStatUnit(a);return Object(E.jsxs)(h.a,{sx:{display:"flex"},children:[Object(E.jsxs)(b.a,{flexGrow:1,children:[C.a[a]," ",K.b.getStatName(a)]}),Object(E.jsx)(b.a,{children:c+i})]},a)}))}),Object(E.jsx)(h.a,{flexGrow:1}),Object(E.jsx)(O.a,{sx:{py:1},children:Object(E.jsxs)(u.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(E.jsx)(u.a,{item:!0,xs:"auto",flexShrink:1,children:D?Object(E.jsx)(g.b,{size:"small",noUnselect:!0,inventory:!0,value:$,onChange:H,filter:U}):Object(E.jsx)(y.a,{location:$})}),Object(E.jsx)(u.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(E.jsx)(u.a,{item:!0,xs:"auto",children:Object(E.jsxs)(x.a,{sx:{height:"100%"},children:[!!T&&Object(E.jsx)(v.a,{color:"info",size:"small",onClick:function(){return T(Y)},children:Object(E.jsx)(i.a,{icon:c.m,className:"fa-fw"})}),!!V&&Object(E.jsx)(v.a,{color:"error",size:"small",onClick:function(){return V(Y)},disabled:!!$||ee,children:Object(E.jsx)(i.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})})}},328:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(221),c=a(468),i=a(79),r=a(278),l=a(300),s=a(287),o=a(281),j=a(133),d=a(113),u=a(134),b=a(0);function h(e){var t=e.setKey,a=e.setNumKey,h=e.equippedBuild,O=e.newBuild,x=Object(j.a)(u.a.get(t),[t]);if(!x)return null;var v=null!==O&&void 0!==O?O:h,f=x.setEffectDesc(a),p=x.setNumStats(a,v),m=Object(d.a)(p,v),g=x.setEffectDocument(a);return Object(b.jsxs)(n.a,{sx:{mt:1,"> div":{mb:1}},children:[Object(b.jsxs)(r.a,{children:[Object(b.jsx)(c.a,{children:Object(b.jsxs)(i.a,{children:[Object(b.jsxs)(o.a,{color:"success",children:[a,"-Set"]})," ",f]})}),Object(b.jsx)(s.a,{sx:{m:0},children:m.map((function(e,t){return Object(b.jsx)(s.b,{field:e},t)}))})]}),g?Object(b.jsx)(l.a,{sections:g,characterKey:v.characterKey}):null]})}},338:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(3),c=a(265),i=a(468),r=a(79),l=a(254),s=a(278),o=a(315),j=a(299),d=a(0);function u(e){var t=e.sheets,a=e.sheets,u=a.characterSheet,b=a.weaponSheet,h=e.character,O=e.equippedBuild,x=e.newBuild,v=e.statsDisplayKeys,f=x||O;return Object(d.jsx)(c.a,{container:!0,spacing:1,children:Object.entries(v).map((function(e){var a=Object(n.a)(e,2),v=a[0],p=a[1],m=Object(j.a)(v,t,null===f||void 0===f?void 0:f.characterEle);return Object(d.jsx)(c.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(d.jsxs)(s.a,{sx:{height:"100%"},children:[Object(d.jsx)(i.a,{sx:{py:1},children:Object(d.jsx)(r.a,{variant:"subtitle1",children:m})}),Object(d.jsx)(l.a,{}),Object(d.jsx)(i.a,{children:p.map((function(e){return Object(d.jsx)(o.a,{characterSheet:u,weaponSheet:b,character:h,equippedBuild:O,newBuild:x,statKey:e},JSON.stringify(e))}))})]})},v)}))})}},339:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"c",(function(){return B})),a.d(t,"a",(function(){return A}));var n=a(5),c=a(11),i=a(3),r=a(51),l=a(17),s=a(353),o=a(468),j=a(265),d=a(396),u=a(79),b=a(372),h=a(272),O=a(1),x=a(283),v=a(316),f=a(286),p=a(40),m=a(20),g=a(42),y=a(276),S=a(32),w=a(301),k=a(135),C=a(0);function _(e){var t=e.character,a=Object(O.useState)(!1),n=Object(i.a)(a,2),r=n[0],l=n[1],h=Object(O.useCallback)((function(){return l(!r)}),[l,r]);return Object(C.jsxs)(y.a,{children:[Object(C.jsx)(o.a,{children:Object(C.jsxs)(j.a,{container:!0,children:[Object(C.jsx)(j.a,{item:!0,flexGrow:1,alignItems:"center",children:Object(C.jsxs)(j.a,{container:!0,spacing:1,children:[Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(d.a,{size:"small",color:"success",label:Object(C.jsxs)("span",{children:[p.b.getStatName("enemyLevel")," ",Object(C.jsx)("strong",{children:x.a.getStatValueWithBonus(t,"enemyLevel")})]})})}),["physical"].concat(Object(c.a)(m.d)).map((function(e){return Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(u.a,{children:Object(C.jsx)(B,{element:e,character:t})},e)},e)})),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsxs)(u.a,{children:["DEF Reduction ",x.a.getStatValueWithBonus(t,"enemyDEFRed_"),"%"]})})]})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(w.a,{expand:r,onClick:h,"aria-expanded":r,"aria-label":"show more",size:"small",sx:{p:0},children:Object(C.jsx)(s.a,{})})})]})}),Object(C.jsx)(b.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(C.jsx)(o.a,{sx:{pt:0},children:Object(C.jsx)(A,{character:t})})})]})}function B(e){var t=e.character,a=e.element,n=!!x.a.getStatValueWithBonus(t,"".concat(a,"_enemyImmunity")),c="".concat(a,"_enemyRes_"),i=n?Object(C.jsxs)("span",{children:[k.b[a]," IMMUNE"]}):Object(C.jsxs)("span",{children:[k.b[a],"RES ",Object(C.jsxs)("strong",{children:[x.a.getStatValueWithBonus(t,c),"%"]})]});return Object(C.jsx)(S.a,{color:a,children:i})}function A(e){var t=e.character,a=e.character.key,i=e.bsProps,s=void 0===i?{xs:12,md:6}:i,o=Object(f.a)(a),d=Object(g.a)(t);return Object(C.jsxs)(j.a,{container:!0,spacing:1,children:[Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(h.a,{fullWidth:!0,sx:{height:"100%"},size:"small",component:"a",color:"warning",href:"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})),Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:"Enemy Level"}),value:x.a.getStatValueWithBonus(t,"enemyLevel"),placeholder:p.b.getStatNameRaw("enemyLevel"),defaultValue:d.enemyLevel,onValueChange:function(e){return o({type:"editStats",statKey:"enemyLevel",value:e})}})})),["physical"].concat(Object(c.a)(m.d)).map((function(e){var a="".concat(e,"_enemyRes_"),c="".concat(e,"_enemyImmunity"),i=x.a.getStatValueWithBonus(t,c);return Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:p.b.getStatName(a)}),value:x.a.getStatValueWithBonus(t,a),placeholder:p.b.getStatNameRaw(a),defaultValue:d[a],onValueChange:function(e){return o({type:"editStats",statKey:a,value:e})},disabled:i,percent:!0,children:Object(C.jsxs)(h.a,{color:e,onClick:function(){return o({type:"editStats",statKey:c,value:!i})},children:[Object(C.jsx)(l.a,{icon:i?r.f:r.z,className:"fa-fw"})," Immunity"]})})}),e)})),Object(C.jsx)(j.a,Object(n.a)(Object(n.a)({item:!0},s),{},{children:Object(C.jsx)(v.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(C.jsx)("b",{children:p.b.getStatName("enemyDEFRed_")}),value:x.a.getStatValueWithBonus(t,"enemyDEFRed_"),placeholder:p.b.getStatNameRaw("enemyDEFRed_"),defaultValue:d.enemyDEFRed_,onValueChange:function(e){return o({type:"editStats",statKey:"enemyDEFRed_",value:e})},percent:!0})})),Object(C.jsx)(j.a,{item:!0,xs:12,children:Object(C.jsx)("small",{children:"Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)"})})]})}},340:function(e,t,a){"use strict";a.d(t,"c",(function(){return y})),a.d(t,"d",(function(){return S})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return k}));var n=a(5),c=a(3),i=a(132),r=a(1012),l=a(1013),s=a(468),o=a(265),j=a(1),d=a(112),u=a(136),b=a(286),h=a(133),O=a(276),x=a(32),v=a(279),f=a(296),p=a(135),m=a(0),g={"":Object(m.jsx)("span",{children:"No External Infusion"}),pyro:Object(m.jsxs)("span",{children:[p.b.pyro," Pyro Infusion"]}),cryo:Object(m.jsxs)("span",{children:[p.b.cryo," Cryo Infusion"]})};function y(e){var t=e.character,a=t.infusionAura,l=void 0===a?"":a,s=t.key,o=Object(i.a)(e,["character"]),j=Object(h.a)(u.b.get(s),[s]),d=Object(b.a)(s);return(null===j||void 0===j?void 0:j.isMelee())?Object(m.jsx)(v.a,Object(n.a)(Object(n.a)({title:g[l],color:l||"secondary"},o),{},{children:Object.entries(g).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(m.jsx)(r.a,{sx:a?{color:"".concat(a,".main")}:void 0,selected:a===l,disabled:a===l,onClick:function(){return d({infusionAura:a})},children:n},a)}))})):null}function S(e){var t=e.character,a=t.reactionMode,c=void 0===a?"":a,r=t.infusionAura,s=t.key,o=e.build,j=Object(i.a)(e,["character","build"]),d=Object(b.a)(s);if(!o)return null;var u=o.characterEle;return["pyro","hydro","cryo"].includes(u)||["pyro","hydro","cryo"].includes(r)?Object(m.jsxs)(f.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return d({reactionMode:t})}},j),{},{children:[Object(m.jsx)(l.a,{value:"",children:"No Reactions"}),("pyro"===u||"pyro"===r)&&Object(m.jsx)(l.a,{value:"pyro_vaporize",children:Object(m.jsxs)(x.a,{color:"vaporize",children:["Vaporize(Pyro)",p.a.hydro,"+",p.a.pyro]})}),("pyro"===u||"pyro"===r)&&Object(m.jsx)(l.a,{value:"pyro_melt",children:Object(m.jsxs)(x.a,{color:"melt",children:["Melt(Pyro) ",p.a.cryo,"+",p.a.pyro]})}),("hydro"===u||"hydro"===r)&&Object(m.jsx)(l.a,{value:"hydro_vaporize",children:Object(m.jsxs)(x.a,{color:"vaporize",children:["Vaporize(Hydro) ",p.a.pyro,"+",p.a.hydro]})}),("cryo"===u||"cryo"===r)&&Object(m.jsx)(l.a,{value:"cryo_melt",children:Object(m.jsxs)(x.a,{color:"melt",children:["Melt(Cryo) ",p.a.pyro,"+",p.a.cryo]})})]})):null}function w(e){var t=e.character,a=t.hitMode,c=void 0===a?"avgHit":a,r=t.key,s=Object(i.a)(e,["character"]),o=Object(b.a)(r);return Object(m.jsxs)(f.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return o({hitMode:t})}},s),{},{children:[Object(m.jsx)(l.a,{value:"avgHit",children:"Avg. DMG"}),Object(m.jsx)(l.a,{value:"hit",children:"Non Crit DMG"}),Object(m.jsx)(l.a,{value:"critHit",children:"Crit Hit DMG"})]}))}function k(e){var t=e.character,a=Object(j.useContext)(d.a),n=a.newBuild,c=a.equippedBuild,i=n||c;return Object(m.jsx)(O.a,{children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(o.a,{container:!0,spacing:1,children:[Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(w,{character:t,size:"small"})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(y,{character:t})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(S,{character:t,build:i,size:"small"})})]})})})}},343:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return U}));var n=a(7),c=a(11),i=a(5),r=a(3),l=a(375),s=a(376),o=a(430),j=a(468),d=a(265),u=a(962),b=a(272),h=a(1012),O=a(254),x=a(221),v=a(79),f=a(1),p=a(284),m=a(112),g=a(136),y=a(278),S=a(276),w=a(295),k=a(285),C=(a(32),a(290)),_=a(300),B=a(279),A=a(98),K=a(288),N=a(281),E=a(282),F=a(320),T=a(47),V=a(174),M=a(289),D=a(133),R=a(15),L=a(321),W=a(137),z=a(287),q=a(113),I=a(0);function G(e){var t=e.title,a=e.statsVals,n=void 0===a?{}:a,c=e.stats;if(0===Object.keys(n).filter((function(e){return"modifiers"!==e})).length)return null;var i=Object(q.a)(n,c);return Object(I.jsxs)(y.a,{sx:{mb:1},children:[Object(I.jsx)(j.a,{children:Object(I.jsx)(v.a,{children:t})}),Object(I.jsx)(z.a,{children:i.map((function(e,t){return Object(I.jsx)(z.b,{field:e},t)}))})]})}function U(e){var t,a,o=e.weaponId,p=e.charData,y=e.footer,A=void 0!==y&&y,K=e.onClose,L=Object(f.useContext)(V.b),z=Object(M.a)(),q=Object(r.a)(z,2),U=q[0],H=q[1],J=Object(f.useContext)(m.a),X=Object(f.useMemo)((function(){return U&&L._getWeapon(o)}),[o,U,L]),Q=X.key,Y=X.level,Z=X.refinement,$=X.ascension,ee=X.lock,te=X,ae=te.location,ne=void 0===ae?"":ae,ce=te.id,ie=Object(D.a)(W.a.get(Q),[Q]),re=null===ie||void 0===ie?void 0:ie.weaponType;Object(f.useEffect)((function(){return o?L.followWeapon(o,H):void 0}),[o,H,L]);var le=Object(f.useCallback)((function(e){L.updateWeapon(e,o)}),[o,L]),se=Object(f.useCallback)((function(e){e=Object(R.a)(e,1,90);var t=T.b.findIndex((function(t){return e<=t}));le({level:e,ascension:t})}),[le]),oe=Object(f.useCallback)((function(){var e=T.b.findIndex((function(e){return 90!==Y&&Y===e}));le($===e?{ascension:$+1}:{ascension:e})}),[le,$,Y]),je=Object(i.a)({},p?null!==(t=p.newBuild)&&void 0!==t?t:p.equippedBuild:{weapon:{refineIndex:Z-1,level:Y,ascension:$}}),de=Object(D.a)(ne?g.b.get(ne):void 0,[ne]),ue=de?function(e){return e.weaponType===de.weaponTypeKey}:void 0,be=de&&de.weaponTypeKey,he=Object(f.useCallback)((function(e){return ce&&L.setWeaponLocation(ce,e)}),[L,ce]),Oe=Object(f.useCallback)((function(e){return e.weaponTypeKey===(null===ie||void 0===ie?void 0:ie.weaponType)}),[ie]),xe=Object(f.useState)(!1),ve=Object(r.a)(xe,2),fe=ve[0],pe=ve[1],me=$<2?null===ie||void 0===ie?void 0:ie.img:null===ie||void 0===ie?void 0:ie.imgAwaken;return Object(I.jsxs)(S.a,{children:[Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,spacing:1,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsxs)(d.a,{container:!0,spacing:1,children:[Object(I.jsxs)(d.a,{item:!0,children:[Object(I.jsx)(F.a,{show:fe,onHide:function(){return pe(!1)},onSelect:function(e){return le({key:e})},filter:ue,weaponFilter:be}),Object(I.jsxs)(u.a,{children:[Object(I.jsx)(b.a,{onClick:function(){return pe(!0)},children:null!==(a=null===ie||void 0===ie?void 0:ie.name)&&void 0!==a?a:"Select a Weapon"}),Object(I.jsxs)(B.a,{title:"Refinement ".concat(Z),children:[Object(I.jsx)(h.a,{children:"Select Weapon Refinement"}),Object(I.jsx)(O.a,{}),Object(c.a)(Array(5).keys()).map((function(e){return Object(I.jsx)(h.a,{onClick:function(){return le({refinement:e+1})},selected:Z===e+1,disabled:Z===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsxs)(u.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(I.jsx)(C.a,{children:Object(I.jsx)(C.c,{onChange:se,value:Y,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(I.jsx)(b.a,{sx:{pl:1},disabled:!Object(T.a)(Y),onClick:oe,children:Object(I.jsxs)("strong",{children:["/ ",T.b[$]]})}),Object(I.jsx)(B.a,{title:"Select Level",children:T.c.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1],c=a===T.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(T.b[n]),i=a===Y&&n===$;return Object(I.jsx)(h.a,{selected:i,disabled:i,onClick:function(){return le({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(b.a,{color:"error",onClick:function(){return ce&&L.updateWeapon({lock:!ee},ce)},startIcon:ee?Object(I.jsx)(l.a,{}):Object(I.jsx)(s.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!K&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{onClick:K})}),!!p&&L===V.c&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(P,{weaponTypeKey:re,onChangeId:function(e){return L.setWeaponLocation(e,p.character.key)}})})]})}),Object(I.jsx)(O.a,{}),Object(I.jsx)(j.a,{children:function(){if(!ie)return null;var e=ie.getSubStatKey(),t=ie.getMainStatValue(Y,$),a=ie.getSubStatValue(Y,$),c=ie.passiveName,i=ie.stats(je),r=ie.document;return Object(I.jsxs)(x.a,{display:"flex",gap:{xs:1,md:1.5,lg:2},children:[Object(I.jsxs)(x.a,{sx:{maxWidth:256},flexShrink:1,minWidth:"25%",children:[Object(I.jsx)(x.a,{component:"img",src:me,className:"grad-".concat(ie.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}}),Object(I.jsx)(v.a,{children:Object(I.jsx)("small",{children:ie.description})})]}),Object(I.jsxs)(x.a,{sx:{mb:-1},flexGrow:1,children:[Object(I.jsxs)(v.a,{variant:"h6",children:[!1,ie.name," Lv. ",W.a.getLevelString(X)," ",c&&Object(I.jsxs)(N.a,{color:"info",children:["Refinement ",Z]})]}),Object(I.jsx)(v.a,{children:Object(I.jsx)(E.a,{stars:ie.rarity})}),Object(I.jsx)(v.a,{variant:"subtitle1",children:c}),Object(I.jsx)(v.a,{gutterBottom:!0,children:c&&ie.passiveDescription(je)}),je&&Object(I.jsxs)(m.a.Provider,{value:p?J:{equippedBuild:je,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(I.jsx)(G,{title:"Main Stats",statsVals:Object(n.a)({atk:t},e,e?a:void 0),stats:je}),Object(I.jsx)(G,{title:"Bonus Stats",statsVals:i,stats:je})]}),p&&r?function(){var e,t=p.equippedBuild,a=p.newBuild,n=null===(e=a||t)||void 0===e?void 0:e.characterKey;return!!n&&Object(I.jsx)(_.a,{sections:r,equippedBuild:t,newBuild:a,characterKey:n})}():null]})]})}()}),A&&ce&&Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsx)(w.b,{noUnselect:!0,inventory:!0,value:ne,onChange:he,filter:Oe})}),!!K&&Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{large:!0,onClick:K})})]})})]})}function P(e){var t=e.onChangeId,a=e.weaponTypeKey,n=Object(f.useContext)(V.b),c=Object(f.useState)(!1),i=Object(r.a)(c,2),l=i[0],s=i[1],u=function(){return s(!1)},h=function(e){t(e),u()},x=Object(D.a)(W.a.getAll(),[]),m=n.weapons.keys.filter((function(e){var t,c=n._getWeapon(e);return!!c&&(!a||a===(null===x||void 0===x||null===(t=x[c.key])||void 0===t?void 0:t.weaponType))}));return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(b.a,{color:"info",onClick:function(){return s(!0)},startIcon:Object(I.jsx)(o.a,{}),children:"SWAP WEAPON"}),Object(I.jsx)(K.a,{open:l,onClose:u,children:Object(I.jsxs)(y.a,{children:[Object(I.jsx)(j.a,{sx:{py:1},children:Object(I.jsxs)(d.a,{container:!0,children:[Object(I.jsx)(d.a,{item:!0,flexGrow:1,children:Object(I.jsxs)(v.a,{variant:"h6",children:[a?Object(I.jsx)(A.a,{src:p.a.weaponTypes[a]}):null," Swap Weapon"]})}),Object(I.jsx)(d.a,{item:!0,children:Object(I.jsx)(k.a,{onClick:u})})]})}),Object(I.jsx)(O.a,{}),Object(I.jsx)(j.a,{children:Object(I.jsx)(d.a,{container:!0,spacing:1,children:m.map((function(e){return Object(I.jsx)(d.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(I.jsx)(L.a,{weaponId:e,onClick:h})},e)}))})})]})})]})}},349:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return He}));var n=a(3),c=a(5),i=a(132),r=a(170),l=a(468),s=a(265),o=a(467),j=a(79),d=a(262),u=a(269),b=a(254),h=a(962),O=a(272),x=a(1012),v=a(1),f=a(134),p=a(112),m=a(278),g=a(276),y=a(332),S=a(302),w=a(285),k=a(290),C=a(279),_=a(339),B=a(353),A=a(372),K=a(577),N=a(578),E=a(579),F=a(221),T=a(283),V=a(299),M=a(83),D=a(133),R=a(40),L=a(307),W=a(32),z=a(301),q=a(0);function I(e){var t=e.sheets,a=Object(v.useState)(!1),c=Object(n.a)(a,2),i=c[0],r=c[1],o=Object(v.useCallback)((function(){return r(!i)}),[r,i]),d=Object(v.useContext)(p.a),u=d.newBuild,b=d.equippedBuild,h=u||b;return Object(q.jsxs)(g.a,{children:[Object(q.jsx)(l.a,{children:Object(q.jsxs)(s.a,{container:!0,children:[Object(q.jsxs)(s.a,{item:!0,flexGrow:1,children:[Object(q.jsxs)(j.a,{children:["Formulas ","&"," Calculations"]}),Object(q.jsx)(j.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(q.jsx)(s.a,{item:!0,children:Object(q.jsx)(z.a,{expand:i,onClick:o,"aria-expanded":i,"aria-label":"show more",children:Object(q.jsx)(B.a,{})})})]})}),Object(q.jsx)(A.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(q.jsx)(l.a,{sx:{pt:0},children:Object(q.jsx)(G,{sheets:t,build:h})})})]})}function G(e){var t=e.sheets,a=e.build,c=Object(v.useMemo)((function(){return a&&T.a.getDisplayStatKeys(a,t)}),[a,t]);return a?Object(q.jsx)(v.Suspense,{fallback:Object(q.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object.entries(c).map((function(e){var c=Object(n.a)(e,2),i=c[0],r=c[1],s=Object(V.a)(i,t,a.characterEle);return Object(q.jsxs)(m.a,{sx:{mb:1},children:[Object(q.jsx)(l.a,{sx:{pb:1},children:Object(q.jsx)(j.a,{variant:"h6",children:s})}),Object(q.jsx)(b.a,{}),Object(q.jsx)(l.a,{children:r.map((function(e,t){if(Array.isArray(e))return Object(q.jsx)(U,{fieldKeys:e,build:a},t);if("string"===typeof e){var n=R.b.getPrintableFormulaStatKeyList(Object(L.a)(a,null===a||void 0===a?void 0:a.modifiers,[e]),null===a||void 0===a?void 0:a.modifiers).reverse();return Boolean(n.length)&&Object(q.jsxs)(K.a,{sx:{bgcolor:"contentLight.main"},children:[Object(q.jsx)(N.a,{expandIcon:Object(q.jsx)(B.a,{}),children:Object(q.jsx)(j.a,{children:R.b.printStat(e,a)})}),Object(q.jsx)(E.a,{children:n.map((function(e){return Object(q.jsxs)(j.a,{children:[R.b.printStat(e,a)," = ",Object(q.jsx)("small",{children:Object(q.jsx)(R.a,{statKey:e,stats:a,modifiers:a.modifiers,expand:!1})})]},e)}))})]},t)}return null}))})]},i)}))}):null}function U(e){var t,a,c,i,r=e.fieldKeys,l=e.build,s=Object(D.a)(M.a.get(r),[r]);if(!s)return null;var o=s.field,d=T.a.getTalentFieldValue(o,"text",l),u=T.a.getTalentFieldValue(o,"variant",l),b=T.a.getTalentFieldValue(o,"formulaText",l),h=null!==(t=T.a.getTalentFieldValue(o,"fixed",l))&&void 0!==t?t:0,O=null!==(a=T.a.getTalentFieldValue(o,"unit",l))&&void 0!==a?a:"",x=T.a.getTalentFieldValue(o,"formula",l,[]),v=Object(n.a)(x,2),f=v[0],p=v[1];if(!f||!p)return null;var m=null===f||void 0===f||null===(c=f(l))||void 0===c||null===(i=c.toFixed)||void 0===i?void 0:i.call(c,h),g=R.b.getPrintableFormulaStatKeyList(Object(L.a)(l,null===l||void 0===l?void 0:l.modifiers,p),null===l||void 0===l?void 0:l.modifiers).reverse();return Object(q.jsxs)(K.a,{sx:{bgcolor:"contentLight.main"},children:[Object(q.jsx)(N.a,{expandIcon:Object(q.jsx)(B.a,{}),children:Object(q.jsxs)(j.a,{children:[Object(q.jsx)(F.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(q.jsxs)(W.a,{color:"info",children:[m,O]})]})}),Object(q.jsxs)(E.a,{children:[Object(q.jsxs)(j.a,{children:[Object(q.jsx)(F.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(q.jsx)(W.a,{color:"info",children:m})," = ",Object(q.jsx)("small",{children:b})]}),g.map((function(e){return Object(q.jsxs)(j.a,{children:[R.b.printStat(e,l)," = ",Object(q.jsx)("small",{children:Object(q.jsx)(R.a,{statKey:e,stats:l,modifiers:l.modifiers,expand:!1})})]},e)}))]})]})}var P=a(340),H=a(98),J=a(63),X=a(47),Q=a(174),Y=a(286),Z=a(289),$=a(15),ee=a(137),te=a(1013),ae=a(24),ne=a(317),ce=a(328),ie=a(296),re=a(20),le=a(338);var se=function(e){var t,a=e.sheets,c=e.character,i=e.character.key,r=Object(v.useContext)(p.a),d=r.newBuild,u=r.equippedBuild,h=r.compareBuild,x=r.setCompareBuild,m=Object(v.useContext)(Q.b),y=Object(ae.g)(),S=d||u,w=null!==(t=null===S||void 0===S?void 0:S.mainStatAssumptionLevel)&&void 0!==t?t:0,k=Object(v.useMemo)((function(){return S&&T.a.getDisplayStatKeys(S,a)}),[S,a]),C=Object(v.useCallback)((function(e){return y.push({pathname:"/artifact",artToEditId:e})}),[y]),_=Object(D.a)(f.a.getAll(),[]),B=Object(Z.a)(),A=Object(n.a)(B,2)[1];Object(v.useEffect)((function(){return m.followAnyArt(A)}));var K=Object(v.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&d&&d.equippedArtifacts&&m.equipArtifacts(i,d.equippedArtifacts)}),[i,d,m]),N=Object(v.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&m.equipArtifacts(i,Object($.o)(re.h,(function(){return""})))}),[i,m]);return S?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(g.a,{sx:{mb:1},children:[Object(q.jsx)(l.a,{children:Object(q.jsx)(le.a,{sheets:a,character:c,equippedBuild:d&&!h?void 0:u,newBuild:d,statsDisplayKeys:k})}),Object(q.jsx)(b.a,{}),Object(q.jsx)(l.a,{sx:{py:1},children:Object(q.jsxs)(s.a,{container:!0,spacing:1,children:[Object(q.jsx)(s.a,{item:!0,children:d?Object(q.jsx)(O.a,{onClick:K,className:"mr-2",children:"Equip artifacts"}):m===Q.c&&Object(q.jsx)(O.a,{color:"error",onClick:N,children:"Unequip all artifacts"})}),Object(q.jsx)(s.a,{item:!0,children:!!d&&Object(q.jsxs)(ie.a,{exclusive:!0,value:h,onChange:function(e,t){return null===x||void 0===x?void 0:x(t)},size:"small",children:[Object(q.jsx)(te.a,{value:!1,children:Object(q.jsx)("small",{children:"Show New artifact Stats"})}),Object(q.jsx)(te.a,{value:!0,children:Object(q.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(q.jsx)(s.a,{item:!0,flexGrow:1}),Object(q.jsx)(s.a,{item:!0,children:!!w&&Object(q.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(q.jsx)(j.a,{children:Object(q.jsxs)("strong",{children:["Assume Main Stats are Level ",w]})})})})]})})]}),Object(q.jsxs)(s.a,{container:!0,spacing:1,children:[Object(q.jsx)(s.a,{item:!0,xs:12,sm:6,md:4,children:Object(q.jsx)(g.a,{sx:{height:"100%"},children:Object(q.jsx)(l.a,{sx:{height:"100%"},children:Object(q.jsx)(s.a,{container:!0,spacing:2,flexDirection:"column",height:"100%",children:_&&Object.entries(f.a.setEffects(_,S.setToSlots)).map((function(e){var t,a=Object(n.a)(e,2),c=a[0],r=a[1];return Object(q.jsxs)(s.a,{item:!0,children:[Object(q.jsx)(j.a,{variant:"subtitle1",gutterBottom:!0,children:null!==(t=null===_||void 0===_?void 0:_[c].name)&&void 0!==t?t:""}),r.map((function(e){return Object(q.jsx)(ce.a,{setKey:c,setNumKey:e,equippedBuild:u,newBuild:d,characterKey:i},c+e)}))]},c)}))})})})}),re.h.map((function(e){var t,a,n;return!!(null===S||void 0===S||null===(t=S.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(q.jsx)(s.a,{item:!0,xs:6,md:4,children:Object(q.jsx)(ne.a,{artifactId:null===S||void 0===S||null===(n=S.equippedArtifacts)||void 0===n?void 0:n[e],mainStatAssumptionLevel:w,onEdit:function(){var t;return C(null===S||void 0===S||null===(t=S.equippedArtifacts)||void 0===t?void 0:t[e])}})},null===S||void 0===S||null===(a=S.equippedArtifacts)||void 0===a?void 0:a[e])}))]})]}):null},oe=a(11),je=a(51),de=a(17),ue=a(397),be=a(576),he=a(284),Oe=a(282),xe=a(315),ve=a(135),fe=a(42),pe=a(343),me=a(316);function ge(e){var t,a=e.characterSheet,n=e.character,i=e.character,r=i.constellation,o=i.key,d=Object(v.useContext)(p.a),u=d.newBuild,b=d.equippedBuild,h=Object(Y.a)(o),O=u||b;if(!O)return null;var x=O.tlvl,f=O.characterEle,m=a.weaponTypeKey;return Object(q.jsxs)(s.a,{container:!0,spacing:1,children:[Object(q.jsx)(s.a,{item:!0,xs:12,md:3,children:Object(q.jsxs)(g.a,{children:[Object(q.jsx)(ue.a,{src:a.cardImg,component:"img",width:"100%",height:"auto"}),Object(q.jsxs)(l.a,{children:[Object(q.jsxs)(j.a,{variant:"h4",children:[a.name," ",Object(q.jsx)(H.a,{src:null===(t=he.a.weaponTypes)||void 0===t?void 0:t[m]})," ",ve.a[f]," "]}),Object(q.jsx)(j.a,{variant:"h6",children:Object(q.jsx)(Oe.a,{stars:a.star,colored:!0})}),Object(q.jsxs)(j.a,{variant:"h5",children:["Lvl. ",T.a.getLevelString(n)]}),Object(q.jsx)(s.a,{container:!0,spacing:1,mt:1,children:["auto","skill","burst"].map((function(e){var t;return Object(q.jsx)(s.a,{item:!0,xs:4,children:Object(q.jsx)(be.a,{badgeContent:x[e]+1,color:"skill"===e&&O.skillBoost||"burst"===e&&O.burstBoost?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(q.jsx)(F.a,{component:"img",src:null===(t=a.getTalentOfKey(e,O.characterEle))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(q.jsx)(j.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:a.constellationName}),Object(q.jsx)(s.a,{container:!0,spacing:1,children:Object(oe.a)(Array(6).keys()).map((function(e){var t;return Object(q.jsx)(s.a,{item:!0,xs:4,children:Object(q.jsx)(F.a,{component:"img",src:null===(t=a.getTalentOfKey("constellation".concat(e+1),O.characterEle))||void 0===t?void 0:t.img,sx:Object(c.a)({cursor:"pointer"},r>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return h({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(q.jsxs)(s.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(q.jsx)(pe.default,{charData:{character:n,characterSheet:a,equippedBuild:b,newBuild:u,characterDispatch:h},weaponId:n.equippedWeapon}),Object(q.jsx)(Ae,{characterSheet:a,character:n,equippedBuild:b,newBuild:u})]})]})}var ye=["eleMas","critRate_","critDMG_","enerRech_","heal_"],Se=["characterATK","finalATK","finalHP","finalDEF"];Se.push.apply(Se,ye);var we=["hp","hp_","def","def_","atk","atk_"];we.push.apply(we,ye);var ke=[];["physical"].concat(Object(oe.a)(re.d)).forEach((function(e){ke.push("".concat(e,"_dmg_")),ke.push("".concat(e,"_res_"))})),ke.push("stamina","incHeal_","shield_","cdRed_");var Ce=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","moveSPD_","atkSPD_","weakspotDMG_"],_e={characterATK:"Override Base ATK",characterHP:"Override Base HP",characterDEF:"Override Base DEF"},Be={xs:12,sm:6,md:6,lg:4};function Ae(e){var t=e.characterSheet,a=e.character,n=e.character,i=n.key,r=n.level,l=n.ascension,o=e.equippedBuild,j=e.newBuild,d=Object(Y.a)(i),u=t.getSpecializedStat(a.ascension),b=t.getSpecializedStatVal(a.ascension),h=R.b.getStatUnit(u),O={character:a,equippedBuild:o,newBuild:j};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ke,{title:"Main Stats",content:Object(q.jsxs)(s.a,{container:!0,columnSpacing:{xs:2,lg:3},rowSpacing:1,children:[Se.map((function(e){return Object(q.jsx)(s.a,Object(c.a)(Object(c.a)({item:!0},Be),{},{children:Object(q.jsx)(xe.a,Object(c.a)({statKey:e},O))}),e)})),Object(q.jsxs)(s.a,Object(c.a)(Object(c.a)({item:!0},Be),{},{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(q.jsxs)("span",{children:[Object(q.jsx)("b",{children:"Specialized:"})," ",Object(q.jsxs)("span",{children:[u&&ve.a[u]," ",R.b.getStatName(u)]})]}),Object(q.jsx)("span",{children:"".concat(b.toFixed(R.b.fixedUnit(u))).concat(h)})]}))]}),editContent:Object(q.jsxs)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:[fe.b.map((function(e){var n,c=Math.round(t.getBase(e,r,l));return Object(q.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(q.jsx)(me.a,{name:Object(q.jsxs)("span",{children:[ve.a[e]," ",_e[e]]}),placeholder:R.b.getStatNameRaw(e),value:null!==(n=a.bonusStats[e])&&void 0!==n?n:c,defaultValue:c,percent:"%"===R.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})},onReset:function(){return d({type:"resetStats",statKey:e})}})},e)})),we.map((function(e){var t;return Object(q.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(q.jsx)(me.a,{name:Object(q.jsxs)("span",{children:[ve.a[e]," ",R.b.getStatNameWithPercent(e)]}),placeholder:R.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===R.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))]})}),Object(q.jsx)(Ke,{title:"Other Stats",content:Object(q.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:ke.map((function(e){return Object(v.createElement)(s.a,Object(c.a)(Object(c.a)({item:!0},Be),{},{key:e}),Object(q.jsx)(xe.a,Object(c.a)({statKey:e},O)))}))}),editContent:Object(q.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:ke.map((function(e){var t;return Object(q.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(q.jsx)(me.a,{name:Object(q.jsxs)("span",{children:[ve.a[e]," ",R.b.getStatName(e)]}),placeholder:R.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:"stamina"===e?100:0,percent:"%"===R.b.getStatUnit(e),defaultValue:"stamina"===e?100:void 0,onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))})}),Object(q.jsx)(Ke,{title:"Misc Stats",content:Object(q.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ce.map((function(e){return Object(v.createElement)(s.a,Object(c.a)(Object(c.a)({item:!0},Be),{},{key:e}),Object(q.jsx)(xe.a,Object(c.a)({statKey:e},O)))}))}),editContent:Object(q.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ce.map((function(e){var t;return Object(q.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(q.jsx)(me.a,{name:Object(q.jsxs)("span",{children:[ve.a[e]," ",R.b.getStatName(e)]}),placeholder:R.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===R.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))})})]})}function Ke(e){var t=e.title,a=e.content,c=e.editContent,i=Object(v.useState)(!1),r=Object(n.a)(i,2),s=r[0],o=r[1];return Object(q.jsxs)(g.a,{children:[Object(q.jsx)(l.a,{sx:{py:1},children:Object(q.jsxs)(F.a,{display:"flex",justifyContent:"space-between",children:[Object(q.jsx)(j.a,{variant:"subtitle1",children:t}),Object(q.jsx)(O.a,{size:"small",color:s?"error":"info",onClick:function(){return o(!s)},children:Object(q.jsxs)("span",{children:[Object(q.jsx)(de.a,{icon:s?je.w:je.m})," ",s?"EXIT":"Edit Stats"]})})]})}),Object(q.jsx)(b.a,{}),Object(q.jsx)(l.a,{children:s?c:a})]})}var Ne=a(398),Ee=a(297),Fe=a(305),Te=a(300),Ve=a(287),Me=a(48),De=a(113);function Re(e){var t=e.characterSheet,a=e.character,c=e.character,i=c.ascension,r=c.constellation,l=c.key,o=Object(v.useContext)(p.a),d=o.newBuild,u=o.equippedBuild,b=Object(Y.a)(l),h=d||u;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(We,{characterSheet:t}),Object(q.jsxs)(s.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var c=Object(n.a)(e,2),i=c[0],r=c[1];return Object(q.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(q.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:i,subtitle:r})},i)})),!!t.getTalentOfKey("sprint",null===h||void 0===h?void 0:h.characterEle)&&Object(q.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(q.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!t.getTalentOfKey("passive",null===h||void 0===h?void 0:h.characterEle)&&Object(q.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(q.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:"passive",subtitle:"Passive"})})]}),Object(q.jsx)(s.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var c=Object(n.a)(e,3),r=c[0],l=c[1],o=c[2],j=i>=o;return t.getTalentOfKey(r,null===h||void 0===h?void 0:h.characterEle)?Object(q.jsx)(s.a,{item:!0,style:{opacity:j?1:.5},xs:12,md:4,children:Object(q.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:r,subtitle:l})},r):null}))}),Object(q.jsxs)(j.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",r]}),Object(q.jsx)(s.a,{container:!0,spacing:1,children:Object(oe.a)(Array(6).keys()).map((function(e){var n="constellation".concat(e+1);return Object(q.jsx)(s.a,{item:!0,xs:12,md:4,style:{opacity:r>e?1:.5},children:Object(q.jsx)(Ge,{characterSheet:t,character:a,characterDispatch:b,talentKey:n,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return b({constellation:e+1===r?e:e+1})}})},e)}))})]})}var Le={superconduct_hit:function(e){var t,a=e.stats,n="superconduct_hit";return Object(q.jsx)(m.a,{children:Object(q.jsx)(l.a,{sx:{p:1},children:Object(q.jsxs)(j.a,{color:"superconduct.main",children:[R.b.getStatName(n)," ",ve.a.electro,"+",ve.a.cryo," ",Object(q.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(n))})]})})})},electrocharged_hit:function(e){var t,a=e.stats,n="electrocharged_hit";return Object(q.jsx)(m.a,{children:Object(q.jsx)(l.a,{sx:{p:1},children:Object(q.jsxs)(j.a,{color:"electrocharged.main",children:[R.b.getStatName(n)," ",ve.a.electro,"+",ve.a.hydro," ",Object(q.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(n))})]})})})},overloaded_hit:function(e){var t,a=e.stats,n="overloaded_hit";return Object(q.jsx)(m.a,{children:Object(q.jsx)(l.a,{sx:{p:1},children:Object(q.jsxs)(j.a,{color:"overloaded.main",children:[R.b.getStatName(n)," ",ve.a.electro,"+",ve.a.pyro," ",Object(q.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(n))})]})})})},pyro_swirl_hit:function(e){var t,a=e.stats,c=Object(v.useState)(Object.keys(ze)[0]),i=Object(n.a)(c,2),r=i[0],l=i[1],s="".concat(r,"_swirl_hit");return Object(q.jsxs)(m.a,{sx:{display:"flex"},children:[Object(q.jsx)(C.a,{size:"small",title:ze[r],color:"success",children:Object.entries(ze).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(q.jsx)(x.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:c},a)}))}),Object(q.jsx)(F.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(q.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(s))})})]})},shattered_hit:function(e){var t,a=e.stats,n="shattered_hit",c=Object(q.jsx)(Ee.a,{placement:"top",title:Object(q.jsxs)(j.a,{children:["Claymores, Plunging Attacks and ",Object(q.jsx)(W.a,{color:"geo",children:"Geo DMG"})]}),children:Object(q.jsx)(F.a,{component:"span",sx:{cursor:"help"},children:Object(q.jsx)(de.a,{icon:je.v})})});return Object(q.jsx)(m.a,{children:Object(q.jsx)(l.a,{sx:{p:1},children:Object(q.jsxs)(W.a,{color:"shattered",children:[R.b.getStatName(n)," ",ve.a.hydro,"+",ve.a.cryo,"+ ",Object(q.jsx)(W.a,{color:"physical",children:Object(q.jsxs)("small",{children:["Heavy Attack",c," "]})})," ",Object(q.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(n))})]})})})},crystalize_hit:function(e){var t,a=e.stats,c=Object(v.useState)(Object.keys(qe)[0]),i=Object(n.a)(c,2),r=i[0],l=i[1],s="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(q.jsxs)(m.a,{sx:{display:"flex"},children:[Object(q.jsx)(C.a,{size:"small",title:qe[r],color:"success",children:Object.entries(qe).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(q.jsx)(x.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:c},a)}))}),Object(q.jsx)(F.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(q.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(R.b.fixedUnit(s))})})]})}};function We(e){var t=e.characterSheet,a=Object(v.useContext)(p.a),n=a.newBuild,c=a.equippedBuild,i=n||c;if(!i)return null;var r=i.characterEle,o=Object(oe.a)(Me.a[r]||[]);return o.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||o.push("shattered_hit"),Object(q.jsx)(g.a,{sx:{mb:1},children:Object(q.jsx)(l.a,{children:Object(q.jsx)(s.a,{container:!0,spacing:1,children:o.map((function(e){var t=Le[e];return t?Object(q.jsx)(s.a,{item:!0,children:Object(q.jsx)(t,{stats:i})},e):null}))})})})}var ze={pyro:Object(q.jsxs)("span",{children:[R.b.getStatName("pyro_swirl_hit")," ",ve.a.pyro," + ",ve.a.anemo]}),electro:Object(q.jsxs)("span",{children:[R.b.getStatName("electro_swirl_hit")," ",ve.a.electro,"+",ve.a.anemo]}),cryo:Object(q.jsxs)("span",{children:[R.b.getStatName("cryo_swirl_hit")," ",ve.a.cryo," + ",ve.a.anemo]}),hydro:Object(q.jsxs)("span",{children:[R.b.getStatName("hydro_swirl_hit")," ",ve.a.hydro," + ",ve.a.anemo]})};var qe={default:Object(q.jsxs)(W.a,{color:"crystalize",children:[R.b.getStatName("crystalize_hit")," ",ve.a.electro,"/",ve.a.hydro,"/",ve.a.pyro,"/",ve.a.cryo,"+",ve.a.geo]}),pyro:Object(q.jsxs)("span",{children:[R.b.getStatName("pyro_crystalize_hit")," ",ve.a.pyro,"+",ve.a.geo]}),electro:Object(q.jsxs)("span",{children:[R.b.getStatName("electro_crystalize_hit")," ",ve.a.electro,"+",ve.a.geo]}),cryo:Object(q.jsxs)("span",{children:[R.b.getStatName("cryo_crystalize_hit")," ",ve.a.cryo,"+",ve.a.geo]}),hydro:Object(q.jsxs)("span",{children:[R.b.getStatName("hydro_crystalize_hit")," ",ve.a.hydro,"+",ve.a.geo]})};var Ie=[1,1,2,4,6,8,10];function Ge(e){var t=e.characterSheet,a=e.character,n=a.talent,c=a.ascension,i=a.key,r=e.characterDispatch,o=e.talentKey,d=e.subtitle,u=e.onClickTitle,h=Object(v.useContext)(p.a),O=h.newBuild,f=h.equippedBuild,m=O||f,y=Object(v.useCallback)((function(e){return Object(q.jsx)(Ne.a,{onClick:u,children:e})}),[u]);if(!m)return null;var S=null;if(o in n){var w,k=null!==(w=m["".concat(o,"Boost")])&&void 0!==w?w:0,_=n[o]+k;S=Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(l.a,{sx:{py:1},children:Object(q.jsx)(C.a,{fullWidth:!0,title:"Talent Lv. ".concat(_),color:k?"info":"primary",children:Object(oe.a)(Array(Ie[c]+("auto"!==o||k?0:1)).keys()).map((function(e){return Object(q.jsxs)(x.a,{selected:n[o]===e+1,disabled:n[o]===e+1,onClick:function(){return t=e+1,n[o]=t,void r({talent:n});var t},children:["Talent Lv. ",e+k+1]},e)}))})}),Object(q.jsx)(b.a,{})]})}var B=t.getTalentStats(o,m),A=B&&Object(De.a)(B,m),K=A&&!!A.length&&Object(q.jsx)(Ve.a,{children:A.map((function(e,t){return Object(q.jsx)(Ve.b,{field:e},t)}))}),N=t.getTalentOfKey(o,m.characterEle),E=null===N||void 0===N?void 0:N.sections;return Object(q.jsxs)(g.a,{sx:{height:"100%"},children:[S,Object(q.jsxs)(l.a,{children:[Object(q.jsx)(Fe.a,{condition:!!u,wrapper:y,children:Object(q.jsxs)(s.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(q.jsx)(s.a,{item:!0,children:Object(q.jsx)(F.a,{component:"img",src:null===N||void 0===N?void 0:N.img,sx:{width:60,height:"auto"}})}),Object(q.jsxs)(s.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(q.jsx)(j.a,{variant:"h6",children:null===N||void 0===N?void 0:N.name}),Object(q.jsx)(j.a,{variant:"subtitle1",children:d})]})]})}),E?Object(q.jsx)(Te.a,{sections:E,characterKey:i,equippedBuild:f,newBuild:O}):null,K]})]})}var Ue=a(136);function Pe(e){var t=e.children,a=e.current,n=e.value,l=Object(i.a)(e,["children","current","value"]);return n!==a?null:Object(q.jsx)(v.Suspense,{fallback:Object(q.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(q.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),{},{children:t}))})}function He(e){var t,a=e.characterKey,c=e.setCharacterKey,i=e.footer,r=e.newBuild,h=e.onClose,O=e.tabName,x=Object(v.useContext)(Q.b),y=Object(v.useState)(!1),S=Object(n.a)(y,2),k=S[0],C=S[1],B=Object(Z.a)(),A=Object(n.a)(B,2),K=A[0],N=A[1],E=Object(D.a)(ee.a.getAll(),[]),F=Object(D.a)(Ue.b.getAll(),[]),M=Object(D.a)(f.a.getAll(),[]),R=Object(v.useMemo)((function(){var e;return K&&(null!==(e=x._getChar(a))&&void 0!==e?e:Object(V.b)(a))}),[a,K,x]),L=Object(v.useMemo)((function(){return K&&x._getWeapon(R.equippedWeapon)}),[R.equippedWeapon,K,x]),W=null===F||void 0===F?void 0:F[a],z=L?null===E||void 0===E?void 0:E[L.key]:void 0,G=W&&z&&M&&{characterSheet:W,weaponSheet:z,artifactSheets:M};Object(v.useEffect)((function(){return x.followChar(a,N)}),[a,N,x]),Object(v.useEffect)((function(){return x.followWeapon(R.equippedWeapon,N)}),[R.equippedWeapon,N,x]);var U=Object(v.useMemo)((function(){if(r)return Object($.d)(r)}),[r]),H=Object(v.useState)(O||(U?"newartifacts":"character")),J=Object(n.a)(H,2),X=J[0],Y=J[1],te=Object(v.useCallback)((function(e,t){return Y(t)}),[Y]),ae=null!==(t=null===U||void 0===U?void 0:U.mainStatAssumptionLevel)&&void 0!==t?t:0,ne=Object(v.useMemo)((function(){return K&&W&&z&&M&&T.a.calculateBuild(R,x,W,z,M,ae)}),[K,R,W,z,M,ae,x]);return Object(q.jsx)(m.a,{children:Object(q.jsxs)(p.a.Provider,{value:{newBuild:U,equippedBuild:ne,compareBuild:k,setCompareBuild:C},children:[Object(q.jsxs)(l.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(q.jsxs)(s.a,{container:!0,spacing:1,children:[Object(q.jsx)(s.a,{item:!0,flexGrow:1,children:Object(q.jsx)(Je,{characterSheet:W,character:R,setCharacterKey:c})}),!!ae&&Object(q.jsx)(s.a,{item:!0,children:Object(q.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(q.jsx)(j.a,{children:Object(q.jsxs)("strong",{children:["Assume Main Stats are Level ",ae]})})})}),!!h&&Object(q.jsx)(s.a,{item:!0,children:Object(q.jsx)(w.a,{onClick:h})})]}),Object(q.jsx)(g.a,{children:Object(q.jsxs)(d.a,{onChange:te,value:X,variant:"fullWidth",children:[Object(q.jsx)(u.a,{value:"character",label:"Character"}),!!U&&Object(q.jsx)(u.a,{value:"newartifacts",label:"New Artifacts"}),Object(q.jsx)(u.a,{value:"artifacts",label:U?"Current Artifacts":"Artifacts"}),Object(q.jsx)(u.a,{value:"talent",label:"Talents"})]})}),Object(q.jsx)(P.a,{character:R}),!!G&&Object(q.jsx)(I,{sheets:G}),Object(q.jsx)(_.b,{character:R}),W&&Object(q.jsx)(Pe,{value:"character",current:X,children:Object(q.jsx)(ge,{characterSheet:W,character:R})}),G&&Object(q.jsx)(p.a.Provider,{value:{newBuild:void 0,equippedBuild:ne,compareBuild:k,setCompareBuild:C},children:Object(q.jsx)(Pe,{value:"artifacts",current:X,children:Object(q.jsx)(se,{sheets:G,character:R})})}),U&&G&&Object(q.jsx)(Pe,{value:"newartifacts",current:X,children:Object(q.jsx)(se,{sheets:G,character:R})}),W&&Object(q.jsx)(Pe,{value:"talent",current:X,children:Object(q.jsx)(Re,{characterSheet:W,character:R})})]}),!!i&&Object(q.jsx)(b.a,{}),i&&Object(q.jsx)(l.a,{sx:{py:1},children:i})]})})}function Je(e){var t,a=e.characterSheet,c=e.character,i=e.character,r=i.key,l=i.elementKey,s=void 0===l?"anemo":l,o=i.level,d=void 0===o?1:o,u=i.ascension,b=void 0===u?0:u,f=e.disabled,p=e.setCharacterKey,m=Object(v.useState)(!1),g=Object(n.a)(m,2),w=g[0],_=g[1],B=Object(Y.a)(r),A=a?Object(q.jsxs)("span",{children:[Object(q.jsx)(H.a,{src:a.thumbImg,sx:{mr:1}}),a.name]}):Object(q.jsx)("span",{children:"Select a Character"}),K=Object(v.useCallback)((function(e){e=Object($.a)(e,1,90);var t=X.b.findIndex((function(t){return e<=t}));B({level:e,ascension:t})}),[B]),N=Object(v.useCallback)((function(){var e=X.b.findIndex((function(e){return 90!==d&&d===e}));B(b===e?{ascension:b+1}:{ascension:e})}),[B,b,d]);return Object(q.jsx)(q.Fragment,{children:f?Object(q.jsxs)(j.a,{variant:"h6",children:[A," ",a&&T.a.getLevelString(c)]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(y.a,{show:w,onHide:function(){return _(!1)},onSelect:p}),Object(q.jsxs)(h.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[Object(q.jsx)(O.a,{disabled:!p,onClick:function(){return _(!0)},startIcon:Object(q.jsx)(S.a,{src:null===a||void 0===a?void 0:a.thumbImgSide}),children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Character"}),(null===a||void 0===a?void 0:a.sheet)&&"talents"in(null===a||void 0===a?void 0:a.sheet)&&Object(q.jsx)(C.a,{title:J.a[s].name,children:Object.keys(a.sheet.talents).map((function(e){return Object(q.jsx)(x.a,{selected:s===e,disabled:s===e,onClick:function(){return B({elementKey:e})},children:Object(q.jsx)("strong",{children:J.a[e].name})},e)}))}),Object(q.jsx)(k.a,{children:Object(q.jsx)(k.c,{onChange:K,value:d,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!a})}),Object(q.jsx)(O.a,{sx:{pl:1},disabled:!Object(X.a)(d)||!a,onClick:N,children:Object(q.jsxs)("strong",{children:["/ ",X.b[b]]})}),Object(q.jsx)(C.a,{title:"Select Level",disabled:!a,children:X.c.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=a===X.b[c]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(X.b[c]),r=a===d&&c===b;return Object(q.jsx)(x.a,{selected:r,disabled:r,onClick:function(){return B({level:a,ascension:c})},children:i},"".concat(a,"/").concat(c))}))})]})]})})}}}]);
//# sourceMappingURL=18.db47e7ba.chunk.js.map