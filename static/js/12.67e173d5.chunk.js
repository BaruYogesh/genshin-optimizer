(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[12],{169:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(162),r=a(101),i=a(167),c=a(76),l=a(166),s=a(16),o=a(60),d=a(61),u=a(180),v=a(165),j=a(188),b=a(187),h=a(168),f=a(29),m=a(26),O=a(173),p=a(184),g=a(90),x=a(9),y=a(174),L=function(){function e(){if(Object(o.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(d.a)(e,null,[{key:"remove",value:function(e){var t=m.a.get(e);t&&(Object.values(t.equippedArtifacts).forEach((function(e){return f.a.moveToNewLocation(e,"")})),m.a.remove(e))}}]),e}();L.getElementalName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===h.a||void 0===h.a||null===(t=h.a[e])||void 0===t?void 0:t.name)||a},L.getlevelKeys=function(){return Object.keys(b.b)},L.getlevelTemplateName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===b.b||void 0===b.b||null===(t=b.b[e])||void 0===t?void 0:t.name)||a},L.getLevelString=function(e,t,a){var n=L.getStatValueWithOverride(e,t,a,"characterLevel");return L.getLevel(e.levelKey)===n?L.getlevelTemplateName(e.levelKey):"Lvl. ".concat(n)},L.getIndexFromlevelkey=function(e){return L.getlevelKeys().indexOf(e)},L.getLevel=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(null===b.b||void 0===b.b||null===(t=b.b[e])||void 0===t?void 0:t.level)||a},L.getAscension=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===b.b||void 0===b.b||null===(t=b.b[e])||void 0===t?void 0:t.asend)||a},L.getTalentFieldValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(null===e||void 0===e?void 0:e[t])?Object(x.h)(null===e||void 0===e?void 0:e[t],a):n},L.hasOverride=function(e,t){return"finalHP"===t?L.hasOverride(e,"hp")||L.hasOverride(e,"hp_")||L.hasOverride(e,"characterHP")||!1:"finalDEF"===t?L.hasOverride(e,"def")||L.hasOverride(e,"def_")||L.hasOverride(e,"characterDEF")||!1:"finalATK"===t?L.hasOverride(e,"atk")||L.hasOverride(e,"atk_")||L.hasOverride(e,"characterATK")||!1:!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},L.getBaseStatValue=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e.levelKey;return"specializedStatKey"===n?t.specializeStat.key:"specializedStatVal"===n?t.specializeStat.value[L.getIndexFromlevelkey(i)]:"weaponATK"===n?y.a.getWeaponMainStatValWithOverride(null===e||void 0===e?void 0:e.weapon,a):"characterLevel"===n||"enemyLevel"===n?L.getLevel(i):n.includes("enemyRes_")?10:n in b.c?b.c[n]:n in t.baseStat?t.baseStat[n][L.getIndexFromlevelkey(i)]:r},L.getStatValueWithOverride=function(e,t,a,n){var r,i,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return L.hasOverride(e,n)?null!==(r=null===e||void 0===e||null===(i=e.baseStatOverrides)||void 0===i?void 0:i[n])&&void 0!==r?r:c:L.getBaseStatValue(e,t,a,n,c)},L.equipArtifacts=function(e,t){var a=m.a.get(e);if(a){var n=a.equippedArtifacts;g.h.forEach((function(a){var r,i,c=f.a.get(t[a]);if((null===c||void 0===c?void 0:c.location)!==e){var l=f.a.get(null===n||void 0===n?void 0:n[a]),s=null!==(r=null===c||void 0===c?void 0:c.location)&&void 0!==r?r:"";l&&f.a.moveToNewLocation(l.id,s),s&&m.a.equipArtifactOnSlot(s,a,null!==(i=null===l||void 0===l?void 0:l.id)&&void 0!==i?i:""),c&&f.a.moveToNewLocation(c.id,e)}})),m.a.equipArtifactBuild(e,t)}},L.calculateBuild=function(e,t,a,n){var r,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.artifacts)r=Object.fromEntries(e.artifacts.map((function(e,t){return[t,e]})));else{if(!e.equippedArtifacts)return{};r=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return[a,f.a.get(n)]})))}var c=L.createInitialStats(e,t,a);return c.mainStatAssumptionLevel=i,L.calculateBuildwithArtifact(c,r,n)},L.calculateBuildwithArtifact=function(e,t,a){var n,r=u.a.setToSlots(t),i=v.a.setEffectsStats(a,e,r),c=Object(x.f)(e);Object.values(t).forEach((function(e){e&&(c[e.mainStatKey]=(c[e.mainStatKey]||0)+u.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(c.mainStatAssumptionLevel,4*e.numStars),e.level)),e.substats.forEach((function(e){return e&&e.key&&(c[e.key]=(c[e.key]||0)+e.value)})))})),i.forEach((function(e){return c[e.key]=(c[e.key]||0)+e.value})),j.a.parseConditionalValues({artifact:null===c||void 0===c||null===(n=c.conditionalValues)||void 0===n?void 0:n.artifact},(function(e,t,a){var n,i,l=Object(s.a)(a,2)[1],o=e.setNumKey;if(!(parseInt(o)>(null!==(n=null===r||void 0===r||null===(i=r[l])||void 0===i?void 0:i.length)&&void 0!==n?n:0))){var d=j.a.resolve(e,c,t).stats;Object.entries(d).forEach((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return c[a]=(c[a]||0)+n}))}})),c.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),c.setToSlots=r;var l=Object(p.a)(null===c||void 0===c?void 0:c.modifiers);return Object(O.c)(l,c).formula(c),c},L.mergeStats=function(e,t){return t&&Object.entries(t).forEach((function(t){var a=Object(s.a)(t,2),n=a[0],r=a[1];if("modifiers"===n){var i;e.modifiers=null!==(i=e.modifiers)&&void 0!==i?i:{};var c,o=Object(l.a)(Object.entries(r));try{for(o.s();!(c=o.n()).done;){var d,u=Object(s.a)(c.value,2),v=u[0],j=u[1];e.modifiers[v]=null!==(d=e.modifiers[v])&&void 0!==d?d:{};var b,h=Object(l.a)(Object.entries(j));try{for(h.s();!(b=h.n()).done;){var f,m=Object(s.a)(b.value,2),O=m[0],p=m[1];e.modifiers[v][O]=(null!==(f=e.modifiers[v][O])&&void 0!==f?f:0)+p}}catch(g){h.e(g)}finally{h.f()}}}catch(g){o.e(g)}finally{o.f()}}else void 0===e[n]?e[n]=r:"number"===typeof e[n]&&(e[n]+=r)}))},L.createInitialStats=function(e,t,a){var l,o,d=e=Object(x.f)(e),u=d.characterKey,v=d.levelKey,h=d.hitMode,f=d.infusionAura,m=d.reactionMode,O=d.talentLevelKeys,p=d.constellation,S=d.equippedArtifacts,w=d.conditionalValues,N=void 0===w?{}:w,A=d.weapon,_=void 0===A?{key:""}:A,k=L.getAscension(v),K=["characterHP","characterATK","characterDEF","weaponATK","characterLevel","enemyLevel","physical_enemyRes_","physical_enemyImmunity"].concat(Object(c.a)(Object.keys(b.c))),E=Object.fromEntries(K.map((function(n){return[n,L.getStatValueWithOverride(e,t,a,n)]})));E.characterEle=t.elementKey,E.characterKey=u,E.hitMode=h,E.infusionAura=f,E.reactionMode=m,E.conditionalValues=N,E.weaponType=t.weaponTypeKey,E.tlvl=O,E.constellation=p,E.ascension=k,E.weapon=_,E.equippedArtifacts=S,["physical"].concat(Object(c.a)(g.d)).forEach((function(n){var r="".concat(n,"_enemyRes_");E[r]=L.getStatValueWithOverride(e,t,a,r),r="".concat(n,"_enemyImmunity"),E[r]=L.getStatValueWithOverride(e,t,a,r)}));var C=(null===(l=e)||void 0===l?void 0:l.baseStatOverrides)||{};Object.entries(C).forEach((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];"specializedStatKey"!==a&&"specializedStatVal"!==a&&(E.hasOwnProperty(a)||(E[a]=n))}));var W=L.getStatValueWithOverride(e,t,a,"specializedStatVal"),T=L.getStatValueWithOverride(e,t,a,"specializedStatKey");for(var V in L.mergeStats(E,Object(i.a)({},T,W)),t.getTalentStatsAll(E).forEach((function(e){return L.mergeStats(E,e)})),E.tlvl){var M;E.tlvl[V]+=null!==(M=E["".concat(V,"Boost")])&&void 0!==M?M:0}var B=y.a.getWeaponSubstatKey(a);B&&L.mergeStats(E,Object(i.a)({},B,y.a.getWeaponSubstatValWithOverride(null===(o=e)||void 0===o?void 0:o.weapon,a))),L.mergeStats(E,a.stats(E));N.artifact;var I=N.weapon,z=Object(r.a)(N,["artifact","weapon"]);return j.a.parseConditionalValues(Object(n.a)(Object(n.a)({},_.key&&{weapon:Object(i.a)({},_.key,null===I||void 0===I?void 0:I[_.key])}),z),(function(e,t,a){if(j.a.canShow(e,E)){var n=j.a.resolve(e,E,t).stats;L.mergeStats(E,n)}})),E}},174:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(60),r=a(183),i=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};i.getLevelName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.a[e]||t},i.getLevelIndex=function(e){return r.b.indexOf(e)},i.getWeaponMainStatVal=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.baseStats.main[i.getLevelIndex(t)]||a},i.getWeaponSubstatVal=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(a=e.baseStats.sub)||void 0===a?void 0:a[i.getLevelIndex(t)])||n},i.getWeaponSubstatKey=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=e.baseStats)||void 0===t?void 0:t.substatKey)||a},i.getWeaponTypeName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.c[e]||t},i.getWeaponTypeKeys=function(){return Object.keys(r.c)},i.getWeaponMainStatValWithOverride=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.overrideMainVal)||i.getWeaponMainStatVal(t,null===e||void 0===e?void 0:e.levelKey,a)},i.getWeaponSubstatValWithOverride=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.overrideSubVal)||i.getWeaponSubstatVal(t,null===e||void 0===e?void 0:e.levelKey,a)}},175:function(e,t,a){"use strict";var n={elements:{anemo:a.p+"static/media/Element_Anemo.f809fde3.png",cryo:a.p+"static/media/Element_Cryo.019d72f9.png",dendro:a.p+"static/media/Element_Dendro.8ee0f26d.png",electro:a.p+"static/media/Element_Electro.342332ac.png",geo:a.p+"static/media/Element_Geo.b7e865c6.png",hydro:a.p+"static/media/Element_Hydro.f2f8bd8a.png",pyro:a.p+"static/media/Element_Pyro.f65c2e38.png"},weaponTypes:{bow:a.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:a.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:a.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:a.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:a.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:a.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:a.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:a.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:a.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:a.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},183:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return i}));var n=["L1","L5","L10","L15","L20","L20A","L25","L30","L35","L40","L40A","L45","L50","L50A","L55","L60","L60A","L65","L70","L70A","L75","L80","L80A","L85","L90"],r={L1:"Lvl. 1",L5:"Lvl. 5",L10:"Lvl. 10",L15:"Lvl. 15",L20:"Lvl. 20",L20A:"Lvl. 20/40",L25:"Lvl. 25",L30:"Lvl. 30",L35:"Lvl. 35",L40:"Lvl. 40",L40A:"Lvl. 40/50",L45:"Lvl. 45",L50:"Lvl. 50",L50A:"Lvl. 50/60",L55:"Lvl. 55",L60:"Lvl. 60",L60A:"Lvl. 60/70",L65:"Lvl. 65",L70:"Lvl. 70",L70A:"Lvl. 70/80",L75:"Lvl. 75",L80:"Lvl. 80",L80A:"Lvl. 80/90",L85:"Lvl. 85",L90:"Lvl. 90"},i={sword:"Sword",claymore:"Claymore",catalyst:"Catalyst",bow:"Bow",polearm:"Polearm"}},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(16);var n=a(76),r=a(173);function i(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a)}}),new Proxy({},{get:function(e,a,n){t.add(a)}})),Object(n.a)(t)}var c=Object.freeze(Object.fromEntries(Object.keys(r.b).map((function(e){return[e,i(r.b[e])]}))));function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(r.d),a=new Set;return t.forEach((function(t){return s(t,e,a)})),Object(n.a)(a)}function s(e,t,a){var n,r;a.has(e)||(null===(n=c[e])||void 0===n||n.forEach((function(e){return s(e,t,a)})),Object.keys(null!==(r=t[e])&&void 0!==r?r:{}).forEach((function(e){return s(e,t,a)})),a.add(e))}},187:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var n={L1:{name:"Lv. 1",level:1,asend:0},L20:{name:"Lv. 20",level:20,asend:0},L20A:{name:"Lv. 20/40",level:20,asend:1},L40:{name:"Lv. 40",level:40,asend:1},L40A:{name:"Lv. 40/50",level:40,asend:2},L50:{name:"Lv. 50",level:50,asend:2},L50A:{name:"Lv. 50/60",level:50,asend:3},L60:{name:"Lv. 60",level:60,asend:3},L60A:{name:"Lv. 60/70",level:60,asend:4},L70:{name:"Lv. 70",level:70,asend:4},L70A:{name:"Lv. 70/80",level:70,asend:5},L80:{name:"Lv. 80",level:80,asend:5},L80A:{name:"Lv. 80/90",level:80,asend:6},L90:{name:"Lv. 90",level:90,asend:6}},r={critRate_:5,critDMG_:50,enerRech_:100,stamina:100},i=["hp_","atk_","def_","eleMas","enerRech_","heal_","critRate_","critDMG_","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_"]},194:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(16),r=a(89),i=a(51),c=a(0),l=a(305),s=a(19),o=a(45),d=a(21),u=a(44),v=a(159),j=a(9),b=a(1);function h(e){var t,a,h=e.pageKey,f=void 0===h?"":h,m=e.text,O=void 0===m?"":m,p=e.modalTitle,g=void 0===p?"":p,x=e.children,y=Object(c.useState)(null===(t=null===(a=Object(j.n)("infoShown"))||void 0===a?void 0:a[f])||void 0===t||t),L=Object(n.a)(y,2),S=L[0],w=L[1],N=Object(c.useState)(Array.isArray(O)?Object(j.j)(O):O),A=Object(n.a)(N,1)[0],_=function(){var e,t=null!==(e=Object(j.n)("infoShown"))&&void 0!==e?e:{};t[f]=!1,Object(j.r)("infoShown",t),w(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l.a,{show:S,onHide:function(){return _()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(b.jsxs)(s.a,{bg:"darkcontent",text:"lightfont",children:[Object(b.jsx)(s.a.Header,{children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(s.a.Title,{children:g})}),Object(b.jsx)(d.a,{xs:"auto",children:Object(b.jsx)(u.a,{variant:"danger",onClick:function(){return _()},children:Object(b.jsx)(i.a,{icon:r.B})})})]})}),Object(b.jsx)(s.a.Body,{children:Object(b.jsx)(c.Suspense,{fallback:Object(b.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(b.jsx)(v.a,{animation:"border",variant:"primary"})]}),children:x})}),Object(b.jsx)(s.a.Footer,{children:Object(b.jsx)(u.a,{variant:"danger",onClick:function(){return _()},children:Object(b.jsx)("span",{children:"Close"})})})]})}),Object(b.jsx)(s.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(b.jsx)(s.a.Body,{className:"pl-2 py-0 pr-0",children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(d.a,{children:Object(b.jsx)("small",{children:A})}),Object(b.jsx)(d.a,{xs:"auto",children:Object(b.jsx)(u.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return w(!0)},children:Object(b.jsx)(i.a,{icon:r.s})})})]})})})]})}},212:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a(76),r=a(16),i=a(89),c=a(51),l=a(0),s=a(190),o=a(127),d=a(44),u=a(19),v=a(21),j=a(45),b=a(36),h=a(165),f=a(175),m=a(181),O=a(195),p=a(26),g=a(161),x=a(91),y=a(174),L=a(192),S=a(169),w=a(172),N=a(1);function A(e){var t,a=e.characterKey,A=e.onEdit,_=e.onDelete,k=e.cardClassName,K=void 0===k?"":k,E=e.bg,C=void 0===E?"":E,W=e.header,T=e.footer,V=void 0!==T&&T,M=Object(x.a)(),B=Object(r.a)(M,2)[1];Object(l.useEffect)((function(){return a&&p.a.registerCharListener(a,B),function(){a&&p.a.unregisterCharListener(a,B)}}),[a,B]);var I=Object(x.b)(h.a.getAll()),z=p.a.get(a),F=Object(x.b)(w.b.get(a)),R=Object(x.b)(z&&L.a.get(z.weapon.key)),D=Object(l.useMemo)((function(){return z&&F&&R&&I&&S.a.calculateBuild(z,F,R,I)}),[z,F,R,I]);if(!z||!F||!R||!D)return null;var P=z.weapon,q=z.constellation,H=F.name,G=F.elementKey,U=F.weaponTypeKey,Y=null===R||void 0===R?void 0:R.name,J=y.a.getWeaponMainStatValWithOverride(P,R),Q=y.a.getWeaponSubstatKey(R),X=y.a.getWeaponSubstatValWithOverride(P,R),Z=y.a.getLevelName(P.levelKey),$=null===R||void 0===R?void 0:R.passiveName;return Object(N.jsxs)(u.a,{className:K,bg:C||"darkcontent",text:"lightfont",children:[Object(N.jsx)(u.a.Header,{className:"pr-2",children:Object(N.jsxs)(j.a,{className:"no-gutters",children:[Object(N.jsx)(v.a,{children:W||Object(N.jsx)("h5",{children:Object(N.jsx)("b",{children:H})})}),Object(N.jsx)(v.a,{xs:"auto",children:Object(N.jsxs)("span",{className:"float-right align-top ml-1",children:[A&&Object(N.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return A(a)},children:Object(N.jsx)(c.a,{icon:i.h})}),_&&Object(N.jsx)(d.a,{variant:"danger",size:"sm",onClick:function(){return _(a)},children:Object(N.jsx)(c.a,{icon:i.E})})]})})]})}),Object(N.jsxs)(u.a.Body,{onClick:function(){return null===A||void 0===A?void 0:A(a)},className:A?"cursor-pointer":"",children:[Object(N.jsxs)(j.a,{children:[Object(N.jsx)(v.a,{xs:"auto",className:"pr-0",children:Object(N.jsx)(s.a,{src:F.thumbImg,className:"thumb-big grad-".concat(F.star,"star p-0"),thumbnail:!0})}),Object(N.jsxs)(v.a,{children:[Object(N.jsxs)("h3",{className:"mb-0",children:[S.a.getLevelString(z,F,R)," ","C".concat(q)]}),Object(N.jsx)("h5",{className:"mb-0",children:Object(N.jsx)(m.a,{stars:F.star,colored:!0})}),Object(N.jsxs)("h2",{className:"mb-0",children:[Object(N.jsx)(s.a,{src:f.a.elements[G],className:"inline-icon"})," ",Object(N.jsx)(s.a,{src:null===(t=f.a.weaponTypes)||void 0===t?void 0:t[U],className:"inline-icon"})]})]})]}),Object(N.jsx)(j.a,{className:"mb-2",children:Object(N.jsxs)(v.a,{children:[Object(N.jsxs)("h6",{className:"mb-0",children:[Y,$&&"(".concat(P.refineIndex+1,")")," ",Z]}),Object(N.jsxs)("span",{children:["ATK: ",J,"  ",$&&Object(N.jsxs)("span",{children:[g.a.getStatName(Q),": ",X,g.a.getStatUnit(Q)]})]})]})}),Object(N.jsx)(j.a,{children:Object(N.jsx)(v.a,{children:I&&Object.entries(h.a.setEffects(I,D.setToSlots)).map((function(e){var t,a=Object(r.a)(e,2),i=a[0],c=a[1],l=null!==(t=null===I||void 0===I?void 0:I[i].name)&&void 0!==t?t:"",s=Math.max.apply(Math,Object(n.a)(c));return Object(N.jsx)("h5",{children:Object(N.jsxs)(o.a,{variant:"secondary",children:[l," ",Object(N.jsx)(o.a,{variant:"success",children:s})]})},i)}))})}),Object(N.jsx)(j.a,{children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var t=g.a.getStatUnit(e),a=D[e];return Object(N.jsxs)(v.a,{xs:12,children:[Object(N.jsxs)("h6",{className:"d-inline",children:[Object(O.a)(e)," ",g.a.getStatName(e)]}),Object(N.jsx)("span",{className:"float-right",children:(null===a||void 0===a?void 0:a.toFixed(g.a.fixedUnit(e)))+t})]},e)}))})]}),V&&Object(N.jsx)(u.a.Footer,{children:Object(N.jsx)(d.a,{as:b.b,to:{pathname:"/build",characterKey:a},children:"Generate Builds"})})]})}},302:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));var n=a(77),r=a.n(n),i=a(102),c=a(16),l=a(89),s=a(51),o=a(0),d=a.n(o),u=a(147),v=a(45),j=a(21),b=a(19),h=a(159),f=a(186),m=a(44),O=a(190),p=a(225),g=a(199),x=a(35),y=a(36),L=a(175),S=a(26),w=a(194),N=a(90),A=a(91),_=a(9),k=a(174),K=a(169),E=a(212),C=a(172),W=a(1),T=d.a.lazy((function(){return a.e(21).then(a.bind(null,301))})),V=Object(o.lazy)((function(){return Promise.all([a.e(2),a.e(1)]).then(a.bind(null,206))})),M={level:"Level",rarity:"Rarity",name:"Name"};function B(e,t){return t===e?"":t}function I(e){var t,a=Object(o.useState)(""),n=Object(c.a)(a,2),y=n[0],I=n[1],F=Object(o.useState)((function(){return Object.keys(M)[0]})),R=Object(c.a)(F,2),D=R[0],P=R[1],q=Object(o.useReducer)(B,""),H=Object(c.a)(q,2),G=H[0],U=H[1],Y=Object(o.useReducer)(B,""),J=Object(c.a)(Y,2),Q=J[0],X=J[1],Z=Object(o.useState)(!1),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ae=Object(A.a)(),ne=Object(c.a)(ae,2)[1],re=Object(o.useRef)(null);Object(o.useEffect)((function(){x.a.pageview("/character");var e=Object(_.n)("CharacterDisplay.state");if(e){var t=e.charIdToEdit,a=e.sortBy,n=e.elementalFilter,r=e.weaponFilter;I(t),P(a),N.d.includes(n)&&U(n),k.a.getWeaponTypeKeys().includes(r)&&X(r)}return S.a.registerListener(ne),function(){return S.a.unregisterListener(ne)}}),[ne]);var ie=null!==(t=Object(A.b)(C.b.getAll()))&&void 0!==t?t:{},ce=function(e){var t;return K.a.getLevel(null===(t=S.a.get(e))||void 0===t?void 0:t.levelKey)},le=function(e){var t;return null===(t=ie[e])||void 0===t?void 0:t.star};Object(o.useEffect)((function(){var e={charIdToEdit:y,sortBy:D,elementalFilter:G,weaponFilter:Q};Object(_.r)("CharacterDisplay.state",e)}),[y,D,G,Q]);var se=Object(o.useCallback)(function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.b.get(t);case 2:if(a=e.sent,window.confirm("Are you sure you want to remove ".concat(null===a||void 0===a?void 0:a.name,"?"))){e.next=5;break}return e.abrupt("return");case 5:K.a.remove(t),y===t&&I("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y,I]),oe=Object(o.useCallback)((function(e){I(e),setTimeout((function(){var e;null===(e=re.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[I,re]),de=Object(o.useCallback)((function(){I(""),te(!1)}),[I]),ue=S.a.getCharacterKeyList().filter((function(e){var t,a;return(!G||G===(null===(t=ie[e])||void 0===t?void 0:t.elementKey))&&(!Q||Q===(null===(a=ie[e])||void 0===a?void 0:a.weaponTypeKey))})).sort((function(e,t){if("name"===D)return e<t?-1:e>t?1:0;if("level"===D){var a=ce(t)-ce(e);return a||le(t)-le(e)}var n=le(t)-le(e);return n||ce(t)-ce(e)})),ve=Boolean(y||ee);return Object(W.jsxs)(u.a,{ref:re,className:"mt-2",children:[Object(W.jsx)(w.a,{pageKey:"characterPage",modalTitle:"Character Management Page Guide",text:["Every character will be tested with in-game numbers for maximum accuracy.","You can see the details of the calculations of every number.","You need to manually enable auto infusion for characters like Choungyun or Noelle.",'You can change character constellations in both "Character" tab and in "Talents" tab.',"Modified character Stats show up in yellow."],children:Object(W.jsx)(T,{})}),ve?Object(W.jsx)(v.a,{className:"mt-2",children:Object(W.jsx)(j.a,{children:Object(W.jsx)(d.a.Suspense,{fallback:Object(W.jsx)(b.a,{bg:"darkcontent",text:"lightfont",children:Object(W.jsx)(b.a.Body,{children:Object(W.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(W.jsx)(h.a,{animation:"border",variant:"primary"})]})})}),children:Object(W.jsx)(V,{character:void 0,newBuild:void 0,tabName:void 0,editable:!0,setCharacterKey:oe,characterKey:y,onClose:de,footer:Object(W.jsx)(z,{onClose:de,characterKey:y})})})})}):null,Object(W.jsx)(b.a,{bg:"darkcontent",text:"lightfont",className:"mt-2",children:Object(W.jsx)(b.a.Body,{className:"p-2",children:Object(W.jsxs)(v.a,{children:[Object(W.jsx)(j.a,{xs:"auto",children:Object(W.jsx)(f.a,{children:N.d.map((function(e){var t;return Object(W.jsx)(m.a,{variant:G&&G!==e?"primary":"success",className:"py-1 px-2",onClick:function(){return U(e)},children:Object(W.jsx)("h4",{className:"mb-0",children:Object(W.jsx)(O.a,{src:null===(t=L.a.elements)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(W.jsx)(j.a,{children:Object(W.jsx)(f.a,{children:k.a.getWeaponTypeKeys().map((function(e){var t;return Object(W.jsx)(m.a,{variant:Q&&Q!==e?"primary":"success",className:"py-1 px-2",onClick:function(){return X(e)},children:Object(W.jsx)("h4",{className:"mb-0",children:Object(W.jsx)(O.a,{src:null===(t=L.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(W.jsxs)(j.a,{xs:"auto",children:[Object(W.jsx)("span",{children:"Sort by: "}),Object(W.jsx)(p.a,{type:"radio",name:"level",value:D,onChange:P,children:Object.entries(M).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(W.jsx)(g.a,{value:a,variant:D===a?"success":"primary",children:n},a)}))})]})]})})}),Object(W.jsxs)(v.a,{className:"mt-2",children:[!ve&&Object(W.jsx)(j.a,{lg:4,md:6,className:"mb-2",children:Object(W.jsxs)(b.a,{className:"h-100",bg:"darkcontent",text:"lightfont",children:[Object(W.jsx)(b.a.Header,{className:"pr-2",children:Object(W.jsx)("span",{children:"Add New Character"})}),Object(W.jsx)(b.a.Body,{className:"d-flex flex-column justify-content-center",children:Object(W.jsx)(v.a,{className:"d-flex flex-row justify-content-center",children:Object(W.jsx)(j.a,{xs:"auto",children:Object(W.jsx)(m.a,{onClick:function(){return te(!0)},children:Object(W.jsx)("h1",{children:Object(W.jsx)(s.a,{icon:l.r,className:"fa-fw"})})})})})})]})}),ue.map((function(e){return Object(W.jsx)(j.a,{lg:4,md:6,className:"mb-2",children:Object(W.jsx)(E.a,{header:void 0,cardClassName:"h-100",characterKey:e,onDelete:se,onEdit:oe,footer:!0})},e)}))]})]})}function z(e){var t=e.onClose,a=e.characterKey;return Object(W.jsxs)(v.a,{children:[Object(W.jsx)(j.a,{children:Object(W.jsxs)(m.a,{variant:"info",as:y.b,to:{pathname:"/flex",characterKey:a},children:[Object(W.jsx)(s.a,{icon:l.n})," Share Character"]})}),Object(W.jsx)(j.a,{xs:"auto",children:Object(W.jsx)(m.a,{variant:"danger",onClick:t,children:"Close"})})]})}}}]);
//# sourceMappingURL=12.67e173d5.chunk.js.map