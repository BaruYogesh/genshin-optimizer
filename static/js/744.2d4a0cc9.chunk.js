"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[744],{70415:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var r=t(74165),c=t(15861),i=t(29439),s=t(93433),a=t(53174),o=t(54483),l=t(76189),h=t(80184),u=(0,l.Z)((0,h.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),x=t(45781),d=t(19701),f=t(35893),Z=t(66630),m=t(68870),p=t(39504),j=t(61889),v=t(58165),g=t(57246),y=t(47047),C=t(20890),w=t(24518),z=t(94721),P=t(13400),b=t(30178),k=t(72791),L=t(10757),T=t(22020),M=t(76899),H=t(16871),K=t(96106),S=t(3992),V=t(30865),_=t(3082),I=t(59215),N=t(48510),D=t(73578),F=t(947),G=t(56928),A=t(566),R=t(17278),q=t(68544),B=t(70645),E=t(42320),U=t(24351),$=t(50921),J=t(46956),O=t(60393),Q={xs:1,sm:2,md:3,lg:4,xl:4},W={xs:3,sm:3,md:5,lg:7,xl:7};function X(){return{sortType:$.vV[0],ascending:!1,weaponType:"",element:""}}function Y(e){var n=(0,T.$)(["page_character"].concat((0,s.Z)(U.IV.map((function(e){return"char_".concat(e,"_gen")}))))).t,t=(0,k.useContext)(G.t).database,l=(0,R.Z)("CharacterDisplay",X),Y=(0,i.Z)(l,2),ne=Y[0],te=Y[1],re=(0,k.useState)(""),ce=(0,i.Z)(re,2),ie=ce[0],se=ce[1],ae=(0,k.useDeferredValue)(ie),oe=(0,k.useState)(0),le=(0,i.Z)(oe,2),he=le[0],ue=le[1],xe=(0,k.useRef)(null),de=(0,k.useCallback)((function(e,n){var t;null===(t=xe.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}),ue(n-1)}),[ue,xe]),fe=(0,B.Z)(),Ze=W[fe],me=(0,k.useState)(!1),pe=(0,i.Z)(me,2),je=pe[0],ve=pe[1],ge=(0,q.Z)(),ye=(0,i.Z)(ge,2),Ce=ye[0],we=ye[1];(0,k.useEffect)((function(){return L.ZP.send({hitType:"pageview",page:"/characters"}),t.followAnyChar(we)}),[we,t]);var ze=(0,E.Z)(F.Z.getAll,[]),Pe=(0,k.useCallback)(function(){var e=(0,c.Z)((0,r.Z)().mark((function e(c){var i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.Z.get(c);case 2:if(i=e.sent,"object"===typeof(s=null===i||void 0===i?void 0:i.name)&&(s=b.ZP.t("char_".concat(c,"_gen:name"))),window.confirm(n("removeCharacter",{value:s}))){e.next=7;break}return e.abrupt("return");case 7:t.removeChar(c);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,n]),be=(0,A.Z)(),ke=(0,H.s0)(),Le=ne.element,Te=ne.weaponType,Me=(0,k.useMemo)((function(){return ze&&(0,$._L)(t,ze)}),[t,ze]),He=(0,k.useMemo)((function(){return ze&&(0,$.zU)(t,ze)}),[t,ze]),Ke=(0,k.useMemo)((function(){var e=t._getCharKeys().length;if(!Me||!He)return{charKeyList:[],totalCharNum:e};var n=t._getCharKeys().filter((0,J.C)({element:Le,weaponType:Te,favorite:"yes",name:ae},He)).sort((0,J.e)(ne.sortType,ne.ascending,Me)).concat(t._getCharKeys().filter((0,J.C)({element:Le,weaponType:Te,favorite:"no",name:ae},He)).sort((0,J.e)(ne.sortType,ne.ascending,Me)));return Ce&&{charKeyList:n,totalCharNum:e}}),[Ce,t,Me,ne.sortType,ne.ascending,Le,He,Te,ae]),Se=Ke.charKeyList,Ve=Ke.totalCharNum,_e=(0,k.useMemo)((function(){var e=Math.ceil(Se.length/Ze),n=(0,O.uZ)(he,0,e-1);return{charKeyListToShow:Se.slice(n*Ze,(n+1)*Ze),numPages:e,currentPageIndex:n}}),[Se,he,Ze]),Ie=_e.charKeyListToShow,Ne=_e.numPages,De=_e.currentPageIndex,Fe=Se.length!==Ve?"".concat(Se.length,"/").concat(Ve):"".concat(Ve);return(0,h.jsxs)(m.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,h.jsx)(S.Z,{ref:xe,children:(0,h.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,h.jsxs)(j.ZP,{container:!0,spacing:1,children:[(0,h.jsx)(j.ZP,{item:!0,children:(0,h.jsx)(D.Z,{sx:{height:"100%"},onChange:function(e){return te({weaponType:e})},value:ne.weaponType,size:"small"})}),(0,h.jsx)(j.ZP,{item:!0,children:(0,h.jsx)(N.Z,{sx:{height:"100%"},onChange:function(e){return te({element:e})},value:ne.element,size:"small"})}),(0,h.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,h.jsx)(v.Z,{autoFocus:!0,value:ie,onChange:function(e){return se(e.target.value)},label:n("characterName")})}),(0,h.jsx)(j.ZP,{item:!0,children:(0,h.jsx)(I.Z,{sx:{height:"100%"},sortKeys:$.vV,value:ne.sortType,onChange:function(e){return te({sortType:e})},ascending:ne.ascending,onChangeAsc:function(e){return te({ascending:e})}})})]}),(0,h.jsxs)(j.ZP,{container:!0,alignItems:"flex-end",children:[(0,h.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,h.jsx)(g.Z,{count:Ne,page:De+1,onChange:de})}),(0,h.jsx)(j.ZP,{item:!0,children:(0,h.jsx)(ee,{numShowing:Ie.length,total:Fe,t:n})})]})]})}),(0,h.jsx)(k.Suspense,{fallback:(0,h.jsx)(y.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,h.jsxs)(j.ZP,{container:!0,spacing:1,columns:Q,children:[(0,h.jsx)(j.ZP,{item:!0,xs:1,children:(0,h.jsxs)(S.Z,{sx:{height:"100%",minHeight:400,width:"100%",display:"flex",flexDirection:"column"},children:[(0,h.jsx)(p.Z,{children:(0,h.jsx)(C.Z,{sx:{textAlign:"center"},children:(0,h.jsx)(M.c,{t:n,i18nKey:"addNew"})})}),(0,h.jsx)(_.w,{newFirst:!0,show:je,onHide:function(){return ve(!1)},onSelect:be}),(0,h.jsx)(m.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(w.Z,{onClick:function(){return ve(!0)},color:"info",sx:{borderRadius:"1em"},children:(0,h.jsx)(C.Z,{variant:"h1",children:(0,h.jsx)(o.G,{icon:a.r8p,className:"fa-fw"})})})})]})}),Ie.map((function(e){return(0,h.jsx)(j.ZP,{item:!0,xs:1,children:(0,h.jsx)(V.Z,{characterKey:e,onClick:function(){return ke("".concat(e))},footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(z.Z,{}),(0,h.jsxs)(m.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:[(0,h.jsx)(K.Z,{placement:"top",title:(0,h.jsx)(C.Z,{children:n("tabs.talent")}),children:(0,h.jsx)(P.Z,{onClick:function(){return ke("".concat(e,"/talent"))},children:(0,h.jsx)(x.Z,{})})}),(0,h.jsx)(K.Z,{placement:"top",title:(0,h.jsx)(C.Z,{children:n("tabs.equip")}),children:(0,h.jsx)(P.Z,{onClick:function(){return ke("".concat(e,"/equip"))},children:(0,h.jsx)(d.Z,{})})}),(0,h.jsx)(K.Z,{placement:"top",title:(0,h.jsx)(C.Z,{children:n("tabs.teambuffs")}),children:(0,h.jsx)(P.Z,{onClick:function(){return ke("".concat(e,"/teambuffs"))},children:(0,h.jsx)(f.Z,{})})}),(0,h.jsx)(K.Z,{placement:"top",title:(0,h.jsx)(C.Z,{children:n("tabs.optimize")}),children:(0,h.jsx)(P.Z,{onClick:function(){return ke("".concat(e,"/optimize"))},children:(0,h.jsx)(Z.Z,{})})}),(0,h.jsx)(z.Z,{orientation:"vertical"}),(0,h.jsx)(K.Z,{placement:"top",title:(0,h.jsx)(C.Z,{children:n("delete")}),children:(0,h.jsx)(P.Z,{color:"error",onClick:function(){return Pe(e)},children:(0,h.jsx)(u,{})})})]})]})})},e)}))]})}),Ne>1&&(0,h.jsx)(S.Z,{children:(0,h.jsx)(p.Z,{children:(0,h.jsxs)(j.ZP,{container:!0,alignItems:"flex-end",children:[(0,h.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,h.jsx)(g.Z,{count:Ne,page:De+1,onChange:de})}),(0,h.jsx)(j.ZP,{item:!0,children:(0,h.jsx)(ee,{numShowing:Ie.length,total:Fe,t:n})})]})})})]})}function ee(e){var n=e.numShowing,t=e.total,r=e.t;return(0,h.jsx)(C.Z,{color:"text.secondary",children:(0,h.jsxs)(M.c,{t:r,i18nKey:"showingNum",count:n,value:t,children:["Showing ",(0,h.jsx)("b",{children:{count:n}})," out of ",{value:t}," Characters"]})})}},66630:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41-1.41-1.42zm-6.78.66h5v1.5h-5v-1.5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16zm6.5 1.25h-5v-1.5h5v1.5zm0-2.5h-5v-1.5h5v1.5z"}),"Calculate")},19701:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM6 18l6-4.5 6 4.5H6z"}),"Checkroom")},45781:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck")},90690:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder")},15861:function(e,n,t){function r(e,n,t,r,c,i,s){try{var a=e[i](s),o=a.value}catch(l){return void t(l)}a.done?n(o):Promise.resolve(o).then(r,c)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(c,i){var s=e.apply(n,t);function a(e){r(s,c,i,a,o,"next",e)}function o(e){r(s,c,i,a,o,"throw",e)}a(void 0)}))}}t.d(n,{Z:function(){return c}})}}]);
//# sourceMappingURL=744.2d4a0cc9.chunk.js.map