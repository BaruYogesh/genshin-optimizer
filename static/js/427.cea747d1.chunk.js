"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[427],{36030:function(e,t,n){n.d(t,{N5:function(){return P},Y4:function(){return D},mW:function(){return K},mY:function(){return A}});var r=n(1413),i=n(45987),a=n(13967),s=n(14868),l=n(58165),c=n(81918),o=n(72791),u=n(22020),d=n(31148),x=n(79406),h=n(42320),f=n(50765),p=n(24351),m=n(610),v=n(68244),Z=n(75545),j=n(80184),g=["allArtifactKeys","selectedArtifactKeys","setArtifactKeys","getName","getImage","label"],y=["artSetKeys","setArtSetKeys"],b=["mainStatKeys","setMainStatKeys"],k=["substatKeys","setSubstatKeys"],w=["allArtifactKeys","selectedArtifactKey","setArtifactKey","getName","getImage","label","disable","showDefault","defaultText","defaultIcon","flattenCorners"],C=["allArtSetKeys","artSetKey","setArtSetKey","label","flattenCorners"];function S(e){var t=e.allArtifactKeys,n=e.selectedArtifactKeys,u=e.setArtifactKeys,d=e.getName,x=e.getImage,h=e.label,f=(0,i.Z)(e,g),v=(0,a.Z)(),Z=(0,o.useMemo)((function(){return t.map((function(e){return{key:e,label:d(e)}}))}),[t,d]);return(0,j.jsx)(s.Z,(0,r.Z)({autoHighlight:!0,multiple:!0,options:Z,value:n.map((function(e){return{key:e,label:d(e)}})),onChange:function(e,t){u(t.map((function(e){return e.key})))},getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e,t){return e.key===t.key},renderInput:function(e){return(0,j.jsx)(l.Z,(0,r.Z)((0,r.Z)({},e),{},{label:h,variant:"filled",InputLabelProps:{style:{color:v.palette.text.primary}},color:n.length?"success":"primary",type:"search"}))},renderOption:function(e,t){return(0,j.jsx)(m.Z,{value:t.key,image:x(t.key),text:t.label,theme:v,isSelected:n.includes(t.key),props:e},t.key)},renderTags:function(e,t){return e.map((function(e,n){var i=p.Kj.find((function(t){return e.key==="".concat(t,"_dmg_")})),a=i||void 0;return(0,o.createElement)(c.Z,(0,r.Z)((0,r.Z)({},t({index:n})),{},{key:e.key,icon:x(e.key),label:e.label,color:a}))}))}},f))}function P(e){var t=e.artSetKeys,n=e.setArtSetKeys,a=(0,i.Z)(e,y),s=(0,h.Z)(d.y.getAll,[]),l=(0,u.$)("artifact").t;return s?(0,j.jsx)(S,(0,r.Z)({allArtifactKeys:p.q2,selectedArtifactKeys:t,setArtifactKeys:n,getName:function(e){return s[e].nameRaw},getImage:function(e){return s[e].defIcon},label:l("autocompleteLabels.set")},a)):null}function A(e){var t=e.mainStatKeys,n=e.setMainStatKeys,a=(0,i.Z)(e,b),s=(0,u.$)("artifact").t;return(0,j.jsx)(S,(0,r.Z)({allArtifactKeys:f.r,selectedArtifactKeys:t,setArtifactKeys:n,getName:function(e){return x.ZP.getArtStr(e)},getImage:function(e){return Z.Z[e]},label:s("autocompleteLabels.mainStat")},a))}function K(e){var t=e.substatKeys,n=e.setSubstatKeys,a=(0,i.Z)(e,k),s=(0,u.$)("artifact").t;return(0,j.jsx)(S,(0,r.Z)({allArtifactKeys:f._,selectedArtifactKeys:t,setArtifactKeys:n,getName:function(e){return x.ZP.getArtStr(e)},getImage:function(e){return Z.Z[e]},label:s("autocompleteLabels.substat")},a))}function _(e){var t=e.allArtifactKeys,n=e.selectedArtifactKey,l=e.setArtifactKey,c=e.getName,u=e.getImage,d=e.label,x=e.disable,h=void 0===x?function(){return!1}:x,f=e.showDefault,p=void 0!==f&&f,Z=e.defaultText,g=void 0===Z?"":Z,y=(e.defaultIcon,e.flattenCorners),b=void 0!==y&&y,k=(0,i.Z)(e,w),C=(0,a.Z)(),S=(0,o.useMemo)((function(){return(p?[{key:"",label:g}]:[]).concat(t.map((function(e){return{key:e,label:c(e)}})))}),[t,c,g,p]);return(0,j.jsx)(s.Z,(0,r.Z)({autoHighlight:!0,options:S,value:{key:n,label:c(n)},onChange:function(e,t){return l(t?t.key:"")},getOptionLabel:function(e){return e.label?e.label:g},isOptionEqualToValue:function(e,t){return e.key===t.key},getOptionDisabled:function(e){return!!e.key&&h(e.key)},renderInput:function(e){return(0,j.jsx)(v.Z,(0,r.Z)((0,r.Z)({},e),{},{label:d,startAdornment:u(n),hasValue:!!n,flattenCorners:b}))},renderOption:function(e,t){return(0,j.jsx)(m.Z,{value:t.key,image:u(t.key),text:t.label,theme:C,isSelected:n===t.key,props:e},t.key)}},k))}function D(e){var t=e.allArtSetKeys,n=void 0===t?p.q2:t,a=e.artSetKey,s=e.setArtSetKey,l=e.label,c=void 0===l?"":l,o=e.flattenCorners,x=(0,i.Z)(e,C),f=(0,h.Z)(d.y.getAll,[]),m=(0,u.$)("artifact").t;return c=c||m("autocompleteLabels.set"),f?(0,j.jsx)(_,(0,r.Z)({allArtifactKeys:n,selectedArtifactKey:a,setArtifactKey:s,getName:function(e){return e&&f[e].nameRaw},getImage:function(e){return e?f[e].defIcon:(0,j.jsx)(j.Fragment,{})},label:c,flattenCorners:o},x)):null}},21977:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(29439),i=n(57621),a=n(10889),s=n(72791),l=n(60393),c=n(10600),o=n(80184);function u(e){var t=e.levelLow,n=e.levelHigh,u=e.setLow,d=e.setHigh,x=e.setBoth,h=e.dark,f=void 0!==h&&h,p=e.disabled,m=void 0!==p&&p,v=e.showLevelText,Z=void 0!==v&&v,j=(0,s.useState)(t),g=(0,r.Z)(j,2),y=g[0],b=g[1],k=(0,s.useState)(n),w=(0,r.Z)(k,2),C=w[0],S=w[1],P=(0,s.useCallback)((function(e,t){if("number"==typeof t)throw new TypeError;var n=(0,r.Z)(t,2),i=n[0],a=n[1];b(i),S(a)}),[b,S]);return(0,s.useEffect)((function(){return b(t)}),[b,t]),(0,s.useEffect)((function(){return S(n)}),[S,n]),(0,o.jsxs)(i.Z,{sx:{width:"100%",display:"flex",alignItems:"center",bgcolor:f?"contentDark.main":"contentLight.main"},children:[(0,o.jsx)(c.ZP,{value:y,onChange:function(e){return u((0,l.uZ)(e,0,n))},sx:{px:1,pl:Z?2:void 0,width:Z?100:50},inputProps:{sx:{textAlign:"center"}},startAdornment:Z?"Level: ":void 0,disabled:m}),(0,o.jsx)(a.ZP,{sx:{width:100,flexGrow:1,mx:2},getAriaLabel:function(){return"Arifact Level Range"},value:[y,C],onChange:P,onChangeCommitted:function(e,t){return x(t[0],t[1])},valueLabelDisplay:"auto",min:0,max:20,step:1,marks:!0,disabled:m}),(0,o.jsx)(c.ZP,{value:C,onChange:function(e){return d((0,l.uZ)(e,t,20))},sx:{px:1,width:50},inputProps:{sx:{textAlign:"center"}},disabled:m})]})}},37503:function(e,t,n){n.d(t,{X:function(){return q},Z:function(){return O}});var r=n(68870),i=n(20890),a=n(9585),s=n(94721),l=n(72791),c=n(2693),o=n(60393),u=n(3992),d=n(39504),x=n(88034),h=n(29439),f=n(72247),p=n(9912),m=n(24518),v=n(23786),Z=n(2199),j=n(33890),g=n(25617),y=n(66624),b=n(80184);function k(e){var t=e.conditional,n=e.disabled,r=void 0!==n&&n;return 1===Object.keys(t.states).length&&"path"in t?(0,b.jsx)(w,{conditional:t,disabled:r}):"path"in t?(0,b.jsx)(C,{conditional:t,disabled:r}):(0,b.jsx)(S,{conditional:t,disabled:r})}function w(e){var t=e.conditional,n=e.disabled,r=(0,l.useContext)(c.R),i=r.character,a=r.characterDispatch,s=r.data,u=(0,l.useCallback)((function(e){var n=(0,o.I8)(i.conditional);e?(0,o.SR)(n,t.path,e):(0,o.uH)(n,t.path),a({conditional:n})}),[t,i,a]),d=s.get(t.value).value,x=(0,h.Z)(Object.entries(t.states)[0],2),v=x[0],Z=A(x[1].name),j=K(t.name);return(0,b.jsxs)(m.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:d?"success":"primary",onClick:function(){return u(d?void 0:v)},disabled:n,startIcon:d?(0,b.jsx)(f.Z,{}):(0,b.jsx)(p.Z,{}),children:[j," ",Z]})}function C(e){var t=e.conditional,n=e.disabled,r=(0,l.useContext)(c.R),i=r.character,a=r.characterDispatch,u=r.data,d=(0,l.useCallback)((function(e){var n=(0,o.I8)(i.conditional);e?(0,o.SR)(n,t.path,e):(0,o.uH)(n,t.path),a({conditional:n})}),[t,i,a]),x=u.get(t.value).value,f=x?t.states[x]:void 0,p=f?A(f.name):(0,b.jsx)(g.Z,{color:"secondary",children:"Not Active"}),m=K(t.name);return(0,b.jsxs)(j.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:x?"success":"primary",title:(0,b.jsxs)("span",{children:[m," ",p]}),disabled:n,children:[(0,b.jsx)(v.Z,{onClick:function(){return d()},selected:!f,disabled:!f,children:(0,b.jsx)("span",{children:"Not Active"})}),(0,b.jsx)(s.Z,{}),Object.entries(t.states).map((function(e){var t=(0,h.Z)(e,2),n=t[0],r=t[1];return(0,b.jsx)(v.Z,{onClick:function(){return d(n)},selected:x===n,disabled:x===n,children:r.name},n)}))]})}function S(e){var t=e.conditional,n=e.disabled,r=(0,l.useContext)(c.R),i=r.character,a=r.characterDispatch,s=r.data,u=(0,l.useCallback)((function(e,t){var n=(0,o.I8)(i.conditional);t?(0,o.SR)(n,e,t):(0,o.uH)(n,e),a({conditional:n})}),[i,a]);return(0,b.jsx)(Z.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries(t.states).map((function(e){var t=(0,h.Z)(e,2),r=t[0],i=t[1],a=s.get(i.value).value,l=a===r;return(0,b.jsx)(m.Z,{color:l?"success":"primary",disabled:n,fullWidth:!0,onClick:function(){return u(i.path,a?void 0:r)},size:"small",startIcon:l?(0,b.jsx)(f.Z,{}):(0,b.jsx)(p.Z,{}),sx:{borderRadius:0},children:K(i.name)},r)}))})}function P(e){return"string"!==typeof e}function A(e){if(!e)return"";var t="primary",n=e;return e&&P(e)&&e.props.color&&(t=e.props.color,n=(0,b.jsx)("span",{children:e.props.children})),(0,b.jsx)(g.Z,{sx:{ml:.5},color:t,children:n})}function K(e){if(P(e)){var t=e.props.key18,n=e.props.ns,r=e.props.values;return(0,b.jsx)(y.v,{ns:n,key18:t,values:r,useBadge:!0})}return e}function _(e){var t,n=e.conditional,r=e.hideHeader,i=void 0!==r&&r,a=e.hideDesc,s=void 0!==a&&a,h=(0,l.useContext)(c.R).data;if("path"in n){var f,p=h.get(n.value).value;t=p&&(null===(f=n.states[p])||void 0===f?void 0:f.fields)}else t=Object.values(n.states).flatMap((function(e){return h.get(e.value).value?e.fields:[]}));return(0,b.jsxs)(u.Z,{children:[!(0,o.mY)(i,n)&&(0,b.jsx)(q,{header:n.header,hideDesc:s}),(0,b.jsx)(d.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,b.jsx)(k,{conditional:n})}),t&&(0,b.jsx)(x.ZP,{fields:t})]})}var D=n(55221);function O(e){var t=e.sections,n=e.teamBuffOnly,i=e.hideDesc,a=void 0!==i&&i,s=e.hideHeader,o=void 0!==s&&s,u=(0,l.useContext)(c.R).data;if(!t.length)return null;var d=t.map((function(e,t){return e.canShow&&!u.get(e.canShow).value||n&&!e.teamBuff?null:(0,b.jsx)(E,{section:e,hideDesc:a,hideHeader:o},t)})).filter((function(e){return e}));return d.length?(0,b.jsx)(r.Z,{display:"flex",flexDirection:"column",gap:1,children:d}):null}function E(e){var t=e.section,n=e.hideDesc,r=void 0!==n&&n,i=e.hideHeader,a=void 0!==i&&i;return"fields"in t?(0,b.jsx)(R,{section:t,hideDesc:r,hideHeader:a}):"states"in t?(0,b.jsx)(_,{conditional:t,hideDesc:r,hideHeader:a}):(0,b.jsx)(I,{section:t})}function R(e){var t=e.section,n=e.hideDesc,r=e.hideHeader;return(0,b.jsxs)(u.Z,{children:[!(0,o.mY)(r,t)&&t.header&&(0,b.jsx)(q,{header:t.header,hideDesc:n,hideDivider:0===t.fields.length}),(0,b.jsx)(x.ZP,{fields:t.fields})]})}function I(e){var t=e.section,n=(0,l.useContext)(c.R).data;return(0,b.jsx)("div",{children:(0,o.mY)(t.text,n)})}function q(e){var t=e.header,n=e.hideDesc,r=e.hideDivider,u=(0,l.useContext)(c.R).data,d=t.icon,x=t.title,h=t.action;d=(0,o.mY)(d,u);var f=!n&&(0,o.mY)(t.description,u),p=n?x:(0,b.jsxs)("span",{children:[x," ",(0,b.jsx)(D.Z,{title:(0,b.jsx)(i.Z,{children:f})})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.Z,{avatar:d,title:p,action:h,titleTypographyProps:{variant:"subtitle2"}}),!r&&(0,b.jsx)(s.Z,{})]})}},91732:function(e,t,n){var r=n(1413),i=n(45987),a=n(66934),s=n(13400),l=n(80184),c=["expand"],o=(0,a.ZP)((function(e){e.expand;var t=(0,i.Z)(e,c);return(0,l.jsx)(s.Z,(0,r.Z)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));t.Z=o},92443:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(1413),i=n(45987),a=n(66934),s=n(24518),l=n(80184),c=["children","disabled"],o=(0,a.ZP)(s.Z)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function u(e){var t=e.children,n=(e.disabled,(0,i.Z)(e,c));return(0,l.jsx)(o,(0,r.Z)((0,r.Z)({},n),{},{disabled:!0,children:t}))}},21206:function(e,t,n){n.d(t,{WC:function(){return Z},KX:function(){return g},SJ:function(){return j},r:function(){return P},Zu:function(){return y},xm:function(){return k},L1:function(){return S},_d:function(){return p},q8:function(){return C},qp:function(){return b},s_:function(){return w}});var r=n(4942),i=n(1413),a=n(93433),s=n(26138),l=n(73036),c=n(50609),o=n(78661),u=n(50765),d=n(60393),x=JSON.parse('{"GROW_CURVE_HP_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_ATTACK_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_HP_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652},"GROW_CURVE_ATTACK_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652}}'),h=(0,d.xh)(x,(function(e){return[0].concat((0,a.Z)(Object.values(e)))})),f=(0,d.O)(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],(function(e){return s.qH.total[e]})),p=(0,o.Qq)(s.qH.infusion.nonOverridableSelf,s.qH.infusion.team,s.qH.infusion.overridableSelf),m=(0,o.Qq)((0,o.P5)(s.qH.hit.move,{skill:s.qH.charEle,burst:s.qH.charEle},void 0),(0,o.P5)(s.qH.weaponType,{sword:p,claymore:p,polearm:p,catalyst:s.qH.charEle},void 0),"physical");function v(e){switch(e){case"normal":case"charged":case"plunging":return"auto";case"skill":return"skill";case"burst":return"burst"}}function Z(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,o.aT)(s.qH.hit.dmg,(0,l.b3)([{hit:{base:e,move:(0,o.a9)(t),ele:null!==r&&void 0!==r&&null!==(n=r.hit)&&void 0!==n&&n.ele?void 0:m}},r]))}function j(e,t){var n=(0,o.WV)(e,(0,o.Sm)(o.bf,s.qH.total.shield_));return t?(0,o.aT)(n,t):n}function g(e,t){var n=(0,o.WV)(e,(0,o.Sm)(o.bf,s.qH.total.heal_,s.qH.total.incHeal_));return t?(0,o.aT)(n,t):n}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=v(n);return Z((0,o.WV)((0,o.lp)(s.qH.total["".concat(i,"Index")],t,{key:"_"}),s.qH.total[e]),n,r)}function b(e,t,n,r){return j((0,o.Sm)((0,o.WV)(t,s.qH.total[e]),n),r)}function k(e,t,n,r){return g((0,o.Sm)((0,o.WV)(t,s.qH.total[e]),n),r)}function w(e,t,n,r,i){var a=v(r),l=s.qH.total["".concat(a,"Index")];return j((0,o.Sm)((0,o.WV)((0,o.lp)(l,t,{key:"_"}),s.qH.total[e]),(0,o.lp)(l,n)),i)}function C(e,t){return(0,o.ce)((0,o.WV)((0,o.aQ)("geo"===e?1.5:2.5),t),{variant:e})}function S(e,t,n,r,i){var a=v(r),l=s.qH.total["".concat(a,"Index")];return g((0,o.Sm)((0,o.WV)((0,o.lp)(l,t,{key:"_"}),s.qH.total[e]),(0,o.lp)(l,n)),i)}function P(e,t,n,x,p){var m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};function v(e,t){return(0,o.WV)(e,(0,o.lp)(s.qH.lvl,h[t]))}p.basic=(0,i.Z)({},f);var Z,j={charKey:(0,o.a9)(e),base:{},weaponType:(0,o.a9)(x.weaponTypeKey),premod:{},display:p};t&&(j.charEle=(0,o.a9)(t),j.teamBuff={tally:(0,r.Z)({},t,(0,o.a9)(1))},j.display.basic["".concat(t,"_dmg_")]=s.qH.total["".concat(t,"_dmg_")],j.display.reaction=c.gw[t]),n&&(0,d.SR)(j,["teamBuff","tally",n],(0,o.a9)(1)),"catalyst"!==x.weaponTypeKey&&(j.display.basic||(j.display.basic={}),j.display.basic.physical_dmg_=s.qH.total.physical_dmg_);for(var g=function(){var e=b[y],t=[];if(x.curves[e]&&t.push(v(x.base[e],x.curves[e])),x.ascensions.some((function(t){return t.props[e]}))&&t.push((0,o.lp)(s.qH.asc,x.ascensions.map((function(t){var n;return null!==(n=t.props[e])&&void 0!==n?n:NaN})))),!t.length)return"continue";var n=(0,o.ce)(1===t.length?t[0]:o.Sm.apply(void 0,t),{key:e,prefix:"char",asConst:!0});if(e.endsWith("_dmg_")&&(n.info.variant=e.slice(0,-5)),"atk"===e||"def"===e||"hp"===e)j.base[e]=n;else{if(Z)throw new Error("Duplicated Char Special");Z=!0,j.special=n,j.premod[e]=s.qH.special}},y=0,b=[].concat((0,a.Z)(u.r),["def"]);y<b.length;y++)g();return(0,l.b3)([j,(0,l.d1)(m)])}},50609:function(e,t,n){n.d(t,{gw:function(){return m}});var r=n(29439),i=n(1413),a=n(74954),s=n(24351),l=n(60393),c=n(26138),o=n(78661),u=(0,o.lp)(c.qH.lvl,[-1,91.1791,98.707664,106.23622,113.76477,121.29332,128.82188,136.35042,143.87898,151.40752,158.93608,169.99149,181.07625,192.19037,204.0482,215.939,227.86275,247.68594,267.5421,287.4312,303.82642,320.22522,336.62762,352.31927,368.01093,383.70255,394.43237,405.18146,415.94992,426.73764,437.5447,450.6,463.7003,476.84558,491.1275,502.55457,514.0121,531.4096,549.9796,568.5849,584.9965,605.67035,626.3862,646.0523,665.7556,685.4961,700.8394,723.3331,745.8653,768.4357,786.79193,809.5388,832.32904,855.16266,878.0396,899.4848,919.362,946.0396,974.7642,1003.5786,1030.077,1056.635,1085.2463,1113.9244,1149.2587,1178.0648,1200.2238,1227.6603,1257.243,1284.9174,1314.7529,1342.6652,1372.7524,1396.321,1427.3124,1458.3745,1482.3358,1511.9109,1541.5493,1569.1537,1596.8143,1622.4197,1648.074,1666.3761,1684.6782,1702.9803,1726.1047,1754.6715,1785.8666,1817.1375,1851.0603]),d=(0,o.WV)(40/9,(0,o.F9)(c.qH.total.eleMas,1400)),x=(0,o.ce)((0,o.WV)((0,o.Sm)(o.bf,d),u),{key:"crystallize",variant:"geo"}),h=(0,o.lp)(c.qH.lvl,[-1,17.165606,18.535048,19.904854,21.274902,22.6454,24.649612,26.640642,28.868587,31.36768,34.143345,37.201,40.66,44.446667,48.56352,53.74848,59.081898,64.420044,69.72446,75.12314,80.58478,86.11203,91.70374,97.24463,102.812645,108.40956,113.20169,118.102905,122.97932,129.72733,136.29291,142.67085,149.02902,155.41699,161.8255,169.10631,176.51808,184.07274,191.70952,199.55692,207.38205,215.3989,224.16566,233.50217,243.35057,256.06308,268.5435,281.52606,295.01364,309.0672,323.6016,336.75754,350.5303,364.4827,378.61917,398.6004,416.39825,434.387,452.95105,472.60623,492.8849,513.56854,539.1032,565.51056,592.53876,624.4434,651.47015,679.4968,707.79407,736.67145,765.64026,794.7734,824.67737,851.1578,877.74207,914.2291,946.74677,979.4114,1011.223,1044.7917,1077.4437,1109.9976,1142.9766,1176.3695,1210.1844,1253.8357,1288.9528,1325.4841,1363.4569,1405.0974,1446.8535]),f=(0,o.WV)(16,(0,o.F9)(c.qH.total.eleMas,2e3)),p=(0,i.Z)((0,i.Z)({},(0,l.O)(["overloaded","electrocharged","superconduct","shattered"],(function(e){var t=a.Ne[e],n=t.multi,i=(0,r.Z)(t.variants,1)[0];return(0,o.ce)((0,o.WV)((0,o.ce)((0,o.WV)(n,h),{asConst:true}),(0,o.Sm)(o.bf,f,c.qH.total["".concat(e,"_dmg_")]),c.qH.enemy["".concat(i,"_resMulti")]),{key:"".concat(e,"_hit"),variant:e})}))),{},{swirl:(0,l.O)(a.Ne.swirl.variants,(function(e){return(0,o.ce)((0,o.WV)((0,o.ce)((0,o.WV)(a.Ne.swirl.multi,h),{asConst:true}),(0,o.Sm)(o.bf,f,c.qH.total.swirl_dmg_),c.qH.enemy["".concat(e,"_resMulti")]),{key:"".concat(e,"_swirl_hit"),variant:e})}))}),m={anemo:{electroSwirl:p.swirl.electro,pyroSwirl:p.swirl.pyro,cryoSwirl:p.swirl.cryo,hydroSwirl:p.swirl.hydro,shattered:p.shattered},geo:(0,i.Z)((0,i.Z)({crystallize:x},Object.fromEntries(s.gs.map((function(e){return["".concat(e,"Crystallize"),(0,o.ce)((0,o.WV)((0,o.aQ)(2.5),x),{key:"".concat(e,"_crystallize"),variant:e})]})))),{},{shattered:p.shattered}),electro:{overloaded:p.overloaded,electrocharged:p.electrocharged,superconduct:p.superconduct,shattered:p.shattered},hydro:{electrocharged:p.electrocharged,shattered:p.shattered},pyro:{overloaded:p.overloaded,shattered:p.shattered},cryo:{superconduct:p.superconduct,shattered:p.shattered}}},15427:function(e,t,n){n.r(t),n.d(t,{default:function(){return Zi}});var r=n(29439),i=n(63833),a=n(45781),s=n(19701),l=n(35893),c=n(66630),o=n(37355),u=n(68870),d=n(47047),x=n(39504),h=n(61889),f=n(57621),p=n(20890),m=n(25228),v=n(43896),Z=n(24518),j=n(2199),g=n(23786),y=n(56125),b=n(9585),k=n(94721),w=n(89673),C=n(55818),S=n(3721),P=n(72791),A=n(22020),K=n(43504),_=n(16871),D=n(3992),O=n(71310),E=n(3082),R=n(2380),I=n(68198),q=n(91702),M=n(10600),T=n(33890),z=n(1413),L=n(53174),H=n(54483),W=n(81918),B=n(45987),V=n(49670),N=n(66934),G=n(92443),F=n(80184),U=["name","children","value","placeholder","defaultValue","onValueChange","percent","disabled","onReset"],$=(0,N.ZP)(j.Z)({display:"flex"});function Y(e){var t=e.name,n=e.children,r=e.value,i=e.placeholder,a=e.defaultValue,s=void 0===a?0:a,l=e.onValueChange,c=e.percent,o=void 0!==c&&c,u=e.disabled,d=void 0!==u&&u,x=e.onReset,h=(0,B.Z)(e,U);return(0,F.jsxs)($,(0,z.Z)((0,z.Z)({},h),{},{children:[n,(0,F.jsx)(G.Z,{sx:{whiteSpace:"nowrap"},children:t}),(0,F.jsx)(M.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,F.jsx)(M.ZP,{sx:{px:1},inputProps:{sx:{textAlign:"right"}},float:o,placeholder:i,value:r,onChange:l,disabled:d,endAdornment:o?"%":void 0})}),(0,F.jsx)(Z.Z,{onClick:function(){return x?x():l(s)},disabled:d||r===s,children:(0,F.jsx)(V.Z,{})})]}))}var J=n(2693),X=n(26138),Q=n(79406),ee=n(24351),te=n(91732),ne=n(75545);function re(){var e=(0,P.useContext)(J.R).data,t=(0,P.useState)(!1),n=(0,r.Z)(t,2),i=n[0],a=n[1],s=(0,P.useCallback)((function(){return a(!i)}),[a,i]),l=e.get(X.ri.enemy.level),c=e.get(X.ri.enemy.defRed),u=e.get(X.ri.enemy.defIgn);return(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(x.Z,{children:(0,F.jsxs)(h.ZP,{container:!0,children:[(0,F.jsx)(h.ZP,{item:!0,flexGrow:1,alignItems:"center",children:(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(W.Z,{size:"small",color:"success",label:(0,F.jsxs)("span",{children:[Q.ZP.get(l.info.key)," ",(0,F.jsx)("strong",{children:l.value})]})})}),ee.Kj.map((function(e){return(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(p.Z,{children:(0,F.jsx)(ie,{element:e})},e)},e)})),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsxs)(p.Z,{children:["DEF Reduction ",(0,Q.EC)(c.value,c.unit)]})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsxs)(p.Z,{children:["DEF Ignore ",(0,Q.EC)(u.value,u.unit)]})})]})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(te.Z,{expand:i,onClick:s,"aria-expanded":i,"aria-label":"show more",size:"small",sx:{p:0},children:(0,F.jsx)(o.Z,{})})})]})}),(0,F.jsx)(y.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,F.jsx)(x.Z,{sx:{pt:0},children:(0,F.jsx)(ae,{})})})]})}function ie(e){var t=e.element,n=(0,P.useContext)(J.R).data.get(X.ri.enemy["".concat(t,"_res_")]),r=!isFinite(n.value)?(0,F.jsxs)("span",{children:[ne.h[t]," IMMUNE"]}):(0,F.jsxs)("span",{children:[ne.h[t],"RES ",(0,F.jsx)("strong",{children:(0,Q.EC)(n.value,n.unit)})]});return(0,F.jsx)(q.Z,{color:t,children:r})}function ae(e){var t,n,r,i=e.bsProps,a=void 0===i?{xs:12,md:6}:i,s=(0,P.useContext)(J.R),l=s.data,c=s.character.enemyOverride,o=s.characterDispatch,u=null!==(t=c.enemyLevel)&&void 0!==t?t:l.get(X.ri.lvl).value,d=null!==(n=c.enemyDefIgn_)&&void 0!==n?n:0,x=null!==(r=c.enemyDefRed_)&&void 0!==r?r:0;return(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},a),{},{children:(0,F.jsx)(Z.Z,{fullWidth:!0,sx:{height:"100%"},size:"small",component:"a",color:"warning",href:"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})),(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},a),{},{children:(0,F.jsx)(Y,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:(0,F.jsx)("b",{children:Q.ZP.get("enemyLevel")}),value:u,placeholder:Q.ZP.getStr("enemyLevel"),defaultValue:l.get(X.ri.lvl).value,onValueChange:function(e){return o({type:"enemyOverride",statKey:"enemyLevel",value:e})},onReset:function(){return o({type:"enemyOverride",statKey:"enemyLevel",value:void 0})}})})),ee.Kj.map((function(e){var t="".concat(e,"_enemyRes_"),n=c[t],r=n===Number.MAX_VALUE;return(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},a),{},{children:(0,F.jsx)(Y,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:(0,F.jsx)(q.Z,{color:e,children:(0,F.jsx)("b",{children:Q.ZP.get(t)})}),value:n?r?1/0:n:10,placeholder:r?"Immune ":Q.ZP.getStr(t),defaultValue:10,onValueChange:function(e){return o({type:"enemyOverride",statKey:t,value:e})},disabled:r,percent:!0,children:(0,F.jsxs)(Z.Z,{color:e,onClick:function(){return o({type:"enemyOverride",statKey:t,value:r?10:Number.MAX_VALUE})},children:[(0,F.jsx)(H.G,{icon:r?L.a3n:L.pL1,className:"fa-fw"})," Immunity"]})})}),e)})),(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},a),{},{children:(0,F.jsx)(Y,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:(0,F.jsx)("b",{children:Q.ZP.get("enemyDefIgn_")}),value:d,placeholder:Q.ZP.getStr("enemyDefIgn_"),defaultValue:0,onValueChange:function(e){return o({type:"enemyOverride",statKey:"enemyDefIgn_",value:e})},percent:!0})})),(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},a),{},{children:(0,F.jsx)(Y,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:(0,F.jsx)("b",{children:Q.ZP.get("enemyDefRed_")}),value:x,placeholder:Q.ZP.getStr("enemyDefRed_"),defaultValue:0,onValueChange:function(e){return o({type:"enemyOverride",statKey:"enemyDefRed_",value:e})},percent:!0})})),(0,F.jsx)(h.ZP,{item:!0,xs:12,children:(0,F.jsx)("small",{children:"Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)"})})]})}var se=n(90388),le=n(21206),ce=n(91839),oe=n(25617),ue={"":(0,F.jsx)("span",{children:"No Team Melee Infusion"}),pyro:(0,F.jsxs)("span",{children:[ne.h.pyro," ",(0,F.jsx)(oe.Z,{children:"Bennett C6"})," Fire Ventures with Me"]}),cryo:(0,F.jsxs)("span",{children:[ne.h.cryo," ",(0,F.jsx)(oe.Z,{children:"Chongyun Skill"})," Spirit Blade: Chonghua's Layered Frost"]})};function de(e){var t=(0,P.useContext)(J.R),n=t.characterSheet,i=t.character.infusionAura,a=t.characterDispatch;return null!==n&&void 0!==n&&n.isMelee()?(0,F.jsx)(T.Z,(0,z.Z)((0,z.Z)({title:ue[i],color:i||"secondary",disableElevation:!0},e),{},{children:Object.entries(ue).map((function(e){var t=(0,r.Z)(e,2),n=t[0],s=t[1];return(0,F.jsx)(g.Z,{sx:n?{color:"".concat(n,".main")}:void 0,selected:n===i,disabled:n===i,onClick:function(){return a({infusionAura:n})},children:s},n)}))})):null}var xe={mx:.25,px:.25,fontSize:"1em"};function he(e){var t=(0,P.useContext)(J.R),n=t.data,r=t.character.reactionMode,i=t.characterDispatch,a=n.get(X.ri.charEle).value,s=n.get(le._d).value;return["pyro","hydro","cryo"].includes(a)||["pyro","hydro","cryo"].includes(s)?(0,F.jsxs)(ce.Z,(0,z.Z)((0,z.Z)({exclusive:!0,baseColor:"secondary",value:r,onChange:function(e,t){return i({reactionMode:t})}},e),{},{children:[(0,F.jsx)(se.Z,{value:"",disabled:""===r,children:"No Reactions"}),("pyro"===a||"pyro"===s)&&(0,F.jsxs)(se.Z,{value:"pyro_vaporize",disabled:"pyro_vaporize"===r,children:[(0,F.jsx)(q.Z,{color:"vaporize",children:"Vaporize(Pyro)"}),(0,F.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,F.jsx)(oe.Z,{sx:xe,color:"hydro",children:ne.h.hydro}),"+",(0,F.jsx)(oe.Z,{sx:xe,color:"pyro",children:ne.h.pyro})]})]}),("pyro"===a||"pyro"===s)&&(0,F.jsxs)(se.Z,{value:"pyro_melt",disabled:"pyro_melt"===r,children:[(0,F.jsx)(q.Z,{color:"melt",children:"Melt(Pyro)"}),(0,F.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,F.jsx)(oe.Z,{sx:xe,color:"cryo",children:ne.h.cryo}),"+",(0,F.jsx)(oe.Z,{sx:xe,color:"pyro",children:ne.h.pyro})]})]}),("hydro"===a||"hydro"===s)&&(0,F.jsxs)(se.Z,{value:"hydro_vaporize",disabled:"hydro_vaporize"===r,children:[(0,F.jsx)(q.Z,{color:"vaporize",children:"Vaporize(Hydro)"}),(0,F.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,F.jsx)(oe.Z,{sx:xe,color:"pyro",children:ne.h.pyro}),"+",(0,F.jsx)(oe.Z,{sx:xe,color:"hydro",children:ne.h.hydro})]})]}),("cryo"===a||"cryo"===s)&&(0,F.jsxs)(se.Z,{value:"cryo_melt",disabled:"cryo_melt"===r,children:[(0,F.jsx)(q.Z,{color:"melt",children:"Melt(Cryo)"}),(0,F.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,F.jsx)(oe.Z,{sx:xe,color:"pyro",children:ne.h.pyro}),"+",(0,F.jsx)(oe.Z,{sx:xe,color:"cryo",children:ne.h.cryo})]})]})]})):null}function fe(e){var t=(0,P.useContext)(J.R),n=t.character.hitMode,r=t.characterDispatch;return(0,F.jsxs)(ce.Z,(0,z.Z)((0,z.Z)({exclusive:!0,baseColor:"secondary",value:n,onChange:function(e,t){return r({hitMode:t})}},e),{},{children:[(0,F.jsx)(se.Z,{value:"avgHit",disabled:"avgHit"===n,children:"Avg. DMG"}),(0,F.jsx)(se.Z,{value:"hit",disabled:"hit"===n,children:"Non Crit DMG"}),(0,F.jsx)(se.Z,{value:"critHit",disabled:"critHit"===n,children:"Crit Hit DMG"})]}))}var pe=n(55942),me=n(2139),ve=n(53343),Ze=n(74165),je=n(93433),ge=n(15861),ye=n(31148),be=n(947),ke=n(60393),we=n(66218),Ce={title:(0,F.jsx)(q.Z,{color:"warning",children:"ERROR"})},Se=(0,z.Z)({normal:"Normal Atk.",charged:"Charged Atk.",plunging:"Plunging Atk.",skill:"Ele. Skill",burst:"Ele. Burst",passive:"Passive",passive1:"1st Asc. Pass.",passive2:"4th Asc. Pass.",passive3:"Util. Pass."},Object.fromEntries((0,ke.w6)(1,6).map((function(e){return["constellation".concat(e),"Const. ".concat(e)]}))));function Pe(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,ge.Z)((0,Ze.Z)().mark((function e(t,n){var i,a,s,l,c,o,u,d,x,h,f,m,v;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",Ce);case 2:if("basic"!==n){e.next=6;break}return e.abrupt("return",{title:"Basic Stats"});case 6:if("reaction"!==n){e.next=10;break}return e.abrupt("return",{title:"Transformative Reactions"});case 10:if(!n.includes(":")){e.next=31;break}if(i=n.split(":"),a=(0,r.Z)(i,2),s=a[0],l=a[1],"artifact"!==s){e.next=21;break}return e.next=15,ye.y.get(l);case 15:if(c=e.sent){e.next=18;break}return e.abrupt("return",Ce);case 18:return e.abrupt("return",{title:c.name,icon:c.defIconSrc});case 21:if("weapon"!==s){e.next=29;break}return e.next=24,we.Z.get(l);case 24:if(o=e.sent){e.next=27;break}return e.abrupt("return",Ce);case 27:return u=t.get(X.qH.weapon.asc).value,e.abrupt("return",{title:o.name,icon:u<2?o.img:o.imgAwaken});case 29:e.next=44;break;case 31:if(d=t.get(X.qH.charKey).value,x=t.get(X.qH.charEle).value,d&&x){e.next=35;break}return e.abrupt("return",Ce);case 35:return e.next=37,be.Z.get(d);case 37:if(h=e.sent,f=["normal","charged","plunging"].includes(n)?"auto":n,m=null===h||void 0===h?void 0:h.getTalentOfKey(f,x)){e.next=42;break}return e.abrupt("return",Ce);case 42:return v=Se[n],e.abrupt("return",{icon:m.img,title:m.name,action:v?(0,F.jsx)(oe.Z,{children:(0,F.jsx)(p.Z,{variant:"subtitle2",children:v})}):void 0});case 44:return e.abrupt("return",Ce);case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){var t=e.getDisplay(),n=Object.entries(t).filter((function(e){var t=(0,r.Z)(e,2),n=(t[0],t[1]);return!Object.values(n).every((function(e){return e.isEmpty}))})),i=n.filter((function(e){return"basic"===(0,r.Z)(e,1)[0]})),a=n.filter((function(e){return"reaction"===(0,r.Z)(e,1)[0]})),s=n.filter((function(e){return(0,r.Z)(e,1)[0].startsWith("weapon")})),l=n.filter((function(e){return(0,r.Z)(e,1)[0].startsWith("artifact")})),c=n.filter((function(e){var t=(0,r.Z)(e,1)[0];return"basic"!==t&&"reaction"!==t&&!t.startsWith("weapon")&&!t.startsWith("artifact")}));return[].concat((0,je.Z)(i),(0,je.Z)(c),(0,je.Z)(s),(0,je.Z)(l),(0,je.Z)(a))}var _e=n(50920),De=n(53561),Oe=n(42320),Ee=n(47639),Re=n(72056),Ie=n(30168),qe=n(97719),Me=n(95193),Te=n(40165),ze=n(30418),Le=n(37503);function He(e){var t,n=e.setKey,r=e.setNumKey,i=e.hideHeader,a=void 0!==i&&i,s=e.conditionalsOnly,l=void 0!==s&&s,c=(0,Oe.Z)(ye.y.get(n),[n]);if(!c)return null;var o=l?null===(t=c.setEffectDocument(r))||void 0===t?void 0:t.filter((function(e){return"states"in e})):c.setEffectDocument(r);return(0,F.jsx)(u.Z,{display:"flex",flexDirection:"column",children:o?(0,F.jsx)(Le.Z,{sections:o,hideHeader:a}):null})}var We=n(95614),Be=n(16002),Ve=n(52791),Ne=n(88034),Ge=n(78661);function Fe(){var e=Ke((0,P.useContext)(J.R).data);return(0,F.jsx)(Ve.Z,{sx:{mr:-1,mb:-1},children:(0,F.jsx)(Be.ZP,{columns:{xs:1,sm:2,md:3,xl:4},spacing:1,children:e.map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,F.jsx)(Ue,{displayNs:i,sectionKey:n},n)}))})})}function Ue(e){var t=e.displayNs,n=e.sectionKey,i=(0,P.useContext)(J.R),a=i.data,s=i.oldData,l=(0,Oe.Z)(Pe(a,n),[a,n]),c=(0,P.useMemo)((function(){return(0,ke.xh)(t,(function(e,t){return(0,Ge.UF)(["display",n,t])}))}),[t,n]);if(!l)return(0,F.jsx)(D.Z,{});var o=l.title,u=l.icon,d=l.action;return(0,F.jsxs)(D.Z,{children:[(0,F.jsx)(b.Z,{avatar:u&&(0,F.jsx)(pe.Z,{size:2,sx:{m:-1},src:u}),title:o,action:d,titleTypographyProps:{variant:"subtitle1"}}),(0,F.jsx)(k.Z,{}),(0,F.jsx)(x.Z,{children:Object.entries(t).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,F.jsx)(Ne.JW,{node:i,oldValue:s?s.get(c[n]).value:void 0},n)}))})]})}var $e=n(56928),Ye=n(72838),Je=n(90543);function Xe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,P.useState)(e),n=(0,r.Z)(t,2),i=n[0],a=n[1],s=(0,P.useCallback)((function(){return a(!0)}),[a]),l=(0,P.useCallback)((function(){return a(!1)}),[a]);return[i,s,l]}var Qe=n(68544),et=n(2191),tt=n(9321),nt=n(44824),rt=n(70645),it=n(46956),at=n(96739),st=n(99405),lt=n(98268),ct=n(63204),ot=n(66647),ut=n(13967),dt=n(12065),xt=n(19272),ht=n(63372),ft=n(96106),pt=n(20005),mt=n(50428);function vt(e){var t,n,r=e.artifactId,i=e.slotKey,a=e.mainStatAssumptionLevel,s=void 0===a?0:a,l=e.showLocation,c=void 0!==l&&l,o=e.onClick,d=e.BGComponent,x=void 0===d?D.Z:d,h=(0,ht.Z)(r),f=(0,Oe.Z)(ye.y.get(null===h||void 0===h?void 0:h.setKey),[h]),m=(0,P.useCallback)((function(e){return(0,F.jsx)(ot.Z,{onClick:o,sx:{height:"100%"},children:e})}),[o]),v=(0,ut.Z)();if(!h)return(0,F.jsx)(x,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:(0,F.jsx)(u.Z,{component:"img",src:et.Z.slot[i],sx:{width:"25%",height:"auto",opacity:.7}})});var Z=h.slotKey,j=h.rarity,g=h.level,y=h.mainStatKey,b=h.substats,k=h.location,w=Math.max(Math.min(s,4*j),g),C=Q.ZP.unit(y),S="roll"+(Math.floor(Math.max(g,0)/4)+1),A=ee.Kj.find((function(e){return h.mainStatKey.includes(e)})),K=A?(0,dt.Fq)(v.palette[A].main,.6):(0,dt.Fq)(v.palette.secondary.main,.6);return(0,F.jsx)(x,{sx:{height:"100%"},children:(0,F.jsx)(pt.Z,{condition:!!o,wrapper:m,children:(0,F.jsxs)(u.Z,{display:"flex",height:"100%",children:[(0,F.jsxs)(u.Z,{className:"grad-".concat(j,"star"),sx:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,F.jsx)(mt.Z,{slotKey:Z,sheet:f,children:(0,F.jsx)(u.Z,{component:"img",src:null!==(t=null===f||void 0===f?void 0:f.slotIcons[Z])&&void 0!==t?t:"",sx:{m:-1,maxHeight:"110%",maxWidth:"110%"}})}),(0,F.jsxs)(u.Z,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[(0,F.jsx)(W.Z,{size:"small",label:(0,F.jsx)("strong",{children:" +".concat(g)}),color:S}),c&&(0,F.jsx)(W.Z,{size:"small",label:(0,F.jsx)(jt,{location:k}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),(0,F.jsx)(W.Z,{size:"small",sx:{position:"absolute",bottom:0,mb:1,backgroundColor:K},label:(0,F.jsxs)(p.Z,{variant:"h6",sx:{display:"flex",gap:1,px:1,zIndex:1},children:[(0,F.jsx)(ft.Z,{placement:"top",title:(0,F.jsx)(p.Z,{children:Q.ZP.getArtStr(y)}),disableInteractive:!0,children:(0,F.jsx)("span",{children:A?ne.h[A]:ne.Z[y]})}),(0,F.jsxs)(q.Z,{color:w!==g?"warning":void 0,children:[(0,Q.qs)(null!==(n=xt.Z.mainStatValue(y,j,w))&&void 0!==n?n:0,Q.ZP.unit(y)),C]})]})})]}),(0,F.jsx)(u.Z,{display:"flex",flexDirection:"column",justifyContent:"space-between",sx:{p:1},children:b.map((function(e,t){return(0,F.jsx)(Zt,{stat:e},t+e.key)}))})]})})})}function Zt(e){var t,n,r=e.stat;if(!r.value)return null;var i=null!==(t=null===(n=r.rolls)||void 0===n?void 0:n.length)&&void 0!==t?t:0,a="roll".concat((0,ke.uZ)(i,1,6)),s=Q.ZP.unit(r.key);return(0,F.jsx)(u.Z,{display:"flex",gap:1,alignContent:"center",children:(0,F.jsxs)(p.Z,{sx:{flexGrow:1,display:"flex",gap:1},color:i?"".concat(a,".main"):"error.main",component:"span",children:[(0,F.jsx)(ft.Z,{placement:"top",title:(0,F.jsx)(p.Z,{children:r.key&&Q.ZP.getArtStr(r.key)}),disableInteractive:!0,children:(0,F.jsx)("span",{children:ne.Z[r.key]})}),(0,F.jsx)("span",{children:"".concat((0,Q.qs)(r.value,Q.ZP.unit(r.key))).concat(s)})]})})}function jt(e){var t=e.location,n=(0,Oe.Z)(be.Z.get(null!==t&&void 0!==t?t:""),[t]);return n?(0,F.jsx)(ft.Z,{placement:"right-end",title:(0,F.jsx)(p.Z,{children:n.name}),children:(0,F.jsx)(pe.Z,{src:n.thumbImgSide,sx:{height:"3em",marginTop:"-1.5em",marginLeft:"-0.5em"}})}):(0,F.jsx)(ct.Z,{})}var gt,yt,bt=n(73036),kt=n(74480),wt=n(41717);function Ct(e){var t=e.weaponId,n=e.showLocation,r=void 0!==n&&n,i=e.onClick,a=e.BGComponent,s=void 0===a?D.Z:a,l=(0,kt.Z)(t),c=(0,Oe.Z)((null===l||void 0===l?void 0:l.key)&&we.Z.get(l.key),[null===l||void 0===l?void 0:l.key]),o=(0,P.useCallback)((function(e){return(0,F.jsx)(ot.Z,{sx:{height:"100%"},onClick:i,children:e})}),[i]),x=(0,P.useMemo)((function(){return c&&l&&(0,bt.mP)([c.data,(0,bt.v0)(l)])}),[c,l]);if(!l||!c||!x)return(0,F.jsx)(s,{sx:{height:"100%"},children:(0,F.jsx)(d.Z,{variant:"rectangular",sx:{width:"100%",height:"100%"}})});var h=l.refinement,f=l.location;return(0,F.jsx)(s,{sx:{height:"100%"},children:(0,F.jsx)(pt.Z,{condition:!!i,wrapper:o,children:(0,F.jsxs)(u.Z,{display:"flex",height:"100%",alignItems:"stretch",children:[(0,F.jsxs)(u.Z,{className:"grad-".concat(c.rarity,"star"),sx:{height:"100%",position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:[(0,F.jsx)(wt.Z,{sheet:c,children:(0,F.jsx)(u.Z,{component:"img",src:c.img,sx:{mx:-1,maxHeight:"100%",maxWidth:"100%"}})}),(0,F.jsxs)(u.Z,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[(0,F.jsx)(W.Z,{size:"small",label:(0,F.jsx)("strong",{children:we.Z.getLevelString(l)}),color:"primary"}),r&&(0,F.jsx)(W.Z,{size:"small",label:(0,F.jsx)(Pt,{location:f}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),(0,F.jsx)(u.Z,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},children:c.hasRefinement&&(0,F.jsx)(W.Z,{size:"small",color:"info",label:(0,F.jsxs)("strong",{children:["R",h]})})})]}),(0,F.jsxs)(u.Z,{display:"flex",flexDirection:"column",sx:{p:1},children:[(0,F.jsx)(St,{node:x.get(X.qH.weapon.main)}),(0,F.jsx)(St,{node:x.get(X.qH.weapon.sub)})]})]})})})}function St(e){var t=e.node;if(!t.info.key)return null;var n=(0,Q.EC)(t.value,t.unit,t.unit?void 0:0);return(0,F.jsx)(u.Z,{display:"flex",gap:1,alignContent:"center",children:(0,F.jsxs)(p.Z,{sx:{flexGrow:1,display:"flex",gap:1},component:"span",children:[(0,F.jsx)(ft.Z,{placement:"top",title:(0,F.jsx)(p.Z,{children:t.info.key&&Q.ZP.getArtStr(t.info.key)}),disableInteractive:!0,children:(0,F.jsx)("span",{children:ne.Z[t.info.key]})}),(0,F.jsx)("span",{children:n})]})})}function Pt(e){var t=e.location,n=(0,Oe.Z)(be.Z.get(null!==t&&void 0!==t?t:""),[t]);return n?(0,F.jsx)(ft.Z,{placement:"right-end",title:(0,F.jsx)(p.Z,{children:n.name}),children:(0,F.jsx)(pe.Z,{src:n.thumbImgSide,sx:{height:"3em",marginTop:"-1.5em",marginLeft:"-0.5em"}})}):(0,F.jsx)(ct.Z,{})}function At(e){var t=e.index,n=e.compareBuild,i=e.extraButtons,a=e.disabled,s=(0,P.useContext)($e.t).database,l=(0,P.useContext)(J.R),c=l.character,o=l.data,u=l.oldData,f=l.mainStatAssumptionLevel,m=(0,Oe.Z)(ye.y.getAll,[]),v=(0,P.useState)(void 0),j=(0,r.Z)(v,2),g=j[0],y=j[1],b=(0,P.useCallback)((function(){return y(void 0)}),[y]),k=(0,P.useCallback)((function(){if(window.confirm("Do you want to equip this build to this character?")){var e=Object.fromEntries(ee.eV.map((function(e){return[e,o.get(X.ri.art[e].id).value]})));s.equipArtifacts(c.key,e),s.setWeaponLocation(o.get(X.ri.weapon.id).value,c.key)}}),[c,o,s]);if(!c||!m||!u)return null;var w=ee.eV.every((function(e){return o.get(X.ri.art[e].id).value===u.get(X.ri.art[e].id).value}))&&o.get(X.ri.weapon.id).value===u.get(X.ri.weapon.id).value,C=(0,z.Z)({},l);n||(C.oldData=void 0);var S={};return ee.eV.forEach((function(e){var t=o.get(X.ri.art[e].set).value;t&&(S[t]?S[t].push(e):S[t]=[e])})),(0,F.jsx)(O.Z,{children:(0,F.jsxs)(P.Suspense,{fallback:(0,F.jsx)(d.Z,{variant:"rectangular",width:"100%",height:600}),children:[g&&(0,F.jsx)(Kt,{newOld:g,mainStatAssumptionLevel:f,onClose:b}),(0,F.jsxs)(x.Z,{children:[(0,F.jsxs)(Ve.Z,{display:"flex",gap:1,sx:{pb:1},flexWrap:"wrap",children:[void 0!==t&&(0,F.jsx)(oe.Z,{color:"info",children:(0,F.jsx)(p.Z,{children:(0,F.jsxs)("strong",{children:["#",t+1,w?" (Equipped)":""]})})}),Object.entries(S).sort((function(e,t){var n=(0,r.Z)(e,2),i=(n[0],n[1]),a=(0,r.Z)(t,2);a[0];return a[1].length-i.length})).map((function(e){var t,n=(0,r.Z)(e,2),i=n[0],a=n[1];return(0,F.jsx)(Ve.Z,{children:(0,F.jsx)(oe.Z,{color:w?"success":"primary",children:(0,F.jsxs)(p.Z,{children:[a.map((function(e){return(0,We.Ir)(e)}))," ",null!==(t=null===m||void 0===m?void 0:m[i].name)&&void 0!==t?t:""]})})},i)})),(0,F.jsx)(Ve.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end"}}),(0,F.jsx)(Z.Z,{size:"small",color:"success",onClick:k,disabled:a||w,children:"Equip Build"}),i]}),(0,F.jsxs)(h.ZP,{container:!0,spacing:1,sx:{pb:1},children:[(0,F.jsx)(h.ZP,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,F.jsx)(Ct,{showLocation:!0,weaponId:o.get(X.ri.weapon.id).value})}),ee.eV.map((function(e){return(0,F.jsx)(h.ZP,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,F.jsx)(vt,{showLocation:!0,slotKey:e,artifactId:o.get(X.ri.art[e].id).value,mainStatAssumptionLevel:f,onClick:function(){var t=c.equippedArtifacts[e],n=o.get(X.ri.art[e].id).value;y({oldId:t!==n?t:void 0,newId:n})}})},e)}))]}),(0,F.jsx)(J.R.Provider,{value:C,children:(0,F.jsx)(Fe,{})})]})]})})}function Kt(e){var t=e.newOld,n=t.newId,r=t.oldId,i=e.mainStatAssumptionLevel,a=e.onClose;return(0,F.jsx)(tt.Z,{open:!!n,onClose:a,containerProps:{maxWidth:r?"md":"xs"},children:(0,F.jsx)(D.Z,{children:(0,F.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2,height:"100%"},children:[r&&(0,F.jsx)(Ve.Z,{children:(0,F.jsx)(Ye.Z,{artifactId:r,mainStatAssumptionLevel:i,disableEditSetSlot:!0,canExclude:!0,canEquip:!0})}),r&&(0,F.jsx)(Ve.Z,{display:"flex",flexGrow:1}),r&&(0,F.jsx)(Ve.Z,{display:"flex",alignItems:"center",justifyContent:"center",children:(0,F.jsx)(O.Z,{sx:{display:"flex"},children:(0,F.jsx)(lt.Z,{sx:{fontSize:40}})})}),r&&(0,F.jsx)(Ve.Z,{display:"flex",flexGrow:1}),(0,F.jsx)(Ve.Z,{children:(0,F.jsx)(Ye.Z,{artifactId:n,mainStatAssumptionLevel:i,disableEditSetSlot:!0,canExclude:!0,canEquip:!0})})]})})})}function _t(e){var t=e.artId,n=e.weaponId,i=(0,A.$)("page_character").t,a=Xe(!1),s=(0,r.Z)(a,3),l=s[0],c=s[1],o=s[2],u=(0,P.useContext)($e.t).database,x=(0,P.useContext)(J.R),h=x.character,f=x.character,m=f.key,v=f.equippedArtifacts,j=x.characterSheet,g=x.data,y=x.mainStatAssumptionLevel,b=x.characterDispatch,k=(0,P.useMemo)((function(){var e=u._getArt(null!==t&&void 0!==t?t:""),n=(0,ke.xh)(v,(function(t,n){return n===(null===e||void 0===e?void 0:e.slotKey)?e:u._getArt(t)}));return Object.values(n)}),[u,v,t]),w=(0,Ee.Z)(m,y,k,n?u._getWeapon(n):void 0);return w?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(tt.Z,{open:l,onClose:o,containerProps:{maxWidth:"xl"},children:(0,F.jsx)(P.Suspense,{fallback:(0,F.jsx)(d.Z,{variant:"rectangular",width:"100%",height:600}),children:(0,F.jsx)(J.R.Provider,{value:{characterSheet:j,character:h,characterDispatch:b,mainStatAssumptionLevel:y,data:w[m].target,teamData:w,oldData:g},children:(0,F.jsx)(At,{compareBuild:!0,extraButtons:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(fe,{size:"small"}),(0,F.jsx)(he,{size:"small"}),(0,F.jsx)(Z.Z,{size:"small",color:"error",onClick:o,children:(0,F.jsx)(at.Z,{})})]})})})})}),(0,F.jsx)(Te.Z,{title:(0,F.jsx)(p.Z,{children:i(gt||(gt=(0,Ie.Z)(["tabEquip.compare"])))}),placement:"top",arrow:!0,children:(0,F.jsx)(Z.Z,{color:"info",size:"small",onClick:c,children:(0,F.jsx)(st.Z,{})})})]}):null}var Dt={xs:6,sm:6,md:9,lg:12,xl:12},Ot=(0,P.lazy)((function(){return n.e(23).then(n.bind(n,80367))}));function Et(e){var t=e.onChangeId,n=e.slotKey,i=e.show,a=e.onClose,s=(0,A.$)("page_character").t,l=(0,P.useContext)($e.t).database,c=(0,P.useCallback)((function(e){t(e),a()}),[t,a]),o=(0,P.useCallback)((function(e,t){return(0,z.Z)((0,z.Z)((0,z.Z)({},e),t),{},{slotKeys:[n]})}),[n]),f=(0,P.useReducer)(o,(0,z.Z)((0,z.Z)({},(0,nt.Af)()),{},{slotKeys:[n]})),m=(0,r.Z)(f,2),v=m[0],Z=m[1],j=(0,Qe.Z)(),g=(0,r.Z)(j,2),y=g[0],b=g[1];(0,P.useEffect)((function(){return l.followAnyArt(b)}),[l,b]);var w=(0,rt.Z)(),C=(0,P.useMemo)((function(){return(0,nt.EM)()}),[]),S=(0,P.useMemo)((function(){var e=(0,it.C)(v,C);return y&&l._getArts().filter(e).map((function(e){return e.id})).slice(0,Dt[w])}),[y,l,C,v,w]);return(0,F.jsx)(tt.Z,{open:i,onClose:a,containerProps:{maxWidth:"xl"},children:(0,F.jsxs)(D.Z,{children:[(0,F.jsxs)(x.Z,{sx:{py:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,F.jsxs)(p.Z,{variant:"h6",children:[n?(0,F.jsx)(pe.Z,{src:et.Z.slot[n]}):null," ",s(yt||(yt=(0,Ie.Z)(["tabEquip.swapArt"])))]}),(0,F.jsx)(I.Z,{onClick:a})]}),(0,F.jsx)(k.Z,{}),(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(P.Suspense,{fallback:(0,F.jsx)(d.Z,{variant:"rectangular",width:"100%",height:200}),children:(0,F.jsx)(Ot,{filterOption:v,filterOptionDispatch:Z})}),(0,F.jsx)(u.Z,{mt:1,children:(0,F.jsx)(P.Suspense,{fallback:(0,F.jsx)(d.Z,{variant:"rectangular",width:"100%",height:300}),children:(0,F.jsx)(h.ZP,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:S.map((function(e){return(0,F.jsx)(h.ZP,{item:!0,xs:1,children:(0,F.jsx)(Ye.Z,{artifactId:e,extraButtons:(0,F.jsx)(_t,{artId:e}),onClick:c})},e)}))})})})]})]})})}var Rt,It,qt,Mt,Tt,zt=n(10157),Lt=n(66045);function Ht(e){var t=e.onChangeId,n=e.weaponTypeKey,i=e.show,a=e.onClose,s=(0,A.$)("page_character").t,l=(0,P.useContext)($e.t).database,c=(0,P.useCallback)((function(e){t(e),a()}),[t,a]),o=(0,Qe.Z)(),d=(0,r.Z)(o,2),f=d[0],m=d[1];(0,P.useEffect)((function(){return l.followAnyWeapon(m)}),[m,l]);var v=(0,Oe.Z)(we.Z.getAll,[]),Z=(0,P.useMemo)((function(){return v&&(0,Lt.Xg)(v)}),[v]),j=(0,P.useMemo)((function(){return v&&(0,Lt.Sn)(v)}),[v]),g=(0,P.useState)([5,4,3]),y=(0,r.Z)(g,2),b=y[0],w=y[1],C=(0,P.useMemo)((function(){var e;return null!==(e=Z&&j&&f&&l._getWeapons().filter((0,it.C)({weaponType:n,rarity:b},Z)).sort((0,it.e)("level",!1,j)).map((function(e){return e.id})))&&void 0!==e?e:[]}),[f,l,Z,j,b,n]);return(0,F.jsx)(tt.Z,{open:i,onClose:a,children:(0,F.jsxs)(D.Z,{children:[(0,F.jsx)(x.Z,{sx:{py:1},children:(0,F.jsxs)(h.ZP,{container:!0,children:[(0,F.jsx)(h.ZP,{item:!0,flexGrow:1,children:(0,F.jsxs)(p.Z,{variant:"h6",children:[n?(0,F.jsx)(pe.Z,{src:et.Z.weaponTypes[n]}):null," ",s(Rt||(Rt=(0,Ie.Z)(["tabEquip.swapWeapon"])))]})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(I.Z,{onClick:a})})]})}),(0,F.jsx)(k.Z,{}),(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(u.Z,{mb:1,children:(0,F.jsx)(ce.Z,{sx:{height:"100%"},onChange:function(e,t){return w(t)},value:b,size:"small",children:ee.wC.map((function(e){return(0,F.jsx)(se.Z,{value:e,children:(0,F.jsxs)(u.Z,{display:"flex",gap:1,children:[(0,F.jsx)("strong",{children:e}),(0,F.jsx)(zt.t,{stars:1})]})},e)}))})}),(0,F.jsx)(h.ZP,{container:!0,spacing:1,children:C.map((function(e){return(0,F.jsx)(h.ZP,{item:!0,xs:6,sm:6,md:4,lg:3,children:(0,F.jsx)(Je.Z,{weaponId:e,onClick:c,extraButtons:(0,F.jsx)(_t,{weaponId:e})})},e)}))})]})]})})}var Wt=(0,P.lazy)((function(){return n.e(923).then(n.bind(n,74476))}));var Bt=function(){var e=(0,A.$)("page_character").t,t=(0,P.useContext)(J.R),n=t.teamData,i=t.data,a=t.character,s=t.character,l=s.equippedWeapon,c=s.key,o=s.equippedArtifacts,d=t.characterSheet,f=t.mainStatAssumptionLevel,p=n[c].weaponSheet,m=(0,P.useState)(""),v=(0,r.Z)(m,2),j=v[0],g=v[1],y=(0,P.useCallback)((function(){return g(l)}),[l]),b=(0,P.useCallback)((function(){return g("")}),[]);(0,P.useEffect)((function(){j&&j!==l&&g(l)}),[j,l]);var k=(0,P.useContext)($e.t).database,w=(0,Oe.Z)(ye.y.getAll,[]),C=(0,Qe.Z)(),S=(0,r.Z)(C,2)[1];(0,P.useEffect)((function(){return k.followAnyArt(S)}));var K=(0,P.useMemo)((function(){return!!Object.values(o).filter((function(e){return e})).length}),[o]),_=(0,P.useCallback)((function(){a&&window.confirm("Do you want to move all currently equipped artifacts to inventory?")&&k.equipArtifacts(a.key,(0,ke.O)(ee.eV,(function(e){return""})))}),[a,k]),D=(0,P.useMemo)((function(){return w&&ye.y.setEffects(w,i)}),[w,i]),E=(0,ze.Z)(),R=(0,Me.Z)(E.breakpoints.up("xl")),I=(0,P.useMemo)((function(){return w&&D&&Object.entries(D).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,F.jsx)(O.Z,{sx:{flexGrow:1},children:(0,F.jsx)(x.Z,{children:(0,F.jsx)(h.ZP,{container:!0,spacing:1,flexDirection:"column",height:"100%",children:(0,F.jsx)(h.ZP,{item:!0,display:"flex",flexDirection:"column",gap:2,children:i.map((function(e){return(0,F.jsx)(He,{setKey:n,setNumKey:e},n+e)}))})})})},n)}))}),[w,D]),q=(0,P.useMemo)((function(){return p.document.length>0&&(0,F.jsx)(O.Z,{children:(0,F.jsx)(x.Z,{children:(0,F.jsx)(Le.Z,{sections:p.document})})})}),[p]);return(0,F.jsxs)(u.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,F.jsx)(P.Suspense,{fallback:!1,children:(0,F.jsx)(Wt,{weaponId:j,footer:!0,onClose:b,extraButtons:(0,F.jsx)(Gt,{weaponTypeKey:d.weaponTypeKey})})}),(0,F.jsx)(O.Z,{children:(0,F.jsx)(x.Z,{children:(0,F.jsx)(Fe,{})})}),(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[R&&(0,F.jsxs)(h.ZP,{item:!0,xs:12,md:12,xl:3,sx:{display:"flex",flexDirection:"column",gap:1},children:[q,K&&(0,F.jsx)(Z.Z,{color:"error",onClick:_,fullWidth:!0,children:e(It||(It=(0,Ie.Z)(["tabEquip.unequipArts"])))}),I]}),(0,F.jsxs)(h.ZP,{item:!0,xs:12,md:12,xl:9,container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,display:"flex",flexDirection:"column",gap:1,children:(0,F.jsx)(Je.Z,{weaponId:l,onEdit:y,canEquip:!0,extraButtons:(0,F.jsx)(Nt,{weaponTypeKey:d.weaponTypeKey})})}),ee.eV.map((function(e){return(0,F.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,children:i.get(X.ri.art[e].id).value?(0,F.jsx)(Ye.Z,{artifactId:i.get(X.ri.art[e].id).value,mainStatAssumptionLevel:f,extraButtons:(0,F.jsx)(Ft,{slotKey:e}),editor:!0,canExclude:!0,canEquip:!0}):(0,F.jsx)(Vt,{slotKey:e})},e)}))]}),!R&&(0,F.jsxs)(h.ZP,{item:!0,xs:12,md:12,xl:3,container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:4,children:q}),(0,F.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:4,children:I})]})]})]})};function Vt(e){var t=e.slotKey,n=(0,P.useContext)(J.R).character.key,i=(0,P.useContext)($e.t).database,a=Xe(),s=(0,r.Z)(a,3),l=s[0],c=s[1],o=s[2];return(0,F.jsxs)(O.Z,{sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[(0,F.jsx)(x.Z,{children:(0,F.jsx)(p.Z,{children:(0,F.jsx)(We.ZP,{slotKey:t})})}),(0,F.jsx)(k.Z,{}),(0,F.jsxs)(u.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,F.jsx)(Et,{slotKey:t,show:l,onClose:o,onChangeId:function(e){return i.setArtLocation(e,n)}}),(0,F.jsx)(Z.Z,{onClick:c,color:"info",sx:{borderRadius:"1em"},children:(0,F.jsx)(qe.Z,{sx:{height:100,width:100}})})]})]})}function Nt(e){var t=e.weaponTypeKey,n=(0,A.$)("page_character").t,i=(0,P.useContext)(J.R).character.key,a=(0,P.useContext)($e.t).database,s=Xe(),l=(0,r.Z)(s,3),c=l[0],o=l[1],u=l[2];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Te.Z,{title:(0,F.jsx)(p.Z,{children:n(qt||(qt=(0,Ie.Z)(["tabEquip.swapWeapon"])))}),placement:"top",arrow:!0,children:(0,F.jsx)(Z.Z,{color:"info",size:"small",onClick:o,children:(0,F.jsx)(qe.Z,{})})}),(0,F.jsx)(Ht,{weaponTypeKey:t,onChangeId:function(e){return a.setWeaponLocation(e,i)},show:c,onClose:u})]})}function Gt(e){var t=e.weaponTypeKey,n=(0,A.$)("page_character").t,i=(0,P.useContext)(J.R).character.key,a=(0,P.useContext)($e.t).database,s=Xe(),l=(0,r.Z)(s,3),c=l[0],o=l[1],u=l[2];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Z.Z,{color:"info",onClick:o,startIcon:(0,F.jsx)(qe.Z,{}),children:n(Mt||(Mt=(0,Ie.Z)(["tabEquip.swapWeapon"])))}),(0,F.jsx)(Ht,{weaponTypeKey:t,onChangeId:function(e){return a.setWeaponLocation(e,i)},show:c,onClose:u})]})}function Ft(e){var t=e.slotKey,n=(0,A.$)("page_character").t,i=(0,P.useContext)(J.R).character.key,a=(0,P.useContext)($e.t).database,s=Xe(),l=(0,r.Z)(s,3),c=l[0],o=l[1],u=l[2];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Te.Z,{title:(0,F.jsx)(p.Z,{children:n(Tt||(Tt=(0,Ie.Z)(["tabEquip.swapArt"])))}),placement:"top",arrow:!0,children:(0,F.jsx)(Z.Z,{color:"info",size:"small",onClick:o,children:(0,F.jsx)(qe.Z,{})})}),(0,F.jsx)(Et,{slotKey:t,show:c,onClose:u,onChangeId:function(e){return a.setArtLocation(e,i)}})]})}var Ut=n(94070),$t=n(23060);function Yt(){return new Worker(n.p+"static/js/BackgroundWorker.e6da42fd.worker.js")}var Jt=n(21977),Xt=n(30865),Qt=n(14525),en=n(69292),tn=n(20323),nn=n(17278),rn=n(9138),an=n(9274),sn=n(37762),ln=n(64737);function cn(e,t,n,r,i,a){for(var s=a,l={pruneNodeRange:!0},c={pruneNodeRange:!0},o={reaffine:!0},u={pruneOrder:!0,pruneArtRange:!0,pruneNodeRange:!0},d=0;Object.values(s).some((function(e){return e}))&&d++<20;){if(s.pruneOrder){delete s.pruneOrder;var x=un(n,r,i);n!==x&&(n=x,s=(0,z.Z)((0,z.Z)({},s),l))}if(s.pruneArtRange){delete s.pruneArtRange;var h=dn(e,n,t);n!==h&&(n=h,s=(0,z.Z)((0,z.Z)({},s),c))}if(s.pruneNodeRange){delete s.pruneNodeRange;var f=xn(e,n);e!==f&&(e=f,s=(0,z.Z)((0,z.Z)({},s),o))}if(s.reaffine){delete s.reaffine;var p=on(e,n),m=p.nodes,v=p.arts;e===m&&n===v||(e=m,n=v,s=(0,z.Z)((0,z.Z)({},s),u))}}return{nodes:e,arts:n}}function on(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Set,a=new Set;function s(e,t){t?i.add(e):e.operands.forEach((function(e){var t=e;i.has(t)&&a.add(t)}))}var l=new Set;if((0,ln.aD)(e,(function(e){}),(function(e){var t=e.operation;switch(t){case"read":if("number"!==e.type||"dyn"!==e.path[0]||"add"!==e.accu)throw new Error("Found unsupported ".concat(t," node at path ").concat(e.path," when computing affine nodes"));l.add(e.path[1]),s(e,!0);break;case"add":s(e,e.operands.every((function(e){return i.has(e)})));break;case"mul":var n=e.operands.filter((function(e){return"const"!==e.operation}));s(e,0===n.length||1===n.length&&i.has(n[0]));break;case"const":if("string"===typeof e.value||void 0===e.value)throw new Error("Found constant ".concat(e.value," while compacting"));s(e,!0);break;case"res":case"threshold":case"sum_frac":case"max":case"min":s(e,!1);break;case"data":case"subscript":case"lookup":case"match":case"prio":case"small":throw new Error("Found unsupported ".concat(t," node when computing affine nodes"));default:(0,ke.UT)(t)}})),(0,je.Z)(a).every((function(e){var t=e.operation;return"read"===t||"const"===t}))&&Object.keys(t.base).length===l.size)return{nodes:e,arts:t};var c=-1;function o(){for(;l.has("".concat(++c)););return"".concat(c)}e.forEach((function(e){return i.has(e)&&a.add(e)}));var u=(0,je.Z)(a).filter((function(e){return"const"!==e.operation})),d=new Map(u.map((function(e){return[e,n||"read"!==e.operation||"dyn"!==e.path[0]?(0,z.Z)((0,z.Z)({},(0,Ge.UF)(["dyn","".concat(o())])),{},{accu:"add"}):e]})));function x(e){var t=(0,en.CG)((0,je.Z)(d.keys()),{dyn:(0,ke.xh)(e,(function(e){return(0,Ge.a9)(e)}))},(function(e){return!0}));return Object.fromEntries((0,je.Z)(d.values()).map((function(e,n){return[e.path[1],t[n].value]})))}for(var h={nodes:e=(0,ln.uW)(e,(function(e){var t;return null!==(t=d.get(e))&&void 0!==t?t:e}),(function(e){return e})),arts:{base:x(t.base),values:(0,ke.O)(ee.eV,(function(e){return t.values[e].map((function(e){return{id:e.id,set:e.set,values:x(e.values)}}))}))}},f=Object.entries(x({})),p=0,m=Object.values(h.arts.values);p<m.length;p++){var v,Z=m[p],j=(0,sn.Z)(Z);try{for(j.s();!(v=j.n()).done;){var g,y=v.value.values,b=(0,sn.Z)(f);try{for(b.s();!(g=b.n()).done;){var k=(0,r.Z)(g.value,2),w=k[0],C=k[1];y[w]-=C}}catch(S){b.e(S)}finally{b.f()}}}catch(S){j.e(S)}finally{j.f()}}return h}function un(e,t,n){var i=!1,a=(0,ke.O)(ee.eV,(function(a){var s=e.values[a],l=s.filter((function(e){var i=0;return s.every((function(a){var s=Object.entries(a.values).every((function(t){var n=(0,r.Z)(t,2),i=n[0];return n[1]>=e.values[i]})),l=Object.entries(a.values).some((function(t){var n=(0,r.Z)(t,2),i=n[0];return n[1]>e.values[i]}));return!s||!(l||a.id>e.id)||n.has(e.set)&&e.set!==a.set||i++,i<t}))}));return l.length!==s.length&&(i=!0),l}));return i?{base:e.base,values:a}:e}function dn(e,t,n){for(var i=Object.fromEntries(Object.entries(t.base).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return[n,{min:i,max:i}]}))),a={arts:t},s=function(){var t=(0,ke.O)(ee.eV,(function(e){return fn(a.arts.values[e])})),r=(0,ke.O)(ee.eV,(function(e){return hn(Object.entries(t).map((function(t){return t[0]===e?i:t[1]})).filter((function(e){return e})))})),s=!1,l=(0,ke.O)(ee.eV,(function(t){var i=a.arts.values[t].filter((function(i){var a=hn([fn([i]),r[t]]),s=pn(e,a);return e.every((function(e,t){var r;return s.get(e).max>=(null!==(r=n[t])&&void 0!==r?r:-1/0)}))}));return i.length!==a.arts.values[t].length&&(s=!0),i}));if(!s)return"break";a.arts={base:a.arts.base,values:l}};;){if("break"===s())break}return a.arts}function xn(e,t){var n=pn(e,hn([Object.fromEntries(Object.entries(t.base).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return[n,{min:i,max:i}]})))].concat((0,je.Z)(Object.values(t.values).map((function(e){return fn(e)}))))));return(0,ln.uW)(e,(function(e){var t=e.operation,i=e.operands.map((function(e){return n.get(e)}));switch(t){case"threshold":var a=(0,r.Z)(i,4),s=a[0],l=a[1],c=a[2],o=a[3];if(s.min>=l.max)return e.operands[2];if(s.max<l.min)return(0,Ge.a9)(0);if(c.max===c.min&&o.max===o.min&&c.min===o.min&&isFinite(c.min))return(0,Ge.a9)(c.max);break;case"min":var u=e.operands.filter((function(e,t){var n=i[t];return i.every((function(e,t){return n.min<=e.max}))}));if(u.length<i.length)return Ge.VV.apply(void 0,(0,je.Z)(u));break;case"max":var d=e.operands.filter((function(e,t){var n=i[t];return i.every((function(e){return n.max>=e.min}))}));if(d.length<i.length)return Ge.Fp.apply(void 0,(0,je.Z)(d))}return e}),(function(e){return e}))}function hn(e){var t={};return e.forEach((function(e){Object.entries(e).forEach((function(e){var n=(0,r.Z)(e,2),i=n[0],a=n[1];t[i]?(t[i].min+=a.min,t[i].max+=a.max):t[i]=(0,z.Z)({},a)}))})),t}function fn(e){var t={};return e.length&&(Object.keys(e[0].values).filter((function(t){return e.every((function(e){return e.values[t]}))})).forEach((function(n){return t[n]={min:e[0].values[n],max:e[0].values[n]}})),e.forEach((function(e){for(var n=e.values,i=0,a=Object.entries(n);i<a.length;i++){var s=(0,r.Z)(a[i],2),l=s[0],c=s[1];t[l]?(t[l].max<c&&(t[l].max=c),t[l].min>c&&(t[l].min=c)):t[l]={min:0,max:c}}}))),t}function pn(e,t){var n=new Map;return(0,ln.aD)(e,(function(e){}),(function(e){var i,a,s=e,l=s.operation,c=s.operands.map((function(e){return n.get(e)}));switch(l){case"read":if("dyn"!==s.path[0])throw new Error("Found non-dyn path ".concat(s.path," while computing range"));a=null!==(i=t[s.path[1]])&&void 0!==i?i:{min:0,max:0};break;case"const":a=mn([s.value]);break;case"subscript":a=mn(s.list);break;case"add":case"min":case"max":a={min:en.aj[l](c.map((function(e){return e.min}))),max:en.aj[l](c.map((function(e){return e.max})))};break;case"res":a={min:en.aj[l]([c[0].max]),max:en.aj[l]([c[0].min])};break;case"mul":a=c.reduce((function(e,t){return mn([e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max])}));break;case"threshold":a=c[0].min>=c[1].max?c[2]:c[0].max<c[1].min?mn([0]):mn([0],[c[2]]);break;case"sum_frac":var o=(0,r.Z)(c,2),u=o[0],d=o[1],x={min:u.min+d.min,max:u.max+d.max};a=x.min<=0&&x.max>=0?u.min<=0&&u.max>=0?{min:NaN,max:NaN}:{min:-1/0,max:1/0}:mn([u.min/x.min,u.min/x.max,u.max/x.min,u.max/x.max]);break;case"data":case"lookup":case"match":throw new Error("Unsupported ".concat(l," node"));default:(0,ke.UT)(l)}n.set(s,a)})),n}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Math.max.apply(Math,(0,je.Z)(e).concat((0,je.Z)(t.map((function(e){return e.max}))))),r=Math.min.apply(Math,(0,je.Z)(e).concat((0,je.Z)(t.map((function(e){return e.min})))));return{min:r,max:n}}function vn(e,t){return{base:e.base,values:(0,ke.O)(ee.eV,(function(n){var r=t[n];switch(r.kind){case"id":return e.values[n].filter((function(e){return r.ids.has(e.id)}));case"exclude":return e.values[n].filter((function(e){return!r.sets.has(e.set)}));case"required":return e.values[n].filter((function(e){return r.sets.has(e.set)}))}}))}}function Zn(e,t){return e.flatMap((function(e){return e})).sort((function(e,t){return t.value-e.value})).slice(0,t)}function jn(e){for(var t=.01,n=new Set(e.flatMap((function(e){return Object.values(e).map((function(e){return Math.round(e.plot/t)}))})));n.size>1500;)t*=2,n=new Set((0,je.Z)(n).map((function(e){return Math.round(e/2)})));var r,i={},a=(0,sn.Z)(e);try{for(a.s();!(r=a.n()).done;)for(var s=r.value,l=0,c=Object.values(s);l<c.length;l++){var o=c[l],u=Math.round(o.plot/t)*t;(!i[u]||i[u].value<o.value)&&(i[u]=o)}}catch(d){a.e(d)}finally{a.f()}return i}function gn(e){return ee.eV.reduce((function(t,n){return t*e.values[n].length}),1)}var yn=n(55221),bn=n(66624),kn=n(18327);function wn(e){var t=e.disabled,n=(0,P.useContext)(J.R).character,i=(0,P.useState)(!1),a=(0,r.Z)(i,2),s=a[0],l=a[1],c=(0,P.useCallback)((function(){return l(!0)}),[l]),o=(0,P.useCallback)((function(){return l(!1)}),[l]),u=(0,P.useMemo)((function(){return Object.keys(n.conditional).filter((function(e){return ee.q2.includes(e)&&0!==Object.keys(n.conditional[e]).length})).length}),[n]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Z.Z,{fullWidth:!0,onClick:c,disabled:t,color:"info",children:(0,F.jsxs)("span",{children:["Default Artifact Set Effects Conditionals ",!!u&&(0,F.jsxs)(oe.Z,{color:"success",children:[u," Selected"]})]})}),(0,F.jsx)(Cn,{open:s,onClose:o,artifactCondCount:u})]})}function Cn(e){var t=e.open,n=e.onClose,i=e.artifactCondCount,a=(0,P.useContext)(J.R),s=a.character,l=a.characterDispatch,c=(0,Oe.Z)(ye.y.getAll,[]),o=(0,P.useCallback)((function(){var e=Object.fromEntries(Object.entries(s.conditional).filter((function(e){var t=(0,r.Z)(e,2),n=t[0];t[1];return!ee.q2.includes(n)})));l({conditional:e})}),[s,l]);if(!c)return null;var d=Object.entries(ye.y.setKeysByRarities(c)).reverse().flatMap((function(e){return(0,r.Z)(e,2)[1]}));return(0,F.jsx)(tt.Z,{open:t,onClose:n,children:(0,F.jsxs)(D.Z,{children:[(0,F.jsx)(x.Z,{children:(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,flexGrow:1,children:(0,F.jsxs)(p.Z,{variant:"h6",children:["Default Artifact Set Effects ",!!i&&(0,F.jsxs)(oe.Z,{color:"success",children:[i," Selected"]})]})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(Z.Z,{onClick:o,color:"error",startIcon:(0,F.jsx)(V.Z,{}),children:"Reset All"})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(I.Z,{onClick:n})})]})}),(0,F.jsx)(k.Z,{}),(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(O.Z,{sx:{mb:1},children:(0,F.jsx)(x.Z,{children:(0,F.jsx)(p.Z,{children:"Some artifacts provide conditional stats. This windows allows you to select those stats, so they can take effect during build calculation, when artifact sets are not specified."})})}),(0,F.jsx)(h.ZP,{container:!0,spacing:1,children:d.map((function(e){var t,n,r=c[e];return Object.values(r.setEffects).some((function(e){return e.document&&e.document.some((function(e){return"states"in e}))}))?(0,F.jsx)(h.ZP,{item:!0,xs:6,lg:4,children:(0,F.jsxs)(O.Z,{sx:{height:"100%"},children:[(0,F.jsxs)(u.Z,{className:"grad-".concat(r.rarity[0],"star"),width:"100%",sx:{display:"flex"},children:[(0,F.jsx)(u.Z,{component:"img",src:r.defIconSrc,sx:{height:100,width:"auto"}}),(0,F.jsxs)(u.Z,{sx:{flexGrow:1,px:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,F.jsx)(p.Z,{variant:"h6",children:null!==(t=r.name)&&void 0!==t?t:""}),(0,F.jsxs)(u.Z,{display:"flex",gap:1,children:[(0,F.jsx)(p.Z,{variant:"subtitle1",children:r.rarity.map((function(e,t){return(0,F.jsxs)("span",{children:[e," ",(0,F.jsx)(zt.t,{stars:1})," ",t<r.rarity.length-1?"/ ":null]},e)}))}),(0,F.jsx)(yn.Z,{title:(0,F.jsx)(p.Z,{children:(0,F.jsx)(bn.v,{ns:"artifact_".concat(e,"_gen"),key18:"setEffects.4"})})})]})]})]}),(0,F.jsx)(J.R.Provider,{value:(n=a,(0,z.Z)((0,z.Z)({},n),{},{data:new kn.w((0,z.Z)((0,z.Z)({},n.data.data[0]),{},{artSet:(0,ke.O)(ee.q2,(function(e){return(0,Ge.a9)(4)}))}),void 0)})),children:(0,F.jsx)(x.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:Object.keys(r.setEffects).filter((function(e){var t;return null===(t=r.setEffects[e])||void 0===t?void 0:t.document.some((function(e){return"states"in e}))})).map((function(t){return(0,F.jsx)(He,{setKey:e,setNumKey:parseInt(t),hideHeader:!0,conditionalsOnly:!0},t)}))})})]})},e):null}))})]}),(0,F.jsx)(k.Z,{}),(0,F.jsx)(x.Z,{sx:{py:1},children:(0,F.jsx)(I.Z,{large:!0,onClick:n})})]})})}var Sn=n(36030);function Pn(e){var t,n,r,i=e.index,a=e.setFilters,s=e.onChange,l=e.disabled,c=void 0!==l&&l,o=a[i],u=o.key,d=o.num,h=(0,A.$)("page_character").t,f=(0,Oe.Z)(ye.y.getAll,[]),p=(0,P.useMemo)((function(){if(f)return ee.q2.filter((function(e){var t=e?Object.keys(f[e].setEffects):[],n=a.reduce((function(e,t,n){return t.key&&n!==i?e+t.num:e}),0);return!t.every((function(e){return parseInt(e)+n>5}))}))}),[f,a,i]);if(!p)return null;var m=a.reduce((function(e,t){return t.key?e+t.num:e}),0);return(0,F.jsxs)(O.Z,{children:[(0,F.jsxs)(j.Z,{sx:{width:"100%"},children:[f&&(0,F.jsx)(Sn.Y4,{flattenCorners:!0,showDefault:!0,size:"small",artSetKey:u,setArtSetKey:function(e){var t,n,r;return s(i,e,null!==(t=parseInt(Object.keys(null!==(n=null===(r=f[e])||void 0===r?void 0:r.setEffects)&&void 0!==n?n:{})[0]))&&void 0!==t?t:0)},allArtSetKeys:p,label:h("forceSet"),disabled:c,sx:{flexGrow:1},disable:function(e){return a.some((function(t){return t.key===e}))},defaultText:h("none")}),(0,F.jsx)(T.Z,{title:"".concat(d,"-set"),disabled:c||!u||m>=5,sx:{borderRadius:0},children:Object.keys(null!==(t=null===f||void 0===f||null===(n=f[u])||void 0===n?void 0:n.setEffects)&&void 0!==t?t:{}).map((function(e){var t=a.reduce((function(e,t){return t.key&&t.key!==u?e+t.num:e}),0);return parseInt(e)+t<=5&&(0,F.jsx)(g.Z,{onClick:function(){var t;return s(i,a[i].key,null!==(t=parseInt(e))&&void 0!==t?t:0)},children:"".concat(e,"-set")},e)}))})]}),!!u&&(0,F.jsx)(k.Z,{}),!!u&&(0,F.jsx)(x.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:Object.keys(null!==(r=null===f||void 0===f?void 0:f[u].setEffects)&&void 0!==r?r:{}).map((function(e){return parseInt(e)})).filter((function(e){return e<=d})).map((function(e){return(0,F.jsx)(He,{setKey:u,setNumKey:e},u+e)}))})]})}var An=[0,4,8,12,16,20];function Kn(e){var t=e.mainStatAssumptionLevel,n=void 0===t?0:t,r=e.setmainStatAssumptionLevel,i=e.disabled,a=(0,A.$)("page_character").t;return(0,F.jsx)(T.Z,{fullWidth:!0,color:n?"success":"primary",disabled:i,title:n?a("tabOptimize.assumptionLvl.lvl",{lvl:n}):a("tabOptimize.assumptionLvl.no"),children:An.map((function(e){return(0,F.jsx)(g.Z,{onClick:function(){return r(e)},children:e?a("tabOptimize.assumptionLvl.lvl",{lvl:e}):a("tabOptimize.assumptionLvl.no")},e)}))})}function _n(){var e=(0,P.useContext)(J.R),t=e.data,n=e.character,r=Object.keys(null===n||void 0===n?void 0:n.bonusStats);if(!r.length)return null;var i=r.map((function(e){return t.get(X.ri.customBonus[e])}));return(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(x.Z,{sx:{py:1},children:(0,F.jsx)(p.Z,{children:"Bonus Stats"})}),(0,F.jsx)(k.Z,{}),(0,F.jsx)(x.Z,{children:i.map((function(e){return(0,F.jsx)(Ne.JW,{node:e},e.info.key)}))})]})}var Dn=n(57482),On=n(52771),En=1e7,Rn=(0,N.ZP)("strong")({fontFamily:"monospace"}),In=(0,N.ZP)(Dn.Z)((function(e){e.theme;return{height:10,borderRadius:5}}));function qn(e){var t,n,r,i,a=e.totBuildNumber,s=e.generatingBuilds,l=e.generationSkipped,c=e.generationProgress,o=e.generationDuration,u=e.characterName,d=e.maxBuildsToShow,x=null!==(t=null===a||void 0===a?void 0:a.toLocaleString())&&void 0!==t?t:a,f=a-l,m=null!==(n=null===c||void 0===c?void 0:c.toLocaleString())&&void 0!==n?n:c,v=null!==(r=null===l||void 0===l?void 0:l.toLocaleString())&&void 0!==r?r:l,Z=null!==(i=null===f||void 0===f?void 0:f.toLocaleString())&&void 0!==i?i:f,j=!!l&&(0,F.jsxs)("span",{children:["(",(0,F.jsx)("b",{children:v})," skipped)"]}),g="success",y="",b="",k=void 0;return s?(k=100*c/f,y=(0,F.jsxs)(p.Z,{children:["Generating and testing ",(0,F.jsxs)(Rn,{children:[m,"/",Z]})," build configurations against the criteria for ",(0,F.jsx)("b",{children:u}),". ",j]}),b=(0,F.jsxs)(p.Z,{children:["Time elapsed: ",(0,F.jsx)(Rn,{children:(0,On.e6)(Math.round(o))})]})):!s&&c?(k=100,y=(0,F.jsxs)(p.Z,{children:["Generated and tested ",(0,F.jsx)(Rn,{children:Z})," Build configurations against the criteria for ",(0,F.jsx)("b",{children:u}),". ",j]}),b=(0,F.jsxs)(p.Z,{children:["Total duration: ",(0,F.jsx)(Rn,{children:(0,On.e6)(Math.round(o))})]})):0===a?(y=(0,F.jsxs)(p.Z,{children:["Current configuration will not generate any builds for ",(0,F.jsx)("b",{children:u}),". Please change your Artifact configurations, or add/include more Artifacts."]}),g="error"):a>En?(y=(0,F.jsxs)(p.Z,{children:["Current configuration will generate ",(0,F.jsx)(Rn,{children:x})," potential builds for ",(0,F.jsx)("b",{children:u}),". This might take quite a while to generate..."]}),g="warning"):y=(0,F.jsxs)(p.Z,{children:["Current configuration ",a<=d?"generated":"will generate"," ",(0,F.jsx)(Rn,{children:x})," builds for ",(0,F.jsx)("b",{children:u}),"."]}),(0,F.jsxs)(Ut.Z,{severity:g,variant:"filled",sx:{"& .MuiAlert-message":{flexGrow:1}},children:[y&&y,b&&b,void 0!==k&&(0,F.jsxs)(h.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(p.Z,{children:"".concat(k.toFixed(1),"%")})}),(0,F.jsx)(h.ZP,{item:!0,flexGrow:1,children:(0,F.jsx)(In,{variant:"determinate",value:k,color:"primary"})})]})]})}var Mn=n(94294),Tn=n(72247),zn=n(9912),Ln=n(72456),Hn=n(19913),Wn=n(37389),Bn=n(82839),Vn=n(90466),Nn=n(12891),Gn=n(42633),Fn=n(27281),Un=n(64694),$n=n(62066);function Yn(e){var t=e.chartData,n=e.plotBase,i=e.setPlotBase,a=e.disabled,s=void 0!==a&&a,l=(0,P.useState)(!1),c=(0,r.Z)(l,2),o=c[0],u=c[1],d=(0,P.useState)(!0),f=(0,r.Z)(d,2),m=f[0],v=f[1],j=(0,P.useContext)(J.R).data,b=["atk","hp","def","eleMas","critRate_","critDMG_","heal_","enerRech_"];"catalyst"!==j.get(X.ri.weaponType).value&&b.push("physical_dmg_"),b.push("".concat(j.get(X.ri.charEle).value,"_dmg_"));var w=(0,P.useMemo)((function(){var e,n;if(!t)return{displayData:null,downloadData:null};var r,i=t.data.map((function(e){var t=e.value;return{x:e.plot,y:t}})).sort((function(e,t){return e.x-t.x})),a=[],s=(0,sn.Z)(i);try{for(s.s();!(r=s.n()).done;){for(var l=r.value,c=void 0;c=a.pop();)if(c.y>l.y){a.push(c);break}a.push(l)}}catch(u){s.e(u)}finally{s.f()}(null===(e=a[0])||void 0===e?void 0:e.x)!==(null===(n=i[0])||void 0===n?void 0:n.x)&&(i[0].min=a[0].y),a.forEach((function(e){e.min=e.y}));var o={minimum:a.map((function(e){return[e.x,e.y]})),allData:i.map((function(e){return[e.x,e.y]}))};return{displayData:i,downloadData:o}}),[t]),C=w.displayData,S=w.downloadData;return(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(x.Z,{children:(0,F.jsxs)(h.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(p.Z,{variant:"h6",children:"Optimization Target vs"})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsxs)(T.Z,{title:n?Q.ZP.get(n):"Not Selected",color:n?"success":"primary",disabled:s,children:[(0,F.jsx)(g.Z,{onClick:function(){i("")},children:"Unselect"}),(0,F.jsx)(k.Z,{}),b.map((function(e){return(0,F.jsx)(g.Z,{onClick:function(){i(e)},children:Q.ZP.get(e)},e)}))]})}),(0,F.jsx)(h.ZP,{item:!0,flexGrow:1,children:(0,F.jsx)(Te.Z,{placement:"top",title:"Using data from the builder, this will generate a graph to visualize Optimization Target vs. a selected stat. The graph will show the maximum Optimization Target value per 0.01 of the selected stat.",children:(0,F.jsx)(Mn.Z,{})})}),!!S&&(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(Z.Z,{startIcon:m?(0,F.jsx)(Tn.Z,{}):(0,F.jsx)(zn.Z,{}),color:m?"success":"secondary",onClick:function(){return v(!m)},children:"Show Min Stat Threshold"})}),!!S&&(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(Z.Z,{color:"info",startIcon:(0,F.jsx)(Ln.Z,{}),onClick:function(){return u(!o)},children:"Download Data"})})]})}),!!C&&(0,F.jsx)(k.Z,{}),t&&!!C&&(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(y.Z,{in:!!S&&o,children:(0,F.jsx)(D.Z,{sx:{mb:2},children:(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(p.Z,{children:"Min Data"}),(0,F.jsx)(Xn,{data:null===S||void 0===S?void 0:S.minimum}),(0,F.jsx)(p.Z,{children:"All Data"}),(0,F.jsx)(Xn,{data:null===S||void 0===S?void 0:S.allData})]})})}),(0,F.jsx)(Qn,{displayData:C,plotNode:t.plotNode,valueNode:t.valueNode,showMin:m})]})]})}var Jn=(0,N.ZP)("textarea")({width:"100%",fontFamily:"monospace",resize:"vertical",minHeight:"5em"});function Xn(e){var t=e.data;return(0,F.jsx)(Jn,{readOnly:!0,value:JSON.stringify(t),onClick:function(e){var t=e.target;t.selectionStart=0,t.selectionEnd=t.value.length}})}function Qn(e){var t,n,r=e.displayData,i=e.plotNode,a=e.valueNode,s=e.showMin,l=Q.ZP.unit(null===(t=i.info)||void 0===t?void 0:t.key),c=Q.ZP.unit(null===(n=a.info)||void 0===n?void 0:n.key);return(0,F.jsx)(Hn.h,{width:"100%",height:600,children:(0,F.jsxs)(Wn.c,{data:r,children:[(0,F.jsx)(Bn.q,{strokeDasharray:"3 3"}),(0,F.jsx)(Vn.K,{dataKey:"x",scale:"linear",unit:l,domain:["auto","auto"],tick:{fill:"white"},type:"number",tickFormatter:function(e){return e>1e4?e.toFixed():e.toFixed(1)}}),(0,F.jsx)(Nn.B,{name:"DMG",domain:["auto","auto"],unit:c,allowDecimals:!1,tick:{fill:"white"},type:"number"}),(0,F.jsx)(Gn.d,{dataKey:"y",range:[3,25]}),(0,F.jsx)(Fn.D,{}),(0,F.jsx)(Un.b,{name:"Optimization Target",dataKey:"y",fill:"#8884d8",line:!0,lineType:"fitting",isAnimationActive:!1}),s&&(0,F.jsx)($n.x,{name:"Minimum Stat Requirement Threshold",dataKey:"min",stroke:"#ff7300",type:"stepBefore",connectNulls:!0,strokeWidth:2,isAnimationActive:!1})]})})}var er=["sands","goblet","circlet"];function tr(e){var t=e.mainStatKeys,n=e.onChangeMainStatKey,r=e.disabled,i=void 0!==r&&r,a=(0,A.$)("artifact").t;return(0,F.jsx)(Ve.Z,{display:"flex",flexDirection:"column",gap:1,children:er.map((function(e){var r=t[e].length;return(0,F.jsxs)(Ve.Z,{children:[(0,F.jsx)(k.Z,{}),(0,F.jsxs)(x.Z,{sx:{pt:1},children:[(0,F.jsxs)(Ve.Z,{sx:{display:"flex",gap:1,alignItems:"center",pb:1},children:[(0,F.jsx)(ft.Z,{placement:"top",title:(0,F.jsx)(p.Z,{children:a("slotName.".concat(e))}),children:(0,F.jsx)("span",{children:(0,We.Ir)(e)})}),(0,F.jsx)(Ve.Z,{flexGrow:1,children:(0,F.jsx)(oe.Z,{color:"info",children:r?"".concat(r," Selected"):"Any"})}),(0,F.jsx)(Z.Z,{color:"error",size:"small",disabled:!t[e].length||i,sx:{mt:-1,mb:-1},onClick:function(){return n(e)},children:(0,F.jsx)(V.Z,{})})]}),(0,F.jsx)(h.ZP,{container:!0,spacing:1,children:xt.Z.slotMainStats(e).map((function(r,a){var s=ee.Kj.find((function(e){return r.includes(e)})),l=t[e].includes(r)?null!==s&&void 0!==s?s:"success":"secondary";return(0,F.jsx)(h.ZP,{item:!0,flexGrow:1,xs:a<3?4:void 0,children:(0,F.jsx)(ft.Z,{placement:"top",title:(0,F.jsx)(p.Z,{children:(0,F.jsx)("strong",{children:Q.ZP.getArtStr(r)})}),disableInteractive:!0,children:(0,F.jsx)(Z.Z,{fullWidth:!0,size:"small",color:l,sx:{fontSize:"1.2em",height:"100%",pointerEvents:i?"none":void 0,cursor:i?"none":void 0},onClick:function(){return n(e,r)},children:s?ne.h[s]:ne.Z[r]})})},r)}))})]})]},e)}))})}var nr=n(25028),rr=(0,N.ZP)(Z.Z)({color:"black",backgroundColor:"white","&:hover":{backgroundColor:"#e1e1e1"}});function ir(e){var t=e.optimizationTarget,n=e.setTarget,i=e.disabled,a=void 0!==i&&i,s=(0,P.useState)(!1),l=(0,r.Z)(s,2),c=l[0],o=l[1],u=(0,P.useCallback)((function(){return!a&&o(!0)}),[o,a]),d=(0,P.useCallback)((function(){return o(!1)}),[o]),h=(0,P.useCallback)((function(e){d(),n(e)}),[d,n]),f=Ke((0,P.useContext)(J.R).data);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(rr,{onClick:u,disabled:a,children:(0,F.jsx)(lr,{optimizationTarget:t})}),(0,F.jsx)(tt.Z,{open:c,onClose:d,children:(0,F.jsx)(D.Z,{children:(0,F.jsx)(x.Z,{children:(0,F.jsx)(Be.ZP,{columns:{xs:1,sm:2,md:3},spacing:1,children:f.map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,F.jsx)(ar,{displayNs:i,sectionKey:n,setTarget:h},n)}))})})})})]})}function ar(e){var t=e.displayNs,n=e.sectionKey,i=e.setTarget,a=(0,P.useContext)(J.R).data,s=(0,Oe.Z)(Pe(a,n),[a,n]);return!s||Object.values(t).every((function(e){return e.isEmpty}))?null:(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(b.Z,{avatar:s.icon&&(0,F.jsx)(pe.Z,{size:2,sx:{m:-1},src:s.icon}),title:s.title,action:s.action,titleTypographyProps:{variant:"subtitle1"}}),(0,F.jsx)(k.Z,{}),(0,F.jsx)(nr.Z,{children:Object.entries(t).map((function(e){var t=(0,r.Z)(e,2),a=t[0],s=t[1];return(0,F.jsx)(cr,{node:s,onClick:function(){return i([n,a])}},a)}))})]},n)}function sr(){return(0,F.jsx)("b",{children:"Select an Optimization Target"})}function lr(e){var t=e.optimizationTarget,n=(0,P.useContext)(J.R).data,r=(0,Oe.Z)(t&&Pe(n,t[0]),[n,t]);if(!t||!r)return(0,F.jsx)(sr,{});var i=(0,ke.Hm)(n.getDisplay(),t);return i?(0,F.jsxs)("b",{children:[r.title," : ",(0,F.jsx)(q.Z,{color:i.info.variant,children:Q.ZP.get(i.info.key)})]}):(0,F.jsx)(sr,{})}function cr(e){var t=e.node,n=e.onClick;return t.isEmpty?null:(0,F.jsx)(g.Z,{onClick:n,style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,F.jsx)(q.Z,{color:t.info.variant,children:Q.ZP.get(t.info.key)})})}var or=n(16614),ur=n(89841),dr=n(70558),xr=n(1235),hr=n(68125),fr=n(68087),pr=n(76899),mr=n(52991),vr=n(84684),Zr=n(77208),jr=n(13434),gr=navigator.hardwareConcurrency||4;function yr(){return{equipmentPriority:[],threads:gr}}function br(){return(0,nn.Z)("TabOptimize",yr)}function kr(e){var t=e.useEquippedArts,n=e.buildSettingsDispatch,i=e.disabled,a=(0,A.$)("page_character").t,s=(0,P.useContext)(J.R).character.key,l=(0,P.useContext)($e.t).database,c=Xe(!1),o=(0,r.Z)(c,3),d=o[0],f=o[1],m=o[2],v=br(),g=(0,r.Z)(v,2),y=g[0].equipmentPriority,b=g[1],w=(0,P.useMemo)((function(){return(0,je.Z)(new Set(y)).filter((function(e){return l._getChar(e)}))}),[l,y]),C=(0,P.useCallback)((function(e){return b({equipmentPriority:e})}),[b]),S=(0,P.useCallback)((function(e,t){var n=(0,je.Z)(w),r=n[e];n.splice(e,1),n.splice(t,0,r),C(n)}),[w,C]),K=(0,P.useCallback)((function(e){var t=(0,je.Z)(w);t.splice(e,1),C(t)}),[w,C]),_=(0,P.useCallback)((function(e){return C([].concat((0,je.Z)(w),[e]))}),[w,C]),E=(0,P.useCallback)((function(){return C([])}),[C]),R=(0,P.useMemo)((function(){var e=w.length,t=w.indexOf(s);return t>=0&&(e=t),e}),[s,w]),q=(0,P.useMemo)((function(){return l._getCharKeys().length-1-R}),[R,l]),M=(0,P.useMemo)((function(){return l._getCharKeys().length-w.length}),[w,l]);return(0,F.jsxs)(u.Z,{display:"flex",gap:1,children:[(0,F.jsx)(tt.Z,{open:d,onClose:m,containerProps:{maxWidth:"sm"},children:(0,F.jsxs)(D.Z,{children:[(0,F.jsx)(x.Z,{children:(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,flexGrow:1,children:(0,F.jsx)(p.Z,{variant:"h6",children:(0,F.jsx)(pr.c,{t:a,i18nKey:"tabOptimize.useEquipped.modal.title",children:"Character Priority for Equipped Artifacts"})})}),(0,F.jsx)(h.ZP,{item:!0,sx:{mb:-1},children:(0,F.jsx)(I.Z,{onClick:m})})]})}),(0,F.jsx)(k.Z,{}),(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(O.Z,{sx:{mb:1},children:(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(p.Z,{gutterBottom:!0,children:(0,F.jsx)(pr.c,{t:a,i18nKey:"tabOptimize.useEquipped.modal.desc1",children:"When generating a build, the Optimizer will only consider equipped artifacts from characters below the current character or those not on the list."})}),(0,F.jsx)(p.Z,{gutterBottom:!0,children:(0,F.jsx)(pr.c,{t:a,i18nKey:"tabOptimize.useEquipped.modal.desc2",children:"If the current character is not on the list, the Optimizer will only consider equipped artifacts from others characters that are not on the list."})})]})}),(0,F.jsxs)(u.Z,{display:"flex",flexDirection:"column",gap:2,children:[w.map((function(e,t){return(0,F.jsx)(wr,{characterKey:e,rank:t+1,maxRank:w.length,setRank:function(e){return e&&S(t,e-1)},onRemove:function(){return K(t)},numAbove:R},e)})),(0,F.jsxs)(u.Z,{sx:{display:"flex",gap:1},children:[(0,F.jsx)(Cr,{onAdd:_,list:w}),(0,F.jsx)(Z.Z,{color:"error",onClick:E,startIcon:(0,F.jsx)(V.Z,{}),children:(0,F.jsx)(pr.c,{t:a,i18nKey:"tabOptimize.useEquipped.modal.clearList",children:"Clear List"})})]}),!!q&&(0,F.jsx)(oe.Z,{color:"success",children:(0,F.jsx)(p.Z,{children:(0,F.jsxs)(pr.c,{t:a,i18nKey:"tabOptimize.useEquipped.modal.usingNum",count:M,children:["Using artifacts from ",(0,F.jsx)("strong",{children:{count:M}})," unlisted characters"]})})})]})]})]})}),(0,F.jsxs)(j.Z,{sx:{display:"flex",width:"100%"},children:[(0,F.jsx)(Z.Z,{sx:{flexGrow:1},onClick:function(){return n({useEquippedArts:!t})},disabled:i,startIcon:t?(0,F.jsx)(Tn.Z,{}):(0,F.jsx)(zn.Z,{}),color:t?"success":"secondary",children:(0,F.jsxs)(u.Z,{children:[(0,F.jsx)("span",{children:(0,F.jsx)(pr.c,{t:a,i18nKey:"tabOptimize.useEquipped.title",children:"Use Equipped Artifacts"})}),t&&(0,F.jsx)(oe.Z,{children:(0,F.jsxs)(pr.c,{t:a,i18nKey:"tabOptimize.useEquipped.usingNum",count:q,children:["Using from ",(0,F.jsx)("strong",{children:{count:q}})," characters"]})})]})}),t&&(0,F.jsx)(Z.Z,{sx:{flexShrink:1},color:"info",onClick:f,children:(0,F.jsx)(or.Z,{})})]})]})}function wr(e){var t=e.characterKey,n=e.rank,i=e.maxRank,a=e.setRank,s=e.onRemove,l=e.numAbove,c=(0,A.$)("page_character").t,o=(0,P.useContext)($e.t).database,d=(0,jr.Z)(t);if(!d)return null;var x=d.equippedWeapon,f=d.equippedArtifacts;return(0,F.jsxs)(O.Z,{sx:{p:1},children:[(0,F.jsxs)(u.Z,{sx:{pb:1,display:"flex",justifyContent:"space-between",gap:1},children:[(0,F.jsx)(oe.Z,{color:"info",children:(0,F.jsxs)(p.Z,{children:["#",n]})}),(0,F.jsx)(oe.Z,{sx:{flexGrow:1},color:l===n-1?"warning":n-1<l?"error":"success",children:(0,F.jsx)(p.Z,{children:l===n-1?(0,F.jsx)(pr.c,{t:c,i18nKey:"tabOptimize.useEquipped.modal.status.curr",children:"Current character"}):n-1<l?(0,F.jsx)(pr.c,{t:c,i18nKey:"tabOptimize.useEquipped.modal.status.dont",children:"Don't Use artifacts"}):(0,F.jsx)(pr.c,{t:c,i18nKey:"tabOptimize.useEquipped.modal.status.use",children:"Use artifacts"})})}),(0,F.jsx)(u.Z,{children:(0,F.jsxs)(j.Z,{sx:{flexGrow:1},size:"small",children:[(0,F.jsx)(M.CC,{children:(0,F.jsx)(M.ZP,{onChange:a,value:n,inputProps:{min:1,max:i,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),(0,F.jsx)(Z.Z,{disabled:1===n,onClick:function(){return a(1)},children:(0,F.jsx)(ur.Z,{})}),(0,F.jsx)(Z.Z,{disabled:1===n,onClick:function(){return a(n-1)},children:(0,F.jsx)(dr.Z,{})}),(0,F.jsx)(Z.Z,{disabled:n===i,onClick:function(){return a(n+1)},children:(0,F.jsx)(xr.Z,{})}),(0,F.jsx)(Z.Z,{disabled:n===i,onClick:function(){return a(i)},children:(0,F.jsx)(hr.Z,{})}),(0,F.jsx)(Z.Z,{color:"error",onClick:s,children:(0,F.jsx)(at.Z,{})})]})})]}),(0,F.jsxs)(h.ZP,{container:!0,columns:7,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,xs:1,children:(0,F.jsx)(vr.Z,{characterKey:t})}),(0,F.jsx)(h.ZP,{item:!0,xs:1,children:(0,F.jsx)(Zr.Z,{weaponId:x})}),Object.entries(f).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,F.jsx)(h.ZP,{item:!0,xs:1,children:(0,F.jsx)(mr.Z,{slotKey:n,artifactObj:o._getArt(i)})},n)}))]})]})}function Cr(e){var t=e.onAdd,n=e.list,i=(0,A.$)("page_character").t,a=Xe(!1),s=(0,r.Z)(a,3),l=s[0],c=s[1],o=s[2],u=(0,P.useCallback)((function(e){return!!e&&!n.includes(e.key)}),[n]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(E.w,{show:l,onHide:o,onSelect:t,filter:u}),(0,F.jsx)(Z.Z,{fullWidth:!0,sx:{height:60},color:"info",onClick:c,startIcon:(0,F.jsx)(fr.Z,{}),children:(0,F.jsx)(pr.c,{t:i,i18nKey:"tabOptimize.useEquipped.modal.add",children:"Add character to list"})})]})}function Sr(e){var t=e.buildSettingsDispatch,n=e.useExcludedArts,r=e.disabled,i=e.artsDirty,a=(0,A.$)("page_character").t,s=(0,P.useContext)($e.t).database,l=(0,P.useMemo)((function(){return i&&s._getArts().reduce((function(e,t){return e+(t.exclude?1:0)}),0)}),[s,i]);return(0,F.jsx)(Z.Z,{fullWidth:!0,onClick:function(){return t({useExcludedArts:!n})},disabled:!l||r,startIcon:n?(0,F.jsx)(Tn.Z,{}):(0,F.jsx)(zn.Z,{}),color:n?"success":"secondary",children:(0,F.jsxs)(u.Z,{children:[(0,F.jsx)("span",{children:(0,F.jsx)(pr.c,{t:a,i18nKey:"tabOptimize.useExcluded.title",count:l,children:"Use Excluded Artifacts"})}),n&&(0,F.jsx)(oe.Z,{children:(0,F.jsxs)(pr.c,{t:a,i18nKey:"tabOptimize.useExcluded.usingNum",count:l,children:["Using ",(0,F.jsx)("strong",{children:{count:l}})," excluded artifacts"]})})]})})}var Pr=n(4942),Ar=n(50765),Kr=(0,Ze.Z)().mark(Rr),_r=(0,Ze.Z)().mark(Ir),Dr=(0,Ze.Z)().mark(qr),Or=(0,Ge.yY)((0,ke.I8)({dyn:(0,z.Z)((0,z.Z)({},X.qH.art),X.qH.artSet)})),Er={art:(0,ke.O)([].concat((0,je.Z)(Ar.r),(0,je.Z)(Ar._)),(function(e){return Or.dyn[e]})),artSet:(0,ke.xh)(X.qH.artSet,(function(e,t){return Or.dyn[t]}))};function Rr(e){var t,n,i,a,s,l;return(0,Ze.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l=function(e,n){var r,c,o,u,d,x;return(0,Ze.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=i(e,n)).length){t.next=3;break}return t.abrupt("return");case 3:if(!r.some((function(e){return!Object.keys(e).length}))){t.next=7;break}return t.next=6,(0,z.Z)({},s);case 6:return t.abrupt("return");case 7:c=ee.eV[n-1],o=new Set(r.flatMap((function(e){return Object.keys(e)}))),u=(0,sn.Z)(o),t.prev=10,x=(0,Ze.Z)().mark((function e(){var t,i;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.value,s[c]={kind:"required",sets:new Set([t])},i=r.map((function(e){var n=e[t];return n?(0,z.Z)((0,z.Z)({},e),{},(0,Pr.Z)({},t,{min:n.min?n.min-1:0,max:n.max-1})):e})),e.delegateYield(l(i,n-1),"t0",4);case 4:case"end":return e.stop()}}),e)})),u.s();case 13:if((d=u.n()).done){t.next=17;break}return t.delegateYield(x(),"t0",15);case 15:t.next=13;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(10),u.e(t.t1);case 22:return t.prev=22,u.f(),t.finish(22);case 25:return s[c]={kind:"exclude",sets:o},t.delegateYield(l(r,n-1),"t2",27);case 27:s[c]=a;case 28:case"end":return t.stop()}}),t,null,[[10,19,22,25]])},i=function(e,t){return e.map((function(e){e=(0,z.Z)({},e);for(var n=0,i=Object.entries(e);n<i.length;n++){var a=(0,r.Z)(i[n],2),s=a[0],l=a[1];0===l.min&&l.max>=t&&delete e[s]}return e})).filter((function(e){return Object.values(e).reduce((function(e,t){return e+t.min}),0)<=t}))},t=(0,Ze.Z)().mark(l),n=e.map((function(e){var t={};return e.forEach((function(e){var n=e.key,r=e.min,i=e.max;if(n){t[n]||(t[n]={min:0,max:5});var a=t[n];a.min=Math.max(a.min,null!==r&&void 0!==r?r:0),a.max=Math.min(a.max,null!==i&&void 0!==i?i:5)}})),t})).filter((function(e){return Object.values(e).every((function(e){return e.min<=e.max}))})),a={kind:"exclude",sets:new Set},s=(0,ke.O)(ee.eV,(function(e){return a})),c.delegateYield(l(n,5),"t0",7);case 7:case"end":return c.stop()}}),Kr)}function Ir(e,t,n){var r,i,a;return(0,Ze.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n<1e4&&(n=1e4),r=(0,sn.Z)(t),s.prev=2,a=(0,Ze.Z)().mark((function t(){var r,a,s;return(0,Ze.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=i.value,a=[r],s=(0,Ze.Z)().mark((function t(){var r,i,s,l,c,o,u;return(0,Ze.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.pop(),i=vn(e,r),!((s=gn(i))<=n)){t.next=8;break}if(!s){t.next=7;break}return t.next=7,r;case 7:return t.abrupt("return","continue");case 8:if(l=ee.eV.map((function(e){return{slot:e,sets:new Set(i.values[e].map((function(e){return e.set})))}})).filter((function(e){return e.sets.size>1})),l.length){t.next=12;break}return t.delegateYield(qr(i,r,n),"t0",11);case 11:return t.abrupt("return","continue");case 12:c=l.reduce((function(e,t){return e.sets.size<t.sets.size?e:t})),o=c.sets,u=c.slot,o.forEach((function(e){return a.push((0,z.Z)((0,z.Z)({},r),{},(0,Pr.Z)({},u,{kind:"required",sets:new Set([e])})))}));case 14:case"end":return t.stop()}}),t)}));case 3:if(!a.length){t.next=10;break}return t.delegateYield(s(),"t0",5);case 5:if("continue"!==t.t0){t.next=8;break}return t.abrupt("continue",3);case 8:t.next=3;break;case 10:case"end":return t.stop()}}),t)})),r.s();case 5:if((i=r.n()).done){s.next=9;break}return s.delegateYield(a(),"t0",7);case 7:s.next=5;break;case 9:s.next=14;break;case 11:s.prev=11,s.t1=s.catch(2),r.e(s.t1);case 14:return s.prev=14,r.f(),s.finish(14);case 17:case"end":return s.stop()}}),_r,null,[[2,11,14,17]])}function qr(e,t,n){var r,i;return(0,Ze.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=[t],i=(0,Ze.Z)().mark((function t(){var i,a,s,l,c,o,u,d,x,h,f,p,m;return(0,Ze.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.pop(),a=vn(e,i),!((s=gn(a))<=n)){t.next=8;break}if(!s){t.next=7;break}return t.next=7,i;case 7:return t.abrupt("return","continue");case 8:if(l=ee.eV.map((function(e){return{slot:e,length:a.values[e].length}})).filter((function(e){return e.length>1})),c=l.reduce((function(e,t){return e.length<t.length?e:t})),o=c.slot,u=c.length,d=Math.ceil(s/n),x=Math.min(d,u),h=Array(x).fill(0).map((function(e){return new Set})),a.values[o].forEach((function(e,t){var n=e.id;return h[t%x].add(n)})),!(d>u)){t.next=18;break}h.forEach((function(e){return r.push((0,z.Z)((0,z.Z)({},i),{},(0,Pr.Z)({},o,{kind:"id",ids:e})))})),t.next=35;break;case 18:f=(0,sn.Z)(h),t.prev=19,f.s();case 21:if((p=f.n()).done){t.next=27;break}return m=p.value,t.next=25,(0,z.Z)((0,z.Z)({},i),{},(0,Pr.Z)({},o,{kind:"id",ids:m}));case 25:t.next=21;break;case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(19),f.e(t.t0);case 32:return t.prev=32,f.f(),t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[19,29,32,35]])}));case 2:if(!r.length){a.next=9;break}return a.delegateYield(i(),"t0",4);case 4:if("continue"!==a.t0){a.next=7;break}return a.abrupt("continue",2);case 7:a.next=2;break;case 9:case"end":return a.stop()}}),Dr)}function Mr(){var e,t,n,i,a=(0,P.useContext)(J.R),s=a.character,l=a.character.key,c=(0,nn.Z)("GlobalSettings",tn.c),o=(0,r.Z)(c,1)[0].tcMode,d=(0,P.useContext)($e.t).database,f=(0,P.useState)(!1),m=(0,r.Z)(f,2),v=m[0],y=m[1],b=(0,P.useState)(0),w=(0,r.Z)(b,2),C=w[0],S=w[1],A=(0,P.useState)(0),_=(0,r.Z)(A,2),D=_[0],E=_[1],R=(0,P.useState)(0),I=(0,r.Z)(R,2),q=I[0],M=I[1],W=(0,P.useState)(void 0),B=(0,r.Z)(W,2),V=B[0],N=B[1],G=(0,Qe.Z)(),U=(0,r.Z)(G,2),$=U[0],Y=U[1],ee=br(),te=(0,r.Z)(ee,2),ne=te[0],re=ne.equipmentPriority,ie=ne.threads,ae=void 0===ie?gr:ie,le=te[1],oe=ae>gr?gr:ae,ue=(0,P.useCallback)((function(e){return le({threads:e})}),[le]),de=(0,_e.Z)(l),xe=null!==(e=null===s||void 0===s?void 0:s.buildSettings)&&void 0!==e?e:(0,an.$)(),pe=xe.plotBase,me=xe.setFilters,ve=xe.statFilters,ye=xe.mainStatKeys,be=xe.optimizationTarget,we=xe.mainStatAssumptionLevel,Ce=xe.useExcludedArts,Se=xe.useEquippedArts,Pe=xe.builds,Ae=xe.buildDate,Ke=xe.maxBuildsToShow,De=xe.levelLow,Oe=xe.levelHigh,Re=(0,P.useMemo)((function(){return Pe.map((function(e){return e.map((function(e){return d._getArt(e)}))}))}),[Pe,d]),Ie=(0,Ee.Z)(l,we),qe=null!==(t=null===Ie||void 0===Ie?void 0:Ie[l])&&void 0!==t?t:{},Me=qe.characterSheet,Te=qe.target,ze=null!==(n=null===s||void 0===s?void 0:s.compareData)&&void 0!==n&&n,Le=(0,P.useMemo)((function(){return!d._getArts().length}),[d]),He=(0,P.useCallback)((function(e){return de&&de({buildSettings:(0,an.C)(xe,e)})}),[de,xe]),We=(0,P.useCallback)((function(e,t){He(void 0===t?{type:"mainStatKeyReset",slotKey:e}:{type:"mainStatKey",slotKey:e,mainStatKey:t})}),[He]);(0,P.useEffect)((function(){return d.followAnyArt(Y)}),[Y,d]);var Be=(0,P.useMemo)((function(){if(!l)return{totBuildNumber:0};var e=[];if(Se){var t=re.indexOf(l);e=t<0?(0,je.Z)(re):re.slice(0,t)}var n=function(e,t){var n,r={base:{},values:{flower:[],plume:[],goblet:[],circlet:[],sands:[]}},i=new Set,a=(0,sn.Z)(e);try{for(a.s();!(n=a.n()).done;){var s,l=n.value,c=xt.Z.mainStatValue(l.mainStatKey,l.rarity,Math.max(Math.min(t,4*l.rarity),l.level)),o={id:l.id,set:l.setKey,values:(0,z.Z)((s={},(0,Pr.Z)(s,l.setKey,1),(0,Pr.Z)(s,l.mainStatKey,l.mainStatKey.endsWith("_")?c/100:c),s),Object.fromEntries(l.substats.map((function(e){return[e.key,e.key.endsWith("_")?e.accurateValue/100:e.accurateValue]}))))};delete o.values[""],r.values[l.slotKey].push(o),Object.keys(o.values).forEach((function(e){return i.add(e)}))}}catch(x){a.e(x)}finally{a.f()}r.base=(0,ke.O)((0,je.Z)(i),(function(e){return 0}));for(var u=0,d=Object.values(r.values);u<d.length;u++)d[u].push({id:"",values:{}});return r}(d._getArts().filter((function(t){if(t.level<De)return!1;if(t.level>Oe)return!1;var n=ye[t.slotKey];return!(null!==n&&void 0!==n&&n.length&&!n.includes(t.mainStatKey))&&(t.location===l||!(t.exclude&&!Ce)&&(!(t.location&&!Se)&&!(t.location&&Se&&e.includes(t.location))))})),we),r=(0,je.Z)(Rr([me.map((function(e){return{key:e.key,min:e.num}}))])),i=(0,je.Z)(r).map((function(e){return gn(vn(n,e))})).reduce((function(e,t){return e+t}),0);return $&&{split:n,setPerms:r,totBuildNumber:i}}),[l,Ce,Se,re,ye,me,De,Oe,$,d,we]),Ve=Be.split,Ne=Be.setPerms,Ge=Be.totBuildNumber;(0,P.useEffect)((function(){S(0)}),[Ge]);var Fe=(0,P.useRef)((function(){}));(0,P.useEffect)((function(){return function(){return Fe.current()}}),[]);var Ue=(0,P.useCallback)((0,ge.Z)((0,Ze.Z)().mark((function e(){var t,n,i,a,s,c,o,u,x,h,f,p,m,v,Z,j,g,b,k,w,C,P,A,K,_,D,O,R,I,q,T;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=function(){var e=g.next(),t=e.done,n=e.value;return t?void 0:{command:"request",threshold:j.buildValues[Ke-1],filter:n}},l&&be&&Ve&&Ne){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,Ee.V)(d,l,we,[]);case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(a=null===(t=(0,bt.Qo)(i.teamData,l)[l])||void 0===t?void 0:t.target.data[0]){e.next=11;break}return e.abrupt("return");case 11:if(Object.assign(a,(0,bt.b3)([a,Er])),s=(0,ke.Hm)(null!==(n=a.display)&&void 0!==n?n:{},be)){e.next=15;break}return e.abrupt("return");case 15:for(c=s,o=Object.entries(ve).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return n.endsWith("_")&&(i/=100),{value:X.ri.total[n],minimum:i}})).filter((function(e){return e.value&&e.minimum>-1/0})),u=performance.now(),y(!0),N(void 0),E(0),S(0),M(0),x=new Promise((function(e){return Fe.current=e})),h=[].concat((0,je.Z)(o.map((function(e){return e.value}))),[s]),f=Ve,p=Ge,m=[].concat((0,je.Z)(o.map((function(e){return e.minimum}))),[-1/0]),pe&&(h.push(X.ri.total[pe]),m.push(-1/0)),h=(0,en.tL)(h,a,(function(e){return"dyn"!==(0,r.Z)(e.path,1)[0]})),v=cn(h,m,f,Ke,new Set(me.map((function(e){return e.key}))),{reaffine:!0,pruneArtRange:!0,pruneNodeRange:!0,pruneOrder:!0}),h=v.nodes,f=v.arts,Z=pe?h.pop():void 0,s=h.pop(),j={buildCount:0,failedCount:0,skippedCount:p,buildValues:Array(Ke).fill(0).map((function(e){return-1/0}))},Ne.forEach((function(e){return j.skippedCount-=gn(vn(f,e))})),g=Ir(f,Ne,1===oe?1/0:Math.min(p/oe/4,1e6))[Symbol.iterator](),k=h.map((function(e,t){return{value:e,min:m[t]}})).filter((function(e){return e.min>-1/0})),w=[],C=function(e){var t=new Yt,n={command:"setup",id:"".concat(e),arts:f,optimizationTarget:s,plotBase:Z,maxBuilds:Ke,filters:k};t.postMessage(n,void 0);var r=void 0,i=new Promise((function(e){return r=e}));t.onmessage=function(){var e=(0,ge.Z)((0,Ze.Z)().mark((function e(n){var i,a,s,l;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.data,e.t0=i.command,e.next="interim"===e.t0?4:"request"===e.t0?9:"finalize"===e.t0?12:15;break;case 4:return j.buildCount+=i.buildCount,j.failedCount+=i.failedCount,j.skippedCount+=i.skippedCount,i.buildValues&&((a=j.buildValues).push.apply(a,(0,je.Z)(i.buildValues)),j.buildValues.sort((function(e,t){return t-e})).splice(Ke)),e.abrupt("break",16);case 9:return(s=b())?t.postMessage(s):(l={command:"finalize"},t.postMessage(l)),e.abrupt("break",16);case 12:return t.terminate(),r(i),e.abrupt("break",16);case 15:console.log("DEBUG",i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x.then((function(){return t.terminate()})),w.push(i)},P=0;P<oe;P++)C(P);return A=setInterval((function(){S(j.buildCount),M(j.skippedCount),E(performance.now()-u)}),100),e.next=43,Promise.any([Promise.all(w),x]);case 43:K=e.sent,clearInterval(A),Fe.current=function(){},K?(pe&&(O=jn(K.map((function(e){return e.plotData}))),R=X.ri.total[pe],I=Object.values(O),"%"===Q.ZP.unit(null===(_=c.info)||void 0===_?void 0:_.key)&&(I=I.map((function(e){return{value:100*e.value,plot:e.plot}}))),"%"===Q.ZP.unit(null===(D=R.info)||void 0===D?void 0:D.key)&&(I=I.map((function(e){var t=e.value,n=e.plot;return{value:t,plot:100*(null!==n&&void 0!==n?n:0)}}))),N({valueNode:c,plotNode:R,data:I})),q=Zn(K.map((function(e){return e.builds})),Ke),He({builds:q.map((function(e){return e.artifactIds})),buildDate:Date.now()}),T=performance.now()-u,S(j.buildCount),M(j.skippedCount),E(T)):(E(0),S(0),M(0)),y(!1);case 48:case"end":return e.stop()}}),e)}))),[l,d,Ge,we,Ke,be,pe,Ne,Ve,He,me,ve,oe]),Ye=null!==(i=null===Me||void 0===Me?void 0:Me.name)&&void 0!==i?i:"Character Name",Je=(0,P.useCallback)((function(e){He({plotBase:e}),N(void 0)}),[He]),Xe=(0,P.useMemo)((function(){return Te&&Me&&s&&Ie&&{data:Te,characterSheet:Me,character:s,mainStatAssumptionLevel:we,teamData:Ie,characterDispatch:de}}),[Te,Me,s,Ie,de,we]);return(0,F.jsxs)(u.Z,{display:"flex",flexDirection:"column",gap:1,children:[Le&&(0,F.jsxs)(Ut.Z,{severity:"warning",variant:"filled",children:[" Opps! It looks like you haven't added any artifacts to GO yet! You should go to the ",(0,F.jsx)($t.Z,{component:K.rU,to:"/artifact",children:"Artifacts"})," page and add some!"]}),Xe&&(0,F.jsxs)(J.R.Provider,{value:Xe,children:[(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,xs:12,sm:6,lg:3,display:"flex",flexDirection:"column",gap:1,children:(0,F.jsx)(u.Z,{children:(0,F.jsx)(Xt.Z,{characterKey:l})})}),(0,F.jsx)(h.ZP,{item:!0,xs:12,sm:6,lg:3,children:(0,F.jsxs)(O.Z,{children:[(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(p.Z,{gutterBottom:!0,children:"Main Stat"}),(0,F.jsx)(ft.Z,{placement:"top",title:(0,F.jsxs)(p.Z,{children:[(0,F.jsx)("strong",{children:"Level Assumption"})," changes mainstat value to be at least a specific level. Does not change substats."]}),children:(0,F.jsx)(u.Z,{children:(0,F.jsx)(Kn,{mainStatAssumptionLevel:we,setmainStatAssumptionLevel:function(e){return He({mainStatAssumptionLevel:e})},disabled:v})})})]}),(0,F.jsx)(tr,{mainStatKeys:ye,onChangeMainStatKey:We,disabled:v})]})}),(0,F.jsxs)(h.ZP,{item:!0,xs:12,sm:6,lg:3,display:"flex",flexDirection:"column",gap:1,children:[(0,F.jsx)(Qt.Z,{statFilters:ve,setStatFilters:function(e){return He({statFilters:e})},disabled:v}),(0,F.jsx)(_n,{}),(0,F.jsx)(Sr,{disabled:v,useExcludedArts:Ce,buildSettingsDispatch:He,artsDirty:$}),(0,F.jsx)(kr,{disabled:v,useEquippedArts:Se,buildSettingsDispatch:He}),(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(x.Z,{sx:{py:1},children:"Artifact Level Filter"}),(0,F.jsx)(Jt.Z,{levelLow:De,levelHigh:Oe,setLow:function(e){return He({levelLow:e})},setHigh:function(e){return He({levelHigh:e})},setBoth:function(e,t){return He({levelLow:e,levelHigh:t})},disabled:v})]})]}),(0,F.jsxs)(h.ZP,{item:!0,xs:12,sm:6,lg:3,display:"flex",flexDirection:"column",gap:1,children:[(0,F.jsx)(wn,{disabled:v}),me.map((function(e,t){return t<=me.filter((function(e){return e.key})).length&&(0,F.jsx)(Pn,{index:t,setFilters:me,disabled:v,onChange:function(e,t,n){return He({type:"setFilter",index:e,key:t,num:n})}},t)}))]})]}),(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,flexGrow:1,children:(0,F.jsxs)(j.Z,{children:[(0,F.jsx)(Z.Z,{disabled:!l||v||!be||!Ge||!(0,ke.Hm)(null===Te||void 0===Te?void 0:Te.getDisplay(),be),color:l&&Ge<=En?"success":"warning",onClick:Ue,startIcon:(0,F.jsx)(H.G,{icon:L.lTt}),children:"Generate Builds"}),(0,F.jsxs)(T.Z,{disabled:v||!l,title:(0,F.jsxs)("span",{children:[(0,F.jsx)("b",{children:Ke})," ",1===Ke?"Build":"Builds"]}),children:[(0,F.jsx)(g.Z,{children:(0,F.jsx)(p.Z,{variant:"caption",color:"info.main",children:"Decreasing the number of generated build will decrease build calculation time for large number of builds."})}),(0,F.jsx)(k.Z,{}),rn.s.map((function(e){return(0,F.jsxs)(g.Z,{onClick:function(){return He({maxBuildsToShow:e})},children:[e," ",1===e?"Build":"Builds"]},e)}))]}),(0,F.jsxs)(T.Z,{disabled:v||!l,title:(0,F.jsxs)("span",{children:[(0,F.jsx)("b",{children:oe})," ",1===oe?"Thread":"Threads"]}),children:[(0,F.jsx)(g.Z,{children:(0,F.jsx)(p.Z,{variant:"caption",color:"info.main",children:"Increasing the number of threads will speed up build time, but will use more CPU power."})}),(0,F.jsx)(k.Z,{}),(0,ke.w6)(1,gr).reverse().map((function(e){return(0,F.jsxs)(g.Z,{onClick:function(){return ue(e)},children:[e," ",1===e?"Thread":"Threads"]},e)}))]}),(0,F.jsx)(Z.Z,{disabled:!v,color:"error",onClick:function(){return Fe.current()},startIcon:(0,F.jsx)(at.Z,{}),children:"Cancel"})]})}),(0,F.jsxs)(h.ZP,{item:!0,children:[(0,F.jsx)("span",{children:"Optimization Target: "}),(0,F.jsx)(ir,{optimizationTarget:be,setTarget:function(e){return He({optimizationTarget:e})},disabled:!!v})]})]}),!!l&&(0,F.jsx)(u.Z,{children:(0,F.jsx)(qn,{totBuildNumber:Ge,generatingBuilds:v,generationSkipped:q,generationProgress:C,generationDuration:D,characterName:Ye,maxBuildsToShow:Ke})}),o&&(0,F.jsx)(u.Z,{children:(0,F.jsx)(Yn,{disabled:v,chartData:V,plotBase:pe,setPlotBase:Je})}),(0,F.jsx)(O.Z,{children:(0,F.jsxs)(x.Z,{children:[(0,F.jsxs)(u.Z,{display:"flex",alignItems:"center",gap:1,mb:1,children:[(0,F.jsx)(p.Z,{sx:{flexGrow:1},children:Pe?(0,F.jsxs)("span",{children:["Showing ",(0,F.jsx)("strong",{children:Pe.length})," Builds generated for ",Ye,". ",!!Ae&&(0,F.jsxs)("span",{children:["Build generated on: ",(0,F.jsx)("strong",{children:new Date(Ae).toLocaleString()})]})]}):(0,F.jsx)("span",{children:"Select a character to generate builds."})}),(0,F.jsx)(Z.Z,{disabled:!Pe.length,color:"error",onClick:function(){return He({builds:[],buildDate:0})},children:"Clear Builds"})]}),(0,F.jsxs)(h.ZP,{container:!0,display:"flex",spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(fe,{size:"small"})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(he,{size:"small"})}),(0,F.jsx)(h.ZP,{item:!0,flexGrow:1}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsxs)(ce.Z,{exclusive:!0,value:ze,onChange:function(e,t){return de({compareData:t})},size:"small",children:[(0,F.jsx)(se.Z,{value:!1,disabled:!ze,children:(0,F.jsx)("small",{children:"Show New artifact Stats"})}),(0,F.jsx)(se.Z,{value:!0,disabled:ze,children:(0,F.jsx)("small",{children:"Compare against equipped artifacts"})})]})})]})]})}),(0,F.jsx)(Tr,{buildsArts:Re,character:s,characterKey:l,characterSheet:Me,data:Te,compareData:ze,mainStatAssumptionLevel:we,characterDispatch:de,disabled:!!v})]})]})}function Tr(e){var t=e.buildsArts,n=e.character,r=e.characterKey,i=e.characterSheet,a=e.data,s=e.compareData,l=e.mainStatAssumptionLevel,c=e.characterDispatch,o=e.disabled;return(0,P.useMemo)((function(){return(0,F.jsx)(P.Suspense,{fallback:(0,F.jsx)(d.Z,{variant:"rectangular",width:"100%",height:600}),children:null===t||void 0===t?void 0:t.map((function(e,t){return n&&r&&i&&a&&(0,F.jsx)(zr,{characterKey:r,character:n,build:e,characterSheet:i,oldData:a,mainStatAssumptionLevel:l,characterDispatch:c,children:(0,F.jsx)(At,{index:t,compareBuild:s,disabled:o})},t+e.join())}))})}),[t,n,r,i,a,s,l,c,o])}function zr(e){var t=e.children,n=e.characterKey,r=e.character,i=e.build,a=e.characterDispatch,s=e.mainStatAssumptionLevel,l=void 0===s?0:s,c=e.characterSheet,o=e.oldData,u=(0,Ee.Z)(n,l,i);return u?(0,F.jsx)(J.R.Provider,{value:{characterSheet:c,character:r,characterDispatch:a,mainStatAssumptionLevel:l,data:u[n].target,teamData:u,oldData:o},children:t}):null}var Lr=n(14361),Hr=n(90690),Wr=n(13400),Br=n(96874),Vr=n(74954);function Nr(){var e,t=(0,P.useContext)(J.R),n=t.data,r=t.characterSheet,i=t.character,a=t.character.key,s=(0,_e.Z)(a),l=(0,_.s0)(),c=(0,A.$)("page_character").t,o=n.get(X.ri.charEle).value,d=r.weaponTypeKey,f=n.get(X.ri.lvl).value,m=n.get(X.ri.asc).value,v=n.get(X.ri.constellation).value,Z={auto:n.get(X.ri.total.auto).value,skill:n.get(X.ri.total.skill).value,burst:n.get(X.ri.total.burst).value},j={auto:n.get(X.ri.bonus.auto).value,skill:n.get(X.ri.bonus.skill).value,burst:n.get(X.ri.bonus.burst).value};return(0,F.jsxs)(h.ZP,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[(0,F.jsx)(h.ZP,{item:!0,xs:8,sm:5,md:4,lg:2.5,children:(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(u.Z,{src:r.cardImg,component:"img",width:"100%",height:"auto"}),(0,F.jsxs)(x.Z,{children:[(0,F.jsxs)(p.Z,{variant:"h5",children:[r.name,"\xa0",(0,F.jsx)(pe.Z,{sx:{pr:.5},src:null===(e=et.Z.weaponTypes)||void 0===e?void 0:e[d]}),ne.Z[o],(0,F.jsx)(Wr.Z,{sx:{p:.5,mt:-.5},onClick:function(){return s({favorite:!i.favorite})},children:i.favorite?(0,F.jsx)(Lr.Z,{}):(0,F.jsx)(Hr.Z,{})})]}),(0,F.jsx)(p.Z,{variant:"h6",children:(0,F.jsx)(zt.t,{stars:r.rarity,colored:!0})}),(0,F.jsxs)(p.Z,{variant:"h5",children:["Lvl. ",be.Z.getLevelString(f,m)]}),(0,F.jsx)(ot.Z,{sx:{p:1},onClick:function(){return l("talent")},children:(0,F.jsx)(h.ZP,{container:!0,spacing:1,mt:-1,children:["auto","skill","burst"].map((function(e){var t;return(0,F.jsx)(h.ZP,{item:!0,xs:4,children:(0,F.jsx)(Br.Z,{badgeContent:Z[e],color:j[e]?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:(0,F.jsx)(u.Z,{component:"img",src:null===(t=r.getTalentOfKey(e,o))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))})}),(0,F.jsx)(p.Z,{sx:{textAlign:"center",mt:1},variant:"h6",children:r.constellationName}),(0,F.jsx)(h.ZP,{container:!0,spacing:1,children:(0,ke.w6)(1,6).map((function(e){var t;return(0,F.jsx)(h.ZP,{item:!0,xs:4,children:(0,F.jsx)(ot.Z,{onClick:function(){return s({constellation:e===v?e-1:e})},children:(0,F.jsx)(u.Z,{component:"img",src:null===(t=r.getTalentOfKey("constellation".concat(e),o))||void 0===t?void 0:t.img,sx:(0,z.Z)({},v>=e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto"})})},e)}))}),(0,F.jsx)(p.Z,{sx:{textAlign:"center",mt:1},variant:"h6",children:c("teammates")}),(0,F.jsx)(ot.Z,{sx:{p:1},onClick:function(){return l("teambuffs")},children:(0,F.jsx)(h.ZP,{container:!0,columns:3,spacing:1,children:(0,ke.w6)(0,2).map((function(e){return(0,F.jsx)(h.ZP,{item:!0,xs:1,height:"100%",children:(0,F.jsx)(vr.Z,{characterKey:i.team[e],index:e})},e)}))})})]})]})}),(0,F.jsxs)(h.ZP,{item:!0,xs:12,sm:7,md:8,lg:9.5,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,F.jsxs)(h.ZP,{container:!0,spacing:1,columns:{xs:2,sm:2,md:3,lg:4,xl:6},children:[(0,F.jsx)(h.ZP,{item:!0,xs:1,children:(0,F.jsx)(Ct,{weaponId:i.equippedWeapon,BGComponent:O.Z,onClick:function(){return l("equip")}})}),ee.eV.map((function(e){return(0,F.jsx)(h.ZP,{item:!0,xs:1,children:(0,F.jsx)(vt,{artifactId:n.get(X.ri.art[e].id).value,slotKey:e,BGComponent:O.Z,onClick:function(){return l("equip")}})},e)}))]}),(0,F.jsx)(ti,{})]})]})}var Gr=["eleMas","critRate_","critDMG_","enerRech_","heal_"],Fr=[].concat(["atk","hp","def"],Gr).map((function(e){return X.ri.total[e]})),Ur=["atk_","atk","hp_","hp","def_","def"].concat(Gr),$r=[].concat((0,je.Z)(ee.Kj.map((function(e){return X.ri.total["".concat(e,"_dmg_")]}))),(0,je.Z)(ee.Kj.map((function(e){return X.ri.total["".concat(e,"_res_")]}))),(0,je.Z)(["stamina","incHeal_","shield_","cdRed_"].map((function(e){return X.ri.total[e]})))),Yr=$r.map((function(e){return e.info.key})),Jr=[X.ri.total.all_dmg_].concat((0,je.Z)(ee.Kj.map((function(e){return X.ri.total["".concat(e,"_enemyRes_")]}))),[X.ri.total.normal_dmg_,X.ri.total.normal_critRate_,X.ri.total.charged_dmg_,X.ri.total.charged_critRate_,X.ri.total.plunging_dmg_,X.ri.total.plunging_critRate_,X.ri.total.skill_dmg_,X.ri.total.skill_critRate_,X.ri.total.burst_dmg_,X.ri.total.burst_critRate_],(0,je.Z)(Object.keys(Vr.Ne).map((function(e){return X.ri.total["".concat(e,"_dmg_")]}))),(0,je.Z)(Object.keys(Vr.UT).map((function(e){return X.ri.total["".concat(e,"_dmg_")]}))),(0,je.Z)(["moveSPD_","atkSPD_","weakspotDMG_"].map((function(e){return X.ri.total[e]}))),[X.ri.total.dmgRed_]),Xr=Jr.map((function(e){return e.info.key})),Qr={xs:12,sm:12,md:6,lg:4};function ei(e){var t=e.nodes,n=e.statBreakpoint,r=e.extra,i=(0,P.useContext)(J.R),a=i.data,s=i.oldData;return(0,F.jsxs)(h.ZP,{container:!0,columnSpacing:{xs:2,lg:3},rowSpacing:1,children:[t.map((function(e){var t,r;return(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},n),{},{children:(0,F.jsx)(Ne.JW,{node:a.get(e),oldValue:null===s||void 0===s||null===(r=s.get(e))||void 0===r?void 0:r.value})}),null===(t=e.info)||void 0===t?void 0:t.key)})),r]})}function ti(){var e=(0,P.useContext)(J.R),t=e.data,n=e.character,r=e.character.key,i=(0,_e.Z)(r),a=t.get(X.ri.special);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(ni,{title:"Main Stats",content:(0,F.jsx)(ei,{statBreakpoint:Qr,nodes:Fr,extra:a&&(0,F.jsxs)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},Qr),{},{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[(0,F.jsxs)("span",{children:[(0,F.jsx)("b",{children:"Special:"})," ",(0,F.jsxs)(q.Z,{color:a.info.variant,children:[a.info.key&&ne.Z[a.info.key]," ",a.info.key&&Q.ZP.get(a.info.key)]})]}),(0,F.jsx)("span",{children:(0,Q.EC)(a.value,a.unit)})]}))}),editContent:(0,F.jsx)(h.ZP,{container:!0,columnSpacing:2,rowSpacing:1,children:Ur.map((function(e){var t,r=Q.ZP.get(e);return(0,F.jsx)(h.ZP,{item:!0,xs:12,lg:6,children:(0,F.jsx)(Y,{name:(0,F.jsxs)("span",{children:[ne.Z[e]," ",r]}),placeholder:Q.ZP.getStr(e),value:null!==(t=n.bonusStats[e])&&void 0!==t?t:0,percent:"%"===Q.ZP.unit(e),onValueChange:function(t){return i({type:"editStats",statKey:e,value:t})}})},e)}))})}),(0,F.jsx)(ni,{title:"Other Stats",content:(0,F.jsx)(ei,{statBreakpoint:Qr,nodes:$r}),editContent:(0,F.jsx)(h.ZP,{container:!0,columnSpacing:2,rowSpacing:1,children:Yr.map((function(e){var t,r=Q.ZP.get(e);return(0,F.jsx)(h.ZP,{item:!0,xs:12,lg:6,children:(0,F.jsx)(Y,{name:(0,F.jsxs)("span",{children:[ne.Z[e]," ",r]}),placeholder:Q.ZP.getStr(e),value:null!==(t=n.bonusStats[e])&&void 0!==t?t:0,percent:"%"===Q.ZP.unit(e),defaultValue:void 0,onValueChange:function(t){return i({type:"editStats",statKey:e,value:t})}})},e)}))})}),(0,F.jsx)(ni,{title:"Misc Stats",content:(0,F.jsx)(ei,{statBreakpoint:{xs:12,sm:12,md:6},nodes:Jr}),editContent:(0,F.jsx)(h.ZP,{container:!0,columnSpacing:2,rowSpacing:1,children:Xr.map((function(e){var t,r=Q.ZP.get(e);return(0,F.jsx)(h.ZP,{item:!0,xs:12,lg:6,children:(0,F.jsx)(Y,{name:(0,F.jsxs)("span",{children:[ne.Z[e]," ",r]}),placeholder:Q.ZP.getStr(e),value:null!==(t=n.bonusStats[e])&&void 0!==t?t:0,percent:"%"===Q.ZP.unit(e),onValueChange:function(t){return i({type:"editStats",statKey:e,value:t})}})},e)}))})})]})}function ni(e){var t=e.title,n=e.content,i=e.editContent,a=(0,P.useState)(!1),s=(0,r.Z)(a,2),l=s[0],c=s[1];return(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(x.Z,{sx:{py:1},children:(0,F.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",children:[(0,F.jsx)(p.Z,{variant:"subtitle1",children:t}),(0,F.jsx)(Z.Z,{size:"small",color:l?"error":"info",onClick:function(){return c(!l)},children:(0,F.jsxs)("span",{children:[(0,F.jsx)(H.G,{icon:l?L.r6l:L.Xcf})," ",l?"EXIT":"Edit Stats"]})})]})}),(0,F.jsx)(k.Z,{}),(0,F.jsx)(x.Z,{children:l?i:n})]})}var ri={xs:12,sm:6,md:4};function ii(){var e=(0,P.useContext)(J.R),t=e.data,n=e.character,i=e.characterSheet,a=(0,_e.Z)(n.key),s=t.get(X.ri.charEle).value,l=t.get(X.ri.asc).value,c=t.get(X.ri.constellation).value,o=(0,ze.Z)(),d=(0,Me.Z)(o.breakpoints.up("lg")),f=(0,P.useMemo)((function(){return(0,ke.w6)(1,6).map((function(e){return(0,F.jsx)(li,{talentKey:"constellation".concat(e),subtitle:"Constellation Lv. ".concat(e),onClickTitle:function(){return a({constellation:e===c?e-1:e})}})}))}),[c,a]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(ai,{}),(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[d&&(0,F.jsxs)(h.ZP,{item:!0,xs:12,md:12,lg:3,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,F.jsx)(O.Z,{children:(0,F.jsx)(x.Z,{children:(0,F.jsxs)(p.Z,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",c]})})}),f.map((function(e,t){return(0,F.jsx)(u.Z,{sx:{opacity:c>=t+1?1:.5},children:e},t)}))]}),(0,F.jsxs)(h.ZP,{item:!0,xs:12,md:12,lg:9,container:!0,spacing:1,children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},ri),{},{children:(0,F.jsx)(li,{talentKey:n,subtitle:i})}),n)})),!!i.getTalentOfKey("sprint",s)&&(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},ri),{},{children:(0,F.jsx)(li,{talentKey:"sprint",subtitle:"Alternative Sprint"})})),!!i.getTalentOfKey("passive",s)&&(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0},ri),{},{children:(0,F.jsx)(li,{talentKey:"passive",subtitle:"Passive"})})),[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var t=(0,r.Z)(e,3),n=t[0],a=t[1],c=t[2],o=l>=c;return i.getTalentOfKey(n,s)?(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0,style:{opacity:o?1:.5}},ri),{},{children:(0,F.jsx)(li,{talentKey:n,subtitle:a})}),n):null}))]}),!d&&(0,F.jsxs)(h.ZP,{item:!0,xs:12,md:12,lg:3,container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,xs:12,children:(0,F.jsx)(O.Z,{children:(0,F.jsx)(x.Z,{children:(0,F.jsxs)(p.Z,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",c]})})})}),f.map((function(e,t){return(0,F.jsx)(h.ZP,(0,z.Z)((0,z.Z)({item:!0,sx:{opacity:c>=t+1?1:.5}},ri),{},{children:e}),t)}))]})]})]})}function ai(){var e=(0,P.useContext)(J.R).data.getDisplay().reaction;return(0,F.jsx)(O.Z,{sx:{mb:1},children:(0,F.jsx)(x.Z,{children:(0,F.jsx)(h.ZP,{container:!0,spacing:1,children:Object.entries(e).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(D.Z,{children:(0,F.jsx)(x.Z,{sx:{p:1,"&:last-child":{pb:1}},children:(0,F.jsx)(Ne.JW,{node:i})})})},n)}))})})})}var si=[1,1,2,4,6,8,10];function li(e){var t=e.talentKey,n=e.subtitle,r=e.onClickTitle,i=(0,P.useContext)(J.R),a=i.data,s=i.character.talent,l=i.characterSheet,c=i.characterDispatch,o=(0,P.useCallback)((function(e){return(0,F.jsx)(ot.Z,{onClick:r,children:e})}),[r]),d=null;if(t in s){var f=a.get(X.ri.bonus[t]).value,m=a.get(X.ri.total[t]).value,v=a.get(X.ri.asc).value;d=(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(x.Z,{sx:{py:1},children:(0,F.jsx)(T.Z,{fullWidth:!0,title:"Talent Lv. ".concat(m),color:f?"info":"primary",children:(0,ke.w6)(1,si[v]).map((function(e){return(0,F.jsxs)(g.Z,{selected:s[t]===e,disabled:s[t]===e,onClick:function(){return n=e,s[t]=n,void c({talent:s});var n},children:["Talent Lv. ",e+f]},e)}))})}),(0,F.jsx)(k.Z,{})]})}var Z=l.getTalentOfKey(t,a.get(X.ri.charEle).value);return(0,F.jsxs)(O.Z,{sx:{height:"100%"},children:[d,(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(pt.Z,{condition:!!r,wrapper:o,children:(0,F.jsxs)(h.ZP,{container:!0,sx:{flexWrap:"nowrap"},children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(u.Z,{component:"img",src:null===Z||void 0===Z?void 0:Z.img,sx:{width:60,height:"auto"}})}),(0,F.jsxs)(h.ZP,{item:!0,flexGrow:1,sx:{pl:1},children:[(0,F.jsx)(p.Z,{variant:"h6",children:null===Z||void 0===Z?void 0:Z.name}),(0,F.jsx)(p.Z,{variant:"subtitle1",children:n})]})]})}),null!==Z&&void 0!==Z&&Z.sections?(0,F.jsx)(Le.Z,{sections:Z.sections,hideDesc:!0,hideHeader:function(e){var n,r=null===(n=e.header)||void 0===n?void 0:n.action;return!(!r||"string"===typeof r)&&r.props.children.props.key18.includes(t)}}):null]})]})}var ci=n(43992),oi=n(31038),ui=n(11741);function di(){return(0,F.jsx)(Ve.Z,{display:"flex",flexDirection:"column",gap:1,alignItems:"stretch",children:(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsxs)(h.ZP,{item:!0,xs:12,md:6,lg:3,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,F.jsx)(xi,{}),(0,F.jsx)(hi,{})]}),(0,ke.w6)(0,2).map((function(e){return(0,F.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,F.jsx)(fi,{index:e})},e)}))]})})}function xi(){var e,t,n,i=(0,P.useContext)(J.R),a=i.data,s=i.oldData,l=a.getTeamBuff(),c=[];return Object.entries(null!==(e=l.total)&&void 0!==e?e:{}).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return!i.isEmpty&&0!==i.value&&c.push([["total",n],i])})),Object.entries(null!==(t=l.premod)&&void 0!==t?t:{}).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return!i.isEmpty&&0!==i.value&&c.push([["premod",n],i])})),Object.entries(null!==(n=l.enemy)&&void 0!==n?n:{}).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return!i.isEmpty&&0!==i.value&&c.push([["enemy",n],i])})),c.length?(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(x.Z,{children:"Team Buffs"}),(0,F.jsx)(k.Z,{}),(0,F.jsx)(x.Z,{children:(0,F.jsx)(h.ZP,{container:!0,children:c.map((function(e,t){var n,i=(0,r.Z)(e,2),a=i[0],l=i[1];return l&&(0,F.jsx)(h.ZP,{item:!0,xs:12,children:(0,F.jsx)(Ne.JW,{node:l,oldValue:null===(n=(0,ke.Hm)(null===s||void 0===s?void 0:s.getTeamBuff(),a))||void 0===n?void 0:n.value})},l.info.key)}))})})]}):null}function hi(){var e=(0,P.useContext)(J.R).data;return(0,F.jsx)(F.Fragment,{children:ui.J.map((function(t,n){var r=(0,F.jsx)(yn.Z,{title:(0,F.jsx)(p.Z,{children:t.desc})}),i=(0,F.jsxs)("span",{children:[t.name," ",r]});return(0,F.jsxs)(O.Z,{sx:{opacity:t.canShow(e)?1:.5},children:[(0,F.jsx)(b.Z,{title:i,action:t.icon,titleTypographyProps:{variant:"subtitle2"}}),t.canShow(e)&&(0,F.jsx)(k.Z,{}),t.canShow(e)&&(0,F.jsx)(x.Z,{children:(0,F.jsx)(Le.Z,{sections:t.sections,teamBuffOnly:!0,hideDesc:!0})})]},n)}))})}function fi(e){var t=e.index,n=(0,P.useContext)(J.R),r=(0,A.$)("page_character").t,i=n.character,a=n.teamData,s=n.characterDispatch,l=i.key,c=i.team[t],o=(0,_e.Z)(c),u=(0,De.Z)(),d=a[c],h=d&&{character:d.character,characterSheet:d.characterSheet,data:d.target,teamData:a,mainStatAssumptionLevel:0,characterDispatch:o};return(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(x.Z,{children:(0,F.jsx)(oi.Z,{fullWidth:!0,value:c,onChange:function(e){return s({type:"team",index:t,charKey:e})},disable:function(e){return e===l||i.team.includes(e)},labelText:r("teammate",{count:t+1}),defaultText:r("none"),defaultIcon:(0,F.jsx)(ci.Z,{}),showDefault:!0})}),h&&(0,F.jsx)(J.R.Provider,{value:h,children:(0,F.jsx)(Xt.Z,{characterKey:c,onClickHeader:u,artifactChildren:(0,F.jsx)(pi,{}),weaponChildren:(0,F.jsx)(mi,{}),characterChildren:(0,F.jsx)(vi,{}),isTeammateCard:!0})})]})}function pi(){var e=(0,P.useContext)(J.R).data,t=(0,Oe.Z)(ye.y.getAll,[]),n=(0,P.useMemo)((function(){return t&&Object.entries(ye.y.setEffects(t,e)).flatMap((function(e){var n=(0,r.Z)(e,2),i=n[0];return n[1].flatMap((function(e){return t[i].setEffectDocument(e)}))}))}),[t,e]);return n?(0,F.jsx)(Le.Z,{sections:n,teamBuffOnly:!0}):null}function mi(){var e=(0,P.useContext)(J.R),t=e.teamData[e.character.key].weaponSheet;return t.document?(0,F.jsx)(Le.Z,{sections:t.document,teamBuffOnly:!0}):null}function vi(){var e=(0,P.useContext)(J.R),t=e.data,n=e.teamData[e.character.key].characterSheet.getTalent(t.get(X.ri.charEle).value),r=Object.values(n.sheets).flatMap((function(e){return e.sections}));return r?(0,F.jsx)(Le.Z,{sections:r,teamBuffOnly:!0}):null}function Zi(){var e,t=(0,_.s0)(),n=(0,_.UO)().characterKey;return!ee.IV.includes(null!==(e=n)&&void 0!==e?e:"")?(0,F.jsx)(_.Fg,{to:"/characters"}):(0,F.jsx)(u.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:n&&(0,F.jsx)(P.Suspense,{fallback:(0,F.jsx)(d.Z,{variant:"rectangular",width:"100%",height:1e3}),children:(0,F.jsx)(ji,{characterKey:n,onClose:function(){return t("/characters")}})})})}function ji(e){var t,n,r,i=e.characterKey,a=e.newteamData,s=e.mainStatAssumptionLevel,l=void 0===s?0:s,c=e.onClose,o=(0,Ee.Z)(i,l),u=null!==(t=null===o||void 0===o?void 0:o[i])&&void 0!==t?t:{},m=u.character,v=u.characterSheet,Z=u.target,j=(null!==(n=(0,_.bS)({path:"/characters/:charKey/:tab",end:!1}))&&void 0!==n?n:{params:{tab:"overview"}}).params.tab,g=void 0===j?"overview":j,y=(0,A.$)("char_".concat(i,"_gen")).t;(0,Re.Z)("".concat(y("name")," - ").concat(y("page_character:tabs.".concat(g))));var b=(0,_e.Z)(null!==(r=null===m||void 0===m?void 0:m.key)&&void 0!==r?r:""),k=(null!==m&&void 0!==m?m:{}).compareData,w=(0,P.useMemo)((function(){if(o&&m&&v&&Z)return{character:m,characterSheet:v,mainStatAssumptionLevel:l,data:a?a[i].target:Z,teamData:a||o,oldData:k&&a?Z:void 0,characterDispatch:b}}),[m,v,l,a,Z,o,b,i,k]);return o&&m&&v&&Z&&w?(0,F.jsx)(D.Z,{children:(0,F.jsx)(J.R.Provider,{value:w,children:(0,F.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(yi,{})}),(0,F.jsx)(h.ZP,{item:!0,flexGrow:1}),!!l&&(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(f.Z,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:(0,F.jsx)(p.Z,{children:(0,F.jsxs)("strong",{children:["Assume Main Stats are Level ",l]})})})}),!!c&&(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(I.Z,{onClick:c})})]}),(0,F.jsx)(O.Z,{children:(0,F.jsx)(gi,{tab:g})}),(0,F.jsx)(bi,{}),(0,F.jsx)(re,{}),(0,F.jsx)(P.Suspense,{fallback:(0,F.jsx)(d.Z,{variant:"rectangular",width:"100%",height:500}),children:(0,F.jsxs)(_.Z5,{children:[(0,F.jsx)(_.AW,{index:!0,element:(0,F.jsx)(Nr,{})}),(0,F.jsx)(_.AW,{path:"/talent",element:(0,F.jsx)(ii,{})}),(0,F.jsx)(_.AW,{path:"/equip",element:(0,F.jsx)(Bt,{})}),(0,F.jsx)(_.AW,{path:"/teambuffs",element:(0,F.jsx)(di,{})}),(0,F.jsx)(_.AW,{path:"/optimize",element:(0,F.jsx)(Mr,{})})]})}),(0,F.jsx)(O.Z,{children:(0,F.jsx)(gi,{tab:g})})]})})}):(0,F.jsx)(F.Fragment,{})}function gi(e){var t=e.tab,n=(0,A.$)("page_character").t;return(0,F.jsxs)(m.Z,{value:t,variant:"scrollable",allowScrollButtonsMobile:!0,sx:{"& .MuiTab-root:hover":{transition:"background-color 0.25s ease",backgroundColor:"rgba(255,255,255,0.1)"}},children:[(0,F.jsx)(v.Z,{sx:{minWidth:"20%"},value:"overview",label:n("tabs.overview"),icon:(0,F.jsx)(i.Z,{}),component:K.rU,to:""}),(0,F.jsx)(v.Z,{sx:{minWidth:"20%"},value:"talent",label:n("tabs.talent"),icon:(0,F.jsx)(a.Z,{}),component:K.rU,to:"talent"}),(0,F.jsx)(v.Z,{sx:{minWidth:"20%"},value:"equip",label:n("tabs.equip"),icon:(0,F.jsx)(s.Z,{}),component:K.rU,to:"equip"}),(0,F.jsx)(v.Z,{sx:{minWidth:"20%"},value:"teambuffs",label:n("tabs.teambuffs"),icon:(0,F.jsx)(l.Z,{}),component:K.rU,to:"teambuffs"}),(0,F.jsx)(v.Z,{sx:{minWidth:"20%"},value:"optimize",label:n("tabs.optimize"),icon:(0,F.jsx)(c.Z,{}),component:K.rU,to:"optimize"})]})}function yi(){var e,t=(0,A.$)("page_character").t,n=(0,P.useContext)(J.R),i=n.character,a=n.characterSheet,s=n.characterDispatch,l=(0,P.useState)(!1),c=(0,r.Z)(l,2),o=c[0],u=c[1],d=(0,De.Z)(),x=(0,P.useCallback)((function(e){e=(0,ke.uZ)(e,1,90);var t=me.SJ.findIndex((function(t){return e<=t}));s({level:e,ascension:t})}),[s]),f=(0,P.useCallback)((function(){if(i){var e=i.level,t=void 0===e?1:e,n=i.ascension,r=void 0===n?0:n,a=me.SJ.findIndex((function(e){return 90!==t&&t===e}));s(r===a?{ascension:r+1}:{ascension:a})}}),[s,i]),p=i.elementKey,m=void 0===p?"anemo":p,v=i.level,y=void 0===v?1:v,b=i.ascension,k=void 0===b?0:b;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(E.w,{show:o,onHide:function(){return u(!1)},onSelect:d}),(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(Z.Z,{color:"info",onClick:function(){return u(!0)},startIcon:(0,F.jsx)(R.Z,{src:null===a||void 0===a?void 0:a.thumbImgSide}),children:null!==(e=null===a||void 0===a?void 0:a.name)&&void 0!==e?e:t("selectCharacter")})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsxs)(j.Z,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[(null===a||void 0===a?void 0:a.sheet)&&"talents"in(null===a||void 0===a?void 0:a.sheet)&&(0,F.jsx)(T.Z,{title:(0,F.jsx)("strong",{children:(0,F.jsx)(q.Z,{color:m,children:(0,ve.Oy)("element.".concat(m))})}),children:Object.keys(a.sheet.talents).map((function(e){return(0,F.jsx)(g.Z,{selected:m===e,disabled:m===e,onClick:function(){return s({elementKey:e})},children:(0,F.jsx)("strong",{children:(0,F.jsx)(q.Z,{color:e,children:(0,ve.Oy)("element.".concat(e))})})},e)}))}),(0,F.jsx)(M.CC,{children:(0,F.jsx)(M.ZP,{onChange:x,value:y,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!a})}),(0,F.jsx)(Z.Z,{sx:{pl:1},disabled:!(0,me.ek)(y)||!a,onClick:f,children:(0,F.jsxs)("strong",{children:["/ ",me.SJ[k]]})}),(0,F.jsx)(T.Z,{title:t("selectLevel"),disabled:!a,children:me.D4.map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1],a=n===me.SJ[i]?"Lv. ".concat(n):"Lv. ".concat(n,"/").concat(me.SJ[i]),l=n===y&&i===k;return(0,F.jsx)(g.Z,{selected:l,disabled:l,onClick:function(){return s({level:n,ascension:i})},children:a},"".concat(n,"/").concat(i))}))})]})})]})]})}function bi(){var e=(0,A.$)("page_character").t,t=(0,P.useState)(!1),n=(0,r.Z)(t,2),i=n[0],a=n[1],s=(0,P.useCallback)((function(){return a(!i)}),[a,i]);return(0,F.jsxs)(O.Z,{children:[(0,F.jsxs)(x.Z,{sx:{display:"flex",gap:1},children:[(0,F.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(fe,{size:"small"})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(de,{})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(he,{size:"small"})})]}),(0,F.jsxs)(u.Z,{display:"flex",gap:1,children:[(0,F.jsxs)(u.Z,{children:[(0,F.jsxs)(p.Z,{variant:"subtitle2",children:[e("formulas")," ","&"]}),(0,F.jsx)(p.Z,{variant:"subtitle2",children:e("calculations")})]}),(0,F.jsx)(te.Z,{expand:i,onClick:s,"aria-expanded":i,"aria-label":"show more",size:"small",sx:{p:0},children:(0,F.jsx)(o.Z,{})})]})]}),(0,F.jsx)(y.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,F.jsx)(x.Z,{sx:{pt:0},children:(0,F.jsx)(ki,{})})})]})}function ki(){var e=Ke((0,P.useContext)(J.R).data);return(0,F.jsx)(P.Suspense,{fallback:(0,F.jsx)(d.Z,{variant:"rectangular",width:"100%",height:1e3}),children:(0,F.jsx)(u.Z,{sx:{mr:-1,mb:-1},children:e.map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,F.jsx)(wi,{displayNs:i,sectionKey:n},n)}))})})}function wi(e){var t=e.sectionKey,n=e.displayNs,i=(0,P.useContext)(J.R).data,a=(0,Oe.Z)(Pe(i,t),[i,t]);if(!a)return null;if(Object.entries(n).every((function(e){var t=(0,r.Z)(e,2);t[0];return t[1].isEmpty})))return null;var s=a.title,l=a.icon,c=a.action;return(0,F.jsxs)(D.Z,{sx:{mb:1},children:[(0,F.jsx)(b.Z,{avatar:l&&(0,F.jsx)(pe.Z,{size:2,sx:{m:-1},src:l}),title:s,action:c,titleTypographyProps:{variant:"subtitle1"}}),(0,F.jsx)(k.Z,{}),(0,F.jsx)(x.Z,{children:Object.entries(n).map((function(e){var t,n=(0,r.Z)(e,2),i=n[0],a=n[1];return!a.isEmpty&&(0,F.jsxs)(w.Z,{sx:{bgcolor:"contentLight.main"},children:[(0,F.jsx)(C.Z,{expandIcon:(0,F.jsx)(o.Z,{}),children:(0,F.jsxs)(p.Z,{children:[(0,F.jsx)(q.Z,{color:a.info.variant,children:Q.ZP.get(null!==(t=a.info.key)&&void 0!==t?t:"")})," ",(0,F.jsx)("strong",{children:(0,Q.EC)(a.value,a.unit)})]})}),(0,F.jsx)(S.Z,{children:a.formulas.map((function(e,t){return(0,F.jsx)(p.Z,{children:e},t)}))})]},i)}))})]})}},90543:function(e,t,n){n.d(t,{Z:function(){return z}});var r,i=n(30168),a=n(53174),s=n(54483),l=n(40117),c=n(62002),o=n(63204),u=n(66647),d=n(68870),x=n(47047),h=n(13400),f=n(9585),p=n(20890),m=n(39504),v=n(2199),Z=n(40165),j=n(24518),g=n(72791),y=n(22020),b=n(2191),k=n(71310),w=n(31038),C=n(40020),S=n(20005),P=n(55942),A=n(10157),K=n(75545),_=n(2139),D=n(66218),O=n(56928),E=n(26138),R=n(73036),I=n(79406),q=n(42320),M=n(74480),T=n(80184);function z(e){var t,n=e.weaponId,z=e.onClick,L=e.onEdit,H=e.onDelete,W=e.canEquip,B=void 0!==W&&W,V=e.extraButtons,N=(0,y.$)(["page_weapon","ui"]).t,G=(0,g.useContext)(O.t).database,F=(0,M.Z)(n),U=(0,q.Z)(null!==F&&void 0!==F&&F.key?D.Z.get(F.key):void 0,[null===F||void 0===F?void 0:F.key]),$=(0,g.useCallback)((function(e){return e.weaponTypeKey===(null===U||void 0===U?void 0:U.weaponType)}),[U]),Y=(0,g.useCallback)((function(e){return(0,T.jsx)(u.Z,{onClick:function(){return null===z||void 0===z?void 0:z(n)},children:e})}),[z,n]),J=(0,g.useCallback)((function(e){return(0,T.jsx)(d.Z,{children:e})}),[]),X=(0,g.useCallback)((function(e){return G.setWeaponLocation(n,e)}),[G,n]),Q=(0,g.useMemo)((function(){return U&&F&&(0,R.mP)([U.data,(0,R.v0)(F)])}),[U,F]);if(!F||!U||!Q)return null;var ee=F.level,te=F.ascension,ne=F.refinement,re=F.id,ie=F.location,ae=void 0===ie?"":ie,se=F.lock,le=Q.get(E.ri.weapon.type).value,ce=[E.ri.weapon.main,E.ri.weapon.sub,E.ri.weapon.sub2].map((function(e){return Q.get(e)})),oe=te<2?null===U||void 0===U?void 0:U.img:null===U||void 0===U?void 0:U.imgAwaken;return(0,T.jsx)(g.Suspense,{fallback:(0,T.jsx)(x.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,T.jsxs)(k.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,T.jsxs)(S.Z,{condition:!!z,wrapper:Y,falseWrapper:J,children:[(0,T.jsxs)(d.Z,{className:"grad-".concat(U.rarity,"star"),sx:{position:"relative"},children:[!z&&(0,T.jsx)(h.Z,{color:"primary",onClick:function(){return G.updateWeapon({lock:!se},re)},sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:se?(0,T.jsx)(l.Z,{}):(0,T.jsx)(c.Z,{})}),(0,T.jsxs)(d.Z,{sx:{position:"relative",zIndex:1},children:[(0,T.jsx)(f.Z,{sx:{pb:1},title:U.name,avatar:(0,T.jsx)(P.Z,{sx:{fontSize:"1.5em"},src:null===(t=b.Z.weaponTypes)||void 0===t?void 0:t[le]}),titleTypographyProps:{variant:"subtitle1"}}),(0,T.jsxs)(d.Z,{sx:{px:2},children:[(0,T.jsxs)(p.Z,{component:"span",variant:"h5",children:["Lv. ",ee]}),(0,T.jsxs)(p.Z,{component:"span",variant:"h5",color:"text.secondary",children:["/",_.SJ[te]]}),(0,T.jsxs)(p.Z,{variant:"h6",children:["Refinement ",(0,T.jsx)("strong",{children:ne})]}),(0,T.jsx)(p.Z,{children:(0,T.jsx)(A.t,{stars:U.rarity,colored:!0})})]})]}),(0,T.jsx)(d.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,T.jsx)(d.Z,{component:"img",src:null!==oe&&void 0!==oe?oe:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,T.jsx)(m.Z,{children:ce.map((function(e){if(!e.info.key)return null;var t=(0,I.EC)(e.value,e.unit,e.unit?void 0:0);return(0,T.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,T.jsxs)(p.Z,{flexGrow:1,children:[K.Z[e.info.key]," ",I.ZP.get(e.info.key)]}),(0,T.jsx)(p.Z,{children:t})]},e.info.key)}))})]}),(0,T.jsxs)(d.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[B?(0,T.jsx)(w.Z,{size:"small",sx:{flexGrow:1},showDefault:!0,defaultIcon:(0,T.jsx)(o.Z,{}),defaultText:N("inventory"),value:ae,onChange:X,filter:$}):(0,T.jsx)(C.Z,{location:ae}),(0,T.jsxs)(v.Z,{children:[!!L&&(0,T.jsx)(Z.Z,{title:(0,T.jsx)(p.Z,{children:N(r||(r=(0,i.Z)(["page_weapon:edit"])))}),placement:"top",arrow:!0,children:(0,T.jsx)(j.Z,{color:"info",onClick:function(){return L(re)},children:(0,T.jsx)(s.G,{icon:a.Xcf,className:"fa-fw"})})}),!!H&&(0,T.jsx)(j.Z,{color:"error",onClick:function(){return H(re)},disabled:!!ae||se,children:(0,T.jsx)(s.G,{icon:a.I7k,className:"fa-fw"})}),V]})]})]})})}},74480:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(29439),i=n(72791),a=n(56928);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,i.useContext)(a.t),n=t.database,s=(0,i.useState)(n._getWeapon(e)),l=(0,r.Z)(s,2),c=l[0],o=l[1];return(0,i.useEffect)((function(){return o(n._getWeapon(e))}),[n,e]),(0,i.useEffect)((function(){return e?n.followWeapon(e,o):void 0}),[e,o,n]),c}},52771:function(e,t,n){n.d(t,{JR:function(){return o},e6:function(){return u},g4:function(){return a},mf:function(){return l},vL:function(){return i},yJ:function(){return s}});var r=n(60393),i=1e3,a=60*i,s=60*a,l=24*s;function c(e){var t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:r,seconds:n,milliseconds:t}}function o(e){var t=c(e),n=t.hours,i=t.minutes,a=t.seconds,s="Minutes";return n&&(s="Hours"),"".concat(n?"".concat(n,":"):"").concat((0,r.H_)(i,"0",2),":").concat((0,r.H_)(a,"0",2)," ").concat(s)}function u(e){var t=c(e),n=t.hours,i=t.minutes,a=t.seconds,s=t.milliseconds,l="Minutes";return n&&(l="Hours"),"".concat(n?"".concat(n,":"):"").concat((0,r.H_)(i,"0",2),":").concat((0,r.H_)(a,"0",2),".").concat((0,r.H_)(s,"0",3)," ").concat(l)}},66045:function(e,t,n){n.d(t,{Ol:function(){return r},Sn:function(){return i},Xg:function(){return a}});var r=["level","rarity"];function i(e){return{level:{getValue:function(e){var t;return null!==(t=e.level)&&void 0!==t?t:0},tieBreaker:"rarity"},rarity:{getValue:function(t){var n;return null===e||void 0===e||null===(n=e[t.key])||void 0===n?void 0:n.rarity},tieBreaker:"level"}}}function a(e){return{rarity:function(t,n){var r;return n.includes(null===e||void 0===e||null===(r=e[t.key])||void 0===r?void 0:r.rarity)},weaponType:function(t,n){var r;return!n||n===(null===e||void 0===e||null===(r=e[t.key])||void 0===r?void 0:r.weaponType)}}}}}]);
//# sourceMappingURL=427.cea747d1.chunk.js.map