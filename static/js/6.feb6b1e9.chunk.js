(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[6],{202:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(12),c=n(29),r=n(10),i=n(1),s=function(){return Object(i.jsx)(r.a,{icon:c.C})},o=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},203:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:n.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:n.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:n.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:n.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(124),c=n(67),r=n(8),i=n(2),s=n(19),o=n(68),l=n(112),u=n(100),d=n(39),j=n(53),b=n(40),h=n(210),f=n(36),v=n(11),O=n(119),m=function e(){if(Object(s.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};m.getElementalName=function(e){return j.a[e].name},m.getLevelString=function(e){return"".concat(e.level,"/").concat(d.b[e.ascension])},m.getTalentFieldValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(v.f)(e[t],n):a},m.hasBonusStats=function(e,t){return"finalHP"===t?m.hasBonusStats(e,"hp")||m.hasBonusStats(e,"hp_")||m.hasBonusStats(e,"characterHP"):"finalDEF"===t?m.hasBonusStats(e,"def")||m.hasBonusStats(e,"def_")||m.hasBonusStats(e,"characterDEF"):"finalATK"===t?m.hasBonusStats(e,"atk")||m.hasBonusStats(e,"atk_")||m.hasBonusStats(e,"characterATK"):!!(null===e||void 0===e?void 0:e.bonusStats)&&t in e.bonusStats},m.getStatValueWithBonus=function(e,t){var n,a,c;return null!==(n=null!==(a=null===(c=e.bonusStats)||void 0===c?void 0:c[t])&&void 0!==a?a:Object(f.a)(e)[t])&&void 0!==n?n:0},m.calculateBuild=function(e,t,n,a,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var n=Object(i.a)(e,2),a=n[0],c=n[1];return[a,t._getArt(c)]}))),o=m.createInitialStats(e,t,n,a);return o.mainStatAssumptionLevel=r,m.calculateBuildwithArtifact(o,s,c)},m.calculateBuildwithArtifact=function(e,t,n){var a,c=o.a.setToSlots(t),s=l.a.setEffectsStats(n,e,c),d=Object(v.d)(e);Object.values(t).forEach((function(e){e&&(d[e.mainStatKey]=(d[e.mainStatKey]||0)+o.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(d.mainStatAssumptionLevel,4*e.rarity),e.level)),e.substats.forEach((function(e){return e&&e.key&&(d[e.key]=(d[e.key]||0)+e.value)})))})),Object(f.c)(d,s),u.a.parseConditionalValues({artifact:null===d||void 0===d||null===(a=d.conditionalValues)||void 0===a?void 0:a.artifact},(function(e,t,n){var a,r,s=Object(i.a)(n,3),o=s[1],l=s[2];if(!(parseInt(l)>(null!==(a=null===c||void 0===c||null===(r=c[o])||void 0===r?void 0:r.length)&&void 0!==a?a:0))){var j=u.a.resolve(e,d,t).stats;Object(f.c)(d,j)}})),d.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return[n,null===a||void 0===a?void 0:a.id]}))),d.setToSlots=c;var j=Object(h.a)(d,null===d||void 0===d?void 0:d.modifiers),O=Object(b.c)(j,d),m=O.initialStats;return(0,O.formula)(m),Object(r.a)(Object(r.a)({},d),m)},m.createInitialStats=function(e,t,n,s){var o,l,d,j=e.key,b=e.bonusStats,h=void 0===b?{}:b,v=e.elementKey,m=e.level,p=e.ascension,x=e.hitMode,g=e.infusionAura,y=e.reactionMode,S=e.talent,w=e.constellation,k=e.equippedArtifacts,_=e.conditionalValues,K=void 0===_?{}:_,C=e.equippedWeapon,E=null!==(o=t._getWeapon(C))&&void 0!==o?o:Object(O.a)(n.weaponTypeKey),N=Object(f.a)(e);Object(f.c)(N,h,f.b),N.characterKey=j,N.characterLevel=m,N.characterHP=n.getBase("hp",m,p),N.characterDEF=n.getBase("def",m,p),N.characterATK=n.getBase("atk",m,p),N.characterEle=null!==(l=null!==(d=n.elementKey)&&void 0!==d?d:v)&&void 0!==l?l:"anemo",N.hitMode=x,N.infusionAura=g,N.reactionMode=y,N.conditionalValues=K,N.weaponType=n.weaponTypeKey,N.tlvl=Object.fromEntries(Object.entries(null!==S&&void 0!==S?S:{}).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1]-1]}))),N.constellation=w,N.ascension=p,N.weapon={key:E.key,refineIndex:E.refinement-1},N.equippedArtifacts=k;var A=n.getSpecializedStat(p);if(A){var T=n.getSpecializedStatVal(p);Object(f.c)(N,Object(c.a)({},A,T))}for(var B in n.getTalentStatsAll(N,N.characterEle).forEach((function(e){return Object(f.c)(N,e)})),N.tlvl){var I;N.tlvl[B]+=null!==(I=N["".concat(B,"Boost")])&&void 0!==I?I:0}var W=s.getMainStatValue(E.level,E.ascension);N.weaponATK=W;var F=s.getSubStatKey();F&&Object(f.c)(N,Object(c.a)({},F,s.getSubStatValue(E.level,E.ascension))),Object(f.c)(N,s.stats(N));K.artifact;var H=K.weapon,M=Object(a.a)(K,["artifact","weapon"]);return u.a.parseConditionalValues(Object(r.a)(Object(r.a)({},E.key&&{weapon:Object(c.a)({},E.key,null===H||void 0===H?void 0:H[E.key])}),M),(function(e,t,n){if(("character"!==n[0]||"talents"!==n[3]||n[4]===v)&&u.a.canShow(e,N)){var a=u.a.resolve(e,N,t).stats;Object(f.c)(N,a)}})),N},m.getDisplayStatKeys=function(e,t){var n=t.characterSheet,a=t.weaponSheet,c=t.artifactSheets,s=e.characterEle,o=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(s,"_dmg_")];n.isAutoElemental||o.push("physical_dmg_");var l=Object(v.d)(b.a[s]),d=n.weaponTypeKey;l.includes("shattered_hit")||"claymore"!==d||l.push("shattered_hit");var j={},h=n.getTalent(s),f=function(t,n){return t.forEach((function(t){var a;t.formula&&(null===t||void 0===t||null===(a=t.canShow)||void 0===a?void 0:a.call(t,e))&&(j[n]||(j[n]=[]),j[n].push(t.formula.keys))}))},O=function(t,n){if(t.conditional&&u.a.canShow(t.conditional,e)){var a=u.a.resolve(t.conditional,e,null).fields;a&&f(a,n)}t.fields&&f(t.fields,n)};h&&Object.entries(h.sheets).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1].sections;"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto"),a.forEach((function(e){return O(e,"talentKey_".concat(n))}))}));var m="weapon_".concat(e.weapon.key);return a.document&&a.document.map((function(e){return O(e,m)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1],r=c[n];r&&Object.entries(r.setEffects).forEach((function(e){var t=Object(i.a)(e,2),c=t[0],r=t[1].document;a<parseInt(c)||r&&r.map((function(e){return O(e,"artifact_".concat(n,"_").concat(c))}))}))})),Object(r.a)(Object(r.a)({basicKeys:o},j),{},{transReactions:l})}},206:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return W}));var a=n(12),c=n(2),r=n(29),i=n(10),s=n(0),o=n(142),l=n(118),u=n(548),d=n(187),j=n(121),b=n(70),h=n(226),f=n(541),v=n(335),O=n(188),m=n(186),p=n(112),x=n(203),g=n(202),y=n(115),S=n(45),w=n(111),k=n(15),_=n(114),K=n(204),C=n(113),E=n(1);function N(e){var t=e.onSelect,n=e.weaponTypeKey,a=Object(s.useContext)(S.b),c=Object(w.a)(C.b.getAll(),[]);return Object(E.jsx)(E.Fragment,{children:a._getCharKeys().filter((function(e){var t;return!n||(null===c||void 0===c||null===(t=c[e])||void 0===t?void 0:t.weaponTypeKey)===n})).sort().map((function(e){return Object(E.jsx)(A,{characterKey:e,onSelect:t},e)}))})}function A(e){var t=e.characterKey,n=e.onSelect,a=Object(w.a)(C.b.get(t),[t]);return a?Object(E.jsx)(m.a.Item,{onClick:function(){return n(t)},children:a.nameWIthIcon}):null}function T(e){var t=e.characterSheet,n=e.onSelect,a=e.filter,r=Object(s.useState)(!1),i=Object(c.a)(r,2),u=i[0],d=i[1],j=t?Object(E.jsxs)("span",{children:[Object(E.jsx)(o.a,{src:t.thumbImg,className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(E.jsxs)("h6",{className:"d-inline",children:[" ",t.name," "]})]}):Object(E.jsx)("span",{children:"Select a Character"});return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{disabled:!n,onClick:function(){return d(!0)},children:j}),Object(E.jsx)(W,{show:u,onHide:function(){return d(!1)},onSelect:n,filter:a})]})}var B={rarity:"Rarity",level:"Level",name:"Name"};function I(e,t){return t===e?"":t}function W(e){var t=e.show,n=e.onHide,O=e.onSelect,m=e.filter,p=void 0===m?function(){return!0}:m,g=Object(s.useContext)(S.b),_=Object(s.useState)((function(){return Object.keys(B)[0]})),K=Object(c.a)(_,2),N=K[0],A=K[1],T=Object(s.useReducer)(I,""),W=Object(c.a)(T,2),H=W[0],M=W[1],V=Object(s.useReducer)(I,""),z=Object(c.a)(V,2),D=z[0],L=z[1],R=Object(w.a)(C.b.getAll(),[]),q=function(e){var t,n;return null!==(t=null===(n=g._getChar(e))||void 0===n?void 0:n.level)&&void 0!==t?t:0},P=function(e){var t;return null===R||void 0===R||null===(t=R[e])||void 0===t?void 0:t.star},J=R?Object(a.a)(new Set(k.c)).filter((function(e){return p(g._getChar(e),R[e])})).filter((function(e){var t,n;return(!H||H===(null===R||void 0===R||null===(t=R[e])||void 0===t?void 0:t.elementKey))&&(!D||D===(null===R||void 0===R||null===(n=R[e])||void 0===n?void 0:n.weaponTypeKey))})).sort((function(e,t){if("name"===N)return e<t?-1:e>t?1:0;if("level"===N){var n=q(t)-q(e);return n||P(t)-P(e)}var a=P(t)-P(e);return a||q(t)-q(e)})):[];return R?Object(E.jsx)(u.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:n,children:Object(E.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",children:[Object(E.jsx)(d.a.Header,{children:Object(E.jsxs)(j.a,{children:[Object(E.jsx)(b.a,{xs:"auto",children:Object(E.jsx)(h.a,{children:k.d.map((function(e){return Object(E.jsx)(l.a,{variant:H&&H!==e?"secondary":e,className:"py-1 px-2 text-white",onClick:function(){return M(e)},children:Object(E.jsx)("h3",{className:"mb-0",children:y.b[e]})},e)}))})}),Object(E.jsx)(b.a,{children:Object(E.jsx)(h.a,{children:k.j.map((function(e){var t;return Object(E.jsx)(l.a,{variant:D&&D!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return L(e)},children:Object(E.jsx)("h3",{className:"mb-0",children:Object(E.jsx)(o.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(E.jsxs)(b.a,{xs:"auto",children:[Object(E.jsx)("span",{children:"Sort by: "}),Object(E.jsx)(f.a,{type:"radio",name:"level",value:N,onChange:A,children:Object.entries(B).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(E.jsx)(v.a,{value:n,variant:N===n?"success":"primary",children:Object(E.jsx)("h6",{className:"mb-0",children:a})},n)}))})]}),Object(E.jsx)(b.a,{xs:"auto",children:Object(E.jsx)(l.a,{onClick:n,variant:"danger",children:Object(E.jsx)(i.a,{icon:r.D})})})]})}),Object(E.jsx)(d.a.Body,{children:Object(E.jsx)(j.a,{children:J.map((function(e){return Object(E.jsx)(F,{characterKey:e,onClick:function(){n(),null===O||void 0===O||O(e)}},e)}))})})]})}):null}function F(e){var t,n=e.onClick,a=e.characterKey,c=Object(s.useContext)(S.b),r=c._getChar(a),i=Object(w.a)(C.b.get(a),[a]),u=(null===r||void 0===r?void 0:r.equippedWeapon)?c._getWeapon(r.equippedWeapon):void 0,d=Object(w.a)(u?_.a.get(u.key):void 0,[null===u||void 0===u?void 0:u.key]),h=Object(w.a)(p.a.getAll(),[]),f=Object(s.useMemo)((function(){return r&&i&&d&&h&&K.a.calculateBuild(r,c,i,d,h)}),[r,i,d,h,c]);return i?Object(E.jsx)(b.a,{lg:3,md:4,className:"mb-2",children:Object(E.jsxs)(l.a,{className:"w-100",variant:"darkcontent",onClick:n,children:[Object(E.jsx)("h5",{children:i.name}),Object(E.jsxs)(j.a,{children:[Object(E.jsx)(b.a,{xs:"auto",className:"pr-0",children:Object(E.jsx)(o.a,{src:i.thumbImg,className:"thumb-big grad-".concat(i.star,"star p-0"),thumbnail:!0})}),Object(E.jsxs)(b.a,{children:[f&&r?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("h5",{className:"mb-0",children:["Lv. ",K.a.getLevelString(r)," ","C".concat(r.constellation)]}),Object(E.jsxs)("h6",{className:"mb-0",children:[Object(E.jsx)(O.a,{variant:"secondary",children:Object(E.jsx)("strong",{className:"mx-1",children:f.tlvl.auto+1})})," ",Object(E.jsx)(O.a,{variant:"secondary",children:Object(E.jsx)("strong",{className:"mx-1",children:f.tlvl.skill+1})})," ",Object(E.jsx)(O.a,{variant:"secondary",children:Object(E.jsx)("strong",{className:"mx-1",children:f.tlvl.burst+1})})]})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("h4",{children:Object(E.jsx)(O.a,{variant:"primary",children:"NEW"})})}),Object(E.jsx)("h6",{className:"mb-0",children:Object(E.jsx)(g.a,{stars:i.star,colored:!0})}),Object(E.jsxs)("h3",{className:"mb-0",children:[i.elementKey&&y.a[i.elementKey]," ",Object(E.jsx)(o.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[i.weaponTypeKey],className:"inline-icon"})]})]})]})]})},a):null}},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),c=n(12),r=n(69),i=n(40);function s(e){var t=new Set;return e(new Proxy({},{get:function(e,n,a){t.add(n.toString())}})),Object(c.a)(t)}var o=Object.freeze(Object.fromEntries(Object.entries(i.b).map((function(e){var t=Object(a.a)(e,2);return[t[0],s(t[1])]}))));function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(i.d),a=new Set,r=Object(c.a)(Array(i.f)).map((function(e){return new Set}));return n.forEach((function(n){return u(e,n,t,r,a)})),r.flatMap((function(e){return Object(c.a)(e)}))}function u(e,t,n,a,c){var s,l;c.has(t)||(c.add(t),null===(s=o[t])||void 0===s||s.forEach((function(t){return u(e,t,n,a,c)})),(null!==(l=n[t])&&void 0!==l?l:[]).forEach((function(t){return r.a.getCurrent(t,e)[1].forEach((function(t){return u(e,t,n,a,c)}))})),a[Object(i.e)(t)].add(t))}},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(2),c=n(29),r=n(10),i=n(0),s=n(548),o=n(187),l=n(121),u=n(70),d=n(118),j=n(197),b=n(34),h=n(11),f=n(80),v=n(1);function O(e){var t,n,O=e.pageKey,m=void 0===O?"":O,p=e.text,x=void 0===p?"":p,g=e.modalTitle,y=void 0===g?"":g,S=e.children,w=Object(i.useState)(null===(t=null===(n=b.b.get("infoShown"))||void 0===n?void 0:n[m])||void 0===t||t),k=Object(a.a)(w,2),_=k[0],K=k[1],C=Object(i.useState)(Array.isArray(x)?Object(h.g)(x):x),E=Object(a.a)(C,1)[0],N=function(){var e,t=null!==(e=b.b.get("infoShown"))&&void 0!==e?e:{};t[m]=!1,b.b.set("infoShown",t),K(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a,{show:_,onHide:function(){return N()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(v.jsxs)(o.a,{bg:"darkcontent",text:"lightfont",children:[Object(v.jsx)(o.a.Header,{children:Object(v.jsxs)(l.a,{children:[Object(v.jsx)(u.a,{children:Object(v.jsx)(o.a.Title,{children:y})}),Object(v.jsx)(u.a,{xs:"auto",children:Object(v.jsx)(d.a,{variant:"danger",onClick:function(){return N()},children:Object(v.jsx)(r.a,{icon:c.D})})})]})}),Object(v.jsx)(o.a.Body,{children:Object(v.jsx)(i.Suspense,{fallback:Object(v.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(v.jsx)(j.a,{animation:"border",variant:"primary"})]}),children:S})}),Object(v.jsx)(o.a.Footer,{children:Object(v.jsx)(d.a,{variant:"danger",onClick:function(){return N()},children:Object(v.jsx)("span",{children:"Close"})})})]})}),Object(v.jsx)(o.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(v.jsx)(o.a.Body,{className:"pl-2 py-0 pr-0",children:Object(v.jsxs)(l.a,{children:[Object(v.jsx)(u.a,{children:Object(v.jsx)("small",{children:E})}),Object(v.jsx)(u.a,{xs:"auto",children:Object(v.jsxs)(d.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return K(!0)},children:[Object(v.jsx)(f.a,{ns:"ui",key18:"info"})," ",Object(v.jsx)(r.a,{icon:c.x})]})})]})})})]})}}}]);
//# sourceMappingURL=6.feb6b1e9.chunk.js.map