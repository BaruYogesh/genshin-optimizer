(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[21],{281:function(e,t,n){"use strict";var a=n(10),c=Object(a.a)("span",{name:"SqBadge",slot:"Root"})((function(e){var t,n,a=e.theme,c=e.color,i=void 0===c?"primary":c;return{display:"inline-block",padding:".25em .4em",fontSize:"75%",fontWeight:700,lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:null===(t=a.palette[i])||void 0===t?void 0:t.main,color:null===(n=a.palette[i])||void 0===n?void 0:n.contrastText}}));t.a=c},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(132),c=n(7),i=n(5),o=n(3),r=n(23),s=n(81),l=n(134),u=n(114),d=n(47),b=n(63),j=n(48),O=n(307),v=n(42),f=n(15),p=n(141),h=function e(){if(Object(r.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};h.getElementalName=function(e){return b.a[e].name},h.getLevelString=function(e){return"".concat(e.level,"/").concat(d.b[e.ascension])},h.getTalentFieldValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(f.f)(e[t],n):a},h.hasBonusStats=function(e,t){return"finalHP"===t?h.hasBonusStats(e,"hp")||h.hasBonusStats(e,"hp_")||h.hasBonusStats(e,"characterHP"):"finalDEF"===t?h.hasBonusStats(e,"def")||h.hasBonusStats(e,"def_")||h.hasBonusStats(e,"characterDEF"):"finalATK"===t?h.hasBonusStats(e,"atk")||h.hasBonusStats(e,"atk_")||h.hasBonusStats(e,"characterATK"):!!(null===e||void 0===e?void 0:e.bonusStats)&&t in e.bonusStats},h.getStatValueWithBonus=function(e,t){var n,a,c,i,o;return v.e.includes(t)?null!==(n=null!==(a=null===(c=e.bonusStats)||void 0===c?void 0:c[t])&&void 0!==a?a:Object(v.a)(e)[t])&&void 0!==n?n:0:null!==(i=null===(o=e.bonusStats)||void 0===o?void 0:o[t])&&void 0!==i?i:0},h.calculateBuild=function(e,t,n,a,c){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var n=Object(o.a)(e,2),a=n[0],c=n[1];return[a,t._getArt(c)]}))),s=h.createInitialStats(e,t,n,a);return s.mainStatAssumptionLevel=i,h.calculateBuildwithArtifact(s,r,c)},h.calculateBuildwithArtifact=function(e,t,n){var a,c=s.a.setToSlots(t),r=l.a.setEffectsStats(n,e,c),d=Object(f.d)(e);Object.values(t).forEach((function(e){e&&(d[e.mainStatKey]=(d[e.mainStatKey]||0)+s.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(d.mainStatAssumptionLevel,4*e.rarity),e.level)),e.substats.forEach((function(e){return e&&e.key&&(d[e.key]=(d[e.key]||0)+e.value)})))})),Object(v.d)(d,r),u.a.parseConditionalValues({artifact:null===d||void 0===d||null===(a=d.conditionalValues)||void 0===a?void 0:a.artifact},(function(e,t,n){var a,i,r=Object(o.a)(n,3),s=r[1],l=r[2];if(!(parseInt(l)>(null!==(a=null===c||void 0===c||null===(i=c[s])||void 0===i?void 0:i.length)&&void 0!==a?a:0))){var b=u.a.resolve(e,d,t).stats;Object(v.d)(d,b)}})),d.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return[n,null===a||void 0===a?void 0:a.id]}))),d.setToSlots=c;var b=Object(O.a)(d,null===d||void 0===d?void 0:d.modifiers),p=Object(j.c)(b,d),h=p.initialStats;return(0,p.formula)(h),Object(i.a)(Object(i.a)({},d),h)},h.createInitialStats=function(e,t,n,r){var s,l,d,b=e.key,j=e.bonusStats,O=void 0===j?{}:j,f=e.elementKey,h=e.level,m=e.ascension,x=e.hitMode,g=e.infusionAura,y=e.reactionMode,S=e.talent,k=e.constellation,C=e.equippedArtifacts,w=e.conditionalValues,A=void 0===w?{}:w,B=e.equippedWeapon,M=null!==(s=t._getWeapon(B))&&void 0!==s?s:Object(p.a)(n.weaponTypeKey),I=Object.fromEntries(Object.entries(O).filter((function(e){var t=Object(o.a)(e,1)[0];return v.e.includes(t)}))),V=Object.fromEntries(Object.entries(O).filter((function(e){var t=Object(o.a)(e,1)[0];return!v.e.includes(t)}))),T=Object(v.a)(e);T.characterKey=b,T.characterLevel=h,T.characterHP=n.getBase("characterHP",h,m),T.characterDEF=n.getBase("characterDEF",h,m),T.characterATK=n.getBase("characterATK",h,m),T.characterEle=null!==(l=null!==(d=n.elementKey)&&void 0!==d?d:f)&&void 0!==l?l:"anemo",T.hitMode=x,T.infusionAura=g,T.reactionMode=y,T.conditionalValues=A,T.weaponType=n.weaponTypeKey,T.tlvl=Object.fromEntries(Object.entries(null!==S&&void 0!==S?S:{}).map((function(e){var t=Object(o.a)(e,2);return[t[0],t[1]-1]}))),T.constellation=k,T.ascension=m,T.weapon={key:M.key,refineIndex:M.refinement-1},T.equippedArtifacts=C,T=Object(i.a)(Object(i.a)({},T),I),Object(v.d)(T,V);var E=n.getSpecializedStat(m);if(E){var R=n.getSpecializedStatVal(m);Object(v.d)(T,Object(c.a)({},E,R))}for(var L in n.getTalentStatsAll(T,T.characterEle).forEach((function(e){return Object(v.d)(T,e)})),T.tlvl){var K;T.tlvl[L]+=null!==(K=T["".concat(L,"Boost")])&&void 0!==K?K:0}var F=r.getMainStatValue(M.level,M.ascension);T.weaponATK=F;var N=r.getSubStatKey();N&&Object(v.d)(T,Object(c.a)({},N,r.getSubStatValue(M.level,M.ascension))),Object(v.d)(T,r.stats(T));A.artifact;var P=A.weapon,_=Object(a.a)(A,["artifact","weapon"]);return u.a.parseConditionalValues(Object(i.a)(Object(i.a)({},M.key&&{weapon:Object(c.a)({},M.key,null===P||void 0===P?void 0:P[M.key])}),_),(function(e,t,n){if(("character"!==n[0]||"talents"!==n[3]||n[4]===f)&&u.a.canShow(e,T)){var a=u.a.resolve(e,T,t).stats;Object(v.d)(T,a)}})),T},h.getDisplayStatKeys=function(e,t){var n=t.characterSheet,a=t.weaponSheet,c=t.artifactSheets,r=e.characterEle,s=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(r,"_dmg_")];n.isAutoElemental||s.push("physical_dmg_");var l=Object(f.d)(j.a[r]),d=n.weaponTypeKey;l.includes("shattered_hit")||"claymore"!==d||l.push("shattered_hit");var b={},O=n.getTalent(r),v=function(t,n){return t.forEach((function(t){var a;t.formula&&(null===t||void 0===t||null===(a=t.canShow)||void 0===a?void 0:a.call(t,e))&&(b[n]||(b[n]=[]),b[n].push(t.formula.keys))}))},p=function(t,n){if(t.conditional&&u.a.canShow(t.conditional,e)){var a=u.a.resolve(t.conditional,e,null).fields;a&&v(a,n)}t.fields&&v(t.fields,n)};O&&Object.entries(O.sheets).forEach((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1].sections;"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto"),a.forEach((function(e){return p(e,"talentKey_".concat(n))}))}));var h="weapon_".concat(e.weapon.key);return a.document&&a.document.map((function(e){return p(e,h)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(o.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1],i=c[n];i&&Object.entries(i.setEffects).forEach((function(e){var t=Object(o.a)(e,2),c=t[0],i=t[1].document;a<parseInt(c)||i&&i.map((function(e){return p(e,"artifact_".concat(n,"_").concat(c))}))}))})),Object(i.a)(Object(i.a)({basicKeys:s},b),{},{transReactions:l})}},286:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5),c=n(1),i=n(174),o=n(42);function r(e){var t=Object(c.useContext)(i.b);return Object(c.useCallback)((function(n){if(e)if("type"in n)switch(n.type){case"weapon":t.setWeaponLocation(n.id,e);break;case"editStats":var c,i=t._getChar(e),r=n.statKey,s=n.value,l=i.bonusStats;if(l[r]===s)return;if(o.e.includes(r))(null!==(c=Object(o.a)(i)[r])&&void 0!==c?c:0)===s?delete l[r]:l[r]=s;else s?l[r]=s:delete l[r];t.updateChar(Object(a.a)(Object(a.a)({},i),{},{bonusStats:l}));break;case"resetStats":var u=t._getChar(e),d=n.statKey,b=u.bonusStats;delete b[d],t.updateChar(Object(a.a)(Object(a.a)({},u),{},{bonusStats:b}))}else t.updateChar(Object(a.a)(Object(a.a)({},t._getChar(e)),n))}),[e,t])}},287:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n(51),c=n(17),i=n(79),o=n(221),r=n(395),s=n(10),l=n(270),u=n(1),d=n(112),b=n(283),j=n(297),O=n(32),v=n(0);function f(e){var t,n,s=e.field,l=Object(u.useContext)(d.a),f=l.newBuild,p=l.equippedBuild,h=l.compareBuild,m=f||p,x=Object(u.useMemo)((function(){var e;return!!m&&(null===s||void 0===s||null===(e=s.canShow)||void 0===e?void 0:e.call(s,m))}),[s,m]),g=(null===s||void 0===s?void 0:s.fixed)||0,y=Object(u.useMemo)((function(){if(s.value)return b.a.getTalentFieldValue(s,"value",m);if(s.formula){var e,t,n=null===(e=b.a.getTalentFieldValue(s,"formula",m))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.call(e,m);if(h&&p&&"number"===typeof n){var a,c,i,o,r,l,u,d,j,f=s.value?s.value:null===(a=s.formula)||void 0===a||null===(c=a.call(s,p))||void 0===c||null===(i=c[0])||void 0===i?void 0:i.call(c,p);"function"===typeof f&&(f=parseInt(null===(o=f)||void 0===o||null===(r=o(p))||void 0===r||null===(l=r.toFixed)||void 0===l?void 0:l.call(r,g)));var x=n-f;n=Object(v.jsxs)("span",{children:[null!==(u=null===(d=f)||void 0===d?void 0:d.toFixed(g))&&void 0!==u?u:f,x?Object(v.jsxs)(O.a,{color:x>0?"success":"error",children:[" (",x>0?"+":"",(null===x||void 0===x||null===(j=x.toFixed)||void 0===j?void 0:j.call(x,g))||x,")"]}):""]})}return n}}),[h,g,p,s,m]),S=Object(u.useMemo)((function(){return b.a.getTalentFieldValue(s,"text",m)}),[s,m]),k=Object(u.useMemo)((function(){return b.a.getTalentFieldValue(s,"variant",m)}),[s,m]),C=Object(u.useMemo)((function(){var e=b.a.getTalentFieldValue(s,"formulaText",m);return e?Object(v.jsx)(j.a,{placement:"top",title:Object(v.jsx)(i.a,{children:e}),children:Object(v.jsx)(o.a,{component:"span",sx:{cursor:"help",ml:1},children:Object(v.jsx)(c.a,{icon:a.v})})}):null}),[s,m]),w=Object(u.useMemo)((function(){return b.a.getTalentFieldValue(s,"unit",m)}),[s,m]);return x?Object(v.jsxs)(r.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("b",{children:S}),C]}),Object(v.jsxs)(i.a,{color:"".concat(k,".main"),children:[null!==(t=null===y||void 0===y||null===(n=y.toFixed)||void 0===n?void 0:n.call(y,g))&&void 0!==t?t:y,w]})]}):null}var p=Object(s.a)(l.a)((function(e){var t=e.theme;return{borderRadius:t.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:t.palette.contentDark.main},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:t.palette.contentDarker.main}}}))},291:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return b}));var a=n(5),c=n(3),i=n(132),o=n(10),r=n(466),s=n(1),l=n(0),u=Object(o.a)(r.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),d=Object(o.a)("button",{shouldForwardProp:function(e){return!["fullWidth","disableRipple","disableFocusRipple","disableElevation"].includes(e)}})((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,padding:0,overflow:"hidden",border:"none",borderRadius:t.shape.borderRadius,"& div":{width:"100%",height:"100%"},"&.MuiButtonGroup-grouped:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},"&.MuiButtonGroup-grouped:not(:first-of-type)":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}}));function b(e){var t=e.value,n=void 0===t?0:t,o=e.onChange,r=e.disabled,d=void 0!==r&&r,b=e.float,j=void 0!==b&&b,O=Object(i.a)(e,["value","onChange","disabled","float"]),v=Object(s.useState)(n),f=Object(c.a)(v,2),p=f[0],h=f[1],m=Object(s.useState)(!1),x=Object(c.a)(m,2),g=x[0],y=x[1],S=Object(s.useMemo)((function(){return j?parseFloat:parseInt}),[j]),k=Object(s.useCallback)((function(){o(p),y(!1)}),[o,p,y]),C=Object(s.useCallback)((function(){y(!0)}),[y]);Object(s.useEffect)((function(){return h(n)}),[n,h]);var w=Object(s.useCallback)((function(e){return h(S(e.target.value)||0)}),[h,S]),A=Object(s.useCallback)((function(e){return"Enter"===e.key&&k()}),[k]);return Object(l.jsx)(u,Object(a.a)({value:g&&!p?"":p,"aria-label":"custom-input",type:"number",onChange:w,onBlur:k,onFocus:C,disabled:d,onKeyDown:A},O))}},297:function(e,t,n){"use strict";var a=n(7),c=n(5),i=n(132),o=n(10),r=n(993),s=n(591),l=n(0),u=Object(o.a)((function(e){var t=e.className,n=Object(i.a)(e,["className"]);return Object(l.jsx)(r.a,Object(c.a)(Object(c.a)({},n),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,n=e.theme;return t={},Object(a.a)(t,"& .".concat(s.a.arrow),{color:n.palette.common.black}),Object(a.a)(t,"& .".concat(s.a.tooltip),{backgroundColor:n.palette.common.black}),t}));t.a=u},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(221),c=n(1),i=n(112),o=n(15),r=n(3),s=n(11),l=n(468),u=n(114),d=n(364),b=n(365),j=n(1007),O=n(254),v=n(272),f=n(279),p=n(281),h=n(0);function m(e){var t=e.conditional,n=e.conditionalValue,a=e.setConditional,c=e.name,i=e.disabled,l=void 0!==i&&i,u=e.stats,m=Object(r.a)(n,2),x=m[0],g=void 0===x?0:x,y=m[1];if(!t)return c;if("states"in t){var S=y?t.states[y]:Object.values(t.states)[0],k=0===g?"Not Active":Object(h.jsxs)("span",{children:[S.name," ",Object(o.f)(S.maxStack,u)>1?": ".concat(g," stack").concat(g>1?"s":""):""]}),C=Object(h.jsx)(p.a,{color:0===g?"secondary":"success",children:k});return Object(h.jsxs)(f.a,{size:"small",title:Object(h.jsxs)("span",{children:[c," ",C]}),disabled:l,children:[Object(h.jsx)(j.a,{onClick:function(){return a([0])},selected:0===g,disabled:0===g,children:Object(h.jsx)("span",{children:"Not Active"})}),Object(h.jsx)(O.a,{}),Object.entries(t.states).flatMap((function(e,t){var n=Object(r.a)(e,2),c=n[0],i=n[1];return Object(s.a)(Array(i.maxStack).keys()).map((function(e){return e+1})).map((function(e,t){return Object(h.jsxs)(j.a,{onClick:function(){return a([e,c])},selected:y===c&&g===e,disabled:y===c&&g===e,children:[i.name,i.maxStack>1?": ".concat(e," stack").concat(e>1?"s":""):""]},c+t)}))}))]})}var w=Object(o.f)(t.maxStack,u);if(w>1){var A=Object(h.jsx)(p.a,{color:0===g?"secondary":"success",children:g>0?"".concat(g," stack").concat(g>1?"s":""):"Not Active"});return Object(h.jsxs)(f.a,{size:"small",title:Object(h.jsxs)("span",{children:[c," ",A]}),disabled:l,children:[Object(h.jsx)(j.a,{onClick:function(){return a([0])},selected:0===g,disabled:0===g,children:Object(h.jsx)("span",{children:"Not Active"})}),Object(h.jsx)(O.a,{}),Object(s.a)(Array(w).keys()).map((function(e){return e+1})).map((function(e){return Object(h.jsx)(j.a,{onClick:function(){return a([e])},selected:g===e,disabled:g===e,children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})}return 1===w?Object(h.jsx)(v.a,{size:"small",onClick:function(){return a([g?0:1])},disabled:l,startIcon:g?Object(h.jsx)(d.a,{}):Object(h.jsx)(b.a,{}),children:c}):null}var x=n(286),g=n(113),y=n(278),S=n(287);function k(e){var t=e.conditional,n=e.characterKey,a=Object(c.useContext)(i.a),d=a.newBuild,b=a.equippedBuild,j=Object(x.a)(n),O=d||b,v=Object(c.useMemo)((function(){return u.a.canShow(t,O)}),[t,O]),f=Object(c.useMemo)((function(){return v&&u.a.resolve(t,O,void 0)}),[v,t,O]),p=f.stats,k=void 0===p?{}:p,C=f.fields,w=void 0===C?[]:C,A=f.conditionalValue,B=Object(c.useMemo)((function(){return v&&[].concat(Object(s.a)(Object(g.a)(k,O)),Object(s.a)(w))}),[v,k,O,w]),M=Object(c.useCallback)((function(e){if(O){var n=Object(r.a)(e,1)[0];(void 0===n?0:n)?t.keys&&Object(o.k)(O.conditionalValues,t.keys,e):(Object(o.e)(O.conditionalValues,t.keys),Object(o.l)(O.conditionalValues)),j({conditionalValues:O.conditionalValues})}}),[t,O,j]);return v&&O?Object(h.jsxs)(y.a,{children:[Object(h.jsx)(l.a,{children:Object(h.jsx)(m,{conditional:t,conditionalValue:A,setConditional:M,name:t.name,stats:O})}),Object(h.jsx)(S.a,{sx:{m:0},children:B.map((function(e,t){return Object(h.jsx)(S.b,{field:e},t)}))})]}):null}function C(e){var t=e.sections,n=e.characterKey,r=Object(c.useContext)(i.a),s=r.newBuild,l=r.equippedBuild,u=s||l;return u?Object(h.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e,t){var c,i;if(!e.canShow(u))return null;var r=Object(o.f)(e.text,u),s=null!==(c=e.fields)&&void 0!==c?c:[];return Object(h.jsxs)(a.a,{sx:{pb:-1,"& > *":{mb:1}},children:[Object(h.jsx)("div",{children:r}),s.length>0&&Object(h.jsx)(S.a,{children:null===s||void 0===s||null===(i=s.map)||void 0===i?void 0:i.call(s,(function(e,t){return Object(h.jsx)(S.b,{field:e},t)}))}),!!e.conditional&&Object(h.jsx)(k,{conditional:e.conditional,characterKey:n})]},"section"+t)}))}):null}},307:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),c=n(11),i=n(83),o=n(48);function r(e){var t=new Set;return e(new Proxy({},{get:function(e,n,a){t.add(n.toString())}})),Object(c.a)(t)}var s=Object.freeze(Object.fromEntries(Object.entries(o.b).map((function(e){var t=Object(a.a)(e,2);return[t[0],r(t[1])]}))));function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(o.d),a=new Set,i=Object(c.a)(Array(o.f)).map((function(e){return new Set}));return n.forEach((function(n){return u(e,n,t,i,a)})),i.flatMap((function(e){return Object(c.a)(e)}))}function u(e,t,n,a,c){var r,l;c.has(t)||(c.add(t),null===(r=s[t])||void 0===r||r.forEach((function(t){return u(e,t,n,a,c)})),(null!==(l=n[t])&&void 0!==l?l:[]).forEach((function(t){return i.a.getCurrent(t,e)[1].forEach((function(t){return u(e,t,n,a,c)}))})),a[Object(o.e)(t)].add(t))}},343:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var a=n(7),c=n(11),i=n(5),o=n(3),r=n(375),s=n(376),l=n(430),u=n(468),d=n(265),b=n(957),j=n(272),O=n(1007),v=n(254),f=n(221),p=n(79),h=n(1),m=n(284),x=n(112),g=n(136),y=n(278),S=n(276),k=n(296),C=n(285),w=(n(32),n(291)),A=n(300),B=n(279),M=n(98),I=n(288),V=n(281),T=n(282),E=n(320),R=n(47),L=n(174),K=n(290),F=n(133),N=n(15),P=n(321),_=n(137),G=n(287),W=n(113),z=n(0);function D(e){var t=e.title,n=e.statsVals,a=void 0===n?{}:n,c=e.stats;if(0===Object.keys(a).filter((function(e){return"modifiers"!==e})).length)return null;var i=Object(W.a)(a,c);return Object(z.jsxs)(y.a,{sx:{mb:1},children:[Object(z.jsx)(u.a,{children:Object(z.jsx)(p.a,{children:t})}),Object(z.jsx)(G.a,{children:i.map((function(e,t){return Object(z.jsx)(G.b,{field:e},t)}))})]})}function H(e){var t,n,l=e.weaponId,m=e.charData,y=e.footer,M=void 0!==y&&y,I=e.onClose,P=Object(h.useContext)(L.b),G=Object(K.a)(),W=Object(o.a)(G,2),H=W[0],J=W[1],U=Object(h.useContext)(x.a),Y=Object(h.useMemo)((function(){return H&&P._getWeapon(l)}),[l,H,P]),Q=Y.key,X=Y.level,Z=Y.refinement,$=Y.ascension,ee=Y.lock,te=Y,ne=te.location,ae=void 0===ne?"":ne,ce=te.id,ie=Object(F.a)(_.a.get(Q),[Q]),oe=null===ie||void 0===ie?void 0:ie.weaponType;Object(h.useEffect)((function(){return l?P.followWeapon(l,J):void 0}),[l,J,P]);var re=Object(h.useCallback)((function(e){P.updateWeapon(e,l)}),[l,P]),se=Object(h.useCallback)((function(e){e=Object(N.a)(e,1,90);var t=R.b.findIndex((function(t){return e<=t}));re({level:e,ascension:t})}),[re]),le=Object(h.useCallback)((function(){var e=R.b.findIndex((function(e){return 90!==X&&X===e}));re($===e?{ascension:$+1}:{ascension:e})}),[re,$,X]),ue=Object(i.a)({},m?null!==(t=m.newBuild)&&void 0!==t?t:m.equippedBuild:{weapon:{refineIndex:Z-1,level:X,ascension:$}}),de=Object(F.a)(ae?g.b.get(ae):void 0,[ae]),be=de?function(e){return e.weaponType===de.weaponTypeKey}:void 0,je=de&&de.weaponTypeKey,Oe=Object(h.useCallback)((function(e){return ce&&P.setWeaponLocation(ce,e)}),[P,ce]),ve=Object(h.useCallback)((function(e){return e.weaponTypeKey===(null===ie||void 0===ie?void 0:ie.weaponType)}),[ie]),fe=Object(h.useState)(!1),pe=Object(o.a)(fe,2),he=pe[0],me=pe[1],xe=$<2?null===ie||void 0===ie?void 0:ie.img:null===ie||void 0===ie?void 0:ie.imgAwaken;return Object(z.jsxs)(S.a,{children:[Object(z.jsx)(u.a,{sx:{py:1},children:Object(z.jsxs)(d.a,{container:!0,spacing:1,children:[Object(z.jsx)(d.a,{item:!0,flexGrow:1,children:Object(z.jsxs)(d.a,{container:!0,spacing:1,children:[Object(z.jsxs)(d.a,{item:!0,children:[Object(z.jsx)(E.a,{show:he,onHide:function(){return me(!1)},onSelect:function(e){return re({key:e})},filter:be,weaponFilter:je}),Object(z.jsxs)(b.a,{children:[Object(z.jsx)(j.a,{onClick:function(){return me(!0)},children:null!==(n=null===ie||void 0===ie?void 0:ie.name)&&void 0!==n?n:"Select a Weapon"}),Object(z.jsxs)(B.a,{title:"Refinement ".concat(Z),children:[Object(z.jsx)(O.a,{children:"Select Weapon Refinement"}),Object(z.jsx)(v.a,{}),Object(c.a)(Array(5).keys()).map((function(e){return Object(z.jsx)(O.a,{onClick:function(){return re({refinement:e+1})},selected:Z===e+1,disabled:Z===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(z.jsx)(d.a,{item:!0,children:Object(z.jsxs)(b.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(z.jsx)(w.a,{children:Object(z.jsx)(w.c,{onChange:se,value:X,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(z.jsx)(j.a,{sx:{pl:1},disabled:!Object(R.a)(X),onClick:le,children:Object(z.jsxs)("strong",{children:["/ ",R.b[$]]})}),Object(z.jsx)(B.a,{title:"Select Level",children:R.c.map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1],c=n===R.b[a]?"Lv. ".concat(n):"Lv. ".concat(n,"/").concat(R.b[a]),i=n===X&&a===$;return Object(z.jsx)(O.a,{selected:i,disabled:i,onClick:function(){return re({level:n,ascension:a})},children:c},"".concat(n,"/").concat(a))}))})]})}),Object(z.jsx)(d.a,{item:!0,children:Object(z.jsx)(j.a,{color:"error",onClick:function(){return ce&&P.updateWeapon({lock:!ee},ce)},startIcon:ee?Object(z.jsx)(r.a,{}):Object(z.jsx)(s.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!I&&Object(z.jsx)(d.a,{item:!0,children:Object(z.jsx)(C.a,{onClick:I})}),!!m&&P===L.c&&Object(z.jsx)(d.a,{item:!0,children:Object(z.jsx)(q,{weaponTypeKey:oe,onChangeId:function(e){return P.setWeaponLocation(e,m.character.key)}})})]})}),Object(z.jsx)(v.a,{}),Object(z.jsx)(u.a,{children:function(){if(!ie)return null;var e=ie.getSubStatKey(),t=ie.getMainStatValue(X,$),n=ie.getSubStatValue(X,$),c=ie.passiveName,i=ie.stats(ue),o=ie.document;return Object(z.jsxs)(f.a,{display:"flex",gap:{xs:1,md:1.5,lg:2},children:[Object(z.jsxs)(f.a,{sx:{maxWidth:256},flexShrink:1,minWidth:"25%",children:[Object(z.jsx)(f.a,{component:"img",src:xe,className:"grad-".concat(ie.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}}),Object(z.jsx)(p.a,{children:Object(z.jsx)("small",{children:ie.description})})]}),Object(z.jsxs)(f.a,{sx:{mb:-1},flexGrow:1,children:[Object(z.jsxs)(p.a,{variant:"h6",children:[!1,ie.name," Lv. ",_.a.getLevelString(Y)," ",c&&Object(z.jsxs)(V.a,{color:"info",children:["Refinement ",Z]})]}),Object(z.jsx)(p.a,{children:Object(z.jsx)(T.a,{stars:ie.rarity})}),Object(z.jsx)(p.a,{variant:"subtitle1",children:c}),Object(z.jsx)(p.a,{gutterBottom:!0,children:c&&ie.passiveDescription(ue)}),ue&&Object(z.jsxs)(x.a.Provider,{value:m?U:{equippedBuild:ue,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(z.jsx)(D,{title:"Main Stats",statsVals:Object(a.a)({atk:t},e,e?n:void 0),stats:ue}),Object(z.jsx)(D,{title:"Bonus Stats",statsVals:i,stats:ue})]}),m&&o?function(){var e,t=m.equippedBuild,n=m.newBuild,a=null===(e=n||t)||void 0===e?void 0:e.characterKey;return!!a&&Object(z.jsx)(A.a,{sections:o,equippedBuild:t,newBuild:n,characterKey:a})}():null]})]})}()}),M&&ce&&Object(z.jsx)(u.a,{sx:{py:1},children:Object(z.jsxs)(d.a,{container:!0,children:[Object(z.jsx)(d.a,{item:!0,flexGrow:1,children:Object(z.jsx)(k.b,{noUnselect:!0,inventory:!0,value:ae,onChange:Oe,filter:ve})}),!!I&&Object(z.jsx)(d.a,{item:!0,children:Object(z.jsx)(C.a,{large:!0,onClick:I})})]})})]})}function q(e){var t=e.onChangeId,n=e.weaponTypeKey,a=Object(h.useContext)(L.b),c=Object(h.useState)(!1),i=Object(o.a)(c,2),r=i[0],s=i[1],b=function(){return s(!1)},O=function(e){t(e),b()},f=Object(F.a)(_.a.getAll(),[]),x=a.weapons.keys.filter((function(e){var t,c=a._getWeapon(e);return!!c&&(!n||n===(null===f||void 0===f||null===(t=f[c.key])||void 0===t?void 0:t.weaponType))}));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(j.a,{color:"info",onClick:function(){return s(!0)},startIcon:Object(z.jsx)(l.a,{}),children:"SWAP WEAPON"}),Object(z.jsx)(I.a,{open:r,onClose:b,children:Object(z.jsxs)(y.a,{children:[Object(z.jsx)(u.a,{sx:{py:1},children:Object(z.jsxs)(d.a,{container:!0,children:[Object(z.jsx)(d.a,{item:!0,flexGrow:1,children:Object(z.jsxs)(p.a,{variant:"h6",children:[n?Object(z.jsx)(M.a,{src:m.a.weaponTypes[n]}):null," Swap Weapon"]})}),Object(z.jsx)(d.a,{item:!0,children:Object(z.jsx)(C.a,{onClick:b})})]})}),Object(z.jsx)(v.a,{}),Object(z.jsx)(u.a,{children:Object(z.jsx)(d.a,{container:!0,spacing:1,children:x.map((function(e){return Object(z.jsx)(d.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(z.jsx)(P.a,{weaponId:e,onClick:O})},e)}))})})]})})]})}},364:function(e,t,n){"use strict";var a=n(69),c=n(0);t.a=Object(a.a)(Object(c.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},365:function(e,t,n){"use strict";var a=n(69),c=n(0);t.a=Object(a.a)(Object(c.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},395:function(e,t,n){"use strict";var a=n(7),c=n(9),i=n(2),o=n(1),r=(n(4),n(8)),s=n(110),l=n(101),u=n(93),d=n(10),b=n(12),j=n(219),O=n(351),v=n(99),f=n(34),p=n(53),h=n(94),m=n(111);function x(e){return Object(h.a)("MuiListItem",e)}var g=Object(m.a)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),y=n(68);function S(e){return Object(h.a)("MuiListItemSecondaryAction",e)}Object(m.a)("MuiListItemSecondaryAction",["root","disableGutters"]);var k=n(0),C=["className"],w=Object(d.a)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return Object(i.a)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),A=o.forwardRef((function(e,t){var n=Object(b.a)({props:e,name:"MuiListItemSecondaryAction"}),a=n.className,l=Object(c.a)(n,C),u=o.useContext(p.a),d=Object(i.a)({},n,{disableGutters:u.disableGutters}),j=function(e){var t=e.disableGutters,n=e.classes,a={root:["root",t&&"disableGutters"]};return Object(s.a)(a,S,n)}(d);return Object(k.jsx)(w,Object(i.a)({className:Object(r.a)(j.root,a),ownerState:d,ref:t},l))}));A.muiName="ListItemSecondaryAction";var B=A,M=["className"],I=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],V=Object(d.a)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,c=e.ownerState;return Object(i.a)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!c.disablePadding&&Object(i.a)({paddingTop:8,paddingBottom:8},c.dense&&{paddingTop:4,paddingBottom:4},!c.disableGutters&&{paddingLeft:16,paddingRight:16},!!c.secondaryAction&&{paddingRight:48}),!!c.secondaryAction&&Object(a.a)({},"& > .".concat(y.a.root),{paddingRight:48}),(t={},Object(a.a)(t,"&.".concat(g.focusVisible),{backgroundColor:n.palette.action.focus}),Object(a.a)(t,"&.".concat(g.selected),Object(a.a)({backgroundColor:Object(u.a)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(g.focusVisible),{backgroundColor:Object(u.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),Object(a.a)(t,"&.".concat(g.disabled),{opacity:n.palette.action.disabledOpacity}),t),"flex-start"===c.alignItems&&{alignItems:"flex-start"},c.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},c.button&&Object(a.a)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(g.selected,":hover"),{backgroundColor:Object(u.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Object(u.a)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),c.hasSecondaryAction&&{paddingRight:48})})),T=Object(d.a)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),E=o.forwardRef((function(e,t){var n=Object(b.a)({props:e,name:"MuiListItem"}),a=n.alignItems,u=void 0===a?"center":a,d=n.autoFocus,h=void 0!==d&&d,m=n.button,y=void 0!==m&&m,S=n.children,C=n.className,w=n.component,A=n.components,E=void 0===A?{}:A,R=n.componentsProps,L=void 0===R?{}:R,K=n.ContainerComponent,F=void 0===K?"li":K,N=n.ContainerProps,P=(N=void 0===N?{}:N).className,_=n.dense,G=void 0!==_&&_,W=n.disabled,z=void 0!==W&&W,D=n.disableGutters,H=void 0!==D&&D,q=n.disablePadding,J=void 0!==q&&q,U=n.divider,Y=void 0!==U&&U,Q=n.focusVisibleClassName,X=n.secondaryAction,Z=n.selected,$=void 0!==Z&&Z,ee=Object(c.a)(n.ContainerProps,M),te=Object(c.a)(n,I),ne=o.useContext(p.a),ae={dense:G||ne.dense||!1,alignItems:u,disableGutters:H},ce=o.useRef(null);Object(v.a)((function(){h&&ce.current&&ce.current.focus()}),[h]);var ie=o.Children.toArray(S),oe=ie.length&&Object(O.a)(ie[ie.length-1],["ListItemSecondaryAction"]),re=Object(i.a)({},n,{alignItems:u,autoFocus:h,button:y,dense:ae.dense,disabled:z,disableGutters:H,disablePadding:J,divider:Y,hasSecondaryAction:oe,selected:$}),se=function(e){var t=e.alignItems,n=e.button,a=e.classes,c=e.dense,i=e.disabled,o={root:["root",c&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return Object(s.a)(o,x,a)}(re),le=Object(f.a)(ce,t),ue=E.Root||V,de=L.root||{},be=Object(i.a)({className:Object(r.a)(se.root,de.className,C),disabled:z},te),je=w||"li";return y&&(be.component=w||"div",be.focusVisibleClassName=Object(r.a)(g.focusVisible,Q),je=j.a),oe?(je=be.component||w?je:"div","li"===F&&("li"===je?je="div":"li"===be.component&&(be.component="div")),Object(k.jsx)(p.a.Provider,{value:ae,children:Object(k.jsxs)(T,Object(i.a)({as:F,className:Object(r.a)(se.container,P),ref:le,ownerState:re},ee,{children:[Object(k.jsx)(ue,Object(i.a)({},de,!Object(l.a)(ue)&&{as:je,ownerState:Object(i.a)({},re,de.ownerState)},be,{children:ie})),ie.pop()]}))})):Object(k.jsx)(p.a.Provider,{value:ae,children:Object(k.jsxs)(ue,Object(i.a)({},de,{as:je,ref:le,ownerState:re},!Object(l.a)(ue)&&{ownerState:Object(i.a)({},re,de.ownerState)},be,{children:[ie,X&&Object(k.jsx)(B,{children:X})]}))})}));t.a=E},430:function(e,t,n){"use strict";var a=n(69),c=n(0);t.a=Object(a.a)(Object(c.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz")}}]);
//# sourceMappingURL=21.fadf8069.chunk.js.map