(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[19],{207:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2),c=a(0),r=a(128),i=a(1);function s(e){var t=e.value,a=e.onChange,s=e.className,l=void 0===s?"":s,o=e.disabled,u=void 0!==o&&o,d=e.float,j=void 0!==d&&d,b=e.placeholder,f=e.allowEmpty,h=void 0!==f&&f,x=e.max,O=e.min,m=Object(c.useState)(""),v=Object(n.a)(m,2),p=v[0],y=v[1],g=Object(c.useCallback)((function(){if(h&&""===p)return a(void 0);if(""===p)return a(0);var e=j?parseFloat:parseInt;a(e(p))}),[a,p,j,h]);return Object(c.useEffect)((function(){var e;return y(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,y]),Object(i.jsx)(r.a,{value:p,"aria-label":"custom-input",className:"hide-appearance ".concat(l),type:"number",placeholder:b,onChange:function(e){return y(e.target.value)},onBlur:g,disabled:u,onKeyDown:function(e){return"Enter"===e.key&&g()},max:x,min:O})}},227:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var n,c,r,i,s=a(205),l=a(2),o=a(29),u=a(10),d=a(0),j=a(188),b=a(118),f=a(226),h=a(187),x=a(70),O=a(186),m=a(142),v=a(222),p=a(121),y=a(217),g=a(110),w=a(113),S=a(206),N=a(202),k=a(45),K=a(33),C=a(58),A=a(123),E=a(68),I=a(112),L=a(122),M=a(228),T=a(111),F=a(1),R=new Set(C.b);function P(e){var t,a,C,P,U,D=e.artifactId,z=e.artifactObj,W=e.onEdit,H=e.onDelete,V=e.mainStatAssumptionLevel,q=void 0===V?0:V,B=e.effFilter,_=void 0===B?R:B,G=Object(g.a)(["artifact"]).t,J=Object(d.useContext)(k.b),Y=Object(d.useState)(void 0),$=Object(l.a)(Y,2),Q=$[0],X=$[1];Object(d.useEffect)((function(){return D?J.followArt(D,X):void 0}),[D,X,J]);var Z=Object(T.a)(I.a.get(null===(t=null!==z&&void 0!==z?z:D?J._getArt(D):void 0)||void 0===t?void 0:t.setKey),[z,D]),ee=function(e){return J.setArtLocation(D,e)},te=!z&&J===k.c,ae=null!==z&&void 0!==z?z:Q,ne=Object(T.a)(w.b.get(null!==(a=null===ae||void 0===ae?void 0:ae.location)&&void 0!==a?a:""),[null===ae||void 0===ae?void 0:ae.location]);if(!ae)return null;var ce=ae.id,re=ae.lock,ie=ae.slotKey,se=ae.rarity,le=ae.level,oe=ae.mainStatKey,ue=ae.substats,de=ae.exclude,je=Math.max(Math.min(q,4*se),le),be=Math.floor(Math.max(le-1,0)/4)+1+"roll",fe=Object(F.jsx)("span",{className:je!==le?"text-orange":"",children:Object(A.b)(null!==(C=E.a.mainStatValue(oe,se,je))&&void 0!==C?C:0,K.b.getStatUnit(oe))}),he=E.a.getArtifactEfficiency(ae,_),xe=he.currentEfficiency,Oe=he.maxEfficiency,me=0!==Oe,ve=(null===ne||void 0===ne?void 0:ne.name)?ne.nameWIthIcon:Object(F.jsxs)("span",{children:[Object(F.jsx)(u.a,{icon:o.c})," ",G(n||(n=Object(s.a)(["filterLocation.inventory"])))]}),pe=(null===Z||void 0===Z?void 0:Z.getSlotName(ie))||"Unknown Piece Name",ye=null===Z||void 0===Z?void 0:Z.getSlotDesc(ie),ge=ye?Object(F.jsx)(v.a,{placement:"top",overlay:Object(F.jsx)(y.a,{id:"slotdesc-tooltip",children:ye}),children:Object(F.jsx)(u.a,{icon:o.s})}):null,we=null===Z||void 0===Z?void 0:Z.setEffects,Se=Z&&we&&Object(F.jsx)(y.a,{id:"setdesc-tooltop",children:Object.keys(we).map((function(e){return Object(F.jsxs)("span",{className:"text-left",children:[Object(F.jsx)("h6",{className:"mb-0",children:Object(F.jsx)(j.a,{variant:"success",children:G("setEffectNum",{setNum:e})})}),Object(F.jsx)("p",{children:Z.setEffectDesc(e)})]},e)}))}),Ne=Se?Object(F.jsx)(v.a,{placement:"top",overlay:Se,children:Object(F.jsx)(u.a,{icon:o.s})}):null;return Object(F.jsxs)(h.a,{className:"h-100",border:"".concat(se,"star"),bg:"lightcontent",text:"lightfont",children:[Object(F.jsx)(h.a.Header,{className:"p-0",children:Object(F.jsxs)(p.a,{children:[Object(F.jsx)(x.a,{xs:2,md:3,children:Object(F.jsx)(m.a,{src:null!==(P=null===Z||void 0===Z?void 0:Z.slotIcons[ie])&&void 0!==P?P:"",className:"w-100 h-auto grad-".concat(se,"star m-1"),thumbnail:!0})}),Object(F.jsxs)(x.a,{className:"pt-2",children:[Object(F.jsx)("h6",{children:Object(F.jsxs)("strong",{children:[pe," ",ge]})}),Object(F.jsxs)("div",{children:[Object(F.jsx)(L.b,{slotKey:ie})," ",Object(F.jsxs)("span",{className:"float-right mr-4",children:[" ",Object(F.jsx)(b.a,{size:"sm",disabled:!te,onClick:function(){return J.updateArt({lock:!re},ce)},children:Object(F.jsx)(u.a,{icon:re?o.u:o.v,className:"fa-fw"})})]})]}),Object(F.jsx)("div",{children:Object(F.jsx)("small",{children:Object(F.jsx)(N.a,{stars:se})})})]})]})}),Object(F.jsxs)(h.a.Body,{className:"d-flex flex-column py-2",children:[Object(F.jsxs)(h.a.Title,{children:[Object(F.jsx)(j.a,{variant:be,children:Object(F.jsx)("strong",{className:"text-dark",children:" +".concat(le)})})," ",null!==(U=null===Z||void 0===Z?void 0:Z.name)&&void 0!==U?U:"Artifact Set"," ",Ne]}),Object(F.jsx)("h5",{className:"mb-1",children:Object(F.jsxs)("b",{children:[K.b.getStatName(oe)," ",fe]})}),Object(F.jsx)(p.a,{className:"mb-0",children:ue.map((function(e,t){var a,n,c;if(!e.value)return null;var r=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,i=null!==(c=e.efficiency)&&void 0!==c?c:0,s=.3+.7*i,l=K.b.getStatName(e.key);return Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)(j.a,{variant:r?"".concat(r,"roll"):"danger",className:"text-darkcontent",children:Object(F.jsx)("b",{children:r||"?"})})," ",Object(F.jsxs)("span",{className:"text-".concat(r,"roll"),children:[l,"+".concat(Object(A.b)(e.value,K.b.getStatUnit(e.key)))]}),Object(F.jsx)("span",{className:"float-right",style:{opacity:s},children:e.key&&_.has(e.key)?Object(A.b)(i,"eff"):"-"})]},t)}))}),Object(F.jsxs)("div",{className:"mt-auto",children:[Object(F.jsxs)(p.a,{children:[Object(F.jsx)(x.a,{children:Object(F.jsx)("small",{children:G(c||(c=Object(s.a)(["editor.curSubEff"])))})}),Object(F.jsx)(x.a,{xs:"auto",children:Object(F.jsx)(M.a,{value:xe,valid:me})})]}),xe!==Oe&&Object(F.jsxs)(p.a,{children:[Object(F.jsx)(x.a,{children:Object(F.jsx)("small",{children:G(r||(r=Object(s.a)(["editor.maxSubEff"])))})}),Object(F.jsx)(x.a,{xs:"auto",children:Object(F.jsx)(M.a,{value:Oe,valid:me})})]})]}),!1]}),Object(F.jsx)(h.a.Footer,{className:"pr-3",children:Object(F.jsxs)(p.a,{className:"d-flex justify-content-between no-gutters",children:[te?Object(F.jsx)(x.a,{xs:"auto",children:Object(F.jsxs)(O.a,{children:[Object(F.jsx)(O.a.Toggle,{size:"sm",className:"text-left",children:ve}),Object(F.jsxs)(O.a.Menu,{children:[Object(F.jsxs)(O.a.Item,{onClick:function(){return ee("")},children:[Object(F.jsx)(u.a,{icon:o.c})," Inventory"]}),Object(F.jsx)(O.a.Divider,{}),Object(F.jsx)(S.b,{onSelect:ee})]})]})}):Object(F.jsx)(x.a,{xs:"auto",children:Object(F.jsx)("b",{children:ve})}),te&&Object(F.jsx)(x.a,{xs:"auto",children:Object(F.jsxs)(f.a,{children:[!!W&&Object(F.jsx)(b.a,{variant:"info",size:"sm",onClick:W,children:Object(F.jsx)(u.a,{icon:o.l,className:"fa-fw"})}),Object(F.jsx)(v.a,{placement:"top",overlay:Object(F.jsx)(y.a,{id:"exclude-artifact-tip",children:G(i||(i=Object(s.a)(["excludeArtifactTip"])))}),children:Object(F.jsx)("span",{className:"d-inline-block",children:Object(F.jsx)(b.a,{size:"sm",onClick:function(){return J.updateArt({exclude:!de},ce)},className:"rounded-0",variant:de?"danger":"success",children:Object(F.jsx)(u.a,{icon:de?o.a:o.e,className:"fa-fw"})})})}),!!H&&Object(F.jsx)(b.a,{variant:"danger",size:"sm",onClick:H,children:Object(F.jsx)(u.a,{icon:o.G,className:"fa-fw"})})]})})]})})]})}},228:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2),c=a(188),r=a(1);function i(e){var t=e.value,a=e.valid,i="number"===typeof t?["".concat(Math.floor(.05*t)+1,"roll"),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(i,2),l=s[0],o=s[1];return a||(l="danger"),Object(r.jsx)(c.a,{variant:l,className:"secondary"===l?"":"text-darkcontent",children:o})}},277:function(e){e.exports=JSON.parse('{"5":{"def_":{"24.0":"24.1","36.5":"36.4"},"critRate_":{"8.5":"8.6"}}}')},550:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return pt}));var n=a(205),c=a(14),r=a(2),i=a(8),s=a(12),l=a(29),o=a(10),u=a(0),d=a.n(u),j=a(187),b=a(226),f=a(118),h=a(186),x=a(230),O=a(541),m=a(335),v=a(542),p=a(70),y=a(189),g=a(121),w=a(48),S=a(110),N=a(79),k=a(206),K=a(113),C=a(207),A=a(234),E=a(202),I=a(45),L=a(34),M=a(117),T=a(111),F=a(33),R=a(58),P=a(15),U=a(11),D=a(68),z=a(227),W=a(46),H=a.n(W),V=a(57),q=a(285),B=a(128),_=a(222),G=a(555),J=a(198),Y=a(188),$=a(17),Q=a(112),X=a(123),Z=a(277);var ee=a(1);function te(e){var t=e.sheets,a=e.click,n=Object(S.a)("artifact").t;return Object(ee.jsx)(d.a.Fragment,{children:t&&Object.entries(Q.a.setKeysByRarities(t)).reverse().map((function(e,c){var i=Object(r.a)(e,2),s=i[0],l=i[1];return Object(ee.jsxs)(d.a.Fragment,{children:[c>0&&Object(ee.jsx)(h.a.Divider,{}),Object(ee.jsx)(h.a.Header,{children:Object(ee.jsxs)(N.a,{t:n,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",Object(ee.jsx)(E.a,{stars:parseInt(s)})]})}),l.map((function(e){return Object(ee.jsx)(h.a.Item,{onClick:function(){return a(e)},children:t[e].nameWithIcon},e)}))]},s)}))})}var ae=a(122),ne=a(228),ce=a(367),re=a(199),ie=a(548),se=a(336),le=a(19),oe=a(24),ue=function(){function e(t,a){Object(le.a)(this,e),this.data={},this.init=void 0,this.deinit=void 0,this.init=t,this.deinit=a}return Object(oe.a)(e,[{key:"borrow",value:function(){var e=Object(V.a)(H.a.mark((function e(t,a){var n,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data[t]||(this.data[t]={value:this.init(t),refCount:0}),(n=this.data[t]).refCount+=1,e.next=5,a(n.value);case 5:return c=e.sent,n.refCount-=1,n.refCount||(delete this.data[t],this.deinit(t,n.value)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),de=a.p+"static/media/scan_art_main.ab1cfe61.png",je=a.p+"static/media/snippet.d223e797.png",be={r:255,g:204,b:50},fe=new ue(function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(se.createScheduler)(),n=Array(2).fill(0).map(function(){var e=Object(V.a)(H.a.mark((function e(n){var c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(se.createWorker)({errorHandler:console.error}),e.next=3,c.load();case 3:return e.next=5,c.loadLanguage(t);case 5:return e.next=7,c.initialize(t);case 7:a.addWorker(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.any(n);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t){t.then((function(e){return e.terminate()}))}));function he(e){var t,a,n,c=e.setState,l=e.setReset,o=e.artifactInEditor,d=Object(u.useState)(!1),b=Object(r.a)(d,2),h=b[0],x=b[1],O=Object(u.useReducer)(Oe,{processed:[],outstanding:[]}),m=Object(r.a)(O,2),v=m[0],y=v.processed,S=v.outstanding,N=m[1],k=y[0],K=S[0],C=Object(T.a)(null===K||void 0===K?void 0:K.imageURL,[null===K||void 0===K?void 0:K.imageURL]),A=Object(T.a)(null===K||void 0===K?void 0:K.result,[null===K||void 0===K?void 0:K.result]),E=y.length+S.length,I=null!==(t=null===k||void 0===k?void 0:k.imageURL)&&void 0!==t?t:C,L=null!==k&&void 0!==k?k:{},M=L.artifact,F=L.texts,R=null!==(a=null!==(n=null===k||void 0===k?void 0:k.fileName)&&void 0!==n?n:null===K||void 0===K?void 0:K.fileName)&&void 0!==a?a:"Click here to upload Artifact screenshot files";Object(u.useEffect)((function(){!o&&M&&c(M)}),[o,M,c]),Object(u.useEffect)((function(){var e=Math.min(16-y.length,3,S.length),t=e&&!S[0].result;S.slice(0,e).forEach(me),t&&N({type:"processing"})}),[y.length,S]),Object(u.useEffect)((function(){A&&N(Object(i.a)({type:"processed"},A))}),[A,N]);var P=Object(u.useCallback)((function(){return N({type:"pop"})}),[N]),U=Object(u.useCallback)((function(e){return N({type:"upload",files:Object(s.a)(e).map((function(e){return{file:e,fileName:e.name}}))})}),[N]),D=Object(u.useCallback)((function(){return N({type:"clear"})}),[N]);Object(u.useEffect)((function(){var e=function(e){return U(e.clipboardData.files)};return window.addEventListener("paste",e),null===l||void 0===l||l(P),function(){return window.removeEventListener("paste",e)}}),[l,P,U]);var z=I&&Object(ee.jsx)("img",{src:I,className:"w-100 h-auto",alt:"Screenshot to parse for artifact values"});return Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(xe,{modalShow:h,hide:function(){return x(!1)}}),Object(ee.jsx)(p.a,{xs:12,className:"mb-2",children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsx)("h6",{className:"mb-0",children:"Parse Artifact by Uploading Image"})}),Object(ee.jsx)(p.a,{xs:"auto",children:Object(ee.jsx)(f.a,{variant:"info",size:"sm",onClick:function(){x(!0),w.a.modalview("/artifact/how-to-upload")},children:"Show Me How!"})})]})}),E>0&&Object(ee.jsx)(p.a,{xs:12,children:Object(ee.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsxs)(p.a,{className:"p-1 ml-2",children:["Screenshots in file-queue: ",Object(ee.jsx)("b",{children:E}),!1]}),Object(ee.jsx)(p.a,{xs:"auto",children:Object(ee.jsx)(f.a,{size:"sm",variant:"danger",onClick:D,children:"Clear file-queue"})})]})})}),Object(ee.jsx)(p.a,{xs:8,lg:I?4:0,children:z}),Object(ee.jsxs)(p.a,{xs:12,lg:I?8:12,children:[!k&&K&&Object(ee.jsxs)("div",{className:"mb-2",children:[Object(ee.jsx)("h6",{className:"mb-0",children:"Scanning current artifact"}),Object(ee.jsx)(ce.a,{animated:!0,now:100})]}),Object(ee.jsx)(re.a.File,{type:"file",className:"mb-0",label:R,onChange:function(e){U(e.target.files),e.target.value=null},accept:"image/*",custom:!0,multiple:!0}),F&&Object(ee.jsxs)("div",{className:"mb-2",children:[Object(ee.jsx)("div",{children:F.slotKey}),Object(ee.jsx)("div",{children:F.mainStatKey}),Object(ee.jsx)("div",{children:F.mainStatVal}),Object(ee.jsx)("div",{children:F.rarity}),Object(ee.jsx)("div",{children:F.level}),Object(ee.jsx)("div",{children:F.substats}),Object(ee.jsx)("div",{children:F.setKey})]}),Boolean(!I)&&Object(ee.jsx)(re.a.Label,{className:"mb-0",children:"Please Select an Image, or paste a screenshot here (Ctrl+V)"})]})]})}function xe(e){var t=e.modalShow,a=e.hide;return Object(ee.jsx)(ie.a,{show:t,onHide:a,size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(ee.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",children:[Object(ee.jsx)(j.a.Header,{children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsx)(j.a.Title,{children:"How do Upload Screenshots for parsing"})}),Object(ee.jsx)(p.a,{xs:"auto",children:Object(ee.jsx)(f.a,{variant:"danger",onClick:a,children:Object(ee.jsx)(o.a,{icon:l.D})})})]})}),Object(ee.jsxs)(j.a.Body,{children:[Object(ee.jsx)("h5",{className:"text-warning",children:"NOTE: Artifact Scanning currently only work for ENGLISH artifacts."}),Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(p.a,{xs:8,md:4,children:Object(ee.jsx)("img",{alt:"snippet of the screen to take",src:je,className:"w-100 h-auto"})}),Object(ee.jsxs)(p.a,{xs:12,md:8,children:[Object(ee.jsx)("p",{children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(ee.jsx)("h5",{children:"Where to snip the screenshot."}),Object(ee.jsxs)("p",{children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",Object(ee.jsx)("b",{children:"Only artifact from this screen can be scanned."})]}),Object(ee.jsx)("h6",{children:"Single artifact"}),Object(ee.jsxs)("p",{children:["To take a screenshot, in Windows, the shortcut is ",Object(ee.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),Object(ee.jsx)("h6",{children:"Multiple artifacts"}),Object(ee.jsxs)("p",{children:["To take advantage of batch uploads, you can use a tool like ",Object(ee.jsx)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),Object(ee.jsx)("h5",{children:"What to include in the screenshot."}),Object(ee.jsx)("p",{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]})]}),Object(ee.jsxs)(g.a,{children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsx)("h5",{children:"Adding Screenshot to Genshin Optimizer"}),Object(ee.jsx)("p",{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),Object(ee.jsx)("p",{className:"mb-0",children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),Object(ee.jsxs)("p",{children:["For single screenshots from the snippets, just press ",Object(ee.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),Object(ee.jsxs)("p",{children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(ee.jsx)("b",{children:"Artifact Editor"}),"."]})]}),Object(ee.jsxs)(p.a,{xs:12,children:[Object(ee.jsx)("h5",{children:"Finishing the Artifact"}),Object(ee.jsxs)("p",{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",Object(ee.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]}),Object(ee.jsx)("img",{alt:"main screen after importing stats",src:de,className:"w-75 h-auto"})]})]})]}),Object(ee.jsx)(j.a.Footer,{children:Object(ee.jsx)(f.a,{variant:"danger",onClick:a,children:Object(ee.jsx)("span",{children:"Close"})})})]})})}var Oe=function(e,t){switch(t.type){case"upload":return{processed:e.processed,outstanding:[].concat(Object(s.a)(e.outstanding),Object(s.a)(t.files))};case"processing":return{processed:e.processed,outstanding:Object(s.a)(e.outstanding)};case"processed":return e.outstanding[0].file===t.file?{processed:[].concat(Object(s.a)(e.processed),[t.result]),outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function me(e){if(!e.result){var t=e.file,a=e.fileName;e.imageURL=Be(t),e.result=e.imageURL.then(function(){var e=Object(V.a)(H.a.mark((function e(n){var c,i,s,l,o,u;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.getAll();case 2:return c=e.sent,e.next=5,Je(n);case 5:return i=e.sent,s=Xe(c,i.rarities,Ze(i.artifactSetTexts,c),at(i.whiteTexts),rt(i.substatTexts),nt(i.whiteTexts),ct(i.whiteTexts)),l=Object(r.a)(s,2),o=l[0],u=l[1],e.abrupt("return",{file:t,result:{fileName:a,imageURL:n,artifact:o,texts:u}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}var ve,pe,ye,ge,we,Se,Ne,ke,Ke,Ce,Ae,Ee,Ie,Le,Me,Te,Fe,Re,Pe,Ue,De,ze,We,He,Ve,qe,Be=function(e){return new Promise((function(t){var a=new FileReader;a.onloadend=function(e){var a=e.target;return t(a.result)},a.readAsDataURL(e)}))},_e=function(e){return new Promise((function(t){var a=new Image;a.onload=function(e){var a=e.target;return t(function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,a.drawImage(e,0,0,e.width,e.height),a.getImageData(0,0,e.width,e.height)}(a))},a.src=e}))};function Ge(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}function Je(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(V.a)(H.a.mark((function e(t){var a,n,c,i,s,l,o,u,d,j,b;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(t);case 2:return a=e.sent,n=a.width,c=Math.floor(a.height/2),i={rectangle:{top:c,left:0,width:n,height:c}},s=[$e(it(a,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),$e(it(a,[30,50,80],[160,160,160],{region:"bot"}),i),$e(it(a,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),i)],l=et(a.data,a.width,a.height),e.next=9,Promise.all(s);case 9:return o=e.sent,u=Object(r.a)(o,3),d=u[0],j=u[1],b=u[2],e.abrupt("return",{whiteTexts:d,substatTexts:j,artifactSetTexts:b,rarities:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(V.a)(H.a.mark((function e(t){var a,n,c,r=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:void 0,n=Ge(t),e.next=4,fe.borrow("eng",function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,e.sent.addJob("recognize",n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return c=e.sent,e.abrupt("return",c.data.lines.map((function(e){return e.text})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e,t,a,n,i,l,o){var u,d=Object(s.a)(new Set([].concat(Object(s.a)(a),["Adventurer","ArchaicPetra"]))),j=-1,b=[{setKey:"Adventurer",rarity:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1,exclude:!1}],f=Object(U.o)(P.a,(function(t){var n=0;a.size&&(n+=Object(s.a)(a).reduce((function(a,n){return a+(e[n].rarity.includes(t)?1:0)}),0)/a.size);i.length&&(n+=i.reduce((function(e,a){return e+(D.a.getSubstatRolls(a.key,a.value,t).length?1:0)}),0)/i.length*2);return n})),h=Object(c.a)(P.h);try{for(h.s();!(u=h.n()).done;){var x,O=u.value,m=Object(c.a)(D.a.slotMainStats(O));try{var v=function(){for(var t=x.value,i=(n.has(O)?1:0)+(l.has(t)?1:0),s=o.filter((function(e){return"%"!==e.unit||"%"===F.b.getStatUnit(t)})).map((function(e){return e.mainStatValue})),u=function(){var n=Object(r.a)(m[h],2),l=n[0],o=n[1],u=parseInt(l),f=d.filter((function(t){return e[t].rarity.includes(u)})),x=i+o;if(x+2<j)return"continue";var v,p=Object(c.a)(s);try{var y=function(){var e,n=v.value,r=D.a.mainStatValues(u,t),i=Math.max(0,r.findIndex((function(e){return e>=n}))),s=r[i],l=x+(s===n?1:0),o=Object(c.a)(f);try{for(o.s();!(e=o.n()).done;){var d=e.value,h=l+(a.has(d)?1:0);h>=j&&(h>j&&(b=[]),j=h,b.push({setKey:d,rarity:u,level:i,slotKey:O,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1}))}}catch(m){o.e(m)}finally{o.f()}};for(p.s();!(v=p.n()).done;)y()}catch(k){p.e(k)}finally{p.f()}if(x>=j){var g,w=Object(c.a)(f);try{for(w.s();!(g=w.n()).done;){var S=g.value,N=x+(a.has(S)?1:0);N>j&&(b=[]),j=N,b.push({setKey:S,rarity:u,level:0,slotKey:O,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1})}}catch(k){w.e(k)}finally{w.f()}}},h=0,m=Object.entries(f);h<m.length;h++)u()};for(m.s();!(x=m.n()).done;)v()}catch(M){m.e(M)}finally{m.f()}}}catch(M){h.e(M)}finally{h.f()}var p={},y={setKey:new Set,rarity:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},g=b[0],w=D.a.mainStatValue(g.mainStatKey,g.rarity,g.level);g.substats=i.filter((function(e,t){return e.key!==g.mainStatKey&&i.slice(0,t).every((function(t){return t.key!==e.key}))}));for(var S=g.substats.length;S<4;S++)g.substats.push({key:"",value:0});for(var N=0,k=b;N<k.length;N++){var K=k[N];y.setKey.add(K.setKey),y.rarity.add(K.rarity),y.level.add(K.level),y.slotKey.add(K.slotKey),y.mainStatKey.add(K.mainStatKey)}function C(e,t,a){return Object(ee.jsxs)(ee.Fragment,{children:["Unknown ",t," : Set to ",Object(ee.jsx)("span",{className:"text-danger",children:a(e)})]})}function A(e,t,a){return Object(ee.jsxs)(ee.Fragment,{children:["Detected ",t," ",Object(ee.jsx)("span",{className:"text-success",children:a(e)})]})}function E(e,t,a){return Object(ee.jsxs)(ee.Fragment,{children:["Inferred ",t," ",Object(ee.jsx)("span",{className:"text-warning",children:a(e)})]})}function I(e,t,a,n){var c=new Set(Object(s.a)(y[e]).filter((function(e){return t.has(e)})));c.size>1?p[e]=function(e,t,a,n){return Object(ee.jsxs)(ee.Fragment,{children:["Ambiguous ",a," ",Object(ee.jsx)("span",{className:"text-danger",children:n(e)})," : May also be ",t.filter((function(t){return t!==e})).map((function(e,t){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("b",{children:t>0?"/":""}),Object(ee.jsx)("span",{className:"text-warning",children:n(e)})]})}))]})}(g[e],Object(s.a)(t),a,n):1===c.size?p[e]=A(g[e],a,n):y[e].size>1?p[e]=C(g[e],a,n):p[e]=E(g[e],a,n)}I("setKey",a,"Set",(function(t){return e[t].name})),I("rarity",t,"Rarity",(function(e){return Object(ee.jsxs)(ee.Fragment,{children:[e," ",1!==e?"Stars":"Star"]})})),I("slotKey",n,"Slot",(function(e){return Object(ee.jsx)(ee.Fragment,{children:D.a.slotName(e)})})),I("mainStatKey",l,"Main Stat",(function(e){return Object(ee.jsx)(ee.Fragment,{children:F.b.getStatNameRaw(e)})})),p.substats=Object(ee.jsx)(ee.Fragment,{children:g.substats.filter((function(e){return""!==e.key})).map((function(e,t){return Object(ee.jsx)("div",{children:A(e,"Sub Stat",(function(e){return Object(ee.jsxs)(ee.Fragment,{children:[F.b.getStatNameRaw(e.key),"+",Object(X.b)(e.value,F.b.getStatUnit(e.key))]})}))},t)}))});var L=F.b.getStatUnit(g.mainStatKey);return o.find((function(e){return e.mainStatValue===w}))?l.has(g.mainStatKey)?(p.level=A(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=A(w,"Main Stat value",(function(e){return Object(ee.jsx)(ee.Fragment,{children:Object(X.b)(e,L)})}))):(p.level=E(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=E(w,"Main Stat value",(function(e){return Object(ee.jsx)(ee.Fragment,{children:Object(X.b)(e,L)})}))):(p.level=C(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=C(w,"Main Stat value",(function(e){return Object(ee.jsx)(ee.Fragment,{children:Object(X.b)(e,L)})}))),[g,p]}function Ze(e,t){var a,n=new Set([]),r=Object(c.a)(e);try{for(r.s();!(a=r.n()).done;){var i,s=a.value,l=Object(c.a)(P.b);try{for(l.s();!(i=l.n()).done;){var o=i.value;Object(U.j)(s.replace(/\W/g,""),t[o].nameRaw.replace(/\W/g,""))<=2&&n.add(o)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return n}function et(e,t,a){for(var n=e,c=0,r=0,i=new Set([]),s=0;s<a;s++){for(var l=0,o=!1,u=0;u<t;u++){var d=4*(s*t+u);tt({r:n[d],g:n[d+1],b:n[d+2]},be)?o||(o=!0,l++):o=!1}c!==l?(c=l,r=1):c&&++r>=10&&i.add(Object(U.a)(c,3,5))}return i}function tt(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=function(e,t){return Math.abs(e-t)<=a};return n(e.r,t.r)&&n(e.g,t.g)&&n(e.b,t.b)}function at(e){var t,a=new Set,n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=Object(c.a)(P.h);try{for(s.s();!(r=s.n()).done;){var l=r.value;Object(U.j)(i.replace(/\W/g,""),D.a.slotName(l).replace(/\W/g,""))<=2&&a.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}function nt(e){var t,a=new Set([]),n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=Object(c.a)(R.a);try{for(s.s();!(r=s.n()).done;){var l=r.value;i.toLowerCase().includes(F.b.getStatNameRaw(l).toLowerCase())&&a.add(l),l.includes("_bonu")&&Object(U.j)(i.replace(/\W/g,""),F.b.getStatNameRaw(l).replace(/\W/g,""))<=1&&a.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}function ct(e){var t,a=[],n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=/(\d+[,|\\.]+\d)%/,s=i.exec(r);s&&a.push({mainStatValue:parseFloat(s[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),(s=(i=/(\d+[,|\\.]\d{3}|\d{2,3})/).exec(r))&&a.push({mainStatValue:parseInt(s[1].replace(/[,|\\.]+/g,""))})}}catch(l){n.e(l)}finally{n.f()}return a}function rt(e){var t,a=[],n=Object(c.a)(e);try{var r=function(){var e=t.value;e=e.replace(/^[\W]+/,"").replace(/\n/,""),R.b.forEach((function(t){var n=F.b.getStatNameRaw(t),c=("%"===F.b.getStatUnit(t)?new RegExp(n+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(n+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);c&&a.push({key:t,value:parseFloat(c[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}))};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}return a.slice(0,4)}function it(e,t,a,n){for(var c=n.region,r=void 0===c?"all":c,i=n.mode,s=void 0===i?"color":i,l=Uint8ClampedArray.from(e.data),o="top"===r,u="bot"===r,d="all"===r,j="bw"===s,b="invert"===s,f=Math.floor(e.width*(e.height/2)*4),h=0;h<l.length;h+=4){var x=l[h],O=l[h+1],m=l[h+2];(d||o&&h<f||u&&h>f)&&x>=t[0]&&x<=a[0]&&O>=t[1]&&O<=a[1]&&m>=t[2]&&m<=a[2]?j?l[h]=l[h+1]=l[h+2]=0:b&&(l[h]=255-x,l[h+1]=255-O,l[h+2]=255-m):l[h]=l[h+1]=l[h+2]=255}return new ImageData(l,e.width,e.height)}var st,lt,ot,ut,dt=new Set(R.b);function jt(e){var t,a,c,i=e.artifactIdToEdit,d=e.cancelEdit,b=Object(S.a)("artifact").t,O=Object(T.a)(Q.a.getAll(),[]),m=Object(u.useContext)(I.b),v=Object(M.a)(),y=Object(r.a)(v,2),w=y[0],k=y[1];Object(u.useEffect)((function(){return m.followAnyArt(k)}),[m,k]);var K=Object(u.useReducer)(ft,void 0),A=Object(r.a)(K,2),L=A[0],R=A[1],P=Object(u.useMemo)((function(){return L&&Object($.a)(L)}),[L]),W=Object(u.useMemo)((function(){var e,t=w&&m._getArt(i);if(t)return{old:t,oldType:"edit"};if(void 0===P)return{old:void 0,oldType:""};var a=w&&m.findDuplicates(P),n=a.duplicated,c=a.upgraded;return{old:null!==(e=n[0])&&void 0!==e?e:c[0],oldType:0!==n.length?"duplicate":"upgrade"}}),[P,i,m,w]),H=W.old,V=W.oldType,Y=Object(u.useMemo)((function(){if(!P)return{artifact:void 0,errors:[]};var e=Object($.g)(P,i);return H&&(e.artifact.location=H.location,e.artifact.exclude=H.exclude),e}),[P,i,H]),Z=Y.artifact,ce=Y.errors;Object(u.useEffect)((function(){var e=w&&m._getArt(i);e&&R({type:"overwrite",artifact:Object(U.d)(e)})}),[i,m,w]);var re=P?null===O||void 0===O?void 0:O[P.setKey]:void 0,ie=Object(u.useCallback)((function(){var e;null===d||void 0===d||d(),null===(e=st)||void 0===e||e(),R({type:"reset"})}),[d,R]),se=Object(u.useCallback)((function(e){var t,a,n=e.setKey?O[e.setKey]:re;function c(e,t,a){return e&&t.includes(e)?e:null!==a&&void 0!==a?a:t[0]}e.setKey&&(e.rarity=c(null===P||void 0===P?void 0:P.rarity,n.rarity,Math.max.apply(Math,Object(s.a)(n.rarity))),e.slotKey=c(null===P||void 0===P?void 0:P.slotKey,n.slots)),e.rarity&&(e.level=null!==(t=null===P||void 0===P?void 0:P.level)&&void 0!==t?t:0),e.level&&(e.level=Object(U.a)(e.level,0,4*(null!==(a=e.rarity)&&void 0!==a?a:P.rarity))),e.slotKey&&(e.mainStatKey=c(null===P||void 0===P?void 0:P.mainStatKey,D.a.slotMainStats(e.slotKey))),e.mainStatKey&&(e.substats=[0,1,2,3].map((function(t){return P&&P.substats[t].key!==e.mainStatKey?P.substats[t]:{key:"",value:0}}))),R({type:"update",artifact:e})}),[P,O,re,R]),le=Object(u.useCallback)((function(e,t){R({type:"substat",index:e,substat:t})}),[R]),oe=!ce.length,ue=null!==P&&void 0!==P?P:{},de=ue.rarity,je=void 0===de?5:de,be=ue.level,fe=void 0===be?0:be,xe=ue.slotKey,Oe=void 0===xe?"flower":xe,me=Z?D.a.getArtifactEfficiency(Z,dt):{},De=me.currentEfficiency,ze=void 0===De?0:De,We=me.maxEfficiency,He=void 0===We?0:We;return Object(ee.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",children:[Object(ee.jsx)(j.a.Header,{children:Object(ee.jsx)(N.a,{t:b,i18nKey:"editor.title",children:"Artifact Editor"})}),Object(ee.jsxs)(j.a.Body,{children:[Object(ee.jsxs)(g.a,{children:[Object(ee.jsxs)(p.a,{xs:12,lg:6,children:[Object(ee.jsxs)(x.a,{className:"w-100 d-flex mb-2",children:[Object(ee.jsxs)(h.a,{as:x.a.Prepend,className:"flex-grow-1",children:[Object(ee.jsx)(h.a.Toggle,{className:"w-100",variant:P?"success":"primary",children:null!==(t=null===re||void 0===re?void 0:re.nameWithIcon)&&void 0!==t?t:b(pe||(pe=Object(n.a)(["editor.set.artifactSet"])))}),Object(ee.jsx)(h.a.Menu,{children:Object(ee.jsx)(te,{sheets:O,click:function(e){return se({setKey:e})}})})]}),Object(ee.jsx)(q.a,{as:x.a.Append,title:P?Object(ee.jsx)(E.a,{stars:je}):b(ye||(ye=Object(n.a)(["editor.rarity"]))),disabled:!re,variant:P?"success":"primary",children:[5,4,3].map((function(e,t){return Object(ee.jsx)(h.a.Item,{disabled:!(null===re||void 0===re?void 0:re.rarity.includes(e)),onClick:function(){return se({rarity:e})},children:Object(ee.jsx)(E.a,{stars:e})},t)}))})]}),Object(ee.jsxs)(x.a,{className:"mb-2",children:[Object(ee.jsx)(x.a.Prepend,{children:Object(ee.jsx)(x.a.Text,{children:b(ge||(ge=Object(n.a)(["editor.level"])))})}),Object(ee.jsx)(C.a,{value:fe,disabled:!re,placeholder:"0~".concat(4*je),onChange:function(e){return se({level:e})}}),Object(ee.jsxs)(x.a.Append,{children:[Object(ee.jsx)(f.a,{onClick:function(){return se({level:fe-1})},disabled:!re||0===fe,children:"-"}),je?Object(s.a)(Array(je+1).keys()).map((function(e){return 4*e})).map((function(e){return Object(ee.jsx)(f.a,{onClick:function(){return se({level:e})},disabled:!re||fe===e,children:e},e)})):null,Object(ee.jsx)(f.a,{onClick:function(){return se({level:fe+1})},disabled:!re||fe===4*je,children:"+"})]})]}),Object(ee.jsxs)(x.a,{className:"mb-2 w-100 d-flex flex-row",children:[Object(ee.jsx)(q.a,{title:Object(ee.jsx)(ae.b,{slotKey:Oe}),disabled:!re,variant:P?"success":"primary",as:x.a.Prepend,children:null===re||void 0===re||null===(a=re.slots)||void 0===a?void 0:a.map((function(e){return Object(ee.jsx)(h.a.Item,{onClick:function(){return se({slotKey:e})},children:Object(ee.jsx)(ae.b,{slotKey:e})},e)}))}),Object(ee.jsx)(x.a.Text,{as:x.a.Append,className:"flex-grow-1",children:null!==(c=null===re||void 0===re?void 0:re.getSlotName(P.slotKey))&&void 0!==c?c:b(we||(we=Object(n.a)(["editor.unknownPieceName"])))})]}),Object(ee.jsxs)(x.a,{className:"mb-2",children:[Object(ee.jsxs)(q.a,{title:Object(ee.jsx)("b",{children:P?F.b.getStatNameWithPercent(P.mainStatKey):b(Se||(Se=Object(n.a)(["mainStat"])))}),disabled:!re,variant:P?"success":"primary",as:x.a.Prepend,children:[Object(ee.jsx)(h.a.ItemText,{children:b(Ne||(Ne=Object(n.a)(["editor.mainSelect"])))}),D.a.slotMainStats(Oe).map((function(e){return Object(ee.jsx)(h.a.Item,{onClick:function(){return se({mainStatKey:e})},children:F.b.getStatNameWithPercent(e)},e)}))]}),Object(ee.jsx)(B.a,{value:P?"".concat(Object(X.a)(D.a.mainStatValue(P.mainStatKey,je,fe),F.b.getStatUnit(P.mainStatKey))):b(ke||(ke=Object(n.a)(["mainStat"]))),disabled:!0,readOnly:!0})]}),Object(ee.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(ee.jsx)(j.a.Body,{className:"py-1 px-2",children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(p.a,{className:"text-center",children:b(Ke||(Ke=Object(n.a)(["editor.curSubEff"])))}),Object(ee.jsxs)(p.a,{xs:"auto",children:[Object(ee.jsx)(ne.a,{valid:oe,value:oe?ze:"ERR"}),Object(ee.jsx)(_.a,{placement:"bottom",overlay:Object(ee.jsxs)(G.a,{id:"current-efficiency",children:[Object(ee.jsx)(G.a.Title,{as:"h5",children:b(Ce||(Ce=Object(n.a)(["editor.curSubEff"])))}),Object(ee.jsx)(G.a.Content,{children:Object(ee.jsx)(N.a,{t:b,i18nKey:"editor.curSubEffDesc"})})]}),children:Object(ee.jsx)(o.a,{icon:l.x,className:"ml-2",style:{cursor:"help"}})})]})]})})}),Object(ee.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(ee.jsx)(j.a.Body,{className:"py-1 px-2",children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(p.a,{className:"text-center",children:b(Ae||(Ae=Object(n.a)(["editor.maxSubEff"])))}),Object(ee.jsxs)(p.a,{xs:"auto",children:[Object(ee.jsx)(ne.a,{valid:oe,value:oe?He:"ERR"}),Object(ee.jsx)(_.a,{placement:"bottom",overlay:Object(ee.jsxs)(G.a,{id:"max-efficiency",children:[Object(ee.jsx)(G.a.Title,{as:"h5",children:b(Ee||(Ee=Object(n.a)(["editor.maxSubEff"])))}),Object(ee.jsx)(G.a.Content,{children:Object(ee.jsx)(N.a,{t:b,i18nKey:"editor.maxSubEffDesc"})})]}),children:Object(ee.jsx)(o.a,{icon:l.x,className:"ml-2",style:{cursor:"help"}})})]})]})})})]}),Object(ee.jsx)(p.a,{xs:12,lg:6,children:[0,1,2,3].map((function(e){return Object(ee.jsx)(bt,{className:"mb-2",index:e,artifact:Z,setSubstat:le},e)}))})]}),Object(ee.jsxs)(g.a,{className:"mb-n2",children:[Object(ee.jsx)(p.a,{xs:12,className:"mb-2",children:Object(ee.jsx)(he,{setState:function(e){return R({type:"overwrite",artifact:e})},setReset:function(e){return st=e},artifactInEditor:!!P})}),H&&Object(ee.jsx)(p.a,{xs:12,className:"mb-2",children:Object(ee.jsxs)(g.a,{className:"d-flex justify-content-around mb-n2",children:[Object(ee.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(ee.jsx)("h6",{className:"text-center",children:b(Ie||(Ie=Object(n.a)(["editor.preview"])))}),Object(ee.jsx)("div",{children:Object(ee.jsx)(z.a,{artifactObj:Z})})]}),Object(ee.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(ee.jsx)("h6",{className:"text-center",children:b("edit"!==V?"duplicate"===V?Le||(Le=Object(n.a)(["editor.dupArt"])):Me||(Me=Object(n.a)(["editor.upArt"])):Te||(Te=Object(n.a)(["editor.beforeEdit"])))}),Object(ee.jsx)("div",{children:Object(ee.jsx)(z.a,{artifactObj:H})})]})]})}),!oe&&Object(ee.jsx)(p.a,{xs:12,className:"mb-2",children:Object(ee.jsx)(J.a,{variant:"danger",className:"py-2 px-3 mb-0 ",children:ce.map((function(e,t){return Object(ee.jsx)("div",{children:e},t)}))})})]})]}),Object(ee.jsxs)(j.a.Footer,{children:["edit"===V?Object(ee.jsx)(f.a,{className:"mr-2",onClick:function(){m.updateArt(L,H.id),ie()},disabled:!L||!oe,variant:"primary",children:b(Fe||(Fe=Object(n.a)(["editor.btnSave"])))}):Object(ee.jsx)(f.a,{className:"mr-2",onClick:function(){m.createArt(P),ie()},disabled:!P||!oe,variant:"duplicate"===V?"warning":"primary",children:b(Re||(Re=Object(n.a)(["editor.btnAdd"])))}),Object(ee.jsx)(f.a,{className:"mr-2",disabled:!P,onClick:function(){window.confirm(b(ve||(ve=Object(n.a)(["editor.clearPrompt"]))))&&ie()},variant:"success",children:b(Pe||(Pe=Object(n.a)(["editor.btnClear"])))}),!1,H&&"edit"!==V&&Object(ee.jsx)(f.a,{className:"float-right",onClick:function(){m.updateArt(L,H.id),ie()},disabled:!L||!oe,variant:"success",children:b(Ue||(Ue=Object(n.a)(["editor.btnUpdate"])))})]})]})}function bt(e){var t,a=e.index,c=e.artifact,r=e.setSubstat,i=e.className,l=Object(S.a)("artifact").t,o=null!==c&&void 0!==c?c:{},u=o.mainStatKey,d=void 0===u?"":u,O=o.rarity,m=void 0===O?5:O,v=null!==(t=null===c||void 0===c?void 0:c.substats[a])&&void 0!==t?t:{},y=v.key,w=void 0===y?"":y,k=v.value,K=void 0===k?0:k,A=v.rolls,E=void 0===A?[]:A,I=v.efficiency,L=void 0===I?0:I,M=E.reduce((function(e,t){return e+t}),0),T=F.b.getStatUnit(w),P=E.length,U="",z=[],W=0,H=null;if(c){var V=c.rarity,B=D.a.rollInfo(V),_=B.numUpgrades,G=B.high;W=_+G-3-P,z=w?D.a.getSubstatRollData(w,V):[]}var J=7-z.length;if(!P&&w&&K&&(U=U||l(De||(De=Object(n.a)(["editor.substat.error.noCalc"])))),W<0&&(U=U||l("editor.substat.error.noOverRoll",{value:W+P})),!U){var $=Object(ee.jsx)(Y.a,{variant:0===P?"secondary":"".concat(P,"roll"),className:"text-darkcontent",children:P?l("editor.substat.RollCount",{count:P}):l(ze||(ze=Object(n.a)(["editor.substat.noRoll"])))}),Q=Object(s.a)(E).sort().map((function(e,t){return Object(ee.jsx)("span",{className:"mr-2 text-".concat(J+z.indexOf(e),"roll"),children:Object(X.a)(e,T)},t)}));H=Object(ee.jsxs)(g.a,{children:[Object(ee.jsxs)(p.a,{children:[$," ",Q]}),Object(ee.jsx)(p.a,{xs:"auto",children:Object(ee.jsxs)(N.a,{t:l,i18nKey:"editor.substat.eff",children:["Efficiency: ",Object(ee.jsx)(ne.a,{valid:!0,value:L||l(We||(We=Object(n.a)(["editor.substat.noStat"])))})]})})]})}return Object(ee.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",className:i,children:[Object(ee.jsxs)(x.a,{children:[Object(ee.jsxs)(q.a,{title:w?F.b.getStatNameWithPercent(w):l("editor.substat.substatFormat",{value:a+1}),disabled:!c,variant:w?"success":"primary",as:x.a.Prepend,children:[Boolean(w)&&Object(ee.jsx)(h.a.Item,{onClick:function(){return r(a,{key:"",value:0})},children:l(He||(He=Object(n.a)(["editor.substat.noSubstat"])))},w),R.b.filter((function(e){return d!==e})).map((function(e){return Object(ee.jsx)(h.a.Item,{onClick:function(){return r(a,{key:e,value:0})},children:F.b.getStatNameWithPercent(e)},e)}))]}),Object(ee.jsx)(C.a,{float:"%"===T,placeholder:l(Ve||(Ve=Object(n.a)(["editor.substat.selectSub"]))),value:w?K:void 0,onChange:function(e){return r(a,{key:w,value:null!==e&&void 0!==e?e:0})},disabled:!w,allowEmpty:!0}),Object(ee.jsx)(b.a,{size:"sm",as:x.a.Append,children:z.map((function(e,t){var n,c,i,s=Object(X.a)(M+e,T);return s=null!==(n=null===(c=Z[m])||void 0===c||null===(i=c[w])||void 0===i?void 0:i[s])&&void 0!==n?n:s,Object(ee.jsx)(f.a,{variant:"".concat(J+t,"roll"),className:"py-0 text-darkcontent",disabled:K&&!P||W<=0,onClick:function(){return r(a,{key:w,value:parseFloat(s)})},children:s},t)}))})]}),Object(ee.jsxs)("div",{className:"p-1",children:[U&&Object(ee.jsx)(Y.a,{variant:"danger",children:l(qe||(qe=Object(n.a)(["ui:error"])))})," ",U||H]})]})}function ft(e,t){switch(t.type){case"reset":return;case"substat":var a=t.index,n=t.substat,c=n.key?e.substats.findIndex((function(e){return e.key===n.key})):-1;if(-1===c||c===a)e.substats[a]=n;else{var r=[e.substats[c],e.substats[a]];e.substats[a]=r[0],e.substats[c]=r[1]}return Object(i.a)({},e);case"overwrite":return t.artifact;case"update":return Object(i.a)(Object(i.a)({},e),t.artifact)}}var ht=d.a.lazy((function(){return a.e(24).then(a.bind(null,554))})),xt=["quality","level","efficiency","mefficiency"],Ot=function(){return{filterArtSetKey:"",filterStars:[3,4,5],filterLevelLow:0,filterLevelHigh:20,filterSlotKey:"",filterMainStatKey:"",filterSubstats:["","","",""],filterLocation:"",filterExcluded:"",ascending:!1,sortType:xt[0],maxNumArtifactsToDisplay:50,effFilter:Object(s.a)(R.b)}};function mt(e,t){return"reset"===t.type?Object(i.a)(Object(i.a)({},Ot()),{},{effFilter:e.effFilter}):Object(i.a)(Object(i.a)({},e),t)}function vt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return Object(i.a)(Object(i.a)({},t),null!==(e=L.b.get("ArtifactDisplay.state"))&&void 0!==e?e:{})}function pt(e){var t,a,d,W=Object(S.a)(["artifact","ui"]).t,H=Object(u.useContext)(I.b),V=Object(u.useReducer)(mt,Ot(),vt),q=Object(r.a)(V,2),B=q[0],_=q[1],G=B.effFilter,J=Object(u.useState)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.artToEditId),Y=Object(r.a)(J,2),$=Y[0],X=Y[1],Z=Object(u.useState)(0),ne=Object(r.a)(Z,2),ce=ne[0],re=ne[1],ie=Object(u.useRef)(null),se=Object(u.useRef)(null),le=Object(M.a)(),oe=Object(r.a)(le,2),ue=oe[0],de=oe[1],je=Object(T.a)(Q.a.getAll(),[]),be=Object(u.useMemo)((function(){return new Set(G)}),[G]),fe=Object(u.useCallback)((function(e){return H.removeArt(e)}),[H]),he=Object(u.useCallback)((function(e){var t;X(e),null===ie||void 0===ie||null===(t=ie.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[]),xe=Object(u.useCallback)((function(){return X(null)}),[]);Object(u.useEffect)((function(){return w.a.pageview("/artifact"),H.followAnyArt(de)}),[H,de]),Object(u.useEffect)((function(){L.b.set("ArtifactDisplay.state",B)}),[B]);var Oe,me,ve=Object(u.useMemo)((function(){var e=B.filterArtSetKey,t=B.filterSlotKey,a=B.filterMainStatKey,n=B.filterStars,r=B.filterLevelLow,s=B.filterLevelHigh,l=B.filterSubstats,o=void 0===l?Ot().filterSubstats:l,u=B.filterLocation,d=void 0===u?"":u,j=B.filterExcluded,b=void 0===j?"":j,f=B.sortType,h=void 0===f?xt[0]:f,x=B.ascending,O=void 0!==x&&x,m=H._getArts(),v=m.filter((function(i){if(b){if("excluded"===b&&!i.exclude)return!1;if("included"===b&&i.exclude)return!1}if("Inventory"===d){if(i.location)return!1}else if("Equipped"===d){if(!i.location)return!1}else if(d&&d!==i.location)return!1;if(e&&e!==i.setKey)return!1;if(t&&t!==i.slotKey)return!1;if(a&&a!==i.mainStatKey)return!1;if(i.level<r||i.level>s)return!1;if(!n.includes(i.rarity))return!1;var l,u=Object(c.a)(o);try{var j=function(){var e=l.value;if(e&&!i.substats.some((function(t){return t.key===e})))return{v:!1}};for(u.s();!(l=u.n()).done;){var f=j();if("object"===typeof f)return f.v}}catch(h){u.e(h)}finally{u.f()}return!0})).map((function(e){switch(h){case"quality":return{value:[e.rarity],art:e};case"level":return{value:[e.level,e.rarity],art:e};case"efficiency":return{value:[D.a.getArtifactEfficiency(e,be).currentEfficiency],art:e};case"mefficiency":return{value:[D.a.getArtifactEfficiency(e,be).maxEfficiency],art:e}}return{value:[0],art:e}})).sort((function(e,t){for(var a=0;a<e.value.length;a++)if(e.value[a]!==t.value[a])return(e.value[a]-t.value[a])*(O?1:-1);return 0})).map((function(e){return e.art})),p=v.reduce((function(e,t){return e+(t.location?1:0)}),0),y=v.reduce((function(e,t){return e+(t.exclude?1:0)}),0),g=v.length-y;return Object(i.a)({artifacts:v,totalArtNum:m.length,numInclude:g,numExclude:y,numUnequip:p},ue)}),[B,ue,be,H]),pe=ve.artifacts,ye=ve.totalArtNum,ge=ve.numUnequip,we=ve.numInclude,Se=ve.numExclude,Ne=B.filterArtSetKey,ke=B.filterSlotKey,Ke=B.filterMainStatKey,Ce=B.filterStars,Ae=B.filterLevelLow,Ee=B.filterLevelHigh,Ie=B.filterSubstats,Le=void 0===Ie?Ot().filterSubstats:Ie,Me=B.maxNumArtifactsToDisplay,Te=B.filterLocation,Fe=void 0===Te?"":Te,Re=B.filterExcluded,Pe=void 0===Re?"":Re,Ue=B.sortType,De=void 0===Ue?xt[0]:Ue,ze=B.ascending,We=void 0!==ze&&ze,He=Object(u.useMemo)((function(){var e=Math.ceil(pe.length/Me),t=Object(U.a)(ce,0,e-1);return{artifactsToShow:pe.slice(t*Me,(t+1)*Me),numPages:e,currentPageIndex:t}}),[pe,ce,Me]),Ve=He.artifactsToShow,qe=He.numPages,Be=He.currentPageIndex,_e=Object(T.a)(K.b.get(Fe),[Fe]);Oe=Fe?"Inventory"===Fe?Object(ee.jsxs)("span",{children:[Object(ee.jsx)(o.a,{icon:l.c})," ",W("filterLocation.inventory")]}):"Equipped"===Fe?Object(ee.jsxs)("span",{children:[Object(ee.jsx)(o.a,{icon:l.I})," ",W("filterLocation.currentlyEquipped")]}):Object(ee.jsx)("b",{children:null===_e||void 0===_e?void 0:_e.nameWIthIcon}):W("filterLocation.any"),me="excluded"===Pe?Object(ee.jsxs)("span",{children:[Object(ee.jsx)(o.a,{icon:l.a})," ",W(lt||(lt=Object(n.a)(["exclusion.excluded"])))]}):"included"===Pe?Object(ee.jsxs)("span",{children:[Object(ee.jsx)(o.a,{icon:l.e})," ",W(ot||(ot=Object(n.a)(["exclusion.included"])))]}):W("exclusionDisplay",{value:W("exclusion.any")});var Ge=Object(u.useMemo)((function(){var e=pe.length!==ye?"".concat(pe.length,"/").concat(ye):"".concat(ye);return Object(ee.jsx)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(ee.jsx)(j.a.Body,{children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsx)(b.a,{size:"sm",children:Object(s.a)(Array(qe).keys()).map((function(e){return Object(ee.jsxs)(f.a,{className:"px-3",variant:Be===e?"success":"primary",onClick:function(){var t;re(e),null===(t=se.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:[0===e?"Page ":"",e+1]},e)}))})}),Object(ee.jsx)(p.a,{xs:"auto",children:Object(ee.jsxs)(N.a,{t:W,i18nKey:"showingNum",count:Ve.length,value:e,children:["Showing ",Object(ee.jsx)("b",{children:{count:Ve.length}})," out of ",{value:e}," Artifacts"]})})]})})})}),[qe,Be,Ve.length,pe.length,ye,W]);return Object(ee.jsxs)(y.a,{className:"mt-2",children:[Object(ee.jsx)(A.a,{pageKey:"artifactPage",modalTitle:W(ut||(ut=Object(n.a)(["info.title"]))),text:W("tipsOfTheDay",{returnObjects:!0}),children:Object(ee.jsx)(ht,{})}),Object(ee.jsx)("div",{className:"mb-2",ref:ie,children:Object(ee.jsx)(jt,{artifactIdToEdit:$,cancelEdit:xe})}),Object(ee.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:se,children:[Object(ee.jsx)(j.a.Header,{children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsx)("span",{children:Object(ee.jsx)(N.a,{t:W,i18nKey:"artifactFilter",children:"Artifact Filter"})})}),Object(ee.jsx)(p.a,{xs:"auto",children:Object(ee.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return _({type:"reset"})},children:[Object(ee.jsx)(o.a,{icon:l.H,className:"fa-fw"})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"resetFilters"})]})})]})}),Object(ee.jsxs)(j.a.Body,{children:[Object(ee.jsxs)(g.a,{children:[Object(ee.jsxs)(p.a,{xs:12,lg:6,children:[Object(ee.jsxs)(h.a,{as:x.a.Prepend,className:"flex-grow-1 mb-2",children:[Object(ee.jsx)(h.a.Toggle,{className:"w-100",variant:Ne?"success":"primary",children:null!==(a=null===je||void 0===je||null===(d=je[Ne])||void 0===d?void 0:d.name)&&void 0!==a?a:W("editor.set.artifactSet")}),Object(ee.jsxs)(h.a.Menu,{children:[Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterArtSetKey:""})},children:Object(ee.jsx)(N.a,{t:W,i18nKey:"ui:unselect",children:"Unselect"})}),Object(ee.jsx)(h.a.Divider,{}),Object(ee.jsx)(te,{sheets:je,click:function(e){return _({filterArtSetKey:e})}})]})]}),Object(ee.jsx)(O.a,{className:"w-100 d-flex mb-2",type:"checkbox",as:x.a.Append,onChange:function(e){return _({filterStars:e})},value:Ce,children:P.a.map((function(e){var t=Ce.includes(e);return Object(ee.jsxs)(m.a,{value:e,variant:t?"success":"primary",children:[Object(ee.jsx)(o.a,{icon:t?l.f:l.B})," ",Object(ee.jsx)(E.a,{stars:e})]},e)}))}),Object(ee.jsxs)(x.a,{className:"mb-2",children:[Object(ee.jsx)(x.a.Prepend,{children:Object(ee.jsx)(x.a.Text,{children:Object(ee.jsx)("span",{children:Object(ee.jsxs)(N.a,{t:W,i18nKey:"filterLevelFormat",children:["Level ",Object(ee.jsx)("span",{className:"text-".concat(Ae>0?"success":""),children:"Low"}),"/",Object(ee.jsx)("span",{className:"text-".concat(Ee<20?"success":""),children:"High"})," (Inclusive)"]})})})}),Object(ee.jsx)(C.a,{value:Ae,placeholder:W("ui:game.minLevel"),onChange:function(e){return _({filterLevelLow:Object(U.a)(e,0,Ee)})}}),Object(ee.jsx)(C.a,{value:Ee,placeholder:W("ui:game.maxLevel"),onChange:function(e){return _({filterLevelHigh:Object(U.a)(e,Ae,20)})}})]}),Object(ee.jsxs)(b.a,{className:"w-100 d-flex flex-row mb-2",children:[Object(ee.jsxs)(h.a,{as:b.a,className:"flex-grow-1",children:[Object(ee.jsx)(h.a.Toggle,{children:Object(ee.jsx)("span",{children:Object(ee.jsxs)(N.a,{t:W,i18nKey:"ui:sortByFormat",value:W("sortMap.".concat(De)),children:["Sort By: ",{value:W("sortMap.".concat(De))}]})})}),Object(ee.jsx)(h.a.Menu,{children:xt.map((function(e){return Object(ee.jsx)(h.a.Item,{onClick:function(){return _({sortType:e})},children:W("sortMap.".concat(e))},e)}))})]}),Object(ee.jsxs)(f.a,{onClick:function(){return _({ascending:!We})},className:"flex-shrink-1",children:[Object(ee.jsx)(o.a,{icon:We?l.z:l.A,className:"fa-fw"}),Object(ee.jsxs)("span",{children:[" ",We?Object(ee.jsx)(N.a,{t:W,i18nKey:"ui:ascending",children:"Ascending"}):Object(ee.jsx)(N.a,{t:W,i18nKey:"ui:descending",children:"Descending"})]})]})]})]}),Object(ee.jsx)(p.a,{xs:12,lg:6,children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(ee.jsx)(h.a.Toggle,{className:"w-100",variant:ke?"success":"primary",children:ke?Object(ee.jsx)(ae.b,{slotKey:ke}):W("slot")}),Object(ee.jsxs)(h.a.Menu,{children:[Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterSlotKey:""})},children:Object(ee.jsx)(N.a,{t:W,i18nKey:"ui:unselect",children:"Unselect"})}),P.h.map((function(e){return Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterSlotKey:e})},children:Object(ee.jsx)(ae.b,{slotKey:e})},e)}))]})]}),Object(ee.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(ee.jsx)(h.a.Toggle,{className:"w-100",variant:Ke?"success":"primary",children:F.b.getStatNameWithPercent(Ke,W("mainStat"))}),Object(ee.jsxs)(h.a.Menu,{children:[Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterMainStatKey:""})},children:Object(ee.jsx)(N.a,{t:W,i18nKey:"ui:unselect",children:"Unselect"})}),R.a.map((function(e){return Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterMainStatKey:e})},children:F.b.getStatNameWithPercent(e)},e)}))]})]}),Object(ee.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(ee.jsx)(h.a.Toggle,{className:"w-100",variant:Fe?"success":"primary",children:Oe}),Object(ee.jsxs)(h.a.Menu,{children:[Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterLocation:""})},children:Object(ee.jsx)(N.a,{t:W,i18nKey:"ui:unselect",children:"Unselect"})}),Object(ee.jsxs)(h.a.Item,{onClick:function(){return _({filterLocation:"Inventory"})},children:[Object(ee.jsx)(o.a,{icon:l.c})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"filterLocation.inventory",children:"Inventory"})]}),Object(ee.jsxs)(h.a.Item,{onClick:function(){return _({filterLocation:"Equipped"})},children:[Object(ee.jsx)(o.a,{icon:l.I})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"filterLocation.currentlyEquipped",children:"Currently Equipped"})]}),Object(ee.jsx)(h.a.Divider,{}),Object(ee.jsx)(k.b,{onSelect:function(e){return _({filterLocation:e})}})]})]}),Object(ee.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(ee.jsx)(h.a.Toggle,{className:"w-100",variant:Pe?"success":"primary",children:me}),Object(ee.jsxs)(h.a.Menu,{children:[Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterExcluded:""})},children:Object(ee.jsx)(N.a,{t:W,i18nKey:"exclusion.any",children:"Any"})}),Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterExcluded:"excluded"})},children:Object(ee.jsxs)("span",{children:[Object(ee.jsx)(o.a,{icon:l.a})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"exclusion.excluded",children:"Excluded"})]})}),Object(ee.jsx)(h.a.Item,{onClick:function(){return _({filterExcluded:"included"})},children:Object(ee.jsxs)("span",{children:[Object(ee.jsx)(o.a,{icon:l.e})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"exclusion.included",children:"Included"})]})})]})]})]}),Object(ee.jsx)(p.a,{children:Le.map((function(e,t){return Object(ee.jsxs)(h.a,{className:"mb-2",children:[Object(ee.jsx)(h.a.Toggle,{id:"dropdown-basic",className:"w-100",variant:e?"success":"primary",children:e?F.b.getStatNameWithPercent(e):W("editor.substat.substatFormat",{value:t+1})}),Object(ee.jsxs)(h.a.Menu,{children:[Object(ee.jsx)(h.a.Item,{onClick:function(){Le[t]="",_({filterSubstats:Le})},children:Object(ee.jsx)(N.a,{t:W,i18nKey:"editor.substat.noSubstat",children:"No Substat"})}),D.a.getSubstatKeys().filter((function(e){return!Le.includes(e)})).map((function(e){return Object(ee.jsx)(h.a.Item,{onClick:function(){Le[t]=e,_({filterSubstats:Le})},children:F.b.getStatNameWithPercent(e)},e)}))]})]},t)}))})]})})]}),Object(ee.jsxs)(g.a,{className:"mb-n2",children:[Object(ee.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(ee.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ge,onClick:function(){return window.confirm("Are you sure you want to unequip ".concat(ge," artifacts currently equipped on characters?"))&&pe.map((function(e){return H.setArtLocation(e.id,"")}))},children:[Object(ee.jsx)(o.a,{icon:l.J})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"button.unequipArtifacts",children:"Unequip Artifacts"})]})}),Object(ee.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(ee.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!pe.length,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(pe.length," artifacts?"))&&pe.map((function(e){return H.removeArt(e.id)}))},children:[Object(ee.jsx)(o.a,{icon:l.F})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"button.deleteArtifacts",children:"Delete Artifacts"})]})}),Object(ee.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(ee.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!we,onClick:function(){return window.confirm("Are you sure you want to exclude ".concat(we," artifacts from build generations?"))&&pe.map((function(e){return H.updateArt({exclude:!0},e.id)}))},children:[Object(ee.jsx)(o.a,{icon:l.a})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"button.excludeArtifacts",children:"Lock Artifacts"})]})}),Object(ee.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(ee.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!Se,onClick:function(){return window.confirm("Are you sure you want to include ".concat(Se," artifacts in build generations?"))&&pe.map((function(e){return H.updateArt({exclude:!1},e.id)}))},children:[Object(ee.jsx)(o.a,{icon:l.e})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"button.includeArtifacts",children:"Unlock Artifacts"})]})}),Object(ee.jsx)(p.a,{xs:12,className:"mt-n2",children:Object(ee.jsx)("small",{children:Object(ee.jsxs)(N.a,{t:W,i18nKey:"buttonHint",children:["Note: the above buttons only applies to ",Object(ee.jsx)("b",{children:"filtered artifacts"})]})})})]})]})]}),Object(ee.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:se,children:[Object(ee.jsx)(j.a.Header,{children:Object(ee.jsxs)(g.a,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsx)("span",{children:Object(ee.jsx)(N.a,{t:W,i18nKey:"efficiencyFilter.title",children:"Efficiency Filter"})})}),Object(ee.jsx)(p.a,{xs:"auto",children:Object(ee.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return _({effFilter:Object(s.a)(R.b)})},children:[Object(ee.jsx)(o.a,{icon:l.H,className:"fa-fw"})," ",Object(ee.jsx)(N.a,{t:W,i18nKey:"ui:reset"})]})})]})}),Object(ee.jsx)(j.a.Body,{children:Object(ee.jsx)(v.a,{as:g.a,className:"w-100 d-flex flex-row",children:[[0,6],[6]].map((function(e){return Object(ee.jsx)(O.a,{as:p.a,type:"checkbox",value:G,onChange:function(e){return _({effFilter:e})},className:"flex-grow-1 mb-2",children:R.b.slice.apply(R.b,Object(s.a)(e)).map((function(e){return Object(ee.jsx)(m.a,{value:e,variant:G.includes(e)?"success":"primary",children:F.b.getStatNameWithPercent(e)},e)}))},e.toString())}))})})]}),Ge,Object(ee.jsx)(g.a,{children:Ve.map((function(e,t){return Object(ee.jsx)(p.a,{lg:4,md:6,className:"mb-2",children:Object(ee.jsx)(z.a,{artifactId:e.id,effFilter:be,onDelete:function(){return fe(e.id)},onEdit:function(){return he(e.id)}})},t)}))}),qe>1&&Ge]})}}}]);
//# sourceMappingURL=19.4a68043f.chunk.js.map