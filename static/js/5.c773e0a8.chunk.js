(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[5],{184:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(28),i=a(14),c=a(50),r=a(1),s=function(){return Object(r.jsx)(c.a,{icon:i.x})},o=function(e){var t=e.stars,a=e.colored,i=void 0!==a&&a;return Object(r.jsx)("span",{className:i?"text-5star":"",children:t?Object(n.a)(Array(t).keys()).map((function(e,t){return Object(r.jsx)(s,{},t)})):null})}},185:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(10),i=a(204),c=a(106),r=a(28),s=a(54),o=a(3),l=a(22),d=a(29),u=a(43),j=a(105),b=a(93),f=a(35),v=a(74),h=a(42),O=a(190),m=a(36),p=a(196),g=a(12),x=a(9),y=function(){function e(){if(Object(l.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(d.a)(e,null,[{key:"getDisplayHeading",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anemo";if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var i,c,r=e.split("talentKey_")[1];return null!==(i=null===t||void 0===t||null===(c=t.getTalentOfKey(r,n))||void 0===c?void 0:c.name)&&void 0!==i?i:r}if(e.startsWith("weapon_")){var s,o=e.split("weapon_")[1];return null!==(s=null===a||void 0===a?void 0:a.name)&&void 0!==s?s:o}return""}}]),e}();y.getElementalName=function(e){return v.a[e].name},y.getLevelString=function(e){return"".concat(e.level,"/").concat(f.a[e.ascension])},y.getTalentFieldValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(x.f)(e[t],a):n},y.hasOverride=function(e,t){return"finalHP"===t?y.hasOverride(e,"hp")||y.hasOverride(e,"hp_")||y.hasOverride(e,"characterHP"):"finalDEF"===t?y.hasOverride(e,"def")||y.hasOverride(e,"def_")||y.hasOverride(e,"characterDEF"):"finalATK"===t?y.hasOverride(e,"atk")||y.hasOverride(e,"atk_")||y.hasOverride(e,"characterATK"):!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},y.getBaseStatValue=function(e,t,a,n){return"enemyLevel"===n?e.level:n.includes("enemyRes_")?10:n in f.b?f.b[n]:0},y.getStatValueWithOverride=function(e,t,a,n){var i,c;return y.hasOverride(e,n)?null!==(i=null===(c=e.baseStatOverrides)||void 0===c?void 0:c[n])&&void 0!==i?i:0:y.getBaseStatValue(e,t,a,n)},y.calculateBuild=function(e,t,a,n){var i,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.artifacts?i=Object.fromEntries(e.artifacts.map((function(e,t){return[t,e]}))):e.equippedArtifacts&&(i=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return[a,h.a._getArt(n)]}))));var r=y.createInitialStats(e,t,a);return r.mainStatAssumptionLevel=c,y.calculateBuildwithArtifact(r,i,n)},y.calculateBuildwithArtifact=function(e,t,a){var n,i=u.a.setToSlots(t),c=j.a.setEffectsStats(a,e,i),r=Object(x.d)(e);Object.values(t).forEach((function(e){e&&(r[e.mainStatKey]=(r[e.mainStatKey]||0)+u.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(r.mainStatAssumptionLevel,4*e.numStars),e.level)),e.substats.forEach((function(e){return e&&e.key&&(r[e.key]=(r[e.key]||0)+e.value)})))})),c.forEach((function(e){return r[e.key]=(r[e.key]||0)+e.value})),b.a.parseConditionalValues({artifact:null===r||void 0===r||null===(n=r.conditionalValues)||void 0===n?void 0:n.artifact},(function(e,t,a){var n,c,s=Object(o.a)(a,2)[1],l=e.setNumKey;if(!(parseInt(l)>(null!==(n=null===i||void 0===i||null===(c=i[s])||void 0===c?void 0:c.length)&&void 0!==n?n:0))){var d=b.a.resolve(e,r,t).stats;Object.entries(d).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return r[a]=(r[a]||0)+n}))}})),r.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),r.setToSlots=i;var s=Object(p.a)(null===r||void 0===r?void 0:r.modifiers);return Object(m.c)(s,r).formula(r),r},y.mergeStats=function(e,t){return t&&Object.entries(t).forEach((function(t){var a=Object(o.a)(t,2),n=a[0],i=a[1];if("modifiers"===n){var c;e.modifiers=null!==(c=e.modifiers)&&void 0!==c?c:{};var r,l=Object(s.a)(Object.entries(i));try{for(l.s();!(r=l.n()).done;){var d,u=Object(o.a)(r.value,2),j=u[0],b=u[1];e.modifiers[j]=null!==(d=e.modifiers[j])&&void 0!==d?d:{};var f,v=Object(s.a)(Object.entries(b));try{for(v.s();!(f=v.n()).done;){var h,O=Object(o.a)(f.value,2),m=O[0],p=O[1];e.modifiers[j][m]=(null!==(h=e.modifiers[j][m])&&void 0!==h?h:0)+p}}catch(g){v.e(g)}finally{v.f()}}}catch(g){l.e(g)}finally{l.f()}}else void 0===e[n]?e[n]=i:"number"===typeof e[n]&&(e[n]+=i)}))},y.createInitialStats=function(e,t,a){var s,l,d,u=e=Object(x.d)(e),j=u.characterKey,v=u.elementKey,h=u.level,O=u.ascension,m=u.hitMode,p=u.infusionAura,S=u.reactionMode,w=u.talentLevelKeys,E=u.constellation,_=u.equippedArtifacts,k=u.conditionalValues,N=void 0===k?{}:k,A=u.weapon,K=["enemyLevel"].concat(Object(r.a)(Object.keys(f.b))),T=Object.fromEntries(K.map((function(n){return[n,y.getStatValueWithOverride(e,t,a,n)]})));T.characterHP=t.getBase("hp",h,O),T.characterDEF=t.getBase("def",h,O),T.characterATK=t.getBase("atk",h,O),T.characterLevel=h,T.characterEle=null!==(s=null!==(l=t.elementKey)&&void 0!==l?l:v)&&void 0!==s?s:"anemo",T.characterKey=j,T.hitMode=m,T.infusionAura=p,T.reactionMode=S,T.conditionalValues=N,T.weaponType=t.weaponTypeKey,T.tlvl=w,T.constellation=E,T.ascension=O,T.weapon=Object(x.d)(A),T.equippedArtifacts=_,["physical"].concat(Object(r.a)(g.d)).forEach((function(n){var i="".concat(n,"_enemyRes_");T[i]=y.getStatValueWithOverride(e,t,a,i),i="".concat(n,"_enemyImmunity"),T[i]=y.getStatValueWithOverride(e,t,a,i)}));var V=(null===(d=e)||void 0===d?void 0:d.baseStatOverrides)||{};Object.entries(V).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];T.hasOwnProperty(a)||(T[a]=n)}));var C=t.getSpecializedStat(O);if(C){var B=t.getSpecializedStatVal(O);y.mergeStats(T,Object(c.a)({},C,B))}for(var M in t.getTalentStatsAll(T,T.characterEle).forEach((function(e){return y.mergeStats(T,e)})),T.tlvl){var F;T.tlvl[M]+=null!==(F=T["".concat(M,"Boost")])&&void 0!==F?F:0}var W=a.getMainStatValue(A.level,A.ascension);T.weaponATK=W;var H=a.getSubStatKey();H&&y.mergeStats(T,Object(c.a)({},H,a.getSubStatValue(A.level,A.ascension))),y.mergeStats(T,a.stats(T));N.artifact;var I=N.weapon,P=Object(i.a)(N,["artifact","weapon"]);return b.a.parseConditionalValues(Object(n.a)(Object(n.a)({},A.key&&{weapon:Object(c.a)({},A.key,null===I||void 0===I?void 0:I[A.key])}),P),(function(e,t,a){if(b.a.canShow(e,T)){var n=b.a.resolve(e,T,t).stats;y.mergeStats(T,n)}})),T},y.getDisplayStatKeys=function(e,t){var a,i,c=e.characterEle,r=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(c,"_dmg_")];t.isAutoElemental||r.push("physical_dmg_");var s=Object(x.d)(m.a[c]),l=t.weaponTypeKey;s.includes("shattered_hit")||"claymore"!==l||s.push("shattered_hit");var d={},u=t.getTalent(c);u&&Object.entries(u.formula).forEach((function(t){var a=Object(o.a)(t,2),n=a[0],i=a[1];Object.values(i).forEach((function(t){if(t.field.canShow(e)){"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto");var a="talentKey_".concat(n);d[a]||(d[a]=[]),d[a].push(t.keys)}}))}));var j=null===(a=O.a.formulas)||void 0===a||null===(i=a.weapon)||void 0===i?void 0:i[e.weapon.key];return j&&Object.values(j).forEach((function(t){if(t.field.canShow(e)){var a="weapon_".concat(e.weapon.key);d[a]||(d[a]=[]),d[a].push(t.keys)}})),Object(n.a)(Object(n.a)({basicKeys:r},d),{},{transReactions:s})}},188:function(e,t,a){"use strict";var n={elements:{anemo:a.p+"static/media/Element_Anemo.f809fde3.png",cryo:a.p+"static/media/Element_Cryo.019d72f9.png",dendro:a.p+"static/media/Element_Dendro.8ee0f26d.png",electro:a.p+"static/media/Element_Electro.342332ac.png",geo:a.p+"static/media/Element_Geo.b7e865c6.png",hydro:a.p+"static/media/Element_Hydro.f2f8bd8a.png",pyro:a.p+"static/media/Element_Pyro.f65c2e38.png"},weaponTypes:{bow:a.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:a.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:a.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:a.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:a.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:a.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:a.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:a.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:a.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:a.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},190:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(22),i=a(9),c=Promise.all([a.e(0),a.e(3)]).then(a.bind(null,144)).then((function(e){return r.formulas=e.default,e.default})),r=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};r.formulas={},r.get=function(e){return c.then((function(t){return Object(i.p)(t,e)}))}},196:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(3),i=a(28),c=a(36);function r(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a.toString())}}),new Proxy({},{get:function(e,a,n){t.add(a.toString())}})),Object(i.a)(t)}var s=Object.freeze(Object.fromEntries(Object.entries(c.b).map((function(e){var t=Object(n.a)(e,2);return[t[0],r(t[1])]}))));function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(c.d),a=new Set;return t.forEach((function(t){return l(t,e,a)})),Object(i.a)(a)}function l(e,t,a){var n,i;a.has(e)||(null===(n=s[e])||void 0===n||n.forEach((function(e){return l(e,t,a)})),Object.keys(null!==(i=t[e])&&void 0!==i?i:{}).forEach((function(e){return l(e,t,a)})),a.add(e))}},204:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}a.d(t,"a",(function(){return n}))},210:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(3),i=a(14),c=a(50),r=a(0),s=a(492),o=a(25),l=a(58),d=a(30),u=a(56),j=a(181),b=a(9),f=a(1);function v(e){var t,a,v=e.pageKey,h=void 0===v?"":v,O=e.text,m=void 0===O?"":O,p=e.modalTitle,g=void 0===p?"":p,x=e.children,y=Object(r.useState)(null===(t=null===(a=Object(b.m)("infoShown"))||void 0===a?void 0:a[h])||void 0===t||t),S=Object(n.a)(y,2),w=S[0],E=S[1],_=Object(r.useState)(Array.isArray(m)?Object(b.h)(m):m),k=Object(n.a)(_,1)[0],N=function(){var e,t=null!==(e=Object(b.m)("infoShown"))&&void 0!==e?e:{};t[h]=!1,Object(b.q)("infoShown",t),E(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{show:w,onHide:function(){return N()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(f.jsxs)(o.a,{bg:"darkcontent",text:"lightfont",children:[Object(f.jsx)(o.a.Header,{children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(d.a,{children:Object(f.jsx)(o.a.Title,{children:g})}),Object(f.jsx)(d.a,{xs:"auto",children:Object(f.jsx)(u.a,{variant:"danger",onClick:function(){return N()},children:Object(f.jsx)(c.a,{icon:i.z})})})]})}),Object(f.jsx)(o.a.Body,{children:Object(f.jsx)(r.Suspense,{fallback:Object(f.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(f.jsx)(j.a,{animation:"border",variant:"primary"})]}),children:x})}),Object(f.jsx)(o.a.Footer,{children:Object(f.jsx)(u.a,{variant:"danger",onClick:function(){return N()},children:Object(f.jsx)("span",{children:"Close"})})})]})}),Object(f.jsx)(o.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(f.jsx)(o.a.Body,{className:"pl-2 py-0 pr-0",children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(d.a,{children:Object(f.jsx)("small",{children:k})}),Object(f.jsx)(d.a,{xs:"auto",children:Object(f.jsx)(u.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return E(!0)},children:Object(f.jsx)(c.a,{icon:i.r})})})]})})})]})}},258:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(28),i=a(3),c=a(14),r=a(50),s=a(0),o=a(198),l=a(146),d=a(56),u=a(25),j=a(30),b=a(58),f=a(47),v=a(105),h=a(188),O=a(184),m=a(113),p=a(42),g=a(16),x=a(104),y=a(109),S=a(185),w=a(107),E=a(1);function _(e){var t,a=e.characterKey,_=e.onEdit,k=e.onDelete,N=e.cardClassName,A=void 0===N?"":N,K=e.bg,T=void 0===K?"":K,V=e.header,C=e.footer,B=void 0!==C&&C,M=Object(s.useState)(void 0),F=Object(i.a)(M,2),W=F[0],H=F[1];Object(s.useEffect)((function(){return a?p.a.followChar(a,H):void 0}),[a,H]);var I=Object(x.b)(v.a.getAll(),[]),P=W,z=Object(x.b)(w.b.get(a),[a]),D=Object(x.b)(P&&y.a.get(P.weapon.key),[P]),L=Object(s.useMemo)((function(){return P&&z&&D&&I&&S.a.calculateBuild(P,z,D,I)}),[P,z,D,I]);if(!P||!z||!D||!L)return null;var R=P.weapon,q=P.constellation,G=R.level,U=R.ascension,J=L.tlvl,Q=z.name,X=L.characterEle,Y=z.weaponTypeKey,Z=null===D||void 0===D?void 0:D.name,$=D.getMainStatValue(G,U).toFixed(g.a.fixedUnit("atk")),ee=D.getSubStatKey(),te=D.getSubStatValue(G,U).toFixed(g.a.fixedUnit(ee)),ae=y.a.getLevelString(R),ne=null===D||void 0===D?void 0:D.passiveName;return Object(E.jsxs)(u.a,{className:A,bg:T||"darkcontent",text:"lightfont",children:[Object(E.jsx)(u.a.Header,{className:"pr-2",children:Object(E.jsxs)(b.a,{className:"no-gutters",children:[Object(E.jsx)(j.a,{children:V||Object(E.jsx)("h5",{children:Object(E.jsx)("b",{children:Q})})}),Object(E.jsx)(j.a,{xs:"auto",children:Object(E.jsxs)("span",{className:"float-right align-top ml-1",children:[_&&Object(E.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return _(a)},children:Object(E.jsx)(r.a,{icon:c.h})}),k&&Object(E.jsx)(d.a,{variant:"danger",size:"sm",onClick:function(){return k(a)},children:Object(E.jsx)(r.a,{icon:c.C})})]})})]})}),Object(E.jsxs)(u.a.Body,{onClick:function(){return null===_||void 0===_?void 0:_(a)},className:_?"cursor-pointer":"",children:[Object(E.jsxs)(b.a,{children:[Object(E.jsx)(j.a,{xs:"auto",className:"pr-0",children:Object(E.jsx)(o.a,{src:z.thumbImg,className:"thumb-big grad-".concat(z.star,"star p-0"),thumbnail:!0})}),Object(E.jsxs)(j.a,{children:[Object(E.jsxs)("h5",{className:"mb-0",children:["Lv. ",S.a.getLevelString(P)," ","C".concat(q)]}),Object(E.jsxs)("h6",{className:"mb-0",children:[Object(E.jsx)(l.a,{variant:"secondary",children:Object(E.jsx)("strong",{className:"mx-1",children:J.auto+1})})," ",Object(E.jsx)(l.a,{variant:"secondary",children:Object(E.jsx)("strong",{className:"mx-1",children:J.skill+1})})," ",Object(E.jsx)(l.a,{variant:"secondary",children:Object(E.jsx)("strong",{className:"mx-1",children:J.burst+1})})]}),Object(E.jsx)("h6",{className:"mb-0",children:Object(E.jsx)(O.a,{stars:z.star,colored:!0})}),Object(E.jsxs)("h4",{className:"mb-0",children:[Object(E.jsx)(o.a,{src:h.a.elements[X],className:"inline-icon"})," ",Object(E.jsx)(o.a,{src:null===(t=h.a.weaponTypes)||void 0===t?void 0:t[Y],className:"inline-icon"})]})]})]}),Object(E.jsx)(b.a,{className:"mb-2",children:Object(E.jsxs)(j.a,{children:[Object(E.jsxs)("h6",{className:"mb-0",children:[Z,ne&&Object(E.jsx)(l.a,{variant:"info",className:"ml-1",children:R.refineIndex+1})," ",ae]}),Object(E.jsxs)("span",{children:["ATK: ",$,"  ",ne&&Object(E.jsxs)("span",{children:[g.a.getStatName(ee),": ",te,g.a.getStatUnit(ee)]})]})]})}),Object(E.jsx)(b.a,{children:Object(E.jsx)(j.a,{children:I&&Object.entries(v.a.setEffects(I,L.setToSlots)).map((function(e){var t,a=Object(i.a)(e,2),c=a[0],r=a[1],s=null!==(t=null===I||void 0===I?void 0:I[c].name)&&void 0!==t?t:"",o=Math.max.apply(Math,Object(n.a)(r));return Object(E.jsx)("h5",{children:Object(E.jsxs)(l.a,{variant:"secondary",children:[s," ",Object(E.jsx)(l.a,{variant:"success",children:o})]})},c)}))})}),Object(E.jsx)(b.a,{children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var t=g.a.getStatUnit(e),a=L[e];return Object(E.jsxs)(j.a,{xs:12,children:[Object(E.jsxs)("h6",{className:"d-inline",children:[Object(m.a)(e)," ",g.a.getStatName(e)]}),Object(E.jsx)("span",{className:"float-right",children:(null===a||void 0===a?void 0:a.toFixed(g.a.fixedUnit(e)))+t})]},e)}))})]}),B&&Object(E.jsx)(u.a.Footer,{children:Object(E.jsx)(d.a,{as:f.b,to:{pathname:"/build",characterKey:a},children:"Generate Builds"})})]})}}}]);
//# sourceMappingURL=5.c773e0a8.chunk.js.map