{"version":3,"sources":["Character/Character.js","Components/SlotIcon.js","Data/ArtifactLookupTable.js","Artifact/Artifact.js","Data/ElementalData.js","Util/FieldUtil.js","Assets/Element_Anemo.png","Assets/Assets.js","Assets/Element_Cryo.png","Assets/Element_Dendro.png","Assets/Element_Electro.png","Assets/Element_Geo.png","Assets/Element_Hydro.png","Assets/Element_Pyro.png","Assets/Weapon-class-bow-icon.png","Assets/Weapon-class-catalyst-icon.png","Assets/Weapon-class-claymore-icon.png","Assets/Weapon-class-polearm-icon.png","Assets/Weapon-class-sword-icon.png","Assets/Item_Fragile_Resin.png","Assets/Item_Condensed_Resin.png","Assets/Item_Wanderer's_Advice.png","Assets/Item_Hero's_Wit.png","Assets/Item_Adventurer's_Experience.png","Conditional/Conditional.js","Data/WeaponData.js","StatData.js","Weapon/Weapon.js","Character/CharacterDisplay/Components/FieldDisplay.jsx","Components/StarDisplay.js","Components/StatIcon.js","Components/CustomFormControl.js","Formula.js","Data/CharacterData.js","Conditional/ConditionalSelector.jsx","Character/CharacterDisplay/Components/ConditionalDisplay.jsx","StatDependency.js","Util/ReactUtil.js","Data/ArtifactData.js","StatConstants.js","Components/CharacterSelection.js","Components/StatDisplay.jsx","Character/StatInput.jsx","Artifact/ArtifactCard.jsx","Artifact/PercentBadge.tsx","Character/CharacterDisplay/CharacterArtifactPane.jsx","Character/CharacterDisplay/CharacterOverviewPane.jsx","Character/CharacterDisplay/CharacterTalentPane.jsx","Character/CharacterDisplayCard.jsx","Components/WIPComponent.js","Artifact/Component/SetEffectDisplay.jsx","Character/CharacterDisplay/StatDisplayComponent.jsx","Character/CharacterDisplay/DamageOptionsAndCalculation.jsx","FlexPage/CodingUtil.js","FlexPage/Schemas.js","FlexPage/FlexUtil.js","FlexPage/FlexDisplay.jsx","Stat.js"],"names":["Character","this","Error","characterKey","talentKey","formula","formulaDB","getCDataObj","formulaKey","tk","Object","entries","find","character","CharacterDatabase","get","equippedArtifacts","values","forEach","artid","ArtifactDatabase","moveToNewLocation","remove","getCharacterDataImport","CharacterDataImport","getBaseStatValue","statKey","defVal","levelKey","getSpecializedStatKey","getSpeicalizedStatVal","Weapon","getWeaponMainStatValWithOverride","weapon","getLevel","includes","characterStatBase","characterObj","baseStat","getIndexFromlevelkey","charKey","CharacterData","getElementalName","elementalKey","ElementalData","name","getAllCharacterKeys","keys","getName","getStar","star","getElementalKey","elementKey","getElementalKeys","getElementalKeysWithoutPhysical","filter","e","getWeaponTypeKey","weaponTypeKey","getConstellationName","constellationName","getTitles","titles","getlevelKeys","LevelsData","getlevelTemplateName","getLevelString","levelOverride","getStatValueWithOverride","indexOf","level","getAscension","asend","getSpecializedStat","specializeStat","key","value","getThumb","thumbImg","getCard","cardImg","getTalentImg","getTalent","img","getConstellationImg","constIndex","talent","getTalentName","getTalentLevelBoost","constellation","talents","i","talentBoost","boostEntry","getTalentDocument","document","getTalentDocumentSections","stats","map","section","getTalentField","sectionIndex","fieldIndex","field","fields","getTalentFieldValue","getTalentStats","talentStats","getTalentStatsAll","statsArr","push","isAutoElemental","isMelee","hasTalentPage","Boolean","length","getDisplayStatKeys","basicKeys","eleKey","transReactions","deepClone","ElementToReactionKeys","Formula","formulas","charFormulas","canShow","genericAvgHit","reactions","startsWith","replace","hasOverride","baseStatOverrides","equipArtifacts","artifactIds","artIdsOnCharacter","artIdsNotOnCharacter","Artifact","getSlotKeys","slotKey","artNotOnChar","location","artOnChar","notCharLoc","id","equipArtifact","fromEntries","sKey","update","calculateBuild","artifacts","mainStatAssumptionLevel","art","initialStats","createInitialStats","calculateBuildwithArtifact","setToSlots","artifactSetEffectsStats","getArtifactSetEffectsStats","mainStatKey","getMainStatValue","numStars","Math","max","min","substats","substat","stat","statVal","Conditional","parseConditionalValues","artifact","conditionalValues","conditional","conditionalValue","setKey","setNumKey","parseInt","condStats","resolve","val","dependencies","GetDependencies","modifiers","PreprocessFormulas","mergeStats","modifier","mkey","multiplier","undefined","hitMode","infusionAura","reactionMode","talentLevelKeys","ascension","statKeys","characterEle","weaponType","tlvl","overrides","hasOwnProperty","specializedStatVal","specialStatKey","s","weaponSubKey","getWeaponSubStatKey","getWeaponSubStatValWithOverride","getWeaponBonusStat","weaponCond","otherCond","SlotIcon","flower","faBahai","plume","faFeatherAlt","sands","faHourglass","goblet","faWineGlass","circlet","faCrown","ArtifactSubstatLookupTable","hp","3","4","5","eleMas","atk","def","def_","critRate_","atk_","critDMG_","hp_","enerRech_","state","errors","allSubstatRolls","total","index","substatRolls","getSubstatRolls","Set","roll","size","rolls","efficiency","getSubstatEfficiency","Stat","getStatNameWithPercent","some","minimum","getBaseSubRollNumLow","floor","remaining","rollsRemaining","maximum","totalPossibleRolls","minimumMaxRolls","Infinity","tryAllSubstats","maxRolls","pop","isFinite","accurateValue","reduce","sum","cur","getArtifactEfficiency","currentEfficiency","maximumEfficiency","accu","current","totalRolls","ArtifactSubstatsMinMax","artifactId","currentLocation","intendedLocation","artifactToSwapWithid","getArtifactIDFromSlot","artifactToSwapWith","swapLocations","unequipArtifactOnSlot","getDataImport","ArtifactDataImport","getSetKeys","ArtifactData","getSetName","getSetsByMaxStarEntries","setobj","rarity","getPieces","pieces","getPieceName","getPieceIcon","icons","getSetEffectsObj","setEffects","getArtifactSetNumStats","artifactSetEffect","artArr","getSetEffects","setNumKeys","getSetEffectText","setEffectText","text","getSetEffectConditionals","setEffect","conditionals","default","ArtifactSlotsData","getSlotName","getSlotIcon","icon","className","getSlotMainStatKeys","getSlotNameWithIcon","slotIcon","splitArtifactsBySlot","databaseObj","getStars","ArtifactStarsData","getRarityArr","getMainStatKeys","ArtifactMainSlotKeys","getMainStatValues","numStar","ArtifactMainStatsData","main","subsBaselow","getBaseSubRollNumHigh","subBaseHigh","getNumUpgradesOrUnlocks","numUpgradesOrUnlocks","getSubstatAllMax","getSubStatKeys","ArtifactSubStatsData","subStatCloseEnough","value1","value2","getStatUnit","closeEnoughFloat","closeEnoughInt","ceil","numberOfSubstatUnlocked","getSubstatRollData","subStatKey","subStatValue","rollData","table","lookupValue","toFixed","a","b","clampPercent","getAllArtifactSetEffectsObj","ArtifactSetEffectsObj","setObj","setEffectObj","physical","anemo","geo","electro","hydro","pyro","cryo","modifiersToFields","mStatKey","getStatName","variant","getStatVariant","formulaText","printStat","fixed","fixedUnit","unit","statsToFields","statVals","StatIconEle","flat","fieldProcessing","Assets","elements","dendro","weaponTypes","bow","catalyst","claymore","polearm","sword","resin","fragile","condensed","exp_books","advice","wit","experience","processed","Promise","charImport","res","then","addConditional","artImport","setNumObj","c","weaponImport","WeaponDataImport","WeaponData","all","source","findConditionals","obj","callback","condKey","states","maxStack","layeredAssignment","objPathValue","trigger","stacks","stateKey","conditionalStats","objMultiplication","crawlObject","Array","isArray","imp","WeaponLevelKeys","LevelNameData","WeaponTypeData","StatData","characterHP","pretty","const","characterDEF","characterATK","characterLevel","weaponATK","baseATK","dmg_","finalHP","finalATK","finalDEF","critHit_base_multi","weakspotDMG_","heal_","incHeal_","powShield_","cdRed_","skillCDRed_","burstCDRed_","moveSPD_","atkSPD_","stamina","staminaDec_","staminaGlidingDec_","staminaChargedDec_","heal_multi","transformative_level_multi","amplificative_dmg_","transformative_dmg_","crystalize_eleMas_","crystalize_multi","crystalize_dmg_","crystalize_hit","burning_dmg_","enemyLevel","enemyLevel_multi","enemyDEFRed_","infusionSelf","Formulas","transformativeReactionLevelMultipliers","crystalizeLevelMultipliers","dependencyKeys","debug","constData","formulaList","tmp","constModifier","k","dynamicModifier","constFunc","m","dynamicFunc","funcIndicator","func","console","log","error","assign","hitMoves","move","moveName","clamp","hitElements","ele","eleName","opt","hitTypes","type","typeName","transformativeReactions","reaction","multi","variants","amplifyingReactions","baseMulti","getWeaponDataImport","getLevelName","getLevelIndex","getWeaponName","weaponKey","getWeaponRarity","getWeaponPassiveName","passiveName","getWeaponPassiveDescription","charFinalStats","passiveDescription","getWeaponDescription","description","getWeaponConditional","getWeaponImg","getWeaponMainStatVal","baseStats","getWeaponSubStatVal","sub","getWeaponsOfType","getWeaponTypeName","getWeaponTypeKeys","weaponObj","overrideMainVal","overrideSubVal","FieldDisplay","equippedBuild","newBuild","compareAgainstEquipped","useContext","compareAgainstEquippedContext","useMemo","fixedVal","fieldVal","retVal","fieldEquippedVal","diff","fieldText","fieldVariant","formulaTextOverlay","fieldFormulaText","placement","overlay","faQuestionCircle","style","cursor","Item","StarIcon","faStar","Stars","stars","colored","_","StatIcon","faTint","faFistRaised","faShieldAlt","faMagic","faDice","faDiceD20","faSync","faFirstAid","CustomFormControl","onChange","disabled","float","placeholder","allowEmpty","useState","setstate","stateDirty","setstateDirty","sendChange","useCallback","parseFunc","parseFloat","useEffect","aria-label","target","onBlur","onKeyDown","CharacterFormulaImport","src","f","CharacterSpecializedStatKey","ConditionalSelector","setConditional","conditionalNum","conditionalStateKey","badge","Badge","Dropdown","Toggle","whiteSpace","Menu","onClick","condial","Fragment","v","stack","Button","faCheckSquare","faSquare","ConditionalDisplay","characterDispatch","editable","fieldClassName","conditionalFields","displayFields","condV","deletePropPath","objClearEmpties","Card","bg","Header","ListGroup","GetFormulaDependency","dependency","Proxy","prop","receiver","add","formulaKeyDependency","freeze","InsertDependencies","has","useForceUpdate","1","physical_dmg_","ele_dmg_","2","getArrLastElement","hit","avgHit","critHit","normal","charged","plunging","elemental","skill","burst","overloaded","shattered","electrocharged","superconduct","swirl","vaporize","melt","CharacterSelectionDropdownList","onSelect","getCharacterKeyList","sort","DisplayStatDiff","label","oldVal","oldText","diffText","xs","StatDisplay","build","invalid","labelVariant","StatInput","prependEle","defaultValue","onValueChange","percent","restProps","Prepend","Text","Append","pointerEvents","faUndo","ArtifactCard","artifactObj","onEdit","onDelete","forceUpdateHook","registerArtListener","unregisterArtListener","equipOnChar","equipArtifactOnChar","substatsValidation","lock","mainStatLevel","mainStatVal","artifactValid","every","sstat","border","md","thumbnail","Body","Title","numRolls","effOpacity","statName","opacity","valid","Footer","Divider","ckey","faLock","faLockOpen","faEdit","faTrashAlt","PercentBadge","badgeColor","artLayoutSize","lg","CharacterArtifactPane","history","useHistory","edit","pathname","artToEditId","equipArts","window","confirm","unequipArts","StatDisplayComponent","statsDisplayKeys","Alert","Row","Col","setNumKeyArr","SetEffectDisplay","CharacterOverviewPane","editLevel","setEditLevel","Img","Image","InputGroup","OverlayTrigger","Tooltip","faSave","roundedCircle","WeaponStatsEditorCard","MainStatsCards","WeaponStatsCard","title","statsVals","editing","SetEditing","showDescription","setShowDescription","setStateWeapon","talentConditionals","weaponDisplayMainVal","weaponDisplaySubVal","weaponPassiveName","weaponBonusStats","faQuoteLeft","DropdownButton","reverse","arr","ItemText","refineIndex","faGavel","editingOther","SetEditingOther","editingMisc","SetEditingMisc","additionalKeys","displayStatKeys","editStatKeys","otherStatKeys","miscStatkeys","specializedStatKey","specializedStatUnit","isPercentSpecialStatSelect","displayNewBuildProps","getStatNamePretty","as","getStatNameRaw","xl","CharacterTalentPane","props","skillDisplayProps","ReactionDisplay","tKey","tText","SkillDisplayCard","subtitle","asc","enabled","onClickTitle","ReactionComponents","superconduct_hit","electrocharged_hit","overloaded_hit","pyro_swirl_hit","swirlEleToDisplay","setele","element","shattered_hit","information","charEleKey","eleInterArr","Ele","talentLimits","header","talentLvlKey","talentLvlKeyRaw","levelBoost","newTalentLevelKey","statsEle","Subtitle","talentText","createContext","CustomMenu","React","forwardRef","ref","children","labeledBy","minWidth","aria-labelledby","Children","toArray","child","initialCharacter","artifactConditionals","auto","characterReducer","action","CharacterDisplayCard","propCharacterKey","propCharacter","propSetCharacterKey","setCharacterKey","footer","propNewBuild","onClose","tabName","useReducer","setcompareAgainstEquipped","firstUpdate","useRef","updateState","forceUpdate","char","newCKey","flexArts","HeaderIconDisplay","commonPaneProps","DamageOptionsAndCalculationEle","DamageOptionsAndCalculation","ButtonGroup","DropdownToggle","lvlKey","faTimes","Provider","Tab","Container","defaultActiveKey","mountOnEnter","unmountOnExit","Nav","fill","Link","eventKey","WIPComponent","Content","Pane","setStats","setStatsFields","cardbg","sectionValues","JSON","stringify","infusionVals","InfusionAuraDropdown","ReactionToggle","HitModeToggle","CalculationDisplay","subFormulaKeys","getPrintableFormulaStatKeyList","Collapse","subKey","printFormula","talentField","fieldFormula","fieldFormulaDependency","fieldValue","ContextAwareToggle","currentEventKey","AccordionContext","decoratedOnClick","useAccordionToggle","expanded","faWindowMinimize","faWindowMaximize","href","rel","immunityStatKey","elementImmunity","encodeItem","data","schema","pathItem","encode","uint","string","uintToString","encodeLength","encodeUInt","match","encodeString","schemas","defaultSchema","item","join","encodeArray","encodeObject","keySchema","valueSchema","items","encodeSparse","path","decodeItem","stream","result","decodeLength","stringToUInt","take","decodeUInt","decodeString","unused","decodeArray","decodeObject","decodeSparse","decode","number","remainder","String","fromCharCode","padEnd","code","charCodeAt","BlockStream","offset","count","slice","slots","hitModes","reactionModes","artifactSets","characterKeys","toString","array","other","object","sparse","list","artifactSet","slot","factor","endsWith","pathvalues","last","next","isNaN","conditionalV1","srcKey","srcKey2","weaponV1","weaponV2","characterV1","overrideLevel","autoInfused","bool","int","characterV2","reserved","flexV1","flexV2","_createFlexObj","parseFlexObjFromSchema","end","databaseVersion","CurrentDatabaseVersion","TestDisplay","useLocation","searchStr","search","parameters","split","d","parseFlexObj","substring","version","to","Display","flexObj","createFlexObj","scrollTo","toast","settoast","url","isUpToDate","Toast","show","delay","autohide","position","top","right","navigator","clipboard","writeText","faLink","Form","Control","readOnly","select","htmlStatsData","expand","statList","FormulaText","modifierText","options","statUnit","o"],"mappings":"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,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,KACrsBC,EAAG,CAAE,QAAS,CAAC,CAAC,IAAK,QAAS,CAAC,CAAC,IAAK,QAAS,CAAC,CAAC,IAAK,QAAS,CAAC,CAAC,IAAK,QAAS,CAAC,CAAC,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,SAAU,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,MAE5kDC,OAAQ,CACJH,EAAG,CAAE,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,KAC1LC,EAAG,CAAE,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,KAC3rBC,EAAG,CAAE,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,MAEhhDE,IAAK,CACDJ,EAAG,CAAE,MAAO,CAAC,CAAC,IAAK,MAAO,CAAC,CAAC,IAAK,MAAO,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,KACxKC,EAAG,CAAE,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,KACtqBC,EAAG,CAAE,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,MAEriDG,IAAK,CACDL,EAAG,CAAE,MAAO,CAAC,CAAC,IAAK,MAAO,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,KACxLC,EAAG,CAAE,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,KACtqBC,EAAG,CAAE,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,QAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,MAEriDI,KAAM,CACFN,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,MAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,KAC/KC,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,KAC3sBC,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,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AAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,MAEx/CM,KAAM,CACFR,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,MAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,MAAO,CAAC,CAAC,EAAG,KAC/KC,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,MAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,KAC5uBC,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,MAEpsDO,SAAU,CACNP,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,MAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,KAC5qDF,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,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AC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,KAC5uBC,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,MAEpsDS,UAAW,CACPX,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,MAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,KAC/KC,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,KACjuBC,EAAG,CAAE,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,IAAO,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,OAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,KAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,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","file":"static/js/13.8bec2292.chunk.js","sourcesContent":["import Artifact from \"../Artifact/Artifact\";\r\nimport ArtifactDatabase from \"../Database/ArtifactDatabase\";\r\nimport { CharacterData, CharacterDataImport, characterStatBase, LevelsData } from \"../Data/CharacterData\";\r\nimport ElementalData from \"../Data/ElementalData\";\r\nimport { ElementToReactionKeys, PreprocessFormulas } from \"../StatData\";\r\nimport { GetDependencies } from \"../StatDependency\";\r\nimport { deepClone } from \"../Util/Util\";\r\nimport Weapon from \"../Weapon/Weapon\";\r\nimport CharacterDatabase from \"../Database/CharacterDatabase\";\r\nimport Conditional from \"../Conditional/Conditional\";\r\nimport Formula from \"../Formula\";\r\n\r\nexport default class Character {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Character) throw Error('A static class cannot be instantiated.'); }\r\n  static getCharacterDataImport = () => CharacterDataImport\r\n  static getBaseStatValue = (character, statKey, defVal = 0) => {\r\n    let { characterKey, levelKey } = character\r\n    if (statKey === \"specializedStatKey\") return this.getSpecializedStatKey(characterKey);\r\n    if (statKey === \"specializedStatVal\") return this.getSpeicalizedStatVal(characterKey, levelKey)\r\n    if (statKey === \"weaponATK\") return Weapon.getWeaponMainStatValWithOverride(character?.weapon)\r\n    if (statKey === \"characterLevel\" || statKey === \"enemyLevel\") return this.getLevel(levelKey)\r\n    if (statKey.includes(\"enemyRes_\")) return 10\r\n    if (statKey in characterStatBase) return characterStatBase[statKey]\r\n    let characterObj = this.getCDataObj(characterKey)\r\n    if (characterObj && statKey in characterObj.baseStat) return characterObj.baseStat[statKey][this.getIndexFromlevelkey(levelKey)]\r\n    return defVal\r\n  }\r\n\r\n  static getCDataObj = (charKey) => CharacterData[charKey];\r\n  static getElementalName = (elementalKey, defVal = \"\") => (ElementalData?.[elementalKey]?.name || defVal)\r\n  static getAllCharacterKeys = () => Object.keys(CharacterData)\r\n\r\n  static getName = (charKey, defVal = \"\") => (this.getCDataObj(charKey)?.name || defVal)\r\n  static getStar = (charKey, defVal = 0) => (this.getCDataObj(charKey)?.star || defVal)\r\n  static getElementalKey = (charKey, defVal = \"\") => (this.getCDataObj(charKey)?.elementKey || defVal)\r\n  static getElementalKeys = () => Object.keys(ElementalData)\r\n  static getElementalKeysWithoutPhysical = () => this.getElementalKeys().filter(e => e !== \"physical\")\r\n  static getWeaponTypeKey = (charKey, defVal = \"\") => (this.getCDataObj(charKey)?.weaponTypeKey || defVal)\r\n  static getConstellationName = (charKey, defVal = \"\") => (this.getCDataObj(charKey)?.constellationName || defVal)\r\n  static getTitles = (charKey, defVal = []) => (this.getCDataObj(charKey)?.titles || defVal)\r\n\r\n  //LEVEL\r\n  static getlevelKeys = () => Object.keys(LevelsData)\r\n  static getlevelTemplateName = (levelKey, defVal = \"\") => (LevelsData?.[levelKey]?.name || defVal)\r\n  static getLevelString = (character) => {\r\n    const levelOverride = Character.getStatValueWithOverride(character, \"characterLevel\")\r\n    return Character.getLevel(character.levelKey) === levelOverride ? Character.getlevelTemplateName(character.levelKey) : `Lvl. ${levelOverride}`\r\n  }\r\n  static getIndexFromlevelkey = (levelKey) => this.getlevelKeys().indexOf(levelKey);\r\n  static getLevel = (levelKey, defVal = 1) => (LevelsData?.[levelKey]?.level || defVal)\r\n  static getAscension = (levelKey, defVal = 0) => (LevelsData?.[levelKey]?.asend || defVal)\r\n\r\n  //SPECIALIZED STAT\r\n  static getSpecializedStat = (charKey) => this.getCDataObj(charKey)?.specializeStat;\r\n  static getSpecializedStatKey = (charKey) => this.getSpecializedStat(charKey)?.key;\r\n  static getSpeicalizedStatVal = (charKey, levelKey) => this.getSpecializedStat(charKey)?.value?.[this.getIndexFromlevelkey(levelKey)]\r\n  //ASSETS\r\n  static getThumb = (charKey, defVal = null) => this.getCDataObj(charKey)?.thumbImg || defVal\r\n  static getCard = (charKey, defVal = null) => this.getCDataObj(charKey)?.cardImg || defVal\r\n  static getTalentImg = (charKey, talentKey, defVal = null) => this.getTalent(charKey, talentKey)?.img || defVal\r\n  static getConstellationImg = (charKey, constIndex, defVal = null) => this.getCDataObj(charKey)?.talent?.[`constellation${constIndex + 1}`]?.img || defVal\r\n\r\n  //talents\r\n  static getTalent = (charKey, talentKey, defVal = {}) => this.getCDataObj(charKey)?.talent?.[talentKey] || defVal\r\n  static getTalentName = (charKey, talentKey, defVal = \"\") => this.getTalent(charKey, talentKey)?.name || defVal\r\n\r\n  static getTalentLevelBoost = (characterKey, talentKey, constellation, defVal = 0) => {\r\n    //so far we only get level boost from constellations, so only burst and skills.\r\n    if (talentKey !== \"burst\" && talentKey !== \"skill\") return defVal\r\n    let talents = this.getCDataObj(characterKey)?.talent || {}\r\n    for (let i = 1; i <= constellation; i++) {\r\n      let talentBoost = talents[`constellation${i}`]?.talentBoost || {};\r\n      let boostEntry = Object.entries(talentBoost).find(([key, val]) => key === talentKey)\r\n      if (boostEntry) return boostEntry[1]\r\n    }\r\n    return defVal\r\n  }\r\n\r\n  static getTalentDocument = (charKey, talentKey, defVal = []) => this.getTalent(charKey, talentKey)?.document || defVal\r\n  static getTalentDocumentSections = (stats, talentKey) =>\r\n    this.getTalentDocument(stats.characterKey, talentKey).map(section => typeof section === \"function\" ? section(stats) : section)\r\n\r\n  static getTalentField = (stats, talentKey, sectionIndex, fieldIndex, defVal = {}) => {\r\n    if (!stats) return defVal\r\n    const field = this.getTalentDocumentSections(stats, talentKey)?.[sectionIndex]?.fields?.[fieldIndex]\r\n    if (!field) return defVal\r\n    return typeof field === \"function\" ? field(stats) : field\r\n  }\r\n  static getTalentFieldValue = (field, key, stats = {}, defVal = \"\") => {\r\n    if (!field?.[key]) return defVal\r\n    return typeof field?.[key] === \"function\" ? field[key](stats) : field[key]\r\n  }\r\n\r\n  static getTalentStats = (charKey, talentKey, stats, defVal = null) => {\r\n    const talentStats = this.getTalent(charKey, talentKey)?.stats\r\n    if (typeof talentStats === \"function\")\r\n      return talentStats(stats)\r\n    return talentStats || defVal\r\n  }\r\n  static getTalentStatsAll = (charKey, stats) => {\r\n    const talents = this.getCDataObj(charKey)?.talent || {}\r\n    const statsArr = []\r\n    Object.keys(talents).forEach(talentKey => {\r\n      const talentStats = this.getTalentStats(charKey, talentKey, stats)\r\n      if (talentStats) statsArr.push(talentStats)\r\n    })\r\n    return statsArr\r\n  }\r\n\r\n  static isAutoElemental = (charKey, defVal = false) => this.getWeaponTypeKey(charKey) === \"catalyst\" || defVal\r\n  static isMelee = (charKey, defVal = false) => {\r\n    const weaponTypeKey = this.getWeaponTypeKey(charKey)\r\n    return weaponTypeKey === \"sword\" || weaponTypeKey === \"polearm\" || weaponTypeKey === \"claymore\" || defVal\r\n  }\r\n\r\n  //look up the formula, and generate the formulaPath to send to worker.\r\n  static getFormulaPath(characterKey, talentKey, formula) {\r\n    const formulaDB = this.getCDataObj(characterKey)?.formula\r\n    if (!formulaDB) return\r\n    let formulaKey\r\n    if (talentKey === \"auto\") {\r\n      for (const tk of [\"normal\", \"charged\", \"plunging\"]) {\r\n        ([formulaKey,] = Object.entries(formulaDB?.[tk] ?? {}).find(([, value]) => value === formula) ?? [])\r\n        if (formulaKey) {\r\n          talentKey = tk\r\n          break;\r\n        }\r\n      }\r\n    } else ([formulaKey,] = Object.entries(formulaDB?.[talentKey] ?? {}).find(([, value]) => value === formula) ?? [])\r\n    if (!formulaKey) return\r\n    return { characterKey, talentKey, formulaKey }\r\n  }\r\n\r\n  static hasTalentPage = (characterKey) => Boolean(Object.keys(Character.getCDataObj(characterKey)?.talent ?? {}).length)//TODO: remove when all chararacter sheets are complete\r\n\r\n  static getDisplayStatKeys = (stats, defVal = { basicKeys: [] }) => {\r\n    if (!stats || !Object.keys(stats).length) return defVal\r\n    const { characterKey } = stats\r\n    let eleKey = Character.getElementalKey(characterKey)\r\n    if (!eleKey) return defVal //usually means the character has not been lazy loaded yet\r\n    const basicKeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\", \"enerRech_\", `${eleKey}_dmg_`]\r\n    const isAutoElemental = Character.isAutoElemental(characterKey)\r\n    if (!isAutoElemental) basicKeys.push(\"physical_dmg_\")\r\n\r\n    //show elemental interactions\r\n    const transReactions = deepClone(ElementToReactionKeys[eleKey])\r\n    const weaponTypeKey = this.getWeaponTypeKey(characterKey)\r\n    if (!transReactions.includes(\"shattered_hit\") && weaponTypeKey === \"claymore\") transReactions.push(\"shattered_hit\")\r\n    if (Formula.formulas.character?.[characterKey]) {\r\n      const charFormulas = {}\r\n      Object.entries(Formula.formulas.character[characterKey]).forEach(([talentKey, formulas]) => {\r\n        Object.values(formulas).forEach(formula => {\r\n          if (!formula.field.canShow(stats)) return\r\n          if (talentKey === \"normal\" || talentKey === \"charged\" || talentKey === \"plunging\") talentKey = \"auto\"\r\n          if (!charFormulas[talentKey]) charFormulas[talentKey] = []\r\n          charFormulas[talentKey].push(formula.keys)\r\n        })\r\n      })\r\n      return { basicKeys, ...charFormulas, transReactions }\r\n    } else {//TODO: doesnt have character sheet\r\n      //generic average hit parameters.\r\n      const genericAvgHit = []\r\n      if (!isAutoElemental) //add phy auto + charged + physical \r\n        genericAvgHit.push(\"physical_normal_avgHit\", \"physical_charged_avgHit\")\r\n\r\n      else if (Character.getWeaponTypeKey(characterKey) === \"bow\") {//bow charged atk does elemental dmg on charge\r\n        genericAvgHit.push(`${eleKey}_charged_avgHit`)\r\n      }\r\n      //show skill/burst \r\n      genericAvgHit.push(`${eleKey}_skill_avgHit`, `${eleKey}_burst_avgHit`)\r\n\r\n      //add reactions.\r\n      if (eleKey === \"pyro\") {\r\n        const reactions = []\r\n        reactions.push(...genericAvgHit.filter(key => key.startsWith(`${eleKey}_`)).map(key => key.replace(`${eleKey}_`, `${eleKey}_vaporize_`)))\r\n        reactions.push(...genericAvgHit.filter(key => key.startsWith(`${eleKey}_`)).map(key => key.replace(`${eleKey}_`, `${eleKey}_melt_`)))\r\n        genericAvgHit.push(...reactions)\r\n      } else if (eleKey === \"cryo\")\r\n        genericAvgHit.push(...genericAvgHit.filter(key => key.startsWith(`${eleKey}_`)).map(key => key.replace(`${eleKey}_`, `${eleKey}_melt_`)))\r\n      else if (eleKey === \"hydro\")\r\n        genericAvgHit.push(...genericAvgHit.filter(key => key.startsWith(`${eleKey}_`)).map(key => key.replace(`${eleKey}_`, `${eleKey}_vaporize_`)))\r\n\r\n      return { basicKeys, genericAvgHit, transReactions }\r\n    }\r\n  }\r\n\r\n  static hasOverride = (character, statKey) => {\r\n    if (statKey === \"finalHP\")\r\n      return Character.hasOverride(character, \"hp\") || Character.hasOverride(character, \"hp_\") || Character.hasOverride(character, \"characterHP\") || false\r\n    else if (statKey === \"finalDEF\")\r\n      return Character.hasOverride(character, \"def\") || Character.hasOverride(character, \"def_\") || Character.hasOverride(character, \"characterDEF\") || false\r\n    else if (statKey === \"finalATK\")\r\n      return Character.hasOverride(character, \"atk\") || Character.hasOverride(character, \"atk_\") || Character.hasOverride(character, \"characterATK\") || false\r\n    return character?.baseStatOverrides ? (statKey in character.baseStatOverrides) : false;\r\n  }\r\n\r\n  static getStatValueWithOverride = (character, statKey, defVal = 0) => {\r\n    if (this.hasOverride(character, statKey)) return character?.baseStatOverrides?.[statKey] ?? defVal\r\n    else return this.getBaseStatValue(character, statKey, defVal)\r\n  }\r\n\r\n  //equipment, with consideration on swapping equipped.\r\n  static equipArtifacts = (characterKey, artifactIds) => {\r\n    const character = CharacterDatabase.get(characterKey)\r\n    if (!character) return;\r\n    const artIdsOnCharacter = character.equippedArtifacts;\r\n    let artIdsNotOnCharacter = artifactIds\r\n\r\n    //swap, by slot\r\n    Artifact.getSlotKeys().forEach(slotKey => {\r\n      const artNotOnChar = ArtifactDatabase.get(artIdsNotOnCharacter?.[slotKey])\r\n      if (artNotOnChar?.location === characterKey) return; //it is already equipped\r\n      const artOnChar = ArtifactDatabase.get(artIdsOnCharacter?.[slotKey])\r\n      const notCharLoc = (artNotOnChar?.location ?? \"\")\r\n      //move current art to other char\r\n      if (artOnChar) ArtifactDatabase.moveToNewLocation(artOnChar.id, notCharLoc)\r\n      //move current art to other char\r\n      if (notCharLoc) CharacterDatabase.equipArtifact(notCharLoc, artOnChar)\r\n      //move other art to current char\r\n      if (artNotOnChar) ArtifactDatabase.moveToNewLocation(artNotOnChar.id, characterKey)\r\n    })\r\n    //move other art to current char \r\n    character.equippedArtifacts = Object.fromEntries(Artifact.getSlotKeys().map(sKey => [sKey, \"\"]))\r\n    Object.entries(artifactIds).forEach(([key, artid]) =>\r\n      character.equippedArtifacts[key] = artid)\r\n    CharacterDatabase.update(character);\r\n  }\r\n  static remove(characterKey) {\r\n    let character = CharacterDatabase.get(characterKey)\r\n    if (character.equippedArtifacts)\r\n      Object.values(character.equippedArtifacts).forEach(artid =>\r\n        ArtifactDatabase.moveToNewLocation(artid, \"\"))\r\n    CharacterDatabase.remove(characterKey)\r\n  }\r\n\r\n  static calculateBuild = (character, mainStatAssumptionLevel = 0) => {\r\n    let artifacts\r\n    if (character.artifacts) //from flex\r\n      artifacts = Object.fromEntries(character.artifacts.map((art, i) => [i, art]))\r\n    else if (character.equippedArtifacts)\r\n      artifacts = Object.fromEntries(Object.entries(character.equippedArtifacts).map(([key, artid]) => [key, ArtifactDatabase.get(artid)]))\r\n    else return {}//probably won't happen. just in case.\r\n    const initialStats = Character.createInitialStats(character)\r\n    initialStats.mainStatAssumptionLevel = mainStatAssumptionLevel\r\n    return this.calculateBuildwithArtifact(initialStats, artifacts)\r\n  }\r\n\r\n  static calculateBuildwithArtifact = (initialStats, artifacts) => {\r\n    const setToSlots = Artifact.setToSlots(artifacts)\r\n    let artifactSetEffectsStats = Artifact.getArtifactSetEffectsStats(setToSlots)\r\n\r\n    let stats = deepClone(initialStats)\r\n    //add artifact and artifactsets\r\n    Object.values(artifacts).forEach(art => {\r\n      if (!art) return\r\n      //main stats\r\n      stats[art.mainStatKey] = (stats[art.mainStatKey] || 0) + Artifact.getMainStatValue(art.mainStatKey, art.numStars, Math.max(Math.min(stats.mainStatAssumptionLevel, art.numStars * 4), art.level))\r\n      //substats\r\n      art.substats.forEach((substat) =>\r\n        substat && substat.key && (stats[substat.key] = (stats[substat.key] || 0) + substat.value))\r\n    })\r\n    //setEffects\r\n    artifactSetEffectsStats.forEach(stat => stats[stat.key] = (stats[stat.key] || 0) + stat.statVal)\r\n    //setEffects conditionals\r\n    Conditional.parseConditionalValues({ artifact: stats?.conditionalValues?.artifact }, (conditional, conditionalValue, [, setKey]) => {\r\n      const { setNumKey } = conditional\r\n      if (parseInt(setNumKey) > (setToSlots?.[setKey]?.length ?? 0)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, stats, conditionalValue)\r\n      Object.entries(condStats).forEach(([statKey, val]) => stats[statKey] = (stats[statKey] || 0) + val)\r\n    })\r\n\r\n    stats.equippedArtifacts = Object.fromEntries(Object.entries(artifacts).map(([key, val]) => [key, val?.id]))\r\n    stats.setToSlots = setToSlots\r\n    let dependencies = GetDependencies(stats?.modifiers)\r\n    PreprocessFormulas(dependencies, stats).formula(stats)\r\n    return stats\r\n  }\r\n  static mergeStats = (initialStats, stats) => stats && Object.entries(stats).forEach(([key, val]) => {\r\n    if (key === \"modifiers\") {\r\n      initialStats.modifiers = initialStats.modifiers ?? {}\r\n      for (const [statKey, modifier] of Object.entries(val)) {\r\n        initialStats.modifiers[statKey] = initialStats.modifiers[statKey] ?? {}\r\n        for (const [mkey, multiplier] of Object.entries(modifier))\r\n          initialStats.modifiers[statKey][mkey] = (initialStats.modifiers[statKey][mkey] ?? 0) + multiplier\r\n      }\r\n    } else {\r\n      if (initialStats[key] === undefined) initialStats[key] = val\r\n      else if (typeof initialStats[key] === \"number\") initialStats[key] += val\r\n    }\r\n  })\r\n\r\n  static createInitialStats = (character) => {\r\n    if (!character) return {}\r\n    character = deepClone(character)\r\n    const { characterKey, levelKey, hitMode, infusionAura, reactionMode, talentLevelKeys, constellation, equippedArtifacts, conditionalValues = {}, weapon = { key: \"\" } } = character\r\n    const ascension = Character.getAscension(levelKey)\r\n\r\n    //generate the initalStats obj with data from Character & overrides\r\n    const statKeys = [\"characterHP\", \"characterATK\", \"characterDEF\", \"weaponATK\", \"characterLevel\", \"enemyLevel\", \"physical_enemyRes_\", \"physical_enemyImmunity\", ...Object.keys(characterStatBase)]\r\n    const initialStats = Object.fromEntries(statKeys.map(key => [key, this.getStatValueWithOverride(character, key)]))\r\n    initialStats.characterEle = this.getElementalKey(characterKey);\r\n    initialStats.characterKey = characterKey\r\n    initialStats.hitMode = hitMode;\r\n    initialStats.infusionAura = infusionAura\r\n    initialStats.reactionMode = reactionMode;\r\n    initialStats.conditionalValues = conditionalValues\r\n    initialStats.weaponType = this.getWeaponTypeKey(characterKey)\r\n    initialStats.tlvl = talentLevelKeys;\r\n    initialStats.constellation = constellation\r\n    initialStats.ascension = ascension\r\n    initialStats.weapon = weapon\r\n    initialStats.equippedArtifacts = equippedArtifacts\r\n    for (const key in initialStats.tlvl)\r\n      initialStats.tlvl[key] += this.getTalentLevelBoost(character.characterKey, key, constellation);\r\n\r\n    //enemy stuff\r\n    Character.getElementalKeys().forEach(eleKey => {\r\n      let statKey = `${eleKey}_enemyRes_`\r\n      initialStats[statKey] = this.getStatValueWithOverride(character, statKey);\r\n      statKey = `${eleKey}_enemyImmunity`\r\n      initialStats[statKey] = this.getStatValueWithOverride(character, statKey);\r\n    })\r\n\r\n    //all the rest of the overrides\r\n    let overrides = character?.baseStatOverrides || {}\r\n    Object.entries(overrides).forEach(([statKey, val]) => {\r\n      if (statKey === \"specializedStatKey\" || statKey === \"specializedStatVal\") return\r\n      if (!initialStats.hasOwnProperty(statKey)) initialStats[statKey] = val\r\n    })\r\n\r\n    //add specialized stat\r\n    let specializedStatVal = Character.getStatValueWithOverride(character, \"specializedStatVal\")\r\n    let specialStatKey = Character.getStatValueWithOverride(character, \"specializedStatKey\")\r\n    this.mergeStats(initialStats, { [specialStatKey]: specializedStatVal })\r\n\r\n    //add stats from all talents\r\n    Character.getTalentStatsAll(characterKey, initialStats).forEach(s => this.mergeStats(initialStats, s))\r\n\r\n    //add stats from weapons\r\n    const weaponSubKey = Weapon.getWeaponSubStatKey(character?.weapon?.key)\r\n    if (weaponSubKey) this.mergeStats(initialStats, { [weaponSubKey]: Weapon.getWeaponSubStatValWithOverride(character?.weapon) })\r\n    this.mergeStats(initialStats, Weapon.getWeaponBonusStat(character?.weapon?.key, initialStats))\r\n\r\n\r\n    //Handle conditionals, without artifact, since the pipeline for that comes later.\r\n    const { artifact: artifactCond, weapon: weaponCond, ...otherCond } = conditionalValues\r\n\r\n    //handle conditionals. only the conditional applicable to the equipped weapon is parsed.\r\n    Conditional.parseConditionalValues({ ...weapon.key && { weapon: { [weapon.key]: weaponCond?.[weapon.key] } }, ...otherCond }, (conditional, conditionalValue, keys) => {\r\n      const { stats: condStats } = Conditional.resolve(conditional, initialStats, conditionalValue)\r\n      this.mergeStats(initialStats, condStats)\r\n    })\r\n    return initialStats\r\n  }\r\n}","import { faBahai, faFeatherAlt, faHourglass, faWineGlass, faCrown } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst SlotIcon = {\r\n  flower: faBahai,\r\n  plume: faFeatherAlt,\r\n  sands: faHourglass,\r\n  goblet: faWineGlass,\r\n  circlet: faCrown\r\n}\r\nexport default SlotIcon","export const ArtifactSubstatLookupTable = {\r\n    hp: {\r\n        3: { \"100.0\": [[0]], \"115.0\": [[1]], \"129.0\": [[2]], \"143.0\": [[3]], \"201.0\": [[0, 0]], \"215.0\": [[0, 1]], \"229.0\": [[1, 1]], \"244.0\": [[1, 2]], \"258.0\": [[2, 2]], \"272.0\": [[2, 3]], \"287.0\": [[3, 3]], },\r\n        4: { \"167.0\": [[0]], \"191.0\": [[1]], \"215.0\": [[2]], \"239.0\": [[3]], \"335.0\": [[0, 0]], \"359.0\": [[0, 1]], \"382.0\": [[1, 1]], \"406.0\": [[1, 2]], \"430.0\": [[2, 2]], \"454.0\": [[2, 3]], \"478.0\": [[3, 3]], \"502.0\": [[0, 0, 0]], \"526.0\": [[0, 0, 1]], \"550.0\": [[0, 1, 1]], \"574.0\": [[1, 1, 1]], \"598.0\": [[1, 1, 2]], \"621.0\": [[1, 2, 2]], \"645.0\": [[2, 2, 2]], \"669.0\": [[2, 2, 3], [0, 0, 0, 0]], \"693.0\": [[2, 3, 3], [0, 0, 0, 1]], \"717.0\": [[0, 0, 1, 1], [3, 3, 3]], \"741.0\": [[0, 1, 1, 1]], \"765.0\": [[1, 1, 1, 1]], \"789.0\": [[1, 1, 1, 2]], \"813.0\": [[1, 1, 2, 2]], \"837.0\": [[1, 2, 2, 2]], \"860.0\": [[2, 2, 2, 2]], \"884.0\": [[2, 2, 2, 3]], \"908.0\": [[2, 2, 3, 3]], \"932.0\": [[2, 3, 3, 3]], \"956.0\": [[3, 3, 3, 3]], },\r\n        5: { \"209.0\": [[0]], \"239.0\": [[1]], \"269.0\": [[2]], \"299.0\": [[3]], \"418.0\": [[0, 0]], \"448.0\": [[0, 1]], \"478.0\": [[1, 1]], \"508.0\": [[1, 2]], \"538.0\": [[1, 3]], \"568.0\": [[2, 3]], \"598.0\": [[3, 3]], \"627.0\": [[0, 0, 0]], \"657.0\": [[0, 0, 1]], \"687.0\": [[0, 1, 1]], \"717.0\": [[1, 1, 1]], \"747.0\": [[1, 1, 2]], \"777.0\": [[1, 1, 3]], \"807.0\": [[1, 2, 3]], \"837.0\": [[0, 0, 0, 0], [1, 3, 3]], \"866.0\": [[2, 3, 3], [0, 0, 0, 1]], \"896.0\": [[3, 3, 3], [0, 0, 1, 1]], \"926.0\": [[0, 1, 1, 1]], \"956.0\": [[1, 1, 1, 1]], \"986.0\": [[1, 1, 1, 2]], \"1016.0\": [[1, 1, 1, 3]], \"1046.0\": [[0, 0, 0, 0, 0], [1, 1, 2, 3]], \"1076.0\": [[0, 0, 0, 0, 1], [1, 1, 3, 3]], \"1105.0\": [[0, 0, 0, 1, 1], [1, 2, 3, 3]], \"1135.0\": [[1, 3, 3, 3], [0, 0, 1, 1, 1]], \"1165.0\": [[0, 1, 1, 1, 1], [2, 3, 3, 3]], \"1195.0\": [[1, 1, 1, 1, 1], [3, 3, 3, 3]], \"1225.0\": [[1, 1, 1, 1, 2]], \"1255.0\": [[1, 1, 1, 1, 3], [0, 0, 0, 0, 0, 0]], \"1285.0\": [[1, 1, 1, 2, 3], [0, 0, 0, 0, 0, 1]], \"1315.0\": [[1, 1, 1, 3, 3], [0, 0, 0, 0, 1, 1]], \"1344.0\": [[0, 0, 0, 1, 1, 1], [1, 1, 2, 3, 3]], \"1374.0\": [[1, 1, 3, 3, 3], [0, 0, 1, 1, 1, 1]], \"1404.0\": [[1, 2, 3, 3, 3], [0, 1, 1, 1, 1, 1]], \"1434.0\": [[1, 3, 3, 3, 3], [1, 1, 1, 1, 1, 1]], \"1464.0\": [[2, 3, 3, 3, 3], [1, 1, 1, 1, 1, 2]], \"1494.0\": [[1, 1, 1, 1, 1, 3], [3, 3, 3, 3, 3]], \"1524.0\": [[1, 1, 1, 1, 2, 3]], \"1554.0\": [[1, 1, 1, 1, 3, 3]], \"1583.0\": [[1, 1, 1, 2, 3, 3]], \"1613.0\": [[1, 1, 1, 3, 3, 3]], \"1643.0\": [[1, 1, 2, 3, 3, 3]], \"1673.0\": [[1, 1, 3, 3, 3, 3]], \"1703.0\": [[1, 2, 3, 3, 3, 3]], \"1733.0\": [[1, 3, 3, 3, 3, 3]], \"1763.0\": [[2, 3, 3, 3, 3, 3]], \"1793.0\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n    eleMas: {\r\n        3: { \"10.0\": [[0]], \"11.0\": [[1]], \"13.0\": [[2]], \"14.0\": [[3]], \"20.0\": [[0, 0]], \"21.0\": [[0, 1]], \"22.0\": [[1, 1]], \"24.0\": [[1, 2]], \"25.0\": [[2, 2]], \"27.0\": [[2, 3]], \"28.0\": [[3, 3]], },\r\n        4: { \"13.0\": [[0]], \"15.0\": [[1]], \"17.0\": [[2]], \"19.0\": [[3]], \"26.0\": [[0, 0]], \"28.0\": [[0, 1]], \"30.0\": [[1, 1]], \"32.0\": [[1, 2]], \"34.0\": [[1, 3]], \"35.0\": [[2, 3]], \"37.0\": [[3, 3]], \"39.0\": [[0, 0, 0]], \"41.0\": [[0, 0, 1]], \"43.0\": [[0, 1, 1]], \"45.0\": [[1, 1, 1]], \"47.0\": [[1, 1, 2]], \"48.0\": [[1, 1, 3]], \"49.0\": [[1, 2, 2]], \"50.0\": [[1, 2, 3]], \"52.0\": [[1, 3, 3], [0, 0, 0, 0]], \"54.0\": [[2, 3, 3], [0, 0, 0, 1]], \"56.0\": [[3, 3, 3], [0, 0, 1, 1]], \"58.0\": [[0, 1, 1, 1]], \"60.0\": [[1, 1, 1, 1]], \"62.0\": [[1, 1, 1, 2]], \"63.0\": [[1, 1, 1, 3]], \"65.0\": [[1, 1, 2, 3]], \"67.0\": [[1, 1, 3, 3]], \"69.0\": [[1, 2, 3, 3]], \"71.0\": [[1, 3, 3, 3]], \"73.0\": [[2, 3, 3, 3]], \"75.0\": [[3, 3, 3, 3]], },\r\n        5: { \"16.0\": [[0]], \"19.0\": [[1]], \"21.0\": [[2]], \"23.0\": [[3]], \"33.0\": [[0, 0]], \"35.0\": [[0, 1]], \"37.0\": [[1, 1]], \"40.0\": [[1, 2]], \"42.0\": [[2, 2]], \"44.0\": [[2, 3]], \"47.0\": [[3, 3]], \"49.0\": [[0, 0, 0]], \"51.0\": [[0, 0, 1]], \"54.0\": [[0, 1, 1]], \"56.0\": [[1, 1, 1]], \"58.0\": [[1, 1, 2]], \"61.0\": [[1, 2, 2]], \"63.0\": [[2, 2, 2]], \"65.0\": [[0, 0, 0, 0], [2, 2, 3]], \"68.0\": [[0, 0, 0, 1], [2, 3, 3]], \"70.0\": [[3, 3, 3], [0, 0, 1, 1]], \"72.0\": [[0, 1, 1, 1]], \"75.0\": [[1, 1, 1, 1]], \"77.0\": [[1, 1, 1, 2]], \"79.0\": [[1, 1, 2, 2]], \"82.0\": [[0, 0, 0, 0, 0], [1, 2, 2, 2]], \"84.0\": [[0, 0, 0, 0, 1], [2, 2, 2, 2]], \"86.0\": [[2, 2, 2, 3], [0, 0, 0, 1, 1]], \"89.0\": [[2, 2, 3, 3], [0, 0, 1, 1, 1]], \"91.0\": [[0, 1, 1, 1, 1], [2, 3, 3, 3]], \"93.0\": [[3, 3, 3, 3], [1, 1, 1, 1, 1]], \"96.0\": [[1, 1, 1, 1, 2]], \"98.0\": [[1, 1, 1, 2, 2], [0, 0, 0, 0, 0, 0]], \"100.0\": [[1, 1, 2, 2, 2], [0, 0, 0, 0, 0, 1]], \"103.0\": [[0, 0, 0, 0, 1, 1], [1, 2, 2, 2, 2]], \"105.0\": [[0, 0, 0, 1, 1, 1], [2, 2, 2, 2, 2]], \"107.0\": [[2, 2, 2, 2, 3], [0, 0, 1, 1, 1, 1]], \"110.0\": [[2, 2, 2, 3, 3], [0, 1, 1, 1, 1, 1]], \"112.0\": [[2, 2, 3, 3, 3], [1, 1, 1, 1, 1, 1]], \"114.0\": [[2, 3, 3, 3, 3], [1, 1, 1, 1, 1, 2]], \"117.0\": [[3, 3, 3, 3, 3], [1, 1, 1, 1, 2, 2]], \"119.0\": [[1, 1, 1, 2, 2, 2]], \"121.0\": [[1, 1, 2, 2, 2, 2]], \"124.0\": [[1, 2, 2, 2, 2, 2]], \"126.0\": [[2, 2, 2, 2, 2, 2]], \"128.0\": [[2, 2, 2, 2, 2, 3]], \"131.0\": [[2, 2, 2, 2, 3, 3]], \"133.0\": [[2, 2, 2, 3, 3, 3]], \"135.0\": [[2, 2, 3, 3, 3, 3]], \"138.0\": [[2, 3, 3, 3, 3, 3]], \"140.0\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n    atk: {\r\n        3: { \"7.0\": [[0]], \"8.0\": [[2]], \"9.0\": [[3]], \"13.0\": [[0, 0]], \"14.0\": [[0, 1]], \"15.0\": [[1, 1]], \"16.0\": [[1, 2]], \"17.0\": [[2, 2]], \"18.0\": [[2, 3]], \"19.0\": [[3, 3]], },\r\n        4: { \"11.0\": [[0]], \"12.0\": [[1]], \"14.0\": [[2]], \"16.0\": [[3]], \"22.0\": [[0, 0]], \"23.0\": [[0, 1]], \"25.0\": [[0, 2]], \"26.0\": [[1, 2]], \"28.0\": [[2, 2]], \"30.0\": [[2, 3]], \"31.0\": [[3, 3]], \"33.0\": [[0, 0, 0]], \"34.0\": [[0, 0, 1]], \"36.0\": [[0, 0, 2]], \"37.0\": [[0, 1, 2]], \"39.0\": [[0, 2, 2]], \"40.0\": [[1, 2, 2]], \"42.0\": [[2, 2, 2]], \"44.0\": [[0, 0, 0, 0], [2, 2, 3]], \"45.0\": [[2, 3, 3], [0, 0, 0, 1]], \"47.0\": [[3, 3, 3], [0, 0, 0, 2]], \"48.0\": [[0, 0, 1, 2]], \"50.0\": [[0, 0, 2, 2]], \"51.0\": [[0, 1, 2, 2]], \"53.0\": [[0, 2, 2, 2]], \"54.0\": [[1, 2, 2, 2]], \"56.0\": [[2, 2, 2, 2]], \"58.0\": [[2, 2, 2, 3]], \"59.0\": [[2, 2, 3, 3]], \"61.0\": [[2, 3, 3, 3]], \"62.0\": [[3, 3, 3, 3]], },\r\n        5: { \"14.0\": [[0]], \"16.0\": [[1]], \"18.0\": [[2]], \"19.0\": [[3]], \"27.0\": [[0, 0]], \"29.0\": [[0, 1]], \"31.0\": [[1, 1]], \"33.0\": [[1, 2]], \"35.0\": [[1, 3]], \"37.0\": [[2, 3]], \"39.0\": [[3, 3]], \"41.0\": [[0, 0, 0]], \"43.0\": [[0, 0, 1]], \"45.0\": [[0, 1, 1]], \"47.0\": [[1, 1, 1]], \"49.0\": [[1, 1, 2]], \"51.0\": [[1, 1, 3]], \"53.0\": [[1, 2, 3]], \"54.0\": [[1, 3, 3], [0, 0, 0, 0]], \"56.0\": [[0, 0, 0, 1], [2, 3, 3]], \"58.0\": [[3, 3, 3], [0, 0, 1, 1]], \"60.0\": [[0, 1, 1, 1]], \"62.0\": [[1, 1, 1, 1]], \"64.0\": [[1, 1, 1, 2]], \"66.0\": [[1, 1, 1, 3]], \"68.0\": [[0, 0, 0, 0, 0], [1, 1, 2, 3]], \"70.0\": [[0, 0, 0, 0, 1], [1, 1, 3, 3]], \"72.0\": [[0, 0, 0, 1, 1], [1, 2, 3, 3]], \"74.0\": [[0, 0, 1, 1, 1], [1, 3, 3, 3]], \"76.0\": [[2, 3, 3, 3], [0, 1, 1, 1, 1]], \"78.0\": [[1, 1, 1, 1, 1], [3, 3, 3, 3]], \"80.0\": [[1, 1, 1, 1, 2]], \"82.0\": [[0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 3]], \"84.0\": [[1, 1, 1, 2, 3], [0, 0, 0, 0, 0, 1]], \"86.0\": [[0, 0, 0, 0, 1, 1], [1, 1, 1, 3, 3]], \"88.0\": [[1, 1, 2, 3, 3], [0, 0, 0, 1, 1, 1]], \"89.0\": [[0, 0, 1, 1, 1, 1], [1, 1, 3, 3, 3]], \"90.0\": [[0, 0, 0, 0, 2, 2]], \"91.0\": [[0, 1, 1, 1, 1, 1], [1, 2, 3, 3, 3]], \"93.0\": [[1, 3, 3, 3, 3], [1, 1, 1, 1, 1, 1]], \"95.0\": [[1, 1, 1, 1, 1, 2], [2, 3, 3, 3, 3]], \"97.0\": [[1, 1, 1, 1, 1, 3], [3, 3, 3, 3, 3]], \"99.0\": [[1, 1, 1, 1, 2, 3]], \"101.0\": [[1, 1, 1, 1, 3, 3]], \"103.0\": [[1, 1, 1, 2, 3, 3]], \"105.0\": [[1, 1, 1, 3, 3, 3]], \"107.0\": [[1, 1, 2, 3, 3, 3]], \"109.0\": [[1, 1, 3, 3, 3, 3]], \"111.0\": [[1, 2, 3, 3, 3, 3]], \"113.0\": [[1, 3, 3, 3, 3, 3]], \"115.0\": [[2, 3, 3, 3, 3, 3]], \"117.0\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n    def: {\r\n        3: { \"8.0\": [[0]], \"9.0\": [[1]], \"10.0\": [[2]], \"11.0\": [[3]], \"16.0\": [[0, 0]], \"17.0\": [[0, 1]], \"18.0\": [[1, 1]], \"19.0\": [[1, 2]], \"20.0\": [[2, 2]], \"21.0\": [[2, 3]], \"22.0\": [[3, 3]], },\r\n        4: { \"13.0\": [[0]], \"15.0\": [[1]], \"17.0\": [[2]], \"19.0\": [[3]], \"26.0\": [[0, 0]], \"28.0\": [[0, 1]], \"30.0\": [[0, 2]], \"31.0\": [[0, 3]], \"33.0\": [[2, 2]], \"35.0\": [[2, 3]], \"37.0\": [[3, 3]], \"39.0\": [[0, 0, 0]], \"41.0\": [[0, 0, 1]], \"43.0\": [[0, 0, 2]], \"44.0\": [[0, 0, 3]], \"46.0\": [[0, 2, 2]], \"48.0\": [[0, 2, 3]], \"50.0\": [[0, 3, 3]], \"52.0\": [[0, 0, 0, 0], [2, 2, 3]], \"54.0\": [[0, 0, 0, 1], [2, 3, 3]], \"56.0\": [[0, 0, 0, 2], [3, 3, 3]], \"57.0\": [[0, 0, 0, 3]], \"59.0\": [[0, 0, 2, 2]], \"61.0\": [[0, 0, 2, 3]], \"63.0\": [[0, 0, 3, 3]], \"65.0\": [[0, 2, 2, 3]], \"67.0\": [[0, 2, 3, 3]], \"69.0\": [[0, 3, 3, 3]], \"70.0\": [[2, 2, 3, 3]], \"72.0\": [[2, 3, 3, 3]], \"74.0\": [[3, 3, 3, 3]], },\r\n        5: { \"16.0\": [[0]], \"19.0\": [[1]], \"21.0\": [[2]], \"23.0\": [[3]], \"32.0\": [[0, 0]], \"35.0\": [[0, 1]], \"37.0\": [[0, 2]], \"39.0\": [[1, 2]], \"42.0\": [[2, 2]], \"44.0\": [[2, 3]], \"46.0\": [[3, 3]], \"49.0\": [[0, 0, 0]], \"51.0\": [[0, 0, 1]], \"53.0\": [[0, 0, 2]], \"56.0\": [[0, 1, 2]], \"58.0\": [[0, 2, 2]], \"60.0\": [[1, 2, 2]], \"62.0\": [[2, 2, 2]], \"63.0\": [[1, 2, 3]], \"65.0\": [[0, 0, 0, 0], [2, 2, 3]], \"67.0\": [[0, 0, 0, 1], [2, 3, 3]], \"69.0\": [[3, 3, 3], [0, 0, 0, 2]], \"72.0\": [[0, 0, 1, 2]], \"74.0\": [[0, 0, 2, 2]], \"76.0\": [[0, 1, 2, 2]], \"79.0\": [[0, 2, 2, 2]], \"81.0\": [[0, 0, 0, 0, 0], [1, 2, 2, 2]], \"83.0\": [[0, 0, 0, 0, 1], [2, 2, 2, 2]], \"86.0\": [[2, 2, 2, 3], [0, 0, 0, 0, 2]], \"88.0\": [[2, 2, 3, 3], [0, 0, 0, 1, 2]], \"90.0\": [[0, 0, 0, 2, 2], [2, 3, 3, 3]], \"93.0\": [[3, 3, 3, 3], [0, 0, 1, 2, 2]], \"95.0\": [[0, 0, 2, 2, 2]], \"97.0\": [[0, 0, 0, 0, 0, 0], [0, 1, 2, 2, 2]], \"100.0\": [[0, 0, 0, 0, 0, 1], [0, 2, 2, 2, 2]], \"102.0\": [[1, 2, 2, 2, 2], [0, 0, 0, 0, 0, 2]], \"104.0\": [[0, 0, 0, 0, 1, 2], [2, 2, 2, 2, 2]], \"106.0\": [[0, 0, 0, 0, 2, 2], [2, 2, 2, 2, 3]], \"109.0\": [[2, 2, 2, 3, 3], [0, 0, 0, 1, 2, 2]], \"111.0\": [[0, 0, 0, 2, 2, 2], [2, 2, 3, 3, 3]], \"113.0\": [[2, 3, 3, 3, 3], [0, 0, 1, 2, 2, 2]], \"116.0\": [[3, 3, 3, 3, 3], [0, 0, 2, 2, 2, 2]], \"118.0\": [[0, 1, 2, 2, 2, 2]], \"120.0\": [[0, 2, 2, 2, 2, 2]], \"123.0\": [[1, 2, 2, 2, 2, 2]], \"125.0\": [[2, 2, 2, 2, 2, 2]], \"127.0\": [[2, 2, 2, 2, 2, 3]], \"130.0\": [[2, 2, 2, 2, 3, 3]], \"132.0\": [[2, 2, 2, 3, 3, 3]], \"134.0\": [[2, 2, 3, 3, 3, 3]], \"137.0\": [[2, 3, 3, 3, 3, 3]], \"139.0\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n    def_: {\r\n        3: { \"3.1\": [[0]], \"3.5\": [[1]], \"3.9\": [[2]], \"4.4\": [[3]], \"6.1\": [[0, 0]], \"6.6\": [[0, 1]], \"7.0\": [[0, 2]], \"7.4\": [[1, 2]], \"7.9\": [[2, 2]], \"8.3\": [[2, 3]], \"8.7\": [[3, 3]], },\r\n        4: { \"4.1\": [[0]], \"4.7\": [[1]], \"5.3\": [[2]], \"5.8\": [[3]], \"8.2\": [[0, 0]], \"8.7\": [[0, 1]], \"9.3\": [[1, 1]], \"9.9\": [[1, 2]], \"10.5\": [[1, 3]], \"11.1\": [[2, 3]], \"11.7\": [[3, 3]], \"12.2\": [[0, 0, 0]], \"12.8\": [[0, 0, 1]], \"13.4\": [[0, 1, 1]], \"14.0\": [[1, 1, 1]], \"14.6\": [[1, 1, 2]], \"15.2\": [[1, 1, 3]], \"15.7\": [[1, 2, 3]], \"15.8\": [[2, 2, 2]], \"16.3\": [[0, 0, 0, 0], [1, 3, 3]], \"16.9\": [[0, 0, 0, 1], [2, 3, 3]], \"17.5\": [[0, 0, 1, 1], [3, 3, 3]], \"18.1\": [[0, 1, 1, 1]], \"18.6\": [[1, 1, 1, 1]], \"18.7\": [[0, 1, 1, 2]], \"19.2\": [[1, 1, 1, 2]], \"19.8\": [[1, 1, 1, 3]], \"20.4\": [[1, 1, 2, 3]], \"21.0\": [[1, 1, 3, 3]], \"21.6\": [[1, 2, 3, 3]], \"22.2\": [[1, 3, 3, 3]], \"22.7\": [[2, 3, 3, 3]], \"23.3\": [[3, 3, 3, 3]], },\r\n        5: { \"5.1\": [[0]], \"5.8\": [[1]], \"6.6\": [[2]], \"7.3\": [[3]], \"10.2\": [[0, 0]], \"10.9\": [[0, 1]], \"11.6\": [[1, 1]], \"11.7\": [[0, 2]], \"12.4\": [[1, 2]], \"13.1\": [[1, 3]], \"13.9\": [[2, 3]], \"14.6\": [[3, 3]], \"15.3\": [[0, 0, 0]], \"16.0\": [[0, 0, 1]], \"16.7\": [[0, 1, 1]], \"16.8\": [[0, 0, 2]], \"17.4\": [[1, 1, 1]], \"17.5\": [[0, 1, 2]], \"18.2\": [[1, 1, 2]], \"18.9\": [[1, 1, 3]], \"19.0\": [[0, 2, 3]], \"19.7\": [[1, 2, 3]], \"20.4\": [[0, 0, 0, 0], [1, 3, 3]], \"21.1\": [[2, 3, 3], [0, 0, 0, 1]], \"21.8\": [[0, 0, 1, 1]], \"21.9\": [[0, 0, 0, 2], [3, 3, 3]], \"22.5\": [[0, 1, 1, 1]], \"22.6\": [[0, 0, 1, 2]], \"23.2\": [[1, 1, 1, 1]], \"23.3\": [[0, 1, 1, 2]], \"24.0\": [[1, 1, 1, 2]], \"24.1\": [[0, 0, 2, 3]], \"24.7\": [[1, 1, 1, 3]], \"24.8\": [[0, 1, 2, 3]], \"25.5\": [[1, 1, 2, 3], [0, 0, 0, 0, 0]], \"26.2\": [[1, 1, 3, 3], [0, 0, 0, 0, 1]], \"26.9\": [[0, 0, 0, 1, 1], [1, 2, 3, 3]], \"27.0\": [[0, 0, 0, 0, 2], [2, 2, 2, 3]], \"27.6\": [[0, 0, 1, 1, 1]], \"27.7\": [[1, 3, 3, 3], [0, 0, 0, 1, 2]], \"28.3\": [[0, 1, 1, 1, 1]], \"28.4\": [[2, 3, 3, 3], [0, 0, 1, 1, 2]], \"29.0\": [[1, 1, 1, 1, 1]], \"29.1\": [[0, 1, 1, 1, 2]], \"29.2\": [[3, 3, 3, 3], [0, 0, 0, 2, 3]], \"29.8\": [[1, 1, 1, 1, 2]], \"29.9\": [[0, 0, 1, 2, 3]], \"30.5\": [[1, 1, 1, 1, 3]], \"30.6\": [[0, 1, 1, 2, 3], [0, 0, 0, 0, 0, 0]], \"31.3\": [[1, 1, 1, 2, 3], [0, 0, 0, 0, 0, 1]], \"32.0\": [[0, 0, 0, 0, 1, 1], [1, 1, 1, 3, 3]], \"32.1\": [[0, 2, 2, 2, 3], [0, 0, 0, 0, 0, 2]], \"32.7\": [[0, 0, 0, 1, 1, 1], [1, 1, 2, 3, 3]], \"32.8\": [[0, 0, 0, 0, 1, 2], [1, 2, 2, 2, 3]], \"33.4\": [[0, 0, 1, 1, 1, 1]], \"33.5\": [[0, 0, 0, 1, 1, 2], [1, 1, 3, 3, 3]], \"34.1\": [[0, 1, 1, 1, 1, 1]], \"34.2\": [[1, 2, 3, 3, 3], [0, 0, 1, 1, 1, 2]], \"34.3\": [[0, 0, 0, 0, 2, 3], [2, 2, 2, 3, 3]], \"34.8\": [[1, 1, 1, 1, 1, 1]], \"34.9\": [[0, 1, 1, 1, 1, 2]], \"35.0\": [[0, 0, 0, 1, 2, 3], [1, 3, 3, 3, 3]], \"35.6\": [[1, 1, 1, 1, 1, 2]], \"35.7\": [[0, 0, 1, 1, 2, 3], [2, 3, 3, 3, 3]], \"36.3\": [[1, 1, 1, 1, 1, 3]], \"36.4\": [[0, 1, 1, 1, 2, 3]], \"36.5\": [[3, 3, 3, 3, 3]], \"37.1\": [[1, 1, 1, 1, 2, 3]], \"37.2\": [[0, 0, 2, 2, 2, 3]], \"37.8\": [[1, 1, 1, 1, 3, 3]], \"37.9\": [[0, 1, 2, 2, 2, 3]], \"38.5\": [[1, 1, 1, 2, 3, 3]], \"38.6\": [[1, 1, 2, 2, 2, 3]], \"39.3\": [[1, 1, 1, 3, 3, 3]], \"39.4\": [[2, 2, 2, 2, 2, 2]], \"40.0\": [[1, 1, 2, 3, 3, 3]], \"40.1\": [[1, 2, 2, 2, 3, 3]], \"40.8\": [[1, 1, 3, 3, 3, 3]], \"41.5\": [[1, 2, 3, 3, 3, 3]], \"41.6\": [[2, 2, 2, 3, 3, 3]], \"42.3\": [[1, 3, 3, 3, 3, 3]], \"43.0\": [[2, 3, 3, 3, 3, 3]], \"43.7\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n    critRate_: {\r\n        3: { \"1.6\": [[0]], \"1.9\": [[1]], \"2.1\": [[2]], \"2.3\": [[3]], \"3.3\": [[0, 0]], \"3.5\": [[0, 1]], \"3.7\": [[1, 1]], \"4.0\": [[1, 2]], \"4.2\": [[1, 3]], \"4.4\": [[2, 3]], \"4.7\": [[3, 3]], },\r\n        4: { \"2.2\": [[0]], \"2.5\": [[1]], \"2.8\": [[2]], \"3.1\": [[3]], \"4.4\": [[0, 0]], \"4.7\": [[0, 1]], \"5.0\": [[1, 1]], \"5.3\": [[1, 2]], \"5.6\": [[2, 2]], \"5.9\": [[2, 3]], \"6.2\": [[3, 3]], \"6.5\": [[0, 0, 0]], \"6.9\": [[0, 0, 1]], \"7.2\": [[0, 1, 1]], \"7.5\": [[1, 1, 1]], \"7.8\": [[1, 1, 2]], \"8.1\": [[1, 2, 2]], \"8.4\": [[2, 2, 2]], \"8.7\": [[0, 0, 0, 0], [2, 2, 3]], \"9.0\": [[2, 3, 3], [0, 0, 0, 1]], \"9.3\": [[3, 3, 3], [0, 0, 1, 1]], \"9.7\": [[0, 1, 1, 1]], \"10.0\": [[1, 1, 1, 1]], \"10.3\": [[1, 1, 1, 2]], \"10.6\": [[1, 1, 2, 2]], \"10.9\": [[1, 2, 2, 2]], \"11.2\": [[2, 2, 2, 2]], \"11.5\": [[2, 2, 2, 3]], \"11.8\": [[2, 2, 3, 3]], \"12.1\": [[2, 3, 3, 3]], \"12.4\": [[3, 3, 3, 3]], },\r\n        5: { \"2.7\": [[0]], \"3.1\": [[1]], \"3.5\": [[2]], \"3.9\": [[3]], \"5.4\": [[0, 0]], \"5.8\": [[0, 1]], \"6.2\": [[1, 1]], \"6.6\": [[1, 2]], \"7.0\": [[2, 2]], \"7.4\": [[2, 3]], \"7.8\": [[3, 3]], \"8.2\": [[0, 0, 0]], \"8.6\": [[0, 0, 1]], \"8.9\": [[0, 1, 1]], \"9.3\": [[1, 1, 1]], \"9.7\": [[1, 1, 2]], \"10.1\": [[1, 2, 2]], \"10.5\": [[2, 2, 2]], \"10.9\": [[0, 0, 0, 0], [2, 2, 3]], \"11.3\": [[2, 3, 3], [0, 0, 0, 1]], \"11.7\": [[0, 0, 1, 1], [3, 3, 3]], \"12.1\": [[0, 1, 1, 1]], \"12.4\": [[1, 1, 1, 1]], \"12.8\": [[1, 1, 1, 2]], \"13.2\": [[1, 1, 2, 2]], \"13.6\": [[0, 0, 0, 0, 0], [1, 2, 2, 2]], \"14.0\": [[2, 2, 2, 2], [0, 0, 0, 0, 1]], \"14.4\": [[0, 0, 0, 1, 1], [2, 2, 2, 3]], \"14.8\": [[0, 0, 1, 1, 1], [2, 2, 3, 3]], \"15.2\": [[0, 1, 1, 1, 1], [2, 3, 3, 3]], \"15.6\": [[3, 3, 3, 3], [1, 1, 1, 1, 1]], \"15.9\": [[1, 1, 1, 1, 2]], \"16.3\": [[0, 0, 0, 0, 0, 0], [1, 1, 1, 2, 2]], \"16.7\": [[0, 0, 0, 0, 0, 1], [1, 1, 2, 2, 2]], \"17.1\": [[1, 2, 2, 2, 2], [0, 0, 0, 0, 1, 1]], \"17.5\": [[0, 0, 0, 1, 1, 1], [2, 2, 2, 2, 2]], \"17.9\": [[2, 2, 2, 2, 3], [0, 0, 1, 1, 1, 1]], \"18.3\": [[2, 2, 2, 3, 3], [0, 1, 1, 1, 1, 1]], \"18.7\": [[1, 1, 1, 1, 1, 1], [2, 2, 3, 3, 3]], \"19.1\": [[1, 1, 1, 1, 1, 2], [2, 3, 3, 3, 3]], \"19.4\": [[1, 1, 1, 1, 2, 2]], \"19.5\": [[3, 3, 3, 3, 3]], \"19.8\": [[1, 1, 1, 2, 2, 2]], \"20.2\": [[1, 1, 2, 2, 2, 2]], \"20.6\": [[1, 2, 2, 2, 2, 2]], \"21.0\": [[2, 2, 2, 2, 2, 2]], \"21.4\": [[2, 2, 2, 2, 2, 3]], \"21.8\": [[2, 2, 2, 2, 3, 3]], \"22.2\": [[2, 2, 2, 3, 3, 3]], \"22.6\": [[2, 2, 3, 3, 3, 3]], \"23.0\": [[2, 3, 3, 3, 3, 3]], \"23.3\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n    atk_: {\r\n        3: { \"2.5\": [[0]], \"2.8\": [[1]], \"3.2\": [[2]], \"3.5\": [[3]], \"4.9\": [[0, 0]], \"5.3\": [[0, 1]], \"5.6\": [[1, 1]], \"6.0\": [[1, 2]], \"6.3\": [[2, 2]], \"6.7\": [[2, 3]], \"7.0\": [[3, 3]], },\r\n        4: { \"3.3\": [[0]], \"3.7\": [[1]], \"4.2\": [[2]], \"4.7\": [[3]], \"6.5\": [[0, 0]], \"7.0\": [[0, 1]], \"7.5\": [[1, 1]], \"7.9\": [[0, 3]], \"8.4\": [[1, 3]], \"8.9\": [[2, 3]], \"9.3\": [[3, 3]], \"9.8\": [[0, 0, 0]], \"10.3\": [[0, 0, 1]], \"10.7\": [[0, 1, 1]], \"11.2\": [[0, 0, 3]], \"11.7\": [[0, 1, 3]], \"12.1\": [[1, 1, 3]], \"12.6\": [[0, 3, 3]], \"13.0\": [[0, 0, 0, 0]], \"13.1\": [[1, 3, 3]], \"13.5\": [[2, 3, 3], [0, 0, 0, 1]], \"14.0\": [[3, 3, 3], [0, 0, 1, 1]], \"14.4\": [[0, 0, 0, 3]], \"14.5\": [[0, 1, 1, 1]], \"14.9\": [[0, 0, 1, 3]], \"15.4\": [[0, 1, 1, 3]], \"15.8\": [[0, 0, 3, 3]], \"15.9\": [[1, 1, 1, 3]], \"16.3\": [[0, 1, 3, 3]], \"16.8\": [[1, 1, 3, 3]], \"17.2\": [[0, 3, 3, 3]], \"17.3\": [[1, 2, 3, 3]], \"17.7\": [[1, 3, 3, 3]], \"18.2\": [[2, 3, 3, 3]], \"18.6\": [[3, 3, 3, 3]], },\r\n        5: { \"4.1\": [[0]], \"4.7\": [[1]], \"5.3\": [[2]], \"5.8\": [[3]], \"8.2\": [[0, 0]], \"8.7\": [[0, 1]], \"9.3\": [[1, 1]], \"9.9\": [[1, 2]], \"10.5\": [[1, 3]], \"11.1\": [[2, 3]], \"11.7\": [[3, 3]], \"12.2\": [[0, 0, 0]], \"12.8\": [[0, 0, 1]], \"13.4\": [[0, 1, 1]], \"14.0\": [[1, 1, 1]], \"14.6\": [[1, 1, 2]], \"15.2\": [[1, 1, 3]], \"15.7\": [[1, 2, 3]], \"15.8\": [[2, 2, 2]], \"16.3\": [[0, 0, 0, 0], [1, 3, 3]], \"16.9\": [[0, 0, 0, 1], [2, 3, 3]], \"17.5\": [[3, 3, 3], [0, 0, 1, 1]], \"18.1\": [[0, 1, 1, 1]], \"18.6\": [[1, 1, 1, 1]], \"18.7\": [[0, 1, 1, 2]], \"19.2\": [[1, 1, 1, 2]], \"19.8\": [[1, 1, 1, 3]], \"20.4\": [[0, 0, 0, 0, 0], [1, 1, 2, 3]], \"21.0\": [[1, 1, 3, 3], [0, 0, 0, 0, 1]], \"21.6\": [[0, 0, 0, 1, 1], [1, 2, 3, 3]], \"22.1\": [[0, 0, 1, 1, 1]], \"22.2\": [[0, 0, 0, 1, 2], [1, 3, 3, 3]], \"22.7\": [[2, 3, 3, 3], [0, 1, 1, 1, 1]], \"23.3\": [[1, 1, 1, 1, 1], [3, 3, 3, 3]], \"23.9\": [[1, 1, 1, 1, 2]], \"24.5\": [[1, 1, 1, 1, 3], [0, 0, 0, 0, 0, 0]], \"25.1\": [[1, 1, 1, 2, 3], [0, 0, 0, 0, 0, 1]], \"25.6\": [[0, 0, 0, 0, 1, 1], [1, 1, 1, 3, 3]], \"25.7\": [[1, 1, 2, 2, 3], [0, 0, 0, 0, 0, 2]], \"26.2\": [[1, 1, 2, 3, 3], [0, 0, 0, 1, 1, 1]], \"26.3\": [[2, 2, 2, 2, 2]], \"26.8\": [[1, 1, 3, 3, 3], [0, 0, 1, 1, 1, 1]], \"27.4\": [[1, 2, 3, 3, 3], [0, 1, 1, 1, 1, 1]], \"28.0\": [[1, 3, 3, 3, 3], [1, 1, 1, 1, 1, 1]], \"28.6\": [[1, 1, 1, 1, 1, 2], [2, 3, 3, 3, 3]], \"29.1\": [[1, 1, 1, 1, 1, 3]], \"29.2\": [[3, 3, 3, 3, 3], [0, 1, 1, 2, 2, 2]], \"29.7\": [[1, 1, 1, 1, 2, 3]], \"30.3\": [[1, 1, 1, 1, 3, 3]], \"30.9\": [[1, 1, 1, 2, 3, 3]], \"31.5\": [[1, 1, 1, 3, 3, 3]], \"32.1\": [[1, 1, 2, 3, 3, 3]], \"32.6\": [[1, 1, 3, 3, 3, 3]], \"32.7\": [[1, 2, 2, 3, 3, 3]], \"33.2\": [[1, 2, 3, 3, 3, 3]], \"33.8\": [[1, 3, 3, 3, 3, 3]], \"34.4\": [[2, 3, 3, 3, 3, 3]], \"35.0\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n    critDMG_: {\r\n        5: { \"5.4\": [[0]], \"6.2\": [[1]], \"7.0\": [[2]], \"7.8\": [[3]], \"10.9\": [[0, 0]], \"11.7\": [[0, 1]], \"12.4\": [[0, 2]], \"13.2\": [[1, 2]], \"14.0\": [[2, 2]], \"14.8\": [[2, 3]], \"15.5\": [[3, 3]], \"16.3\": [[0, 0, 0]], \"17.1\": [[0, 0, 1]], \"17.9\": [[0, 0, 2]], \"18.7\": [[0, 1, 2]], \"19.4\": [[0, 2, 2]], \"20.2\": [[1, 2, 2]], \"21.0\": [[2, 2, 2]], \"21.8\": [[0, 0, 0, 0], [2, 2, 3]], \"22.5\": [[2, 3, 3], [0, 0, 0, 1]], \"23.3\": [[3, 3, 3], [0, 0, 0, 2]], \"24.1\": [[0, 0, 1, 2]], \"24.9\": [[0, 0, 2, 2]], \"25.6\": [[0, 1, 2, 2]], \"25.7\": [[1, 1, 1, 2]], \"26.4\": [[0, 2, 2, 2]], \"27.2\": [[0, 0, 0, 0, 0], [1, 2, 2, 2]], \"28.0\": [[2, 2, 2, 2], [0, 0, 0, 0, 1]], \"28.7\": [[2, 2, 2, 3]], \"28.8\": [[1, 2, 3, 3], [0, 0, 0, 0, 2]], \"29.5\": [[0, 0, 0, 1, 2], [2, 2, 3, 3]], \"30.3\": [[0, 0, 0, 2, 2], [2, 3, 3, 3]], \"31.1\": [[3, 3, 3, 3], [0, 0, 1, 2, 2]], \"31.9\": [[0, 0, 2, 2, 2]], \"32.6\": [[0, 1, 2, 2, 2], [0, 0, 0, 0, 0, 0]], \"32.7\": [[1, 1, 1, 1, 3]], \"33.4\": [[0, 2, 2, 2, 2], [0, 0, 0, 0, 0, 1]], \"34.2\": [[0, 0, 0, 0, 0, 2], [1, 2, 2, 2, 2]], \"35.0\": [[2, 2, 2, 2, 2], [0, 0, 0, 0, 1, 2]], \"35.7\": [[0, 0, 0, 0, 2, 2], [2, 2, 2, 2, 3]], \"35.8\": [[0, 0, 0, 1, 1, 2], [1, 1, 3, 3, 3]], \"36.5\": [[2, 2, 2, 3, 3], [0, 0, 0, 1, 2, 2]], \"37.3\": [[0, 0, 0, 2, 2, 2], [2, 2, 3, 3, 3]], \"38.1\": [[0, 0, 1, 2, 2, 2], [2, 3, 3, 3, 3]], \"38.8\": [[0, 0, 2, 2, 2, 2]], \"38.9\": [[0, 1, 1, 2, 2, 2], [3, 3, 3, 3, 3]], \"39.6\": [[0, 1, 2, 2, 2, 2]], \"40.4\": [[0, 2, 2, 2, 2, 2]], \"41.2\": [[1, 2, 2, 2, 2, 2]], \"41.9\": [[2, 2, 2, 2, 2, 2]], \"42.0\": [[1, 2, 2, 2, 2, 3]], \"42.7\": [[2, 2, 2, 2, 2, 3]], \"43.5\": [[2, 2, 2, 2, 3, 3]], \"44.3\": [[2, 2, 2, 3, 3, 3]], \"45.1\": [[2, 2, 3, 3, 3, 3]], \"45.8\": [[2, 3, 3, 3, 3, 3]], \"46.6\": [[3, 3, 3, 3, 3, 3]], },\r\n        3: { \"3.3\": [[0]], \"3.7\": [[1]], \"4.2\": [[2]], \"4.7\": [[3]], \"6.5\": [[0, 0]], \"7.0\": [[0, 1]], \"7.5\": [[1, 1]], \"7.9\": [[0, 3]], \"8.4\": [[1, 3]], \"8.9\": [[2, 3]], \"9.3\": [[3, 3]], },\r\n        4: { \"4.4\": [[0]], \"5.0\": [[1]], \"5.6\": [[2]], \"6.2\": [[3]], \"8.7\": [[0, 0]], \"9.3\": [[0, 1]], \"9.9\": [[1, 1]], \"10.0\": [[0, 2]], \"10.6\": [[1, 2]], \"11.2\": [[1, 3]], \"11.8\": [[2, 3]], \"12.4\": [[3, 3]], \"13.1\": [[0, 0, 0]], \"13.7\": [[0, 0, 1]], \"14.3\": [[0, 1, 1]], \"14.9\": [[1, 1, 1]], \"15.5\": [[1, 1, 2]], \"15.6\": [[0, 2, 2]], \"16.2\": [[1, 1, 3]], \"16.8\": [[1, 2, 3]], \"17.4\": [[0, 0, 0, 0], [1, 3, 3]], \"18.0\": [[0, 0, 0, 1], [2, 3, 3]], \"18.6\": [[0, 0, 1, 1]], \"18.7\": [[3, 3, 3], [0, 0, 0, 2]], \"19.3\": [[0, 1, 1, 1]], \"19.9\": [[1, 1, 1, 1]], \"20.5\": [[1, 1, 1, 2]], \"21.1\": [[1, 1, 1, 3]], \"21.2\": [[0, 2, 2, 2]], \"21.8\": [[1, 1, 2, 3]], \"22.4\": [[1, 1, 3, 3]], \"23.0\": [[1, 2, 3, 3]], \"23.6\": [[1, 3, 3, 3]], \"24.3\": [[2, 3, 3, 3]], \"24.9\": [[3, 3, 3, 3]], },\r\n    },\r\n    hp_: {\r\n        3: { \"2.5\": [[0]], \"2.8\": [[1]], \"3.2\": [[2]], \"3.5\": [[3]], \"4.9\": [[0, 0]], \"5.3\": [[0, 1]], \"5.6\": [[1, 1]], \"6.0\": [[1, 2]], \"6.3\": [[2, 2]], \"6.7\": [[2, 3]], \"7.0\": [[3, 3]], },\r\n        4: { \"3.3\": [[0]], \"3.7\": [[1]], \"4.2\": [[2]], \"4.7\": [[3]], \"6.5\": [[0, 0]], \"7.0\": [[0, 1]], \"7.5\": [[1, 1]], \"7.9\": [[0, 3]], \"8.4\": [[1, 3]], \"8.9\": [[2, 3]], \"9.3\": [[3, 3]], \"9.8\": [[0, 0, 0]], \"10.3\": [[0, 0, 1]], \"10.7\": [[0, 1, 1]], \"11.2\": [[0, 0, 3]], \"11.7\": [[0, 1, 3]], \"12.1\": [[1, 1, 3]], \"12.6\": [[0, 3, 3]], \"13.0\": [[0, 0, 0, 0]], \"13.1\": [[1, 3, 3]], \"13.5\": [[2, 3, 3], [0, 0, 0, 1]], \"14.0\": [[3, 3, 3], [0, 0, 1, 1]], \"14.4\": [[0, 0, 0, 3]], \"14.5\": [[0, 1, 1, 1]], \"14.9\": [[0, 0, 1, 3]], \"15.4\": [[0, 1, 1, 3]], \"15.8\": [[0, 0, 3, 3]], \"15.9\": [[1, 1, 1, 3]], \"16.3\": [[0, 1, 3, 3]], \"16.8\": [[1, 1, 3, 3]], \"17.2\": [[0, 3, 3, 3]], \"17.3\": [[1, 2, 3, 3]], \"17.7\": [[1, 3, 3, 3]], \"18.2\": [[2, 3, 3, 3]], \"18.6\": [[3, 3, 3, 3]], },\r\n        5: { \"4.1\": [[0]], \"4.7\": [[1]], \"5.3\": [[2]], \"5.8\": [[3]], \"8.2\": [[0, 0]], \"8.7\": [[0, 1]], \"9.3\": [[1, 1]], \"9.9\": [[1, 2]], \"10.5\": [[1, 3]], \"11.1\": [[2, 3]], \"11.7\": [[3, 3]], \"12.2\": [[0, 0, 0]], \"12.8\": [[0, 0, 1]], \"13.4\": [[0, 1, 1]], \"14.0\": [[1, 1, 1]], \"14.6\": [[1, 1, 2]], \"15.2\": [[1, 1, 3]], \"15.7\": [[1, 2, 3]], \"15.8\": [[2, 2, 2]], \"16.3\": [[1, 3, 3], [0, 0, 0, 0]], \"16.9\": [[2, 3, 3], [0, 0, 0, 1]], \"17.5\": [[3, 3, 3], [0, 0, 1, 1]], \"18.1\": [[0, 1, 1, 1]], \"18.6\": [[1, 1, 1, 1]], \"18.7\": [[0, 1, 1, 2]], \"19.2\": [[1, 1, 1, 2]], \"19.8\": [[1, 1, 1, 3]], \"20.4\": [[1, 1, 2, 3], [0, 0, 0, 0, 0]], \"21.0\": [[1, 1, 3, 3], [0, 0, 0, 0, 1]], \"21.6\": [[1, 2, 3, 3], [0, 0, 0, 1, 1]], \"22.1\": [[0, 0, 1, 1, 1]], \"22.2\": [[1, 3, 3, 3], [0, 0, 0, 1, 2]], \"22.7\": [[2, 3, 3, 3], [0, 1, 1, 1, 1]], \"23.3\": [[3, 3, 3, 3], [1, 1, 1, 1, 1]], \"23.9\": [[1, 1, 1, 1, 2]], \"24.5\": [[0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 3]], \"25.1\": [[1, 1, 1, 2, 3], [0, 0, 0, 0, 0, 1]], \"25.6\": [[0, 0, 0, 0, 1, 1], [1, 1, 1, 3, 3]], \"25.7\": [[1, 1, 2, 2, 3], [0, 0, 0, 0, 0, 2]], \"26.2\": [[0, 0, 0, 1, 1, 1], [1, 1, 2, 3, 3]], \"26.3\": [[2, 2, 2, 2, 2]], \"26.8\": [[0, 0, 1, 1, 1, 1], [1, 1, 3, 3, 3]], \"27.4\": [[0, 1, 1, 1, 1, 1], [1, 2, 3, 3, 3]], \"28.0\": [[1, 3, 3, 3, 3], [1, 1, 1, 1, 1, 1]], \"28.6\": [[2, 3, 3, 3, 3], [1, 1, 1, 1, 1, 2]], \"29.1\": [[1, 1, 1, 1, 1, 3]], \"29.2\": [[0, 1, 1, 2, 2, 2], [3, 3, 3, 3, 3]], \"29.7\": [[1, 1, 1, 1, 2, 3]], \"30.3\": [[1, 1, 1, 1, 3, 3]], \"30.9\": [[1, 1, 1, 2, 3, 3]], \"31.5\": [[1, 1, 1, 3, 3, 3]], \"32.1\": [[1, 1, 2, 3, 3, 3]], \"32.6\": [[1, 1, 3, 3, 3, 3]], \"32.7\": [[1, 2, 2, 3, 3, 3]], \"33.2\": [[1, 2, 3, 3, 3, 3]], \"33.8\": [[1, 3, 3, 3, 3, 3]], \"34.4\": [[2, 3, 3, 3, 3, 3]], \"35.0\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n    enerRech_: {\r\n        3: { \"2.7\": [[0]], \"3.1\": [[1]], \"3.5\": [[2]], \"3.9\": [[3]], \"5.4\": [[0, 0]], \"5.8\": [[0, 1]], \"6.2\": [[1, 1]], \"6.6\": [[1, 2]], \"7.0\": [[2, 2]], \"7.4\": [[2, 3]], \"7.8\": [[3, 3]], },\r\n        4: { \"3.6\": [[0]], \"4.1\": [[1]], \"4.7\": [[2]], \"5.2\": [[3]], \"7.3\": [[0, 0]], \"7.8\": [[0, 1]], \"8.3\": [[1, 1]], \"8.8\": [[1, 2]], \"9.3\": [[2, 2]], \"9.8\": [[2, 3]], \"10.4\": [[3, 3]], \"10.9\": [[0, 0, 0]], \"11.4\": [[0, 0, 1]], \"11.9\": [[0, 1, 1]], \"12.4\": [[1, 1, 1]], \"12.9\": [[1, 1, 2]], \"13.0\": [[0, 2, 2]], \"13.5\": [[1, 2, 2]], \"14.0\": [[2, 2, 2]], \"14.5\": [[0, 0, 0, 0], [2, 2, 3]], \"15.0\": [[2, 3, 3], [0, 0, 0, 1]], \"15.5\": [[3, 3, 3], [0, 0, 1, 1]], \"15.6\": [[0, 0, 0, 2]], \"16.1\": [[0, 1, 1, 1]], \"16.6\": [[1, 1, 1, 1]], \"17.1\": [[1, 1, 1, 2]], \"17.6\": [[1, 1, 2, 2]], \"18.1\": [[1, 2, 2, 2]], \"18.6\": [[2, 2, 2, 2]], \"18.7\": [[0, 2, 3, 3]], \"19.2\": [[2, 2, 2, 3]], \"19.7\": [[2, 2, 3, 3]], \"20.2\": [[2, 3, 3, 3]], \"20.7\": [[3, 3, 3, 3]], },\r\n        5: { \"4.5\": [[0]], \"5.2\": [[1]], \"5.8\": [[2]], \"6.5\": [[3]], \"9.1\": [[0, 0]], \"9.7\": [[0, 1]], \"10.4\": [[1, 1]], \"11.0\": [[1, 2]], \"11.7\": [[2, 2]], \"12.3\": [[2, 3]], \"13.0\": [[3, 3]], \"13.6\": [[0, 0, 0]], \"14.2\": [[0, 0, 1]], \"14.9\": [[0, 1, 1]], \"15.5\": [[1, 1, 1]], \"16.2\": [[1, 1, 2]], \"16.8\": [[1, 2, 2]], \"17.5\": [[2, 2, 2]], \"18.1\": [[2, 2, 3], [0, 0, 0, 0]], \"18.8\": [[0, 0, 0, 1], [2, 3, 3]], \"19.4\": [[3, 3, 3], [0, 0, 1, 1]], \"20.1\": [[0, 1, 1, 1]], \"20.7\": [[1, 1, 1, 1]], \"21.4\": [[1, 1, 1, 2]], \"22.0\": [[1, 1, 2, 2]], \"22.7\": [[0, 0, 0, 0, 0], [1, 2, 2, 2]], \"23.3\": [[0, 0, 0, 0, 1], [2, 2, 2, 2]], \"24.0\": [[2, 2, 2, 3], [0, 0, 0, 1, 1]], \"24.6\": [[0, 0, 1, 1, 1], [2, 2, 3, 3]], \"25.3\": [[0, 1, 1, 1, 1], [2, 3, 3, 3]], \"25.9\": [[3, 3, 3, 3], [1, 1, 1, 1, 1]], \"26.6\": [[1, 1, 1, 1, 2]], \"27.2\": [[0, 0, 0, 0, 0, 0], [1, 1, 1, 2, 2]], \"27.8\": [[0, 0, 0, 0, 0, 1]], \"27.9\": [[1, 1, 2, 2, 2]], \"28.5\": [[0, 0, 0, 0, 1, 1], [1, 2, 2, 2, 2]], \"29.1\": [[0, 0, 0, 1, 1, 1]], \"29.2\": [[2, 2, 2, 2, 2]], \"29.8\": [[0, 0, 1, 1, 1, 1], [2, 2, 2, 2, 3]], \"30.4\": [[0, 1, 1, 1, 1, 1]], \"30.5\": [[2, 2, 2, 3, 3]], \"31.1\": [[2, 2, 3, 3, 3], [1, 1, 1, 1, 1, 1]], \"31.7\": [[1, 1, 1, 1, 1, 2]], \"31.8\": [[2, 3, 3, 3, 3]], \"32.4\": [[3, 3, 3, 3, 3], [1, 1, 1, 1, 2, 2]], \"33.0\": [[1, 1, 1, 2, 2, 2]], \"33.7\": [[1, 1, 2, 2, 2, 2]], \"34.3\": [[1, 2, 2, 2, 2, 2]], \"35.0\": [[2, 2, 2, 2, 2, 2]], \"35.6\": [[2, 2, 2, 2, 2, 3]], \"36.3\": [[2, 2, 2, 2, 3, 3]], \"36.9\": [[2, 2, 2, 3, 3, 3]], \"37.6\": [[2, 2, 3, 3, 3, 3]], \"38.2\": [[2, 3, 3, 3, 3, 3]], \"38.9\": [[3, 3, 3, 3, 3, 3]], },\r\n    },\r\n}\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport SlotIcon from '../Components/SlotIcon';\r\nimport Conditional from '../Conditional/Conditional';\r\nimport { ArtifactData, ArtifactDataImport, ArtifactMainSlotKeys, ArtifactMainStatsData, ArtifactSlotsData, ArtifactStarsData, ArtifactSubStatsData, ArtifactSubstatsMinMax } from '../Data/ArtifactData';\r\nimport ArtifactDatabase from '../Database/ArtifactDatabase';\r\nimport CharacterDatabase from '../Database/CharacterDatabase';\r\nimport { ArtifactSubstatLookupTable } from '../Data/ArtifactLookupTable';\r\nimport Stat from '../Stat';\r\nimport { clampPercent, closeEnoughFloat, closeEnoughInt, deepClone } from '../Util/Util';\r\n\r\nconst maxStar = 5\r\n\r\nexport default class Artifact {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Artifact) throw Error('A static class cannot be instantiated.'); }\r\n\r\n  //SETS\r\n  static getDataImport = () => ArtifactDataImport\r\n  static getSetKeys = () => Object.keys(ArtifactData || {})\r\n  static getSetName = (key, defVal = \"\") => ArtifactData?.[key]?.name || defVal;\r\n  static getSetsByMaxStarEntries = (star) =>\r\n    Object.entries(ArtifactData || {}).filter(([, setobj]) => setobj.rarity[(setobj.rarity.length) - 1] === star)\r\n  static getPieces = (setKey, defVal = {}) => ArtifactData?.[setKey]?.pieces || defVal\r\n  static getPieceName = (setKey, slotKey, defVal = \"\") => this.getPieces(setKey)[slotKey] || defVal;\r\n  static getPieceIcon = (setKey, slotKey, defVal = null) => ArtifactData?.[setKey]?.icons?.[slotKey] || defVal;\r\n\r\n  //SETEFFECT\r\n  static getSetEffectsObj = (setKey, defVal = {}) => ArtifactData?.[setKey]?.setEffects || defVal\r\n  static getArtifactSetNumStats = (setKey, setNumKey, defVal = {}) =>\r\n    deepClone(this.getSetEffectsObj(setKey)?.[setNumKey]?.stats || defVal)\r\n  static getArtifactSetEffectsStats = (setToSlots) => {\r\n    let artifactSetEffect = []\r\n    Object.entries(setToSlots).forEach(([setKey, artArr]) =>\r\n      Object.entries(Artifact.getSetEffectsObj(setKey)).forEach(([setNumKey, value]) =>\r\n        parseInt(setNumKey) <= artArr.length && value.stats && Object.keys(value.stats).length &&\r\n        Object.entries(value.stats).forEach(([key, statVal]) =>\r\n          artifactSetEffect.push({ key, statVal }))))\r\n    return artifactSetEffect\r\n  }\r\n  static getSetEffects = (setToSlots) => {\r\n    let artifactSetEffect = {}\r\n    Object.entries(setToSlots).forEach(([setKey, artArr]) => {\r\n      let setNumKeys = Object.keys(this.getSetEffectsObj(setKey)).filter(setNumKey => parseInt(setNumKey) <= artArr.length)\r\n      if (setNumKeys.length)\r\n        artifactSetEffect[setKey] = setNumKeys\r\n    })\r\n    return artifactSetEffect\r\n  }\r\n\r\n  static getSetEffectText = (setKey, setNumKey, stats, defVal = \"\") => {\r\n    let setEffectText = this.getSetEffectsObj(setKey)?.[setNumKey]?.text\r\n    if (!setEffectText) return defVal\r\n    if (typeof setEffectText === \"function\")\r\n      return setEffectText(stats)\r\n    else if (setEffectText)\r\n      return setEffectText\r\n    return defVal\r\n  }\r\n  static getSetEffectConditionals = (setKey, setNumKey, defVal = null) => {\r\n    const setEffect = this.getSetEffectsObj(setKey)?.[setNumKey]\r\n    if (setEffect?.conditional || setEffect?.conditionals) {\r\n      return {\r\n        ...setEffect?.conditional && { default: setEffect?.conditional },\r\n        ...setEffect?.conditionals && setEffect?.conditionals\r\n      }\r\n    }\r\n    return defVal\r\n  }\r\n\r\n  //SLOT\r\n  static getSlotKeys = () => Object.keys(ArtifactSlotsData || {})\r\n  static getSlotName = (slotKey, defVal = \"\") => ArtifactSlotsData?.[slotKey]?.name || defVal\r\n  static getSlotIcon = (slotKey, defVal = \"\") =>\r\n    (slotKey && SlotIcon[slotKey]) ? <FontAwesomeIcon icon={SlotIcon[slotKey]} key={slotKey} className=\"fa-fw\" /> : defVal\r\n  static getSlotMainStatKeys = (slotKey, defVal = []) => ArtifactSlotsData?.[slotKey]?.stats || defVal\r\n\r\n  static getSlotNameWithIcon = (slotKey, defVal = \"\") => {\r\n    if (!slotKey) return defVal;\r\n    let name = this.getSlotName(slotKey)\r\n    if (!name) return defVal;\r\n    let slotIcon = this.getSlotIcon(slotKey)\r\n    if (!slotIcon) return defVal;\r\n    return (<span>{slotIcon} {name}</span>)\r\n  }\r\n  static splitArtifactsBySlot = (databaseObj) =>\r\n    Object.fromEntries(this.getSlotKeys().map(slotKey =>\r\n      [slotKey, Object.values(databaseObj).filter(art => art.slotKey === slotKey)]))\r\n\r\n  //STARS\r\n  static getStars = () => Object.keys(ArtifactStarsData || {}).map(s => parseInt(s))\r\n  static getRarityArr = (setKey, defVal = []) => ArtifactData?.[setKey]?.rarity || defVal\r\n\r\n  //MAIN STATS\r\n  static getMainStatKeys = () => deepClone(ArtifactMainSlotKeys)\r\n  static getMainStatValues = (numStar, statKey, defVal = []) =>\r\n    ArtifactMainStatsData?.[numStar]?.[statKey] || defVal\r\n\r\n  static getMainStatValue = (key, numStars, level, defVal = 0) => {\r\n    let main = this.getMainStatValues(numStars, key)[level]\r\n    if (main) return main\r\n    else if (key?.includes(\"_dmg_\")) // because in the database its still stored as ele_dmg_\r\n      return this.getMainStatValue(\"ele_dmg_\", numStars, level, defVal)\r\n    return defVal\r\n  }\r\n\r\n  //SUBSTATS\r\n  static getBaseSubRollNumLow = (numStars, defVal = 0) => ArtifactStarsData?.[numStars]?.subsBaselow || defVal\r\n  static getBaseSubRollNumHigh = (numStars, defVal = 0) => ArtifactStarsData?.[numStars]?.subBaseHigh || defVal\r\n  static getNumUpgradesOrUnlocks = (numStars, defVal = 0) => ArtifactStarsData?.[numStars]?.numUpgradesOrUnlocks || defVal\r\n  static getSubstatAllMax = (statKey, numStars = maxStar, defVal = 0) => ArtifactSubstatsMinMax?.[statKey]?.max[numStars] ?? defVal\r\n  static getSubStatKeys = () => Object.keys(ArtifactSubStatsData || {})\r\n  static subStatCloseEnough = (key, value1, value2) => {\r\n    if (Stat.getStatUnit(key) === \"%\")\r\n      return closeEnoughFloat(value1, value2)\r\n    else\r\n      return closeEnoughInt(value1, value2)\r\n  }\r\n  static totalPossibleRolls = (numStars) => ArtifactStarsData[numStars] ?\r\n    (ArtifactStarsData[numStars].subBaseHigh + ArtifactStarsData[numStars].numUpgradesOrUnlocks) : 0;\r\n  static rollsRemaining = (level, numStars) =>\r\n    Math.ceil((numStars * 4 - level) / 4);\r\n  static numberOfSubstatUnlocked = (state) =>\r\n    state.substats.reduce((sum, cur) =>\r\n      sum + (cur && cur.value ? 1 : 0), 0);\r\n  static getSubstatRollData = (subStatKey, numStars) => ArtifactSubStatsData?.[subStatKey]?.[numStars] ?? []\r\n  static getSubstatRolls = (subStatKey, subStatValue, numStars) => {\r\n    if (!numStars || !subStatKey || typeof subStatValue !== \"number\" || !subStatValue) return []\r\n    let rollData = this.getSubstatRollData(subStatKey, numStars)\r\n    if (!rollData.length) return []\r\n\r\n    let table = ArtifactSubstatLookupTable[subStatKey][numStars]\r\n    let lookupValue = subStatValue.toFixed(1)\r\n\r\n    if (table[lookupValue])\r\n      return table[lookupValue].map(roll => roll.map(i => rollData[i]))\r\n    else return [] // Lookup fails\r\n  }\r\n  static getSubstatEfficiency = (subStatKey, rolls) => {\r\n    const sum = rolls.reduce((a, b) => a + b, 0)\r\n    const max = this.getSubstatAllMax(subStatKey) * rolls.length\r\n    return max ? clampPercent((sum / max) * 100) : 0\r\n  }\r\n\r\n  //ARTIFACT IN GENERAL\r\n  static substatsValidation(state) {\r\n    const { numStars, level, substats } = state, errors = []\r\n\r\n    const allSubstatRolls = []\r\n    let total = 0\r\n    substats.forEach((substat, index) => {\r\n      const { key, value } = substat, substatRolls = Artifact.getSubstatRolls(key, value, numStars)\r\n\r\n      if (substatRolls.length) {\r\n        const possibleLengths = new Set(substatRolls.map(roll => roll.length))\r\n        if (possibleLengths.size !== 1)\r\n          allSubstatRolls.push({ index, substatRolls })\r\n        else\r\n          total += substatRolls[0].length\r\n\r\n        substat.rolls = substatRolls[0]\r\n        substat.efficiency = Artifact.getSubstatEfficiency(key, substat.rolls)\r\n      } else {\r\n        if (substat.key)\r\n          errors.push(`Invalid substat ${Stat.getStatNameWithPercent(substat.key)}`)\r\n\r\n        substat.rolls = []\r\n        substat.efficiency = 0\r\n      }\r\n    })\r\n\r\n    if (errors.length) return errors\r\n    {\r\n      let substat = substats.find(substat => substat.rolls.length > 1)\r\n      if (substat && substats.some((substat) => !substat.rolls.length))\r\n        return [`Substat ${Stat.getStatNameWithPercent(substat.key)} has > 1 roll, but not all substats are unlocked.`]\r\n    }\r\n\r\n    const minimum = Artifact.getBaseSubRollNumLow(numStars) + Math.floor(level / 4)\r\n    const remaining = Artifact.rollsRemaining(level, numStars);\r\n    const maximum = Artifact.totalPossibleRolls(numStars);\r\n\r\n    let minimumMaxRolls = Infinity\r\n    function tryAllSubstats(rolls, maxRolls, total) {\r\n      if (rolls.length === allSubstatRolls.length) {\r\n        if (total + remaining <= maximum && total >= minimum && maxRolls < minimumMaxRolls) {\r\n          minimumMaxRolls = maxRolls\r\n          for (const { index, roll } of rolls) {\r\n            substats[index].rolls = roll\r\n            substats[index].efficiency = Artifact.getSubstatEfficiency(substats[index].key, roll)\r\n          }\r\n        }\r\n\r\n        return\r\n      }\r\n\r\n      const { index, substatRolls } = allSubstatRolls[rolls.length]\r\n      for (const roll of substatRolls) {\r\n        rolls.push({ index, roll })\r\n        tryAllSubstats(rolls, Math.max(maxRolls, roll.length), total + roll.length)\r\n        rolls.pop()\r\n      }\r\n    }\r\n\r\n    tryAllSubstats([], 0, total)\r\n\r\n    if (!isFinite(minimumMaxRolls)) {\r\n      // No build found\r\n      const total = substats.reduce((accu, current) => accu + current.rolls.length, 0)\r\n      if (total < minimum)\r\n        errors.push(`${numStars}-star artifact (level ${level}) should have at least ${minimum} rolls. It currently has ${total} rolls.`)\r\n      else {\r\n        errors.push(`${numStars}-star artifact (level ${level}) should have no more than ${maximum - remaining} rolls. It currently has ${total} rolls.`)\r\n      }\r\n    } else {\r\n      // Found valid build, filling missing data\r\n      for (const substat of substats)\r\n        substat.accurateValue = substat.rolls.reduce((sum, cur) => sum + cur, 0)\r\n      const { currentEfficiency, maximumEfficiency } = Artifact.getArtifactEfficiency(substats, numStars, level)\r\n      state.currentEfficiency = currentEfficiency\r\n      state.maximumEfficiency = maximumEfficiency\r\n    }\r\n\r\n    return errors\r\n  }\r\n  static getArtifactEfficiency(substats, numStars, level) {\r\n    if (!numStars) return { currentEfficiency: 0, maximumEfficiency: 0 }\r\n    // Relative to max star, so comparison between different * makes sense.\r\n    let totalRolls = Artifact.totalPossibleRolls(maxStar);\r\n    let rollsRemaining = Artifact.rollsRemaining(level, numStars);\r\n    let current = substats.reduce((sum, { key, accurateValue }) => sum + (key ? (accurateValue / ArtifactSubstatsMinMax[key].max[maxStar]) : 0), 0)\r\n    let maximum = current + rollsRemaining\r\n    let currentEfficiency = current * 100 / totalRolls\r\n    let maximumEfficiency = maximum * 100 / totalRolls\r\n    return { currentEfficiency, maximumEfficiency }\r\n  }\r\n\r\n  //start with {slotKey:art} end with {setKey:[slotKey]}\r\n  static setToSlots = (artifacts) => {\r\n    let setToSlots = {};\r\n    Object.entries(artifacts).forEach(([key, art]) => {\r\n      if (!art) return\r\n      if (setToSlots[art.setKey]) setToSlots[art.setKey].push(key)\r\n      else setToSlots[art.setKey] = [key]\r\n    })\r\n    return setToSlots\r\n  };\r\n\r\n  static getAllArtifactSetEffectsObj = stats => {\r\n    let ArtifactSetEffectsObj = {};\r\n    //accumulate the non-conditional stats\r\n    Object.entries(ArtifactData).forEach(([setKey, setObj]) => {\r\n      let setEffect = {}\r\n      if (setObj.setEffects)\r\n        Object.entries(setObj.setEffects).forEach(([setNumKey, setEffectObj]) => {\r\n          if (Object.keys(setEffectObj.stats || {}).length > 0)\r\n            setEffect[setNumKey] = deepClone(setEffectObj.stats)\r\n        })\r\n      if (Object.keys(setEffect).length > 0)\r\n        ArtifactSetEffectsObj[setKey] = setEffect;\r\n    })\r\n    Conditional.parseConditionalValues({ artifact: stats?.conditionalValues?.artifact }, (conditional, conditionalValue, [, setKey]) => {\r\n      const { setNumKey } = conditional\r\n      const { stats: condStats } = Conditional.resolve(conditional, stats, conditionalValue)\r\n      ArtifactSetEffectsObj[setKey] ?? (ArtifactSetEffectsObj[setKey] = {})\r\n      ArtifactSetEffectsObj[setKey][setNumKey] ?? (ArtifactSetEffectsObj[setKey][setNumKey] = {})\r\n      Object.entries(condStats).forEach(([statKey, value]) =>\r\n        ArtifactSetEffectsObj[setKey][setNumKey][statKey] = (ArtifactSetEffectsObj[setKey][setNumKey][statKey] ?? 0) + value)\r\n    })\r\n    return ArtifactSetEffectsObj\r\n  }\r\n\r\n  //database manipulation\r\n  static equipArtifactOnChar(artifactId, characterKey) {\r\n    let art = ArtifactDatabase.get(artifactId);\r\n    if (!art) return;\r\n    let currentLocation = art.location;\r\n    let intendedLocation = (characterKey || \"\")\r\n    if (currentLocation === intendedLocation) return;\r\n    let slotKey = art.slotKey\r\n    let artifactToSwapWithid = CharacterDatabase.getArtifactIDFromSlot(intendedLocation, slotKey)\r\n    let artifactToSwapWith = ArtifactDatabase.get(artifactToSwapWithid)\r\n\r\n    //update artifact\r\n    if (artifactToSwapWith) ArtifactDatabase.swapLocations(art, artifactToSwapWith)\r\n    else ArtifactDatabase.moveToNewLocation(art.id, intendedLocation)\r\n\r\n    //update Character\r\n    if (intendedLocation)\r\n      CharacterDatabase.equipArtifact(intendedLocation, art)\r\n\r\n    if (currentLocation) {\r\n      if (artifactToSwapWith)\r\n        CharacterDatabase.equipArtifact(currentLocation, artifactToSwapWith)\r\n      else\r\n        CharacterDatabase.unequipArtifactOnSlot(currentLocation, slotKey)\r\n    }\r\n  }\r\n  static unequipArtifact(artifactId) {\r\n    const art = ArtifactDatabase.get(artifactId)\r\n    if (!art || !art.location) return\r\n    const location = art.location\r\n    const slotKey = art.slotKey\r\n    CharacterDatabase.unequipArtifactOnSlot(location, slotKey)\r\n    ArtifactDatabase.moveToNewLocation(artifactId)\r\n  }\r\n}\r\n","const ElementalData = {\r\n  physical: { name: \"Physical\" },\r\n  anemo: { name: \"Anemo\" },\r\n  geo: { name: \"Geo\" },\r\n  electro: { name: \"Electro\" },\r\n  hydro: { name: \"Hydro\" },\r\n  pyro: { name: \"Pyro\" },\r\n  cryo: { name: \"Cryo\" },\r\n  // dendro: { name: \"Dendro\" }\r\n}\r\nexport default ElementalData","import { StatIconEle } from \"../Components/StatIcon\"\r\nimport ElementalData from \"../Data/ElementalData\"\r\nimport Stat from \"../Stat\"\r\n\r\nfunction modifiersToFields(modifiers, stats = {}) {\r\n  return Object.entries(modifiers).map(([mStatKey, modifier]) => ({\r\n    text: Stat.getStatName(mStatKey),\r\n    variant: Stat.getStatVariant(mStatKey),\r\n    canShow: () => true,\r\n    value: Object.entries(modifier ?? {}).reduce((accu, [mkey, multiplier]) => accu + stats[mkey] * multiplier, 0),\r\n    formulaText: <span>{Object.entries(modifier ?? {}).map(([mkey, multiplier], i) => <span key={i} >{i !== 0 ? \" + \" : \"\"}{Stat.printStat(mkey, stats)} * {multiplier?.toFixed?.(3) ?? multiplier}</span>)}</span>,\r\n    fixed: Stat.fixedUnit(mStatKey),\r\n    unit: Stat.getStatUnit(mStatKey)\r\n  }))\r\n}\r\nexport default function statsToFields(statVals, stats = {}) {\r\n  return Object.entries(statVals).map(([statKey, statVal]) => {\r\n    switch (statKey) {\r\n      case \"infusionSelf\":\r\n        return {\r\n          text: <span className={`text-${statVal}`}>{ElementalData[statVal]?.name} Infusion</span>,\r\n          canShow: () => true,\r\n        }\r\n      case \"modifiers\":\r\n        return modifiersToFields(statVal, stats)\r\n      default:\r\n        return {\r\n          text: <span>{StatIconEle(statKey)}{Stat.getStatName(statKey)}</span>,\r\n          variant: Stat.getStatVariant(statKey),\r\n          canShow: () => true,\r\n          value: statVal,\r\n          fixed: Stat.fixedUnit(statKey),\r\n          unit: Stat.getStatUnit(statKey)\r\n        }\r\n    }\r\n  }\r\n  ).flat()\r\n}\r\n\r\nexport function fieldProcessing(field) {\r\n  //attach the field prop to the formulas for reverse search\r\n  if (field.formula) field.formula.field = field\r\n  if (typeof field.canShow !== \"function\") field.canShow = () => true\r\n}","export default __webpack_public_path__ + \"static/media/Element_Anemo.f809fde3.png\";","import anemo from './Element_Anemo.png'\r\nimport cryo from './Element_Cryo.png'\r\nimport dendro from './Element_Dendro.png'\r\nimport electro from './Element_Electro.png'\r\nimport geo from './Element_Geo.png'\r\nimport hydro from './Element_Hydro.png'\r\nimport pyro from './Element_Pyro.png'\r\n\r\nimport bow from './Weapon-class-bow-icon.png'\r\nimport catalyst from './Weapon-class-catalyst-icon.png'\r\nimport claymore from './Weapon-class-claymore-icon.png'\r\nimport polearm from './Weapon-class-polearm-icon.png'\r\nimport sword from './Weapon-class-sword-icon.png'\r\n\r\nimport fragile from './Item_Fragile_Resin.png'\r\nimport condensed from './Item_Condensed_Resin.png'\r\n\r\n//EXP BOOKS\r\nimport advice from './Item_Wanderer\\'s_Advice.png'\r\nimport wit from './Item_Hero\\'s_Wit.png'\r\nimport experience from './Item_Adventurer\\'s_Experience.png'\r\n\r\nlet Assets = {\r\n  elements: { anemo, cryo, dendro, electro, geo, hydro, pyro },\r\n  weaponTypes: { bow, catalyst, claymore, polearm, sword },\r\n  resin: {\r\n    fragile,\r\n    condensed\r\n  },\r\n  exp_books: {\r\n    advice,\r\n    wit,\r\n    experience,\r\n  }\r\n};\r\nexport default Assets;","export default __webpack_public_path__ + \"static/media/Element_Cryo.019d72f9.png\";","export default __webpack_public_path__ + \"static/media/Element_Dendro.8ee0f26d.png\";","export default __webpack_public_path__ + \"static/media/Element_Electro.342332ac.png\";","export default __webpack_public_path__ + \"static/media/Element_Geo.b7e865c6.png\";","export default __webpack_public_path__ + \"static/media/Element_Hydro.f2f8bd8a.png\";","export default __webpack_public_path__ + \"static/media/Element_Pyro.f65c2e38.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-bow-icon.b8e7b5ca.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-catalyst-icon.2cbef800.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-claymore-icon.17418b20.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-polearm-icon.a4e7fffc.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-sword-icon.4470b487.png\";","export default __webpack_public_path__ + \"static/media/Item_Fragile_Resin.f9ec8223.png\";","export default __webpack_public_path__ + \"static/media/Item_Condensed_Resin.1cecf64a.png\";","export default __webpack_public_path__ + \"static/media/Item_Wanderer's_Advice.58c62cf7.png\";","export default __webpack_public_path__ + \"static/media/Item_Hero's_Wit.a79e36d0.png\";","export default __webpack_public_path__ + \"static/media/Item_Adventurer's_Experience.92b5d195.png\";","import { ArtifactData, ArtifactDataImport } from \"../Data/ArtifactData\"\r\nimport { CharacterDataImport, CharacterData } from \"../Data/CharacterData\"\r\nimport { WeaponData, WeaponDataImport } from \"../Data/WeaponData\";\r\nimport { fieldProcessing } from \"../Util/FieldUtil\";\r\nimport { crawlObject, deepClone, layeredAssignment, objMultiplication, objPathValue } from \"../Util/Util\"\r\n\r\nconst processed = new Promise(resolve => {\r\n  //attach character conditionals to Conditional\r\n  const charImport = new Promise(res =>\r\n    Promise.resolve(CharacterDataImport).then(() => {\r\n      addConditional(CharacterData, \"character\")\r\n      res()\r\n    }))\r\n\r\n  const artImport = new Promise(res =>\r\n    Promise.resolve(ArtifactDataImport).then(() => {\r\n      addConditional(ArtifactData, \"artifact\")\r\n      //attach metadata prop setNumKey to the conditional\r\n      Object.values(ArtifactData).forEach(setObj =>\r\n        Object.entries(setObj.setEffects).forEach(([setNumKey, setNumObj]) => {\r\n          if (setNumObj.conditional) setNumObj.conditional.setNumKey = setNumKey\r\n          if (setNumObj.conditionals) Object.values(setNumObj.conditionals).forEach(c => c.setNumKey = setNumKey)\r\n        }))\r\n      res()\r\n    }))\r\n\r\n  const weaponImport = new Promise(res =>\r\n    Promise.resolve(WeaponDataImport).then(() => {\r\n      addConditional(WeaponData, \"weapon\")\r\n      res()\r\n    }))\r\n\r\n  Promise.all([charImport, artImport, weaponImport]).then(resolve)\r\n})\r\n\r\nexport default class Conditional {\r\n  constructor() { if (this instanceof Conditional) throw Error('A static class cannot be instantiated.'); }\r\n  static processed = processed\r\n  static conditionals = { artifact: {}, character: {}, weapon: {} } //where all the conditionals are stored\r\n  static canShow = (conditional, stats) => conditional?.canShow(stats)\r\n  static resolve = (conditional, stats, conditionalValue, defVal = { stats: {}, fields: [], conditionalValue: [] }) => {\r\n    if (!conditionalValue) conditionalValue = objPathValue(stats.conditionalValues, conditional.keys)\r\n    if (!conditionalValue) conditionalValue = conditional.trigger?.(stats)\r\n    const [stacks, stateKey] = (conditionalValue ?? [])\r\n    if (!stacks) return defVal\r\n    if (stateKey) {//complex format\r\n      if (conditional.states?.[stateKey]) conditional = conditional.states?.[stateKey]\r\n      else return defVal\r\n    }\r\n    let conditionalStats = conditional.stats\r\n    if (typeof conditionalStats === \"function\") conditionalStats = conditionalStats(stats)\r\n    if (conditionalStats) defVal.stats = objMultiplication(deepClone(conditionalStats), stacks)\r\n    if (conditional.fields) defVal.fields = conditional.fields\r\n    defVal.conditionalValue = conditionalValue\r\n    return defVal\r\n  }\r\n  static get = (keys, defVal = {}) => objPathValue(this.conditionals, keys) ?? defVal\r\n\r\n  //where callback is a function (conditional, conditionalValue, keys)\r\n  static parseConditionalValues = (conditionalValues, callback) => {\r\n    crawlObject(conditionalValues, [], c => Array.isArray(c), (conditionalValue, keys) => {\r\n      const conditional = this.get(keys, null)\r\n      conditionalValue && conditional && callback(conditional, conditionalValue, keys)\r\n    })\r\n  }\r\n}\r\n\r\n//general parsing of conditionals, and add it to Conditional\r\nfunction addConditional(source, key) {\r\n  function findConditionals(obj, keys, callback) {\r\n    if (keys.length > 10) return\r\n    if (obj?.conditionals) Object.entries(obj.conditionals).forEach(([condKey, conditional]) => callback(conditional, [...keys, condKey]))\r\n    else obj && typeof obj === \"object\" && Object.entries(obj).forEach(([key, val]) => findConditionals(val, [...keys, key], callback))\r\n  }\r\n  findConditionals(source, [key], (conditional, keys) => {\r\n    conditional.keys = keys\r\n    if (typeof conditional.canShow !== \"function\") conditional.canShow = () => true\r\n    if (conditional.states) {//complex format\r\n      Object.values(conditional.states).forEach(state => {\r\n        state.maxStack = state.maxStack ?? 1 //maxStack of 1 by default\r\n        state.fields?.forEach?.(fieldProcessing)\r\n      })\r\n    } else { //simple format\r\n      conditional.maxStack = conditional.maxStack ?? 1 //maxStack of 1 by default\r\n      conditional.fields?.forEach?.(fieldProcessing)\r\n    }\r\n    layeredAssignment(Conditional.conditionals, keys, conditional)\r\n  })\r\n}\r\n\r\n","let WeaponData = {}\r\nlet WeaponDataImport = import('./Weapons')\r\nWeaponDataImport.then(imp => {\r\n  WeaponData = imp.default\r\n  WeaponDataImport = null\r\n})\r\n\r\nconst WeaponLevelKeys = [\"L1\", \"L5\", \"L10\", \"L15\", \"L20\", \"L20A\", \"L25\", \"L30\", \"L35\", \"L40\", \"L40A\", \"L45\", \"L50\", \"L50A\", \"L55\", \"L60\", \"L60A\", \"L65\", \"L70\", \"L70A\", \"L75\", \"L80\", \"L80A\", \"L85\", \"L90\",]\r\nconst LevelNameData = { \"L1\": \"Lvl. 1\", \"L5\": \"Lvl. 5\", \"L10\": \"Lvl. 10\", \"L15\": \"Lvl. 15\", \"L20\": \"Lvl. 20\", \"L20A\": \"Lvl. 20/40\", \"L25\": \"Lvl. 25\", \"L30\": \"Lvl. 30\", \"L35\": \"Lvl. 35\", \"L40\": \"Lvl. 40\", \"L40A\": \"Lvl. 40/50\", \"L45\": \"Lvl. 45\", \"L50\": \"Lvl. 50\", \"L50A\": \"Lvl. 50/60\", \"L55\": \"Lvl. 55\", \"L60\": \"Lvl. 60\", \"L60A\": \"Lvl. 60/70\", \"L65\": \"Lvl. 65\", \"L70\": \"Lvl. 70\", \"L70A\": \"Lvl. 70/80\", \"L75\": \"Lvl. 75\", \"L80\": \"Lvl. 80\", \"L80A\": \"Lvl. 80/90\", \"L85\": \"Lvl. 85\", \"L90\": \"Lvl. 90\", }\r\nconst WeaponTypeData = {\r\n  sword: \"Sword\",\r\n  claymore: \"Claymore\",\r\n  catalyst: \"Catalyst\",\r\n  bow: \"Bow\",\r\n  polearm: \"Polearm\"\r\n}\r\n\r\nexport {\r\n  WeaponData,\r\n  WeaponDataImport,\r\n  WeaponLevelKeys,\r\n  LevelNameData,\r\n  WeaponTypeData\r\n}","import { clamp } from \"./Util/Util\";\r\nimport { hitTypes, hitMoves, hitElements, transformativeReactions, amplifyingReactions, transformativeReactionLevelMultipliers, crystalizeLevelMultipliers } from \"./StatConstants\"\r\n\r\nconst StatData = {\r\n  flat: { name: \"\", default: 1 },\r\n\r\n  // Character Stats\r\n  characterHP: { name: \"HP\", pretty: \"Character Base HP\", const: true },\r\n  characterDEF: { name: \"DEF\", pretty: \"Character Base DEF\", const: true },\r\n  characterATK: { name: \"ATK\", pretty: \"Character Base ATK\", const: true },\r\n  characterEle: { name: \"Character Element Key\", default: \"anemo\", const: true },\r\n  characterLevel: { name: \"Character Level\", default: 1, const: true },\r\n\r\n  // Weapon Stats\r\n  weaponATK: { name: \"Weapon ATK\", pretty: \"ATK Weapon\", const: true },\r\n\r\n  // Character & Weapon Stats\r\n  baseATK: { name: \"ATK\", pretty: \"ATK Base\", const: true }, // characterATK + weaponATK\r\n\r\n  // Weapon & Artifact Stats\r\n  hp: { name: \"HP\", pretty: \"Flat HP\" },//flat hp\r\n  hp_: { name: \"HP\", unit: \"%\", pretty: \"HP Bonus\" },\r\n  atk: { name: \"ATK\", pretty: \"Flat ATK\" },\r\n  atk_: { name: \"ATK\", unit: \"%\", pretty: \"ATK Bonus\" },\r\n  def: { name: \"DEF\", pretty: \"Flat DEF\" },\r\n  def_: { name: \"DEF\", unit: \"%\", pretty: \"DEF Bonus\" },\r\n  dmg_: { name: \"All DMG Bonus\", unit: \"%\" },\r\n\r\n  // Attack-related Character, Weapon & Artifact Stats\r\n  finalHP: { name: \"HP\", pretty: \"HP\" },\r\n  finalATK: { name: \"ATK\", pretty: \"ATK\" },\r\n  finalDEF: { name: \"DEF\", pretty: \"DEF\" },\r\n\r\n  critHit_base_multi: { name: `Crit Multiplier`, unit: \"multi\" },\r\n\r\n  eleMas: { name: \"Elemental Mastery\", },\r\n  enerRech_: { name: \"Energy Recharge\", unit: \"%\", default: 100 },\r\n  critRate_: { name: \"CRIT Rate\", unit: \"%\", default: 5 },\r\n\r\n  critDMG_: { name: \"CRIT DMG\", unit: \"%\", default: 50 },\r\n  weakspotDMG_: { name: \"Weakspot DMG\", unit: \"%\" },\r\n\r\n  // Misc. Stats\r\n  heal_: { name: \"Healing Bonus\", unit: \"%\" },\r\n  incHeal_: { name: \"Incoming Healing Bonus\", unit: \"%\" },\r\n  powShield_: { name: \"Shield Strength\", unit: \"%\" },\r\n  cdRed_: { name: \"CD Red.\", unit: \"%\" },\r\n  skillCDRed_: { name: \"Ele. Skill CD Red.\", unit: \"%\" },\r\n  burstCDRed_: { name: \"Ele. Burst CD Red.\", unit: \"%\" },\r\n  moveSPD_: { name: \"Movement SPD\", unit: \"%\" },\r\n  atkSPD_: { name: \"ATK SPD\", unit: \"%\" },\r\n  stamina: { name: \"Stamina\" },\r\n  staminaDec_: { name: \"Stamina Consumption Dec.\", unit: \"%\" },\r\n  staminaGlidingDec_: { name: \"Gliding Stamina Consumption Dec.\", unit: \"%\" },\r\n  staminaChargedDec_: { name: \"Charged Attack Stamina Consumption Dec.\", unit: \"%\" },\r\n\r\n  heal_multi: { name: \"Heal multiplier\", unit: \"multi\" },\r\n\r\n  // Reaction\r\n  transformative_level_multi: { name: \"Reaction Level Multiplier\", unit: \"multi\", const: true },\r\n  amplificative_dmg_: { name: \"Amplificative Reaction DMG Bonus\", unit: \"%\" },\r\n  transformative_dmg_: { name: \"Transformative Reaction DMG Bonus\", unit: \"%\" },\r\n  crystalize_eleMas_: { name: \"Crystalize Bonus (Elemental Mastery)\", unit: \"%\", variant: \"crystalize\" },\r\n  crystalize_multi: { name: \"Crystalize Multiplier\", unit: \"multi\", const: true, variant: \"crystalize\" },\r\n  crystalize_dmg_: { name: \"Crystalize Bonus\", unit: \"%\", variant: \"crystalize\" },\r\n  crystalize_hit: { name: \"Crystalize Shield HP\", variant: \"crystalize\" },\r\n  burning_dmg_: { name: \"Burning DMG Bonus\", variant: \"burning\" },\r\n\r\n  // Enemy\r\n  enemyLevel: { name: \"Enemy Level\", const: true },\r\n  enemyLevel_multi: { name: \"Enemy Level RES Multiplier\", unit: \"multi\", const: true },\r\n  enemyDEFRed_: { name: \"Enemy DEF Reduction\", unit: \"%\", const: true },\r\n\r\n  //infusion\r\n  infusionSelf: { name: \"Elemental Infusion\", const: true, default: \"\" }\r\n}\r\nconst Formulas = {\r\n  // Basic Stats\r\n  baseATK: (s, c) => c.characterATK + c.weaponATK,\r\n  finalATK: (s, c) => c.baseATK * (1 + s.atk_ / 100) + s.atk,\r\n  finalHP: (s, c) => c.characterHP * (1 + s.hp_ / 100) + s.hp,\r\n  finalDEF: (s, c) => c.characterDEF * (1 + s.def_ / 100) + s.def,\r\n\r\n  critHit_base_multi: (s) => (1 + s.critDMG_ / 100),\r\n\r\n  enemyLevel_multi: (s, c) => (100 + c.characterLevel) / ((100 + c.characterLevel) + (100 + c.enemyLevel) * (1 - c.enemyDEFRed_ / 100)),\r\n\r\n  heal_multi: (s) => (1 + s.heal_ / 100 + s.incHeal_ / 100),\r\n\r\n  // Reactions\r\n  transformative_level_multi: (s, c) => transformativeReactionLevelMultipliers[c.characterLevel],\r\n  amplificative_dmg_: (s) => 2500 / 9 * s.eleMas / (1400 + s.eleMas),\r\n  transformative_dmg_: (s) => 6000 / 9 * s.eleMas / (1400 + s.eleMas),\r\n\r\n  crystalize_eleMas_: (s) => 4000 / 9 * s.eleMas / (1400 + s.eleMas),\r\n  crystalize_multi: (s, c) => crystalizeLevelMultipliers[c.characterLevel],\r\n  crystalize_hit: (s, c) => (100 + s.crystalize_dmg_ + s.crystalize_eleMas_) / 100 * c.crystalize_multi,\r\n}\r\n\r\nconst ElementToReactionKeys = {\r\n  physical: [],\r\n  anemo: [\"electro_swirl_hit\", \"pyro_swirl_hit\", \"cryo_swirl_hit\", \"hydro_swirl_hit\"],\r\n  geo: [\"crystalize_hit\", \"shattered_hit\"],\r\n  electro: [\"overloaded_hit\", \"electrocharged_hit\", \"superconduct_hit\"],\r\n  hydro: [\"electrocharged_hit\", \"shattered_hit\"],//\"hydro_vaporize_multi\",\r\n  pyro: [\"overloaded_hit\"],// \"burning_hit\",\"pyro_vaporize_multi\", \"pyro_melt_multi\", \r\n  cryo: [\"shattered_hit\", \"superconduct_hit\"],//\"cryo_melt_multi\", \r\n  dendro: []\r\n}\r\nfunction resMultiplier(res) {\r\n  res = res / 100\r\n  if (res < 0) return 1 - res / 2\r\n  else if (res >= 0.75) return 1 / (res * 4 + 1)\r\n  return 1 - res\r\n}\r\n\r\nObject.entries(hitMoves).forEach(([move, moveName]) => {\r\n  StatData[`${move}_dmg_`] = { name: `${moveName} DMG Bonus`, unit: \"%\" }\r\n  StatData[`${move}_critRate_`] = { name: `${moveName} CRIT Rate Bonus`, unit: \"%\" }\r\n  StatData[`final_${move}_critRate_`] = { name: `${moveName} CRIT Rate`, unit: \"%\" }\r\n\r\n  Formulas[`final_${move}_critRate_`] = (s) => clamp(s.critRate_ + s[`${move}_critRate_`], 0, 100)\r\n})\r\n\r\nObject.entries(hitElements).forEach(([ele, { name: eleName }]) => {\r\n  const opt = { variant: ele }\r\n  // DONT CHANGE. needed for screenshot parsing\r\n  StatData[`${ele}_dmg_`] = { name: `${eleName} DMG Bonus`, unit: \"%\", ...opt }\r\n  StatData[`${ele}_res_`] = { name: `${eleName} DMG RES`, unit: \"%\", ...opt }\r\n\r\n  StatData[`${ele}_enemyRes_`] = { name: `Enemy ${eleName} DMG RES`, unit: \"%\", default: 10, const: true, ...opt }\r\n  StatData[`${ele}_enemyImmunity`] = { name: `Enemy ${eleName} Immunity`, default: false, const: true, ...opt }\r\n\r\n  StatData[`${ele}_enemyRes_multi`] = { name: `Enemy ${eleName} RES Multiplier`, unit: \"multi\", const: true, ...opt }\r\n  StatData[`${ele}_bonus_multi`] = { name: `${eleName} Attack Bonus DMG Multiplier`, unit: \"multi\", ...opt }\r\n\r\n  Formulas[`${ele}_enemyRes_multi`] = (s, c) => c[`${ele}_enemyImmunity`] ? 0 : resMultiplier(c[`${ele}_enemyRes_`])\r\n})\r\n\r\nObject.entries(hitMoves).forEach(([move, moveName]) => {\r\n  StatData[`${move}_avgHit_base_multi`] = { name: `${moveName} Avg. Multiplier`, unit: \"multi\" }\r\n  Formulas[`${move}_avgHit_base_multi`] = (s) => (1 + s.critDMG_ * s[`final_${move}_critRate_`] / 10000)\r\n  Object.entries(hitElements).forEach(([ele, { name: eleName }]) => {\r\n    const opt = { variant: ele }\r\n    StatData[`${ele}_${move}_hit_base_multi`] = { name: `${moveName} Base Multiplier`, unit: \"multi\", ...opt }\r\n    Formulas[`${ele}_${move}_hit_base_multi`] = (s, c) => (100 + s.dmg_ + s[`${ele}_dmg_`] + s[`${move}_dmg_`]) / 100\r\n    Object.entries(hitTypes).forEach(([type, typeName]) => {\r\n      StatData[`${ele}_${move}_${type}`] = { name: `${moveName} ${typeName}`, ...opt }\r\n      Formulas[`${ele}_${move}_${type}`] = (s) => s.finalATK * s[`${ele}_${move}_${type}_multi`]\r\n      StatData[`${ele}_${move}_${type}_multi`] = { name: `${moveName} ${typeName} Multiplier`, unit: \"multi\", ...opt }\r\n    })\r\n\r\n    Formulas[`${ele}_${move}_hit_multi`] = (s, c) => s[`${ele}_${move}_hit_base_multi`] * c.enemyLevel_multi * c[`${ele}_enemyRes_multi`]\r\n    Formulas[`${ele}_${move}_critHit_multi`] = (s) => s[`${ele}_${move}_hit_multi`] * s[`critHit_base_multi`]\r\n    Formulas[`${ele}_${move}_avgHit_multi`] = (s) => s[`${ele}_${move}_hit_multi`] * s[`${move}_avgHit_base_multi`]\r\n  })\r\n})\r\n\r\nObject.entries(transformativeReactions).forEach(([reaction, { name, multi, variants }]) => {\r\n  const opt = { variant: reaction }\r\n  StatData[`${reaction}_dmg_`] = { name: `${name} DMG Bonus`, unit: \"%\", ...opt }\r\n  StatData[`${reaction}_multi`] = { name: `${name} Multiplier`, unit: \"multi\", const: true, ...opt }\r\n  Formulas[`${reaction}_multi`] = (s, c) => multi * c.transformative_level_multi\r\n  if (variants.length === 1) {\r\n    const [ele] = variants, opt = { variant: reaction }\r\n    StatData[`${reaction}_hit`] = { name: `${name} DMG`, ...opt }\r\n    Formulas[`${reaction}_hit`] = (s, c) => (100 + s.transformative_dmg_ + s[`${reaction}_dmg_`]) / 100 * c[`${reaction}_multi`] * c[`${ele}_enemyRes_multi`]\r\n  } else {\r\n    variants.forEach(ele => {\r\n      const opt = { variant: ele }\r\n\r\n      StatData[`${ele}_${reaction}_hit`] = { name: `${hitElements[ele].name} ${name} DMG`, ...opt }\r\n      Formulas[`${ele}_${reaction}_hit`] = (s, c) => (100 + s.transformative_dmg_ + s[`${reaction}_dmg_`]) / 100 * c[`${reaction}_multi`] * c[`${ele}_enemyRes_multi`]\r\n    })\r\n  }\r\n})\r\n\r\nObject.entries(amplifyingReactions).forEach(([reaction, { name, variants }]) => {\r\n  const opt = { variant: reaction }\r\n  StatData[`${reaction}_dmg_`] = { name: `${name} DMG Bonus`, unit: \"%\", ...opt }\r\n  Object.entries(variants).forEach(([ele, baseMulti]) => {\r\n    StatData[`${ele}_${reaction}_multi`] = { name: `${name} Multiplier`, unit: \"multi\", ...opt }\r\n    Formulas[`${ele}_${reaction}_multi`] = (s) => baseMulti * (100 + s.amplificative_dmg_ + s[`${reaction}_dmg_`]) / 100\r\n    Object.entries(hitTypes).forEach(([type, typeName]) => {\r\n      Object.entries(hitMoves).forEach(([move, moveName]) => {\r\n        StatData[`${ele}_${reaction}_${move}_${type}_multi`] = { name: `${name} ${moveName} ${typeName} Multiplier`, unit: \"multi\", ...opt }\r\n        StatData[`${ele}_${reaction}_${move}_${type}`] = { name: `${name} ${moveName} ${typeName}`, ...opt }\r\n\r\n        Formulas[`${ele}_${reaction}_${move}_${type}_multi`] = (s) => s[`${ele}_${move}_${type}_multi`] * s[`${ele}_${reaction}_multi`]\r\n        Formulas[`${ele}_${reaction}_${move}_${type}`] = (s) => s.finalATK * s[`${ele}_${reaction}_${move}_${type}_multi`]\r\n      })\r\n    })\r\n  })\r\n})\r\nif (process.env.NODE_ENV === \"development\") console.log(StatData)\r\n\r\n//assume all the dependency for the modifiers are part of the dependencyKeys as well\r\nfunction PreprocessFormulas(dependencyKeys, stats, debug = false) {\r\n  const { modifiers = {} } = stats, initialStats = {}, constData = {}\r\n  const formulaList = dependencyKeys.map(key => {\r\n    const modifier = modifiers[key] ?? {}\r\n    const constModifier = Object.entries(modifier).filter(([k]) => StatData[k]?.const)\r\n    const dynamicModifier = Object.entries(modifier).filter(([k]) => !(StatData[k]?.const))\r\n    const constFunc = (s, c) => constModifier.reduce((accu, [k, m]) => accu + c[k] * m, 0)\r\n    const dynamicFunc = (s) => dynamicModifier.reduce((accu, [k, m]) => accu + s[k] * m, 0)\r\n\r\n    let funcIndicator = 0\r\n    if (constModifier.length) funcIndicator += 1\r\n    if (dynamicModifier.length) funcIndicator += 2\r\n    if (!Formulas[key]) funcIndicator += StatData[key]?.const ? 4 : 8\r\n\r\n    let tmp\r\n    switch (funcIndicator) {\r\n      case 0: tmp = Formulas[key]; break\r\n      case 1: tmp = (s, c) => Formulas[key](s, c) + constFunc(s, c); break\r\n      case 2: tmp = (s, c) => Formulas[key](s, c) + dynamicFunc(s, c); break\r\n      case 3: tmp = (s, c) => Formulas[key](s, c) + constFunc(s, c) + dynamicFunc(s, c); break\r\n      case 4: tmp = (s, c) => c[key]; break\r\n      case 5: tmp = (s, c) => c[key] + constFunc(s, c); break\r\n      case 6: tmp = (s, c) => c[key] + dynamicFunc(s, c); break\r\n      case 7: tmp = (s, c) => c[key] + constFunc(s, c) + dynamicFunc(s, c); break\r\n      case 8: tmp = (s, c) => s[key]; break\r\n      case 9: tmp = (s, c) => s[key] + constFunc(s, c); break\r\n      case 10: tmp = (s, c) => s[key] + dynamicFunc(s, c); break\r\n      default: tmp = (s, c) => s[key] + constFunc(s, c) + dynamicFunc(s, c); break\r\n    }\r\n    const func = tmp\r\n\r\n    if (debug) console.log(StatData[key]?.const ? \"Const\" : \"Dynamic\", key, constModifier, dynamicModifier, \"\" + Formulas[key])\r\n\r\n    if (!(key in Formulas))\r\n      stats[key] = stats[key] ?? StatData[key]?.default ?? 0\r\n\r\n    if (StatData[key]?.const) {\r\n      constData[key] = stats[key]\r\n      constData[key] = func(stats, constData)\r\n      stats[key] = constData[key]\r\n      if (dynamicModifier.length)\r\n        console.error(`Constant key ${key} depends on a dynamic modifer ${dynamicModifier}. The result will be incorrect.`)\r\n      return null\r\n    }\r\n\r\n    if (!(key in Formulas))\r\n      initialStats[key] = stats[key]\r\n\r\n    return [key, func]\r\n  }).filter((func) => func)\r\n\r\n  if (debug) console.log(initialStats, constData)\r\n\r\n  return {\r\n    initialStats,\r\n    formula: s => {\r\n      formulaList.forEach(([key, formula]) => s[key] = formula(s, constData))\r\n      // TODO: we shouldn't need to copy *all* constData, only ones that are targets.\r\n      Object.assign(s, constData)\r\n    }\r\n  }\r\n}\r\n\r\nexport {\r\n  Formulas,\r\n  StatData,\r\n  ElementToReactionKeys,\r\n  PreprocessFormulas,\r\n}\r\n","import { LevelNameData, WeaponData, WeaponDataImport, WeaponLevelKeys, WeaponTypeData } from '../Data/WeaponData.js';\r\nexport default class Weapon {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Weapon) throw Error('A static class cannot be instantiated.'); }\r\n\r\n  static getWeaponDataImport = () => WeaponDataImport\r\n  static getLevelName = (levelKey, defVal = \"\") => (LevelNameData[levelKey] || defVal)\r\n  static getLevelIndex = (levelKey) => WeaponLevelKeys.indexOf(levelKey)\r\n\r\n  static getWeaponName = (weaponKey, defVal = \"\") => (WeaponData[weaponKey]?.name || defVal)\r\n  static getWeaponRarity = (weaponKey, defVal = 0) => (WeaponData[weaponKey]?.rarity || defVal)\r\n  static getWeaponPassiveName = (weaponKey, defVal = \"\") => (WeaponData[weaponKey]?.passiveName || defVal)\r\n  static getWeaponPassiveDescription = (weaponKey, charFinalStats, defVal = \"\") => (WeaponData[weaponKey]?.passiveDescription?.(charFinalStats) || defVal)\r\n  static getWeaponDescription = (weaponKey, defVal = \"\") => (WeaponData[weaponKey]?.description || defVal)\r\n  static getWeaponConditional = (weaponKey, defVal = null) => (WeaponData[weaponKey]?.conditional || defVal)\r\n  static getWeaponImg = (weaponKey, defVal = null) => WeaponData[weaponKey]?.img || defVal\r\n\r\n  //base Stat\r\n  static getWeaponMainStatVal = (weaponKey, levelKey, defVal = 0) => (WeaponData[weaponKey]?.baseStats?.main?.[this.getLevelIndex(levelKey)] || defVal)\r\n  static getWeaponSubStatVal = (weaponKey, levelKey, defVal = 0) => (WeaponData[weaponKey]?.baseStats?.sub?.[this.getLevelIndex(levelKey)] || defVal)\r\n  static getWeaponSubStatKey = (weaponKey, defVal = \"\") => (WeaponData[weaponKey]?.baseStats?.subStatKey || defVal)\r\n  static getWeaponBonusStat = (weaponKey, stats, defVal = {}) => WeaponData[weaponKey]?.stats?.(stats) ?? WeaponData[weaponKey]?.stats ?? defVal\r\n\r\n  static getWeaponsOfType = (weaponType) => Object.fromEntries(Object.entries(WeaponData).filter(([key, weaponObj]) => weaponObj.weaponType === weaponType))\r\n  static getWeaponTypeName = (weaponType, defVal = \"\") => (WeaponTypeData[weaponType] || defVal)\r\n  static getWeaponTypeKeys = () => Object.keys(WeaponTypeData)\r\n\r\n  static getWeaponMainStatValWithOverride = (weaponObj, defVal = 0) =>\r\n    weaponObj?.overrideMainVal || this.getWeaponMainStatVal(weaponObj?.key, weaponObj?.levelKey, defVal);\r\n  static getWeaponSubStatValWithOverride = (weaponObj, defVal = 0) =>\r\n    weaponObj?.overrideSubVal || this.getWeaponSubStatVal(weaponObj?.key, weaponObj?.levelKey, defVal);\r\n}","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useContext, useMemo } from 'react';\r\nimport { ListGroup, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport Character from \"../../Character\";\r\nimport { compareAgainstEquippedContext } from \"../../CharacterDisplayCard\";\r\n\r\nexport default function FieldDisplay({ field, index, equippedBuild, newBuild, className = \"p-2\" }) {\r\n  const compareAgainstEquipped = useContext(compareAgainstEquippedContext)\r\n  const stats = newBuild ? newBuild : equippedBuild\r\n  const canShow = useMemo(() => field.canShow(stats), [field, stats])\r\n  const fixedVal = field?.fixed || 0\r\n  const fieldVal = useMemo(() => {\r\n    if (field.value) return Character.getTalentFieldValue(field, \"value\", stats)\r\n    else if (field.formula) {\r\n      let retVal = Character.getTalentFieldValue(field, \"formula\", stats)?.[0]?.(stats)\r\n      //compareAgainstEquipped\r\n      if (compareAgainstEquipped && equippedBuild && typeof retVal === \"number\") {\r\n        let fieldEquippedVal = field.value ? field.value : field.formula?.(equippedBuild)?.[0]?.(equippedBuild)\r\n        if (typeof fieldEquippedVal === \"function\")\r\n          fieldEquippedVal = parseInt(fieldEquippedVal?.(equippedBuild)?.toFixed?.(fixedVal))\r\n        let diff = retVal - fieldEquippedVal\r\n        retVal = <span>{fieldEquippedVal?.toFixed(fixedVal) ?? fieldEquippedVal}{diff ? <span className={diff > 0 ? \"text-success\" : \"text-danger\"}> ({diff > 0 ? \"+\" : \"\"}{diff?.toFixed?.(fixedVal) || diff})</span> : \"\"}</span>\r\n      }\r\n      return retVal\r\n    }\r\n  }, [compareAgainstEquipped, fixedVal, equippedBuild, field, stats])\r\n\r\n  const fieldText = useMemo(() => Character.getTalentFieldValue(field, \"text\", stats), [field, stats])\r\n  const fieldVariant = useMemo(() => Character.getTalentFieldValue(field, \"variant\", stats), [field, stats])\r\n\r\n  const formulaTextOverlay = useMemo(() => {\r\n    const fieldFormulaText = Character.getTalentFieldValue(field, \"formulaText\", stats)\r\n    return fieldFormulaText ? <OverlayTrigger\r\n      placement=\"top\"\r\n      overlay={<Tooltip>{fieldFormulaText}</Tooltip>}\r\n    >\r\n      <FontAwesomeIcon icon={faQuestionCircle} className=\"ml-2\" style={{ cursor: \"help\" }} />\r\n    </OverlayTrigger> : null\r\n  }, [field, stats])\r\n\r\n  const unit = useMemo(() => Character.getTalentFieldValue(field, \"unit\", stats), [field, stats])\r\n\r\n  if (!canShow) return null\r\n  return <ListGroup.Item variant={index % 2 ? \"customdark\" : \"customdarker\"} className={className}>\r\n    <span><b>{fieldText}</b>{formulaTextOverlay}</span>\r\n    <span className={`float-right text-right text-${fieldVariant}`} >{fieldVal?.toFixed?.(fixedVal) ?? fieldVal}{unit}</span>\r\n  </ListGroup.Item>\r\n}\r\n","import { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst StarIcon = () => <FontAwesomeIcon icon={faStar} />\r\nconst Stars = ({ stars, colored = false }) => <span className={colored ? \"text-5star\" : \"\"}>\r\n  {stars ? [...Array(stars).keys()].map((_, i) => <StarIcon key={i} />) : null}\r\n</span>\r\n\r\nexport {\r\n  StarIcon,\r\n  Stars\r\n}\r\n","import { faDice, faDiceD20, faFirstAid, faFistRaised, faMagic, faShieldAlt, faSync, faTint } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst StatIcon = {\r\n  characterHP: faTint,\r\n  finalHP: faTint,\r\n  hp_: faTint,\r\n  hp: faTint,\r\n\r\n  baseATK: faFistRaised,\r\n  characterATK: faFistRaised,\r\n  finalATK: faFistRaised,\r\n  atk_: faFistRaised,\r\n  atk: faFistRaised,\r\n\r\n  characterDEF: faShieldAlt,\r\n  finalDEF: faShieldAlt,\r\n  def_: faShieldAlt,\r\n  def: faShieldAlt,\r\n\r\n  eleMas: faMagic,\r\n  critRate_: faDice,\r\n  critDMG_: faDiceD20,\r\n  enerRech_: faSync,\r\n  heal_: faFirstAid,\r\n}\r\n\r\nconst StatIconEle = (statKey) =>\r\n  StatIcon[statKey] ? <FontAwesomeIcon icon={StatIcon[statKey]} className=\"fa-fw\" /> : null\r\n\r\nexport default StatIcon\r\n\r\nexport {\r\n  StatIconEle\r\n}","import React, { useCallback, useEffect, useState } from 'react'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\n\r\nexport default function CustomFormControl({ value, onChange, disabled, float = false, placeholder, allowEmpty = false }) {\r\n  const [state, setstate] = useState(value ?? \"\")\r\n  const [stateDirty, setstateDirty] = useState({})\r\n  const sendChange = useCallback(\r\n    () => {\r\n      setstateDirty({})\r\n      if (allowEmpty && state === \"\") return onChange(null)\r\n      if (state === \"\") setstate(0)\r\n      const parseFunc = float ? parseFloat : parseInt\r\n      onChange(parseFunc(state) || 0)\r\n    },\r\n    [onChange, state, float, allowEmpty],\r\n  )\r\n  useEffect(() => setstate(value ?? \"\"), [value, setstate, stateDirty])//update value on value change\r\n\r\n  return <FormControl\r\n    value={state}\r\n    aria-label=\"custom-input\"\r\n    className=\"hide-appearance\"\r\n    type=\"number\"\r\n    placeholder={placeholder}\r\n    onChange={e => setstate(e.target.value)}\r\n    onBlur={sendChange}\r\n    disabled={disabled}\r\n    onKeyDown={e => e.key === \"Enter\" && sendChange()}\r\n  />\r\n}","import { crawlObject, objPathValue } from './Util/Util';\r\nexport let CharacterFormulaImport = import('./Data/Characters/formula')\r\nCharacterFormulaImport.then(imp => {\r\n  addFormula(imp.default, \"character\")\r\n  CharacterFormulaImport = null\r\n})\r\nexport default class Formula {\r\n  constructor() { if (this instanceof Formula) throw Error('A static class cannot be instantiated.'); }\r\n  static formulas = {}\r\n  static get = (keys, defVal = null) => objPathValue(this.formulas, keys) ?? defVal\r\n}\r\n\r\nfunction addFormula(src, key) {\r\n  Formula.formulas[key] = src\r\n  crawlObject(src, [key], f => typeof f === \"function\", (formula, keys) => {\r\n    formula.keys = keys\r\n  })\r\n}\r\n","let CharacterData = {}\r\nlet CharacterDataImport = import('./Characters')\r\nCharacterDataImport.then(imp => {\r\n  CharacterData = imp.default\r\n  CharacterDataImport = null\r\n})\r\n// import characters from \r\nconst LevelsData = {\r\n  \"L1\": {\r\n    name: \"Lv. 1\",\r\n    level: 1,\r\n    asend: 0\r\n  },\r\n  \"L20\": {\r\n    name: \"Lv. 20\",\r\n    level: 20,\r\n    asend: 0\r\n  },\r\n  \"L20A\": {\r\n    name: \"Lv. 20/40\",\r\n    level: 20,\r\n    asend: 1\r\n\r\n  },\r\n  \"L40\": {\r\n    name: \"Lv. 40\",\r\n    level: 40,\r\n    asend: 1\r\n  },\r\n  \"L40A\": {\r\n    name: \"Lv. 40/50\",\r\n    level: 40,\r\n    asend: 2\r\n  },\r\n\r\n  \"L50\": {\r\n    name: \"Lv. 50\",\r\n    level: 50,\r\n    asend: 2\r\n  },\r\n  \"L50A\": {\r\n    name: \"Lv. 50/60\",\r\n    level: 50,\r\n    asend: 3\r\n  },\r\n  \"L60\": {\r\n    name: \"Lv. 60\",\r\n    level: 60,\r\n    asend: 3\r\n  },\r\n  \"L60A\": {\r\n    name: \"Lv. 60/70\",\r\n    level: 60,\r\n    asend: 4\r\n  },\r\n  \"L70\": {\r\n    name: \"Lv. 70\",\r\n    level: 70,\r\n    asend: 4\r\n  },\r\n  \"L70A\": {\r\n    name: \"Lv. 70/80\",\r\n    level: 70,\r\n    asend: 5\r\n  },\r\n\r\n  \"L80\": {\r\n    name: \"Lv. 80\",\r\n    level: 80,\r\n    asend: 5\r\n  },\r\n  \"L80A\": {\r\n    name: \"Lv. 80/90\",\r\n    level: 80,\r\n    asend: 6\r\n  },\r\n  \"L90\": {\r\n    name: \"Lv. 90\",\r\n    level: 90,\r\n    asend: 6\r\n  }\r\n\r\n}\r\nconst characterStatBase = {\r\n  critRate_: 5,\r\n  critDMG_: 50,\r\n  enerRech_: 100,\r\n  stamina: 100\r\n}\r\nconst CharacterSpecializedStatKey = [\"hp_\", \"atk_\", \"def_\", \"eleMas\", \"enerRech_\", \"heal_\", \"critRate_\", \"critDMG_\", \"physical_dmg_\", \"anemo_dmg_\", \"geo_dmg_\", \"electro_dmg_\", \"hydro_dmg_\", \"pyro_dmg_\", \"cryo_dmg_\"]\r\n\r\nexport {\r\n  LevelsData,\r\n  characterStatBase,\r\n  CharacterData,\r\n  CharacterDataImport,\r\n  CharacterSpecializedStatKey\r\n}","import { faCheckSquare, faSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport Badge from 'react-bootstrap/Badge'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\n\r\nexport default function ConditionalSelector({ conditional, conditionalValue, setConditional, name, disabled }) {\r\n  const [conditionalNum=0, conditionalStateKey] = conditionalValue\r\n  if (!conditional) return name\r\n  if (conditional.states) {//complex conditional \r\n    const state = conditional.states[conditionalStateKey] ?? {}\r\n    const text = conditionalNum === 0 ? \"Not Active\" : <span>{state.name} {(state.maxStack > 1 ? (`: ${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}`) : \"\")}</span>\r\n    const badge = <Badge variant={conditionalNum === 0 ? \"secondary\" : \"success\"}>{text}</Badge>\r\n    return <Dropdown>\r\n      <Dropdown.Toggle size=\"sm\" disabled={disabled}>\r\n        <h6 className=\"mb-0 d-inline\" style={{ whiteSpace: \"normal\" }}>{name} {badge}</h6>\r\n      </Dropdown.Toggle>\r\n      <Dropdown.Menu>\r\n        <Dropdown.Item onClick={() => setConditional([0])}>\r\n          <span>Not Active</span>\r\n        </Dropdown.Item>\r\n        {Object.entries(conditional.states).map(([stateKey, condial], i) =>\r\n          <React.Fragment key={i}>\r\n            {[...Array(condial.maxStack).keys()].map(v => v + 1).map((stack, i) =>\r\n              <Dropdown.Item key={stateKey + i} onClick={() => setConditional([stack, stateKey])}>\r\n                {condial.name}{condial.maxStack > 1 ? `: ${stack} stack${stack > 1 ? \"s\" : \"\"}` : \"\"}\r\n              </Dropdown.Item>)}\r\n          </React.Fragment>\r\n        )}\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  } else if (conditional.maxStack > 1) {\r\n    //stacking conditional\r\n    const badge = <Badge variant={conditionalNum === 0 ? \"secondary\" : \"success\"}>{conditionalNum > 0 ? `${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}` : \"Not Active\"}</Badge>\r\n    return <Dropdown>\r\n      <Dropdown.Toggle size=\"sm\" disabled={disabled}>\r\n        <h6 className=\"mb-0 d-inline\" style={{ whiteSpace: \"normal\" }}>{name} {badge}</h6>\r\n      </Dropdown.Toggle>\r\n      <Dropdown.Menu>\r\n        <Dropdown.Item onClick={() => setConditional([0])}>\r\n          <span>Not Active</span>\r\n        </Dropdown.Item>\r\n        {[...Array(conditional.maxStack).keys()].map(v => v + 1).map(stack =>\r\n          <Dropdown.Item key={stack} onClick={() => setConditional([stack])}>\r\n            {`${stack} stack${stack > 1 ? \"s\" : \"\"}`}\r\n          </Dropdown.Item>)}\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  } else if (conditional.maxStack === 1) {//single boolean conditional\r\n    return <Button size=\"sm\" onClick={() => setConditional([conditionalNum ? 0 : 1])} disabled={disabled}>\r\n      <h6 className=\"mb-0\"><FontAwesomeIcon icon={conditionalNum ? faCheckSquare : faSquare} /> {name}</h6>\r\n    </Button>\r\n  }\r\n}","import { useCallback, useMemo } from \"react\"\r\nimport { Card, ListGroup } from \"react-bootstrap\"\r\nimport Conditional from \"../../../Conditional/Conditional\"\r\nimport ConditionalSelector from \"../../../Conditional/ConditionalSelector\"\r\nimport statsToFields from \"../../../Util/FieldUtil\"\r\nimport { deletePropPath, layeredAssignment, objClearEmpties } from \"../../../Util/Util\"\r\nimport FieldDisplay from \"./FieldDisplay\"\r\n\r\nexport default function ConditionalDisplay({ conditional, equippedBuild, newBuild, characterDispatch, editable, fieldClassName }) {\r\n  const stats = newBuild ? newBuild : equippedBuild\r\n  const canShow = useMemo(() => Conditional.canShow(conditional, stats), [conditional, stats])\r\n  const { stats: conditionalStats = {}, fields: conditionalFields = [], conditionalValue } = useMemo(() => canShow && Conditional.resolve(conditional, stats), [canShow, conditional, stats])\r\n  const displayFields = useMemo(() => canShow && [...statsToFields(conditionalStats, stats), ...conditionalFields], [canShow, conditionalStats, stats, conditionalFields])\r\n  const setConditional = useCallback(condV => {\r\n    const [conditionalNum = 0] = condV\r\n    if (!conditionalNum) {\r\n      deletePropPath(stats.conditionalValues, conditional.keys)\r\n      objClearEmpties(stats.conditionalValues)\r\n    } else layeredAssignment(stats.conditionalValues, conditional.keys, condV)\r\n    characterDispatch({ conditionalValues: stats.conditionalValues })\r\n  }, [stats.conditionalValues, conditional.keys, characterDispatch])\r\n\r\n  if (!canShow) return null\r\n  return <Card bg=\"darkcontent\" text=\"lightfont\" className=\"mb-2 w-100\">\r\n    <Card.Header className=\"p-2\">\r\n      <ConditionalSelector disabled={!editable}\r\n        conditional={conditional}\r\n        conditionalValue={conditionalValue}\r\n        setConditional={setConditional}\r\n        name={conditional.name} />\r\n    </Card.Header>\r\n    <ListGroup className=\"text-white\" variant=\"flush\">\r\n      {displayFields.map((field, i) => <FieldDisplay key={i} index={i} {...{ field, equippedBuild, newBuild, className: fieldClassName }} />)}\r\n    </ListGroup>\r\n  </Card>\r\n}","import { Formulas, StatData } from \"./StatData\"\r\n\r\n//generate a statKey dependency, to reduce build generation calculation on a single stat.\r\nfunction GetFormulaDependency(formula) {\r\n  const dependency = new Set()\r\n  formula(\r\n    new Proxy({}, { get: (target, prop, receiver) => { dependency.add(prop) } }),\r\n    new Proxy({}, { get: (target, prop, receiver) => { dependency.add(prop) } }))\r\n  return [...dependency]\r\n}\r\nconst formulaKeyDependency = Object.freeze(Object.fromEntries(\r\n  Object.keys(Formulas).map(key => [key, GetFormulaDependency(Formulas[key])])\r\n))\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  let statKeys = Object.keys(StatData)\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    dependencies.forEach(key =>\r\n      !statKeys.includes(key) &&\r\n        console.error(`Formula ${formulaKey} depends key ${key} that does not Exist in StatData.`))\r\n  )\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    StatData[formulaKey]?.const && dependencies.forEach(key => \r\n      !StatData[key]?.const &&\r\n        console.error(`Constant formula ${formulaKey} depends on dynamic key ${key}.`)\r\n    )\r\n  )\r\n}\r\n\r\nfunction GetDependencies(modifiers = {}, keys = Object.keys(StatData)) {\r\n  let dependencies = new Set()\r\n  keys.forEach(key => InsertDependencies(key, modifiers, dependencies))\r\n  return [...dependencies]\r\n}\r\nfunction InsertDependencies(key, modifiers, dependencies) {\r\n  if (dependencies.has(key)) return\r\n  formulaKeyDependency[key]?.forEach(k => InsertDependencies(k, modifiers, dependencies))\r\n  Object.keys(modifiers[key] ?? {}).forEach(k => InsertDependencies(k, modifiers, dependencies))\r\n  dependencies.add(key)\r\n}\r\n\r\n//if the optimizationTarget is in the form of {dmg:0.6}, it can be reduced to \"dmg\" for the purpose to build generation.\r\nconst reduceOptimizationTarget = (optimizationTarget) =>\r\n  (typeof optimizationTarget === \"object\" && Object.keys(optimizationTarget).length === 1 && typeof optimizationTarget[Object.keys(optimizationTarget)[0]] === \"number\") ? Object.keys(optimizationTarget)[0] : optimizationTarget\r\n\r\n\r\nexport {\r\n  GetFormulaDependency,\r\n  GetDependencies,\r\n  reduceOptimizationTarget,\r\n}\r\n","import { useCallback, useState } from \"react\"\r\n\r\nexport function useForceUpdate() {\r\n  const [, update] = useState()\r\n  const forceUpdateHook = useCallback(() => update({}), [])\r\n  return forceUpdateHook\r\n}","import { getArrLastElement } from '../Util/Util';\r\nimport ElementalData from './ElementalData';\r\nlet ArtifactData = {}\r\nlet ArtifactDataImport = import('./Artifacts')\r\nArtifactDataImport.then(imp => {\r\n  ArtifactData = imp.default\r\n  ArtifactDataImport = null\r\n})\r\nconst ArtifactMainSlotKeys = [\r\n  \"hp\", \"hp_\", \"atk\", \"atk_\", \"def\", \"def_\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"heal_\",\r\n]\r\nObject.keys(ElementalData).forEach(key => ArtifactMainSlotKeys.push(`${key}_dmg_`))\r\n\r\nconst ArtifactStarsData = {\r\n  // 1: { subsBaselow: 0, subBaseHigh: 0, numUpgradesOrUnlocks: 1 },\r\n  // 2: { subsBaselow: 0, subBaseHigh: 1, numUpgradesOrUnlocks: 2 },\r\n  3: { subsBaselow: 1, subBaseHigh: 2, numUpgradesOrUnlocks: 3 },\r\n  4: { subsBaselow: 2, subBaseHigh: 3, numUpgradesOrUnlocks: 4 },\r\n  5: { subsBaselow: 3, subBaseHigh: 4, numUpgradesOrUnlocks: 5 }\r\n};\r\n\r\nconst ArtifactMainStatsData = {\r\n  1: {\r\n    hp: [129, 178, 227, 275, 324],\r\n    atk: [8, 12, 15, 18, 21],\r\n    hp_: [3.1, 4.3, 5.5, 6.7, 7.9],\r\n    atk_: [3.1, 4.3, 5.5, 6.7, 7.9],\r\n    def_: [3.9, 5.4, 6.9, 8.4, 9.9],\r\n    physical_dmg_: [3.9, 5.4, 6.9, 8.4, 9.9],\r\n    ele_dmg_: [3.1, 4.3, 5.5, 6.7, 7.9],\r\n    eleMas: [13, 17, 22, 27, 32],\r\n    enerRech_: [3.5, 4.8, 6.1, 7.5, 8.8],\r\n    critRate_: [2.1, 2.9, 3.7, 4.5, 5.3],\r\n    critDMG_: [4.2, 5.8, 7.4, 9.0, 10.5],\r\n    heal_: [2.4, 3.3, 4.3, 5.2, 6.1],\r\n  },\r\n  2: {\r\n    hp: [258, 331, 404, 478, 551, 624, 697, 770, 843],\r\n    atk: [17, 22, 26, 31, 36, 41, 45, 50, 55],\r\n    hp_: [4.2, 5.4, 6.6, 7.8, 9, 10.1, 11.3, 12.5, 13.7],\r\n    atk_: [4.2, 5.4, 6.6, 7.8, 9, 10.1, 11.3, 12.5, 13.7],\r\n    def_: [5.2, 6.7, 8.2, 9.7, 11.2, 12.7, 14.2, 15.6, 17.1],\r\n    physical_dmg_: [5.2, 6.7, 8.2, 9.7, 11.2, 12.7, 14.2, 15.6, 17.1],\r\n    ele_dmg_: [4.2, 5.4, 6.6, 7.8, 9, 10.1, 11.3, 12.5, 13.7],\r\n    eleMas: [17, 22, 26, 31, 36, 41, 45, 50, 55],\r\n    enerRech_: [4.7, 6, 7.3, 8.6, 9.9, 11.3, 12.6, 13.9, 15.2],\r\n    critRate_: [2.8, 3.6, 4.4, 5.2, 6, 6.8, 7.6, 8.3, 9.1],\r\n    critDMG_: [5.6, 7.2, 8.8, 10.4, 11.9, 13.5, 15.1, 16.7, 18.3],\r\n    heal_: [3.2, 4.1, 5.1, 6, 6.9, 7.8, 8.7, 9.6, 10.5],\r\n  },\r\n  3: {\r\n    hp: [430, 552, 674, 796, 918, 1040, 1162, 1283, 1405, 1527, 1649, 1771, 1893],\r\n    atk: [28, 36, 44, 52, 60, 68, 76, 84, 91, 99, 107, 115, 123],\r\n    hp_: [5.2, 6.7, 8.2, 9.7, 11.2, 12.7, 14.2, 15.6, 17.1, 18.6, 20.1, 21.6, 23.1],\r\n    atk_: [5.2, 6.7, 8.2, 9.7, 11.2, 12.7, 14.2, 15.6, 17.1, 18.6, 20.1, 21.6, 23.1],\r\n    def_: [6.6, 8.4, 10.3, 12.1, 14.0, 15.8, 17.7, 19.6, 21.4, 23.3, 25.1, 27.0, 28.8],\r\n    physical_dmg_: [6.6, 8.4, 10.3, 12.1, 14.0, 15.8, 17.7, 19.6, 21.4, 23.3, 25.1, 27.0, 28.8],\r\n    ele_dmg_: [5.2, 6.7, 8.2, 9.7, 11.2, 12.7, 14.2, 15.6, 17.1, 18.6, 20.1, 21.6, 23.1],\r\n    eleMas: [21, 27, 33, 39, 45, 51, 57, 63, 69, 75, 80, 86, 92],\r\n    enerRech_: [5.8, 7.5, 9.1, 10.8, 12.4, 14.1, 15.7, 17.4, 19.0, 20.7, 22.3, 24.0, 25.6],\r\n    critRate_: [3.5, 4.5, 5.5, 6.5, 7.5, 8.4, 9.4, 10.4, 11.4, 12.4, 13.4, 14.4, 15.4],\r\n    critDMG_: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8],\r\n    heal_: [4.0, 5.2, 6.3, 7.5, 8.6, 9.8, 10.9, 12.0, 13.2, 14.3, 15.5, 16.6, 17.8],\r\n  },\r\n  4: {\r\n    hp: [645, 828, 1011, 1194, 1377, 1559, 1742, 1925, 2108, 2291, 2474, 2657, 2839, 3022, 3205, 3388, 3571],\r\n    atk: [42, 54, 66, 78, 90, 102, 113, 125, 137, 149, 161, 173, 185, 197, 209, 221, 232],\r\n    hp_: [6.3, 8.1, 9.9, 11.6, 13.4, 15.2, 17.0, 18.8, 20.6, 22.3, 24.1, 25.9, 27.7, 29.5, 31.3, 33.0, 34.8],\r\n    atk_: [6.3, 8.1, 9.9, 11.6, 13.4, 15.2, 17.0, 18.8, 20.6, 22.3, 24.1, 25.9, 27.7, 29.5, 31.3, 33.0, 34.8],\r\n    def_: [7.9, 10.1, 12.3, 14.6, 16.8, 19.0, 21.2, 23.5, 25.7, 27.9, 30.2, 32.4, 34.6, 36.8, 39.1, 41.3, 43.5],\r\n    physical_dmg_: [7.9, 10.1, 12.3, 14.6, 16.8, 19.0, 21.2, 23.5, 25.7, 27.9, 30.2, 32.4, 34.6, 36.8, 39.1, 41.3, 43.5],\r\n    ele_dmg_: [6.3, 8.1, 9.9, 11.6, 13.4, 15.2, 17.0, 18.8, 20.6, 22.3, 24.1, 25.9, 27.7, 29.5, 31.3, 33.0, 34.8],\r\n    eleMas: [25, 32, 39, 47, 54, 61, 68, 75, 82, 89, 97, 104, 111, 118, 125, 132, 139],\r\n    enerRech_: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8, 32.8, 34.7, 36.7, 38.7],\r\n    critRate_: [4.2, 5.4, 6.6, 7.8, 9.0, 10.1, 11.3, 12.5, 13.7, 14.9, 16.1, 17.3, 18.5, 19.7, 20.8, 22.0, 23.2],\r\n    critDMG_: [8.4, 10.8, 13.1, 15.5, 17.9, 20.3, 22.7, 25.0, 27.4, 29.8, 32.2, 34.5, 36.9, 39.3, 41.7, 44.1, 46.4],\r\n    heal_: [4.8, 6.2, 7.6, 9.0, 10.3, 11.7, 13.1, 14.4, 15.8, 17.2, 18.6, 19.9, 21.3, 22.7, 24.0, 25.4, 26.8],\r\n  },\r\n  5: {\r\n    hp: [717, 920, 1123, 1326, 1530, 1733, 1936, 2139, 2342, 2545, 2749, 2952, 3155, 3358, 3561, 3764, 3967, 4171, 4374, 4577, 4780],\r\n    atk: [47, 60, 73, 86, 100, 113, 126, 139, 152, 166, 179, 192, 205, 219, 232, 245, 258, 272, 285, 298, 311],\r\n    hp_: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8, 32.8, 34.7, 36.7, 38.7, 40.7, 42.7, 44.6, 46.6],\r\n    atk_: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8, 32.8, 34.7, 36.7, 38.7, 40.7, 42.7, 44.6, 46.6],\r\n    def_: [8.7, 11.2, 13.7, 16.2, 18.6, 21.1, 23.6, 26.1, 28.6, 31, 33.5, 36, 38.5, 40.9, 43.4, 45.9, 48.4, 50.8, 53.3, 55.8, 58.3],\r\n    physical_dmg_: [8.7, 11.2, 13.7, 16.2, 18.6, 21.1, 23.6, 26.1, 28.6, 31, 33.5, 36, 38.5, 40.9, 43.4, 45.9, 48.4, 50.8, 53.3, 55.8, 58.3],\r\n    ele_dmg_: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8, 32.8, 34.7, 36.7, 38.7, 40.7, 42.7, 44.6, 46.6],\r\n    eleMas: [28, 36, 44, 52, 60, 68, 76, 84, 91, 99, 107, 115, 123, 131, 139, 147, 155, 163, 171, 179, 187],\r\n    enerRech_: [7.8, 10.0, 12.2, 14.4, 16.6, 18.8, 21.0, 23.2, 25.4, 27.6, 29.8, 32.0, 34.2, 36.4, 38.6, 40.8, 43.0, 45.2, 47.4, 49.6, 51.8],\r\n    critRate_: [4.7, 6.0, 7.3, 8.6, 9.9, 11.3, 12.6, 13.9, 15.2, 16.6, 17.9, 19.2, 20.5, 21.8, 23.2, 24.5, 25.8, 27.1, 28.4, 29.8, 31.1],\r\n    critDMG_: [9.3, 11.9, 14.6, 17.2, 19.9, 22.5, 25.5, 27.8, 30.5, 33.1, 35.8, 38.4, 41.1, 43.7, 46.3, 49.0, 51.6, 54.3, 56.9, 59.6, 62.2],\r\n    heal_: [5.4, 6.9, 8.4, 10.0, 11.5, 13.0, 14.5, 16.1, 17.6, 19.1, 20.6, 22.2, 23.7, 25.2, 26.7, 28.3, 29.8, 31.3, 32.8, 34.4, 35.9],\r\n  }\r\n}\r\n\r\nconst ArtifactSubStatsData = {\r\n  hp: { 3: [100.38, 114.72, 129.06, 143.4], 4: [167.3, 191.2, 215.1, 239], 5: [209.13, 239, 268.88, 298.75] },\r\n  atk: { 3: [6.54, 7.47, 8.4, 9.34], 4: [10.89, 12.45, 14.0, 15.56], 5: [13.62, 15.56, 17.51, 19.45] },\r\n  def: { 3: [7.78, 8.89, 10, 11.11], 4: [12.96, 14.82, 16.67, 18.52], 5: [16.2, 18.52, 20.83, 23.15] },\r\n  eleMas: { 3: [9.79, 11.19, 12.59, 13.99], 4: [13.06, 14.92, 16.79, 18.65], 5: [16.32, 18.65, 20.98, 23.31] },\r\n  atk_: { 3: [2.45, 2.8, 3.15, 3.5], 4: [3.26, 3.73, 4.2, 4.66], 5: [4.08, 4.66, 5.25, 5.83] },\r\n  hp_: { 3: [2.45, 2.8, 3.15, 3.5], 4: [3.26, 3.73, 4.2, 4.66], 5: [4.08, 4.66, 5.25, 5.83] },\r\n  def_: { 3: [3.06, 3.5, 3.93, 4.37], 4: [4.08, 4.66, 5.25, 5.83], 5: [5.1, 5.8, 6.56, 7.29] },\r\n  enerRech_: { 3: [2.72, 3.11, 3.5, 3.89], 4: [3.63, 4.14, 4.66, 5.18], 5: [4.53, 5.18, 5.83, 6.48] },\r\n  critRate_: { 3: [1.63, 1.86, 2.1, 2.33], 4: [2.18, 2.49, 2.8, 3.11], 5: [2.72, 3.11, 3.5, 3.89] },\r\n  critDMG_: { 3: [3.26, 3.73, 4.2, 4.66], 4: [4.35, 4.97, 5.6, 6.22], 5: [5.44, 6.22, 6.99, 7.77] },\r\n}\r\nconst ArtifactSubstatsMinMax = Object.fromEntries(Object.entries(ArtifactSubStatsData).map(([key, obj]) =>\r\n  [key, {\r\n    max: Object.fromEntries(Object.keys(obj).map(key => [key, getArrLastElement(obj[key])])),\r\n    min: Object.fromEntries(Object.keys(obj).map(key => [key, obj[key][0]])),\r\n  }]))\r\n\r\nconst ArtifactSlotsData = {\r\n  flower: { name: \"Flower of Life\", stats: [\"hp\"] },\r\n  plume: { name: \"Plume of Death\", stats: [\"atk\"] },\r\n  sands: { name: \"Sands of Eon\", stats: [\"hp_\", \"def_\", \"atk_\", \"eleMas\", \"enerRech_\"] },\r\n  goblet: { name: \"Goblet of Eonothem\", stats: [\"hp_\", \"def_\", \"atk_\", \"eleMas\", \"physical_dmg_\", \"anemo_dmg_\", \"geo_dmg_\", \"electro_dmg_\", \"hydro_dmg_\", \"pyro_dmg_\", \"cryo_dmg_\",] },\r\n  circlet: { name: \"Circlet of Logos\", stats: [\"hp_\", \"def_\", \"atk_\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\"] },\r\n};\r\n\r\nexport {\r\n  ArtifactMainSlotKeys,\r\n  ArtifactSlotsData,\r\n  ArtifactData,\r\n  ArtifactDataImport,\r\n  ArtifactSubStatsData,\r\n  ArtifactSubstatsMinMax,\r\n  ArtifactStarsData,\r\n  ArtifactMainStatsData\r\n};\r\n","import ElementalData from \"./Data/ElementalData\";\r\n\r\nexport const hitTypes = { hit: \"DMG\", avgHit: \"Avg. DMG\", critHit: \"CRIT Hit DMG\" }\r\nexport const hitMoves = { normal: \"Normal Att.\", charged: \"Charged Att.\", plunging: \"Plunging Att.\", elemental: \"Elemental Att.\", skill: \"Ele. Skill\", burst: \"Ele. Burst\" }\r\nexport const hitElements = ElementalData\r\nexport const transformativeReactions = {\r\n  overloaded: { name: \"Overloaded\", multi: 2, variants: [ \"pyro\" ] },\r\n  shattered: { name: \"Shattered\", multi: 1.5, variants: [ \"physical\" ] },\r\n  electrocharged: { name: \"Electro-Charged\", multi: 1.2, variants: [ \"electro\" ] },\r\n  superconduct: { name: \"Superconduct\", multi: 0.5, variants: [ \"cryo\" ] },\r\n  swirl: { name: \"Swirl\", multi: 0.6, variants: [ \"pyro\", \"hydro\", \"electro\", \"cryo\" ] },\r\n}\r\nexport const amplifyingReactions = {\r\n  vaporize: { name: \"Vaporize\", variants: { pyro: 1.5, hydro: 2 } },\r\n  melt: { name: \"Melt\", variants: { pyro: 2, cryo: 1.5 } },\r\n}\r\nexport const otherReactions = {\r\n  burning: \"Burning\",\r\n  crystalize: \"Crystalize\",\r\n}\r\nexport const transformativeReactionLevelMultipliers = [ 0,\r\n  17.2,  18.5,  19.9,  21.3,  22.6,  24.6,  26.6,  28.9,  31.4,  34.1,\r\n  37.2,  40.7,  44.4,  48.6,  53.7,  59.1,  64.4,  69.7,  75.1,  80.6,\r\n  86.1,  91.7,  97.2, 102.8, 108.4, 113.2, 118.1, 123.0, 129.7, 136.3,\r\n 142.7, 149.0, 155.4, 161.8, 169.1, 176.5, 184.1, 191.7, 199.6, 207.4,\r\n 215.4, 224.2, 233.5, 243.4, 256.1, 268.5, 281.5, 295.0, 309.1, 323.6,\r\n 336.8, 350.5, 364.5, 378.6, 398.6, 416.4, 434.4, 452.6, 471.4, 490.5,\r\n 509.5, 532.8, 556.4, 580.1, 607.9, 630.2, 652.9, 675.2, 697.8, 720.2,\r\n 742.5, 765.2, 784.4, 803.4, 830.9, 854.4, 877.8, 900.1, 923.8, 946.4,\r\n 968.6, 991.0,1013.5,1036.1,1066.6,1090.0,1115.0,1141.7,1171.9,1202.8,\r\n1202.8,1233.9,1264.7,1305.7,1346.1,1468.9,1524.0,1577.0,1627.6,1674.8,\r\n]\r\nexport const crystalizeLevelMultipliers = [ 0,\r\n  91,  99, 106, 114, 121, 129, 136, 144, 151, 159,\r\n 170, 181, 192, 204, 216, 228, 248, 268, 287, 304,\r\n 320, 337, 352, 368, 384, 394, 405, 416, 427, 438,\r\n 448, 459, 470, 481, 490, 499, 513, 529, 544, 557,\r\n 574, 591, 607, 622, 638, 649, 667, 684, 702, 715,\r\n 733, 750, 767, 784, 800, 814, 834, 855, 876, 896,\r\n 915, 936, 956, 982,1003,1017,1036,1057,1075,1096,\r\n1114,1135,1149,1170,1191,1205,1224,1243,1260,1277,\r\n1293,1308,1317,1327,1336,1349,1366,1384,1403,1424,\r\n1450,1478,1507,1543,1570,1580,1589,1673,1682,1691,\r\n]","import Dropdown from \"react-bootstrap/Dropdown\";\r\nimport Character from \"../Character/Character\";\r\nimport CharacterDatabase from \"../Database/CharacterDatabase\";\r\n\r\nfunction CharacterSelectionDropdownList({ onSelect }) {\r\n  return CharacterDatabase.getCharacterKeyList().sort(((a, b) => {\r\n    if (a < b) return -1;\r\n    if (a > b) return 1;\r\n    // names must be equal\r\n    return 0;\r\n  })).map(characterKey =>\r\n    <Dropdown.Item key={characterKey} onClick={() => onSelect(characterKey)}>\r\n      {Character.getName(characterKey)}\r\n    </Dropdown.Item>)\r\n}\r\nexport {\r\n  CharacterSelectionDropdownList,\r\n};\r\n\r\n","import { useMemo } from \"react\"\r\nimport { Col, Row } from \"react-bootstrap\"\r\nimport Character from \"../Character/Character\"\r\nimport Formula from \"../Formula\"\r\nimport Stat from \"../Stat\"\r\nimport { StatIconEle } from \"./StatIcon\"\r\n\r\nfunction DisplayStatDiff({ label = \"\", val, oldVal, fixed = 0, unit = \"\", variant = \"\" }) {\r\n  if (typeof oldVal === \"undefined\" && typeof val === \"number\") {//if only one value is filled, display that one.\r\n    oldVal = val\r\n    val = undefined\r\n  }\r\n  const diff = val !== undefined ? val - oldVal : 0;\r\n  let oldText = \"\", diffText = \"\"\r\n  if (oldVal || diff === 0) oldText = oldVal?.toFixed(fixed)\r\n  else if (oldVal === undefined) oldText = val?.toFixed(fixed)//if oldval isnt defined, just display val.\r\n  if (oldText) oldText = <span className={`text-${variant}`}>{oldText}{unit}</span>\r\n  if (diff !== 0) diffText = <span className={`text-${diff > 0 ? \"success\" : \"danger\"}`}>{diff > 0 ? \"+\" : \"\"}{diff?.toFixed(fixed)}{unit}</span>\r\n\r\n  return <Col xs=\"12\"><Row>\r\n    <Col><b>{label}</b></Col>\r\n    <Col xs=\"auto\">{oldText}{diff ? \" \" : \"\"}{diffText}</Col>\r\n  </Row></Col>\r\n}\r\nexport default function StatDisplay({ character, equippedBuild, newBuild, editable, statKey }) {\r\n  const { val, oldVal, fixed, unit, variant, label } = useMemo(() => {\r\n    let val, oldVal, fixed, unit, variant, label = \"\"\r\n    if (typeof statKey === \"string\") {//basic statKey\r\n      if (newBuild && equippedBuild) {//comparable\r\n        //newbuild -> val\r\n        //equippedbuild ->old\r\n        val = newBuild?.[statKey] ?? 0\r\n        oldVal = equippedBuild?.[statKey] ?? 0\r\n      } else {\r\n        const build = newBuild ? newBuild : equippedBuild\r\n        //build ->val\r\n        val = build?.[statKey] ?? 0\r\n        //statvaluewith override -> old\r\n        const invalid = \"invalid\"//can't use undeinfed as the defVal, since I want undefined for invalid numbers.\r\n        oldVal = Character.getStatValueWithOverride(character, statKey, invalid)\r\n        oldVal === invalid && (oldVal = undefined)\r\n        if (statKey === \"finalHP\")\r\n          oldVal = Character.getStatValueWithOverride(character, \"characterHP\")\r\n        else if (statKey === \"finalDEF\")\r\n          oldVal = Character.getStatValueWithOverride(character, \"characterDEF\")\r\n        else if (statKey === \"finalATK\")\r\n          oldVal = Character.getStatValueWithOverride(character, \"characterATK\") + Character.getStatValueWithOverride(character, \"weaponATK\")\r\n      }\r\n      unit = Stat.getStatUnit(statKey)\r\n      fixed = Stat.fixedUnit(statKey)\r\n      label = <span>{StatIconEle(statKey)} {Stat.getStatName(statKey)}</span>\r\n    } else {//Formula\r\n      const build = newBuild ? newBuild : equippedBuild\r\n      const formula = Formula.get(statKey)\r\n      const field = formula.field\r\n      const labelVariant = Character.getTalentFieldValue(field, \"variant\", build)\r\n      label = <span className={`text-${labelVariant}`}>{Character.getTalentFieldValue(field, \"text\", build)}</span>\r\n      fixed = Character.getTalentFieldValue(field, \"fixed\", build, 0)\r\n      val = Character.getTalentFieldValue(field, \"formula\", build)?.[0]?.(build)\r\n      if (newBuild && equippedBuild) {//comparable\r\n        oldVal = Character.getTalentFieldValue(field, \"formula\", equippedBuild)?.[0]?.(equippedBuild)\r\n      }\r\n    }\r\n    if (editable && Character.hasOverride(character, statKey)) variant = \"warning\"\r\n    return { val, oldVal, fixed, unit, variant, label }\r\n  }, [character, equippedBuild, newBuild, editable, statKey])\r\n\r\n  return <DisplayStatDiff {...{ val, oldVal, fixed, unit, variant, label }} />\r\n}","import { faUndo } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\"\r\nimport Tooltip from \"react-bootstrap/Tooltip\"\r\nimport CustomFormControl from \"../Components/CustomFormControl\"\r\n\r\nconst StatInput = ({ name, prependEle, value, placeholder, defaultValue, onValueChange, percent, disabled, ...restProps }) =>\r\n  <InputGroup {...restProps}>\r\n    {prependEle ? <InputGroup.Prepend>{prependEle}</InputGroup.Prepend> : null}\r\n    <InputGroup.Prepend>\r\n      <InputGroup.Text>{name}</InputGroup.Text>\r\n    </InputGroup.Prepend>\r\n    <CustomFormControl\r\n      float={percent}\r\n      placeholder={placeholder}\r\n      value={value}\r\n      onChange={onValueChange}\r\n      disabled={disabled}\r\n    />\r\n    <InputGroup.Append>\r\n      {Boolean(percent) && <InputGroup.Text>%</InputGroup.Text>}\r\n      {defaultValue !== undefined && <OverlayTrigger placement=\"top\"\r\n        overlay={<Tooltip>Reset this override to the default value.</Tooltip>}>\r\n        <span className=\"d-inline-block\">\r\n          <Button onClick={() => onValueChange(defaultValue)} disabled={disabled || value === defaultValue} style={value === defaultValue ? { pointerEvents: 'none' } : {}}>\r\n            <FontAwesomeIcon icon={faUndo} />\r\n          </Button>\r\n        </span>\r\n      </OverlayTrigger>}\r\n    </InputGroup.Append>\r\n  </InputGroup>\r\nexport default StatInput","import { faEdit, faLock, faLockOpen, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useCallback, useEffect } from 'react';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Image from 'react-bootstrap/Image';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\nimport Character from '../Character/Character';\r\nimport { CharacterSelectionDropdownList } from '../Components/CharacterSelection';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport ArtifactDatabase from '../Database/ArtifactDatabase';\r\nimport Stat from '../Stat';\r\nimport { useForceUpdate } from '../Util/ReactUtil';\r\nimport Artifact from './Artifact';\r\nimport PercentBadge from './PercentBadge';\r\nexport default function ArtifactCard({ artifactId, artifactObj, onEdit, onDelete, mainStatAssumptionLevel = 0 }) {\r\n  const forceUpdateHook = useForceUpdate()\r\n  useEffect(() => {\r\n    Artifact.getDataImport()?.then(forceUpdateHook)\r\n    artifactId && ArtifactDatabase.registerArtListener(artifactId, forceUpdateHook)\r\n    return () =>\r\n      artifactId && ArtifactDatabase.unregisterArtListener(artifactId, forceUpdateHook)\r\n  }, [artifactId, forceUpdateHook])\r\n  const equipOnChar = useCallback(\r\n    (charKey) => Artifact.equipArtifactOnChar(artifactId, charKey),\r\n    [artifactId],\r\n  )\r\n  if (!artifactId && !artifactObj) return null;\r\n  const editable = !artifactObj//dont allow edit for flex artifacts\r\n  const art = artifactObj ? artifactObj : ArtifactDatabase.get(artifactId);\r\n  if (!art) return null;\r\n  if (!art.maximumEfficiency) Artifact.substatsValidation(art)\r\n  const { setKey, slotKey, numStars = 0, level = 0, mainStatKey, substats = [], location = \"\", lock, currentEfficiency = 0, maximumEfficiency = 0 } = art\r\n  const mainStatLevel = Math.max(Math.min(mainStatAssumptionLevel, numStars * 4), level)\r\n  const mainStatVal = <span className={mainStatLevel !== level ? \"text-orange\" : \"\"}>{Artifact.getMainStatValue(mainStatKey, numStars, mainStatLevel, \"\")}{Stat.getStatUnit(mainStatKey)}</span>\r\n  const artifactValid = substats.every(sstat => (!sstat.key || (sstat.key && sstat.value && sstat?.rolls?.length)))\r\n\r\n  return (<Card className=\"h-100\" border={`${numStars}star`} bg=\"lightcontent\" text=\"lightfont\">\r\n    <Card.Header className=\"p-0\">\r\n      <Row>\r\n        <Col xs={2} md={3}>\r\n          <Image src={Artifact.getPieceIcon(setKey, slotKey)} className={`w-100 h-auto grad-${numStars}star m-1`} thumbnail />\r\n        </Col>\r\n        <Col className=\"pt-3\">\r\n          <h6><b>{Artifact.getPieceName(setKey, slotKey, \"Unknown Piece Name\")}</b></h6>\r\n          <div>{Artifact.getSlotNameWithIcon(slotKey)}{` +${level}`}</div>\r\n        </Col>\r\n      </Row>\r\n    </Card.Header>\r\n    <Card.Body className=\"d-flex flex-column py-2\">\r\n      <Card.Title>\r\n        <div>{Artifact.getSetName(setKey, \"Artifact Set\")}</div>\r\n        <small className=\"text-halfsize\"><Stars stars={numStars} /></small>\r\n      </Card.Title>\r\n      <h5 className=\"mb-1\">\r\n        <b>{Stat.getStatName(mainStatKey)} {mainStatVal}</b>\r\n      </h5>\r\n      <Row className=\"mb-0\">\r\n        {substats.map((stat, i) => {\r\n          if (!stat || !stat.value) return null\r\n          let numRolls = stat?.rolls?.length || 0\r\n          let efficiency = stat?.efficiency || 0\r\n          let effOpacity = 0.3 + efficiency * 0.7\r\n          let statName = Stat.getStatName(stat.key)\r\n          return (<Col key={i} xs={12}>\r\n            <Badge variant={numRolls ? `${numRolls}roll` : \"danger\"} className=\"text-darkcontent\"><b>{numRolls ? numRolls : \"?\"}</b></Badge>{\" \"}\r\n            <span className={`text-${numRolls}roll`}>{statName}{`+${Stat.getStatUnit(stat.key) ? stat.value.toFixed(1) : stat.value}${Stat.getStatUnit(stat.key)}`}</span>\r\n            <span className=\"float-right\" style={{ opacity: effOpacity }}>{efficiency.toFixed(1)}%</span>\r\n          </Col>)\r\n        })}\r\n      </Row>\r\n      <Row className=\"mt-auto\">\r\n        <Col>Current SS Eff.: <PercentBadge value={currentEfficiency} valid={artifactValid} className=\"float-right\" /></Col>\r\n        {currentEfficiency !== maximumEfficiency && <Col className=\"text-right\">Max SS Eff.: <PercentBadge value={maximumEfficiency} valid={artifactValid} /></Col>}\r\n      </Row>\r\n    </Card.Body>\r\n\r\n    <Card.Footer className=\"pr-3\">\r\n      <Row className=\"d-flex justify-content-between no-gutters\">\r\n        {editable ? <Col xs=\"auto\">\r\n          <Dropdown>\r\n            <Dropdown.Toggle size=\"sm\" className=\"text-left\">{Character.getName(location, \"Inventory\")}</Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item onClick={() => equipOnChar(\"\")}>Inventory</Dropdown.Item>\r\n              <Dropdown.Divider />\r\n              <CharacterSelectionDropdownList onSelect={ckey => equipOnChar(ckey)} />\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </Col> : <Col xs=\"auto\"><b>{Character.getName(location, \"Inventory\")}</b></Col>}\r\n        <Col xs=\"auto\">\r\n          <ButtonGroup>\r\n            {editable ? <OverlayTrigger placement=\"top\"\r\n              overlay={<Tooltip>Locking a artifact will prevent the build generator from picking it for builds.</Tooltip>}>\r\n              <span className=\"d-inline-block\">\r\n                <Button size=\"sm\"\r\n                  onClick={() => {\r\n                    art.lock = !lock\r\n                    ArtifactDatabase.update(art);\r\n                  }}>\r\n                  <FontAwesomeIcon icon={lock ? faLock : faLockOpen} className=\"fa-fw\" />\r\n                </Button>\r\n              </span>\r\n            </OverlayTrigger> : null}\r\n            {Boolean(onEdit) && <Button variant=\"info\" size=\"sm\"\r\n              onClick={onEdit}>\r\n              <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\r\n            </Button>}\r\n            {Boolean(onDelete) && <Button variant=\"danger\" size=\"sm\"\r\n              onClick={onDelete}>\r\n              <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\r\n            </Button>}\r\n          </ButtonGroup>\r\n        </Col>\r\n      </Row>\r\n    </Card.Footer>\r\n  </Card>)\r\n}\r\n","import { Badge } from 'react-bootstrap';\r\n\r\nexport default function PercentBadge({ value, valid }: Data) {\r\n  let [badgeColor, text] = typeof value === 'number' ?\r\n    [`${Math.floor(value * 0.05) + 1}roll`, value.toFixed(2) + \"%\"] : [\"secondary\", value]\r\n  if (!valid) badgeColor = \"danger\"\r\n  return <Badge variant={badgeColor} className={badgeColor === \"secondary\" ? \"\" : \"text-darkcontent\"}>{text}</Badge>\r\n}\r\n\r\ntype Data = {\r\n  valid: boolean,\r\n  value: number | string,\r\n}\r\n","import React, { useCallback, useMemo } from 'react';\r\nimport { Alert, Button, Card, Col, Row } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Artifact from '../../Artifact/Artifact';\r\nimport ArtifactCard from '../../Artifact/ArtifactCard';\r\nimport SetEffectDisplay from '../../Artifact/Component/SetEffectDisplay';\r\nimport Character from \"../Character\";\r\nimport StatDisplayComponent from './StatDisplayComponent';\r\nconst artLayoutSize = { xs: 12, md: 6, lg: 4 }\r\nfunction CharacterArtifactPane({ character, character: { characterKey }, equippedBuild, newBuild, editable, characterDispatch, artifacts }) {\r\n  const history = useHistory()\r\n  //choose which one to display stats for\r\n  const stats = newBuild ? newBuild : equippedBuild\r\n  const mainStatAssumptionLevel = stats?.mainStatAssumptionLevel ?? 0\r\n  const statKeys = useMemo(() => Character.getDisplayStatKeys(stats), [stats])\r\n  const edit = useCallback(\r\n    artid => history.push({\r\n      pathname: \"/artifact\",\r\n      artToEditId: artid\r\n    }), [history])\r\n\r\n  const equipArts = useCallback(() => {\r\n    if (!window.confirm(\"Do you want to equip this artifact build to this character?\")) return\r\n    Character.equipArtifacts(characterKey, newBuild.equippedArtifacts)\r\n    characterDispatch?.({ type: \"fromDB\" })\r\n  }, [characterKey, newBuild?.equippedArtifacts, characterDispatch])\r\n\r\n  const unequipArts = useCallback(() => {\r\n    if (!window.confirm(\"Do you want to move all the artifacts equipped to inventory?\")) return\r\n    Character.equipArtifacts(characterKey, Object.fromEntries(Artifact.getSlotKeys().map(sKey => [sKey, \"\"])))\r\n    characterDispatch?.({ type: \"fromDB\" })\r\n  }, [characterKey, characterDispatch])\r\n  return <>\r\n    <Card className=\"h-100 mb-2\" bg=\"lightcontent\" text=\"lightfont\">\r\n      <Card.Body>\r\n        <StatDisplayComponent {...{ character, equippedBuild, newBuild, statsDisplayKeys: statKeys, editable }} />\r\n      </Card.Body>\r\n      <Card.Footer>\r\n        {newBuild ? <Button onClick={equipArts}>Equip all artifacts to current character</Button> : (editable && <Button onClick={unequipArts}>Unequip all artifacts</Button>)}\r\n        {Boolean(mainStatAssumptionLevel) && <Alert className=\"float-right text-right mb-0 py-2\" variant=\"orange\" ><b>Assume Main Stats are Level {mainStatAssumptionLevel}</b></Alert>}\r\n      </Card.Footer>\r\n    </Card>\r\n    <Row className=\"mb-n2\">\r\n      <Col {...artLayoutSize} className=\"d-flex flex-column\">\r\n        {Object.entries(Artifact.getSetEffects(stats.setToSlots)).map(([setKey, setNumKeyArr]) =>\r\n          <Card key={setKey} className=\"mb-2 flex-grow-1\" bg=\"lightcontent\" text=\"lightfont\">\r\n            <Card.Header>{Artifact.getSetName(setKey)}</Card.Header>\r\n            <Card.Body className=\"p-2 mb-n2\">\r\n              {setNumKeyArr.map(setNumKey => <SetEffectDisplay key={setKey + setNumKey} {...{ setKey, setNumKey, equippedBuild, newBuild, characterDispatch, editable }} />)}\r\n            </Card.Body>\r\n          </Card>\r\n        )}\r\n      </Col>\r\n      {artifacts ?\r\n        Artifact.getSlotKeys().map(slotKey => {//from flex\r\n          const art = artifacts.find(art => art.slotKey === slotKey)\r\n          return Boolean(art) && <Col {...artLayoutSize} key={slotKey} className=\"mb-2\">\r\n            <ArtifactCard artifactObj={art} />\r\n          </Col>\r\n        }) : Artifact.getSlotKeys().map(slotKey =>\r\n          Boolean(stats.equippedArtifacts[slotKey]) && <Col {...artLayoutSize} key={stats.equippedArtifacts[slotKey]} className=\"mb-2\">\r\n            <ArtifactCard artifactId={stats.equippedArtifacts[slotKey]} mainStatAssumptionLevel={mainStatAssumptionLevel} onEdit={() => edit(stats.equippedArtifacts[slotKey])} />\r\n          </Col>\r\n        )}\r\n    </Row>\r\n  </>\r\n}\r\nexport default CharacterArtifactPane\r\n","import { faEdit, faGavel, faQuoteLeft, faSave, faUndo } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport React, { useState } from \"react\"\r\nimport { Button, Card, Col, Dropdown, DropdownButton, Image, InputGroup, ListGroup, OverlayTrigger, Row, Tooltip } from \"react-bootstrap\"\r\nimport Assets from \"../../Assets/Assets\"\r\nimport CustomFormControl from \"../../Components/CustomFormControl\"\r\nimport { Stars } from \"../../Components/StarDisplay\"\r\nimport StatDisplay from \"../../Components/StatDisplay\"\r\nimport { StatIconEle } from \"../../Components/StatIcon\"\r\nimport Conditional from \"../../Conditional/Conditional\"\r\nimport { CharacterSpecializedStatKey } from \"../../Data/CharacterData\"\r\nimport { LevelNameData } from \"../../Data/WeaponData\"\r\nimport Stat from \"../../Stat\"\r\nimport statsToFields from \"../../Util/FieldUtil\"\r\nimport { clamp } from \"../../Util/Util\"\r\nimport Weapon from \"../../Weapon/Weapon\"\r\nimport Character from \"../Character\"\r\nimport StatInput from \"../StatInput\"\r\nimport ConditionalDisplay from \"./Components/ConditionalDisplay\"\r\nimport FieldDisplay from \"./Components/FieldDisplay\"\r\nexport default function CharacterOverviewPane({ editable, character, character: { characterKey, constellation }, characterDispatch, equippedBuild, newBuild }) {\r\n  const [editLevel, setEditLevel] = useState(false)\r\n  const elementKey = Character.getElementalKey(characterKey)\r\n  const weaponTypeKey = Character.getWeaponTypeKey(characterKey)\r\n  const level = Character.getStatValueWithOverride(character, \"characterLevel\")\r\n  return <Row>\r\n    <Col xs={12} md={3} >\r\n      {/* Image card with star and name and level */}\r\n      <Card bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n        <Card.Img src={Character.getCard(characterKey)} className=\"w-100 h-auto\" />\r\n        <Card.Body>\r\n          <Row>\r\n            <Col xs={12}>\r\n              <h3>{Character.getName(characterKey)} <Image src={Assets.elements[elementKey]} className=\"inline-icon\" /> <Image src={Assets.weaponTypes?.[weaponTypeKey]} className=\"inline-icon\" /></h3>\r\n              <h6><Stars stars={Character.getStar(characterKey)} colored /></h6>\r\n            </Col>\r\n            <Col>\r\n              {editLevel ? <Row><Col>\r\n                <InputGroup >\r\n                  <InputGroup.Prepend>\r\n                    <InputGroup.Text>Lvl.</InputGroup.Text>\r\n                  </InputGroup.Prepend>\r\n                  <CustomFormControl onChange={val => characterDispatch({ type: \"statOverride\", statKey: \"characterLevel\", value: clamp(val, 1, 90) })} value={level} />\r\n                  <InputGroup.Append>\r\n                    <Button>\r\n                      <FontAwesomeIcon icon={faUndo} size=\"sm\" onClick={() => characterDispatch({ type: \"statOverride\", statKey: \"characterLevel\", value: Character.getLevel(character.levelKey) })} />\r\n                    </Button>\r\n                  </InputGroup.Append>\r\n                  <InputGroup.Append>\r\n                    <OverlayTrigger\r\n                      placement=\"bottom\"\r\n                      overlay={<Tooltip>Override the level value for calculations. Does not change Stats.</Tooltip>}\r\n                    >\r\n                      <Button variant=\"success\" onClick={() => setEditLevel(!editLevel)} size=\"sm\">\r\n                        <span><FontAwesomeIcon icon={faSave} /></span>\r\n                      </Button>\r\n                    </OverlayTrigger>\r\n                  </InputGroup.Append>\r\n                </InputGroup>\r\n              </Col></Row> :\r\n                <Row>\r\n                  <Col>\r\n                    <h5>Level: {level}</h5>\r\n                  </Col>\r\n                  {editable ? <Col xs=\"auto\" className=\"pr-1 pl-1\">\r\n                    <Button variant=\"info\" onClick={() => setEditLevel(!editLevel)} size=\"sm\">\r\n                      <span><FontAwesomeIcon icon={faEdit} /></span>\r\n                    </Button>\r\n                  </Col> : null}\r\n                </Row>}\r\n            </Col>\r\n            <Col xs={12}>\r\n              <Row>\r\n                <Col xs={12}><h5>{Character.getConstellationName(characterKey)}</h5></Col>\r\n                <Col>\r\n                  <Row className=\"px-2\">\r\n                    {[...Array(6).keys()].map(i =>\r\n                      <Col xs={4} className=\"p-1\" key={i}>\r\n                        <Image src={Character.getConstellationImg(characterKey, i)} className={`w-100 h-auto ${constellation > i ? \"\" : \"overlay-dark\"} cursor-pointer`}\r\n                          roundedCircle onClick={() => editable && characterDispatch({ constellation: (i + 1) === constellation ? i : i + 1 })} />\r\n                      </Col>)}\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n    <Col xs={12} md={9} >\r\n      <WeaponStatsEditorCard {...{ editable, character, characterDispatch, equippedBuild, newBuild }} />\r\n      <MainStatsCards {...{ editable, character, characterDispatch, equippedBuild, newBuild }} />\r\n    </Col>\r\n  </Row >\r\n}\r\n\r\nfunction WeaponStatsCard({ title, statsVals = {}, stats = {} }) {\r\n  if (Object.keys(statsVals ?? {}).length === 0) return null\r\n  const fields = statsToFields(statsVals, stats)\r\n  return <Card bg=\"darkcontent\" text=\"lightfont\" className=\"mb-2\">\r\n    <Card.Header className=\"py-2 px-3\">{title}</Card.Header>\r\n    <ListGroup className=\"text-white\" variant=\"flush\">\r\n      {fields.map((field, i) => <FieldDisplay key={i} index={i} {...{ field, equippedBuild: stats, className: \"px-3 py-2\" }} />)}\r\n    </ListGroup>\r\n  </Card>\r\n}\r\n\r\nfunction WeaponStatsEditorCard({ editable, character, character: { characterKey, weapon = {} }, characterDispatch, equippedBuild, newBuild }) {\r\n  const [editing, SetEditing] = useState(false)\r\n  const [showDescription, setShowDescription] = useState(false)\r\n\r\n  //choose which one to display stats for\r\n  const build = newBuild ? newBuild : equippedBuild\r\n\r\n  const setStateWeapon = (key, value) => {\r\n    if (key === \"key\") {\r\n      if (value === weapon.key) return\r\n      else {\r\n        //reset the conditionalNum when we switch weapons\r\n        const { talentConditionals } = character\r\n        delete talentConditionals.weapon\r\n        characterDispatch({ talentConditionals })\r\n      }\r\n    }\r\n    character.weapon[key] = value\r\n    characterDispatch({ weapon: character.weapon })\r\n  }\r\n  const subStatKey = Weapon.getWeaponSubStatKey(weapon.key)\r\n  const weaponTypeKey = Character.getWeaponTypeKey(characterKey)\r\n  const weaponDisplayMainVal = weapon.overrideMainVal || Weapon.getWeaponMainStatVal(weapon.key, weapon.levelKey)\r\n  const weaponDisplaySubVal = weapon.overrideSubVal || Weapon.getWeaponSubStatVal(weapon.key, weapon.levelKey)\r\n  const weaponPassiveName = Weapon.getWeaponPassiveName(weapon.key)\r\n  const weaponBonusStats = Weapon.getWeaponBonusStat(weapon.key, build)\r\n  const conditionals = Conditional.conditionals.weapon[weapon.key]\r\n  return <Card bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n    <Card.Header>\r\n      <Row>\r\n        <Col>\r\n          <span>Weapon</span>\r\n        </Col>\r\n        <Col xs=\"auto\">\r\n          <Button variant=\"info\" size=\"sm\" onClick={() => setShowDescription(!showDescription)}>\r\n            <span><FontAwesomeIcon icon={faQuoteLeft} /> {showDescription ? \"Hide Desc.\" : \"Show Desc.\"}</span>\r\n          </Button>\r\n        </Col>\r\n        {editable ? <Col xs=\"auto\" >\r\n          <Button variant={editing ? \"danger\" : \"info\"} onClick={() => SetEditing(!editing)} size=\"sm\">\r\n            <span><FontAwesomeIcon icon={editing ? faSave : faEdit} /> {editing ? \"EXIT\" : \"EDIT\"}</span>\r\n          </Button>\r\n        </Col> : null}\r\n      </Row>\r\n    </Card.Header>\r\n    <Card.Body >\r\n      <Row className=\"mb-n2\">\r\n        <Col xs={12} md={3} lg={4}>\r\n          <Image src={Weapon.getWeaponImg(weapon.key)} className={`w-100 h-auto grad-${Weapon.getWeaponRarity(weapon.key)}star`} thumbnail />\r\n        </Col>\r\n        {editing ? <Col>\r\n          <Row>\r\n            <Col lg=\"auto\" xs={6} className=\"mb-2 pr-0\">\r\n              <DropdownButton title={Weapon.getWeaponName(weapon.key)}>\r\n                {[...Array(5).keys()].reverse().map(key => key + 1).map((star, i, arr) => <React.Fragment key={star}>\r\n                  <Dropdown.ItemText key={\"star\" + star}><Stars stars={star} /></Dropdown.ItemText>\r\n                  {Object.entries(Weapon.getWeaponsOfType(weaponTypeKey)).filter(([, weaponObj]) => weaponObj.rarity === star).map(([key, weaponObj]) =>\r\n                    <Dropdown.Item key={key} onClick={() => setStateWeapon(\"key\", key)}>\r\n                      {weaponObj.name}\r\n                    </Dropdown.Item>\r\n                  )}\r\n                  {(i !== arr.length - 1) && < Dropdown.Divider />}\r\n                </React.Fragment>)}\r\n              </DropdownButton>\r\n            </Col>\r\n            <Col lg=\"auto\" xs={6} className=\"mb-2 pr-0\">\r\n              <DropdownButton title={Weapon.getLevelName(weapon.levelKey)}>\r\n                <Dropdown.ItemText>\r\n                  <span>Select Weapon Level</span>\r\n                </Dropdown.ItemText>\r\n                {Object.entries(LevelNameData).map(([key, name]) =>\r\n                  <Dropdown.Item key={key} onClick={() => setStateWeapon(\"levelKey\", key)}>\r\n                    {name}\r\n                  </Dropdown.Item>)}\r\n              </DropdownButton>\r\n            </Col>\r\n            {weaponPassiveName && <Col lg=\"auto\" xs={6} className=\"mb-2\">\r\n              <DropdownButton title={`Refinement ${weapon.refineIndex + 1}`} className=\"w-100\">\r\n                <Dropdown.ItemText>\r\n                  <span>Select Weapon Refinement</span>\r\n                </Dropdown.ItemText>\r\n                <Dropdown.Divider />\r\n                {[...Array(5).keys()].map(key =>\r\n                  <Dropdown.Item key={key} onClick={() => setStateWeapon(\"refineIndex\", key)}>\r\n                    {`Refinement ${key + 1}`}\r\n                  </Dropdown.Item>)}\r\n              </DropdownButton>\r\n            </Col>}\r\n            <Col xs={12} className=\"mb-2\">\r\n              <StatInput\r\n                name={<span><FontAwesomeIcon icon={faGavel} className=\"mr-2\" />ATK</span>}\r\n                placeholder=\"Weapon Attack\"\r\n                value={weaponDisplayMainVal}\r\n                percent={false}\r\n                onValueChange={(value) => setStateWeapon(\"overrideMainVal\", value)}\r\n                defaultValue={Weapon.getWeaponMainStatVal(weapon.key, weapon.levelKey)}\r\n              />\r\n            </Col>\r\n            {subStatKey && <Col xs={12} className=\"mb-2\">\r\n              <StatInput\r\n                name={<span><span className=\"mr-2\">{StatIconEle(subStatKey)}</span>{Stat.getStatName(subStatKey)}</span>}\r\n                placeholder=\"Weapon Substat\"\r\n                value={weaponDisplaySubVal}\r\n                percent={Stat.getStatUnit(subStatKey) === \"%\"}\r\n                onValueChange={(value) => setStateWeapon(\"overrideSubVal\", value)}\r\n                defaultValue={Weapon.getWeaponSubStatVal(weapon.key, weapon.levelKey)}\r\n              />\r\n            </Col>}\r\n          </Row>\r\n        </Col> :\r\n          <Col>\r\n            <h5 className=\"mb-0\">{Weapon.getWeaponName(weapon.key)} {Weapon.getLevelName(weapon.levelKey)} {weaponPassiveName && `(Refinement ${weapon.refineIndex + 1})`}</h5>\r\n            <p><Stars stars={Weapon.getWeaponRarity(weapon.key)} /></p>\r\n            <h6>{weaponPassiveName}</h6>\r\n            <p>{weaponPassiveName && Weapon.getWeaponPassiveDescription(weapon.key, build)}</p>\r\n            <WeaponStatsCard title={\"Main Stats\"} statsVals={{ atk: weaponDisplayMainVal, [subStatKey]: weaponDisplaySubVal }} stats={build} />\r\n            <WeaponStatsCard title={\"Bonus Stats\"} statsVals={weaponBonusStats} stats={build} />\r\n            {Boolean(conditionals) && Object.entries(conditionals).map(([stateKey, conditional]) =>\r\n              <ConditionalDisplay key={stateKey} {...{ conditional, equippedBuild, newBuild, characterDispatch, editable }} fieldClassName=\"py-2 px-3\" />)}\r\n          </Col>}\r\n      </Row>\r\n      {showDescription && <small>{Weapon.getWeaponDescription(weapon.key)}</small>}\r\n    </Card.Body>\r\n  </Card>\r\n}\r\n\r\nfunction MainStatsCards({ editable, character, characterDispatch, equippedBuild, newBuild }) {\r\n  const [editing, SetEditing] = useState(false)\r\n  const [editingOther, SetEditingOther] = useState(false)\r\n  const [editingMisc, SetEditingMisc] = useState(false)\r\n\r\n  const additionalKeys = [\"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\", \"heal_\"]\r\n  const displayStatKeys = [\"finalHP\", \"finalATK\", \"finalDEF\"]\r\n  displayStatKeys.push(...additionalKeys)\r\n  const editStatKeys = [\"characterHP\", \"hp\", \"hp_\", \"characterATK\", \"atk\", \"atk_\", \"characterDEF\", \"def\", \"def_\"]\r\n  editStatKeys.push(...additionalKeys)\r\n  const otherStatKeys = []\r\n\r\n  Character.getElementalKeys().forEach(ele => {\r\n    otherStatKeys.push(`${ele}_dmg_`)\r\n    otherStatKeys.push(`${ele}_res_`)\r\n  })\r\n  otherStatKeys.push(\"stamina\", \"incHeal_\", \"powShield_\")\r\n\r\n  const miscStatkeys = [\r\n    \"normal_dmg_\", \"normal_critRate_\",\r\n    \"charged_dmg_\", \"charged_critRate_\",\r\n    \"skill_dmg_\", \"skill_critRate_\",\r\n    \"burst_dmg_\", \"burst_critRate_\",\r\n    \"dmg_\", \"moveSPD_\", \"atkSPD_\", \"weakspotDMG_\"]\r\n\r\n  const specializedStatKey = Character.getStatValueWithOverride(character, \"specializedStatKey\")\r\n  const specializedStatVal = Character.getStatValueWithOverride(character, \"specializedStatVal\");\r\n  const specializedStatUnit = Stat.getStatUnit(specializedStatKey)\r\n\r\n  const isPercentSpecialStatSelect = Stat.getStatUnit(specializedStatKey) === \"%\"\r\n\r\n  const displayNewBuildProps = { character, equippedBuild, newBuild, editable }\r\n  return <>\r\n    <Card bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n      <Card.Header>\r\n        <Row>\r\n          <Col>\r\n            <span>Main Base Stats</span>\r\n          </Col>\r\n          {editable ? <Col xs=\"auto\" >\r\n            <Button variant={editing ? \"danger\" : \"info\"} onClick={() => SetEditing(!editing)} size=\"sm\">\r\n              <span><FontAwesomeIcon icon={editing ? faSave : faEdit} /> {editing ? \"EXIT\" : \"EDIT\"}</span>\r\n            </Button>\r\n          </Col> : null}\r\n        </Row>\r\n      </Card.Header>\r\n      {editing ?\r\n        <Card.Body>\r\n          <Row className=\"mb-2\">\r\n            {editStatKeys.map(statKey =>\r\n              <Col lg={6} xs={12} key={statKey}>\r\n                <StatInput\r\n                  className=\"mb-2\"\r\n                  name={<span>{StatIconEle(statKey)} {Stat.getStatNamePretty(statKey)}</span>}\r\n                  placeholder={`Base ${Stat.getStatName(statKey)}`}\r\n                  value={Character.getStatValueWithOverride(character, statKey)}\r\n                  percent={Stat.getStatUnit(statKey) === \"%\"}\r\n                  onValueChange={value => characterDispatch({ type: \"statOverride\", statKey, value })}\r\n                  defaultValue={Character.getBaseStatValue(character, statKey)}\r\n                />\r\n              </Col>)}\r\n\r\n            <Col lg={6} xs={12}>\r\n              <InputGroup>\r\n                <DropdownButton\r\n                  title={Stat.getStatNameWithPercent(specializedStatKey, \"Specialized Stat\")}\r\n                  as={InputGroup.Prepend}\r\n                >\r\n                  <Dropdown.ItemText>Select Specialized Stat </Dropdown.ItemText>\r\n                  {CharacterSpecializedStatKey.map(key =>\r\n                    <Dropdown.Item key={key} onClick={() => characterDispatch({ type: \"statOverride\", statKey: \"specializedStatKey\", value: key })} >\r\n                      {Stat.getStatNameWithPercent(key)}\r\n                    </Dropdown.Item>)}\r\n                </DropdownButton>\r\n                <CustomFormControl float={isPercentSpecialStatSelect}\r\n                  placeholder=\"Character Special Stat\"\r\n                  value={Character.getStatValueWithOverride(character, \"specializedStatVal\")}\r\n                  onChange={value => characterDispatch({ type: \"statOverride\", statKey: \"specializedStatVal\", value })} />\r\n                <InputGroup.Append>\r\n                  {isPercentSpecialStatSelect && <InputGroup.Text>%</InputGroup.Text>}\r\n                  <Button onClick={() => {\r\n                    characterDispatch({ type: \"statOverride\", statKey: \"specializedStatKey\", value: Character.getBaseStatValue(character, \"specializedStatKey\") })\r\n                    characterDispatch({ type: \"statOverride\", statKey: \"specializedStatVal\", value: Character.getBaseStatValue(character, \"specializedStatVal\") })\r\n                  }}\r\n                    disabled={!Character.hasOverride(character, \"specializedStatKey\") && !Character.hasOverride(character, \"specializedStatVal\")}\r\n                  >\r\n                    <FontAwesomeIcon icon={faUndo} />\r\n                  </Button>\r\n                </InputGroup.Append>\r\n              </InputGroup>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body> :\r\n        <Card.Body>\r\n          <Row className=\"mb-2\">\r\n            {displayStatKeys.map(statKey => <Col xs={12} lg={6} key={statKey} ><StatDisplay statKey={statKey} {...displayNewBuildProps} /></Col>)}\r\n            <Col lg={6} xs={12}>\r\n              <span><b>Specialized:</b> <span className={Character.hasOverride(character, \"specializedStatKey\") ? \"text-warning\" : \"\"}>{Stat.getStatName(specializedStatKey)}</span></span>\r\n              <span className={`float-right ${Character.hasOverride(character, \"specializedStatVal\") ? \"text-warning\" : \"\"}`}>{`${specializedStatVal}${specializedStatUnit}`}</span>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      }\r\n    </Card >\r\n    <Card bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n      <Card.Header>\r\n        <Row>\r\n          <Col>\r\n            <span>Other Stats</span>\r\n          </Col>\r\n          {editable && <Col xs=\"auto\" >\r\n            <Button variant={editingOther ? \"danger\" : \"info\"} onClick={() => SetEditingOther(!editingOther)} size=\"sm\">\r\n              <span><FontAwesomeIcon icon={editingOther ? faSave : faEdit} /> {editingOther ? \"EXIT\" : \"EDIT\"}</span>\r\n            </Button>\r\n          </Col>}\r\n        </Row>\r\n      </Card.Header>\r\n      {editingOther ?\r\n        <Card.Body>\r\n          <Row className=\"mb-2\">\r\n            {otherStatKeys.map(statKey =>\r\n              <Col lg={6} xs={12} key={statKey}>\r\n                <StatInput\r\n                  className=\"mb-2\"\r\n                  name={<span>{StatIconEle(statKey)} {Stat.getStatName(statKey)}</span>}\r\n                  placeholder={`Base ${Stat.getStatNameRaw(statKey)}`}\r\n                  value={Character.getStatValueWithOverride(character, statKey)}\r\n                  percent={Stat.getStatUnit(statKey) === \"%\"}\r\n                  onValueChange={value => characterDispatch({ type: \"statOverride\", statKey, value })}\r\n                  defaultValue={Character.getBaseStatValue(character, statKey)}\r\n                />\r\n              </Col>)}\r\n          </Row>\r\n        </Card.Body> :\r\n        <Card.Body>\r\n          <Row className=\"mb-2\">{otherStatKeys.map(statKey => <Col xs={12} lg={6} key={statKey} ><StatDisplay statKey={statKey} {...displayNewBuildProps} /></Col>)}</Row>\r\n        </Card.Body>\r\n      }\r\n    </Card>\r\n    <Card bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n      <Card.Header>\r\n        <Row>\r\n          <Col>\r\n            <span>Misc Stats</span>\r\n          </Col>\r\n          {editable && <Col xs=\"auto\" >\r\n            <Button variant={editingMisc ? \"danger\" : \"info\"} onClick={() => SetEditingMisc(!editingMisc)} size=\"sm\">\r\n              <span><FontAwesomeIcon icon={editingMisc ? faSave : faEdit} /> {editingMisc ? \"EXIT\" : \"EDIT\"}</span>\r\n            </Button>\r\n          </Col>}\r\n        </Row>\r\n      </Card.Header>\r\n      {editingMisc ?\r\n        <Card.Body>\r\n          <Row className=\"mb-2\">\r\n            {miscStatkeys.map(statKey =>\r\n              <Col xl={6} xs={12} key={statKey}>\r\n                <StatInput\r\n                  className=\"mb-2\"\r\n                  name={<span>{StatIconEle(statKey)} {Stat.getStatName(statKey)}</span>}\r\n                  placeholder={`Base ${Stat.getStatNameRaw(statKey)}`}\r\n                  value={Character.getStatValueWithOverride(character, statKey)}\r\n                  percent={Stat.getStatUnit(statKey) === \"%\"}\r\n                  onValueChange={value => characterDispatch({ type: \"statOverride\", statKey, value })}\r\n                  defaultValue={Character.getBaseStatValue(character, statKey)}\r\n                />\r\n              </Col>)}\r\n          </Row>\r\n        </Card.Body> :\r\n        <Card.Body>\r\n          <Row className=\"mb-2\">{miscStatkeys.map(statKey => <Col xs={12} lg={6} key={statKey} ><StatDisplay statKey={statKey} {...displayNewBuildProps} /></Col>)}</Row>\r\n        </Card.Body>\r\n      }\r\n    </Card>\r\n  </>\r\n}\r\n","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useState } from 'react';\r\nimport { Card, Col, Dropdown, DropdownButton, Image, ListGroup, OverlayTrigger, Row, Tooltip } from \"react-bootstrap\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport Stat from \"../../Stat\";\r\nimport { ElementToReactionKeys } from \"../../StatData\";\r\nimport statsToFields from \"../../Util/FieldUtil\";\r\nimport Character from \"../Character\";\r\nimport ConditionalDisplay from './Components/ConditionalDisplay';\r\nimport FieldDisplay from './Components/FieldDisplay';\r\n\r\nexport default function CharacterTalentPane(props) {\r\n  const { character, character: { characterKey, levelKey, constellation }, editable, characterDispatch, newBuild, equippedBuild } = props\r\n  const ascension = Character.getAscension(levelKey)\r\n  const skillBurstList = [[\"auto\", \"Normal/Charged Attack\"], [\"skill\", \"Elemental Skill\"], [\"burst\", \"Elemental Burst\"]]\r\n  const passivesList = [[\"passive1\", \"Unlocked at Ascension 1\", 1], [\"passive2\", \"Unlocked at Ascension 4\", 4], [\"passive3\", \"Unlocked by Default\", 0]]\r\n  const skillDisplayProps = { ...props, ascension }\r\n\r\n  return <>\r\n    <Row><Col><ReactionDisplay {...{ character, newBuild, equippedBuild }} /></Col></Row>\r\n    <Row>\r\n      {/* auto, skill, burst */}\r\n      {skillBurstList.map(([tKey, tText]) =>\r\n        <Col key={tKey} xs={12} md={6} lg={4} className=\"mb-2\">\r\n          <SkillDisplayCard\r\n            {...skillDisplayProps}\r\n            talentKey={tKey}\r\n            subtitle={tText}\r\n          />\r\n        </Col>)}\r\n      {Character.getTalent(characterKey, \"sprint\", false) && <Col xs={12} md={6} lg={4} className=\"mb-2\">\r\n        <SkillDisplayCard\r\n          {...skillDisplayProps}\r\n          talentKey=\"sprint\"\r\n          subtitle=\"Alternative Sprint\"\r\n        />\r\n      </Col>}\r\n    </Row>\r\n    <Row>\r\n      {/* passives */}\r\n      {passivesList.map(([tKey, tText, asc]) => {\r\n        let enabled = ascension >= asc\r\n        return <Col key={tKey} style={{ opacity: enabled ? 1 : 0.5 }} xs={12} md={4} className=\"mb-2\">\r\n          <SkillDisplayCard\r\n            {...skillDisplayProps}\r\n            talentKey={tKey}\r\n            subtitle={tText}\r\n          />\r\n        </Col>\r\n      })}\r\n    </Row>\r\n    <Row>\r\n      <Col>\r\n        <h5 className=\"text-center\">Constellation Lv. {constellation}</h5>\r\n      </Col>\r\n    </Row>\r\n    <Row className=\"mb-n2\">\r\n      {/* constellations */}\r\n      {[...Array(6).keys()].map(i => {\r\n        let tKey = `constellation${i + 1}`\r\n        return <Col key={i} xs={12} md={4} className=\"mb-2\"\r\n          style={{ opacity: constellation > i ? 1 : 0.5 }}>\r\n          <SkillDisplayCard\r\n            {...skillDisplayProps}\r\n            talentKey={tKey}\r\n            subtitle={`Contellation Lv. ${i + 1}`}\r\n            onClickTitle={() => editable && characterDispatch({ constellation: (i + 1) === constellation ? i : i + 1 })}\r\n          />\r\n        </Col>\r\n      })}\r\n    </Row>\r\n  </>\r\n}\r\nconst ReactionComponents = {\r\n  superconduct_hit: SuperConductCard,\r\n  electrocharged_hit: ElectroChargedCard,\r\n  overloaded_hit: OverloadedCard,\r\n  pyro_swirl_hit: SwirlCard,\r\n  shattered_hit: ShatteredCard,\r\n  crystalize_hit: CrystalizeCard,\r\n}\r\nfunction ReactionDisplay({ character: { characterKey }, newBuild, equippedBuild }) {\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  const charEleKey = Character.getElementalKey(characterKey)\r\n  const eleInterArr = [...(ElementToReactionKeys[charEleKey] || [])]\r\n  if (!eleInterArr.includes(\"shattered_hit\") && Character.getWeaponTypeKey(characterKey) === \"claymore\") eleInterArr.push(\"shattered_hit\")\r\n  return <Card bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n    <Card.Body className=\"px-3 py-2\">\r\n      <Row className=\"mb-n2\">\r\n        {eleInterArr.map(key => {\r\n          const Ele = ReactionComponents[key]\r\n          if (!Ele) return null\r\n          return <Col xs=\"auto\" className=\"mb-2\" key={key}><Ele stats={build} /></Col>\r\n        })}\r\n      </Row>\r\n    </Card.Body>\r\n  </Card>\r\n}\r\nfunction SuperConductCard({ stats }) {\r\n  const sKey = \"superconduct_hit\"\r\n  return <Card bg=\"darkcontent\" text=\"lightfont\"><Card.Body className=\"p-2\">\r\n    <span className=\"text-superconduct\">{Stat.getStatName(sKey)} <Image src={Assets.elements.electro} className=\"inline-icon\" />+<Image src={Assets.elements.cryo} className=\"inline-icon\" /> {stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</span>\r\n  </Card.Body></Card>\r\n}\r\nfunction ElectroChargedCard({ stats }) {\r\n  const sKey = \"electrocharged_hit\"\r\n  return <Card bg=\"darkcontent\" text=\"lightfont\"><Card.Body className=\"p-2\">\r\n    <span className=\"text-electrocharged\">{Stat.getStatName(sKey)} <Image src={Assets.elements.electro} className=\"inline-icon\" />+<Image src={Assets.elements.hydro} className=\"inline-icon\" /> {stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</span>\r\n  </Card.Body></Card>\r\n}\r\nfunction OverloadedCard({ stats }) {\r\n  const sKey = \"overloaded_hit\"\r\n  return <Card bg=\"darkcontent\" text=\"lightfont\"><Card.Body className=\"p-2\">\r\n    <span className=\"text-overloaded\">{Stat.getStatName(sKey)} <Image src={Assets.elements.electro} className=\"inline-icon\" />+<Image src={Assets.elements.pyro} className=\"inline-icon\" /> {stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</span>\r\n  </Card.Body></Card>\r\n}\r\n\r\nconst swirlEleToDisplay = {\r\n  \"pyro\": <span>{Stat.getStatName(\"pyro_swirl_hit\")} <Image src={Assets.elements.pyro} className=\"inline-icon\" />+<Image src={Assets.elements.anemo} className=\"inline-icon\" /></span>,\r\n  \"electro\": <span>{Stat.getStatName(\"electro_swirl_hit\")} <Image src={Assets.elements.electro} className=\"inline-icon\" />+<Image src={Assets.elements.anemo} className=\"inline-icon\" /></span>,\r\n  \"cryo\": <span>{Stat.getStatName(\"cryo_swirl_hit\")} <Image src={Assets.elements.cryo} className=\"inline-icon\" />+<Image src={Assets.elements.anemo} className=\"inline-icon\" /></span>,\r\n  \"hydro\": <span>{Stat.getStatName(\"hydro_swirl_hit\")} <Image src={Assets.elements.hydro} className=\"inline-icon\" />+<Image src={Assets.elements.anemo} className=\"inline-icon\" /></span>\r\n}\r\nfunction SwirlCard({ stats }) {\r\n  const [ele, setele] = useState(Object.keys(swirlEleToDisplay)[0])\r\n  const sKey = `${ele}_swirl_hit`\r\n  return <Card bg=\"darkcontent\" text=\"lightfont\"><Card.Body className=\"p-0\">\r\n    <DropdownButton size=\"sm\" title={swirlEleToDisplay[ele]} className=\"d-inline-block\" variant=\"success\">\r\n      {Object.entries(swirlEleToDisplay).map(([key, element]) => <Dropdown.Item key={key} onClick={() => setele(key)}>{element}</Dropdown.Item>)}\r\n    </DropdownButton>\r\n    <span className={`text-${ele} p-2`}> {stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</span>\r\n  </Card.Body></Card>\r\n}\r\nfunction ShatteredCard({ stats }) {\r\n  const sKey = \"shattered_hit\"\r\n  const information = <OverlayTrigger\r\n    placement=\"top\"\r\n    overlay={<Tooltip>Claymores, Plunging Attacks and <span className=\"text-geo\">Geo DMG</span></Tooltip>}\r\n  >\r\n    <FontAwesomeIcon icon={faQuestionCircle} className=\"ml-2\" style={{ cursor: \"help\" }} />\r\n  </OverlayTrigger>\r\n  return <Card bg=\"darkcontent\" text=\"lightfont\"><Card.Body className=\"p-2\">\r\n    <span className=\"text-shattered\">{Stat.getStatName(sKey)} <Image src={Assets.elements.hydro} className=\"inline-icon\" />+<Image src={Assets.elements.cryo} className=\"inline-icon\" />+ <small className=\"text-physical\">Heavy Attack{information} </small> {stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</span>\r\n  </Card.Body></Card>\r\n}\r\nfunction CrystalizeCard({ stats }) {\r\n  const sKey = \"crystalize_hit\"\r\n  return <Card bg=\"darkcontent\" text=\"lightfont\"><Card.Body className=\"p-2\">\r\n    <span className=\"text-crystalize\">{Stat.getStatName(sKey)} <Image src={Assets.elements.electro} className=\"inline-icon\" />/<Image src={Assets.elements.hydro} className=\"inline-icon\" />/<Image src={Assets.elements.pyro} className=\"inline-icon\" />/<Image src={Assets.elements.cryo} className=\"inline-icon\" />+<Image src={Assets.elements.geo} className=\"inline-icon\" /> {stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</span>\r\n  </Card.Body></Card>\r\n}\r\n\r\nconst talentLimits = [1, 1, 2, 4, 6, 8, 10]\r\nfunction SkillDisplayCard({ character: { characterKey, constellation, talentLevelKeys = {}, }, characterDispatch, talentKey, subtitle, ascension, equippedBuild, newBuild, editable, onClickTitle }) {\r\n  let build = newBuild ? newBuild : equippedBuild\r\n  let header = null\r\n\r\n  let talentLvlKey = 0\r\n  if (talentKey in talentLevelKeys) {\r\n    const talentLvlKeyRaw = talentLevelKeys[talentKey]\r\n    const levelBoost = Character.getTalentLevelBoost(characterKey, talentKey, constellation)\r\n    talentLvlKey = talentLvlKeyRaw + levelBoost\r\n    if (editable) {\r\n      const setTalentLevel = (tKey, newTalentLevelKey) => {\r\n        talentLevelKeys[tKey] = newTalentLevelKey\r\n        characterDispatch({ talentLevelKeys })\r\n      }\r\n      header = <Card.Header>\r\n        <DropdownButton title={`Talent Lv. ${talentLvlKey + 1}`}>\r\n          {[...Array(talentLimits[ascension] + (talentKey === \"auto\" ? 1 : 0)).keys()].map(i =>\r\n            <Dropdown.Item key={i} onClick={() => setTalentLevel(talentKey, i)}>Talent Lv. {i + levelBoost + 1}</Dropdown.Item>)}\r\n        </DropdownButton>\r\n      </Card.Header>\r\n    } else {\r\n      header = <Card.Header>{`Talent Level: ${talentLvlKey + 1}`}</Card.Header>\r\n    }\r\n  }\r\n  const talentStats = Character.getTalentStats(characterKey, talentKey, build)\r\n  const statsEle = talentStats && <Row><Col>\r\n    <Card bg=\"darkcontent\" text=\"lightfont\" className=\"mb-2\">\r\n      <ListGroup className=\"text-white\" variant=\"flush\">\r\n        {statsToFields(talentStats, build).map((field, i) =>\r\n          <FieldDisplay key={i} index={i} {...{ field, equippedBuild, newBuild }} />)}\r\n      </ListGroup>\r\n    </Card>\r\n  </Col></Row>\r\n\r\n  return <Card bg=\"lightcontent\" text=\"lightfont\" className=\"h-100\">\r\n    {header}\r\n    <Card.Body className=\"mb-n2\">\r\n      <Row className={`d-flex flex-row mb-2 ${(editable && onClickTitle) ? \"cursor-pointer\" : \"\"}`} onClick={onClickTitle} >\r\n        <Col xs=\"auto\" className=\"flex-shrink-1 d-flex flex-column\">\r\n          <Image src={Character.getTalentImg(characterKey, talentKey)} className=\"thumb-mid\" />\r\n        </Col>\r\n        <Col className=\"flex-grow-1\">\r\n          <Card.Title>{Character.getTalentName(characterKey, talentKey)}</Card.Title>\r\n          <Card.Subtitle>{subtitle}</Card.Subtitle>\r\n        </Col>\r\n      </Row>\r\n      {/* Display document sections */}\r\n      {Character.getTalentDocument(characterKey, talentKey).map((section, i) => {\r\n        if (!section.canShow(build)) return null\r\n        let talentText = section.text\r\n        if (typeof talentText === \"function\")\r\n          talentText = talentText(build)\r\n        let fields = section.fields ?? []\r\n        return <div className=\"my-2\" key={\"section\" + i}>\r\n          <div xs={12}>\r\n            <div className=\"mb-2\">{talentText}</div>\r\n            {fields.length > 0 && <ListGroup className=\"text-white mb-2\">\r\n              {fields?.map?.((field, i) => <FieldDisplay key={i} index={i} {...{ field, equippedBuild, newBuild }} />)}\r\n            </ListGroup>}\r\n          </div>\r\n          {Boolean(section.conditional) && <ConditionalDisplay {...{ conditional: section.conditional, equippedBuild, newBuild, characterDispatch, editable }} />}\r\n        </div>\r\n      })}\r\n      {statsEle}\r\n    </Card.Body>\r\n  </Card>\r\n}\r\n","import { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { createContext, useCallback, useEffect, useMemo, useReducer, useRef, useState } from 'react';\r\nimport { Alert, Badge, ButtonGroup, Dropdown, DropdownButton, Image, Nav, Tab } from 'react-bootstrap';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Col from 'react-bootstrap/Col';\r\nimport DropdownToggle from 'react-bootstrap/esm/DropdownToggle';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Artifact from '../Artifact/Artifact';\r\nimport WIPComponent from '../Components/WIPComponent';\r\nimport { WeaponLevelKeys } from '../Data/WeaponData';\r\nimport { deepClone } from '../Util/Util';\r\nimport Weapon from '../Weapon/Weapon';\r\nimport Character from './Character';\r\nimport CharacterDatabase from '../Database/CharacterDatabase';\r\nimport CharacterArtifactPane from './CharacterDisplay/CharacterArtifactPane';\r\nimport CharacterOverviewPane from './CharacterDisplay/CharacterOverviewPane';\r\nimport CharacterTalentPane from './CharacterDisplay/CharacterTalentPane';\r\nimport DamageOptionsAndCalculation from './CharacterDisplay/DamageOptionsAndCalculation';\r\nimport { CharacterFormulaImport } from '../Formula';\r\n\r\nexport const compareAgainstEquippedContext = createContext()\r\n\r\nconst CustomMenu = React.forwardRef(\r\n  ({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        style={{ style, minWidth: \"25rem\" }}\r\n        className={className}\r\n        aria-labelledby={labeledBy}\r\n      >\r\n        <Row>\r\n          {React.Children.toArray(children).map((child, i) => <Col key={i} xs={6}>{child}</Col>)}\r\n        </Row>\r\n      </div>\r\n    );\r\n  },\r\n);\r\nconst initialCharacter = (characterKey) => ({\r\n  characterKey: characterKey ?? \"\",//the game character this is based off\r\n  levelKey: \"L1\",//combination of level and ascension\r\n  hitMode: \"hit\",\r\n  reactionMode: null,\r\n  equippedArtifacts: {},\r\n  artifactConditionals: [],\r\n  conditionalValues: {},\r\n  baseStatOverrides: {},//overriding the baseStat\r\n  weapon: {\r\n    key: Object.keys(Weapon.getWeaponsOfType(Character.getWeaponTypeKey(characterKey)))[0] ?? \"\",\r\n    levelKey: WeaponLevelKeys[0],\r\n    refineIndex: 0,\r\n    overrideMainVal: 0,\r\n    overrideSubVal: 0,\r\n  },\r\n  talentLevelKeys: {\r\n    auto: 0,\r\n    skill: 0,\r\n    burst: 0,\r\n  },\r\n  infusionAura: \"\",\r\n  talentConditionals: [],\r\n  constellation: 0,\r\n})\r\n\r\nfunction characterReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"overwrite\":\r\n      return { ...state, ...action.character }\r\n    case \"fromDB\"://for equipping artifacts, that makes the changes in DB instead of in state.\r\n      return { ...state, ...CharacterDatabase.get(state.characterKey, {}) }\r\n    case \"statOverride\": {\r\n      const { statKey, value } = action\r\n      const baseStatOverrides = state.baseStatOverrides\r\n      const baseStatVal = Character.getBaseStatValue(state, statKey)\r\n      if (baseStatVal === value)\r\n        delete baseStatOverrides[statKey]\r\n      else\r\n        baseStatOverrides[statKey] = value\r\n      return { ...state, baseStatOverrides }\r\n    }\r\n    default:\r\n      break;\r\n  }\r\n  return { ...state, ...action }\r\n}\r\nexport default function CharacterDisplayCard({ characterKey: propCharacterKey, character: propCharacter, setCharacterKey: propSetCharacterKey, footer, newBuild: propNewBuild, editable, onClose, tabName }) {\r\n  const [character, characterDispatch] = useReducer(characterReducer, initialCharacter(propCharacterKey))\r\n  const [compareAgainstEquipped, setcompareAgainstEquipped] = useState(false)\r\n  const firstUpdate = useRef(true)\r\n  const [updateState, update] = useState({})\r\n  const forceUpdate = useCallback(() => update({}), [])\r\n  useEffect(() => {\r\n    if (!propCharacterKey) return\r\n    const char = { ...initialCharacter(propCharacterKey), ...CharacterDatabase.get(propCharacterKey, {}) }\r\n    characterDispatch({ type: \"overwrite\", character: char })\r\n  }, [propCharacterKey])\r\n  useEffect(() => {\r\n    if (!propCharacter) return\r\n    const char = { ...initialCharacter(propCharacter.characterKey), ...propCharacter }\r\n    characterDispatch({ type: \"overwrite\", character: char })\r\n  }, [propCharacter])\r\n  useEffect(() => {\r\n    Promise.all([\r\n      Character.getCharacterDataImport(),\r\n      Weapon.getWeaponDataImport(),\r\n      Artifact.getDataImport(),\r\n      CharacterFormulaImport\r\n    ]).then(forceUpdate)\r\n  }, [forceUpdate])\r\n\r\n  useEffect(() => {\r\n    //skip saving on the first update, since those updates are from loading from DB\r\n    if (firstUpdate.current) {\r\n      firstUpdate.current = false\r\n      return\r\n    }\r\n    //save character to DB\r\n    editable && CharacterDatabase.update(character)\r\n  }, [character, editable])\r\n\r\n  const characterKey = propCharacter?.characterKey ?? character.characterKey\r\n\r\n  const setCharacterKey = useCallback(\r\n    newCKey => {\r\n      let state = initialCharacter(newCKey)\r\n      const char = CharacterDatabase.get(newCKey)\r\n      if (char) state = { ...state, ...char }\r\n      characterDispatch({ type: \"overwrite\", character: state })\r\n      if (newCKey !== characterKey)\r\n        propSetCharacterKey?.(newCKey)\r\n    }, [characterKey, characterDispatch, propSetCharacterKey])\r\n\r\n  const newBuild = useMemo(() => {\r\n    if (!propNewBuild) return\r\n    const newBuild = propNewBuild && deepClone(propNewBuild)\r\n    newBuild.hitMode = character.hitMode;\r\n    newBuild.reactionMode = character.reactionMode;\r\n    return newBuild\r\n  }, [propNewBuild, character.hitMode, character.reactionMode])\r\n\r\n  const { levelKey, artifacts: flexArts } = character\r\n\r\n  const mainStatAssumptionLevel = newBuild?.mainStatAssumptionLevel ?? 0\r\n  const equippedBuild = useMemo(() => updateState && Character.calculateBuild(character, mainStatAssumptionLevel), [character, updateState, mainStatAssumptionLevel])\r\n\r\n  const HeaderIconDisplay = characterKey ? <span >\r\n    <Image src={Character.getThumb(characterKey)} className=\"thumb-small my-n1 ml-n2\" roundedCircle />\r\n    <h6 className=\"d-inline\"> {Character.getName(characterKey)} </h6>\r\n  </span> : <span>Select a Character</span>\r\n  const commonPaneProps = { character, newBuild, equippedBuild: (!newBuild || compareAgainstEquipped) ? equippedBuild : undefined, editable, characterDispatch, compareAgainstEquipped }\r\n  if (flexArts) commonPaneProps.artifacts = flexArts//from flex\r\n  // main CharacterDisplayCard\r\n  const DamageOptionsAndCalculationEle = Character.hasTalentPage(characterKey) && <DamageOptionsAndCalculation {...{ character, characterDispatch, newBuild, equippedBuild }} className=\"mb-2\" />\r\n  return (<Card bg=\"darkcontent\" text=\"lightfont\" >\r\n    <Card.Header>\r\n      <Row>\r\n        <Col xs={\"auto\"} className=\"mr-auto\">\r\n          {/* character selecter/display */}\r\n          {editable ? <ButtonGroup>\r\n            <Dropdown as={ButtonGroup}>\r\n              <DropdownToggle as={Button}>\r\n                {HeaderIconDisplay}\r\n              </DropdownToggle>\r\n              <Dropdown.Menu as={CustomMenu}>\r\n                {Character.getAllCharacterKeys().map(charKey =>\r\n                  <Dropdown.Item key={charKey} onClick={() => setCharacterKey(charKey)}>\r\n                    <span >\r\n                      <Image src={Character.getThumb(charKey)} className={`thumb-small p-0 m-n1 grad-${Character.getStar(charKey)}star`} thumbnail />\r\n                      <h6 className=\"d-inline ml-2\">{Character.getName(charKey)} </h6>\r\n                    </span>\r\n                  </Dropdown.Item>)}\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n            <DropdownButton as={ButtonGroup} disabled={!characterKey} title={\r\n              <h6 className=\"d-inline\">Stats Template: {Character.getlevelTemplateName(levelKey)} </h6>\r\n            }>\r\n              <Dropdown.ItemText>\r\n                <span>Select Base Stat Template</span>\r\n              </Dropdown.ItemText>\r\n              {Character.getlevelKeys().map(lvlKey =>\r\n                <Dropdown.Item key={lvlKey} onClick={() => characterDispatch({ levelKey: lvlKey })}>\r\n                  <h6 >{Character.getlevelTemplateName(lvlKey)} </h6>\r\n                </Dropdown.Item>)}\r\n            </DropdownButton>\r\n          </ButtonGroup> : <span>{HeaderIconDisplay} {Character.getLevelString(character)}</span>}\r\n        </Col>\r\n        {Boolean(mainStatAssumptionLevel) && <Col xs=\"auto\"><Alert className=\"mb-0 py-1 h-100\" variant=\"orange\" ><b>Assume Main Stats are Level {mainStatAssumptionLevel}</b></Alert></Col>}\r\n        {/* Compare against new build toggle */}\r\n        {newBuild ? <Col xs=\"auto\">\r\n          <ButtonGroup>\r\n            <Button variant={compareAgainstEquipped ? \"primary\" : \"success\"} disabled={!compareAgainstEquipped} onClick={() => setcompareAgainstEquipped(false)}>\r\n              <small>Show New artifact Stats</small>\r\n            </Button>\r\n            <Button variant={!compareAgainstEquipped ? \"primary\" : \"success\"} disabled={compareAgainstEquipped} onClick={() => setcompareAgainstEquipped(true)}>\r\n              <small>Compare against equipped artifact</small>\r\n            </Button>\r\n          </ButtonGroup>\r\n        </Col> : null}\r\n        {Boolean(onClose) && <Col xs=\"auto\" >\r\n          <Button variant=\"danger\" onClick={onClose}>\r\n            <FontAwesomeIcon icon={faTimes} /></Button>\r\n        </Col>}\r\n      </Row>\r\n    </Card.Header>\r\n    {Boolean(characterKey) && <Card.Body>\r\n      <compareAgainstEquippedContext.Provider value={compareAgainstEquipped}>\r\n        <Tab.Container defaultActiveKey={tabName ? tabName : (newBuild ? \"newartifacts\" : \"character\")} mountOnEnter={true} unmountOnExit={true}>\r\n          <Nav variant=\"pills\" className=\"mb-2 mx-0\" fill>\r\n            <Nav.Item >\r\n              <Nav.Link eventKey=\"character\"><h5 className=\"mb-0\">Character</h5></Nav.Link>\r\n            </Nav.Item>\r\n            {newBuild ? <Nav.Item>\r\n              <Nav.Link eventKey=\"newartifacts\"><h5 className=\"mb-0\">New Artifacts</h5></Nav.Link>\r\n            </Nav.Item> : null}\r\n            <Nav.Item>\r\n              <Nav.Link eventKey=\"artifacts\"><h5 className=\"mb-0\">{newBuild ? \"Current Artifacts\" : \"Artifacts\"}</h5></Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n              {(process.env.NODE_ENV !== \"development\" && !Character.hasTalentPage(characterKey)) ?\r\n                <WIPComponent>\r\n                  <Nav.Link eventKey=\"talent\" disabled><h5 className=\"mb-0\">Talents</h5> <Badge variant=\"warning\">WIP</Badge></Nav.Link>\r\n                </WIPComponent> :\r\n                <Nav.Link eventKey=\"talent\"><h5 className=\"mb-0\">Talents</h5></Nav.Link>\r\n              }\r\n            </Nav.Item>\r\n          </Nav>\r\n          <Tab.Content>\r\n            <Tab.Pane eventKey=\"character\">\r\n              {DamageOptionsAndCalculationEle}\r\n              <CharacterOverviewPane\r\n                {...commonPaneProps}\r\n              />\r\n            </Tab.Pane>\r\n            <Tab.Pane eventKey=\"artifacts\" >\r\n              {DamageOptionsAndCalculationEle}\r\n              <CharacterArtifactPane {...{ ...commonPaneProps, newBuild: undefined, equippedBuild, }} />\r\n            </Tab.Pane>\r\n            {newBuild ? <Tab.Pane eventKey=\"newartifacts\" >\r\n              {DamageOptionsAndCalculationEle}\r\n              <CharacterArtifactPane {...commonPaneProps} />\r\n            </Tab.Pane> : null}\r\n            <Tab.Pane eventKey=\"talent\">\r\n              {DamageOptionsAndCalculationEle}\r\n              <CharacterTalentPane {...commonPaneProps} />\r\n            </Tab.Pane>\r\n          </Tab.Content>\r\n        </Tab.Container>\r\n      </compareAgainstEquippedContext.Provider>\r\n    </Card.Body>}\r\n    {footer && <Card.Footer>\r\n      {footer}\r\n    </Card.Footer>}\r\n  </Card>)\r\n}\r\n","import { OverlayTrigger, Tooltip } from \"react-bootstrap\"\r\n\r\nconst WIPComponent = ({ children }) =>\r\n  <OverlayTrigger\r\n    overlay={<Tooltip>Work In Progress</Tooltip>}\r\n  >\r\n    <span>\r\n      {children}\r\n    </span>\r\n  </OverlayTrigger>\r\n\r\nexport default WIPComponent","import { Badge, Card, ListGroup } from \"react-bootstrap\"\r\nimport ConditionalDisplay from \"../../Character/CharacterDisplay/Components/ConditionalDisplay\"\r\nimport FieldDisplay from \"../../Character/CharacterDisplay/Components/FieldDisplay\"\r\nimport statsToFields from \"../../Util/FieldUtil\"\r\nimport Artifact from \"../Artifact\"\r\n\r\nexport default function SetEffectDisplay({ setKey, setNumKey, equippedBuild, newBuild, editable, characterDispatch }) {\r\n  const stats = newBuild ? newBuild : equippedBuild\r\n  const setEffectText = Artifact.getSetEffectText(setKey, setNumKey, stats)\r\n  const setStats = Artifact.getArtifactSetNumStats(setKey, setNumKey)\r\n  const setStatsFields = statsToFields(setStats, stats)\r\n  const conditionals = Artifact.getSetEffectConditionals(setKey, setNumKey)\r\n  return <>\r\n    <Card bg=\"darkcontent\" text=\"lightfont\" className=\"mb-2 w-100\" >\r\n      <Card.Header className=\"p-2\">\r\n        <Badge variant=\"success\">{setNumKey}-Set</Badge> {setEffectText}\r\n      </Card.Header>\r\n      <ListGroup className=\"text-white\" variant=\"flush\">\r\n        {setStatsFields.map((field, i) => <FieldDisplay key={i} index={i} {...{ field, equippedBuild, newBuild }} />)}\r\n      </ListGroup>\r\n    </Card>\r\n    {Boolean(conditionals) && Object.entries(conditionals).map(([ckey, conditional]) => <ConditionalDisplay key={ckey} {...{ conditional, equippedBuild, newBuild, characterDispatch, editable }} />)}\r\n  </>\r\n}","\r\n//take the new statsDisplayKeys, and display the stats.\r\n\r\nimport { Card, Col, Row } from \"react-bootstrap\"\r\nimport StatDisplay from \"../../Components/StatDisplay\"\r\nimport Character from \"../Character\"\r\n\r\nexport default function StatDisplayComponent({ character, character: { characterKey }, equippedBuild, newBuild, statsDisplayKeys, editable, cardbg = \"darkcontent\" }) {\r\n  return <Row className=\"mb-n2\">{Object.entries(statsDisplayKeys).map(([talentKey, sectionValues]) => {\r\n    let header = \"\"\r\n    if (talentKey === \"basicKeys\") header = \"Basic Stats\"\r\n    else if (talentKey === \"genericAvgHit\") header = \"Generic Optimization Values\"\r\n    else if (talentKey === \"transReactions\") header = \"Transformation Reaction\"\r\n    else header = Character.getTalentName(characterKey, talentKey, talentKey)\r\n    return <Col key={talentKey} className=\"mb-2\" xs={12} md={6} xl={4}>\r\n      <Card bg={cardbg} text=\"lightfont\" className=\"h-100\">\r\n        <Card.Header>{header}</Card.Header>\r\n        <Card.Body>\r\n          <Row>{sectionValues.map(statKey => <StatDisplay key={JSON.stringify(statKey)} {...{ character, equippedBuild, newBuild, editable, statKey }} />)}</Row>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  })}</Row>\r\n}","import { faCheckSquare, faSquare, faWindowMaximize, faWindowMinimize } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useContext, useMemo } from 'react';\r\nimport { Accordion, AccordionContext, Button, Card, Col, Dropdown, Image, Row, ToggleButton, ToggleButtonGroup } from \"react-bootstrap\";\r\nimport { useAccordionToggle } from 'react-bootstrap/AccordionToggle';\r\nimport Assets from \"../../Assets/Assets\";\r\nimport Stat from \"../../Stat\";\r\nimport { GetDependencies } from \"../../StatDependency\";\r\nimport Character from \"../Character\";\r\nimport StatInput from \"../StatInput\";\r\nconst infusionVals = {\r\n  \"\": <span>No Infusion</span>,\r\n  \"pyro\": <span >Pyro Infusion</span>,\r\n  \"cryo\": <span >Cryo Infusion</span>,\r\n}\r\n\r\nexport function InfusionAuraDropdown({ character: { infusionAura = \"\", characterKey }, characterDispatch, className }) {\r\n  if (!Character.isMelee(characterKey)) return null\r\n  return <Dropdown className={className}>\r\n    <Dropdown.Toggle variant={infusionAura || \"secondary\"}>{infusionVals[infusionAura]}</Dropdown.Toggle>\r\n    <Dropdown.Menu>\r\n      {Object.entries(infusionVals).map(([key, text]) => <Dropdown.Item key={key} className={`text-${key}`} onClick={() => characterDispatch({ infusionAura: key })}>{text}</Dropdown.Item>)}\r\n    </Dropdown.Menu>\r\n  </Dropdown>\r\n}\r\n\r\nexport function ReactionToggle({ character: { characterKey, reactionMode = \"none\", infusionAura }, characterDispatch, className }) {\r\n  if (reactionMode === null) reactionMode = \"none\"\r\n  let charEleKey = Character.getElementalKey(characterKey)\r\n  if (![\"pyro\", \"hydro\", \"cryo\"].includes(charEleKey) && ![\"pyro\", \"hydro\", \"cryo\"].includes(infusionAura)) return null\r\n  return <ToggleButtonGroup className={className} type=\"radio\" name=\"reactionMode\" value={reactionMode} onChange={val => characterDispatch({ reactionMode: val === \"none\" ? null : val })}>\r\n    <ToggleButton value={\"none\"} variant={reactionMode === \"none\" ? \"success\" : \"primary\"}>No Reactions</ToggleButton >\r\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value={\"pyro_vaporize\"} variant={reactionMode === \"pyro_vaporize\" ? \"success\" : \"primary\"}>\r\n      <span className=\"text-vaporize\">Vaporize(Pyro) <Image src={Assets.elements.hydro} className=\"inline-icon\" />+<Image src={Assets.elements.pyro} className=\"inline-icon\" /></span>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value={\"pyro_melt\"} variant={reactionMode === \"pyro_melt\" ? \"success\" : \"primary\"}>\r\n      <span className=\"text-melt\">Melt(Pyro) <Image src={Assets.elements.cryo} className=\"inline-icon\" />+<Image src={Assets.elements.pyro} className=\"inline-icon\" /></span>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"hydro\" || infusionAura === \"hydro\") && <ToggleButton value={\"hydro_vaporize\"} variant={reactionMode === \"hydro_vaporize\" ? \"success\" : \"primary\"}>\r\n      <span className=\"text-vaporize\">Vaporize(Hydro) <Image src={Assets.elements.pyro} className=\"inline-icon\" />+<Image src={Assets.elements.hydro} className=\"inline-icon\" /></span>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"cryo\" || infusionAura === \"cryo\") && <ToggleButton value={\"cryo_melt\"} variant={reactionMode === \"cryo_melt\" ? \"success\" : \"primary\"}>\r\n      <span className=\"text-melt\">Melt(Cryo) <Image src={Assets.elements.pyro} className=\"inline-icon\" />+<Image src={Assets.elements.cryo} className=\"inline-icon\" /></span>\r\n    </ToggleButton >}\r\n  </ToggleButtonGroup>\r\n}\r\nexport function HitModeToggle({ hitMode, characterDispatch, className }) {\r\n  return <ToggleButtonGroup type=\"radio\" value={hitMode} name=\"hitOptions\" onChange={m => characterDispatch({ hitMode: m })} className={className}>\r\n    <ToggleButton value=\"avgHit\" variant={hitMode === \"avgHit\" ? \"success\" : \"primary\"}>Avg. DMG</ToggleButton>\r\n    <ToggleButton value=\"hit\" variant={hitMode === \"hit\" ? \"success\" : \"primary\"}>Non Crit DMG</ToggleButton>\r\n    <ToggleButton value=\"critHit\" variant={hitMode === \"critHit\" ? \"success\" : \"primary\"}>Crit Hit DMG</ToggleButton>\r\n  </ToggleButtonGroup>\r\n}\r\n\r\nfunction CalculationDisplay({ build }) {\r\n  const displayStatKeys = useMemo(() => Character.getDisplayStatKeys(build), [build])\r\n  return <div>\r\n    {Object.entries(displayStatKeys).map(([talentKey, fields]) => {\r\n      let header = \"\"\r\n      if (talentKey === \"basicKeys\") header = \"Basic Stats\"\r\n      else if (talentKey === \"genericAvgHit\") header = \"Generic Optimization Values\"\r\n      else if (talentKey === \"transReactions\") header = \"Transformation Reaction\"\r\n      else header = Character.getTalentName(build.characterKey, talentKey, talentKey)\r\n      return <Card bg=\"darkcontent\" text=\"lightfont\" key={talentKey} className=\"w-100 mb-2\">\r\n        <Card.Header>{header}</Card.Header>\r\n        <Card.Body className=\"p-2\">\r\n          <Accordion className=\"mb-n2\">\r\n            {fields.map((field, fieldIndex) => {\r\n              //simple statKey field\r\n              if (typeof field === \"string\") {\r\n                const subFormulaKeys = Stat.getPrintableFormulaStatKeyList(GetDependencies(build?.modifiers, [field]), build?.modifiers).reverse()\r\n                return Boolean(subFormulaKeys.length) && <Card key={fieldIndex} bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n                  <Accordion.Toggle as={Card.Header} className=\"p-2 cursor-pointer\" variant=\"link\" eventKey={`field${fieldIndex}`}>\r\n                    {Stat.printStat(field, build)}\r\n                  </Accordion.Toggle>\r\n                  <Accordion.Collapse eventKey={`field${fieldIndex}`}>\r\n                    <Card.Body className=\"p-2\">\r\n                      <div className=\"mb-n2\">\r\n                        {subFormulaKeys.map(subKey =>\r\n                          <p className=\"mb-2\" key={subKey}>{Stat.printStat(subKey, build)} = <small>{Stat.printFormula(subKey, build, build.modifiers, false)}</small></p>\r\n                        )}\r\n                      </div>\r\n                    </Card.Body>\r\n                  </Accordion.Collapse>\r\n                </Card>\r\n              }\r\n              //fields\r\n              const talentField = Character.getTalentField(build, field.talentKey, field.sectionIndex, field.fieldIndex)\r\n              const fieldText = Character.getTalentFieldValue(talentField, \"text\", build)\r\n              const fieldVariant = Character.getTalentFieldValue(talentField, \"variant\", build)\r\n              const fieldFormulaText = Character.getTalentFieldValue(talentField, \"formulaText\", build)\r\n              const [fieldFormula, fieldFormulaDependency] = Character.getTalentFieldValue(talentField, \"formula\", build, [])\r\n              if (!fieldFormula || !fieldFormulaDependency) return null\r\n              const fieldValue = fieldFormula?.(build)?.toFixed?.()\r\n              const subFormulaKeys = Stat.getPrintableFormulaStatKeyList(GetDependencies(build?.modifiers, fieldFormulaDependency), build?.modifiers).reverse()\r\n              return <Card key={fieldIndex} bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n                <Accordion.Toggle as={Card.Header} className=\"p-2 cursor-pointer\" variant=\"link\" eventKey={`field${fieldIndex}`}>\r\n                  <b className={`text-${fieldVariant}`}>{fieldText}</b> <span className=\"text-info\">{fieldValue}</span>\r\n                </Accordion.Toggle>\r\n                <Accordion.Collapse eventKey={`field${fieldIndex}`}>\r\n                  <Card.Body className=\"p-2\">\r\n                    <div className=\"mb-n2\">\r\n                      <p className=\"mb-2\"><b className={`text-${fieldVariant}`}>{fieldText}</b> <span className=\"text-info\">{fieldValue}</span> = <small>{fieldFormulaText}</small></p>\r\n                      {subFormulaKeys.map(subKey =>\r\n                        <p className=\"mb-2\" key={subKey}>{Stat.printStat(subKey, build)} = <small>{Stat.printFormula(subKey, build, build.modifiers, false)}</small></p>\r\n                      )}\r\n                    </div>\r\n                  </Card.Body>\r\n                </Accordion.Collapse>\r\n              </Card>\r\n            })}\r\n          </Accordion>\r\n        </Card.Body>\r\n      </Card>\r\n    })}\r\n  </div>\r\n}\r\n\r\nconst ContextAwareToggle = ({ eventKey, callback }) => {\r\n  const currentEventKey = useContext(AccordionContext);\r\n  const decoratedOnClick = useAccordionToggle(\r\n    eventKey,\r\n    () => callback && callback(eventKey),\r\n  );\r\n  const expanded = currentEventKey === eventKey;\r\n  return (\r\n    <Button onClick={decoratedOnClick} variant=\"info\">\r\n      <FontAwesomeIcon icon={expanded ? faWindowMinimize : faWindowMaximize} className={`fa-fw ${expanded ? \"fa-rotate-180\" : \"\"}`} />\r\n      <span> </span>{expanded ? \"Retract\" : \"Expand\"}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default function DamageOptionsAndCalculation({ character, character: { hitMode }, characterDispatch, newBuild, equippedBuild, className }) {\r\n  //choose which one to display stats for\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  return <div className={className}>\r\n    <Card bg=\"lightcontent\" text=\"lightfont\" className=\"mb-2\">\r\n      <Card.Header>\r\n        <Row className=\"mb-n2\">\r\n          <Col xs=\"auto\"><InfusionAuraDropdown character={character} characterDispatch={characterDispatch} className=\"mb-2\" /></Col>\r\n          <Col xs=\"auto\"><HitModeToggle hitMode={hitMode} characterDispatch={characterDispatch} className=\"mb-2\" /></Col>\r\n          <Col xs=\"auto\"><ReactionToggle character={character} characterDispatch={characterDispatch} className=\"mb-2\" /></Col>\r\n        </Row>\r\n      </Card.Header>\r\n    </Card>\r\n    <Accordion >\r\n      <Card bg=\"lightcontent\" text=\"lightfont\" >\r\n        <Card.Header>\r\n          <Row>\r\n            <Col>\r\n              <span className=\"d-block\">Damage Calculation Options & Formulas</span>\r\n              <small>Expand below to edit enemy details and view calculation details.</small>\r\n            </Col>\r\n            <Col xs=\"auto\">\r\n              <ContextAwareToggle as={Button} eventKey=\"details\" />\r\n            </Col>\r\n          </Row>\r\n        </Card.Header>\r\n        <Accordion.Collapse eventKey=\"details\">\r\n          <Card.Body className=\"p-2\">\r\n            <Card className=\"mb-2\" bg=\"darkcontent\" text=\"lightfont\">\r\n              <Card.Header>\r\n                <Row>\r\n                  <Col>Enemy Editor</Col>\r\n                  <Col xs=\"auto\">\r\n                    <Button variant=\"warning\" size=\"sm\">\r\n                      <a href=\"https://genshin-impact.fandom.com/wiki/Damage#Base_Enemy_Resistances\" target=\"_blank\" rel=\"noreferrer\">To get the specific resistance values of enemies, please visit the wiki.</a>\r\n                    </Button >\r\n                  </Col>\r\n                </Row>\r\n              </Card.Header>\r\n              <Card.Body className=\"p-2\">\r\n                <Row >\r\n                  <Col xs={12} xl={6} className=\"mb-2\">\r\n                    <StatInput\r\n                      name={<b>Enemy Level</b>}\r\n                      value={Character.getStatValueWithOverride(character, \"enemyLevel\")}\r\n                      placeholder={Stat.getStatNameRaw(\"enemyLevel\")}\r\n                      defaultValue={Character.getBaseStatValue(character, \"enemyLevel\")}\r\n                      onValueChange={value => characterDispatch({ type: \"statOverride\", statKey: \"enemyLevel\", value })}\r\n                    />\r\n                  </Col>\r\n                  {Character.getElementalKeys().map(eleKey => {\r\n                    let statKey = eleKey === \"physical\" ? \"physical_enemyRes_\" : `${eleKey}_enemyRes_`\r\n                    let immunityStatKey = eleKey === \"physical\" ? \"physical_enemyImmunity\" : `${eleKey}_enemyImmunity`\r\n                    let elementImmunity = Character.getStatValueWithOverride(character, immunityStatKey)\r\n                    return <Col xs={12} xl={6} key={eleKey} className=\"mb-2\">\r\n                      <StatInput\r\n                        prependEle={<Button variant={eleKey} onClick={() => characterDispatch({ type: \"statOverride\", statKey: immunityStatKey, value: !elementImmunity })} className=\"text-darkcontent\">\r\n                          <FontAwesomeIcon icon={elementImmunity ? faCheckSquare : faSquare} className=\"fa-fw\" /> Immunity\r\n                </Button>}\r\n                        name={<b>{Stat.getStatName(statKey)}</b>}\r\n                        value={Character.getStatValueWithOverride(character, statKey)}\r\n                        placeholder={Stat.getStatNameRaw(statKey)}\r\n                        defaultValue={Character.getBaseStatValue(character, statKey)}\r\n                        onValueChange={value => characterDispatch({ type: \"statOverride\", statKey, value })}\r\n                        disabled={elementImmunity}\r\n                        percent\r\n                      />\r\n                    </Col>\r\n                  })}\r\n                  <Col xs={12}><small>Note: for negative resistances due to resistance shred like Zhongli's shield (e.g. -10%), enter the RAW value (-10). GO will half the value for you in the calculations.</small></Col>\r\n                </Row>\r\n              </Card.Body>\r\n            </Card>\r\n            <CalculationDisplay build={build} />\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>\r\n    </Accordion>\r\n  </div>\r\n}\r\n","/// Schema keys\r\n/// Common {\r\n///   encode?: A function that transform encoding object into the specified format\r\n///   decode?: A function that transform object in the specified format into the decoded object\r\n/// }\r\n///\r\n/// UInt: { type: \"uint\",\r\n///   length?: number of bytes, uses variable-length format if not set,\r\n/// }\r\n/// String: { type: \"string\" }\r\n/// Array: { type: \"array\",\r\n///   schemas?: Array of schemas, in the same order as the item,\r\n///   defaultSchema?: Default schema for when `schemas[i]` is `null`,\r\n/// }\r\n/// Object: { type: \"object\",\r\n///   schemas: A key-schema dictionary. All keys are encoded {\r\n///     default: default value if the object[key] doesn't exist\r\n///   }\r\n/// }\r\n/// Sparse: { type: \"sparse\",\r\n///   keys?: A list of permitted keys, `null` if all keys are permitted,\r\n///   keySchema: Common schema for keys,\r\n///   valueSchema: Common schema for values,\r\n/// }\r\n\r\nexport function encode(data, schema) {\r\n  return encodeItem(data, schema, null)\r\n}\r\nexport function decode(string, schema) {\r\n  const stream = new BlockStream(string)\r\n  const result = decodeItem(stream, schema, null)\r\n  stream.end()\r\n  return result\r\n}\r\n\r\nfunction encodeItem(data, schema, pathItem) {\r\n  try {\r\n    if (schema.encode)\r\n      data = schema.encode(data)\r\n    switch (schema.type) {\r\n      case \"uint\": return encodeUInt(data, schema)\r\n      case \"string\": return encodeString(data, schema)\r\n      case \"array\": return encodeArray(data, schema)\r\n      case \"object\": return encodeObject(data, schema)\r\n      case \"sparse\": return encodeSparse(data, schema)\r\n      default: throw new Error(`Unsupported schema type ${schema.type} on array`)\r\n    }\r\n  } catch (error) {\r\n    error.path = error.path ?? []\r\n    error.path.push(pathItem)\r\n    throw error\r\n  }\r\n}\r\nfunction decodeItem(stream, schema, pathItem) {\r\n  try {\r\n    let result\r\n    switch (schema.type) {\r\n      case \"uint\": result = decodeUInt(stream, schema); break\r\n      case \"string\": result = decodeString(stream, schema); break\r\n      case \"array\": result = decodeArray(stream, schema); break\r\n      case \"object\": result = decodeObject(stream, schema); break\r\n      case \"sparse\": result = decodeSparse(stream, schema); break\r\n      default: throw new Error(`Unsupported schema type ${schema.type} on array`)\r\n    }\r\n    if (schema.decode)\r\n      return schema.decode(result)\r\n    return result\r\n  } catch (error) {\r\n    error.path = error.path ?? []\r\n    error.path.push(pathItem)\r\n    throw error\r\n  }\r\n}\r\n\r\nfunction encodeSparse(data, schema) {\r\n  const { keySchema, keys, valueSchema } = schema\r\n  const items = Object.entries(data).filter(([key]) => keys?.includes(key) ?? true)\r\n\r\n  return encodeLength(items.length) + items.map(([key, value]) =>\r\n    encodeItem(key, keySchema, key) + encodeItem(value, valueSchema, key)\r\n  ).join('')\r\n}\r\nfunction decodeSparse(stream, schema) {\r\n  const { keys, keySchema, valueSchema } = schema\r\n  const length = decodeLength(stream)\r\n\r\n  return Object.fromEntries([...new Array(length)].map(() => {\r\n    const key = decodeItem(stream, keySchema, null)\r\n    const value = decodeItem(stream, valueSchema, key)\r\n    return [key, value]\r\n  }).filter(([key]) => keys?.includes(key) ?? true))\r\n}\r\n\r\nfunction encodeObject(data, schema) {\r\n  const { schemas = [] } = schema\r\n  return Object.entries(schemas).map(([key, schema]) =>\r\n    encodeItem(key in data ? data[key] : schema.default, schema, key)\r\n  ).join('')\r\n}\r\nfunction decodeObject(stream, schema) {\r\n  const { schemas = [] } = schema\r\n  return Object.fromEntries(Object.entries(schemas).map(([key, schema]) =>\r\n    [key, decodeItem(stream, schema, key)]\r\n  ))\r\n}\r\n\r\nfunction encodeArray(data, schema) {\r\n  const { schemas = [], defaultSchema } = schema\r\n  return encodeLength(data.length) + data.map((item, i) =>\r\n    encodeItem(item, schemas[i] ?? defaultSchema, i)\r\n  ).join('')\r\n}\r\nfunction decodeArray(stream, schema) {\r\n  const { schemas = [], defaultSchema } = schema, length = decodeLength(stream)\r\n  return [...new Array(length)].map((unused, i) =>\r\n    decodeItem(stream, schemas[i] ?? defaultSchema, i))\r\n}\r\n\r\nfunction encodeString(string, schema) {\r\n  if (!string.match(/^[a-z0-9\\-_]+$/i))\r\n    throw new Error(`Cannot encode string ${string}: not alphanumeric or -_`)\r\n  return encodeLength(string.length) + string\r\n}\r\nfunction decodeString(stream, schema) {\r\n  const string = stream.take(decodeLength(stream))\r\n  if (!string.match(/^[a-z0-9\\-_]+$/i))\r\n    throw new Error(`Cannot decode string ${string}: not alphanumeric or -_`)\r\n  return string\r\n}\r\n\r\nfunction encodeUInt(uint, schema) {\r\n  const string = uintToString(uint, schema.length)\r\n  return schema.length ? string : (encodeLength(string.length) + string)\r\n}\r\nfunction decodeUInt(stream, schema) {\r\n  let length = schema.length || decodeLength(stream)\r\n  return stringToUInt(stream.take(length))\r\n}\r\n\r\n// Keep the length low. We might want to reserve high bits for later extension.\r\nfunction encodeLength(length) {\r\n  if (length >= 32)\r\n    throw new Error(`Length (${length}) too large`)\r\n  return uintToString(length, 1)\r\n}\r\nfunction decodeLength(stream) {\r\n  let length = stringToUInt(stream.take(1))\r\n  if (length >= 32)\r\n    throw new Error(`Length (${length}) too large`)\r\n  return length\r\n}\r\n\r\nexport function uintToString(number, length = 0) {\r\n  if (number < 0) throw new Error(`Cannot encode negative number ${number}`)\r\n\r\n  var string = \"\"\r\n  while (number > 0) {\r\n    const remainder = number % 64\r\n    number = Math.floor(number / 64)\r\n    if (remainder < 10) // 0-9\r\n      string += String.fromCharCode(remainder + 48 - 0)\r\n    else if (remainder < 36) // a-z\r\n      string += String.fromCharCode(remainder + 97 - 10)\r\n    else if (remainder < 62) // A-Z\r\n      string += String.fromCharCode(remainder + 65 - 36)\r\n    else if (remainder === 62) // -\r\n      string += \"-\"\r\n    else if (remainder === 63) // _\r\n      string += \"_\"\r\n  }\r\n\r\n  if (!length)\r\n    return string\r\n\r\n  if (string.length > length)\r\n    throw new Error(`Cannot encode uint ${number}: value too large`)\r\n  return string.padEnd(length, \"0\")\r\n}\r\nexport function stringToUInt(string) {\r\n  let result = 0, multiplier = 1\r\n\r\n  for (let i = 0; i < string.length; i++) {\r\n    let code = string.charCodeAt(i)\r\n\r\n    if (48 <= code && code < 58) // 0-9\r\n      result += multiplier * (code - 48 + 0)\r\n    else if (97 <= code && code < 123) // a-z\r\n      result += multiplier * (code - 97 + 10)\r\n    else if (65 <= code && code < 91) // A-Z\r\n      result += multiplier * (code - 65 + 36)\r\n    else if (string[i] === '-')\r\n      result += multiplier * 62\r\n    else if (string[i] === '_')\r\n      result += multiplier * 63\r\n    else throw new Error(`Cannot parse UInt from \"${string}\", which contains \"${String.fromCharCode(code)}\"`)\r\n\r\n    multiplier *= 64\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nclass BlockStream {\r\n  constructor(string) {\r\n    this.string = string\r\n    this.offset = 0\r\n  }\r\n  take(count) {\r\n    if (this.offset + count > this.string.length)\r\n      throw new Error(`Cannot take ${count} items from ${this.string.slice(this.offset)}`)\r\n\r\n    const result = this.string.slice(this.offset, this.offset + count)\r\n    this.offset += count\r\n    return result\r\n  }\r\n  end() {\r\n    if (this.string.length !== this.offset)\r\n      throw new Error(`Unused string ${this.string.slice(this.offset)}`)\r\n  }\r\n}\r\n","// DO NOT REMOVE ITEMS FROM THESE LISTS\r\n//        ONLY APPEND NEW ENTRIES\r\n// The index of items in this list is used to\r\n// compress the exported data. Removing an item\r\n\r\nimport { crawlObject } from \"../Util/Util\"\r\nimport { uintToString, stringToUInt } from \"./CodingUtil\"\r\n\r\n// from this list will shift subsequent entries.\r\nconst slots = [\"flower\", \"plume\", \"sands\", \"goblet\", \"circlet\",]\r\nconst hitModes = [\"hit\", \"avgHit\", \"critHit\",]\r\nconst reactionModes = [\r\n  null, \"hydro_vaporize\", \"pyro_vaporize\", \"pyro_melt\", \"cryo_melt\",\r\n]\r\nconst elements = [\r\n  '', 'anemo', 'geo', 'electro', 'hydro', 'pyro', 'cryo'\r\n]\r\nconst stats = [\r\n  \"\", \"hp\", \"hp_\", \"atk\", \"atk_\", \"def\", \"def_\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"heal_\",\r\n  \"physical_dmg_\", \"anemo_dmg_\", \"cryo_dmg_\", \"dendro_dmg_\", \"electro_dmg_\", \"geo_dmg_\", \"hydro_dmg_\", \"pyro_dmg_\",\r\n]\r\nconst artifactSets = [\r\n  \"Adventurer\", \"ArchaicPetra\", \"Berserker\", \"BlizzardStrayer\", \"BloodstainedChivalry\", \"BraveHeart\", \"CrimsonWitchOfFlames\", \"DefendersWill\", \"Gambler\", \"GladiatorsFinale\", \"HeartOfDepth\", \"Instructor\", \"Lavawalker\", \"LuckyDog\", \"MaidenBeloved\", \"MartialArtist\", \"NoblesseOblige\", \"PrayersForDestiny\", \"PrayersForIllumination\", \"PrayersForWisdom\", \"PrayersToSpringtime\", \"ResolutionOfSojourner\", \"RetracingBolide\", \"Scholar\", \"TheExile\", \"ThunderingFury\", \"Thundersoother\", \"TinyMiracle\", \"TravelingDoctor\", \"ViridescentVenerer\", \"WanderersTroupe\",\r\n]\r\nconst characterKeys = [\r\n  \"albedo\", \"amber\", \"barbara\", \"beidou\", \"bennett\", \"chongyun\", \"diluc\", \"diona\", \"fischl\", \"ganyu\", \"hutao\", \"jean\", \"kaeya\", \"keqing\", \"klee\", \"lisa\", \"mona\", \"ningguang\", \"noelle\", \"qiqi\", \"razor\", \"sucrose\", \"tartaglia\", \"traveler_anemo\", \"traveler_geo\", \"venti\", \"xiao\", \"xiangling\", \"xingqiu\", \"xinyan\", \"zhongli\", \"rosaria\",\r\n]\r\n\r\n// Common schemas\r\n\r\nconst bool = {\r\n  type: \"uint\", length: 1,\r\n  encode: (bool) => bool ? 1 : 0,\r\n  decode: (int) => int !== 0,\r\n}\r\nconst uint = (length) => ({ type: \"uint\", length })\r\nconst float = {\r\n  type: \"string\",\r\n  encode: (value) => value.toString().replace(/\\./g, '_'),\r\n  decode: (string) => parseFloat(string.replace(/_/g, '.')),\r\n}\r\nconst string = { type: \"string\" }\r\nconst array = (defaultSchema, other = {}) => ({ type: \"array\", defaultSchema, ...other })\r\nconst object = (schemas, other = {}) => ({ type: \"object\", schemas, ...other })\r\nconst sparse = (keySchema, valueSchema, keys = null) => ({ type: \"sparse\", keys, keySchema, valueSchema })\r\n\r\n// Fixed schema\r\n\r\nconst fixed = (list, length = 1) => ({\r\n  type: \"uint\", length,\r\n  encode: (item) => list.indexOf(item),\r\n  decode: (index) => list[index],\r\n})\r\nconst stat = fixed(stats)\r\nconst artifactSet = fixed(artifactSets)\r\nconst slot = fixed(slots)\r\nconst characterKey = fixed(characterKeys)\r\nconst hitMode = fixed(hitModes)\r\nconst reactionMode = fixed(reactionModes)\r\nconst element = fixed(elements)\r\n\r\n// Complex schemas\r\n\r\nconst artifact = object({\r\n  setKey: artifactSet,\r\n  numStars: uint(1),\r\n  level: uint(2),\r\n  mainStatKey: stat,\r\n  slotKey: slot,\r\n  substats: array(\r\n    object({\r\n      key: stat,\r\n      value: uint(2),\r\n    }, {\r\n      encode: ({ key, value }) => {\r\n        let factor = key.endsWith(\"_\") ? 10 : 1 // one decimal place for percentage\r\n        return { key, value: value * factor }\r\n      },\r\n      decode: ({ key, value }) => {\r\n        let factor = key.endsWith(\"_\") ? 10 : 1 // one decomal place for percentage\r\n        return { key, value: value / factor }\r\n      }\r\n    })\r\n  )\r\n})\r\nconst conditionalValues = array(object({\r\n  path: array(string), value: array(string)\r\n}), {\r\n  encode: (conditionalValues) => {\r\n    let result = []\r\n    crawlObject(conditionalValues, [], c => Array.isArray(c), (value, path) => {\r\n      result.push({ path, value: value.map(item => item.toString()) })\r\n    })\r\n    result.filter(({ path }) => {\r\n      switch (path[0]) {\r\n        case \"character\":\r\n          path[0] = \"c\"\r\n          path[1] = uintToString(characterKeys.indexOf(path[1]))\r\n          break\r\n        case \"weapon\":\r\n          path[0] = \"w\"\r\n          break\r\n        case \"artifact\":\r\n          path[0] = \"a\"\r\n          path[1] = uintToString(artifactSets.indexOf(path[1]))\r\n          break\r\n        default: return false\r\n      }\r\n      return true\r\n    })\r\n    return result\r\n  },\r\n  decode: (pathvalues) => {\r\n    const conditionalValues = { weapon: {}, artifact: {}, character: {} }\r\n    for (const { path, value } of pathvalues) {\r\n      switch (path[0]) {\r\n        case \"c\":\r\n          path[0] = \"character\"\r\n          path[1] = characterKeys[stringToUInt(path[1])]\r\n          break\r\n        case \"w\":\r\n          path[0] = \"weapon\"\r\n          break\r\n        case \"a\":\r\n          path[0] = \"artifact\"\r\n          path[1] = artifactSets[stringToUInt(path[1])]\r\n          break\r\n        default:\r\n          continue\r\n      }\r\n      const last = path.pop()\r\n      let current = conditionalValues\r\n      for (const key of path) {\r\n        const next = current[key] ?? {}\r\n        current[key] = next\r\n        current = next\r\n      }\r\n      current[last] = value.map(item => isNaN(parseFloat(item)) ? item : parseFloat(item))\r\n    }\r\n    return conditionalValues\r\n  }\r\n})\r\nconst conditionalV1 = array(object({\r\n  srcKey: string,\r\n  srcKey2: string,\r\n  conditionalNum: uint(1),\r\n}))\r\nconst weaponV1 = object({\r\n  key: string,\r\n  levelKey: string,\r\n  refineIndex: uint(1),\r\n  overrideMainVal: float,\r\n  overrideSubVal: float,\r\n  conditionalNum: uint(1),\r\n})\r\nconst weaponV2 = object({\r\n  key: string,\r\n  levelKey: string,\r\n  refineIndex: uint(1),\r\n  overrideMainVal: float,\r\n  overrideSubVal: float,\r\n})\r\nconst characterV1 = object({\r\n  characterKey,\r\n  hitMode,\r\n  reactionMode,\r\n  constellation: uint(1),\r\n  overrideLevel: uint(2),\r\n  levelKey: string,\r\n  autoInfused: bool,\r\n  talentLevelKeys: object({ auto: uint(1), skill: uint(1), burst: uint(1) }),\r\n  artifactConditionals: conditionalV1,\r\n  baseStatOverrides: sparse(string, float),\r\n  talentConditionals: conditionalV1,\r\n  weapon: weaponV1,\r\n}, {\r\n  decode: (character) => {\r\n    delete character.artifactConditionals\r\n    delete character.talentConditionals\r\n    delete character.weapon.conditionalNum\r\n    delete character.autoInfused\r\n    character.infusionAura = ''\r\n    character.conditionalValues = { weapon: {}, artifact: {}, character: {} }\r\n    return character\r\n  }\r\n})\r\nconst characterV2 = object({\r\n  characterKey,\r\n  hitMode,\r\n  reactionMode,\r\n  constellation: uint(1),\r\n  overrideLevel: uint(2),\r\n  levelKey: string,\r\n  infusionAura: element,\r\n  talentLevelKeys: object({ auto: uint(1), skill: uint(1), burst: uint(1) }),\r\n  baseStatOverrides: sparse(string, float),\r\n  weapon: weaponV2,\r\n  conditionalValues,\r\n  reserved: array(uint(1)),\r\n}, {\r\n  encode: (value) => { value.reserved = []; return value },\r\n  decode: (value) => { delete value.reserved; return value },\r\n})\r\n\r\nconst flexV1 = object({\r\n  artifacts: array(artifact),\r\n  character: characterV1,\r\n})\r\nconst flexV2 = object({\r\n  artifacts: array(artifact),\r\n  character: characterV2,\r\n})\r\n\r\nexport const schemas = {\r\n  flexV1, flexV2\r\n}\r\n// For testing purpose only, no need to maintain strict ordering\r\nexport const constants = {\r\n  slots, hitModes, reactionModes, stats, artifactSets, characterKeys\r\n}\r\n","import ArtifactDatabase from \"../Database/ArtifactDatabase\";\r\nimport CharacterDatabase from \"../Database/CharacterDatabase\";\r\nimport { CurrentDatabaseVersion } from \"../Database/DatabaseUtil\";\r\nimport { decode, encode } from \"./CodingUtil\";\r\nimport { schemas } from \"./Schemas\";\r\n\r\nexport function createFlexObj(characterKey) {\r\n  const character = CharacterDatabase.get(characterKey)\r\n  if (!character) return null\r\n\r\n  const artifacts = Object.values(character.equippedArtifacts)\r\n    .filter(art => art)\r\n    .map(id => ArtifactDatabase.get(id))\r\n\r\n  return _createFlexObj(character, artifacts)\r\n}\r\n\r\n// TODO: Remove this when all test URLs are converted to new format\r\nexport function _createFlexObj(character, artifacts) {\r\n  try {\r\n    return \"v=2&d=\" + encode({ character, artifacts }, schemas.flexV2)\r\n  } catch (error) {\r\n    if (process.env.NODE_ENV === \"development\")\r\n      console.error(`Fail to encode data on path ${error.path ?? []}: ${error}`)\r\n    return null\r\n  }\r\n}\r\n\r\nexport function parseFlexObj(string) {\r\n  const parameters = Object.fromEntries(string.split('&').map(s => s.split('=')))\r\n\r\n  try {\r\n    switch (parseInt(parameters.v)) {\r\n      case 2: return [parseFlexObjFromSchema(parameters.d, schemas.flexV2), 2]\r\n      case 1: return [parseFlexObjFromSchema(parameters.d, schemas.flexV1), 1]\r\n      default: return [null]\r\n    }\r\n  } catch (error) {\r\n    if (process.env.NODE_ENV === \"development\")\r\n      console.error(`Fail to encode data on path ${error.path ?? []}: ${error}`)\r\n    return [null]\r\n  }\r\n}\r\n\r\nfunction parseFlexObjFromSchema(string, schema) {\r\n  const { character, artifacts } = decode(string, schema)\r\n  artifacts.forEach(artifact => {\r\n    artifact.location = character.characterKey\r\n  })\r\n  return {\r\n    databaseVersion: CurrentDatabaseVersion,\r\n    artifacts, ...character\r\n  }\r\n}\r\n","import { Alert, Button, Card, Container, Form, InputGroup, Toast } from \"react-bootstrap\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\nimport CharacterDisplayCard from \"../Character/CharacterDisplayCard\";\r\nimport { CurrentDatabaseVersion } from '../Database/DatabaseUtil';\r\nimport '../StatDependency'\r\nimport { createFlexObj, parseFlexObj, _createFlexObj } from \"./FlexUtil\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faLink } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function TestDisplay() {\r\n  const location = useLocation()\r\n  const searchStr = location.search\r\n  if (searchStr) {\r\n    const [character, version] = parseFlexObj(searchStr.substring(1))\r\n    if (!character) return <Redirect to={`/`} />\r\n    if (version !== 2)\r\n      return <Redirect to={`/flex?${_createFlexObj(character, character.artifacts)}`} />\r\n    return <Display character={character} />\r\n  } else {\r\n    const characterKey = location.characterKey\r\n    if (!characterKey) return <Redirect to={`/`} />\r\n    const flexObj = createFlexObj(characterKey)\r\n    if (!flexObj) return <Redirect to={`/`} />\r\n    window.scrollTo(0, 0)//sometimes the window isnt scrolled to the top on redirect.\r\n    return <Redirect to={`/flex?${flexObj}`} />\r\n  }\r\n}\r\nfunction Display({ character }) {\r\n  const [toast, settoast] = useState(false)\r\n  const url = window.location.href\r\n  const copyToClipboard = () => {\r\n    navigator.clipboard.writeText(url)\r\n    settoast(true)\r\n  }\r\n  const { databaseVersion = 0 } = character\r\n  const isUpToDate = databaseVersion < CurrentDatabaseVersion\r\n  return <Container className=\"my-2\">\r\n    <Toast onClose={() => settoast(false)} show={toast} delay={3000} autohide style={{\r\n      position: 'absolute',\r\n      top: 50,\r\n      right: 50,\r\n    }}>\r\n      <Toast.Header><b className=\"mr-auto\">Genshin Optimizer</b></Toast.Header>\r\n      <Toast.Body>URL copied to clipboard.</Toast.Body>\r\n    </Toast>\r\n    <Card bg=\"darkcontent\" text=\"lightfont\" className=\"mb-2\">\r\n      <Card.Body className=\"p-2\">\r\n        <InputGroup className=\"mb-0\">\r\n          <InputGroup.Prepend>\r\n            <Button onClick={copyToClipboard}>\r\n              <span><FontAwesomeIcon icon={faLink} /> Copy URL to clipboard</span>\r\n            </Button>\r\n          </InputGroup.Prepend>\r\n          <Form.Control readOnly value={window.location.href} onClick={e => e.target.select()} />\r\n        </InputGroup>\r\n        {isUpToDate && <Alert variant=\"warning\" className=\"py-2 mt-2 mb-0\">This URL is generated on an older database version of Genshin Optimizer. The character data below might not be displayed as intended.</Alert>}\r\n      </Card.Body>\r\n    </Card>\r\n    <CharacterDisplayCard character={character} />\r\n  </Container>\r\n}","import { StatData } from \"./StatData\"\r\nimport { hitTypes, hitMoves, hitElements, transformativeReactions, amplifyingReactions } from \"./StatConstants\"\r\n\r\nexport default class Stat {\r\n  //do not instantiate.\r\n  constructor() {\r\n    if (this instanceof Stat)\r\n      throw Error('A static class cannot be instantiated.');\r\n  }\r\n  static getStatName = (key, defVal = \"\") =>\r\n    (htmlStatsData[key] || StatData[key]?.name) || defVal\r\n  static getStatNamePretty = (key, defVal = \"\") =>\r\n    (htmlStatsData[key] || StatData[key]?.pretty || StatData[key]?.name) || defVal\r\n  static getStatNameRaw = (key, defVal = \"\") =>\r\n    StatData[key]?.name || defVal\r\n  static getStatNameWithPercent = (key, defVal = \"\") => {\r\n    let name = this.getStatName(key, defVal)\r\n    if (name !== defVal && (key === \"hp_\" || key === \"atk_\" || key === \"def_\"))\r\n      name += \"%\"\r\n    return name;\r\n  }\r\n  static getStatVariant = (key, defVal = \"\") =>\r\n    StatData[key]?.variant || defVal\r\n  static getStatUnit = (key, defVal = \"\") =>\r\n    StatData[key]?.unit === \"multi\" ? defVal : (StatData[key]?.unit || defVal)\r\n\r\n  static fixedUnit = (key) => {\r\n    if (StatData[key]?.unit === \"multi\") return 3\r\n    let unit = Stat.getStatUnit(key)\r\n    return unit === \"%\" ? 1 : 0\r\n  }\r\n  static printStat = (statKey, stats) =>\r\n    f({ stats, expand: false }, statKey)\r\n\r\n  static getPrintableFormulaStatKeyList = (statList = [], modifiers = {}) => {\r\n    let keys = new Set([...Object.keys(FormulaText), ...Object.keys(modifiers)])\r\n    return statList.filter(key => keys.has(key))\r\n  }\r\n\r\n  static printFormula = (statKey, stats, modifiers = {}, expand = true) => {\r\n    const modifierText = Object.entries(modifiers?.[statKey] ?? []).map(([mkey, multiplier]) =>\r\n      <span key={statKey + mkey} className=\"text-nowrap\"> + {this.printStat(mkey, stats)} * {multiplier?.toFixed?.(3) ?? multiplier}</span>)\r\n    if (typeof FormulaText?.[statKey] === \"function\")\r\n      return <span>{FormulaText[statKey]({ stats, expand })}{modifierText}</span>\r\n    else\r\n      return <span>Basic Stats from artifacts/weapon{modifierText}</span>\r\n  }\r\n}\r\n//generate html tags based on tagged variants of the statData\r\nconst htmlStatsData = Object.fromEntries(Object.entries(StatData).filter(([key, obj]) => obj.variant).map(([key, obj]) => [key, (<span className={`text-${obj.variant} text-nowrap`}>{obj.name}</span>)]))\r\n\r\nfunction f(options, statKey) {\r\n  let { stats, expand = true } = options\r\n  if (!stats) return\r\n  if (expand && FormulaText?.[statKey])\r\n    return <span>( {FormulaText[statKey](options)} )</span>\r\n  let statName = Stat.getStatNamePretty(statKey)\r\n  let statUnit = Stat.getStatUnit(statKey)\r\n  let fixedUnit = Stat.fixedUnit(statKey)\r\n  let value = stats?.[statKey]?.toFixed?.(fixedUnit) || stats?.[statKey]\r\n  return <span className=\"text-nowrap\"><b>{statName}</b> <span className=\"text-info\">{value}{statUnit}</span></span>\r\n}\r\n\r\nexport const FormulaText = {\r\n  baseATK: (o) => <span>{f(o, \"characterATK\")} + {f(o, \"weaponATK\")} </span>,\r\n  finalATK: (o) => <span>{f(o, \"baseATK\")} * ( 100% + {f(o, \"atk_\")} ) + {f(o, \"atk\")}</span>,\r\n  finalHP: (o) => <span>{f(o, \"characterHP\")} * ( 100% + {f(o, \"hp_\")} ) + {f(o, \"hp\")}</span>,\r\n  finalDEF: (o) => <span>{f(o, \"characterDEF\")} * ( 100% + {f(o, \"def_\")} ) + {f(o, \"def\")}</span>,\r\n\r\n  enemyLevel_multi: (o) => <span>( 100 + {f(o, \"characterLevel\")} ) / ( ( 100 + {f(o, \"characterLevel\")} ) + ( 100 + {f(o, \"enemyLevel\")} ) * ( 100% - {f(o, \"enemyDEFRed_\")} ) )</span>,\r\n\r\n  heal_multi: (o) => <span>( 100% + {f(o, \"heal_\")} + {f(o, \"incHeal_\")} )</span>,\r\n\r\n  amplificative_dmg_: (o) => <span>25 / 9 * {f(o, \"eleMas\")} / ( 1400 + {f(o, \"eleMas\")} ) * 100%</span>,\r\n  transformative_dmg_: (o) => <span>60 / 9 * {f(o, \"eleMas\")} / ( 1400 + {f(o, \"eleMas\")} ) * 100%</span>,\r\n\r\n  crystalize_eleMas_: (o) => <span>40 / 9 * {f(o, \"eleMas\")} / ( 1400 + {f(o, \"eleMas\")} ) * 100%</span>,\r\n  crystalize_hit: (o) => <span>( 100% + {f(o, \"crystalize_dmg_\")} + {f(o, \"crystalize_eleMas_\")} ) * {f(o, \"crystalize_multi\")}</span>,\r\n}\r\n\r\nObject.entries(hitMoves).forEach(([move, moveName]) => {\r\n  FormulaText[`final_${move}_critRate_`] = (o) => <span>Min( {f(o, \"critRate_\")} + {f(o, `${move}_critRate_`)} , 100% )</span>\r\n})\r\n\r\nObject.entries(hitElements).forEach(([ele, { name: eleName }]) => {\r\n  FormulaText[`${ele}_enemyRes_multi`] = (o) => {\r\n    if (o.stats[`${ele}_enemyImmunity`])\r\n      return <span>0 (immune)</span>\r\n    let res = (o.stats[`${ele}_enemyRes_`] || 0) / 100\r\n    if (res < 0) return <span> 100% - {f(o, `${ele}_enemyRes_`)} / 2</span>\r\n    else if (res >= 0.75) return <span> 1 / ( {f(o, `${ele}_enemyRes_`)} * 4 + 1)</span>\r\n    return <span> 100% - {f(o, `${ele}_enemyRes_`)} </span>\r\n  }\r\n})\r\n\r\nObject.entries(hitMoves).forEach(([move, moveName]) => {\r\n  Object.entries(hitElements).forEach(([ele, { name: eleName }]) => {\r\n    Object.entries(hitTypes).forEach(([type, typeName]) => {\r\n      FormulaText[`${ele}_${move}_${type}`] = (o) => <span>{f(o, `finalATK`)} * {f(o, `${ele}_${move}_${type}_multi`)}</span>\r\n    })\r\n\r\n    FormulaText[`${ele}_${move}_hit_base_multi`] = (o) => <span>100% + {f(o, 'dmg_')} + {f(o, `${ele}_dmg_`)} + {f(o, `${move}_dmg_`)}</span>\r\n    FormulaText[`${move}_avgHit_base_multi`] = (o) => <span>100% + {f(o, 'critDMG_')} * {f(o, `final_${move}_critRate_`)} </span>\r\n    FormulaText[`critHit_base_multi`] = (o) => <span>100% + {f(o, 'critDMG_')}</span>\r\n\r\n    FormulaText[`${ele}_${move}_hit_multi`] = (o) => <span>{f(o, `${ele}_${move}_hit_base_multi`)} * {f(o, `enemyLevel_multi`)} * {f(o, `${ele}_enemyRes_multi`)}</span>\r\n    FormulaText[`${ele}_${move}_critHit_multi`] = (o) => <span>{f(o, `critHit_base_multi`)} * {f(o, `${ele}_${move}_hit_multi`)}</span>\r\n    FormulaText[`${ele}_${move}_avgHit_multi`] = (o) => <span>{f(o, `${move}_avgHit_base_multi`)} * {f(o, `${ele}_${move}_hit_multi`)}</span>\r\n  })\r\n})\r\n\r\nObject.entries(transformativeReactions).forEach(([reaction, { multi, variants }]) => {\r\n  FormulaText[`${reaction}_multi`] = (o) => <span>{multi} * {f(o, 'transformative_level_multi')}</span>\r\n  if (variants.length === 1) {\r\n    const [ ele ] = variants\r\n    FormulaText[`${reaction}_hit`] = (o) => <span>( 100% + {f(o, `transformative_dmg_`)} + {f(o, `${reaction}_dmg_`)} ) * {f(o, `${reaction}_multi`)} * {f(o, `${ele}_enemyRes_multi`)}</span>  \r\n  } else {\r\n    variants.forEach(ele => {\r\n      FormulaText[`${ele}_${reaction}_hit`] = (o) => <span>( 100% + {f(o, `transformative_dmg_`)} + {f(o, `${reaction}_dmg_`)} ) * {f(o, `${reaction}_multi`)} * {f(o, `${ele}_enemyRes_multi`)}</span>  \r\n    })    \r\n  }\r\n})\r\n\r\nObject.entries(amplifyingReactions).forEach(([reaction, { variants }]) => {\r\n  Object.entries(variants).forEach(([ele, baseMulti]) => {\r\n    FormulaText[`${ele}_${reaction}_multi`] = (o) => <span>{baseMulti} * ( 100% + {f(o, \"amplificative_dmg_\")} + {f(o, `${reaction}_dmg_`)} )</span>\r\n    Object.entries(hitTypes).forEach(([type, typeName]) => {\r\n      Object.entries(hitMoves).forEach(([move, moveName]) => {\r\n        FormulaText[`${ele}_${reaction}_${move}_${type}_multi`] = (o) => <span>{f(o, `${ele}_${move}_${type}_multi`)} * {f(o, `${ele}_${reaction}_multi`)}</span>\r\n        FormulaText[`${ele}_${reaction}_${move}_${type}`] = (o) => <span>{f(o, \"finalATK\")} * {f(o, `${ele}_${reaction}_${move}_${type}_multi`)}</span>\r\n      })\r\n    })\r\n  })\r\n})\r\n"],"sourceRoot":""}