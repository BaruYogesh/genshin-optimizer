(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[4],{206:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(20),c=n(25),r=n(10),i=n(1),s=function(){return Object(i.jsx)(r.a,{icon:c.A})},o=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},207:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:n.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:n.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:n.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:n.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(130),c=n(69),r=n(20),i=n(9),s=n(4),o=n(18),l=n(70),u=n(122),d=n(108),j=n(41),b=n(87),h=n(40),v=n(212),f=n(14),O=n(12),m=n(48),p=n(213),x=function e(){if(Object(o.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};x.getElementalName=function(e){return b.a[e].name},x.getLevelString=function(e){return"".concat(e.level,"/").concat(j.a[e.ascension])},x.getTalentFieldValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(O.f)(e[t],n):a},x.hasOverride=function(e,t){return"finalHP"===t?x.hasOverride(e,"hp")||x.hasOverride(e,"hp_")||x.hasOverride(e,"characterHP"):"finalDEF"===t?x.hasOverride(e,"def")||x.hasOverride(e,"def_")||x.hasOverride(e,"characterDEF"):"finalATK"===t?x.hasOverride(e,"atk")||x.hasOverride(e,"atk_")||x.hasOverride(e,"characterATK"):!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},x.getBaseStatValue=function(e,t,n,a){return"enemyLevel"===a?e.level:a.includes("enemyRes_")?10:a in j.b?j.b[a]:0},x.getStatValueWithOverride=function(e,t,n,a){var c,r;return x.hasOverride(e,a)?null!==(c=null===(r=e.baseStatOverrides)||void 0===r?void 0:r[a])&&void 0!==c?c:0:x.getBaseStatValue(e,t,n,a)},x.calculateBuild=function(e,t,n,a,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var n=Object(s.a)(e,2),a=n[0],c=n[1];return[a,t._getArt(c)]}))),o=x.createInitialStats(e,t,n,a);return o.mainStatAssumptionLevel=r,x.calculateBuildwithArtifact(o,i,c)},x.calculateBuildwithArtifact=function(e,t,n){var a,c=l.a.setToSlots(t),r=u.a.setEffectsStats(n,e,c),o=Object(O.d)(e);Object.values(t).forEach((function(e){e&&(o[e.mainStatKey]=(o[e.mainStatKey]||0)+l.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(o.mainStatAssumptionLevel,4*e.rarity),e.level)),e.substats.forEach((function(e){return e&&e.key&&(o[e.key]=(o[e.key]||0)+e.value)})))})),Object(m.a)(o,r),d.a.parseConditionalValues({artifact:null===o||void 0===o||null===(a=o.conditionalValues)||void 0===a?void 0:a.artifact},(function(e,t,n){var a,r,i=Object(s.a)(n,3),l=i[1],u=i[2];if(!(parseInt(u)>(null!==(a=null===c||void 0===c||null===(r=c[l])||void 0===r?void 0:r.length)&&void 0!==a?a:0))){var j=d.a.resolve(e,o,t).stats;Object(m.a)(o,j)}})),o.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return[n,null===a||void 0===a?void 0:a.id]}))),o.setToSlots=c;var j=Object(v.a)(o,null===o||void 0===o?void 0:o.modifiers),b=Object(h.c)(j,o),f=b.initialStats;return(0,b.formula)(f),Object(i.a)(Object(i.a)({},o),f)},x.createInitialStats=function(e,t,n,o){var l,u,b,h,v=e=Object(O.d)(e),g=v.key,y=v.elementKey,S=v.level,w=v.ascension,_=v.hitMode,k=v.infusionAura,E=v.reactionMode,N=v.talent,K=v.constellation,A=v.equippedArtifacts,C=v.conditionalValues,T=void 0===C?{}:C,B=v.equippedWeapon,I=null!==(l=t._getWeapon(B))&&void 0!==l?l:Object(p.a)(n.weaponTypeKey),V=["enemyLevel"].concat(Object(r.a)(Object.keys(j.b))),W=Object.fromEntries(V.map((function(t){return[t,x.getStatValueWithOverride(e,n,o,t)]})));W.characterHP=n.getBase("hp",S,w),W.characterDEF=n.getBase("def",S,w),W.characterATK=n.getBase("atk",S,w),W.characterLevel=S,W.characterEle=null!==(u=null!==(b=n.elementKey)&&void 0!==b?b:y)&&void 0!==u?u:"anemo",W.characterKey=g,W.hitMode=_,W.infusionAura=k,W.reactionMode=E,W.conditionalValues=T,W.weaponType=n.weaponTypeKey,W.tlvl=Object.fromEntries(Object.entries(null!==N&&void 0!==N?N:{}).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1]-1]}))),W.constellation=K,W.ascension=w,W.weapon={key:I.key,refineIndex:I.refine-1},W.equippedArtifacts=A,["physical"].concat(Object(r.a)(f.d)).forEach((function(t){var a="".concat(t,"_enemyRes_");W[a]=x.getStatValueWithOverride(e,n,o,a),a="".concat(t,"_enemyImmunity"),W[a]=x.getStatValueWithOverride(e,n,o,a)}));var F=(null===(h=e)||void 0===h?void 0:h.baseStatOverrides)||{};Object.entries(F).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];W.hasOwnProperty(n)||(W[n]=a)}));var H=n.getSpecializedStat(w);if(H){var L=n.getSpecializedStatVal(w);Object(m.a)(W,Object(c.a)({},H,L))}for(var M in n.getTalentStatsAll(W,W.characterEle).forEach((function(e){return Object(m.a)(W,e)})),W.tlvl){var R;W.tlvl[M]+=null!==(R=W["".concat(M,"Boost")])&&void 0!==R?R:0}var z=o.getMainStatValue(I.level,I.ascension);W.weaponATK=z;var D=o.getSubStatKey();D&&Object(m.a)(W,Object(c.a)({},D,o.getSubStatValue(I.level,I.ascension))),Object(m.a)(W,o.stats(W));T.artifact;var P=T.weapon,q=Object(a.a)(T,["artifact","weapon"]);return d.a.parseConditionalValues(Object(i.a)(Object(i.a)({},I.key&&{weapon:Object(c.a)({},I.key,null===P||void 0===P?void 0:P[I.key])}),q),(function(e,t,n){if(("character"!==n[0]||"talents"!==n[3]||n[4]===y)&&d.a.canShow(e,W)){var a=d.a.resolve(e,W,t).stats;Object(m.a)(W,a)}})),W},x.getDisplayStatKeys=function(e,t){var n=t.characterSheet,a=t.weaponSheet,c=t.artifactSheets,r=e.characterEle,o=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(r,"_dmg_")];n.isAutoElemental||o.push("physical_dmg_");var l=Object(O.d)(h.a[r]),u=n.weaponTypeKey;l.includes("shattered_hit")||"claymore"!==u||l.push("shattered_hit");var j={},b=n.getTalent(r),v=function(t,n){return t.forEach((function(t){var a;t.formula&&(null===t||void 0===t||null===(a=t.canShow)||void 0===a?void 0:a.call(t,e))&&(j[n]||(j[n]=[]),j[n].push(t.formula.keys))}))},f=function(t,n){if(t.conditional&&d.a.canShow(t.conditional,e)){var a=d.a.resolve(t.conditional,e,null).fields;a&&v(a,n)}t.fields&&v(t.fields,n)};b&&Object.entries(b.sheets).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1].sections;"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto"),a.forEach((function(e){return f(e,"talentKey_".concat(n))}))}));var m="weapon_".concat(e.weapon.key);return a.document&&a.document.map((function(e){return f(e,m)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1],r=c[n];r&&Object.entries(r.setEffects).forEach((function(e){var t=Object(s.a)(e,2),c=t[0],r=t[1].document;a<parseInt(c)||r&&r.map((function(e){return f(e,"artifact_".concat(n,"_").concat(c))}))}))})),Object(i.a)(Object(i.a)({basicKeys:o},j),{},{transReactions:l})}},209:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return B}));var a=n(20),c=n(4),r=n(25),i=n(10),s=n(0),o=n(143),l=n(126),u=n(224),d=n(541),j=n(188),b=n(127),h=n(73),v=n(534),f=n(330),O=n(189),m=n(187),p=n(207),x=n(121),g=n(35),y=n(14),S=n(86),w=n(206),_=n(123),k=n(208),E=n(1);function N(e){var t=e.onSelect,n=e.weaponTypeKey,a=Object(s.useContext)(g.b),c=Object(S.b)(x.b.getAll(),[]);return Object(E.jsx)(E.Fragment,{children:a._getCharKeys().filter((function(e){var t;return!n||(null===c||void 0===c||null===(t=c[e])||void 0===t?void 0:t.weaponTypeKey)===n})).sort().map((function(e){return Object(E.jsx)(K,{characterKey:e,onSelect:t},e)}))})}function K(e){var t=e.characterKey,n=e.onSelect,a=Object(S.b)(x.b.get(t),[t]);return a?Object(E.jsx)(m.a.Item,{onClick:function(){return n(t)},children:a.nameWIthIcon}):null}function A(e){var t=e.characterSheet,n=e.onSelect,a=e.filter,r=Object(s.useState)(!1),i=Object(c.a)(r,2),d=i[0],j=i[1],b=t?Object(E.jsxs)("span",{children:[Object(E.jsx)(o.a,{src:t.thumbImg,className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(E.jsxs)("h6",{className:"d-inline",children:[" ",t.name," "]})]}):Object(E.jsx)("span",{children:"Select a Character"});return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{as:u.a,onClick:function(){return j(!0)},children:b}),Object(E.jsx)(B,{show:d,onHide:function(){return j(!1)},onSelect:n,filter:a})]})}var C={rarity:"Rarity",level:"Level",name:"Name"};function T(e,t){return t===e?"":t}function B(e){var t=e.show,n=e.onHide,m=e.onSelect,N=e.filter,K=void 0===N?function(){return!0}:N,A=Object(s.useContext)(g.b),B=Object(s.useState)((function(){return Object.keys(C)[0]})),I=Object(c.a)(B,2),V=I[0],W=I[1],F=Object(s.useReducer)(T,""),H=Object(c.a)(F,2),L=H[0],M=H[1],R=Object(s.useReducer)(T,""),z=Object(c.a)(R,2),D=z[0],P=z[1],q=Object(S.b)(x.b.getAll(),[]),G=function(e){var t,n;return null!==(t=null===(n=A._getChar(e))||void 0===n?void 0:n.level)&&void 0!==t?t:0},J=function(e){var t;return null===q||void 0===q||null===(t=q[e])||void 0===t?void 0:t.star},Q=q?Object(a.a)(new Set(y.c)).filter((function(e){return K(A._getChar(e),q[e])})).filter((function(e){var t,n;return(!L||L===(null===q||void 0===q||null===(t=q[e])||void 0===t?void 0:t.elementKey))&&(!D||D===(null===q||void 0===q||null===(n=q[e])||void 0===n?void 0:n.weaponTypeKey))})).sort((function(e,t){if("name"===V)return e<t?-1:e>t?1:0;if("level"===V){var n=G(t)-G(e);return n||J(t)-J(e)}var a=J(t)-J(e);return a||G(t)-G(e)})):[];return q?Object(E.jsx)(d.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:n,children:Object(E.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",children:[Object(E.jsx)(j.a.Header,{children:Object(E.jsxs)(b.a,{children:[Object(E.jsx)(h.a,{xs:"auto",children:Object(E.jsx)(u.a,{children:y.d.map((function(e){return Object(E.jsx)(l.a,{variant:L&&L!==e?"secondary":e,className:"py-1 px-2 text-white",onClick:function(){return M(e)},children:Object(E.jsx)("h3",{className:"mb-0",children:_.b[e]})},e)}))})}),Object(E.jsx)(h.a,{children:Object(E.jsx)(u.a,{children:y.j.map((function(e){var t;return Object(E.jsx)(l.a,{variant:D&&D!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return P(e)},children:Object(E.jsx)("h3",{className:"mb-0",children:Object(E.jsx)(o.a,{src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(E.jsxs)(h.a,{xs:"auto",children:[Object(E.jsx)("span",{children:"Sort by: "}),Object(E.jsx)(v.a,{type:"radio",name:"level",value:V,onChange:W,children:Object.entries(C).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(E.jsx)(f.a,{value:n,variant:V===n?"success":"primary",children:Object(E.jsx)("h6",{className:"mb-0",children:a})},n)}))})]}),Object(E.jsx)(h.a,{xs:"auto",children:Object(E.jsx)(l.a,{onClick:n,variant:"danger",children:Object(E.jsx)(i.a,{icon:r.B})})})]})}),Object(E.jsx)(j.a.Body,{children:Object(E.jsx)(b.a,{children:Q.map((function(e){var t,a=q[e],c=A._getChar(e);return Object(E.jsx)(h.a,{lg:3,md:4,className:"mb-2",children:Object(E.jsxs)(l.a,{className:"w-100",variant:"secondary",onClick:function(){n(),m(e)},children:[Object(E.jsx)("h5",{children:a.name}),Object(E.jsxs)(b.a,{children:[Object(E.jsx)(h.a,{xs:"auto",className:"pr-0",children:Object(E.jsx)(o.a,{src:a.thumbImg,className:"thumb-big grad-".concat(a.star,"star p-0"),thumbnail:!0})}),Object(E.jsxs)(h.a,{children:[c?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("h5",{className:"mb-0",children:["Lv. ",k.a.getLevelString(c)," ","C".concat(c.constellation)]}),Object(E.jsxs)("h6",{className:"mb-0",children:[Object(E.jsx)(O.a,{variant:"info",children:Object(E.jsx)("strong",{className:"mx-1",children:c.talent.auto})})," ",Object(E.jsx)(O.a,{variant:"info",children:Object(E.jsx)("strong",{className:"mx-1",children:c.talent.skill})})," ",Object(E.jsx)(O.a,{variant:"info",children:Object(E.jsx)("strong",{className:"mx-1",children:c.talent.burst})})]})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("h4",{children:Object(E.jsx)(O.a,{variant:"primary",children:"NEW"})})}),Object(E.jsx)("h6",{className:"mb-0",children:Object(E.jsx)(w.a,{stars:a.star,colored:!0})}),Object(E.jsxs)("h3",{className:"mb-0",children:[a.elementKey&&_.a[a.elementKey]," ",Object(E.jsx)(o.a,{src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[a.weaponTypeKey],className:"inline-icon"})]})]})]})]})},e)}))})})]})}):null}},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4),c=n(20),r=n(71),i=n(40);function s(e){var t=new Set;return e(new Proxy({},{get:function(e,n,a){t.add(n.toString())}})),Object(c.a)(t)}var o=Object.freeze(Object.fromEntries(Object.entries(i.b).map((function(e){var t=Object(a.a)(e,2);return[t[0],s(t[1])]}))));function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(i.d),a=new Set,r=[new Set,new Set];return n.forEach((function(n){return u(e,n,t,r,a)})),r.flatMap((function(e){return Object(c.a)(e)}))}function u(e,t,n,a,c){var s,l;c.has(t)||(c.add(t),null===(s=o[t])||void 0===s||s.forEach((function(t){return u(e,t,n,a,c)})),(null!==(l=n[t])&&void 0!==l?l:[]).forEach((function(t){return r.a.getCurrent(t,e)[1].forEach((function(t){return u(e,t,n,a,c)}))})),a[Object(i.e)(t)].add(t))}},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a=function(e){return c(function(e){switch(e){case"sword":return"DullBlade";case"bow":return"HuntersBow";case"claymore":return"WasterGreatsword";case"polearm":return"BeginnersProtector";case"catalyst":return"ApprenticesNotes";default:return"DullBlade"}}(e))},c=function(e){return{id:"",key:e,level:1,ascension:0,refine:1,location:""}}},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(4),c=n(25),r=n(10),i=n(0),s=n(541),o=n(188),l=n(127),u=n(73),d=n(126),j=n(199),b=n(28),h=n(12),v=n(84),f=n(1);function O(e){var t,n,O=e.pageKey,m=void 0===O?"":O,p=e.text,x=void 0===p?"":p,g=e.modalTitle,y=void 0===g?"":g,S=e.children,w=Object(i.useState)(null===(t=null===(n=b.b.get("infoShown"))||void 0===n?void 0:n[m])||void 0===t||t),_=Object(a.a)(w,2),k=_[0],E=_[1],N=Object(i.useState)(Array.isArray(x)?Object(h.g)(x):x),K=Object(a.a)(N,1)[0],A=function(){var e,t=null!==(e=b.b.get("infoShown"))&&void 0!==e?e:{};t[m]=!1,b.b.set("infoShown",t),E(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{show:k,onHide:function(){return A()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(f.jsxs)(o.a,{bg:"darkcontent",text:"lightfont",children:[Object(f.jsx)(o.a.Header,{children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(o.a.Title,{children:y})}),Object(f.jsx)(u.a,{xs:"auto",children:Object(f.jsx)(d.a,{variant:"danger",onClick:function(){return A()},children:Object(f.jsx)(r.a,{icon:c.B})})})]})}),Object(f.jsx)(o.a.Body,{children:Object(f.jsx)(i.Suspense,{fallback:Object(f.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(f.jsx)(j.a,{animation:"border",variant:"primary"})]}),children:S})}),Object(f.jsx)(o.a.Footer,{children:Object(f.jsx)(d.a,{variant:"danger",onClick:function(){return A()},children:Object(f.jsx)("span",{children:"Close"})})})]})}),Object(f.jsx)(o.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(f.jsx)(o.a.Body,{className:"pl-2 py-0 pr-0",children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)("small",{children:K})}),Object(f.jsx)(u.a,{xs:"auto",children:Object(f.jsxs)(d.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return E(!0)},children:[Object(f.jsx)(v.a,{ns:"ui",key18:"info"})," ",Object(f.jsx)(r.a,{icon:c.v})]})})]})})})]})}}}]);
//# sourceMappingURL=4.f31ec984.chunk.js.map