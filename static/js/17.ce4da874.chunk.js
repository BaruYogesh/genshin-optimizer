(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[17],{192:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(12),c=(a(17),a(97)),r=(a(3),a(80));a(44),a(10);function i(e,t){return function(e,t){for(var a=new Set(t.map((function(e){return e.key}))),r={},i=Object.keys(e),s=0,l=i;s<l.length;s++){var o,u,j=l[s],d={},b=Object(c.a)(null!==(o=e[j])&&void 0!==o?o:[]);try{for(b.s();!(u=b.n()).done;){var h=u.value;a.has(h.setKey)?d[h.setKey]?d[h.setKey].push(h):d[h.setKey]=[h]:d.null?d.null.push(h):d.null=[h]}}catch(x){b.e(x)}finally{b.f()}r[j]=Object.freeze(d)}var O={},m={},f=[];return function e(a){if(a>=i.length){var s,l=Object(c.a)(t);try{for(l.s();!(s=l.n()).done;){var o,u=s.value,j=u.key,d=u.num;if((null!==(o=O[j])&&void 0!==o?o:0)<d)return}}catch(x){l.e(x)}finally{l.f()}f.push(Object(n.a)({},m))}else{var b=i[a],h=r[b];for(var v in h){var p;O[v]=(null!==(p=O[v])&&void 0!==p?p:0)+1,m[b]=h[v],e(a+1),O[v]-=1}}}(0),f}(e,t).reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){return e*t[1].length}),1)}),0)}function s(e,t,a){var n=t.hitMode,c=void 0===n?"":n,i=t.infusionAura,s=void 0===i?"":i,l=t.infusionSelf,o=void 0===l?"":l,u=t.reactionMode,j=void 0===u?null:u,d=t.characterEle,b=void 0===d?"anemo":d,h=t.weaponType,O=void 0===h?"sword":h;if(Object.keys(r.a).includes(e))return"".concat(e,"_elemental_").concat(c);if(a||"catalyst"!==O||(a=b),"elemental"===e||"burst"===e||"skill"===e||a)return j&&j.startsWith(a||b)?"".concat(j,"_").concat(e,"_").concat(c):"".concat(a||b,"_").concat(e,"_").concat(c);var m="physical";return o?m=o:s&&(m=s),j&&j.startsWith(m)?"".concat(j,"_").concat(e,"_").concat(c):"".concat(m,"_").concat(e,"_").concat(c)}function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Object.keys(r.a).includes(e))return e;var n=t.infusionAura,c=void 0===n?"":n,i=t.infusionSelf,s=void 0===i?"":i,l=t.reactionMode,o=void 0===l?null:l,u=t.characterEle,j=void 0===u?"anemo":u,d=t.weaponType,b=void 0===d?"sword":d;if(a||"catalyst"!==b||(a=j),"elemental"===e||"burst"===e||"skill"===e||a){if(o&&o.startsWith(a||j)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return a||j}var h="physical";if(s?h=s:c&&(h=c),o&&o.startsWith(h)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return h}},228:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(10);function c(e){var t=e%1e3,a=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:n,seconds:a,milliseconds:t}}function r(e){var t=c(e),a=t.hours,r=t.minutes,i=t.seconds,s="Minutes";return a&&(s="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.q)(r,"0",2),":").concat(Object(n.q)(i,"0",2)," ").concat(s)}function i(e){var t=c(e),a=t.hours,r=t.minutes,i=t.seconds,s=t.milliseconds,l="Minutes";return a&&(l="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.q)(r,"0",2),":").concat(Object(n.q)(i,"0",2),".").concat(Object(n.q)(s,"0",3)," ").concat(l)}},348:function(e,t,a){"use strict";var n=a(2),c=a(5),r=a(7),i=a.n(r),s=a(0),l=a.n(s),o=a(8),u=a(200),j=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],d=["isChild"],b=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"];function h(e,t,a){var n=(e-t)/(a-t)*100;return Math.round(1e3*n)/1e3}function O(e,t){var a,r=e.min,s=e.now,o=e.max,u=e.label,d=e.srOnly,b=e.striped,O=e.animated,m=e.className,f=e.style,x=e.variant,v=e.bsPrefix,p=Object(c.a)(e,j);return l.a.createElement("div",Object(n.a)({ref:t},p,{role:"progressbar",className:i()(m,v+"-bar",(a={},a["bg-"+x]=x,a[v+"-bar-animated"]=O,a[v+"-bar-striped"]=O||b,a)),style:Object(n.a)({width:h(s,r,o)+"%"},f),"aria-valuenow":s,"aria-valuemin":r,"aria-valuemax":o}),d?l.a.createElement("span",{className:"sr-only"},u):u)}var m=l.a.forwardRef((function(e,t){var a=e.isChild,r=Object(c.a)(e,d);if(r.bsPrefix=Object(o.a)(r.bsPrefix,"progress"),a)return O(r,t);var j=r.min,h=r.now,m=r.max,f=r.label,x=r.srOnly,v=r.striped,p=r.animated,g=r.bsPrefix,y=r.variant,S=r.className,k=r.children,N=Object(c.a)(r,b);return l.a.createElement("div",Object(n.a)({ref:t},N,{className:i()(S,g)}),k?Object(u.a)(k,(function(e){return Object(s.cloneElement)(e,{isChild:!0})})):O({min:j,now:h,max:m,label:f,srOnly:x,striped:v,animated:p,bsPrefix:g,variant:y},t))}));m.displayName="ProgressBar",m.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},t.a=m},520:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return oe}));var n=a(111),c=a(97),r=a(41),i=a.n(r),s=a(57),l=a(3),o=a(17),u=a(12),j=a(53),d=a(9),b=a(0),h=a.n(b),O=a(83),m=a(268),f=a(175),x=a(60),v=a(31),p=a(27),g=a(56),y=a(155),S=a(199),k=a(221),N=a(218),w=a(521),C=a(511),A=a(133),B=a(225),K=a(181),M=a(348),E=a(45);function T(){return new Worker(a.p+"static/js/BuildWorker.e6654026.worker.js")}var F=a(68),D=a(110),I=a(271),P=a(115),z=a(194),_=a(270),L=a(275),q=a(272),H=a(112),V=a(226),W=a(207),R=a(197),G=a(214),U=a(193),J=a(43),X=a(69),Y=a(30),Q=a(14),Z=a(81),$=a(228),ee=a(10),te=a(116),ae=a(192),ne=a(1),ce=h.a.lazy((function(){return a.e(20).then(a.bind(null,519))})),re=Object(b.lazy)((function(){return Promise.resolve().then(a.bind(null,220))})),ie=1e7,se=[1,2,3,4,5,8,10],le=["sands","goblet","circlet"];function oe(e){var t,a=e.location.characterKey,n=Object(b.useState)((function(){var e,t=(null!==(e=Object(ee.l)("BuildsDisplay.state"))&&void 0!==e?e:{}).characterKey;return null!==a&&void 0!==a?a:void 0===t?"":t})),r=Object(l.a)(n,2),h=r[0],C=r[1],A=Object(b.useState)([]),B=Object(l.a)(A,2),K=B[0],M=B[1],L=Object(b.useState)((function(){var e,t=(null!==(e=Object(ee.l)("BuildsDisplay.state"))&&void 0!==e?e:{}).maxBuildsToShow;return void 0===t?5:t})),q=Object(l.a)(L,2),R=q[0],U=q[1],$=Object(b.useState)(null),re=Object(l.a)($,2),oe=re[0],be=re[1],xe=Object(b.useState)(!1),pe=Object(l.a)(xe,2),ge=pe[0],ye=pe[1],Se=Object(b.useState)(!1),ke=Object(l.a)(Se,2),Ne=ke[0],we=ke[1],Ce=Object(b.useState)(!1),Ae=Object(l.a)(Ce,2),Be=Ae[0],Ke=Ae[1],Me=Object(b.useState)(0),Ee=Object(l.a)(Me,2),Te=Ee[0],Fe=Ee[1],De=Object(b.useState)(0),Ie=Object(l.a)(De,2),Pe=Ie[0],ze=Ie[1],_e=Object(b.useState)(0),Le=Object(l.a)(_e,2),qe=Le[0],He=Le[1],Ve=Object(Z.a)(),We=Object(l.a)(Ve,2),Re=We[0],Ge=We[1],Ue=Object(Z.b)(D.a.getAll(),[]),Je=Object(Z.a)(),Xe=Object(l.a)(Je,2),Ye=Xe[0],Qe=Xe[1],Ze=Object(b.useRef)(!1),$e=Object(b.useRef)(null),et=Object(b.useState)({}),tt=Object(l.a)(et,2),at=tt[0],nt=at.character,ct=at.characterSheet,rt=at.weaponSheet,it=at.initialStats,st=at.statsDisplayKeys,lt=tt[1],ot=Object(b.useMemo)((function(){var e;return null!==(e=null===nt||void 0===nt?void 0:nt.buildSettings)&&void 0!==e?e:{setFilters:[{key:"",num:0},{key:"",num:0},{key:"",num:0}],statFilters:{},mainStatKeys:["","",""],optimizationTarget:"finalATK",mainStatAssumptionLevel:0,useLockedArts:!1,useEquippedArts:!1,ascending:!1}}),[nt]),ut=ot.setFilters,jt=ot.statFilters,dt=ot.mainStatKeys,bt=ot.optimizationTarget,ht=ot.mainStatAssumptionLevel,Ot=ot.useLockedArts,mt=ot.useEquippedArts,ft=ot.ascending,xt=Object(b.useCallback)((function(e){nt&&(nt.buildSettings=function(e,t){switch(t.type){case"mainStatKey":var a=t.index,n=t.mainStatKey;return e.mainStatKeys[a]=n,Object(u.a)(Object(u.a)({},e),{},{mainStatKeys:Object(o.a)(e.mainStatKeys)});case"setFilter":var c=t.index,r=t.key,i=t.num,s=void 0===i?0:i;return e.setFilters[c]={key:r,num:s},Object(u.a)(Object(u.a)({},e),{},{setFilters:Object(o.a)(e.setFilters)})}return Object(u.a)(Object(u.a)({},e),t)}(ot,e),J.a.updateChar(nt))}),[nt,ot]);Object(b.useEffect)((function(){return E.a.pageview("/build")}),[]),Object(b.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&Ue){e.next=2;break}return e.abrupt("return");case 2:if(t=J.a._getChar(h)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,H.b.get(h);case 7:return a=e.sent,e.next=10,te.a.get(t.weapon.key);case 10:if(n=e.sent,a&&n){e.next=13;break}return e.abrupt("return");case 13:c=z.a.createInitialStats(t,a,n),r=z.a.getDisplayStatKeys(c,{characterSheet:a,weaponSheet:n,artifactSheets:Ue}),lt({character:t,characterSheet:a,weaponSheet:n,initialStats:c,statsDisplayKeys:r});case 16:case"end":return e.stop()}}),e)})))()}),[Re,h,Ue]),Object(b.useEffect)((function(){return J.a.followAnyArt(Qe)}),[Qe]),Object(b.useEffect)((function(){return h?J.a.followChar(h,Ge):void 0}),[h,Ge]),Object(b.useEffect)((function(){return function(){var e;return null===(e=$e.current)||void 0===e?void 0:e.terminate()}}),[]);var vt=Object(b.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";h!==e&&(C(e),M([]),Ge(),lt({}))}),[Ge,C,h]);Object(b.useEffect)((function(){Ze.current?Object(ee.p)("BuildsDisplay.state",{characterKey:h,maxBuildsToShow:R}):Ze.current=!0}),[h,R]),Object(b.useEffect)((function(){if(st&&Array.isArray(bt)){for(var e in st){var t,a=st[e],n=Object(c.a)(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(JSON.stringify(r)===JSON.stringify(bt))return}}catch(i){n.e(i)}finally{n.f()}}xt({optimizationTarget:"finalATK"})}}),[bt,st,xt]);var pt=Object(b.useMemo)((function(){if(!h)return{split:Object.fromEntries(Q.h.map((function(e){return[e,[]]}))),totBuildNumber:0};var e=J.a._getArts().filter((function(e){return e.location===h||!(e.lock&&!Ot)&&!(e.location&&!mt)})),t=F.a.splitArtifactsBySlot(e);le.forEach((function(e,a){var n;return dt[a]&&(t[e]=null===(n=t[e])||void 0===n?void 0:n.filter((function(e){return e.mainStatKey===dt[a]})))}));var a=Object(ae.a)(t,ut);return Ye&&{split:t,totBuildNumber:a}}),[h,Ot,mt,dt,ut,Ye]),gt=pt.split,yt=pt.totBuildNumber,St=Object(b.useCallback)((function(){var e;if(it&&Ue){M([]),Ke(!0),ze(0),Fe(0),He(0),it.mainStatAssumptionLevel=ht;var t=F.a.setEffectsObjs(Ue,it),a=Object(ee.d)(gt);Object.values(a).forEach((function(e){e.forEach((function(e){var t;e.mainStatVal=null!==(t=F.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(ht,4*e.numStars),e.level)))&&void 0!==t?t:0}))}));var n=Object.fromEntries(Object.entries(jt).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].min]})).filter((function(e){return"number"===typeof Object(l.a)(e,2)[1]}))),c=Object.fromEntries(Object.entries(jt).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].max]})).filter((function(e){return"number"===typeof Object(l.a)(e,2)[1]}))),r={splitArtifacts:a,initialStats:it,artifactSetEffects:t,setFilters:ut,minFilters:n,maxFilters:c,maxBuildsToShow:R,optimizationTarget:bt,ascending:ft};null===(e=$e.current)||void 0===e||e.terminate(),$e.current=new T,$e.current.onmessage=function(e){var t;if("number"===typeof e.data.progress){var a=e.data,n=a.progress,c=a.timing,r=void 0===c?0:c,i=a.skipped,s=void 0===i?0:i;return Fe(n),ze(r),void He(s)}E.a.timing({category:"Build Generation",variable:"timing",value:e.data.timing,label:yt.toString()});var l=e.data.builds.map((function(e){return z.a.calculateBuildwithArtifact(it,e.artifacts,Ue)}));M(l),Ke(!1),null===(t=$e.current)||void 0===t||t.terminate(),$e.current=null},$e.current.postMessage(r)}}),[Ue,gt,yt,ht,ft,it,R,bt,ut,jt]);Object(b.useEffect)((function(){yt&&yt<=100?St():M([])}),[h,gt,yt,ot,St]);var kt=Object(b.useCallback)((function(e,t){return Ue&&D.a.setsWithMaxRarity(Ue,e).map((function(e){var a,n,c=Object(l.a)(e,2),r=c[0],i=c[1];if(ut.some((function(e){return e.key===r})))return!1;var s=Object.keys(null!==(a=null===Ue||void 0===Ue||null===(n=Ue[r])||void 0===n?void 0:n.setEffects)&&void 0!==a?a:{}),o=ut.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!s.every((function(e){return parseInt(e)+o>5}))&&Object(ne.jsx)(O.a.Item,{onClick:function(){var e;return xt({type:"setFilter",index:t,key:r,num:null!==(e=parseInt(s[0]))&&void 0!==e?e:0})},children:i.nameWithIcon},r)}))}),[ut,xt,Ue]),Nt=null!==(t=null===ct||void 0===ct?void 0:ct.name)&&void 0!==t?t:"Character Name",wt=Object(b.useMemo)((function(){return Object(ne.jsxs)(m.a,{title:Nt,disabled:Be,children:[Object(ne.jsx)(O.a.Item,{onClick:function(){return vt("")},children:"Unselect Character"}),Object(ne.jsx)(O.a.Divider,{}),Object(ne.jsx)(W.a,{onSelect:function(e){return vt(e)}})]})}),[Nt,Be,vt]),Ct=Object(Z.b)(Array.isArray(bt)?X.a.get(bt):void 0,[bt]),At=Object(b.useMemo)((function(){if(!Array.isArray(bt))return Object(ne.jsxs)("b",{children:["Basic Stat: ",Object(ne.jsx)("span",{className:"text-".concat(Y.b.getStatVariant(bt)),children:Y.b.getStatNamePretty(bt)})]});if(!Ct)return null;var e,t=Ct.keys,a=Object(l.a)(t,3),n=a[0],c=a[2],r=Ct.field,i=z.a.getTalentFieldValue(r,"variant",it),s=z.a.getTalentFieldValue(r,"text",it);return"character"===n?("normal"!==c&&"charged"!==c&&"plunging"!==c||(c="auto"),Object(ne.jsxs)("b",{children:[null===ct||void 0===ct||null===(e=ct.getTalentOfKey(c,null===it||void 0===it?void 0:it.characterEle))||void 0===e?void 0:e.name,": ",Object(ne.jsx)("span",{className:"text-".concat(i),children:s})]})):"weapon"===n?Object(ne.jsxs)("b",{children:[null===rt||void 0===rt?void 0:rt.name,": ",Object(ne.jsx)("span",{className:"text-".concat(i),children:s})]}):void 0}),[bt,Ct,it,ct,rt]),Bt=ut.reduce((function(e,t){return t.key?e+t.num:e}),0),Kt=Object(b.useMemo)((function(){var e,t=0;return Object(ee.c)(null===it||void 0===it||null===(e=it.conditionalValues)||void 0===e?void 0:e.artifact,[],(function(e){return Array.isArray(e)}),(function(){return t++})),t}),[null===it||void 0===it?void 0:it.conditionalValues]),Mt=Object(b.useCallback)((function(e){return J.a.updateChar(Object(u.a)(Object(u.a)({},nt),e))}),[nt]);return Object(ne.jsxs)(f.a,{className:"mt-2",children:[Object(ne.jsx)(G.a,{pageKey:"buildPage",modalTitle:"Character Management Page Guide",text:["For self-infused attacks, like Noelle's Sweeping Time, enable the skill in the talent page.","You can compare the difference between equipped artifacts and generated builds.","The more complex the formula, the longer the generation time."],children:Object(ne.jsx)(ce,{})}),Object(ne.jsx)(je,{build:oe,showCharacterModal:Ne,characterKey:h,selectCharacter:vt,setmodalBuild:be,setshowCharacterModal:we}),!!it&&Object(ne.jsx)(de,{showArtCondModal:ge,setshowArtCondModal:ye,initialStats:it,characterDispatch:Mt,artifactCondCount:Kt}),Object(ne.jsx)(x.a,{className:"mt-2 mb-2",children:Object(ne.jsx)(v.a,{children:Object(ne.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:"Build Generator"}),Object(ne.jsxs)(p.a.Body,{children:[Object(ne.jsxs)(x.a,{children:[Object(ne.jsxs)(v.a,{xs:12,lg:6,children:[h?Object(ne.jsx)(_.a,{header:wt,characterKey:h,bg:"lightcontent",cardClassName:"mb-2",onEdit:Be?void 0:function(){return we(!0)}}):Object(ne.jsx)(p.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(ne.jsx)(p.a.Header,{children:wt})}),ct&&nt&&it&&Object(ne.jsx)(he,{build:it,characterSheet:ct,className:"mb-2",character:nt}),Boolean(st)&&Object(ne.jsx)(Oe,{className:"mb-2",statFilters:jt,statKeys:null===st||void 0===st?void 0:st.basicKeys,setStatFilters:function(e){return xt({statFilters:e})}})]}),Object(ne.jsx)(v.a,{xs:12,lg:6,children:Object(ne.jsxs)(x.a,{children:[Object(ne.jsx)(v.a,{className:"mb-2",xs:12,children:Object(ne.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(ne.jsx)(p.a.Body,{children:Object(ne.jsx)(g.a,{className:"w-100",onClick:function(){return ye(!0)},disabled:Be,children:Object(ne.jsxs)("span",{children:["Default Artifact Set Effects ",Boolean(Kt)&&Object(ne.jsxs)(y.a,{variant:"success",children:[Kt," Selected"]})]})})})})}),ut.map((function(e,t){var a,n,c,r,i,s=e.key,l=e.num;return Object(ne.jsx)(v.a,{className:"mb-2",xs:12,children:Object(ne.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(S.a,{children:[Object(ne.jsxs)(m.a,{as:S.a,title:null!==(a=null===Ue||void 0===Ue||null===(n=Ue[s])||void 0===n?void 0:n.nameWithIcon)&&void 0!==a?a:"Artifact Set Filter",disabled:Be,children:[Object(ne.jsx)(O.a.Item,{onClick:function(){return xt({type:"setFilter",index:t,key:""})},children:"Unselect Artifact"}),Object(ne.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),kt(5,t),Object(ne.jsx)(O.a.Divider,{}),Object(ne.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),kt(4,t),Object(ne.jsx)(O.a.Divider,{}),Object(ne.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),kt(3,t)]}),Object(ne.jsx)(m.a,{as:S.a,title:"".concat(l,"-set"),disabled:Be||!s||Bt>=5,children:!!it&&Object.keys(null!==(c=null===Ue||void 0===Ue||null===(r=Ue[s])||void 0===r?void 0:r.setEffects)&&void 0!==c?c:{}).map((function(e){var a=ut.reduce((function(e,t){return t.key&&t.key!==s?e+t.num:e}),0);return parseInt(e)+a<=5&&Object(ne.jsx)(O.a.Item,{onClick:function(){return xt({type:"setFilter",index:t,key:ut[t].key,num:parseInt(e)})},children:"".concat(e,"-set")},e)}))})]})}),s?Object(ne.jsx)(p.a.Body,{children:Object(ne.jsx)(x.a,{className:"mb-n2",children:!!it&&Object.keys(null!==(i=null===Ue||void 0===Ue?void 0:Ue[s].setEffects)&&void 0!==i?i:{}).map((function(e){return parseInt(e)})).filter((function(e){return e<=l})).map((function(e){return Object(ne.jsx)(I.a,{newBuild:void 0,setKey:s,setNumKey:e,equippedBuild:it,characterDispatch:Mt,editable:!0},s+e)}))})}):null]})},t)})),Object(ne.jsx)(v.a,{className:"mb-2",xs:12,children:Object(ne.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(ne.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(ne.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return xt({useEquippedArts:!mt})},disabled:Be,children:Object(ne.jsxs)("span",{children:[Object(ne.jsx)(d.a,{icon:mt?j.c:j.r})," Use Equipped Artifacts"]})}),Object(ne.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return xt({useLockedArts:!Ot})},disabled:Be,children:Object(ne.jsxs)("span",{children:[Object(ne.jsx)(d.a,{icon:Ot?j.c:j.r})," Use Locked Artifacts"]})})]})})}),Object(ne.jsx)(v.a,{className:"mb-2",xs:12,children:Object(ne.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(x.a,{children:[Object(ne.jsx)(v.a,{children:"Artifact Main Stat"}),Object(ne.jsx)(v.a,{xs:"auto",children:Object(ne.jsx)(ve,{mainStatAssumptionLevel:ht,setmainStatAssumptionLevel:function(e){return xt({mainStatAssumptionLevel:e})}})})]})}),Object(ne.jsx)(p.a.Body,{className:"mb-n2",children:le.map((function(e,t){return Object(ne.jsxs)("div",{className:"text-inline mb-1 d-flex justify-content-between",children:[Object(ne.jsx)("h6",{className:"d-inline mb-0",children:Object(ne.jsx)(P.b,{slotKey:e})}),Object(ne.jsxs)(m.a,{disabled:Be,size:"sm",title:dt[t]?Y.b.getStatNameWithPercent(dt[t]):"Select a mainstat",className:"d-inline",children:[Object(ne.jsx)(O.a.Item,{onClick:function(){return xt({type:"mainStatKey",index:t,mainStatKey:""})},children:"No MainStat"}),F.a.slotMainStats(e).map((function(e){return Object(ne.jsx)(O.a.Item,{onClick:function(){return xt({type:"mainStatKey",index:t,mainStatKey:e})},children:Y.b.getStatNameWithPercent(e)},e)}))]})]},e)}))})]})})]})})]}),Object(ne.jsxs)(x.a,{className:"d-flex justify-content-between mb-2",children:[Object(ne.jsx)(v.a,{xs:"auto",children:Object(ne.jsxs)(S.a,{children:[Object(ne.jsx)(g.a,{className:"h-100",disabled:!h||Be,variant:h&&yt<=ie?"success":"warning",onClick:St,children:Object(ne.jsx)("span",{children:"Generate"})}),Object(ne.jsxs)(O.a,{as:S.a,children:[Object(ne.jsx)(k.a,{overlay:Object(ne.jsx)(N.a,{id:"max-build-tooltip",children:"Decreasing the number of generated build will decrease build calculation time for large number of builds."}),children:Object(ne.jsxs)(O.a.Toggle,{children:[Object(ne.jsx)("b",{children:R})," ",1===R?"Build":"Builds"]})}),Object(ne.jsx)(O.a.Menu,{children:se.map((function(e){return Object(ne.jsxs)(O.a.Item,{onClick:function(){return U(e)},children:[e," ",1===e?"Build":"Builds"]},e)}))})]}),Object(ne.jsx)(g.a,{className:"h-100",disabled:!Be,variant:"danger",onClick:function(){$e.current&&($e.current.terminate(),$e.current=null,Ke(!1),M([]),ze(0),Fe(0),He(0))},children:Object(ne.jsx)("span",{children:"Cancel"})})]})}),Object(ne.jsx)(v.a,{xs:"auto",children:Object(ne.jsxs)(S.a,{children:[Object(ne.jsxs)(O.a,{as:S.a,drop:"up",children:[Object(ne.jsx)(O.a.Toggle,{disabled:Be,variant:"light",children:Object(ne.jsxs)("span",{children:["Optimization Target: ",At]})}),Object(ne.jsx)(O.a.Menu,{align:"right",style:{minWidth:"40rem"},children:Object(ne.jsx)(x.a,{children:!!st&&Object.entries(st).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],c=ct&&rt&&Ue?Object(V.a)(a,{characterSheet:ct,weaponSheet:rt,artifactSheets:Ue},null===it||void 0===it?void 0:it.characterEle):a;return Object(ne.jsxs)(v.a,{xs:12,md:6,children:[Object(ne.jsx)(O.a.Header,{style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(ne.jsx)("b",{children:c})}),n.map((function(e,t){return Array.isArray(e)?Object(ne.jsx)(ue,{target:e,buildSettingsDispatch:xt,initialStats:it},t):"string"===typeof e?Object(ne.jsx)(O.a.Item,{onClick:function(){return xt({optimizationTarget:e})},children:Y.b.getStatNamePretty(e)},t):null}))]},a)}))})})]}),Object(ne.jsxs)(g.a,{onClick:function(){return xt({ascending:!ot.ascending})},disabled:Be,variant:ft?"danger":"primary",children:[Object(ne.jsx)(d.a,{icon:ft?j.p:j.q,className:"fa-fw"}),Object(ne.jsx)("span",{children:ft?"Ascending":"Descending"})]})]})})]}),Object(ne.jsx)(x.a,{className:"",children:Object(ne.jsx)(v.a,{children:!!h&&Object(ne.jsx)(fe,{totBuildNumber:yt,generatingBuilds:Be,generationSkipped:qe,generationProgress:Te,generationDuration:Pe,characterName:Nt,maxBuildsToShow:R})})})]})]})})}),Object(ne.jsx)(x.a,{className:"mb-2",children:Object(ne.jsx)(v.a,{children:Object(ne.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsx)(x.a,{children:Object(ne.jsx)(v.a,{children:h?Object(ne.jsxs)("span",{children:["Showing ",Object(ne.jsx)("b",{children:K.length})," Builds generated for ",Nt]}):Object(ne.jsx)("span",{children:"Select a character to generate builds."})})})}),Object(ne.jsx)(w.a,{children:K.map((function(e,t){return t<R&&ct&&rt&&Ue&&Object(ne.jsx)(me,{sheets:{characterSheet:ct,weaponSheet:rt,artifactSheets:Ue},build:e,characterKey:h,index:t,statsDisplayKeys:st,onClick:function(){return be(e)}},t)}))})]})})})]})}function ue(e){var t=e.target,a=e.buildSettingsDispatch,n=e.initialStats,c=Object(Z.b)(X.a.get(t),[t]);if(!c)return null;var r=c.field;return Object(ne.jsx)(O.a.Item,{onClick:function(){return a({optimizationTarget:t})},style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(ne.jsx)("span",{className:"text-".concat(z.a.getTalentFieldValue(r,"variant",n)),children:z.a.getTalentFieldValue(r,"text",n)})})}function je(e){var t=e.build,a=e.showCharacterModal,n=e.characterKey,c=e.selectCharacter,r=e.setmodalBuild,i=e.setshowCharacterModal,s=Object(b.useCallback)((function(){r(null),i(!1)}),[r,i]);return Object(ne.jsx)(C.a,{show:Boolean(a||t),onHide:s,size:"xl",contentClassName:"bg-transparent",children:Object(ne.jsx)(h.a.Suspense,{fallback:Object(ne.jsx)("span",{children:"Loading..."}),children:Object(ne.jsx)(re,{character:void 0,tabName:void 0,characterKey:n,setCharacterKey:function(e){return c(e)},newBuild:t,onClose:s,editable:a,footer:Object(ne.jsx)(g.a,{variant:"danger",onClick:s,children:"Close"})})})})}function de(e){var t=e.showArtCondModal,a=e.setshowArtCondModal,n=e.initialStats,c=e.characterDispatch,r=e.artifactCondCount,i=Object(b.useCallback)((function(){return a(!1)}),[a]),s=Object(Z.b)(D.a.getAll(),[]);if(!s)return null;var o=Object.entries(D.a.setKeysByRarities(s)).reverse().flatMap((function(e){return Object(l.a)(e,2)[1]}));return Object(ne.jsx)(C.a,{show:t,onHide:i,size:"xl",contentClassName:"bg-transparent",children:Object(ne.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(x.a,{children:[Object(ne.jsx)(v.a,{children:Object(ne.jsxs)("h5",{children:["Default Artifact Set Effects  ",Boolean(r)&&Object(ne.jsxs)(y.a,{variant:"success",children:[r," Selected"]})]})}),Object(ne.jsx)(v.a,{xs:"auto",children:Object(ne.jsx)(g.a,{onClick:function(){n.conditionalValues.artifact&&(n.conditionalValues.artifact={}),c({conditionalValues:n.conditionalValues})},children:Object(ne.jsxs)("span",{children:[Object(ne.jsx)(d.a,{icon:j.x})," Reset All"]})})}),Object(ne.jsx)(v.a,{xs:"auto",children:Object(ne.jsx)(g.a,{variant:"danger",onClick:i,children:Object(ne.jsx)(d.a,{icon:j.t})})})]})}),Object(ne.jsx)(p.a.Body,{children:Object(ne.jsx)(x.a,{children:o.map((function(e){var t,a=s[e],r=Object.values(a.slotIcons)[0],i=a.rarity,l=i[0];return Object(ne.jsx)(v.a,{className:"mb-2",xs:12,lg:6,xl:4,children:Object(ne.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(x.a,{children:[Object(ne.jsx)(v.a,{xs:"auto",className:"ml-n3 my-n2",children:Object(ne.jsx)(A.a,{src:r,className:"thumb-mid grad-".concat(l,"star m-1"),thumbnail:!0})}),Object(ne.jsxs)(v.a,{children:[Object(ne.jsx)("h6",{children:Object(ne.jsx)("b",{children:null!==(t=null===s||void 0===s?void 0:s[e].name)&&void 0!==t?t:""})}),Object(ne.jsx)("span",{children:i.map((function(e,t){return Object(ne.jsxs)("span",{children:[e,Object(ne.jsx)(U.a,{stars:1})," ",t<i.length-1?"/ ":null]},e)}))})]})]})}),Object(ne.jsx)(p.a.Body,{children:Object(ne.jsx)(x.a,{className:"mb-n2",children:Boolean(e)&&Object.keys(a.setEffects).map((function(e){return parseInt(e)})).map((function(t){return Object(ne.jsx)(I.a,{newBuild:void 0,setKey:e,setNumKey:t,equippedBuild:n,editable:!0,characterDispatch:c},e+t)}))})})]})},e)}))})}),Object(ne.jsx)(p.a.Footer,{children:Object(ne.jsxs)(g.a,{variant:"danger",onClick:i,children:[Object(ne.jsx)(d.a,{icon:j.t})," CLOSE"]})})]})})}function be(e){var t=e.statKey,a=e.statKeys,n=void 0===a?[]:a,c=e.min,r=e.max,i=e.close,s=e.setFilter,l="%"===Y.b.getStatUnit(t),o={disabled:!t,allowEmpty:!0,float:l},b=Object(u.a)(Object(u.a)({},o),{},{placeholder:"MIN",value:c,onChange:function(e){return s(t,e,r)}}),h=Object(u.a)(Object(u.a)({},o),{},{placeholder:"MAX",value:r,onChange:function(e){return s(t,c,e)}});return Object(ne.jsxs)(B.a,{className:"mb-2",children:[Object(ne.jsx)(m.a,{as:B.a.Prepend,title:Y.b.getStatNamePretty(t,"New Stat"),id:"input-group-dropdown-1",children:n.map((function(e){return Object(ne.jsx)(O.a.Item,{onClick:function(){null===i||void 0===i||i(),s(e,c,r)},children:Y.b.getStatNamePretty(e)},e)}))}),Object(ne.jsx)(R.a,Object(u.a)({},b)),Object(ne.jsx)(R.a,Object(u.a)({},h)),Boolean(i)&&Object(ne.jsx)(B.a.Append,{children:Object(ne.jsx)(g.a,{variant:"danger",onClick:i,children:Object(ne.jsx)(d.a,{icon:j.v})})})]})}function he(e){var t=e.characterSheet,a=e.character,n=e.build,c=e.className,r=Object(b.useCallback)((function(e){var t=e.hitMode;return J.a.updateChar(Object(u.a)(Object(u.a)({},a),{},{hitMode:t}))}),[a]),i=Object(b.useCallback)((function(e){var t=e.reactionMode;return J.a.updateChar(Object(u.a)(Object(u.a)({},a),{},{reactionMode:t}))}),[a]),s=Object(b.useCallback)((function(e){var t=e.infusionAura;return J.a.updateChar(Object(u.a)(Object(u.a)({},a),{},{infusionAura:t}))}),[a]);return a?Object(ne.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:c,children:[Object(ne.jsx)(p.a.Header,{children:Object(ne.jsxs)(x.a,{children:[Object(ne.jsx)(v.a,{children:"Hit Mode Options"}),Object(ne.jsx)(v.a,{xs:"auto",children:Object(ne.jsx)(L.b,{characterSheet:t,character:a,characterDispatch:s})})]})}),Object(ne.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(ne.jsx)(L.a,{hitMode:a.hitMode,characterDispatch:r,className:"w-100 mb-2"}),Object(ne.jsx)(L.c,{build:n,character:a,characterDispatch:i,className:"w-100 mb-2"})]})]}):null}function Oe(e){var t=e.statKeys,a=void 0===t?[]:t,c=e.statFilters,r=void 0===c?{}:c,i=e.setStatFilters,s=e.className,o=a.filter((function(e){return!Object.keys(r).some((function(t){return t===e}))})),j=function(e,t,a){return i(Object(u.a)(Object(u.a)({},r),{},Object(n.a)({},e,{min:t,max:a})))};return Object(ne.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:s,children:[Object(ne.jsx)(p.a.Header,{children:"Final Stat Filter"}),Object(ne.jsx)(p.a.Body,{children:Object(ne.jsxs)(x.a,{className:"mb-n2",children:[Object.entries(r).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],c=n.min,s=n.max;return Object(ne.jsx)(v.a,{xs:12,children:Object(ne.jsx)(be,{statKey:a,statKeys:o,setFilter:j,min:c,max:s,close:function(){delete r[a],i(Object(u.a)({},r))}})},a)})),Object(ne.jsx)(v.a,{xs:12,children:Object(ne.jsx)(be,{min:void 0,max:void 0,close:void 0,statKeys:o,setFilter:j})})]})})]})}function me(e){var t=e.sheets,a=e.sheets.artifactSheets,n=e.index,c=e.characterKey,r=e.build,i=e.statsDisplayKeys,s=e.onClick,o=J.a._getChar(c);if(!o)return null;var u=o.equippedArtifacts,j=Q.h.every((function(e){var t;return u[e]===(null===(t=r.equippedArtifacts)||void 0===t?void 0:t[e])}));return Object(ne.jsx)("div",{children:Object(ne.jsxs)(w.a.Item,{variant:n%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:s,children:[Object(ne.jsx)("h5",{className:"mb-2",children:Object(ne.jsxs)(x.a,{children:[Object(ne.jsx)(v.a,{xs:"auto",children:Object(ne.jsx)(y.a,{variant:"info",children:Object(ne.jsxs)("strong",{children:[n+1,j?" (Equipped)":""]})})}),Object(ne.jsx)(v.a,{xs:"auto",children:Object.entries(r.setToSlots).sort((function(e,t){var a=Object(l.a)(e,2),n=(a[0],a[1]),c=Object(l.a)(t,2);c[0];return c[1].length-n.length})).map((function(e){var t,n=Object(l.a)(e,2),c=n[0],r=n[1];return Object(ne.jsxs)(y.a,{variant:j?"success":"primary",className:"mr-2",children:[r.map((function(e){return Object(P.a)(e)}))," ",null!==(t=null===a||void 0===a?void 0:a[c].name)&&void 0!==t?t:""]},c)}))})]})}),Object(ne.jsx)(q.a,{editable:!1,sheets:t,character:o,newBuild:r,statsDisplayKeys:i,cardbg:n%2?"lightcontent":"darkcontent"})]})})}function fe(e){var t,a,n,c,r=e.totBuildNumber,i=e.generatingBuilds,s=e.generationSkipped,l=e.generationProgress,o=e.generationDuration,u=e.characterName,j=e.maxBuildsToShow,d=null!==(t=null===r||void 0===r?void 0:r.toLocaleString())&&void 0!==t?t:r,b=r-s,h=null!==(a=null===l||void 0===l?void 0:l.toLocaleString())&&void 0!==a?a:l,O=null!==(n=null===s||void 0===s?void 0:s.toLocaleString())&&void 0!==n?n:s,m=null!==(c=null===b||void 0===b?void 0:b.toLocaleString())&&void 0!==c?c:b,f=Boolean(s)&&Object(ne.jsxs)("span",{children:["(",Object(ne.jsx)("b",{children:O})," skipped)"]});if(i){var x=100*l/b;return Object(ne.jsxs)(K.a,{variant:"success",children:[Object(ne.jsxs)("span",{children:["Generating and testing ",Object(ne.jsxs)("b",{className:"text-monospace",children:[h,"/",m]})," build configurations against the criteria for ",Object(ne.jsx)("b",{children:u}),". ",f]}),Object(ne.jsx)("br",{}),Object(ne.jsxs)("h6",{children:["Time elapsed: ",Object(ne.jsx)("strong",{className:"text-monospace",children:Object($.b)(o)})]}),Object(ne.jsx)(M.a,{now:x,label:"".concat(x.toFixed(1),"%")})]})}return!i&&l?Object(ne.jsxs)(K.a,{variant:"success",children:[Object(ne.jsxs)("span",{children:["Generated and tested ",Object(ne.jsx)("b",{className:"text-monospace",children:m})," Build configurations against the criteria for ",Object(ne.jsx)("b",{children:u}),". ",f]}),Object(ne.jsxs)("h6",{children:["Total duration: ",Object(ne.jsx)("strong",{className:"text-monospace",children:Object($.b)(o)})]}),Object(ne.jsx)(M.a,{now:100,variant:"success",label:"100%"})]}):0===r?Object(ne.jsx)(K.a,{variant:"warning",className:"mb-0",children:Object(ne.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(ne.jsx)("b",{children:u}),". Please change your Artifact configurations, or add/unlock more Artifacts."]})}):r>ie?Object(ne.jsx)(K.a,{variant:"warning",className:"mb-0",children:Object(ne.jsxs)("span",{children:["Current configuration will generate ",Object(ne.jsx)("b",{children:d})," builds for ",Object(ne.jsx)("b",{children:u}),". This might take quite a while to generate..."]})}):Object(ne.jsx)(K.a,{variant:"success",className:"mb-0",children:Object(ne.jsxs)("span",{children:["Current configuration ",r<=j?"generated":"will generate"," ",Object(ne.jsx)("b",{children:d})," builds for ",Object(ne.jsx)("b",{children:u}),"."]})})}var xe={0:Object(ne.jsx)("span",{children:"No level assumption"}),4:Object(ne.jsx)("span",{children:"Assume at least level 4"}),8:Object(ne.jsx)("span",{children:"Assume at least level 8"}),12:Object(ne.jsx)("span",{children:"Assume at least level 12"}),16:Object(ne.jsx)("span",{children:"Assume at least level 16"}),20:Object(ne.jsx)("span",{children:"Assume at least level 20"})};function ve(e){var t=e.mainStatAssumptionLevel,a=void 0===t?0:t,n=e.setmainStatAssumptionLevel;return Object(ne.jsx)(k.a,{overlay:Object(ne.jsx)(N.a,{id:"assume-level-tooltip",children:"Change Main Stat value to be at least a specific level. Does not change substats."}),children:Object(ne.jsxs)(O.a,{children:[Object(ne.jsx)(O.a.Toggle,{variant:a?"orange":"primary",children:xe[a]}),Object(ne.jsx)(O.a.Menu,{children:Object.entries(xe).map((function(e){var t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(ne.jsx)(O.a.Item,{onClick:function(){return n(parseInt(a))},children:c},a)}))})]})})}}}]);
//# sourceMappingURL=17.ce4da874.chunk.js.map