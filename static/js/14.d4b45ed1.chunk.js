(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[14],{191:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(16),c=n(14),r=n(52),i=n(1),s=function(){return Object(i.jsx)(r.a,{icon:c.x})},l=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),c=n(0),r=n(123),i=n(1);function s(e){var t=e.value,n=e.onChange,s=e.className,l=void 0===s?"":s,o=e.disabled,u=void 0!==o&&o,d=e.float,j=void 0!==d&&d,b=e.placeholder,f=e.allowEmpty,h=void 0!==f&&f,O=e.max,x=e.min,m=Object(c.useState)(""),v=Object(a.a)(m,2),p=v[0],y=v[1],g=Object(c.useCallback)((function(){if(h&&""===p)return n(void 0);if(""===p)return n(0);var e=j?parseFloat:parseInt;n(e(p))}),[n,p,j,h]);return Object(c.useEffect)((function(){var e;return y(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,y]),Object(i.jsx)(r.a,{value:p,"aria-label":"custom-input",className:"hide-appearance ".concat(l),type:"number",placeholder:b,onChange:function(e){return y(e.target.value)},onBlur:g,disabled:u,onKeyDown:function(e){return"Enter"===e.key&&g()},max:O,min:x})}},203:function(e,t,n){"use strict";function a(e,t){switch(t){case"%":return(Math.round(10*e)/10).toFixed(1)+"%";case"eff":return e.toFixed(2)+"%";default:return Math.round(e).toFixed(0)}}function c(e,t){switch(t){case"%":return(Math.round(10*e)/10).toFixed(1);case"eff":return e.toFixed(2);default:return Math.round(e).toFixed(0)}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}))},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));var a=n(14),c=n(52),r=n(56),i=n(1),s={flower:a.a,plume:a.i,sands:a.l,goblet:a.H,circlet:a.e};function l(e){return Object(i.jsx)(c.a,{icon:s[e],className:"fa-fw"},e)}function o(e){var t=e.slotKey,n=Object(r.a)("artifact").t,a=l(t);return Object(i.jsxs)("span",{children:[a," ",n("slotName.".concat(t))]})}},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(82),c=n(112),r=n(42),i=n(79),s=n(1);function l(e){var t=e.onSelect;return Object(s.jsx)(s.Fragment,{children:r.a._getCharKeys().sort((function(e,t){return e<t?-1:e>t?1:0})).map((function(e){return Object(s.jsx)(o,{characterKey:e,onSelect:t},e)}))})}function o(e){var t=e.characterKey,n=e.onSelect,r=Object(i.b)(c.b.get(t),[t]);return r?Object(s.jsx)(a.a.Item,{onClick:function(){return n(t)},children:r.name}):null}},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(4),c=n(14),r=n(52),i=n(0),s=n(512),l=n(26),o=n(61),u=n(30),d=n(57),j=n(188),b=n(9),f=n(1);function h(e){var t,n,h=e.pageKey,O=void 0===h?"":h,x=e.text,m=void 0===x?"":x,v=e.modalTitle,p=void 0===v?"":v,y=e.children,g=Object(i.useState)(null===(t=null===(n=Object(b.l)("infoShown"))||void 0===n?void 0:n[O])||void 0===t||t),S=Object(a.a)(g,2),w=S[0],k=S[1],N=Object(i.useState)(Array.isArray(m)?Object(b.g)(m):m),K=Object(a.a)(N,1)[0],C=function(){var e,t=null!==(e=Object(b.l)("infoShown"))&&void 0!==e?e:{};t[O]=!1,Object(b.p)("infoShown",t),k(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{show:w,onHide:function(){return C()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(f.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(f.jsx)(l.a.Header,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(l.a.Title,{children:p})}),Object(f.jsx)(u.a,{xs:"auto",children:Object(f.jsx)(d.a,{variant:"danger",onClick:function(){return C()},children:Object(f.jsx)(r.a,{icon:c.z})})})]})}),Object(f.jsx)(l.a.Body,{children:Object(f.jsx)(i.Suspense,{fallback:Object(f.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(f.jsx)(j.a,{animation:"border",variant:"primary"})]}),children:y})}),Object(f.jsx)(l.a.Footer,{children:Object(f.jsx)(d.a,{variant:"danger",onClick:function(){return C()},children:Object(f.jsx)("span",{children:"Close"})})})]})}),Object(f.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(f.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)("small",{children:K})}),Object(f.jsx)(u.a,{xs:"auto",children:Object(f.jsx)(d.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return k(!0)},children:Object(f.jsx)(r.a,{icon:c.r})})})]})})})]})}},216:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(4),c=n(14),r=n(52),i=n(0),s=n(153),l=n(57),o=n(196),u=n(26),d=n(30),j=n(82),b=n(202),f=n(222),h=n(61),O=n(219),x=n(112),m=n(208),v=n(191),p=n(42),y=n(29),g=n(60),S=n(79),w=n(203),k=n(43),N=n(110),K=n(204),C=n(217),A=n(1),E=new Set(g.b);function I(e){var t,n,g,I,L,F,M,T=e.artifactId,R=e.artifactObj,P=e.onEdit,U=e.onDelete,D=e.mainStatAssumptionLevel,z=void 0===D?0:D,W=e.effFilter,H=void 0===W?E:W,B=Object(i.useState)(void 0),V=Object(a.a)(B,2),q=V[0],_=V[1];Object(i.useEffect)((function(){return T?p.a.followArt(T,_):void 0}),[T,_]);var G=Object(S.b)(N.a.get(null===(t=null!==R&&void 0!==R?R:T?p.a._getArt(T):void 0)||void 0===t?void 0:t.setKey),[R,T]),J=function(e){return p.a.setLocation(T,e)},Y=!R,$=null!==R&&void 0!==R?R:q,Q=Object(S.b)(x.b.get(null!==(n=null===$||void 0===$?void 0:$.location)&&void 0!==n?n:""),[null===$||void 0===$?void 0:$.location]);if(!$)return null;var X=$.id,Z=$.slotKey,ee=$.numStars,te=$.level,ne=$.mainStatKey,ae=$.substats,ce=$.lock,re=Math.max(Math.min(z,4*ee),te),ie=Object(A.jsx)("span",{className:re!==te?"text-orange":"",children:Object(w.b)(null!==(g=k.a.mainStatValue(ne,ee,re))&&void 0!==g?g:0,y.b.getStatUnit(ne))}),se=k.a.getArtifactEfficiency($,H),le=se.currentEfficiency,oe=se.maxEfficiency,ue=0!==oe,de=null!==(I=null===Q||void 0===Q?void 0:Q.name)&&void 0!==I?I:"Inventory";return Object(A.jsxs)(u.a,{className:"h-100",border:"".concat(ee,"star"),bg:"lightcontent",text:"lightfont",children:[Object(A.jsx)(u.a.Header,{className:"p-0",children:Object(A.jsxs)(h.a,{children:[Object(A.jsx)(d.a,{xs:2,md:3,children:Object(A.jsx)(b.a,{src:null!==(L=null===G||void 0===G?void 0:G.slotIcons[Z])&&void 0!==L?L:"",className:"w-100 h-auto grad-".concat(ee,"star m-1"),thumbnail:!0})}),Object(A.jsxs)(d.a,{className:"pt-3",children:[Object(A.jsx)("h6",{children:Object(A.jsx)("b",{children:null!==(F=null===G||void 0===G?void 0:G.getSlotName(Z))&&void 0!==F?F:"Unknown Piece Name"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)(K.b,{slotKey:Z})," +".concat(te)]})]})]})}),Object(A.jsxs)(u.a.Body,{className:"d-flex flex-column py-2",children:[Object(A.jsxs)(u.a.Title,{children:[Object(A.jsx)("div",{children:null!==(M=null===G||void 0===G?void 0:G.name)&&void 0!==M?M:"Artifact Set"}),Object(A.jsx)("small",{className:"text-halfsize",children:Object(A.jsx)(v.a,{stars:ee})})]}),Object(A.jsx)("h5",{className:"mb-1",children:Object(A.jsxs)("b",{children:[y.b.getStatName(ne)," ",ie]})}),Object(A.jsx)(h.a,{className:"mb-0",children:ae.map((function(e,t){var n,a,c;if(!e.value)return null;var r=null!==(n=null===(a=e.rolls)||void 0===a?void 0:a.length)&&void 0!==n?n:0,i=null!==(c=e.efficiency)&&void 0!==c?c:0,l=.3+.7*i,o=y.b.getStatName(e.key);return Object(A.jsxs)(d.a,{xs:12,children:[Object(A.jsx)(s.a,{variant:r?"".concat(r,"roll"):"danger",className:"text-darkcontent",children:Object(A.jsx)("b",{children:r||"?"})})," ",Object(A.jsxs)("span",{className:"text-".concat(r,"roll"),children:[o,"+".concat(Object(w.b)(e.value,y.b.getStatUnit(e.key)))]}),Object(A.jsx)("span",{className:"float-right",style:{opacity:l},children:e.key&&H.has(e.key)?Object(w.b)(i,"eff"):"-"})]},t)}))}),Object(A.jsxs)(h.a,{className:"mt-auto",children:[Object(A.jsxs)(d.a,{children:["Current SS Eff.: ",Object(A.jsx)(C.a,{value:le,valid:ue,className:"float-right"})]}),le!==oe&&Object(A.jsxs)(d.a,{className:"text-right",children:["Max SS Eff.: ",Object(A.jsx)(C.a,{value:oe,valid:ue})]})]})]}),Object(A.jsx)(u.a.Footer,{className:"pr-3",children:Object(A.jsxs)(h.a,{className:"d-flex justify-content-between no-gutters",children:[Y?Object(A.jsx)(d.a,{xs:"auto",children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(j.a.Toggle,{size:"sm",className:"text-left",children:de}),Object(A.jsxs)(j.a.Menu,{children:[Object(A.jsx)(j.a.Item,{onClick:function(){return J("")},children:"Inventory"}),Object(A.jsx)(j.a.Divider,{}),Object(A.jsx)(m.a,{onSelect:J})]})]})}):Object(A.jsx)(d.a,{xs:"auto",children:Object(A.jsx)("b",{children:de})}),Object(A.jsx)(d.a,{xs:"auto",children:Object(A.jsxs)(o.a,{children:[Y?Object(A.jsx)(f.a,{placement:"top",overlay:Object(A.jsx)(O.a,{id:"lock-artifact-tip",children:"Locking a artifact will prevent the build generator from picking it for builds."}),children:Object(A.jsx)("span",{className:"d-inline-block",children:Object(A.jsx)(l.a,{size:"sm",onClick:function(){return p.a.lockArtifact(X,!ce)},children:Object(A.jsx)(r.a,{icon:ce?c.n:c.o,className:"fa-fw"})})})}):null,!!P&&Object(A.jsx)(l.a,{variant:"info",size:"sm",onClick:P,children:Object(A.jsx)(r.a,{icon:c.h,className:"fa-fw"})}),!!U&&Object(A.jsx)(l.a,{variant:"danger",size:"sm",onClick:U,children:Object(A.jsx)(r.a,{icon:c.C,className:"fa-fw"})})]})})]})})]})}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),c=n(153),r=n(1);function i(e){var t=e.value,n=e.valid,i="number"===typeof t?["".concat(Math.floor(.05*t)+1,"roll"),t.toFixed(2)+"%"]:["secondary",t],s=Object(a.a)(i,2),l=s[0],o=s[1];return n||(l="danger"),Object(r.jsx)(c.a,{variant:l,className:"secondary"===l?"":"text-darkcontent",children:o})}},514:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return xt}));var a=n(201),c=n(96),r=n(4),i=n(11),s=n(16),l=n(14),o=n(52),u=n(0),d=n.n(u),j=n(26),b=n(196),f=n(57),h=n(82),O=n(226),x=n(270),m=n(212),v=n(508),p=n(30),y=n(173),g=n(61),S=n(45),w=n(56),k=n(19),N=n(112),K=n(208),C=n(194),A=n(191),E=n(215),I=n(29),L=n(60),F=n(12),M=n(79),T=n(9),R=n(43),P=n(216),U=n(40),D=n.n(U),z=n(58),W=n(269),H=n(123),B=n(222),V=n(519),q=n(179),_=n(153),G=n(42),J=n(51),Y=n(110),$=n(203);var Q=n(1);function X(e){var t=e.sheets,n=e.click,a=Object(w.a)("artifact").t;return Object(Q.jsx)(d.a.Fragment,{children:t&&Object.entries(Y.a.setKeysByRarities(t)).reverse().map((function(e,c){var i=Object(r.a)(e,2),s=i[0],l=i[1];return Object(Q.jsxs)(d.a.Fragment,{children:[c>0&&Object(Q.jsx)(h.a.Divider,{}),Object(Q.jsx)(h.a.Header,{children:Object(Q.jsxs)(k.a,{t:a,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",Object(Q.jsx)(A.a,{stars:parseInt(s)})]})}),l.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return n(e)},children:t[e].name},e)}))]},s)}))})}var Z=n(204),ee=n(217),te=n(349),ne=n(180),ae=n(512),ce=n(318),re=n.p+"static/media/scan_art_main.ab1cfe61.png",ie=n.p+"static/media/snippet.d223e797.png",se=n(21),le=n(25),oe={r:255,g:204,b:50},ue=new(function(){function e(t,n){Object(se.a)(this,e),this.data={},this.init=void 0,this.deinit=void 0,this.init=t,this.deinit=n}return Object(le.a)(e,[{key:"borrow",value:function(){var e=Object(z.a)(D.a.mark((function e(t,n){var a,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data[t]||(this.data[t]={value:this.init(t),refCount:0}),(a=this.data[t]).refCount+=1,e.next=5,n(a.value);case 5:return c=e.sent,a.refCount-=1,a.refCount||(delete this.data[t],this.deinit(t,a.value)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())(function(){var e=Object(z.a)(D.a.mark((function e(t){var n,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ce.createScheduler)(),a=Array(2).fill(0).map(function(){var e=Object(z.a)(D.a.mark((function e(a){var c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(ce.createWorker)({errorHandler:console.error}),e.next=3,c.load();case 3:return e.next=5,c.loadLanguage(t);case 5:return e.next=7,c.initialize(t);case 7:n.addWorker(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.any(a);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t){t.then((function(e){return e.terminate()}))}));function de(e){var t,n,a,c=e.setState,l=e.setReset,o=e.artifactInEditor,d=Object(u.useState)(!1),b=Object(r.a)(d,2),h=b[0],O=b[1],x=Object(u.useReducer)(be,{processed:[],outstanding:[]}),m=Object(r.a)(x,2),v=m[0],y=v.processed,w=v.outstanding,k=m[1],N=y[0],K=w[0],C=Object(M.b)(null===K||void 0===K?void 0:K.imageURL,[null===K||void 0===K?void 0:K.imageURL]),A=Object(M.b)(null===K||void 0===K?void 0:K.result,[null===K||void 0===K?void 0:K.result]),E=y.length+w.length,I=null!==(t=null===N||void 0===N?void 0:N.imageURL)&&void 0!==t?t:C,L=null!==N&&void 0!==N?N:{},F=L.artifact,T=L.texts,R=null!==(n=null!==(a=null===N||void 0===N?void 0:N.fileName)&&void 0!==a?a:null===K||void 0===K?void 0:K.fileName)&&void 0!==n?n:"Click here to upload Artifact screenshot files";Object(u.useEffect)((function(){!o&&F&&c(F)}),[o,F,c]),Object(u.useEffect)((function(){var e=Math.min(16-y.length,3,w.length),t=e&&!w[0].result;w.slice(0,e).forEach(fe),t&&k({type:"processing"})}),[y.length,w]),Object(u.useEffect)((function(){A&&k(Object(i.a)({type:"processed"},A))}),[A,k]);var P=Object(u.useCallback)((function(){return k({type:"pop"})}),[k]),U=Object(u.useCallback)((function(e){return k({type:"upload",files:Object(s.a)(e).map((function(e){return{file:e,fileName:e.name}}))})}),[k]),D=Object(u.useCallback)((function(){return k({type:"clear"})}),[k]);Object(u.useEffect)((function(){var e=function(e){return U(e.clipboardData.files)};return window.addEventListener("paste",e),null===l||void 0===l||l(P),function(){return window.removeEventListener("paste",e)}}),[l,P,U]);var z=I&&Object(Q.jsx)("img",{src:I,className:"w-100 h-auto",alt:"Screenshot to parse for artifact values"});return Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(je,{modalShow:h,hide:function(){return O(!1)}}),Object(Q.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)("h6",{className:"mb-0",children:"Parse Artifact by Uploading Image"})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsx)(f.a,{variant:"info",size:"sm",onClick:function(){O(!0),S.a.modalview("/artifact/how-to-upload")},children:"Show Me How!"})})]})}),E>0&&Object(Q.jsx)(p.a,{xs:12,children:Object(Q.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{className:"p-1 ml-2",children:["Screenshots in file-queue: ",Object(Q.jsx)("b",{children:E}),!1]}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsx)(f.a,{size:"sm",variant:"danger",onClick:D,children:"Clear file-queue"})})]})})}),Object(Q.jsx)(p.a,{xs:8,lg:I?4:0,children:z}),Object(Q.jsxs)(p.a,{xs:12,lg:I?8:12,children:[!N&&K&&Object(Q.jsxs)("div",{className:"mb-2",children:[Object(Q.jsx)("h6",{className:"mb-0",children:"Scanning current artifact"}),Object(Q.jsx)(te.a,{animated:!0,now:100})]}),Object(Q.jsx)(ne.a.File,{type:"file",className:"mb-0",label:R,onChange:function(e){U(e.target.files),e.target.value=null},accept:"image/*",custom:!0,multiple:!0}),T&&Object(Q.jsxs)("div",{className:"mb-2",children:[Object(Q.jsx)("div",{children:T.slotKey}),Object(Q.jsx)("div",{children:T.mainStatKey}),Object(Q.jsx)("div",{children:T.mainStatVal}),Object(Q.jsx)("div",{children:T.numStars}),Object(Q.jsx)("div",{children:T.level}),Object(Q.jsx)("div",{children:T.substats}),Object(Q.jsx)("div",{children:T.setKey})]}),Boolean(!I)&&Object(Q.jsx)(ne.a.Label,{className:"mb-0",children:"Please Select an Image, or paste a screenshot here (Ctrl+V)"})]})]})}function je(e){var t=e.modalShow,n=e.hide;return Object(Q.jsx)(ae.a,{show:t,onHide:n,size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(Q.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",children:[Object(Q.jsx)(j.a.Header,{children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)(j.a.Title,{children:"How do Upload Screenshots for parsing"})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsx)(f.a,{variant:"danger",onClick:n,children:Object(Q.jsx)(o.a,{icon:l.z})})})]})}),Object(Q.jsxs)(j.a.Body,{children:[Object(Q.jsx)("h5",{className:"text-warning",children:"NOTE: Artifact Scanning currently only work for ENGLISH artifacts."}),Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{xs:8,md:4,children:Object(Q.jsx)("img",{alt:"snippet of the screen to take",src:ie,className:"w-100 h-auto"})}),Object(Q.jsxs)(p.a,{xs:12,md:8,children:[Object(Q.jsx)("p",{children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(Q.jsx)("h5",{children:"Where to snip the screenshot."}),Object(Q.jsxs)("p",{children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",Object(Q.jsx)("b",{children:"Only artifact from this screen can be scanned."})]}),Object(Q.jsx)("h6",{children:"Single artifact"}),Object(Q.jsxs)("p",{children:["To take a screenshot, in Windows, the shortcut is ",Object(Q.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),Object(Q.jsx)("h6",{children:"Multiple artifacts"}),Object(Q.jsxs)("p",{children:["To take advantage of batch uploads, you can use a tool like ",Object(Q.jsx)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),Object(Q.jsx)("h5",{children:"What to include in the screenshot."}),Object(Q.jsx)("p",{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]})]}),Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{children:[Object(Q.jsx)("h5",{children:"Adding Screenshot to Genshin Optimizer"}),Object(Q.jsx)("p",{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),Object(Q.jsx)("p",{className:"mb-0",children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),Object(Q.jsxs)("p",{children:["For single screenshots from the snippets, just press ",Object(Q.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),Object(Q.jsxs)("p",{children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(Q.jsx)("b",{children:"Artifact Editor"}),"."]})]}),Object(Q.jsxs)(p.a,{xs:12,children:[Object(Q.jsx)("h5",{children:"Finishing the Artifact"}),Object(Q.jsxs)("p",{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",Object(Q.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]}),Object(Q.jsx)("img",{alt:"main screen after importing stats",src:re,className:"w-75 h-auto"})]})]})]}),Object(Q.jsx)(j.a.Footer,{children:Object(Q.jsx)(f.a,{variant:"danger",onClick:n,children:Object(Q.jsx)("span",{children:"Close"})})})]})})}var be=function(e,t){switch(t.type){case"upload":return{processed:e.processed,outstanding:[].concat(Object(s.a)(e.outstanding),Object(s.a)(t.files))};case"processing":return{processed:e.processed,outstanding:Object(s.a)(e.outstanding)};case"processed":return e.outstanding[0].file===t.file?{processed:[].concat(Object(s.a)(e.processed),[t.result]),outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function fe(e){if(!e.result){var t=e.file,n=e.fileName;e.imageURL=We(t),e.result=e.imageURL.then(function(){var e=Object(z.a)(D.a.mark((function e(a){var c,i,s,l,o,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.getAll();case 2:return c=e.sent,e.next=5,Ve(a);case 5:return i=e.sent,s=Je(c,i.rarities,Ye(i.artifactSetTexts,c),Xe(i.whiteTexts),tt(i.substatTexts),Ze(i.whiteTexts),et(i.whiteTexts)),l=Object(r.a)(s,2),o=l[0],u=l[1],e.abrupt("return",{file:t,result:{fileName:n,imageURL:a,artifact:o,texts:u}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}var he,Oe,xe,me,ve,pe,ye,ge,Se,we,ke,Ne,Ke,Ce,Ae,Ee,Ie,Le,Fe,Me,Te,Re,Pe,Ue,De,ze,We=function(e){return new Promise((function(t){var n=new FileReader;n.onloadend=function(e){var n=e.target;return t(n.result)},n.readAsDataURL(e)}))},He=function(e){return new Promise((function(t){var n=new Image;n.onload=function(e){var n=e.target;return t(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)}(n))},n.src=e}))};function Be(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}function Ve(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(z.a)(D.a.mark((function e(t){var n,a,c,i,s,l,o,u,d,j,b;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t);case 2:return n=e.sent,a=n.width,c=Math.floor(n.height/2),i={rectangle:{top:c,left:0,width:a,height:c}},s=[_e(nt(n,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),_e(nt(n,[30,50,80],[160,160,160],{region:"bot"}),i),_e(nt(n,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),i)],l=$e(n.data,n.width,n.height),e.next=9,Promise.all(s);case 9:return o=e.sent,u=Object(r.a)(o,3),d=u[0],j=u[1],b=u[2],e.abrupt("return",{whiteTexts:d,substatTexts:j,artifactSetTexts:b,rarities:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(z.a)(D.a.mark((function e(t){var n,a,c,r=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:void 0,a=Be(t),e.next=4,ue.borrow("eng",function(){var e=Object(z.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,e.sent.addJob("recognize",a,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return c=e.sent,e.abrupt("return",c.data.lines.map((function(e){return e.text})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t,n,a,i,l,o){var u,d=Object(s.a)(new Set([].concat(Object(s.a)(n),["Adventurer","ArchaicPetra"]))),j=-1,b=[{id:"",setKey:"Adventurer",numStars:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1}],f=Object.fromEntries(F.a.map((function(t){var a=0;n.size&&(a+=Object(s.a)(n).reduce((function(n,a){return n+(e[a].rarity.includes(t)?1:0)}),0)/n.size);i.length&&(a+=i.reduce((function(e,n){return e+(R.a.getSubstatRolls(n.key,n.value,t).length?1:0)}),0)/i.length*2);return[t,a]}))),h=Object(c.a)(F.h);try{for(h.s();!(u=h.n()).done;){var O,x=u.value,m=Object(c.a)(R.a.slotMainStats(x));try{var v=function(){for(var t=O.value,i=(a.has(x)?1:0)+(l.has(t)?1:0),s=o.filter((function(e){return"%"!==e.unit||"%"===I.b.getStatUnit(t)})).map((function(e){return e.mainStatValue})),u=function(){var a=Object(r.a)(m[h],2),l=a[0],o=a[1],u=parseInt(l),f=d.filter((function(t){return e[t].rarity.includes(u)})),O=i+o;if(O+2<j)return"continue";var v,p=Object(c.a)(s);try{var y=function(){var e,a=v.value,r=R.a.mainStatValues(u,t),i=Math.max(0,r.findIndex((function(e){return e>=a}))),s=r[i],l=O+(s===a?1:0),o=Object(c.a)(f);try{for(o.s();!(e=o.n()).done;){var d=e.value,h=l+(n.has(d)?1:0);h>=j&&(h>j&&(b=[]),j=h,b.push({id:"",setKey:d,numStars:u,level:i,slotKey:x,mainStatKey:t,substats:[],location:"",lock:!1}))}}catch(m){o.e(m)}finally{o.f()}};for(p.s();!(v=p.n()).done;)y()}catch(N){p.e(N)}finally{p.f()}if(O>=j){var g,S=Object(c.a)(f);try{for(S.s();!(g=S.n()).done;){var w=g.value,k=O+(n.has(w)?1:0);k>j&&(b=[]),j=k,b.push({id:"",setKey:w,numStars:u,level:0,slotKey:x,mainStatKey:t,substats:[],location:"",lock:!1})}}catch(N){S.e(N)}finally{S.f()}}},h=0,m=Object.entries(f);h<m.length;h++)u()};for(m.s();!(O=m.n()).done;)v()}catch(T){m.e(T)}finally{m.f()}}}catch(T){h.e(T)}finally{h.f()}var p={},y={setKey:new Set,numStars:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},g=b[0],S=R.a.mainStatValue(g.mainStatKey,g.numStars,g.level);g.substats=i.filter((function(e,t){return e.key!==g.mainStatKey&&i.slice(0,t).every((function(t){return t.key!==e.key}))}));for(var w=g.substats.length;w<4;w++)g.substats.push({key:"",value:0});for(var k=0,N=b;k<N.length;k++){var K=N[k];y.setKey.add(K.setKey),y.numStars.add(K.numStars),y.level.add(K.level),y.slotKey.add(K.slotKey),y.mainStatKey.add(K.mainStatKey)}function C(e,t,n){return Object(Q.jsxs)(Q.Fragment,{children:["Unknown ",t," : Set to ",Object(Q.jsx)("span",{className:"text-danger",children:n(e)})]})}function A(e,t,n){return Object(Q.jsxs)(Q.Fragment,{children:["Detected ",t," ",Object(Q.jsx)("span",{className:"text-success",children:n(e)})]})}function E(e,t,n){return Object(Q.jsxs)(Q.Fragment,{children:["Inferred ",t," ",Object(Q.jsx)("span",{className:"text-warning",children:n(e)})]})}function L(e,t,n,a){var c=new Set(Object(s.a)(y[e]).filter((function(e){return t.has(e)})));c.size>1?p[e]=function(e,t,n,a){return Object(Q.jsxs)(Q.Fragment,{children:["Ambiguous ",n," ",Object(Q.jsx)("span",{className:"text-danger",children:a(e)})," : May also be ",t.filter((function(t){return t!==e})).map((function(e,t){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("b",{children:t>0?"/":""}),Object(Q.jsx)("span",{className:"text-warning",children:a(e)})]})}))]})}(g[e],Object(s.a)(t),n,a):1===c.size?p[e]=A(g[e],n,a):y[e].size>1?p[e]=C(g[e],n,a):p[e]=E(g[e],n,a)}L("setKey",n,"Set",(function(t){return e[t].name})),L("numStars",t,"Rarity",(function(e){return Object(Q.jsxs)(Q.Fragment,{children:[e," ",1!==e?"Stars":"Star"]})})),L("slotKey",a,"Slot",(function(e){return Object(Q.jsx)(Q.Fragment,{children:R.a.slotName(e)})})),L("mainStatKey",l,"Main Stat",(function(e){return Object(Q.jsx)(Q.Fragment,{children:I.b.getStatNameRaw(e)})})),p.substats=Object(Q.jsx)(Q.Fragment,{children:g.substats.filter((function(e){return""!==e.key})).map((function(e,t){return Object(Q.jsx)("div",{children:A(e,"Sub Stat",(function(e){return Object(Q.jsxs)(Q.Fragment,{children:[I.b.getStatNameRaw(e.key),"+",Object($.b)(e.value,I.b.getStatUnit(e.key))]})}))},t)}))});var M=I.b.getStatUnit(g.mainStatKey);return o.find((function(e){return e.mainStatValue===S}))?l.has(g.mainStatKey)?(p.level=A(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=A(S,"Main Stat value",(function(e){return Object(Q.jsx)(Q.Fragment,{children:Object($.b)(e,M)})}))):(p.level=E(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=E(S,"Main Stat value",(function(e){return Object(Q.jsx)(Q.Fragment,{children:Object($.b)(e,M)})}))):(p.level=C(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=C(S,"Main Stat value",(function(e){return Object(Q.jsx)(Q.Fragment,{children:Object($.b)(e,M)})}))),[g,p]}function Ye(e,t){var n,a=new Set([]),r=Object(c.a)(e);try{for(r.s();!(n=r.n()).done;){var i,s=n.value,l=Object(c.a)(F.b);try{for(l.s();!(i=l.n()).done;){var o=i.value;Object(T.j)(s.replace(/\W/g,""),t[o].nameRaw.replace(/\W/g,""))<=2&&a.add(o)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return a}function $e(e,t,n){for(var a=e,c=0,r=0,i=new Set([]),s=0;s<n;s++){for(var l=0,o=!1,u=0;u<t;u++){var d=4*(s*t+u);Qe({r:a[d],g:a[d+1],b:a[d+2]},oe)?o||(o=!0,l++):o=!1}c!==l?(c=l,r=1):c&&++r>=10&&i.add(Object(T.a)(c,3,5))}return i}function Qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=function(e,t){return Math.abs(e-t)<=n};return a(e.r,t.r)&&a(e.g,t.g)&&a(e.b,t.b)}function Xe(e){var t,n=new Set,a=Object(c.a)(e);try{for(a.s();!(t=a.n()).done;){var r,i=t.value,s=Object(c.a)(F.h);try{for(s.s();!(r=s.n()).done;){var l=r.value;Object(T.j)(i.replace(/\W/g,""),R.a.slotName(l).replace(/\W/g,""))<=2&&n.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){a.e(o)}finally{a.f()}return n}function Ze(e){var t,n=new Set([]),a=Object(c.a)(e);try{for(a.s();!(t=a.n()).done;){var r,i=t.value,s=Object(c.a)(L.a);try{for(s.s();!(r=s.n()).done;){var l=r.value;i.toLowerCase().includes(I.b.getStatNameRaw(l).toLowerCase())&&n.add(l),l.includes("_bonu")&&Object(T.j)(i.replace(/\W/g,""),I.b.getStatNameRaw(l).replace(/\W/g,""))<=1&&n.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){a.e(o)}finally{a.f()}return n}function et(e){var t,n=[],a=Object(c.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,i=/(\d+[,|\\.]+\d)%/,s=i.exec(r);s&&n.push({mainStatValue:parseFloat(s[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),(s=(i=/(\d+[,|\\.]\d{3}|\d{2,3})/).exec(r))&&n.push({mainStatValue:parseInt(s[1].replace(/[,|\\.]+/g,""))})}}catch(l){a.e(l)}finally{a.f()}return n}function tt(e){var t,n=[],a=Object(c.a)(e);try{var r=function(){var e=t.value;e=e.replace(/^[\W]+/,"").replace(/\n/,""),L.b.forEach((function(t){var a=I.b.getStatNameRaw(t),c=("%"===I.b.getStatUnit(t)?new RegExp(a+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(a+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);c&&n.push({key:t,value:parseFloat(c[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}))};for(a.s();!(t=a.n()).done;)r()}catch(i){a.e(i)}finally{a.f()}return n}function nt(e,t,n,a){for(var c=a.region,r=void 0===c?"all":c,i=a.mode,s=void 0===i?"color":i,l=Uint8ClampedArray.from(e.data),o="top"===r,u="bot"===r,d="all"===r,j="bw"===s,b="invert"===s,f=Math.floor(e.width*(e.height/2)*4),h=0;h<l.length;h+=4){var O=l[h],x=l[h+1],m=l[h+2];(d||o&&h<f||u&&h>f)&&O>=t[0]&&O<=n[0]&&x>=t[1]&&x<=n[1]&&m>=t[2]&&m<=n[2]?j?l[h]=l[h+1]=l[h+2]=0:b&&(l[h]=255-O,l[h+1]=255-x,l[h+2]=255-m):l[h]=l[h+1]=l[h+2]=255}return new ImageData(l,e.width,e.height)}var at,ct=new Set(L.b);function rt(e){var t,n,c,i=e.artifactIdToEdit,d=e.cancelEdit,b=Object(w.a)("artifact").t,x=Object(u.useReducer)(st,void 0),m=Object(r.a)(x,2),v=m[0],y=m[1],S=Object(M.b)(Y.a.getAll(),[]),N=Object(u.useMemo)((function(){return v?Object(J.e)(v):{artifact:void 0,errors:[]}}),[v]),K=N.artifact,E=N.errors,L=void 0!==K,F=K?null===S||void 0===S?void 0:S[K.setKey]:void 0;Object(u.useEffect)((function(){if(i&&i!==(null===K||void 0===K?void 0:K.id)){var e=G.a._getArt(i);e&&y({type:"overwrite",artifact:Object(T.d)(e)})}}),[i,null===K||void 0===K?void 0:K.id]);var U=Object(u.useCallback)((function(){var e;null===d||void 0===d||d(),null===(e=at)||void 0===e||e(),y({type:"reset"})}),[d,y]),D=Object(u.useCallback)((function(e){var t,n,a=e.setKey?S[e.setKey]:F;function c(e,t,n){return e&&t.includes(e)?e:null!==n&&void 0!==n?n:t[0]}e.setKey&&(e.numStars=c(null===K||void 0===K?void 0:K.numStars,a.rarity,Math.max.apply(Math,Object(s.a)(a.rarity))),e.slotKey=c(null===K||void 0===K?void 0:K.slotKey,a.slots)),e.numStars&&(e.level=null!==(t=null===K||void 0===K?void 0:K.level)&&void 0!==t?t:0),e.level&&(e.level=Object(T.a)(e.level,0,4*(null!==(n=e.numStars)&&void 0!==n?n:K.numStars))),e.slotKey&&(e.mainStatKey=c(null===K||void 0===K?void 0:K.mainStatKey,R.a.slotMainStats(e.slotKey))),e.mainStatKey&&(e.substats=[0,1,2,3].map((function(t){return K&&K.substats[t].key!==e.mainStatKey?K.substats[t]:{key:"",value:0}}))),y({type:"update",artifact:e})}),[K,S,F,y]),z=Object(u.useCallback)((function(e,t){y({type:"substat",index:e,substat:t})}),[y]),_=!E.length,te=Object(u.useMemo)((function(){return function(e){var t,n;if(!e)return{isDup:!1};var a=e.id,c=e.setKey,r=e.numStars,i=e.level,s=e.slotKey,l=e.mainStatKey,o=e.substats;if(a)return{isDup:!1};var u=G.a._getArts().filter((function(e){return c===e.setKey&&r===e.numStars&&s===e.slotKey&&l===e.mainStatKey&&i>=e.level&&o.every((function(t,n){return!e.substats[n].key||t.key===e.substats[n].key&&t.value>=e.substats[n].value}))})),d=u.filter((function(e){return i>e.level&&(Math.floor(i/4)===Math.floor(e.level/4)?o.every((function(t,n){return t.key===e.substats[n].key&&t.value===e.substats[n].value})):o.some((function(t,n){return e.substats[n].key?t.value>e.substats[n].value:t.key})))})),j=u.filter((function(e){return i===e.level&&o.every((function(t){return!t.key||e.substats.some((function(e){return t.key===e.key&&t.value===e.value}))}))}));return j.length||d.length?{dupId:null!==(t=null===(n=j[0])||void 0===n?void 0:n.id)&&void 0!==t?t:d[0].id,isDup:j.length>0}:{isDup:!1}}(K)}),[K]),ne=te.dupId,ae=te.isDup,ce=null!==K&&void 0!==K?K:{},re=ce.numStars,ie=void 0===re?5:re,se=ce.level,le=void 0===se?0:se,oe=ce.slotKey,ue=void 0===oe?"flower":oe,je=K?R.a.getArtifactEfficiency(K,ct):{},be=je.currentEfficiency,fe=void 0===be?0:be,Te=je.maxEfficiency,Re=void 0===Te?0:Te;return Object(Q.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",children:[Object(Q.jsx)(j.a.Header,{children:Object(Q.jsx)(k.a,{t:b,i18nKey:"editor.title",children:"Artifact Editor"})}),Object(Q.jsxs)(j.a.Body,{children:[Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{xs:12,lg:6,children:[Object(Q.jsxs)(O.a,{className:"w-100 d-flex mb-2",children:[Object(Q.jsxs)(h.a,{as:O.a.Prepend,className:"flex-grow-1",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:K?"success":"primary",children:null!==(t=null===F||void 0===F?void 0:F.name)&&void 0!==t?t:b(Oe||(Oe=Object(a.a)(["editor.set.artifactSet"])))}),Object(Q.jsx)(h.a.Menu,{children:Object(Q.jsx)(X,{sheets:S,click:function(e){return D({setKey:e})}})})]}),Object(Q.jsx)(W.a,{as:O.a.Append,title:K?Object(Q.jsx)(A.a,{stars:ie}):b(xe||(xe=Object(a.a)(["editor.rarity"]))),disabled:!F,variant:K?"success":"primary",children:[5,4,3].map((function(e,t){return Object(Q.jsx)(h.a.Item,{disabled:!(null===F||void 0===F?void 0:F.rarity.includes(e)),onClick:function(){return D({numStars:e})},children:Object(Q.jsx)(A.a,{stars:e})},t)}))})]}),Object(Q.jsxs)(O.a,{className:"mb-2",children:[Object(Q.jsx)(O.a.Prepend,{children:Object(Q.jsx)(O.a.Text,{children:b(me||(me=Object(a.a)(["editor.level"])))})}),Object(Q.jsx)(C.a,{value:le,disabled:!F,placeholder:"0~".concat(4*ie),onChange:function(e){return D({level:e})}}),Object(Q.jsxs)(O.a.Append,{children:[Object(Q.jsx)(f.a,{onClick:function(){return D({level:le-1})},disabled:!F||0===le,children:"-"}),ie?Object(s.a)(Array(ie+1).keys()).map((function(e){return 4*e})).map((function(e){return Object(Q.jsx)(f.a,{onClick:function(){return D({level:e})},disabled:!F||le===e,children:e},e)})):null,Object(Q.jsx)(f.a,{onClick:function(){return D({level:le+1})},disabled:!F||le===4*ie,children:"+"})]})]}),Object(Q.jsxs)(O.a,{className:"mb-2 w-100 d-flex flex-row",children:[Object(Q.jsx)(W.a,{title:Object(Q.jsx)(Z.b,{slotKey:ue}),disabled:!F,variant:K?"success":"primary",as:O.a.Prepend,children:null===F||void 0===F||null===(n=F.slots)||void 0===n?void 0:n.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return D({slotKey:e})},children:Object(Q.jsx)(Z.b,{slotKey:e})},e)}))}),Object(Q.jsx)(O.a.Text,{as:O.a.Append,className:"flex-grow-1",children:null!==(c=null===F||void 0===F?void 0:F.getSlotName(K.slotKey))&&void 0!==c?c:b(ve||(ve=Object(a.a)(["editor.unknownPieceName"])))})]}),Object(Q.jsxs)(O.a,{className:"mb-2",children:[Object(Q.jsxs)(W.a,{title:Object(Q.jsx)("b",{children:K?I.b.getStatNameWithPercent(K.mainStatKey):b(pe||(pe=Object(a.a)(["mainStat"])))}),disabled:!F,variant:K?"success":"primary",as:O.a.Prepend,children:[Object(Q.jsx)(h.a.ItemText,{children:b(ye||(ye=Object(a.a)(["editor.mainSelect"])))}),R.a.slotMainStats(ue).map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return D({mainStatKey:e})},children:I.b.getStatNameWithPercent(e)},e)}))]}),Object(Q.jsx)(H.a,{value:K?"".concat(Object($.a)(R.a.mainStatValue(K.mainStatKey,ie,le),I.b.getStatUnit(K.mainStatKey))):b(ge||(ge=Object(a.a)(["mainStat"]))),disabled:!0,readOnly:!0})]}),Object(Q.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Q.jsx)(j.a.Body,{className:"py-1 px-2",children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{className:"text-center",children:b(Se||(Se=Object(a.a)(["editor.curSubEff"])))}),Object(Q.jsxs)(p.a,{xs:"auto",children:[Object(Q.jsx)(ee.a,{valid:_,value:_?fe:"ERR"}),Object(Q.jsx)(B.a,{placement:"bottom",overlay:Object(Q.jsxs)(V.a,{id:"current-efficiency",children:[Object(Q.jsx)(V.a.Title,{as:"h5",children:b(we||(we=Object(a.a)(["editor.curSubEff"])))}),Object(Q.jsx)(V.a.Content,{children:Object(Q.jsx)(k.a,{t:b,i18nKey:"editor.curSubEffDesc"})})]}),children:Object(Q.jsx)(o.a,{icon:l.r,className:"ml-2",style:{cursor:"help"}})})]})]})})}),Object(Q.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Q.jsx)(j.a.Body,{className:"py-1 px-2",children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{className:"text-center",children:b(ke||(ke=Object(a.a)(["editor.maxSubEff"])))}),Object(Q.jsxs)(p.a,{xs:"auto",children:[Object(Q.jsx)(ee.a,{valid:_,value:_?Re:"ERR"}),Object(Q.jsx)(B.a,{placement:"bottom",overlay:Object(Q.jsxs)(V.a,{id:"max-efficiency",children:[Object(Q.jsx)(V.a.Title,{as:"h5",children:b(Ne||(Ne=Object(a.a)(["editor.maxSubEff"])))}),Object(Q.jsx)(V.a.Content,{children:Object(Q.jsx)(k.a,{t:b,i18nKey:"editor.maxSubEffDesc"})})]}),children:Object(Q.jsx)(o.a,{icon:l.r,className:"ml-2",style:{cursor:"help"}})})]})]})})})]}),Object(Q.jsx)(p.a,{xs:12,lg:6,children:[0,1,2,3].map((function(e){return Object(Q.jsx)(it,{className:"mb-2",index:e,artifact:K,setSubstat:z},e)}))})]}),Object(Q.jsxs)(g.a,{className:"mb-n2",children:[Object(Q.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Q.jsx)(de,{setState:function(e){return y({type:"overwrite",artifact:e})},setReset:function(e){return at=e},artifactInEditor:L})}),(ne||(null===K||void 0===K?void 0:K.id))&&Object(Q.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Q.jsxs)(g.a,{className:"d-flex justify-content-around mb-n2",children:[Object(Q.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(Q.jsx)("h6",{className:"text-center",children:b(Ke||(Ke=Object(a.a)(["editor.preview"])))}),Object(Q.jsx)("div",{children:Object(Q.jsx)(P.a,{artifactObj:K})})]}),Object(Q.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(Q.jsx)("h6",{className:"text-center",children:b(ne?ae?Ce||(Ce=Object(a.a)(["editor.dupArt"])):Ae||(Ae=Object(a.a)(["editor.upArt"])):Ee||(Ee=Object(a.a)(["editor.beforeEdit"])))}),Object(Q.jsx)("div",{children:Object(Q.jsx)(P.a,{artifactId:ne||(null===K||void 0===K?void 0:K.id)})})]})]})}),!_&&Object(Q.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Q.jsx)(q.a,{variant:"danger",className:"py-2 px-3 mb-0 ",children:E.map((function(e,t){return Object(Q.jsx)("div",{children:e},t)}))})})]})]}),Object(Q.jsxs)(j.a.Footer,{children:[Object(Q.jsx)(f.a,{className:"mr-2",onClick:function(){dt(K,K.id),U()},disabled:!_,variant:ne?"warning":"primary",children:(null===K||void 0===K?void 0:K.id)?b(Ie||(Ie=Object(a.a)(["editor.btnSave"]))):b(Le||(Le=Object(a.a)(["editor.btnAdd"])))}),Object(Q.jsx)(f.a,{className:"mr-2",disabled:!L,onClick:function(){window.confirm(b(he||(he=Object(a.a)(["editor.clearPrompt"]))))&&U()},variant:"success",children:b(Fe||(Fe=Object(a.a)(["editor.btnClear"])))}),!1,Boolean(ne)&&Object(Q.jsx)(f.a,{className:"float-right",onClick:function(){dt(K,ne),U()},disabled:!_,variant:"success",children:b(Me||(Me=Object(a.a)(["editor.btnUpdate"])))})]})]})}function it(e){var t,n=e.index,c=e.artifact,r=e.setSubstat,i=e.className,s=Object(w.a)("artifact").t,l=(null!==c&&void 0!==c?c:{}).mainStatKey,o=void 0===l?"":l,u=null!==(t=null===c||void 0===c?void 0:c.substats[n])&&void 0!==t?t:{},d=u.key,x=void 0===d?"":d,m=u.value,v=void 0===m?0:m,y=u.rolls,S=void 0===y?[]:y,N=u.efficiency,K=void 0===N?0:N,A=S.reduce((function(e,t){return e+t}),0),E=I.b.getStatUnit(x),F=S.length,M="",T=[],P=0,U=null;if(c){var D=c.numStars,z=R.a.rollInfo(D),H=z.numUpgrades,B=z.high;P=H+B-3-F,T=x?R.a.getSubstatRollData(x,D):[]}var V=7-T.length;if(!F&&x&&v&&(M=M||s(Te||(Te=Object(a.a)(["editor.substat.error.noCalc"])))),P<0&&(M=M||s("editor.substat.error.noOverRoll",{value:P+F})),!M){var q=Object(Q.jsx)(_.a,{variant:0===F?"secondary":"".concat(F,"roll"),className:"text-darkcontent",children:F?s("editor.substat.RollCount",{count:F}):s(Re||(Re=Object(a.a)(["editor.substat.noRoll"])))}),G=S.map((function(e,t){return Object(Q.jsx)("span",{className:"mr-2 text-".concat(V+T.indexOf(e),"roll"),children:Object($.a)(e,E)},t)}));U=Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{children:[q," ",G]}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsxs)(k.a,{t:s,i18nKey:"editor.substat.eff",children:["Efficiency: ",Object(Q.jsx)(ee.a,{valid:!0,value:K||s(Pe||(Pe=Object(a.a)(["editor.substat.noStat"])))})]})})]})}return Object(Q.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",className:i,children:[Object(Q.jsxs)(O.a,{children:[Object(Q.jsxs)(W.a,{title:x?I.b.getStatNameWithPercent(x):s("editor.substat.substatFormat",{value:n+1}),disabled:!c,variant:x?"success":"primary",as:O.a.Prepend,children:[Boolean(x)&&Object(Q.jsx)(h.a.Item,{onClick:function(){return r(n,{key:"",value:0})},children:s(Ue||(Ue=Object(a.a)(["editor.substat.noSubstat"])))},x),L.b.filter((function(e){return o!==e})).map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return r(n,{key:e,value:0})},children:I.b.getStatNameWithPercent(e)},e)}))]}),Object(Q.jsx)(C.a,{float:"%"===E,placeholder:s(De||(De=Object(a.a)(["editor.substat.selectSub"]))),value:x?v:void 0,onChange:function(e){return r(n,{key:x,value:null!==e&&void 0!==e?e:0})},disabled:!x,allowEmpty:!0}),Object(Q.jsx)(b.a,{size:"sm",as:O.a.Append,children:T.map((function(e,t){var a=Object($.a)(A+e,E);return Object(Q.jsx)(f.a,{variant:"".concat(V+t,"roll"),className:"py-0 text-darkcontent",disabled:v&&!F||P<=0,onClick:function(){return r(n,{key:x,value:parseFloat(a)})},children:a},t)}))})]}),Object(Q.jsxs)("div",{className:"p-1",children:[M&&Object(Q.jsx)(_.a,{variant:"danger",children:s(ze||(ze=Object(a.a)(["ui:error"])))})," ",M||U]})]})}function st(e,t){switch(t.type){case"reset":return;case"substat":var n=t.index,a=t.substat,c=a.key?e.substats.findIndex((function(e){return e.key===a.key})):-1;if(-1===c||c===n)e.substats[n]=a;else{var r=[e.substats[c],e.substats[n]];e.substats[n]=r[0],e.substats[c]=r[1]}return Object(i.a)({},e);case"overwrite":return t.artifact;case"update":return Object(i.a)(Object(i.a)({},e),t.artifact)}}var lt,ot,ut,dt=function(e,t){e.id=null!==t&&void 0!==t?t:"",G.a.updateArt(e)},jt=d.a.lazy((function(){return n.e(19).then(n.bind(null,518))})),bt=["quality","level","efficiency","mefficiency"],ft=function(){return{filterArtSetKey:"",filterStars:[3,4,5],filterLevelLow:0,filterLevelHigh:20,filterSlotKey:"",filterMainStatKey:"",filterSubstats:["","","",""],filterLocation:"",filterLocked:"",ascending:!1,sortType:bt[0],maxNumArtifactsToDisplay:50,effFilter:Object(s.a)(L.b)}};function ht(e,t){return"reset"===t.type?Object(i.a)(Object(i.a)({},ft()),{},{effFilter:e.effFilter}):Object(i.a)(Object(i.a)({},e),t)}function Ot(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return Object(i.a)(Object(i.a)({},t),null!==(e=Object(T.l)("ArtifactDisplay.state"))&&void 0!==e?e:{})}function xt(e){var t,n,d,U=Object(w.a)(["artifact","ui"]).t,D=Object(u.useReducer)(ht,ft(),Ot),z=Object(r.a)(D,2),W=z[0],H=z[1],B=W.effFilter,V=Object(u.useState)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.artToEditId),q=Object(r.a)(V,2),_=q[0],J=q[1],$=Object(u.useState)(0),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ae=Object(u.useRef)(null),ce=Object(u.useRef)(null),re=Object(M.a)(),ie=Object(r.a)(re,2),se=ie[0],le=ie[1],oe=Object(M.b)(Y.a.getAll(),[]),ue=Object(u.useMemo)((function(){return new Set(B)}),[B]),de=Object(u.useCallback)((function(e){return G.a.removeArt(e)}),[]),je=Object(u.useCallback)((function(e){var t;J(e),null===ae||void 0===ae||null===(t=ae.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[]),be=Object(u.useCallback)((function(){return J(null)}),[]);Object(u.useEffect)((function(){return S.a.pageview("/artifact"),G.a.followAnyArt(le)}),[le]),Object(u.useEffect)((function(){Object(T.p)("ArtifactDisplay.state",W)}),[W]);var fe,he,Oe=Object(u.useMemo)((function(){var e=W.filterArtSetKey,t=W.filterSlotKey,n=W.filterMainStatKey,a=W.filterStars,r=W.filterLevelLow,s=W.filterLevelHigh,l=W.filterSubstats,o=void 0===l?ft().filterSubstats:l,u=W.filterLocation,d=void 0===u?"":u,j=W.filterLocked,b=void 0===j?"":j,f=W.sortType,h=void 0===f?bt[0]:f,O=W.ascending,x=void 0!==O&&O,m=G.a._getArts(),v=m.filter((function(i){if(b){if("locked"===b&&!i.lock)return!1;if("unlocked"===b&&i.lock)return!1}if("Inventory"===d){if(i.location)return!1}else if("Equipped"===d){if(!i.location)return!1}else if(d&&d!==i.location)return!1;if(e&&e!==i.setKey)return!1;if(t&&t!==i.slotKey)return!1;if(n&&n!==i.mainStatKey)return!1;if(i.level<r||i.level>s)return!1;if(!a.includes(i.numStars))return!1;var l,u=Object(c.a)(o);try{var j=function(){var e=l.value;if(e&&!i.substats.some((function(t){return t.key===e})))return{v:!1}};for(u.s();!(l=u.n()).done;){var f=j();if("object"===typeof f)return f.v}}catch(h){u.e(h)}finally{u.f()}return!0})).map((function(e){switch(h){case"quality":return{value:[e.numStars],art:e};case"level":return{value:[e.level,e.numStars],art:e};case"efficiency":return{value:[R.a.getArtifactEfficiency(e,ue).currentEfficiency],art:e};case"mefficiency":return{value:[R.a.getArtifactEfficiency(e,ue).maxEfficiency],art:e}}return{value:[0],art:e}})).sort((function(e,t){for(var n=0;n<e.value.length;n++)if(e.value[n]!==t.value[n])return(e.value[n]-t.value[n])*(x?1:-1);return 0})).map((function(e){return e.art})),p=v.reduce((function(e,t){return e+(t.location?1:0)}),0),y=v.reduce((function(e,t){return e+(t.lock?1:0)}),0),g=v.length-y;return Object(i.a)({artifacts:v,totalArtNum:m.length,numUnequip:p,numUnlock:y,numLock:g},se)}),[W,se,ue]),xe=Oe.artifacts,me=Oe.totalArtNum,ve=Oe.numUnequip,pe=Oe.numUnlock,ye=Oe.numLock,ge=W.filterArtSetKey,Se=W.filterSlotKey,we=W.filterMainStatKey,ke=W.filterStars,Ne=W.filterLevelLow,Ke=W.filterLevelHigh,Ce=W.filterSubstats,Ae=void 0===Ce?ft().filterSubstats:Ce,Ee=W.maxNumArtifactsToDisplay,Ie=W.filterLocation,Le=void 0===Ie?"":Ie,Fe=W.filterLocked,Me=void 0===Fe?"":Fe,Te=W.sortType,Re=void 0===Te?bt[0]:Te,Pe=W.ascending,Ue=void 0!==Pe&&Pe,De=Object(u.useMemo)((function(){var e=Math.ceil(xe.length/Ee),t=Object(T.a)(te,0,e-1);return{artifactsToShow:xe.slice(t*Ee,(t+1)*Ee),numPages:e,currentPageIndex:t}}),[xe,te,Ee]),ze=De.artifactsToShow,We=De.numPages,He=De.currentPageIndex,Be=Object(M.b)(N.b.get(Le),[Le]);fe=Le?"Inventory"===Le?U("locationDisplay",{value:U("filterLocation.inventory")}):"Equipped"===Le?U("filterLocation.currentlyEquipped"):Object(Q.jsx)("b",{children:null===Be||void 0===Be?void 0:Be.name}):U("locationDisplay",{value:U("filterLocation.any")}),he="locked"===Me?Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.n})," ",U(lt||(lt=Object(a.a)(["lock.locked"])))]}):"unlocked"===Me?Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.o})," ",U(ot||(ot=Object(a.a)(["lock.unlocked"])))]}):U("lockDisplay",{value:U("lock.any")});var Ve=Object(u.useMemo)((function(){var e=xe.length!==me?"".concat(xe.length,"/").concat(me):"".concat(me);return Object(Q.jsx)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(Q.jsx)(j.a.Body,{children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)(b.a,{size:"sm",children:Object(s.a)(Array(We).keys()).map((function(e){return Object(Q.jsxs)(f.a,{className:"px-3",variant:He===e?"success":"primary",onClick:function(){var t;ne(e),null===(t=ce.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:[0===e?"Page ":"",e+1]},e)}))})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsxs)(k.a,{t:U,i18nKey:"showingNum",count:ze.length,value:e,children:["Showing ",Object(Q.jsx)("b",{children:{count:ze.length}})," out of ",{value:e}," Artifacts"]})})]})})})}),[We,He,ze.length,xe.length,me,U]);return Object(Q.jsxs)(y.a,{className:"mt-2",children:[Object(Q.jsx)(E.a,{pageKey:"artifactPage",modalTitle:U(ut||(ut=Object(a.a)(["info.title"]))),text:U("tipsOfTheDay",{returnObjects:!0}),children:Object(Q.jsx)(jt,{})}),Object(Q.jsx)("div",{className:"mb-2",ref:ae,children:Object(Q.jsx)(rt,{artifactIdToEdit:_,cancelEdit:be})}),Object(Q.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ce,children:[Object(Q.jsx)(j.a.Header,{children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)("span",{children:Object(Q.jsx)(k.a,{t:U,i18nKey:"artifactFilter",children:"Artifact Filter"})})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return H({type:"reset"})},children:[Object(Q.jsx)(o.a,{icon:l.D,className:"fa-fw"})," ",Object(Q.jsx)(k.a,{t:U,i18nKey:"resetFilters"})]})})]})}),Object(Q.jsxs)(j.a.Body,{children:[Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{xs:12,lg:6,children:[Object(Q.jsxs)(h.a,{as:O.a.Prepend,className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:ge?"success":"primary",children:null!==(n=null===oe||void 0===oe||null===(d=oe[ge])||void 0===d?void 0:d.name)&&void 0!==n?n:U("editor.set.artifactSet")}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterArtSetKey:""})},children:Object(Q.jsx)(k.a,{t:U,i18nKey:"ui:unselect",children:"Unselect"})}),Object(Q.jsx)(h.a.Divider,{}),Object(Q.jsx)(X,{sheets:oe,click:function(e){return H({filterArtSetKey:e})}})]})]}),Object(Q.jsx)(x.a,{className:"w-100 d-flex mb-2",type:"checkbox",as:O.a.Append,onChange:function(e){return H({filterStars:e})},value:ke,children:F.a.map((function(e){var t=ke.includes(e);return Object(Q.jsxs)(m.a,{value:e,variant:t?"success":"primary",children:[Object(Q.jsx)(o.a,{icon:t?l.b:l.w})," ",Object(Q.jsx)(A.a,{stars:e})]},e)}))}),Object(Q.jsxs)(O.a,{className:"mb-2",children:[Object(Q.jsx)(O.a.Prepend,{children:Object(Q.jsx)(O.a.Text,{children:Object(Q.jsx)("span",{children:Object(Q.jsxs)(k.a,{t:U,i18nKey:"filterLevelFormat",children:["Level ",Object(Q.jsx)("span",{className:"text-".concat(Ne>0?"success":""),children:"Low"}),"/",Object(Q.jsx)("span",{className:"text-".concat(Ke<20?"success":""),children:"High"})," (Inclusive)"]})})})}),Object(Q.jsx)(C.a,{value:Ne,placeholder:U("ui:game.minLevel"),onChange:function(e){return H({filterLevelLow:Object(T.a)(e,0,Ke)})}}),Object(Q.jsx)(C.a,{value:Ke,placeholder:U("ui:game.maxLevel"),onChange:function(e){return H({filterLevelHigh:Object(T.a)(e,Ne,20)})}})]}),Object(Q.jsxs)(b.a,{className:"w-100 d-flex flex-row mb-2",children:[Object(Q.jsxs)(h.a,{as:b.a,className:"flex-grow-1",children:[Object(Q.jsx)(h.a.Toggle,{children:Object(Q.jsx)("span",{children:Object(Q.jsxs)(k.a,{t:U,i18nKey:"ui:sortByFormat",value:U("sortMap.".concat(Re)),children:["Sort By: ",{value:U("sortMap.".concat(Re))}]})})}),Object(Q.jsx)(h.a.Menu,{children:bt.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return H({sortType:e})},children:U("sortMap.".concat(e))},e)}))})]}),Object(Q.jsxs)(f.a,{onClick:function(){return H({ascending:!Ue})},className:"flex-shrink-1",children:[Object(Q.jsx)(o.a,{icon:Ue?l.u:l.v,className:"fa-fw"}),Object(Q.jsxs)("span",{children:[" ",Ue?Object(Q.jsx)(k.a,{t:U,i18nKey:"ui:ascending",children:"Ascending"}):Object(Q.jsx)(k.a,{t:U,i18nKey:"ui:descending",children:"Descending"})]})]})]})]}),Object(Q.jsx)(p.a,{xs:12,lg:6,children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{children:[Object(Q.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:Se?"success":"primary",children:Se?Object(Q.jsx)(Z.b,{slotKey:Se}):U("slot")}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterSlotKey:""})},children:Object(Q.jsx)(k.a,{t:U,i18nKey:"ui:unselect",children:"Unselect"})}),F.h.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterSlotKey:e})},children:Object(Q.jsx)(Z.b,{slotKey:e})},e)}))]})]}),Object(Q.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:we?"success":"primary",children:I.b.getStatNameWithPercent(we,U("mainStat"))}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterMainStatKey:""})},children:Object(Q.jsx)(k.a,{t:U,i18nKey:"ui:unselect",children:"Unselect"})}),L.a.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterMainStatKey:e})},children:I.b.getStatNameWithPercent(e)},e)}))]})]}),Object(Q.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:Le?"success":"primary",children:fe}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterLocation:""})},children:Object(Q.jsx)(k.a,{t:U,i18nKey:"ui:unselect",children:"Unselect"})}),Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterLocation:"Inventory"})},children:Object(Q.jsx)(k.a,{t:U,i18nKey:"filterLocation.inventory",children:"Inventory"})}),Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterLocation:"Equipped"})},children:Object(Q.jsx)(k.a,{t:U,i18nKey:"filterLocation.currentlyEquipped",children:"Currently Equipped"})}),Object(Q.jsx)(h.a.Divider,{}),Object(Q.jsx)(K.a,{onSelect:function(e){return H({filterLocation:e})}})]})]}),Object(Q.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:Me?"success":"primary",children:he}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterLocked:""})},children:Object(Q.jsx)(k.a,{t:U,i18nKey:"lock.any",children:"Any"})}),Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterLocked:"locked"})},children:Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.n})," ",Object(Q.jsx)(k.a,{t:U,i18nKey:"lock.locked",children:"Locked"})]})}),Object(Q.jsx)(h.a.Item,{onClick:function(){return H({filterLocked:"unlocked"})},children:Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.o})," ",Object(Q.jsx)(k.a,{t:U,i18nKey:"lock.unlocked",children:"Unlocked"})]})})]})]})]}),Object(Q.jsx)(p.a,{children:Ae.map((function(e,t){return Object(Q.jsxs)(h.a,{className:"mb-2",children:[Object(Q.jsx)(h.a.Toggle,{id:"dropdown-basic",className:"w-100",variant:e?"success":"primary",children:e?I.b.getStatNameWithPercent(e):U("editor.substat.substatFormat",{value:t+1})}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){Ae[t]="",H({filterSubstats:Ae})},children:Object(Q.jsx)(k.a,{t:U,i18nKey:"editor.substat.noSubstat",children:"No Substat"})}),R.a.getSubstatKeys().filter((function(e){return!Ae.includes(e)})).map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){Ae[t]=e,H({filterSubstats:Ae})},children:I.b.getStatNameWithPercent(e)},e)}))]})]},t)}))})]})})]}),Object(Q.jsxs)(g.a,{className:"mb-n2",children:[Object(Q.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Q.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ve,onClick:function(){return window.confirm("Are you sure you want to unequip ".concat(ve," artifacts currently equipped on characters?"))&&xe.map((function(e){return G.a.setLocation(e.id,"")}))},children:[Object(Q.jsx)(o.a,{icon:l.E})," ",Object(Q.jsx)(k.a,{t:U,i18nKey:"button.unequipArtifacts",children:"Unequip Artifacts"})]})}),Object(Q.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Q.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!xe.length,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(xe.length," artifacts?"))&&xe.map((function(e){return G.a.removeArt(e.id)}))},children:[Object(Q.jsx)(o.a,{icon:l.B})," ",Object(Q.jsx)(k.a,{t:U,i18nKey:"button.deleteArtifacts",children:"Delete Artifacts"})]})}),Object(Q.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Q.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ye,onClick:function(){return window.confirm("Are you sure you want to lock ".concat(ye," artifacts?"))&&xe.map((function(e){return G.a.lockArtifact(e.id)}))},children:[Object(Q.jsx)(o.a,{icon:l.n})," ",Object(Q.jsx)(k.a,{t:U,i18nKey:"button.lockArtifacts",children:"Lock Artifacts"})]})}),Object(Q.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Q.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!pe,onClick:function(){return window.confirm("Are you sure you want to unlock ".concat(pe," artifacts?"))&&xe.map((function(e){return G.a.lockArtifact(e.id,!1)}))},children:[Object(Q.jsx)(o.a,{icon:l.o})," ",Object(Q.jsx)(k.a,{t:U,i18nKey:"button.unlockArtifacts",children:"Unlock Artifacts"})]})}),Object(Q.jsx)(p.a,{xs:12,className:"mt-n2",children:Object(Q.jsx)("small",{children:Object(Q.jsxs)(k.a,{t:U,i18nKey:"buttonHint",children:["Note: the above buttons only applies to ",Object(Q.jsx)("b",{children:"filtered artifacts"})]})})})]})]})]}),Object(Q.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ce,children:[Object(Q.jsx)(j.a.Header,{children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)("span",{children:Object(Q.jsx)(k.a,{t:U,i18nKey:"efficiencyFilter.title",children:"Efficiency Filter"})})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return H({effFilter:Object(s.a)(L.b)})},children:[Object(Q.jsx)(o.a,{icon:l.D,className:"fa-fw"})," ",Object(Q.jsx)(k.a,{t:U,i18nKey:"ui:reset"})]})})]})}),Object(Q.jsx)(j.a.Body,{children:Object(Q.jsx)(v.a,{as:g.a,className:"w-100 d-flex flex-row",children:[[0,6],[6]].map((function(e){return Object(Q.jsx)(x.a,{as:p.a,type:"checkbox",value:B,onChange:function(e){return H({effFilter:e})},className:"flex-grow-1 mb-2",children:L.b.slice.apply(L.b,Object(s.a)(e)).map((function(e){return Object(Q.jsx)(m.a,{value:e,variant:B.includes(e)?"success":"primary",children:I.b.getStatNameWithPercent(e)},e)}))},e.toString())}))})})]}),Ve,Object(Q.jsx)(g.a,{children:ze.map((function(e,t){return Object(Q.jsx)(p.a,{lg:4,md:6,className:"mb-2",children:Object(Q.jsx)(P.a,{artifactId:e.id,effFilter:ue,onDelete:function(){return de(e.id)},onEdit:function(){return je(e.id)}})},t)}))}),We>1&&Ve]})}}}]);
//# sourceMappingURL=14.d4b45ed1.chunk.js.map