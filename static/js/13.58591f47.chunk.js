(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[13,16],{203:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(12),r=(a(18),a(19)),c=(a(4),a(85));a(47),a(10);function i(e,t){return function(e,t){for(var a=new Set(t.map((function(e){return e.key}))),c={},i=Object.keys(e),s=0,l=i;s<l.length;s++){var o,u,d=l[s],b={},j=Object(r.a)(null!==(o=e[d])&&void 0!==o?o:[]);try{for(j.s();!(u=j.n()).done;){var h=u.value;a.has(h.setKey)?b[h.setKey]?b[h.setKey].push(h):b[h.setKey]=[h]:b.null?b.null.push(h):b.null=[h]}}catch(v){j.e(v)}finally{j.f()}c[d]=Object.freeze(b)}var O={},m={},f=[];return function e(a){if(a>=i.length){var s,l=Object(r.a)(t);try{for(l.s();!(s=l.n()).done;){var o,u=s.value,d=u.key,b=u.num;if((null!==(o=O[d])&&void 0!==o?o:0)<b)return}}catch(v){l.e(v)}finally{l.f()}f.push(Object(n.a)({},m))}else{var j=i[a],h=c[j];for(var x in h){var p;O[x]=(null!==(p=O[x])&&void 0!==p?p:0)+1,m[j]=h[x],e(a+1),O[x]-=1}}}(0),f}(e,t).reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){return e*t[1].length}),1)}),0)}function s(e,t,a){var n=t.hitMode,r=void 0===n?"":n,i=t.infusionAura,s=void 0===i?"":i,l=t.infusionSelf,o=void 0===l?"":l,u=t.reactionMode,d=void 0===u?null:u,b=t.characterEle,j=void 0===b?"anemo":b,h=t.weaponType,O=void 0===h?"sword":h;if(Object.keys(c.a).includes(e))return"".concat(e,"_elemental_").concat(r);if(a||"catalyst"!==O||(a=j),"elemental"===e||"burst"===e||"skill"===e||a)return d&&d.startsWith(a||j)?"".concat(d,"_").concat(e,"_").concat(r):"".concat(a||j,"_").concat(e,"_").concat(r);var m="physical";return o?m=o:s&&(m=s),d&&d.startsWith(m)?"".concat(d,"_").concat(e,"_").concat(r):"".concat(m,"_").concat(e,"_").concat(r)}function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Object.keys(c.a).includes(e))return e;var n=t.infusionAura,r=void 0===n?"":n,i=t.infusionSelf,s=void 0===i?"":i,l=t.reactionMode,o=void 0===l?null:l,u=t.characterEle,d=void 0===u?"anemo":u,b=t.weaponType,j=void 0===b?"sword":b;if(a||"catalyst"!==j||(a=d),"elemental"===e||"burst"===e||"skill"===e||a){if(o&&o.startsWith(a||d)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return a||d}var h="physical";if(s?h=s:r&&(h=r),o&&o.startsWith(h)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return h}},205:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext(null);r.displayName="AccordionContext",t.a=r},212:function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));var n=a(2),r=a(5),c=a(0),i=a.n(c),s=a(27),l=a(205),o=["as","children","eventKey","onClick"];function u(e,t){var a=Object(c.useContext)(l.a),n=Object(c.useContext)(s.a);return function(r){n&&n(e===a?null:e,r),t&&t(r)}}var d=i.a.forwardRef((function(e,t){var a=e.as,c=void 0===a?"button":a,s=e.children,l=e.eventKey,d=e.onClick,b=Object(r.a)(e,o),j=u(l,d);return"button"===c&&(b.type="button"),i.a.createElement(c,Object(n.a)({ref:t,onClick:j},b),s)}));t.a=d},213:function(e,t,a){"use strict";var n=a(2),r=a(5),c=a(6),i=a.n(c),s=a(0),l=a.n(s),o=(a(129),a(8)),u=["bsPrefix","placement","className","style","children","arrowProps","popper","show"],d=l.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.placement,s=e.className,d=e.style,b=e.children,j=e.arrowProps,h=(e.popper,e.show,Object(r.a)(e,u));a=Object(o.a)(a,"tooltip");var O=((null==c?void 0:c.split("-"))||[])[0];return l.a.createElement("div",Object(n.a)({ref:t,style:d,role:"tooltip","x-placement":O,className:i()(s,a,"bs-tooltip-"+O)},h),l.a.createElement("div",Object(n.a)({className:"arrow"},j)),l.a.createElement("div",{className:a+"-inner"},b))}));d.defaultProps={placement:"right"},d.displayName="Tooltip",t.a=d},217:function(e,t,a){"use strict";var n=a(5),r=a(2),c=a(6),i=a.n(c),s=a(0),l=a.n(s),o=a(20),u=a(8),d=["bsPrefix","size","hasValidation","className","as"],b=Object(o.a)("input-group-append"),j=Object(o.a)("input-group-prepend"),h=Object(o.a)("input-group-text",{Component:"span"}),O=l.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.size,s=e.hasValidation,o=e.className,b=e.as,j=void 0===b?"div":b,h=Object(n.a)(e,d);return a=Object(u.a)(a,"input-group"),l.a.createElement(j,Object(r.a)({ref:t},h,{className:i()(o,a,c&&a+"-"+c,s&&"has-validation")}))}));O.displayName="InputGroup";var m=Object(r.a)({},O,{Text:h,Radio:function(e){return l.a.createElement(h,null,l.a.createElement("input",Object(r.a)({type:"radio"},e)))},Checkbox:function(e){return l.a.createElement(h,null,l.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},Append:b,Prepend:j});t.a=m},222:function(e,t,a){"use strict";var n=a(2),r=a(5),c=a(0),i=a.n(c),s=a(3),l=a.n(s),o=a(186),u=a(128),d=a(127),b=["title","children","bsPrefix","rootCloseEvent","variant","size","menuAlign","menuRole","renderMenuOnMount","disabled","href","id"],j={id:l.a.any,href:l.a.string,onClick:l.a.func,title:l.a.node.isRequired,disabled:l.a.bool,menuAlign:d.a,menuRole:l.a.string,renderMenuOnMount:l.a.bool,rootCloseEvent:l.a.string,bsPrefix:l.a.string,variant:l.a.string,size:l.a.string},h=i.a.forwardRef((function(e,t){var a=e.title,c=e.children,s=e.bsPrefix,l=e.rootCloseEvent,j=e.variant,h=e.size,O=e.menuAlign,m=e.menuRole,f=e.renderMenuOnMount,v=e.disabled,x=e.href,p=e.id,g=Object(r.a)(e,b);return i.a.createElement(o.a,Object(n.a)({ref:t},g),i.a.createElement(u.a,{id:p,href:x,size:h,variant:j,disabled:v,childBsPrefix:s},a),i.a.createElement(d.b,{align:O,role:m,renderOnMount:f,rootCloseEvent:l},c))}));h.displayName="DropdownButton",h.propTypes=j,t.a=h},236:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i}));var n=a(10);function r(e){var t=e%1e3,a=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:n,seconds:a,milliseconds:t}}function c(e){var t=r(e),a=t.hours,c=t.minutes,i=t.seconds,s="Minutes";return a&&(s="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.o)(c,"0",2),":").concat(Object(n.o)(i,"0",2)," ").concat(s)}function i(e){var t=r(e),a=t.hours,c=t.minutes,i=t.seconds,s=t.milliseconds,l="Minutes";return a&&(l="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.o)(c,"0",2),":").concat(Object(n.o)(i,"0",2),".").concat(Object(n.o)(s,"0",3)," ").concat(l)}},271:function(e,t,a){"use strict";var n=a(133),r=a(0),c=a.n(r),i=a(32),s=a(125),l=a(27),o=function(e){var t=Object(i.a)(e,{activeKey:"onSelect"}),a=t.id,n=t.generateChildId,o=t.onSelect,u=t.activeKey,d=t.transition,b=t.mountOnEnter,j=t.unmountOnExit,h=t.children,O=Object(r.useMemo)((function(){return n||function(e,t){return a?a+"-"+t+"-"+e:null}}),[a,n]),m=Object(r.useMemo)((function(){return{onSelect:o,activeKey:u,transition:d,mountOnEnter:b||!1,unmountOnExit:j||!1,getControlledId:function(e){return O(e,"tabpane")},getControllerId:function(e){return O(e,"tab")}}}),[o,u,d,b,j,O]);return c.a.createElement(s.a.Provider,{value:m},c.a.createElement(l.a.Provider,{value:o||null},h))},u=a(2),d=a(5),b=a(6),j=a.n(b),h=a(8),O=["bsPrefix","as","className"],m=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.as,r=void 0===n?"div":n,i=e.className,s=Object(d.a)(e,O),l=Object(h.a)(a,"tab-content");return c.a.createElement(r,Object(u.a)({ref:t},s,{className:j()(i,l)}))})),f=a(59),v=["activeKey","getControlledId","getControllerId"],x=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"];var p=c.a.forwardRef((function(e,t){var a=function(e){var t=Object(r.useContext)(s.a);if(!t)return e;var a=t.activeKey,n=t.getControlledId,c=t.getControllerId,i=Object(d.a)(t,v),o=!1!==e.transition&&!1!==i.transition,b=Object(l.b)(e.eventKey);return Object(u.a)({},e,{active:null==e.active&&null!=b?Object(l.b)(a)===b:e.active,id:n(e.eventKey),"aria-labelledby":c(e.eventKey),transition:o&&(e.transition||i.transition||f.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:i.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:i.unmountOnExit})}(e),n=a.bsPrefix,i=a.className,o=a.active,b=a.onEnter,O=a.onEntering,m=a.onEntered,p=a.onExit,g=a.onExiting,y=a.onExited,N=a.mountOnEnter,S=a.unmountOnExit,C=a.transition,E=a.as,k=void 0===E?"div":E,w=(a.eventKey,Object(d.a)(a,x)),A=Object(h.a)(n,"tab-pane");if(!o&&!C&&S)return null;var K=c.a.createElement(k,Object(u.a)({},w,{ref:t,role:"tabpanel","aria-hidden":!o,className:j()(i,A,{active:o})}));return C&&(K=c.a.createElement(C,{in:o,onEnter:b,onEntering:O,onEntered:m,onExit:p,onExiting:g,onExited:y,mountOnEnter:N,unmountOnExit:S},K)),c.a.createElement(s.a.Provider,{value:null},c.a.createElement(l.a.Provider,{value:null},K))}));p.displayName="TabPane";var g=p,y=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(c.a.Component);y.Container=o,y.Content=m,y.Pane=g;t.a=y},273:function(e,t,a){"use strict";var n=a(2),r=a(5),c=a(6),i=a.n(c),s=a(0),l=a.n(s),o=(a(53),a(32)),u=a(8),d=a(136),b=a(137),j=["bsPrefix","active","disabled","className","variant","action","as","onClick"],h={variant:void 0,active:!1,disabled:!1},O=l.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.active,o=e.disabled,d=e.className,h=e.variant,O=e.action,m=e.as,f=e.onClick,v=Object(r.a)(e,j);a=Object(u.a)(a,"list-group-item");var x=Object(s.useCallback)((function(e){if(o)return e.preventDefault(),void e.stopPropagation();f&&f(e)}),[o,f]);return o&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0),l.a.createElement(b.a,Object(n.a)({ref:t},v,{as:m||(O?v.href?"a":"button":"div"),onClick:x,className:i()(d,a,c&&"active",o&&"disabled",h&&a+"-"+h,O&&a+"-action")}))}));O.defaultProps=h,O.displayName="ListGroupItem";var m=O,f=["className","bsPrefix","variant","horizontal","as"],v={variant:void 0,horizontal:void 0},x=l.a.forwardRef((function(e,t){var a,c=Object(o.a)(e,{activeKey:"onSelect"}),s=c.className,b=c.bsPrefix,j=c.variant,h=c.horizontal,O=c.as,m=void 0===O?"div":O,v=Object(r.a)(c,f),x=Object(u.a)(b,"list-group");return a=h?!0===h?"horizontal":"horizontal-"+h:null,l.a.createElement(d.a,Object(n.a)({ref:t},v,{as:m,className:i()(s,x,j&&x+"-"+j,a&&x+"-"+a)}))}));x.defaultProps=v,x.displayName="ListGroup",x.Item=m;t.a=x},274:function(e,t,a){"use strict";var n=a(2),r=a(5),c=a(6),i=a.n(c),s=a(0),l=a.n(s),o=a(32),u=a(8),d=a(212),b=a(27),j=a(135),h=a(205),O=["children","eventKey"],m=l.a.forwardRef((function(e,t){var a=e.children,c=e.eventKey,i=Object(r.a)(e,O),o=Object(s.useContext)(h.a);return l.a.createElement(b.a.Provider,{value:null},l.a.createElement(j.a,Object(n.a)({ref:t,in:o===c},i),l.a.createElement("div",null,l.a.Children.only(a))))}));m.displayName="AccordionCollapse";var f=m,v=["as","activeKey","bsPrefix","children","className","onSelect"],x=l.a.forwardRef((function(e,t){var a=Object(o.a)(e,{activeKey:"onSelect"}),c=a.as,s=void 0===c?"div":c,d=a.activeKey,j=a.bsPrefix,O=a.children,m=a.className,f=a.onSelect,x=Object(r.a)(a,v),p=i()(m,Object(u.a)(j,"accordion"));return l.a.createElement(h.a.Provider,{value:d||null},l.a.createElement(b.a.Provider,{value:f||null},l.a.createElement(s,Object(n.a)({ref:t},x,{className:p}),O)))}));x.displayName="Accordion",x.Toggle=d.a,x.Collapse=f;t.a=x},363:function(e,t,a){"use strict";var n=a(2),r=a(5),c=a(6),i=a.n(c),s=a(0),l=a.n(s),o=a(8),u=a(214),d=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],b=["isChild"],j=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"];function h(e,t,a){var n=(e-t)/(a-t)*100;return Math.round(1e3*n)/1e3}function O(e,t){var a,c=e.min,s=e.now,o=e.max,u=e.label,b=e.srOnly,j=e.striped,O=e.animated,m=e.className,f=e.style,v=e.variant,x=e.bsPrefix,p=Object(r.a)(e,d);return l.a.createElement("div",Object(n.a)({ref:t},p,{role:"progressbar",className:i()(m,x+"-bar",(a={},a["bg-"+v]=v,a[x+"-bar-animated"]=O,a[x+"-bar-striped"]=O||j,a)),style:Object(n.a)({width:h(s,c,o)+"%"},f),"aria-valuenow":s,"aria-valuemin":c,"aria-valuemax":o}),b?l.a.createElement("span",{className:"sr-only"},u):u)}var m=l.a.forwardRef((function(e,t){var a=e.isChild,c=Object(r.a)(e,b);if(c.bsPrefix=Object(o.a)(c.bsPrefix,"progress"),a)return O(c,t);var d=c.min,h=c.now,m=c.max,f=c.label,v=c.srOnly,x=c.striped,p=c.animated,g=c.bsPrefix,y=c.variant,N=c.className,S=c.children,C=Object(r.a)(c,j);return l.a.createElement("div",Object(n.a)({ref:t},C,{className:i()(N,g)}),S?Object(u.a)(S,(function(e){return Object(s.cloneElement)(e,{isChild:!0})})):O({min:d,now:h,max:m,label:f,srOnly:v,striped:x,animated:p,bsPrefix:g,variant:y},t))}));m.displayName="ProgressBar",m.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},t.a=m},545:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return be}));var n=a(122),r=a(19),c=a(46),i=a.n(c),s=a(57),l=a(4),o=a(18),u=a(12),d=a(26),b=a(9),j=a(0),h=a.n(j),O=a(186),m=a(222),f=a(190),v=a(132),x=a(71),p=a(187),g=a(124),y=a(188),N=a(211),S=a(189),C=a(213),E=a(273),k=a(537),w=a(143),A=a(217),K=a(199),B=a(363),P=a(48);function M(){return new Worker(a.p+"static/js/BuildWorker.1210a289.worker.js")}var T=a(69),I=a(120),F=a(285),z=a(130),D=a(207),R=a(284),_=a(289),L=a(286),H=a(123),V=a(235),W=a(219),q=a(209),G=a(227),U=a(206),J=a(126),X=a(33),Y=a(28),Q=a(70),Z=a(31),$=a(14),ee=a(86),te=a(236),ae=a(10),ne=a(134),re=a(203),ce=a(74),ie=a(1),se=h.a.lazy((function(){return a.e(20).then(a.bind(null,544))})),le=Object(j.lazy)((function(){return Promise.resolve().then(a.bind(null,231))})),oe=1e7,ue=[1,2,3,4,5,8,10],de=["sands","goblet","circlet"];function be(e){var t,a=e.location.characterKey,n=Object(j.useState)((function(){var e,t=(null!==(e=Y.b.get("BuildsDisplay.state"))&&void 0!==e?e:{}).characterKey;return null!==a&&void 0!==a?a:void 0===t?"":t})),c=Object(l.a)(n,2),h=c[0],k=c[1],w=Object(j.useState)([]),A=Object(l.a)(w,2),K=A[0],B=A[1],_=Object(j.useState)((function(){var e,t=(null!==(e=Y.b.get("BuildsDisplay.state"))&&void 0!==e?e:{}).maxBuildsToShow;return void 0===t?5:t})),L=Object(l.a)(_,2),q=L[0],U=L[1],te=Object(j.useState)(null),le=Object(l.a)(te,2),be=le[0],me=le[1],ge=Object(j.useState)(!1),Ne=Object(l.a)(ge,2),Se=Ne[0],Ce=Ne[1],Ee=Object(j.useState)(!1),ke=Object(l.a)(Ee,2),we=ke[0],Ae=ke[1],Ke=Object(j.useState)(!1),Be=Object(l.a)(Ke,2),Pe=Be[0],Me=Be[1],Te=Object(j.useState)(0),Ie=Object(l.a)(Te,2),Fe=Ie[0],ze=Ie[1],De=Object(j.useState)(0),Re=Object(l.a)(De,2),_e=Re[0],Le=Re[1],He=Object(j.useState)(0),Ve=Object(l.a)(He,2),We=Ve[0],qe=Ve[1],Ge=Object(ee.a)(),Ue=Object(l.a)(Ge,2),Je=Ue[0],Xe=Ue[1],Ye=Object(ee.b)(I.a.getAll(),[]),Qe=Object(ee.a)(),Ze=Object(l.a)(Qe,2),$e=Ze[0],et=Ze[1],tt=Object(j.useRef)(!1),at=Object(j.useRef)(null),nt=Object(j.useState)({}),rt=Object(l.a)(nt,2),ct=rt[0],it=ct.character,st=ct.characterSheet,lt=ct.weaponSheet,ot=ct.initialStats,ut=ct.statsDisplayKeys,dt=rt[1],bt=Object(j.useMemo)((function(){var e;return null!==(e=null===it||void 0===it?void 0:it.buildSettings)&&void 0!==e?e:Object(ce.a)()}),[it]);0===bt.setFilters.length&&(bt.setFilters=Object(ce.a)().setFilters);var jt=bt.setFilters,ht=bt.statFilters,Ot=bt.mainStatKeys,mt=bt.optimizationTarget,ft=bt.mainStatAssumptionLevel,vt=bt.useLockedArts,xt=bt.useEquippedArts,pt=bt.ascending,gt=Object(j.useCallback)((function(e){it&&(it.buildSettings=function(e,t){switch(t.type){case"mainStatKey":var a=t.slotKey,n=t.mainStatKey,r=Object(u.a)({},e.mainStatKeys);return e.mainStatKeys[a].includes(n)?r[a]=r[a].filter((function(e){return e!==n})):r[a].push(n),Object(u.a)(Object(u.a)({},e),{},{mainStatKeys:r});case"setFilter":var c=t.index,i=t.key,s=t.num,l=void 0===s?0:s;return e.setFilters[c]={key:i,num:l},Object(u.a)(Object(u.a)({},e),{},{setFilters:Object(o.a)(e.setFilters)})}return Object(u.a)(Object(u.a)({},e),t)}(bt,e),X.b.updateChar(it))}),[it,bt]);Object(j.useEffect)((function(){return P.a.pageview("/build")}),[]);var yt=Object(j.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";h!==e&&(k(e),B([]),Xe(),dt({}))}),[Xe,k,h]);Object(j.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&Ye){e.next=2;break}return e.abrupt("return");case 2:if(t=X.b._getChar(h)){e.next=5;break}return e.abrupt("return",yt(""));case 5:return e.next=7,H.b.get(h);case 7:return a=e.sent,e.next=10,ne.a.get(t.weapon.key);case 10:if(n=e.sent,a&&n){e.next=13;break}return e.abrupt("return");case 13:r=D.a.createInitialStats(t,a,n),c=D.a.getDisplayStatKeys(r,{characterSheet:a,weaponSheet:n,artifactSheets:Ye}),dt({character:t,characterSheet:a,weaponSheet:n,initialStats:r,statsDisplayKeys:c});case 16:case"end":return e.stop()}}),e)})))()}),[Je,h,Ye,yt]),Object(j.useEffect)((function(){return X.b.followAnyArt(et)}),[et]),Object(j.useEffect)((function(){return h?X.b.followChar(h,Xe):void 0}),[h,Xe]),Object(j.useEffect)((function(){return function(){var e;return null===(e=at.current)||void 0===e?void 0:e.terminate()}}),[]),Object(j.useEffect)((function(){tt.current?Y.b.set("BuildsDisplay.state",{characterKey:h,maxBuildsToShow:q}):tt.current=!0}),[h,q]),Object(j.useEffect)((function(){if(ut&&Array.isArray(mt)){for(var e in ut){var t,a=ut[e],n=Object(r.a)(a);try{for(n.s();!(t=n.n()).done;){var c=t.value;if(JSON.stringify(c)===JSON.stringify(mt))return}}catch(i){n.e(i)}finally{n.f()}}gt({optimizationTarget:Object(ce.a)().optimizationTarget})}}),[mt,ut,gt]);var Nt=Object(j.useMemo)((function(){if(!h)return{split:Object.fromEntries($.h.map((function(e){return[e,[]]}))),totBuildNumber:0};var e=X.b._getArts().filter((function(e){return e.location===h||!(e.lock&&!vt)&&!(e.location&&!xt)})),t=T.a.splitArtifactsBySlot(e);de.forEach((function(e){var a;return Ot[e].length&&(t[e]=null===(a=t[e])||void 0===a?void 0:a.filter((function(t){return Ot[e].includes(t.mainStatKey)})))}));var a=Object(re.a)(t,jt);return $e&&{split:t,totBuildNumber:a}}),[h,vt,xt,Ot,jt,$e]),St=Nt.split,Ct=Nt.totBuildNumber,Et=Object(j.useCallback)((function(){var e;if(ot&&Ye){B([]),Me(!0),Le(0),ze(0),qe(0),ot.mainStatAssumptionLevel=ft;var t=T.a.setEffectsObjs(Ye,ot),a=Object(ae.d)(St);Object.values(a).forEach((function(e){e.forEach((function(e){var t;e.mainStatVal=null!==(t=T.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(ft,4*e.numStars),e.level)))&&void 0!==t?t:0}))}));var n=Object.fromEntries(Object.entries(ht).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].min]})).filter((function(e){return"number"===typeof Object(l.a)(e,2)[1]}))),r=Object.fromEntries(Object.entries(ht).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].max]})).filter((function(e){return"number"===typeof Object(l.a)(e,2)[1]}))),c={splitArtifacts:a,initialStats:ot,artifactSetEffects:t,setFilters:jt,minFilters:n,maxFilters:r,maxBuildsToShow:q,optimizationTarget:mt,ascending:pt};null===(e=at.current)||void 0===e||e.terminate(),at.current=new M,at.current.onmessage=function(e){var t;if("number"===typeof e.data.progress){var a=e.data,n=a.progress,r=a.timing,c=void 0===r?0:r,i=a.skipped,s=void 0===i?0:i;return ze(n),Le(c),void qe(s)}P.a.timing({category:"Build Generation",variable:"timing",value:e.data.timing,label:Ct.toString()});var l=e.data.builds.map((function(e){return D.a.calculateBuildwithArtifact(ot,e.artifacts,Ye)}));B(l),Me(!1),null===(t=at.current)||void 0===t||t.terminate(),at.current=null},at.current.postMessage(c)}}),[Ye,St,Ct,ft,pt,ot,q,mt,jt,ht]);Object(j.useEffect)((function(){Ct&&Ct<=100?Et():B([])}),[h,St,Ct,bt,Et]);var kt=Object(j.useCallback)((function(e,t){return Ye&&I.a.setsWithMaxRarity(Ye,e).map((function(e){var a,n,r=Object(l.a)(e,2),c=r[0],i=r[1];if(jt.some((function(e){return e.key===c})))return!1;var s=Object.keys(null!==(a=null===Ye||void 0===Ye||null===(n=Ye[c])||void 0===n?void 0:n.setEffects)&&void 0!==a?a:{}),o=jt.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!s.every((function(e){return parseInt(e)+o>5}))&&Object(ie.jsx)(O.a.Item,{onClick:function(){var e;return gt({type:"setFilter",index:t,key:c,num:null!==(e=parseInt(s[0]))&&void 0!==e?e:0})},children:i.nameWithIcon},c)}))}),[jt,gt,Ye]),wt=null!==(t=null===st||void 0===st?void 0:st.name)&&void 0!==t?t:"Character Name",At=Object(j.useMemo)((function(){return Object(ie.jsxs)(m.a,{title:wt,disabled:Pe,children:[Object(ie.jsx)(O.a.Item,{onClick:function(){return yt("")},children:"Unselect Character"}),Object(ie.jsx)(O.a.Divider,{}),Object(ie.jsx)(W.a,{onSelect:function(e){return yt(e)}})]})}),[wt,Pe,yt]),Kt=Object(ee.b)(Array.isArray(mt)?Q.a.get(mt):void 0,[mt]),Bt=Object(j.useMemo)((function(){if(!Array.isArray(mt))return Object(ie.jsxs)("b",{children:["Basic Stat: ",Object(ie.jsx)("span",{className:"text-".concat(Z.b.getStatVariant(mt)),children:Z.b.getStatNameWithPercent(mt)})]});if(!Kt)return null;var e,t=Kt.keys,a=Object(l.a)(t,3),n=a[0],r=a[2],c=Kt.field,i=D.a.getTalentFieldValue(c,"variant",ot),s=D.a.getTalentFieldValue(c,"text",ot);return"character"===n?("normal"!==r&&"charged"!==r&&"plunging"!==r||(r="auto"),Object(ie.jsxs)("b",{children:[null===st||void 0===st||null===(e=st.getTalentOfKey(r,null===ot||void 0===ot?void 0:ot.characterEle))||void 0===e?void 0:e.name,": ",Object(ie.jsx)("span",{className:"text-".concat(i),children:s})]})):"weapon"===n?Object(ie.jsxs)("b",{children:[null===lt||void 0===lt?void 0:lt.name,": ",Object(ie.jsx)("span",{className:"text-".concat(i),children:s})]}):void 0}),[mt,Kt,ot,st,lt]),Pt=jt.reduce((function(e,t){return t.key?e+t.num:e}),0),Mt=Object(j.useMemo)((function(){var e,t=0;return Object(ae.c)(null===ot||void 0===ot||null===(e=ot.conditionalValues)||void 0===e?void 0:e.artifact,[],(function(e){return Array.isArray(e)}),(function(){return t++})),t}),[null===ot||void 0===ot?void 0:ot.conditionalValues]),Tt=Object(j.useCallback)((function(e){return X.b.updateChar(Object(u.a)(Object(u.a)({},it),e))}),[it]);return Object(ie.jsxs)(f.a,{className:"mt-2",children:[Object(ie.jsx)(G.a,{pageKey:"buildPage",modalTitle:"Character Management Page Guide",text:["For self-infused attacks, like Noelle's Sweeping Time, enable the skill in the talent page.","You can compare the difference between equipped artifacts and generated builds.","The more complex the formula, the longer the generation time."],children:Object(ie.jsx)(se,{})}),Object(ie.jsx)(he,{build:be,showCharacterModal:we,characterKey:h,selectCharacter:yt,setmodalBuild:me,setshowCharacterModal:Ae}),!!ot&&Object(ie.jsx)(Oe,{showArtCondModal:Se,setshowArtCondModal:Ce,initialStats:ot,characterDispatch:Tt,artifactCondCount:Mt}),Object(ie.jsx)(v.a,{className:"mt-2 mb-2",children:Object(ie.jsx)(x.a,{children:Object(ie.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ie.jsx)(p.a.Header,{children:"Build Generator"}),Object(ie.jsxs)(p.a.Body,{children:[Object(ie.jsxs)(v.a,{children:[Object(ie.jsxs)(x.a,{xs:12,lg:6,children:[h?Object(ie.jsx)(R.a,{header:At,characterKey:h,bg:"lightcontent",cardClassName:"mb-2",onEdit:Pe?void 0:function(){return Ae(!0)}}):Object(ie.jsx)(p.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(ie.jsx)(p.a.Header,{children:At})}),st&&it&&ot&&Object(ie.jsx)(fe,{build:ot,characterSheet:st,className:"mb-2",character:it}),Boolean(ut)&&Object(ie.jsx)(ve,{className:"mb-2",statFilters:ht,statKeys:null===ut||void 0===ut?void 0:ut.basicKeys,setStatFilters:function(e){return gt({statFilters:e})}})]}),Object(ie.jsx)(x.a,{xs:12,lg:6,children:Object(ie.jsxs)(v.a,{children:[Object(ie.jsx)(x.a,{className:"mb-2",xs:12,children:Object(ie.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(ie.jsx)(p.a.Body,{children:Object(ie.jsx)(g.a,{className:"w-100",onClick:function(){return Ce(!0)},disabled:Pe,children:Object(ie.jsxs)("span",{children:["Default Artifact Set Effects ",Boolean(Mt)&&Object(ie.jsxs)(y.a,{variant:"success",children:[Mt," Selected"]})]})})})})}),jt.map((function(e,t){var a,n,r,c,i,s=e.key,l=e.num;return Object(ie.jsx)(x.a,{className:"mb-2",xs:12,children:Object(ie.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(ie.jsx)(p.a.Header,{children:Object(ie.jsxs)(N.a,{children:[Object(ie.jsxs)(m.a,{as:N.a,title:null!==(a=null===Ye||void 0===Ye||null===(n=Ye[s])||void 0===n?void 0:n.nameWithIcon)&&void 0!==a?a:"Artifact Set Filter",disabled:Pe,children:[Object(ie.jsx)(O.a.Item,{onClick:function(){return gt({type:"setFilter",index:t,key:""})},children:"Unselect Artifact"}),Object(ie.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),kt(5,t),Object(ie.jsx)(O.a.Divider,{}),Object(ie.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),kt(4,t),Object(ie.jsx)(O.a.Divider,{}),Object(ie.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),kt(3,t)]}),Object(ie.jsx)(m.a,{as:N.a,title:"".concat(l,"-set"),disabled:Pe||!s||Pt>=5,children:!!ot&&Object.keys(null!==(r=null===Ye||void 0===Ye||null===(c=Ye[s])||void 0===c?void 0:c.setEffects)&&void 0!==r?r:{}).map((function(e){var a=jt.reduce((function(e,t){return t.key&&t.key!==s?e+t.num:e}),0);return parseInt(e)+a<=5&&Object(ie.jsx)(O.a.Item,{onClick:function(){return gt({type:"setFilter",index:t,key:jt[t].key,num:parseInt(e)})},children:"".concat(e,"-set")},e)}))})]})}),s?Object(ie.jsx)(p.a.Body,{children:Object(ie.jsx)(v.a,{className:"mb-n2",children:!!ot&&Object.keys(null!==(i=null===Ye||void 0===Ye?void 0:Ye[s].setEffects)&&void 0!==i?i:{}).map((function(e){return parseInt(e)})).filter((function(e){return e<=l})).map((function(e){return Object(ie.jsx)(F.a,{newBuild:void 0,setKey:s,setNumKey:e,equippedBuild:ot,characterDispatch:Tt,editable:!0},s+e)}))})}):null]})},t)})),Object(ie.jsx)(x.a,{className:"mb-2",xs:12,children:Object(ie.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(ie.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(ie.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return gt({useEquippedArts:!xt})},disabled:Pe,children:Object(ie.jsxs)("span",{children:[Object(ie.jsx)(b.a,{icon:xt?d.c:d.u})," Use Equipped Artifacts"]})}),Object(ie.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return gt({useLockedArts:!vt})},disabled:Pe,children:Object(ie.jsxs)("span",{children:[Object(ie.jsx)(b.a,{icon:vt?d.c:d.u})," Use Locked Artifacts"]})})]})})}),Object(ie.jsx)(x.a,{className:"mb-2",xs:12,children:Object(ie.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",children:[Object(ie.jsx)(p.a.Header,{children:Object(ie.jsxs)(v.a,{children:[Object(ie.jsx)(x.a,{children:"Artifact Main Stat"}),Object(ie.jsx)(x.a,{xs:"auto",children:Object(ie.jsx)(ye,{mainStatAssumptionLevel:ft,setmainStatAssumptionLevel:function(e){return gt({mainStatAssumptionLevel:e})}})})]})}),Object(ie.jsx)(p.a.Body,{className:"mb-n2",children:de.map((function(e){var t=Ot[e].length;return Object(ie.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:[Object(ie.jsx)(p.a.Header,{className:"p-2",children:Object(ie.jsxs)(v.a,{children:[Object(ie.jsx)(x.a,{className:"ml-2",children:Object(ie.jsx)(z.b,{slotKey:e})}),Object(ie.jsx)(x.a,{xs:"auto",children:Object(ie.jsx)(y.a,{variant:"info",children:t?"".concat(t," Selected"):"Any"})})]})}),Object(ie.jsx)(p.a.Body,{className:"p-0",children:Object(ie.jsx)(v.a,{className:"no-gutters",children:T.a.slotMainStats(e).map((function(t,a){var n=Ot[e].includes(t);return Object(ie.jsx)(x.a,{xs:a<3?4:6,children:Object(ie.jsxs)(g.a,{className:"w-100 rounded-0",size:"sm",variant:n?"success":"secondary",onClick:function(){return gt({type:"mainStatKey",slotKey:e,mainStatKey:t})},children:[J.a[t]," ",Z.b.getStatNameWithPercent(t,"",!1)]})},t)}))})})]},e)}))})]})})]})})]}),Object(ie.jsxs)(v.a,{className:"d-flex justify-content-between mb-2",children:[Object(ie.jsx)(x.a,{xs:"auto",children:Object(ie.jsxs)(N.a,{children:[Object(ie.jsx)(g.a,{className:"h-100",disabled:!h||Pe,variant:h&&Ct<=oe?"success":"warning",onClick:Et,children:Object(ie.jsx)("span",{children:"Generate"})}),Object(ie.jsxs)(O.a,{as:N.a,children:[Object(ie.jsx)(S.a,{overlay:Object(ie.jsx)(C.a,{id:"max-build-tooltip",children:"Decreasing the number of generated build will decrease build calculation time for large number of builds."}),children:Object(ie.jsxs)(O.a.Toggle,{children:[Object(ie.jsx)("b",{children:q})," ",1===q?"Build":"Builds"]})}),Object(ie.jsx)(O.a.Menu,{children:ue.map((function(e){return Object(ie.jsxs)(O.a.Item,{onClick:function(){return U(e)},children:[e," ",1===e?"Build":"Builds"]},e)}))})]}),Object(ie.jsx)(g.a,{className:"h-100",disabled:!Pe,variant:"danger",onClick:function(){at.current&&(at.current.terminate(),at.current=null,Me(!1),B([]),Le(0),ze(0),qe(0))},children:Object(ie.jsx)("span",{children:"Cancel"})})]})}),Object(ie.jsx)(x.a,{xs:"auto",children:Object(ie.jsxs)(N.a,{children:[Object(ie.jsxs)(O.a,{as:N.a,drop:"up",children:[Object(ie.jsx)(O.a.Toggle,{disabled:Pe,variant:"light",children:Object(ie.jsxs)("span",{children:["Optimization Target: ",Bt]})}),Object(ie.jsx)(O.a.Menu,{align:"right",style:{minWidth:"40rem"},children:Object(ie.jsx)(v.a,{children:!!ut&&Object.entries(ut).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],r=st&&lt&&Ye?Object(V.a)(a,{characterSheet:st,weaponSheet:lt,artifactSheets:Ye},null===ot||void 0===ot?void 0:ot.characterEle):a;return Object(ie.jsxs)(x.a,{xs:12,md:6,children:[Object(ie.jsx)(O.a.Header,{style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(ie.jsx)("b",{children:r})}),n.map((function(e,t){return Array.isArray(e)?Object(ie.jsx)(je,{target:e,buildSettingsDispatch:gt,initialStats:ot},t):"string"===typeof e?Object(ie.jsx)(O.a.Item,{onClick:function(){return gt({optimizationTarget:e})},children:Z.b.getStatNameWithPercent(e)},t):null}))]},a)}))})})]}),Object(ie.jsxs)(g.a,{onClick:function(){return gt({ascending:!bt.ascending})},disabled:Pe,variant:pt?"danger":"primary",children:[Object(ie.jsx)(b.a,{icon:pt?d.s:d.t,className:"fa-fw"}),Object(ie.jsx)("span",{children:pt?"Ascending":"Descending"})]})]})})]}),Object(ie.jsx)(v.a,{className:"",children:Object(ie.jsx)(x.a,{children:!!h&&Object(ie.jsx)(pe,{totBuildNumber:Ct,generatingBuilds:Pe,generationSkipped:We,generationProgress:Fe,generationDuration:_e,characterName:wt,maxBuildsToShow:q})})})]})]})})}),Object(ie.jsx)(v.a,{className:"mb-2",children:Object(ie.jsx)(x.a,{children:Object(ie.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ie.jsx)(p.a.Header,{children:Object(ie.jsx)(v.a,{children:Object(ie.jsx)(x.a,{children:h?Object(ie.jsxs)("span",{children:["Showing ",Object(ie.jsx)("b",{children:K.length})," Builds generated for ",wt]}):Object(ie.jsx)("span",{children:"Select a character to generate builds."})})})}),Object(ie.jsx)(E.a,{children:K.map((function(e,t){return t<q&&st&&lt&&Ye&&Object(ie.jsx)(xe,{sheets:{characterSheet:st,weaponSheet:lt,artifactSheets:Ye},build:e,characterKey:h,index:t,statsDisplayKeys:ut,onClick:function(){return me(e)}},t)}))})]})})})]})}function je(e){var t=e.target,a=e.buildSettingsDispatch,n=e.initialStats,r=Object(ee.b)(Q.a.get(t),[t]);if(!r)return null;var c=r.field;return Object(ie.jsx)(O.a.Item,{onClick:function(){return a({optimizationTarget:t})},style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(ie.jsx)("span",{className:"text-".concat(D.a.getTalentFieldValue(c,"variant",n)),children:D.a.getTalentFieldValue(c,"text",n)})})}function he(e){var t=e.build,a=e.showCharacterModal,n=e.characterKey,r=e.selectCharacter,c=e.setmodalBuild,i=e.setshowCharacterModal,s=Object(j.useCallback)((function(){c(null),i(!1)}),[c,i]);return Object(ie.jsx)(k.a,{show:Boolean(a||t),onHide:s,size:"xl",contentClassName:"bg-transparent",children:Object(ie.jsx)(h.a.Suspense,{fallback:Object(ie.jsx)("span",{children:"Loading..."}),children:Object(ie.jsx)(le,{character:void 0,tabName:void 0,characterKey:n,setCharacterKey:function(e){return r(e)},newBuild:t,onClose:s,editable:a,footer:Object(ie.jsx)(g.a,{variant:"danger",onClick:s,children:"Close"})})})})}function Oe(e){var t=e.showArtCondModal,a=e.setshowArtCondModal,n=e.initialStats,r=e.characterDispatch,c=e.artifactCondCount,i=Object(j.useCallback)((function(){return a(!1)}),[a]),s=Object(ee.b)(I.a.getAll(),[]);if(!s)return null;var o=Object.entries(I.a.setKeysByRarities(s)).reverse().flatMap((function(e){return Object(l.a)(e,2)[1]}));return Object(ie.jsx)(k.a,{show:t,onHide:i,size:"xl",contentClassName:"bg-transparent",children:Object(ie.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(ie.jsx)(p.a.Header,{children:Object(ie.jsxs)(v.a,{children:[Object(ie.jsx)(x.a,{children:Object(ie.jsxs)("h5",{children:["Default Artifact Set Effects  ",Boolean(c)&&Object(ie.jsxs)(y.a,{variant:"success",children:[c," Selected"]})]})}),Object(ie.jsx)(x.a,{xs:"auto",children:Object(ie.jsx)(g.a,{onClick:function(){n.conditionalValues.artifact&&(n.conditionalValues.artifact={}),r({conditionalValues:n.conditionalValues})},children:Object(ie.jsxs)("span",{children:[Object(ie.jsx)(b.a,{icon:d.A})," Reset All"]})})}),Object(ie.jsx)(x.a,{xs:"auto",children:Object(ie.jsx)(g.a,{variant:"danger",onClick:i,children:Object(ie.jsx)(b.a,{icon:d.w})})})]})}),Object(ie.jsx)(p.a.Body,{children:Object(ie.jsx)(v.a,{children:o.map((function(e){var t,a=s[e],c=Object.values(a.slotIcons)[0],i=a.rarity,l=i[0];return Object(ie.jsx)(x.a,{className:"mb-2",xs:12,lg:6,xl:4,children:Object(ie.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(ie.jsx)(p.a.Header,{children:Object(ie.jsxs)(v.a,{children:[Object(ie.jsx)(x.a,{xs:"auto",className:"ml-n3 my-n2",children:Object(ie.jsx)(w.a,{src:c,className:"thumb-mid grad-".concat(l,"star m-1"),thumbnail:!0})}),Object(ie.jsxs)(x.a,{children:[Object(ie.jsx)("h6",{children:Object(ie.jsx)("b",{children:null!==(t=null===s||void 0===s?void 0:s[e].name)&&void 0!==t?t:""})}),Object(ie.jsx)("span",{children:i.map((function(e,t){return Object(ie.jsxs)("span",{children:[e,Object(ie.jsx)(U.a,{stars:1})," ",t<i.length-1?"/ ":null]},e)}))})]})]})}),Object(ie.jsx)(p.a.Body,{children:Object(ie.jsx)(v.a,{className:"mb-n2",children:Boolean(e)&&Object.keys(a.setEffects).map((function(e){return parseInt(e)})).map((function(t){return Object(ie.jsx)(F.a,{newBuild:void 0,setKey:e,setNumKey:t,equippedBuild:n,editable:!0,characterDispatch:r},e+t)}))})})]})},e)}))})}),Object(ie.jsx)(p.a.Footer,{children:Object(ie.jsxs)(g.a,{variant:"danger",onClick:i,children:[Object(ie.jsx)(b.a,{icon:d.w})," CLOSE"]})})]})})}function me(e){var t=e.statKey,a=e.statKeys,n=void 0===a?[]:a,r=e.min,c=e.max,i=e.close,s=e.setFilter,l="%"===Z.b.getStatUnit(t),o={disabled:!t,allowEmpty:!0,float:l},j=Object(u.a)(Object(u.a)({},o),{},{placeholder:"MIN",value:r,onChange:function(e){return s(t,e,c)}}),h=Object(u.a)(Object(u.a)({},o),{},{placeholder:"MAX",value:c,onChange:function(e){return s(t,r,e)}});return Object(ie.jsxs)(A.a,{className:"mb-2",children:[Object(ie.jsx)(m.a,{as:A.a.Prepend,title:Z.b.getStatNameWithPercent(t,"New Stat"),id:"input-group-dropdown-1",children:n.map((function(e){return Object(ie.jsx)(O.a.Item,{onClick:function(){null===i||void 0===i||i(),s(e,r,c)},children:Z.b.getStatNameWithPercent(e)},e)}))}),Object(ie.jsx)(q.a,Object(u.a)({},j)),Object(ie.jsx)(q.a,Object(u.a)({},h)),Boolean(i)&&Object(ie.jsx)(A.a.Append,{children:Object(ie.jsx)(g.a,{variant:"danger",onClick:i,children:Object(ie.jsx)(b.a,{icon:d.y})})})]})}function fe(e){var t=e.characterSheet,a=e.character,n=e.build,r=e.className,c=Object(j.useCallback)((function(e){var t=e.hitMode;return X.b.updateChar(Object(u.a)(Object(u.a)({},a),{},{hitMode:t}))}),[a]),i=Object(j.useCallback)((function(e){var t=e.reactionMode;return X.b.updateChar(Object(u.a)(Object(u.a)({},a),{},{reactionMode:t}))}),[a]),s=Object(j.useCallback)((function(e){var t=e.infusionAura;return X.b.updateChar(Object(u.a)(Object(u.a)({},a),{},{infusionAura:t}))}),[a]);return a?Object(ie.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:r,children:[Object(ie.jsx)(p.a.Header,{children:Object(ie.jsxs)(v.a,{children:[Object(ie.jsx)(x.a,{children:"Hit Mode Options"}),Object(ie.jsx)(x.a,{xs:"auto",children:Object(ie.jsx)(_.b,{characterSheet:t,character:a,characterDispatch:s})})]})}),Object(ie.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(ie.jsx)(_.a,{hitMode:a.hitMode,characterDispatch:c,className:"w-100 mb-2"}),Object(ie.jsx)(_.c,{build:n,character:a,characterDispatch:i,className:"w-100 mb-2"})]})]}):null}function ve(e){var t=e.statKeys,a=void 0===t?[]:t,r=e.statFilters,c=void 0===r?{}:r,i=e.setStatFilters,s=e.className,o=a.filter((function(e){return!Object.keys(c).some((function(t){return t===e}))})),d=function(e,t,a){return i(Object(u.a)(Object(u.a)({},c),{},Object(n.a)({},e,{min:t,max:a})))};return Object(ie.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:s,children:[Object(ie.jsx)(p.a.Header,{children:"Final Stat Filter"}),Object(ie.jsx)(p.a.Body,{children:Object(ie.jsxs)(v.a,{className:"mb-n2",children:[Object.entries(c).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],r=n.min,s=n.max;return Object(ie.jsx)(x.a,{xs:12,children:Object(ie.jsx)(me,{statKey:a,statKeys:o,setFilter:d,min:r,max:s,close:function(){delete c[a],i(Object(u.a)({},c))}})},a)})),Object(ie.jsx)(x.a,{xs:12,children:Object(ie.jsx)(me,{min:void 0,max:void 0,close:void 0,statKeys:o,setFilter:d})})]})})]})}function xe(e){var t=e.sheets,a=e.sheets.artifactSheets,n=e.index,r=e.characterKey,c=e.build,i=e.statsDisplayKeys,s=e.onClick,o=X.b._getChar(r);if(!o)return null;var u=o.equippedArtifacts,d=$.h.every((function(e){var t;return u[e]===(null===(t=c.equippedArtifacts)||void 0===t?void 0:t[e])}));return Object(ie.jsx)("div",{children:Object(ie.jsxs)(E.a.Item,{variant:n%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:s,children:[Object(ie.jsx)("h5",{className:"mb-2",children:Object(ie.jsxs)(v.a,{children:[Object(ie.jsx)(x.a,{xs:"auto",children:Object(ie.jsx)(y.a,{variant:"info",children:Object(ie.jsxs)("strong",{children:[n+1,d?" (Equipped)":""]})})}),Object(ie.jsx)(x.a,{xs:"auto",children:Object.entries(c.setToSlots).sort((function(e,t){var a=Object(l.a)(e,2),n=(a[0],a[1]),r=Object(l.a)(t,2);r[0];return r[1].length-n.length})).map((function(e){var t,n=Object(l.a)(e,2),r=n[0],c=n[1];return Object(ie.jsxs)(y.a,{variant:d?"success":"primary",className:"mr-2",children:[c.map((function(e){return Object(z.a)(e)}))," ",null!==(t=null===a||void 0===a?void 0:a[r].name)&&void 0!==t?t:""]},r)}))})]})}),Object(ie.jsx)(L.a,{editable:!1,sheets:t,character:o,newBuild:c,statsDisplayKeys:i,cardbg:n%2?"lightcontent":"darkcontent"})]})})}function pe(e){var t,a,n,r,c=e.totBuildNumber,i=e.generatingBuilds,s=e.generationSkipped,l=e.generationProgress,o=e.generationDuration,u=e.characterName,d=e.maxBuildsToShow,b=null!==(t=null===c||void 0===c?void 0:c.toLocaleString())&&void 0!==t?t:c,j=c-s,h=null!==(a=null===l||void 0===l?void 0:l.toLocaleString())&&void 0!==a?a:l,O=null!==(n=null===s||void 0===s?void 0:s.toLocaleString())&&void 0!==n?n:s,m=null!==(r=null===j||void 0===j?void 0:j.toLocaleString())&&void 0!==r?r:j,f=Boolean(s)&&Object(ie.jsxs)("span",{children:["(",Object(ie.jsx)("b",{children:O})," skipped)"]});if(i){var v=100*l/j;return Object(ie.jsxs)(K.a,{variant:"success",children:[Object(ie.jsxs)("span",{children:["Generating and testing ",Object(ie.jsxs)("b",{className:"text-monospace",children:[h,"/",m]})," build configurations against the criteria for ",Object(ie.jsx)("b",{children:u}),". ",f]}),Object(ie.jsx)("br",{}),Object(ie.jsxs)("h6",{children:["Time elapsed: ",Object(ie.jsx)("strong",{className:"text-monospace",children:Object(te.b)(o)})]}),Object(ie.jsx)(B.a,{now:v,label:"".concat(v.toFixed(1),"%")})]})}return!i&&l?Object(ie.jsxs)(K.a,{variant:"success",children:[Object(ie.jsxs)("span",{children:["Generated and tested ",Object(ie.jsx)("b",{className:"text-monospace",children:m})," Build configurations against the criteria for ",Object(ie.jsx)("b",{children:u}),". ",f]}),Object(ie.jsxs)("h6",{children:["Total duration: ",Object(ie.jsx)("strong",{className:"text-monospace",children:Object(te.b)(o)})]}),Object(ie.jsx)(B.a,{now:100,variant:"success",label:"100%"})]}):0===c?Object(ie.jsx)(K.a,{variant:"warning",className:"mb-0",children:Object(ie.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(ie.jsx)("b",{children:u}),". Please change your Artifact configurations, or add/unlock more Artifacts."]})}):c>oe?Object(ie.jsx)(K.a,{variant:"warning",className:"mb-0",children:Object(ie.jsxs)("span",{children:["Current configuration will generate ",Object(ie.jsx)("b",{children:b})," builds for ",Object(ie.jsx)("b",{children:u}),". This might take quite a while to generate..."]})}):Object(ie.jsx)(K.a,{variant:"success",className:"mb-0",children:Object(ie.jsxs)("span",{children:["Current configuration ",c<=d?"generated":"will generate"," ",Object(ie.jsx)("b",{children:b})," builds for ",Object(ie.jsx)("b",{children:u}),"."]})})}var ge={0:Object(ie.jsx)("span",{children:"No level assumption"}),4:Object(ie.jsx)("span",{children:"Assume at least level 4"}),8:Object(ie.jsx)("span",{children:"Assume at least level 8"}),12:Object(ie.jsx)("span",{children:"Assume at least level 12"}),16:Object(ie.jsx)("span",{children:"Assume at least level 16"}),20:Object(ie.jsx)("span",{children:"Assume at least level 20"})};function ye(e){var t=e.mainStatAssumptionLevel,a=void 0===t?0:t,n=e.setmainStatAssumptionLevel;return Object(ie.jsx)(S.a,{overlay:Object(ie.jsx)(C.a,{id:"assume-level-tooltip",children:"Change Main Stat value to be at least a specific level. Does not change substats."}),children:Object(ie.jsxs)(O.a,{children:[Object(ie.jsx)(O.a.Toggle,{variant:a?"orange":"primary",children:ge[a]}),Object(ie.jsx)(O.a.Menu,{children:Object.entries(ge).map((function(e){var t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(ie.jsx)(O.a.Item,{onClick:function(){return n(parseInt(a))},children:r},a)}))})]})})}}}]);
//# sourceMappingURL=13.58591f47.chunk.js.map