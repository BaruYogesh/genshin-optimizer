"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[328],{36944:function(e,n,t){t.d(n,{Z:function(){return P},d:function(){return I}});var r,i,l,a,o=t(1413),c=t(30168),s=t(45987),u=t(63204),d=t(49670),f=t(14361),v=t(23786),h=t(57064),x=t(20890),Z=t(94721),p=t(47047),y=t(52791),m=t(72791),g=t(22020),j=t(947),b=t(56928),k=t(42320),C=t(50921),w=t(46956),S=t(33890),E=t(2380),K=t(80184),M=["value","onChange","unSelectText","unSelectIcon","inventory","noUnselect","filter"];function P(e){var n,t=e.value,f=e.onChange,p=e.unSelectText,y=e.unSelectIcon,w=e.inventory,P=void 0!==w&&w,R=e.noUnselect,A=void 0!==R&&R,G=e.filter,_=void 0===G?function(){return!0}:G,F=(0,s.Z)(e,M),N=(0,g.$)("ui").t,O=(0,m.useContext)(b.t).database,V=(0,k.Z)(j.Z.getAll,[]),z=(0,k.Z)(j.Z.get(t),[t]),D=(0,m.useMemo)((function(){return V&&(0,C.zU)(O,V)}),[O,V]),T=O._getCharKeys().filter((function(e){return(null===V||void 0===V?void 0:V[e])&&_(V[e],e)})).sort();return(0,K.jsxs)(S.Z,(0,o.Z)((0,o.Z)({},F),{},{title:null!==(n=null===z||void 0===z?void 0:z.name)&&void 0!==n?n:P?N(r||(r=(0,c.Z)(["inventory"]))):null!==p&&void 0!==p?p:N(i||(i=(0,c.Z)(["unselect"]))),color:t?"success":"primary",startIcon:null!==z&&void 0!==z&&z.thumbImg?(0,K.jsx)(E.Z,{src:z.thumbImgSide}):P?(0,K.jsx)(u.Z,{}):null!==y&&void 0!==y?y:(0,K.jsx)(d.Z,{}),children:[!A&&(P?(0,K.jsxs)(v.Z,{onClick:function(){return f("")},selected:""===t,disabled:""===t,children:[(0,K.jsx)(h.Z,{children:(0,K.jsx)(u.Z,{})}),(0,K.jsx)(x.Z,{variant:"inherit",noWrap:!0,children:N(l||(l=(0,c.Z)(["inventory"])))})]}):(0,K.jsxs)(v.Z,{onClick:function(){return f("")},selected:""===t,disabled:""===t,children:[(0,K.jsx)(h.Z,{children:(0,K.jsx)(d.Z,{})}),(0,K.jsx)(x.Z,{variant:"inherit",noWrap:!0,children:N(a||(a=(0,c.Z)(["unselect"])))})]})),!A&&(0,K.jsx)(Z.Z,{},"div"),!!V&&I(V,T,f,t,D)]}))}function I(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;if(!i)return[];var l=n.filter((0,w.C)({element:"",weaponType:"",favorite:"yes"},i)).map((function(n){return(0,K.jsx)(R,{characterSheets:e,characterKey:n,selectedCharacterKey:r,onChange:t,favorite:!0},n)})),a=n.filter((0,w.C)({element:"",weaponType:"",favorite:"no"},i)).map((function(n){return(0,K.jsx)(R,{characterSheets:e,characterKey:n,selectedCharacterKey:r,onChange:t,favorite:!1},n)}));return l.concat(a)}function R(e){var n,t,r=e.characterSheets,i=e.characterKey,l=e.selectedCharacterKey,a=void 0===l?"":l,o=e.onChange,c=e.favorite;return(0,K.jsxs)(v.Z,{onClick:function(){return o(i)},selected:a===i,disabled:a===i,children:[(0,K.jsx)(h.Z,{children:(0,K.jsx)(E.Z,{src:null===(n=r[i])||void 0===n?void 0:n.thumbImgSide})}),(0,K.jsx)(m.Suspense,{fallback:(0,K.jsx)(p.Z,{variant:"text",width:100}),children:(0,K.jsx)(x.Z,{variant:"inherit",noWrap:!0,children:null===(t=r[i])||void 0===t?void 0:t.name})}),c&&(0,K.jsx)(y.Z,{display:"flex",flexGrow:1}),c&&(0,K.jsx)(f.Z,{sx:{ml:1,mr:-.5}})]},i)}},40020:function(e,n,t){t.d(n,{Z:function(){return d}});var r,i=t(30168),l=t(63204),a=t(20890),o=t(22020),c=t(947),s=t(42320),u=t(80184);function d(e){var n=e.location,t=(0,o.$)("ui").t,d=(0,s.Z)(c.Z.get(null!==n&&void 0!==n?n:""),[n]);return(0,u.jsx)(a.Z,{component:"span",children:null!==d&&void 0!==d&&d.name?d.nameWIthIcon:(0,u.jsxs)("span",{children:[(0,u.jsx)(l.Z,{sx:{verticalAlign:"text-bottom"}})," ",t(r||(r=(0,i.Z)(["inventory"])))]})})}},2380:function(e,n,t){var r=(0,t(93457).Z)("img")((function(e){var n=e.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:n.spacing(-3),marginLeft:n.spacing(-1.25),marginRight:n.spacing(-1),marginBottom:n.spacing(-1)}}));n.Z=r},10600:function(e,n,t){t.d(n,{CC:function(){return x},ZP:function(){return Z}});var r=t(29439),i=t(1413),l=t(45987),a=t(66934),o=t(4834),c=t(24518),s=t(72791),u=t(80184),d=["children","disableRipple","disableFocusRipple","disableTouchRipple"],f=["value","onChange","disabled","float"],v=(0,a.ZP)(o.ZP)((function(e){var n=e.theme;return{backgroundColor:n.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:n.palette.primary.dark},"&.Mui-focused":{backgroundColor:n.palette.primary.dark},"&.Mui-disabled":{backgroundColor:n.palette.primary.dark}}})),h=(0,a.ZP)(c.Z)((function(e){return{backgroundColor:e.theme.palette.primary.main,padding:0,overflow:"hidden",div:{width:"100%",height:"100%"}}}));function x(e){var n=e.children,t=(e.disableRipple,e.disableFocusRipple,e.disableTouchRipple,(0,l.Z)(e,d));return(0,u.jsx)(h,(0,i.Z)((0,i.Z)({disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0},t),{},{children:n}))}function Z(e){var n=e.value,t=void 0===n?0:n,a=e.onChange,o=e.disabled,c=void 0!==o&&o,d=e.float,h=void 0!==d&&d,x=(0,l.Z)(e,f),Z=(0,s.useState)(t),p=(0,r.Z)(Z,2),y=p[0],m=p[1],g=(0,s.useState)(!1),j=(0,r.Z)(g,2),b=j[0],k=j[1],C=(0,s.useMemo)((function(){return h?parseFloat:parseInt}),[h]),w=(0,s.useCallback)((function(){a(y),k(!1)}),[a,y,k]),S=(0,s.useCallback)((function(){k(!0)}),[k]);(0,s.useEffect)((function(){return m(t)}),[t,m]);var E=(0,s.useCallback)((function(e){return m(C(e.target.value)||0)}),[m,C]),K=(0,s.useCallback)((function(e){return"Enter"===e.key&&w()}),[w]);return(0,u.jsx)(v,(0,i.Z)({value:b&&!y?"":y,"aria-label":"custom-input",type:"number",inputProps:{step:h?.1:1},onChange:E,onBlur:w,onFocus:S,disabled:c,onKeyDown:K},x))}},55221:function(e,n,t){var r=t(1413),i=t(45987),l=t(53174),a=t(54483),o=t(68870),c=t(96106),s=t(80184),u=["className"];n.Z=function(e){var n=e.className,t=(0,i.Z)(e,u);return(0,s.jsx)(c.Z,(0,r.Z)((0,r.Z)({placement:"top"},t),{},{className:n,children:(0,s.jsx)(o.Z,{component:"span",sx:{cursor:"help"},children:(0,s.jsx)(a.G,{icon:l.sqG})})}))}},14525:function(e,n,t){t.d(n,{Z:function(){return k},b:function(){return C}});var r=t(29439),i=t(4942),l=t(1413),a=t(53174),o=t(54483),c=t(39504),s=t(20890),u=t(2199),d=t(23786),f=t(24518),v=t(52791),h=t(72791),x=t(2693),Z=t(26138),p=t(79406),y=t(71310),m=t(10600),g=t(33890),j=t(55221),b=t(80184);function k(e){var n=e.statFilters,t=void 0===n?{}:n,a=e.setStatFilters,o=e.disabled,u=void 0!==o&&o,d=(0,h.useContext)(x.R).data,f=["atk","hp","def","eleMas","critRate_","critDMG_","heal_","enerRech_"];"catalyst"!==d.get(Z.ri.weaponType).value&&f.push("physical_dmg_");var p=d.get(Z.ri.charEle).value;f.push("".concat(p,"_dmg_"));var m=f.filter((function(e){return!Object.keys(t).some((function(n){return n===e}))})),g=(0,h.useCallback)((function(e,n){return a((0,l.Z)((0,l.Z)({},t),{},(0,i.Z)({},e,n)))}),[t,a]);return(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(y.Z,{children:(0,b.jsxs)(c.Z,{sx:{display:"flex",gap:1,justifyContent:"space-between"},children:[(0,b.jsx)(s.Z,{children:"Build Constraints"}),(0,b.jsx)(j.Z,{title:(0,b.jsx)(s.Z,{children:"Constraint the generated builds to conform to some requirements, e.g. Generate builds with at least 140% Energy Recharge."})})]})}),(0,b.jsxs)(v.Z,{display:"flex",flexDirection:"column",gap:.5,children:[Object.entries(t).map((function(e){var n=(0,r.Z)(e,2),i=n[0],o=n[1];return(0,b.jsx)(C,{statKey:i,statKeys:m,setFilter:g,disabled:u,value:o,close:function(){delete t[i],a((0,l.Z)({},t))}},i)})),(0,b.jsx)(C,{value:void 0,close:void 0,statKeys:m,setFilter:g,disabled:u})]})]})}function C(e){var n=e.statKey,t=e.statKeys,r=void 0===t?[]:t,i=e.value,l=void 0===i?0:i,c=e.close,s=e.setFilter,v=e.disabled,x=void 0!==v&&v,Z="%"===p.ZP.unit(n),y=(0,h.useCallback)((function(e){return n&&s(n,e)}),[s,n]);return(0,b.jsxs)(u.Z,{sx:{width:"100%"},children:[(0,b.jsx)(g.Z,{title:n?p.ZP.get(n):"New Stat",disabled:x,children:r.map((function(e){return(0,b.jsx)(d.Z,{onClick:function(){null===c||void 0===c||c(),s(e,l)},children:p.ZP.get(e)},e)}))}),(0,b.jsx)(m.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,b.jsx)(m.ZP,{disabled:!n,float:Z,value:l,placeholder:"Min Value",onChange:y,sx:{px:2}})}),!!c&&(0,b.jsx)(f.Z,{color:"error",onClick:c,disabled:x,children:(0,b.jsx)(o.G,{icon:a.I7k})})]})}},20323:function(e,n,t){function r(){return{tcMode:!1}}t.d(n,{c:function(){return r}})},72838:function(e,n,t){t.d(n,{Z:function(){return W},N:function(){return $}});var r,i,l,a=t(30168),o=t(29439),c=t(53174),s=t(54483),u=t(40117),d=t(62002),f=t(66647),v=t(68870),h=t(20890),x=t(47047),Z=t(13400),p=t(81918),y=t(39504),m=t(2199),g=t(24518),j=t(18455),b=t(72791),k=t(22020),C=t(95614),w=t(71310),S=t(36944),E=t(40020),K=t(91702),M=t(20005),P=t(55221),I=t(25617),R=t(10157),A=t(75545),G=t(19272),_=t(31148),F=t(56928),N=t(79406),O=t(63372),V=t(42320),z=t(50765),D=t(60393),T=t(46797),B=t(44217),q=t(80184),L=(0,b.lazy)((function(){return Promise.all([t.e(731),t.e(818),t.e(292)]).then(t.bind(t,29292))})),U=new Set(z.L);function W(e){var n,t,z,D,W=e.artifactId,$=e.artifactObj,Q=e.onClick,X=e.onDelete,J=e.mainStatAssumptionLevel,Y=void 0===J?0:J,ee=e.effFilter,ne=void 0===ee?U:ee,te=e.probabilityFilter,re=e.disableEditSetSlot,ie=void 0!==re&&re,le=e.editor,ae=void 0!==le&&le,oe=e.canEquip,ce=void 0!==oe&&oe,se=e.extraButtons,ue=(0,k.$)(["artifact"]).t,de=(0,b.useContext)(F.t).database,fe=(0,O.Z)(W),ve=(0,V.Z)(_.y.get(null===(n=null!==$&&void 0!==$?$:fe)||void 0===n?void 0:n.setKey),[$,fe]),he=!$,xe=(0,b.useState)(!1),Ze=(0,o.Z)(xe,2),pe=Ze[0],ye=Ze[1],me=(0,b.useCallback)((function(){return ye(!1)}),[ye]),ge=(0,b.useCallback)((function(){return he&&ye(!0)}),[he,ye]),je=(0,b.useCallback)((function(e){return(0,q.jsx)(f.Z,{onClick:function(){return W&&(null===Q||void 0===Q?void 0:Q(W))},sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[Q,W]),be=(0,b.useCallback)((function(e){return(0,q.jsx)(v.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[]),ke=null!==$&&void 0!==$?$:fe;if(!ke)return null;var Ce=ke.id,we=ke.lock,Se=ke.slotKey,Ee=ke.rarity,Ke=ke.level,Me=ke.mainStatKey,Pe=ke.substats,Ie=ke.exclude,Re=ke.location,Ae=void 0===Re?"":Re,Ge=Math.max(Math.min(Y,4*Ee),Ke),_e=N.ZP.unit(Me),Fe="roll"+(Math.floor(Math.max(Ke,0)/4)+1),Ne=G.Z.getArtifactEfficiency(ke,ne),Oe=Ne.currentEfficiency,Ve=Ne.maxEfficiency,ze=0!==Ve,De=(null===ve||void 0===ve?void 0:ve.getSlotName(Se))||"Unknown Piece Name",Te=null===ve||void 0===ve?void 0:ve.getSlotDesc(Se),Be=Te&&(0,q.jsx)(P.Z,{title:(0,q.jsx)(h.Z,{children:Te})}),qe=null===ve||void 0===ve?void 0:ve.setEffects,Le=ve&&qe&&(0,q.jsx)(P.Z,{title:(0,q.jsx)("span",{children:Object.keys(qe).map((function(e){return(0,q.jsxs)("span",{children:[(0,q.jsx)(h.Z,{variant:"h6",children:(0,q.jsx)(I.Z,{color:"success",children:ue("setEffectNum",{setNum:e})})}),(0,q.jsx)(h.Z,{children:ve.setEffectDesc(e)})]},e)}))})});return(0,q.jsxs)(b.Suspense,{fallback:(0,q.jsx)(x.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:[ae&&(0,q.jsx)(b.Suspense,{fallback:!1,children:(0,q.jsx)(L,{artifactIdToEdit:pe?W:"",cancelEdit:me,disableEditSetSlot:ie})}),(0,q.jsxs)(w.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,q.jsxs)(M.Z,{condition:!!Q,wrapper:je,falseWrapper:be,children:[(0,q.jsxs)(v.Z,{className:"grad-".concat(Ee,"star"),sx:{position:"relative",width:"100%"},children:[!Q&&(0,q.jsx)(Z.Z,{color:"primary",disabled:!he,onClick:function(){return de.updateArt({lock:!we},Ce)},sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:we?(0,q.jsx)(u.Z,{}):(0,q.jsx)(d.Z,{})}),(0,q.jsxs)(v.Z,{sx:{pt:2,px:2,position:"relative",zIndex:1},children:[(0,q.jsxs)(v.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1},children:[(0,q.jsx)(p.Z,{size:"small",label:(0,q.jsx)("strong",{children:" +".concat(Ke)}),color:Fe}),(0,q.jsxs)(h.Z,{sx:{flexGrow:1},children:[De," ",Be]})]}),(0,q.jsx)(h.Z,{color:"text.secondary",variant:"body2",children:(0,q.jsx)(C.ZP,{slotKey:Se})}),(0,q.jsx)(h.Z,{variant:"h6",color:"".concat(N.ZP.getVariant(Me),".main"),children:(0,q.jsxs)("span",{children:[A.Z[Me]," ",N.ZP.get(Me)]})}),(0,q.jsx)(h.Z,{variant:"h5",children:(0,q.jsx)("strong",{children:(0,q.jsxs)(K.Z,{color:Ge!==Ke?"warning":void 0,children:[(0,N.qs)(null!==(t=G.Z.mainStatValue(Me,Ee,Ge))&&void 0!==t?t:0,N.ZP.unit(Me)),_e]})})}),(0,q.jsx)(R.t,{stars:Ee,colored:!0})]}),(0,q.jsx)(v.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,q.jsx)(v.Z,{component:"img",src:null!==(z=null===ve||void 0===ve?void 0:ve.slotIcons[Se])&&void 0!==z?z:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,q.jsxs)(y.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0,width:"100%"},children:[Pe.map((function(e){return(0,q.jsx)(H,{stat:e,effFilter:ne,rarity:Ee},e.key)})),(0,q.jsxs)(v.Z,{sx:{display:"flex",my:1},children:[(0,q.jsx)(h.Z,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ue(r||(r=(0,a.Z)(["editor.curSubEff"])))}),(0,q.jsx)(T.Z,{value:Oe,max:900,valid:ze})]}),Oe!==Ve&&(0,q.jsxs)(v.Z,{sx:{display:"flex",mb:1},children:[(0,q.jsx)(h.Z,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ue(i||(i=(0,a.Z)(["editor.maxSubEff"])))}),(0,q.jsx)(T.Z,{value:Ve,max:900,valid:ze})]}),(0,q.jsx)(v.Z,{flexGrow:1}),te&&(0,q.jsxs)("strong",{children:["Probability: ",(100*(0,B.B)(ke,te)).toFixed(2),"%"]}),(0,q.jsxs)(h.Z,{color:"success.main",children:[null!==(D=null===ve||void 0===ve?void 0:ve.name)&&void 0!==D?D:"Artifact Set"," ",Le]})]})]}),(0,q.jsxs)(v.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[he&&ce?(0,q.jsx)(S.Z,{size:"small",inventory:!0,value:Ae,onChange:function(e){return de.setArtLocation(W,e)}}):(0,q.jsx)(E.Z,{location:Ae}),he&&(0,q.jsxs)(m.Z,{sx:{height:"100%"},children:[ae&&(0,q.jsx)(g.Z,{color:"info",size:"small",onClick:ge,children:(0,q.jsx)(s.G,{icon:c.Xcf,className:"fa-fw"})}),ae&&(0,q.jsx)(j.Z,{title:(0,q.jsx)(h.Z,{children:ue(l||(l=(0,a.Z)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:(0,q.jsx)(g.Z,{onClick:function(){return de.updateArt({exclude:!Ie},Ce)},color:Ie?"error":"success",size:"small",children:(0,q.jsx)(s.G,{icon:Ie?c.gPx:c.Stf,className:"fa-fw"})})}),!!X&&(0,q.jsx)(g.Z,{color:"error",size:"small",onClick:function(){return X(Ce)},disabled:we,children:(0,q.jsx)(s.G,{icon:c.I7k,className:"fa-fw"})}),se]})]})]})]})}function H(e){var n,t,r,i=e.stat,l=e.effFilter,a=e.rarity;if(!i.value)return null;var o=null!==(n=null===(t=i.rolls)||void 0===t?void 0:t.length)&&void 0!==n?n:0,c=i.key?G.Z.maxSubstatValues(i.key):0,s=i.key?G.Z.getSubstatRollData(i.key,a):[],u=7-s.length,d="roll".concat((0,D.uZ)(o,1,6)),f=null!==(r=i.efficiency)&&void 0!==r?r:0,x=(0,D.V2)(.5+f/500*.5),Z=N.ZP.getStr(i.key),p=N.ZP.unit(i.key),y=i.key&&l.has(i.key);return(0,q.jsxs)(v.Z,{display:"flex",gap:1,alignContent:"center",children:[(0,q.jsxs)(h.Z,{sx:{flexGrow:1},color:o?"".concat(d,".main"):"error.main",component:"span",children:[A.Z[i.key]," ",Z,"+".concat((0,N.qs)(i.value,N.ZP.unit(i.key))).concat(p)]}),y&&(0,q.jsx)(v.Z,{display:"flex",gap:.25,height:"1.3em",children:i.rolls.sort().map((function(e,n){return(0,q.jsx)($,{value:100*e/c,color:"roll".concat((0,D.uZ)(u+s.indexOf(e),1,6),".main")},"".concat(n).concat(e))}))}),(0,q.jsx)(h.Z,{sx:{opacity:x,minWidth:40,textAlign:"right"},children:y?"".concat(f.toFixed(),"%"):"-"})]})}function $(e){var n=e.color,t=void 0===n?"red":n,r=e.value,i=void 0===r?50:r;return(0,q.jsx)(v.Z,{sx:{width:7,height:"100%",bgcolor:t,overflow:"hidden",borderRadius:1,display:"inline-block"},children:(0,q.jsx)(v.Z,{sx:{width:10,height:"".concat(100-(0,D.uZ)(i,0,100),"%"),bgcolor:"gray"}})})}},44824:function(e,n,t){t.d(n,{OQ:function(){return c},bq:function(){return s},Af:function(){return u},sZ:function(){return d},x3:function(){return f},EM:function(){return v}});var r=t(37762),i=t(93433),l=t(24351),a=t(19272),o=t(44217),c=["rarity","level","artsetkey","efficiency","mefficiency","probability"],s=["probability"];function u(){return{artSetKeys:[],rarity:(0,i.Z)(l.En),levelLow:0,levelHigh:20,slotKeys:(0,i.Z)(l.eV),mainStatKeys:[],substats:[],location:"",excluded:""}}var d=function(){return{filterOption:u(),ascending:!1,sortType:c[0]}};function f(e,n){return{rarity:{getValue:function(e){var n;return null!==(n=e.rarity)&&void 0!==n?n:0},tieBreaker:"level"},level:{getValue:function(e){var n;return null!==(n=e.level)&&void 0!==n?n:0},tieBreaker:"artsetkey"},artsetkey:{getValue:function(e){var n;return null!==(n=e.setKey)&&void 0!==n?n:""},tieBreaker:"level"},efficiency:{getValue:function(n){return a.Z.getArtifactEfficiency(n,e).currentEfficiency}},mefficiency:{getValue:function(n){return a.Z.getArtifactEfficiency(n,e).maxEfficiency}},probability:{getValue:function(e){if(!Object.keys(n).length)return 0;var t=e.probability;return void 0===t?(0,o.B)(e,n):t}}}}function v(){return{excluded:function(e,n){return!("excluded"===n&&!e.exclude)&&("included"!==n||!e.exclude)},location:function(e,n){return!n||("Inventory"===n&&!e.location||(!("Equipped"!==n||!e.location)||n===e.location))},artSetKeys:function(e,n){return!n.length||n.includes(e.setKey)},slotKeys:function(e,n){return n.includes(e.slotKey)},mainStatKeys:function(e,n){return!n.length||n.includes(e.mainStatKey)},levelLow:function(e,n){return n<=e.level},levelHigh:function(e,n){return n>=e.level},rarity:function(e,n){return n.includes(e.rarity)},substats:function(e,n){var t,i=(0,r.Z)(n);try{var l=function(){var n=t.value;if(n&&!e.substats.some((function(e){return e.key===n})))return{v:!1}};for(i.s();!(t=i.n()).done;){var a=l();if("object"===typeof a)return a.v}}catch(o){i.e(o)}finally{i.f()}return!0}}}},46797:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),i=t(25617),l=t(60393),a=t(80184);function o(e){var n=e.value,t=e.max,o=void 0===t?1:t,c=e.valid,s="number"===typeof n?["roll".concat((0,l.uZ)(Math.floor(n/o*10)-4,1,6)),n.toFixed()+"%"]:["secondary",n],u=(0,r.Z)(s,2),d=u[0],f=u[1];return c||(d="error"),(0,a.jsx)(i.Z,{color:d,children:f})}},44217:function(e,n,t){t.d(n,{B:function(){return j}});var r=t(29439),i=t(37762),l=t(4942),a=t(1413),o=t(93433),c=t(60393),s=t(19272),u=t(12354),d=[3,4,6],f={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3},v={};function h(e,n,t,r){if(5!==e.length)for(var i=0,s=d;i<s.length;i++){var u=s[i];n[u]>0&&h([].concat((0,o.Z)(e),[u]),(0,a.Z)((0,a.Z)({},n),{},(0,l.Z)({},u,n[u]-u)),t-u,r*n[u]/t)}else(0,c.SR)(v,e,r)}h([0],{3:6,4:20,6:18},44,1),h([3],{3:3,4:20,6:18},41,1),h([4],{3:6,4:16,6:18},40,1),h([6],{3:6,4:20,6:12},38,1);for(var x=Array(6).fill(0).map((function(e,n){for(var t=[1],r=0,i=1;++r<=n;)i*=n-r+1,i/=r,t.push(i);return t})),Z=[[1]],p=function(){var e=Z[Z.length-1],n=Array(e.length+3).fill(0);e.forEach((function(e,t){for(var r=0,i=[0,1,2,3];r<i.length;r++){n[t+i[r]]+=e}})),Z.push(n.map((function(e){return e/4})))};Z.length<6;)p();for(var y=function(){var e=g[m],n=e.reduce((function(e,n){return e+n}));e.forEach((function(e,t,r){r[t]=n,n-=e}))},m=0,g=Z;m<g.length;m++)y();function j(e,n){if(e.rarity<=2)return NaN;var t=e.rarity,o=e.level,h=e.substats,p=(0,a.Z)({},n),y=new Set(Object.keys(p)),m=0,g=e.mainStatKey;if(g in p){var j=4*t;if(u[t][g][j]<p[g])return 0;delete p[g],y.delete(g)}var b,k=(0,i.Z)(h);try{for(k.s();!(b=k.n()).done;){var C=b.value,w=C.key,S=C.value;w?y.has(w)&&(y.delete(w),p[w]>S?p[w]-=S:delete p[w]):m+=1}}catch(N){k.e(N)}finally{k.f()}if(m+=4-h.length,y.size>m||Object.keys(p).length>4)return 0;for(var E=s.Z.rollsRemaining(o,t)-m,K=0,M=Object.entries(p);K<M.length;K++){var P=(0,r.Z)(M[K],2),I=P[0],R=P[1];p[I]=Math.max(Math.ceil(10*R/s.Z.maxSubstatValues(I,t)),1)}var A=0,G=Object.entries(p).map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1],l=y.has(t)?1:0,a=Math.ceil(i/10)-l;return A+=a,{target:i,filler:l,minUpgrade:a}})).reverse();if(A>E)return 0;var _=(0,l.Z)({},E,1),F=E-A;return G.forEach((function(e,n){for(var t,i,l,a=e.target,o=e.filler,c=e.minUpgrade,s={},u=c;u<=c+F;u++)for(var d=a-7*(u+o),f=d>0?Z[u+o][d]:1,v=0,h=Object.entries(_);v<h.length;v++){var p,y=(0,r.Z)(h[v],2),m=y[0],g=y[1],j=parseInt(m);if(!(j<u)){var b=(i=u,l=4-n,x[t=j][i]*Math.pow(l-1,t-i)/Math.pow(l,t)),k=j-u;s[k]=(null!==(p=s[k])&&void 0!==p?p:0)+g*f*b}}_=s})),function(e,n,t){var r,l,a=null!==(r=f[e])&&void 0!==r?r:0,o=0,s={3:2,4:5,6:3},u=v[a],h=(0,i.Z)(n);try{for(h.s();!(l=h.n()).done;){var Z=l.value.key;if(Z){var p=f[Z];u=u[p],s[p]-=1}}}catch(N){h.e(N)}finally{h.f()}a&&(s[a]-=1);var y,m={3:0,4:0,6:0},g=(0,i.Z)(t);try{for(g.s();!(y=g.n()).done;){var j=y.value;m[f[j]]+=1}}catch(N){g.e(N)}finally{g.f()}var b=0;(0,c.Q1)(u,[],(function(e){return"number"===typeof e}),(function(e,n){b+=e;var t,r={3:0,4:0,6:0},l=(0,i.Z)(n);try{for(l.s();!(t=l.n()).done;){r[t.value]+=1}}catch(N){l.e(N)}finally{l.f()}var a,c=e,s=(0,i.Z)(d);try{for(s.s();!(a=s.n()).done;){var u=a.value,f=r[u],v=m[u];if(f<v)return;c*=x[f][v]}}catch(N){s.e(N)}finally{s.f()}o+=c}));var k,C=(0,i.Z)(d);try{for(C.s();!(k=C.n()).done;){var w=k.value;o/=x[s[w]][m[w]]}}catch(N){C.e(N)}finally{C.f()}return o/b}(e.mainStatKey,h,y)*Object.values(_).reduce((function(e,n){return e+n}))}},63372:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(29439),i=t(72791),l=t(56928);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,i.useContext)(l.t),t=n.database,a=(0,i.useState)(t._getArt(e)),o=(0,r.Z)(a,2),c=o[0],s=o[1];return(0,i.useEffect)((function(){return s(t._getArt(e))}),[t,e]),(0,i.useEffect)((function(){return e?t.followArt(e,s):void 0}),[e,s,t]),c}}}]);
//# sourceMappingURL=328.aa66fb9f.chunk.js.map