{"version":3,"sources":["Database/CharacterDatabase.js","Database/ArtifactDatabase.js","Database/dbV2KeyMap.js","Database/DatabaseUtil.js","Util/Util.js","App.js","reportWebVitals.js","index.js"],"names":["CharacterDatabase","this","Error","callback","listener","push","filter","cb","forEach","characterDatabase","characterKey","charListener","char","initiated","isInvalid","levelKey","getCharacterDatabase","deepClone","getCharacterKeyList","Object","keys","getIdList","populateDatebaseFromLocalStorage","localStorage","key","startsWith","split","character","loadFromLocalStorage","emitEvent","update","dchar","saveToLocalStorage","emitCharEvent","get","defVal","remove","removeItem","getArtifactIDFromSlot","slotKey","equippedArtifacts","equipArtifact","art","id","unequipArtifactOnSlot","equipArtifactBuild","artifactIds","unequipAllArtifacts","values","clearDatabase","artifactDatabase","artIdIndex","artListener","ArtifactDatabase","setKey","numStars","mainStatKey","substats","some","substat","value","getArtifactDatabase","removeArtifactById","removeArtifact","getItem","dart","emitArtEvent","artId","moveToNewLocation","artid","location","setLocked","lock","swapLocations","artA","artB","locA","locB","swapLocationsById","artAid","artBid","changes","char_ele_key","char_level","hp_base","hp_final","atk_character_base","atk_base","atk_final","atk_weapon","def_base","def_final","phy_dmg_bonus","phy_res","anemo_ele_dmg_bonus","geo_ele_dmg_bonus","electro_ele_dmg_bonus","hydro_ele_dmg_bonus","pyro_ele_dmg_bonus","cryo_ele_dmg_bonus","anemo_ele_res","geo_ele_res","electro_ele_res","hydro_ele_res","pyro_ele_res","cryo_ele_res","ener_rech","crit_rate","crit_dmg","stam","heal_bonu","inc_heal","pow_shield","red_cd","skill_cd_red","burst_cd_red","all_dmg_bonus","move_spd","atk_spd","weakspot_dmg","stamina_dec","stamina_gliding_dec","stamina_charged_dec","ele_mas_multi_x","ele_mas_multi_y","ele_mas_multi_z","norm_atk_dmg","char_atk_dmg","plunge_dmg","norm_atk_crit_dmg","char_atk_crit_dmg","plunge_crit_dmg","norm_atk_avg_dmg","char_atk_avg_dmg","plunge_avg_dmg","norm_atk_dmg_bonus","char_atk_dmg_bonus","plunge_atk_dmg_bonus","skill_dmg_bonus","burst_dmg_bonus","norm_atk_crit_rate","char_atk_crit_rate","skill_crit_rate","burst_crit_rate","anemo_skill_dmg","anemo_burst_dmg","anemo_skill_crit_dmg","anemo_burst_crit_dmg","anemo_skill_avg_dmg","anemo_burst_avg_dmg","geo_skill_dmg","geo_burst_dmg","geo_skill_crit_dmg","geo_burst_crit_dmg","geo_skill_avg_dmg","geo_burst_avg_dmg","electro_skill_dmg","electro_burst_dmg","electro_skill_crit_dmg","electro_burst_crit_dmg","electro_skill_avg_dmg","electro_burst_avg_dmg","hydro_skill_dmg","hydro_burst_dmg","hydro_skill_crit_dmg","hydro_burst_crit_dmg","hydro_skill_avg_dmg","hydro_burst_avg_dmg","pyro_skill_dmg","pyro_burst_dmg","pyro_skill_crit_dmg","pyro_burst_crit_dmg","pyro_skill_avg_dmg","pyro_burst_avg_dmg","cryo_skill_dmg","cryo_burst_dmg","cryo_skill_crit_dmg","cryo_burst_crit_dmg","cryo_skill_avg_dmg","cryo_burst_avg_dmg","phy_dmg","phy_crit_dmg","phy_avg_dmg","anemo_ele_dmg","anemo_ele_crit_dmg","anemo_ele_avg_dmg","geo_ele_dmg","geo_ele_crit_dmg","geo_ele_avg_dmg","electro_ele_dmg","electro_ele_crit_dmg","electro_ele_avg_dmg","hydro_ele_dmg","hydro_ele_crit_dmg","hydro_ele_avg_dmg","pyro_ele_dmg","pyro_ele_crit_dmg","pyro_ele_avg_dmg","cryo_ele_dmg","cryo_ele_crit_dmg","cryo_ele_avg_dmg","overload_dmg","overload_dmg_bonus","overload_multi","electrocharged_dmg","electrocharged_dmg_bonus","electrocharged_multi","superconduct_dmg","superconduct_dmg_bonus","superconduct_multi","burning_dmg","burning_dmg_bonus","swirl_dmg","swirl_dmg_bonus","swirl_multi","shatter_dmg","shatter_dmg_bonus","shatter_multi","crystalize_dmg","crystalize_dmg_bonus","melt_dmg_bonus","vaporize_dmg_bonus","pyro_vaporize_normal_dmg","pyro_vaporize_normal_crit_dmg","pyro_vaporize_normal_avg_dmg","pyro_vaporize_chraged_dmg","pyro_vaporize_chraged_crit_dmg","pyro_vaporize_chraged_avg_dmg","pyro_vaporize_plunge_dmg","pyro_vaporize_plunge_crit_dmg","pyro_vaporize_plunge_avg_dmg","pyro_vaporize_skill_dmg","pyro_vaporize_skill_crit_dmg","pyro_vaporize_skill_avg_dmg","pyro_vaporize_burst_dmg","pyro_vaporize_burst_crit_dmg","pyro_vaporize_burst_avg_dmg","pyro_vaporize_ele_dmg","pyro_vaporize_ele_crit_dmg","pyro_vaporize_ele_avg_dmg","hydro_vaporize_normal_dmg","hydro_vaporize_normal_crit_dmg","hydro_vaporize_normal_avg_dmg","hydro_vaporize_chraged_dmg","hydro_vaporize_chraged_crit_dmg","hydro_vaporize_chraged_avg_dmg","hydro_vaporize_plunge_dmg","hydro_vaporize_plunge_crit_dmg","hydro_vaporize_plunge_avg_dmg","hydro_vaporize_skill_dmg","hydro_vaporize_skill_crit_dmg","hydro_vaporize_skill_avg_dmg","hydro_vaporize_burst_dmg","hydro_vaporize_burst_crit_dmg","hydro_vaporize_burst_avg_dmg","hydro_vaporize_ele_dmg","hydro_vaporize_ele_crit_dmg","hydro_vaporize_ele_avg_dmg","pyro_melt_normal_dmg","pyro_melt_normal_crit_dmg","pyro_melt_normal_avg_dmg","pyro_melt_chraged_dmg","pyro_melt_chraged_crit_dmg","pyro_melt_chraged_avg_dmg","pyro_melt_plunge_dmg","pyro_melt_plunge_crit_dmg","pyro_melt_plunge_avg_dmg","pyro_melt_skill_dmg","pyro_melt_skill_crit_dmg","pyro_melt_skill_avg_dmg","pyro_melt_burst_dmg","pyro_melt_burst_crit_dmg","pyro_melt_burst_avg_dmg","pyro_melt_ele_dmg","pyro_melt_ele_crit_dmg","pyro_melt_ele_avg_dmg","cryo_melt_normal_dmg","cryo_melt_normal_crit_dmg","cryo_melt_normal_avg_dmg","cryo_melt_chraged_dmg","cryo_melt_chraged_crit_dmg","cryo_melt_chraged_avg_dmg","cryo_melt_plunge_dmg","cryo_melt_plunge_crit_dmg","cryo_melt_plunge_avg_dmg","cryo_melt_skill_dmg","cryo_melt_skill_crit_dmg","cryo_melt_skill_avg_dmg","cryo_melt_burst_dmg","cryo_melt_burst_crit_dmg","cryo_melt_burst_avg_dmg","cryo_melt_ele_dmg","cryo_melt_ele_crit_dmg","cryo_melt_ele_avg_dmg","enemy_phy_res","enemy_phy_res_multi","enemy_phy_immunity","anemo_enemy_ele_res","anemo_enemy_ele_res_multi","anemo_enemy_ele_immunity","geo_enemy_ele_res","geo_enemy_ele_res_multi","geo_enemy_ele_immunity","electro_enemy_ele_res","electro_enemy_ele_res_multi","electro_enemy_ele_immunity","hydro_enemy_ele_res","hydro_enemy_ele_res_multi","hydro_enemy_ele_immunity","pyro_enemy_ele_res","pyro_enemy_ele_res_multi","pyro_enemy_ele_immunity","cryo_enemy_ele_res","cryo_enemy_ele_res_multi","cryo_enemy_ele_immunity","ele_mas","amp_reaction_base_multi","enemy_level_multi","enemy_level","dmgModeToHitMode","avg_dmg","dmg","CurrentDatabaseVersion","DatabaseInitAndVerify","dbVersion","getDatabaseVersion","dbKey","name","dmgMode","rest","Array","isArray","buildSetting","mainStat","map","stat","v2change","statFilters","fromEntries","entries","hitMode","ArtifactDisplayState","filterMainStatKey","filterSubstats","state","elementalFilter","weaponFilter","charDBJustPopualted","artDBJustPopualted","valid","artInSlotId","obj","i","currentEfficiency","maximumEfficiency","efficiency","rolls","chars","equippedArt","artifactConditional","talentCondtiional","autoInfused","artifactsAssumeFull","ascending","setFilters","num","useLockedArts","buildSettings","mainStatAssumptionLevel","mainStatKeys","weapon","conditionalNum","setDatabaseVersion","parseInt","version","createDatabaseObj","artifactDisplay","characterDisplay","buildsDisplay","loadDatabaseObj","charKey","getRandomElementFromArray","array","Math","floor","random","length","getRandomIntInclusive","min","max","ceil","data","JSON","parse","setItem","stringify","closeEnoughFloat","a","b","abs","closeEnoughInt","clamp","val","low","high","getArrLastElement","arr","clampPercent","strPadLeft","string","pad","join","slice","hammingDistance","str1","str2","dist","toLowerCase","j","match","objMultiplication","multi","prop","layeredAssignment","reduce","accu","objPathValue","k","deletePropPath","path","tempPath","lastKey","pop","objClearEmpties","o","crawlObject","validate","Home","lazy","ArtifactDisplay","CharacterDisplay","BuildDisplay","Planner","FlexDisplay","SettingsDisplay","App","className","Navbar","bg","variant","expand","Brand","as","Link","to","Toggle","aria-controls","Collapse","Nav","process","href","target","rel","onClick","ReactGA","outboundLink","label","icon","faPaypal","faPatreon","faDiscord","faCog","fallback","Container","Card","text","Body","Spinner","animation","component","Row","Col","xs","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialize","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6873dd2d.chunk.js","sourcesContent":["import { deepClone, loadFromLocalStorage, saveToLocalStorage } from \"../Util/Util\";\nexport default class CharacterDatabase {\n  //do not instantiate.\n  constructor() {\n    if (this instanceof CharacterDatabase) throw Error('A static class cannot be instantiated.');\n  }\n  static initiated = false\n  static characterDatabase = {}\n  static listener = []\n  static charListener = []\n  static isInvalid = (char) => !char || !char.characterKey || !char.levelKey\n  static getCharacterDatabase = () => deepClone(this.characterDatabase);\n  static getCharacterKeyList = () => Object.keys(this.characterDatabase);\n  static getIdList = () => Object.keys(this.characterDatabase);\n  static populateDatebaseFromLocalStorage = () => {\n    if (this.initiated && process.env.NODE_ENV !== \"development\") return false;\n    Object.keys(localStorage).filter(key => key.startsWith(\"char_\")).forEach(key => {\n      const [, characterKey] = key.split(\"char_\")\n      if (!this.characterDatabase[characterKey]) {\n        const character = loadFromLocalStorage(key);\n        if (!character) return;\n        this.characterDatabase[characterKey] = character;\n      }\n    })\n    this.initiated = true\n    this.emitEvent()\n    return true\n  }\n  static update = (char) => {\n    if (this.isInvalid(char)) return;\n    const dchar = deepClone(char)\n    saveToLocalStorage(`char_${char.characterKey}`, dchar);\n    this.characterDatabase[char.characterKey] = dchar;\n    this.emitEvent()\n    this.emitCharEvent(dchar.characterKey, dchar)\n  }\n  static get = (characterKey, defVal = null) => this.characterDatabase?.[characterKey] ?? defVal\n\n  static remove = (characterKey) => {\n    delete this.characterDatabase[characterKey];\n    localStorage.removeItem(`char_${characterKey}`);\n    this.emitEvent()\n  }\n  static getArtifactIDFromSlot = (characterKey, slotKey) =>\n    this.get(characterKey)?.equippedArtifacts?.[slotKey] ?? null\n\n  static equipArtifact = (characterKey, art) => {\n    const char = this.get(characterKey)\n    if (!char || !art || !art.slotKey) return\n    if (!char.equippedArtifacts) char.equippedArtifacts = {};\n    char.equippedArtifacts[art.slotKey] = art.id;\n    this.update(char)\n  }\n  static unequipArtifactOnSlot = (characterKey, slotKey) => {\n    const char = this.get(characterKey)\n    if (!char || !slotKey) return\n    if (!char?.equippedArtifacts?.[slotKey]) return;\n    char.equippedArtifacts[slotKey] = \"\";\n    this.update(char)\n  }\n  static equipArtifactBuild = (characterKey, artifactIds) => {\n    const character = this.get(characterKey)\n    if (!character) return;\n    character.equippedArtifacts = artifactIds\n    CharacterDatabase.update(character);\n  }\n  static unequipAllArtifacts = () => {\n    Object.values(this.characterDatabase).forEach(char => {\n      char.equippedArtifacts = {}\n      this.update(char)\n    })\n  }\n  //helper function for testing\n  static clearDatabase = () => {\n    this.characterDatabase = {}\n    this.initiated = false\n    this.emitEvent()\n  }\n  static registerListener(callback) {\n    this.listener.push(callback)\n  }\n  static unregisterListener(callback) {\n    this.listener = this.listener.filter(cb => cb !== callback)\n  }\n  static emitEvent() {\n    this.listener.forEach(cb => cb(this.characterDatabase))\n  }\n  static registerCharListener(characterKey, callback) {\n    if (!this.charListener[characterKey]) this.charListener[characterKey] = [callback]\n    else this.charListener[characterKey].push(callback)\n  }\n  static unregisterCharListener(characterKey, callback) {\n    this.charListener[characterKey] = this.charListener[characterKey]?.filter(cb => cb !== callback)\n  }\n  static emitCharEvent(characterKey, char) {\n    this.charListener[characterKey]?.forEach(cb => cb(char))\n  }\n}\n","import { deepClone, loadFromLocalStorage, saveToLocalStorage } from \"../Util/Util\";\nvar initiated = false\nvar artifactDatabase = {};\nvar artIdIndex = 1;\nconst artListener = {}\nvar listener = []\nexport default class ArtifactDatabase {\n  //do not instantiate.\n  constructor() {\n    if (this instanceof ArtifactDatabase) throw Error('A static class cannot be instantiated.');\n\n  }\n  static isInvalid = (art) =>\n    !art || !art.setKey || !art.numStars || !art.slotKey || !art.mainStatKey || art.substats?.some(substat => substat.key && !substat.value)\n  static getArtifactDatabase = () => artifactDatabase;\n  static getIdList = () => Object.keys(artifactDatabase);\n  static populateDatebaseFromLocalStorage = () => {\n    if (initiated && process.env.NODE_ENV !== \"development\") return false;\n    Object.keys(localStorage).filter(key => key.startsWith(\"artifact_\")).forEach(id => {\n      if (!artifactDatabase[id]) {\n        let art = loadFromLocalStorage(id)\n        if (!art) return;\n        if (this.isInvalid(art)) {\n          this.removeArtifactById(id);\n          return;\n        }\n        artifactDatabase[id] = art;\n      }\n    })\n    initiated = true\n    this.emitEvent()\n    return true\n  }\n  static get = (id) => artifactDatabase[id] ?? null\n  static removeArtifact = (art) => {\n    this.removeArtifactById(art.id);\n  }\n  static update = (art) => {\n    if (this.isInvalid(art)) return;\n    let id = art.id;\n    if (!id) {//if does not have id, generate ID\n      do {\n        id = `artifact_${artIdIndex++}`\n      } while (localStorage.getItem(id) !== null)\n      art.id = id\n    }\n    let dart = deepClone(art)\n    saveToLocalStorage(id, dart);\n    artifactDatabase[id] = dart;\n    this.emitEvent()\n    this.emitArtEvent(id, dart)\n  }\n  static removeArtifactById = (artId) => {\n    delete artifactDatabase[artId];\n    localStorage.removeItem(artId);\n    this.emitEvent()\n  }\n\n  static moveToNewLocation = (artid, location = \"\") => {\n    const art = this.get(artid)\n    if (!art || art.location === location) return;\n    art.location = location;\n    this.update(art);\n  }\n  static setLocked = (artid, lock = false) => {\n    const art = this.get(artid)\n    if (!art || art.lock === lock) return;\n    art.lock = lock;\n    this.update(art);\n  }\n  static swapLocations = (artA, artB) => {\n    let locA = artA.location\n    let locB = artB.location\n    this.moveToNewLocation(artA.id, locB)\n    this.moveToNewLocation(artB.id, locA)\n  }\n  static swapLocationsById = (artAid, artBid) =>\n    this.swapLocations(this.get(artAid), this.get(artBid))\n  static unequipAllArtifacts = () => {\n    Object.values(artifactDatabase).forEach(art => {\n      art.location = \"\"\n      this.update(art)\n    })\n  }\n  //helper function for testing\n  static clearDatabase = () => {\n    artifactDatabase = {}\n    initiated = false\n    artIdIndex = 1\n    this.emitEvent()\n  }\n  static registerListener(callback) {\n    listener.push(callback)\n  }\n  static unregisterListener(callback) {\n    listener = listener.filter(cb => cb !== callback)\n  }\n  static emitEvent() {\n    listener.forEach(cb => cb(artifactDatabase))\n  }\n  static registerArtListener(id, callback) {\n    if (!artListener[id]) artListener[id] = [callback]\n    else artListener[id].push(callback)\n  }\n  static unregisterArtListener(id, callback) {\n    artListener[id] = artListener[id]?.filter(cb => cb !== callback)\n  }\n  static emitArtEvent(id, art) {\n    artListener[id]?.forEach(cb => cb(art))\n  }\n}","//for DB v2, we changed a bunch of keys.\nconst changes = {\n  char_ele_key: \"characterEle\",\n  char_level: \"characterLevel\",\n\n  hp_base: \"characterHP\",\n  hp_final: \"finalHP\",\n  atk_character_base: \"characterATK\",\n  atk_base: \"baseATK\",\n  atk_final: \"finalATK\",\n  atk_weapon: \"weaponATK\",\n  def_base: \"characterDEF\",\n  def_final: \"finalDEF\",\n  phy_dmg_bonus: \"physical_dmg_\",\n  phy_res: \"physical_res_\",\n  anemo_ele_dmg_bonus: \"anemo_dmg_\",\n  geo_ele_dmg_bonus: \"geo_dmg_\",\n  electro_ele_dmg_bonus: \"electro_dmg_\",\n  hydro_ele_dmg_bonus: \"hydro_dmg_\",\n  pyro_ele_dmg_bonus: \"pyro_dmg_\",\n  cryo_ele_dmg_bonus: \"cryo_dmg_\",\n  anemo_ele_res: \"anemo_res_\",\n  geo_ele_res: \"geo_res_\",\n  electro_ele_res: \"electro_res_\",\n  hydro_ele_res: \"hydro_res_\",\n  pyro_ele_res: \"pyro_res_\",\n  cryo_ele_res: \"cryo_res_\",\n  ener_rech: \"enerRech_\",\n  crit_rate: \"critRate_\",\n  crit_dmg: \"critDMG_\",\n  stam: \"stamina\",\n  heal_bonu: \"heal_\",\n  inc_heal: \"incHeal_\",\n  pow_shield: \"powShield_\",\n  red_cd: \"cdRed_\",\n  skill_cd_red: \"skillCDRed_\",\n  burst_cd_red: \"burstCDRed_\",\n  all_dmg_bonus: \"dmg_\",\n  move_spd: \"moveSPD_\",\n  atk_spd: \"atkSPD_\",\n  weakspot_dmg: \"weakspotDMG_\",\n  stamina_dec: \"staminaDec_\",\n  stamina_gliding_dec: \"staminaGlidingDec_\",\n  stamina_charged_dec: \"staminaChargedDec_\",\n  ele_mas_multi_x: \"eleMasX\",\n  ele_mas_multi_y: \"eleMasY\",\n  ele_mas_multi_z: \"eleMasZ\",\n\n  norm_atk_dmg: \"physical_normal_hit\",\n  char_atk_dmg: \"physical_charged_hit\",\n  plunge_dmg: \"physical_plunging_hit\",\n  norm_atk_crit_dmg: \"physical_normal_critHit\",\n  char_atk_crit_dmg: \"physical_charged_critHit\",\n  plunge_crit_dmg: \"physical_plunging_critHit\",\n  norm_atk_avg_dmg: \"physical_normal_avgHit\",\n  char_atk_avg_dmg: \"physical_charged_avgHit\",\n  plunge_avg_dmg: \"physical_plunging_avgHit\",\n  norm_atk_dmg_bonus: \"normal_dmg_\",\n  char_atk_dmg_bonus: \"charged_dmg_\",\n  plunge_atk_dmg_bonus: \"plunging_dmg_\",\n  skill_dmg_bonus: \"skill_dmg_\",\n  burst_dmg_bonus: \"burst_dmg_\",\n  norm_atk_crit_rate: \"normal_critRate_\",\n  char_atk_crit_rate: \"charged_critRate_\",\n  skill_crit_rate: \"skill_critRate_\",\n  burst_crit_rate: \"burst_critRate_\",\n\n  anemo_skill_dmg: \"anemo_skill_hit\",\n  anemo_burst_dmg: \"anemo_burst_hit\",\n  anemo_skill_crit_dmg: \"anemo_skill_critHit\",\n  anemo_burst_crit_dmg: \"anemo_burst_critHit\",\n  anemo_skill_avg_dmg: \"anemo_skill_avgHit\",\n  anemo_burst_avg_dmg: \"anemo_burst_avgHit\",\n  geo_skill_dmg: \"geo_skill_hit\",\n  geo_burst_dmg: \"geo_burst_hit\",\n  geo_skill_crit_dmg: \"geo_skill_critHit\",\n  geo_burst_crit_dmg: \"geo_burst_critHit\",\n  geo_skill_avg_dmg: \"geo_skill_avgHit\",\n  geo_burst_avg_dmg: \"geo_burst_avgHit\",\n  electro_skill_dmg: \"electro_skill_hit\",\n  electro_burst_dmg: \"electro_burst_hit\",\n  electro_skill_crit_dmg: \"electro_skill_critHit\",\n  electro_burst_crit_dmg: \"electro_burst_critHit\",\n  electro_skill_avg_dmg: \"electro_skill_avgHit\",\n  electro_burst_avg_dmg: \"electro_burst_avgHit\",\n  hydro_skill_dmg: \"hydro_skill_hit\",\n  hydro_burst_dmg: \"hydro_burst_hit\",\n  hydro_skill_crit_dmg: \"hydro_skill_critHit\",\n  hydro_burst_crit_dmg: \"hydro_burst_critHit\",\n  hydro_skill_avg_dmg: \"hydro_skill_avgHit\",\n  hydro_burst_avg_dmg: \"hydro_burst_avgHit\",\n  pyro_skill_dmg: \"pyro_skill_hit\",\n  pyro_burst_dmg: \"pyro_burst_hit\",\n  pyro_skill_crit_dmg: \"pyro_skill_critHit\",\n  pyro_burst_crit_dmg: \"pyro_burst_critHit\",\n  pyro_skill_avg_dmg: \"pyro_skill_avgHit\",\n  pyro_burst_avg_dmg: \"pyro_burst_avgHit\",\n  cryo_skill_dmg: \"cryo_skill_hit\",\n  cryo_burst_dmg: \"cryo_burst_hit\",\n  cryo_skill_crit_dmg: \"cryo_skill_critHit\",\n  cryo_burst_crit_dmg: \"cryo_burst_critHit\",\n  cryo_skill_avg_dmg: \"cryo_skill_avgHit\",\n  cryo_burst_avg_dmg: \"cryo_burst_avgHit\",\n\n  phy_dmg: \"physical_hit\",\n  phy_crit_dmg: \"physical_critHit\",\n  phy_avg_dmg: \"physical_avgHit\",\n  anemo_ele_dmg: \"anemo_hit\",\n  anemo_ele_crit_dmg: \"anemo_critHit\",\n  anemo_ele_avg_dmg: \"anemo_avgHit\",\n  geo_ele_dmg: \"geo_hit\",\n  geo_ele_crit_dmg: \"geo_critHit\",\n  geo_ele_avg_dmg: \"geo_avgHit\",\n  electro_ele_dmg: \"electro_hit\",\n  electro_ele_crit_dmg: \"electro_critHit\",\n  electro_ele_avg_dmg: \"electro_avgHit\",\n  hydro_ele_dmg: \"hydro_hit\",\n  hydro_ele_crit_dmg: \"hydro_critHit\",\n  hydro_ele_avg_dmg: \"hydro_avgHit\",\n  pyro_ele_dmg: \"pyro_hit\",\n  pyro_ele_crit_dmg: \"pyro_critHit\",\n  pyro_ele_avg_dmg: \"pyro_avgHit\",\n  cryo_ele_dmg: \"cryo_hit\",\n  cryo_ele_crit_dmg: \"cryo_critHit\",\n  cryo_ele_avg_dmg: \"cryo_avgHit\",\n\n  overload_dmg: \"overload_hit\",\n  overload_dmg_bonus: \"overload_dmg_\",\n  overload_multi: \"overload_multi\",\n  electrocharged_dmg: \"electrocharged_hit\",\n  electrocharged_dmg_bonus: \"electrocharged_dmg_\",\n  electrocharged_multi: \"electrocharged_multi\",\n  superconduct_dmg: \"superconduct_hit\",\n  superconduct_dmg_bonus: \"superconduct_dmg_\",\n  superconduct_multi: \"superconduct_multi\",\n  burning_dmg: \"burning_hit\",\n  burning_dmg_bonus: \"burning_dmg_\",\n  swirl_dmg: \"swirl_hit\",\n  swirl_dmg_bonus: \"swirl_dmg_\",\n  swirl_multi: \"swirl_multi\",\n  shatter_dmg: \"shattered_hit\",\n  shatter_dmg_bonus: \"shattered_dmg_\",\n  shatter_multi: \"shattered_multi\",\n  crystalize_dmg: \"crystalize_hit\",\n  crystalize_dmg_bonus: \"crystalize_dmg_\",\n\n  melt_dmg_bonus: \"melt_dmg_\",\n  vaporize_dmg_bonus: \"vaporize_dmg_\",\n\n  pyro_vaporize_normal_dmg: \"pyro_vaporize_normal_hit\",\n  pyro_vaporize_normal_crit_dmg: \"pyro_vaporize_normal_critHit\",\n  pyro_vaporize_normal_avg_dmg: \"pyro_vaporize_normal_avgHit\",\n  pyro_vaporize_chraged_dmg: \"pyro_vaporize_chraged_hit\",\n  pyro_vaporize_chraged_crit_dmg: \"pyro_vaporize_chraged_critHit\",\n  pyro_vaporize_chraged_avg_dmg: \"pyro_vaporize_chraged_avgHit\",\n  pyro_vaporize_plunge_dmg: \"pyro_vaporize_plunging_hit\",\n  pyro_vaporize_plunge_crit_dmg: \"pyro_vaporize_plunging_critHit\",\n  pyro_vaporize_plunge_avg_dmg: \"pyro_vaporize_plunging_avgHit\",\n  pyro_vaporize_skill_dmg: \"pyro_vaporize_skill_hit\",\n  pyro_vaporize_skill_crit_dmg: \"pyro_vaporize_skill_critHit\",\n  pyro_vaporize_skill_avg_dmg: \"pyro_vaporize_skill_avgHit\",\n  pyro_vaporize_burst_dmg: \"pyro_vaporize_burst_hit\",\n  pyro_vaporize_burst_crit_dmg: \"pyro_vaporize_burst_critHit\",\n  pyro_vaporize_burst_avg_dmg: \"pyro_vaporize_burst_avgHit\",\n  pyro_vaporize_ele_dmg: \"pyro_vaporize_hit\",\n  pyro_vaporize_ele_crit_dmg: \"pyro_vaporize_critHit\",\n  pyro_vaporize_ele_avg_dmg: \"pyro_vaporize_avgHit\",\n  hydro_vaporize_normal_dmg: \"hydro_vaporize_normal_hit\",\n  hydro_vaporize_normal_crit_dmg: \"hydro_vaporize_normal_critHit\",\n  hydro_vaporize_normal_avg_dmg: \"hydro_vaporize_normal_avgHit\",\n  hydro_vaporize_chraged_dmg: \"hydro_vaporize_chraged_hit\",\n  hydro_vaporize_chraged_crit_dmg: \"hydro_vaporize_chraged_critHit\",\n  hydro_vaporize_chraged_avg_dmg: \"hydro_vaporize_chraged_avgHit\",\n  hydro_vaporize_plunge_dmg: \"hydro_vaporize_plunging_hit\",\n  hydro_vaporize_plunge_crit_dmg: \"hydro_vaporize_plunging_critHit\",\n  hydro_vaporize_plunge_avg_dmg: \"hydro_vaporize_plunging_avgHit\",\n  hydro_vaporize_skill_dmg: \"hydro_vaporize_skill_hit\",\n  hydro_vaporize_skill_crit_dmg: \"hydro_vaporize_skill_critHit\",\n  hydro_vaporize_skill_avg_dmg: \"hydro_vaporize_skill_avgHit\",\n  hydro_vaporize_burst_dmg: \"hydro_vaporize_burst_hit\",\n  hydro_vaporize_burst_crit_dmg: \"hydro_vaporize_burst_critHit\",\n  hydro_vaporize_burst_avg_dmg: \"hydro_vaporize_burst_avgHit\",\n  hydro_vaporize_ele_dmg: \"hydro_vaporize_hit\",\n  hydro_vaporize_ele_crit_dmg: \"hydro_vaporize_critHit\",\n  hydro_vaporize_ele_avg_dmg: \"hydro_vaporize_avgHit\",\n  pyro_melt_normal_dmg: \"pyro_melt_normal_hit\",\n  pyro_melt_normal_crit_dmg: \"pyro_melt_normal_critHit\",\n  pyro_melt_normal_avg_dmg: \"pyro_melt_normal_avgHit\",\n  pyro_melt_chraged_dmg: \"pyro_melt_chraged_hit\",\n  pyro_melt_chraged_crit_dmg: \"pyro_melt_chraged_critHit\",\n  pyro_melt_chraged_avg_dmg: \"pyro_melt_chraged_avgHit\",\n  pyro_melt_plunge_dmg: \"pyro_melt_plunging_hit\",\n  pyro_melt_plunge_crit_dmg: \"pyro_melt_plunging_critHit\",\n  pyro_melt_plunge_avg_dmg: \"pyro_melt_plunging_avgHit\",\n  pyro_melt_skill_dmg: \"pyro_melt_skill_hit\",\n  pyro_melt_skill_crit_dmg: \"pyro_melt_skill_critHit\",\n  pyro_melt_skill_avg_dmg: \"pyro_melt_skill_avgHit\",\n  pyro_melt_burst_dmg: \"pyro_melt_burst_hit\",\n  pyro_melt_burst_crit_dmg: \"pyro_melt_burst_critHit\",\n  pyro_melt_burst_avg_dmg: \"pyro_melt_burst_avgHit\",\n  pyro_melt_ele_dmg: \"pyro_melt_hit\",\n  pyro_melt_ele_crit_dmg: \"pyro_melt_critHit\",\n  pyro_melt_ele_avg_dmg: \"pyro_melt_avgHit\",\n  cryo_melt_normal_dmg: \"cryo_melt_normal_hit\",\n  cryo_melt_normal_crit_dmg: \"cryo_melt_normal_critHit\",\n  cryo_melt_normal_avg_dmg: \"cryo_melt_normal_avgHit\",\n  cryo_melt_chraged_dmg: \"cryo_melt_chraged_hit\",\n  cryo_melt_chraged_crit_dmg: \"cryo_melt_chraged_critHit\",\n  cryo_melt_chraged_avg_dmg: \"cryo_melt_chraged_avgHit\",\n  cryo_melt_plunge_dmg: \"cryo_melt_plunging_hit\",\n  cryo_melt_plunge_crit_dmg: \"cryo_melt_plunging_critHit\",\n  cryo_melt_plunge_avg_dmg: \"cryo_melt_plunging_avgHit\",\n  cryo_melt_skill_dmg: \"cryo_melt_skill_hit\",\n  cryo_melt_skill_crit_dmg: \"cryo_melt_skill_critHit\",\n  cryo_melt_skill_avg_dmg: \"cryo_melt_skill_avgHit\",\n  cryo_melt_burst_dmg: \"cryo_melt_burst_hit\",\n  cryo_melt_burst_crit_dmg: \"cryo_melt_burst_critHit\",\n  cryo_melt_burst_avg_dmg: \"cryo_melt_burst_avgHit\",\n  cryo_melt_ele_dmg: \"cryo_melt_hit\",\n  cryo_melt_ele_crit_dmg: \"cryo_melt_critHit\",\n  cryo_melt_ele_avg_dmg: \"cryo_melt_avgHit\",\n\n  enemy_phy_res: \"physical_enemyRes_\",\n  enemy_phy_res_multi: \"physical_enemyRes_multi\",\n  enemy_phy_immunity: \"physical_enemyImmunity\",\n  anemo_enemy_ele_res: \"anemo_enemyRes_\",\n  anemo_enemy_ele_res_multi: \"anemo_enemyRes_multi\",\n  anemo_enemy_ele_immunity: \"anemo_enemyImmunity\",\n  geo_enemy_ele_res: \"geo_enemyRes_\",\n  geo_enemy_ele_res_multi: \"geo_enemyRes_multi\",\n  geo_enemy_ele_immunity: \"geo_enemyImmunity\",\n  electro_enemy_ele_res: \"electro_enemyRes_\",\n  electro_enemy_ele_res_multi: \"electro_enemyRes_multi\",\n  electro_enemy_ele_immunity: \"electro_enemyImmunity\",\n  hydro_enemy_ele_res: \"hydro_enemyRes_\",\n  hydro_enemy_ele_res_multi: \"hydro_enemyRes_multi\",\n  hydro_enemy_ele_immunity: \"hydro_enemyImmunity\",\n  pyro_enemy_ele_res: \"pyro_enemyRes_\",\n  pyro_enemy_ele_res_multi: \"pyro_enemyRes_multi\",\n  pyro_enemy_ele_immunity: \"pyro_enemyImmunity\",\n  cryo_enemy_ele_res: \"cryo_enemyRes_\",\n  cryo_enemy_ele_res_multi: \"cryo_enemyRes_multi\",\n  cryo_enemy_ele_immunity: \"cryo_enemyImmunity\",\n\n  ele_mas: \"eleMas\",\n  amp_reaction_base_multi: \"ampReactionBase_multi\",\n\n  enemy_level_multi: \"enemyLevel_multi\",\n  enemy_level: \"enemyLevel\"\n}\n/*\nconst same = [\n  hp, hp_, atk, atk_, def, def_, pyro_vaporize_multi, hydro_vaporize_multi, pyro_melt_multi, cryo_melt_multi,\n]\n\nconst removed = [\n  norm_atk_crit_multi, char_atk_crit_multi, norm_atk_bonus_multi, char_atk_bonus_multi, plunge_bonus_multi, skill_crit_multi, burst_crit_multi, skill_bonus_multi, burst_bonus_multi, phy_bonus_multi, anemo_ele_bonus_multi, geo_ele_bonus_multi, electro_ele_bonus_multi, hydro_ele_bonus_multi, pyro_ele_bonus_multi, cryo_ele_bonus_multi, crit_dmg_multi, crit_multi,\n]\n\nconst aded = [\n  plunging_critRate_, final_normal_critRate_, final_charged_critRate_, final_plunging_critRate_, final_skill_critRate_, final_burst_critRate_,\n]\n*/\n\n//renamed dmgMode to hitMode\nconst dmgModeToHitMode = {\n  avg_dmg: \"avgHit\",\n  dmg: \"hit\",\n  crit_dmg: \"critHit\"\n}\nexport { changes, dmgModeToHitMode }","import ArtifactDatabase from \"./ArtifactDatabase\";\nimport CharacterDatabase from \"./CharacterDatabase\";\nimport { changes as v2change, dmgModeToHitMode } from \"./dbV2KeyMap\";\nimport { deepClone, loadFromLocalStorage, saveToLocalStorage } from \"../Util/Util\";\n\nconst CurrentDatabaseVersion = 3\n\nfunction DatabaseInitAndVerify() {\n  const dbVersion = getDatabaseVersion()\n  //edit the data before the database is populated\n  if (dbVersion < 2) {\n    //made characters unique, so need to convert character_{NUMBER} to char_{characterKey}. Will only save the 1st instance of a character.\n    Object.keys(localStorage).filter(key => key.startsWith(\"character_\")).forEach(key => {\n      const character = loadFromLocalStorage(key);\n      const { characterKey, equippedArtifacts = {} } = character\n      const dbKey = `char_${characterKey}`\n      if (localStorage.getItem(dbKey) === null) {\n        //if there is no character saved, create a new character\n        const { id, name, dmgMode, ...rest } = character\n        if (Array.isArray(rest?.buildSetting?.mainStat))\n          rest.buildSetting.mainStat = rest.buildSetting.mainStat.map(stat => stat in v2change ? v2change[stat] : stat)\n        if (typeof rest?.buildSetting?.statFilters === \"object\")\n          rest.buildSetting.statFilters = Object.fromEntries(Object.entries(rest.buildSetting.statFilters).map(([stat, value]) => [stat in v2change ? v2change[stat] : stat, value]))\n        rest.hitMode = dmgModeToHitMode[dmgMode] ?? Object.keys(dmgModeToHitMode)[0]\n        saveToLocalStorage(dbKey, rest)\n        //equip to the new character\n        Object.values(equippedArtifacts).forEach(artid => {\n          const art = loadFromLocalStorage(artid);\n          if (!art) return\n          art.location = characterKey\n          saveToLocalStorage(artid, art)\n        });\n      } else {\n        //if the character does exist, \"move\" the artifacts equipped to inventory\n        Object.values(equippedArtifacts).forEach(artid => {\n          const art = loadFromLocalStorage(artid);\n          if (!art) return\n          art.location = \"\"\n          saveToLocalStorage(artid, art)\n        });\n      }\n      //delete the old database\n      localStorage.removeItem(key)\n    })\n    //reset the ArtifactDisplay keys\n    const ArtifactDisplayState = loadFromLocalStorage(\"ArtifactDisplay.state\")\n    if (ArtifactDisplayState) {\n      if (ArtifactDisplayState.filterMainStatKey in v2change)\n        ArtifactDisplayState.filterMainStatKey = v2change[ArtifactDisplayState.filterMainStatKey]\n      ArtifactDisplayState.filterSubstats = ArtifactDisplayState.filterSubstats.map(stat => stat in v2change ? v2change[stat] : stat)\n      saveToLocalStorage(\"ArtifactDisplay.state\", ArtifactDisplayState)\n    }\n  }\n  if (dbVersion < 3) {\n    const state = loadFromLocalStorage(\"CharacterDisplay.state\")\n    if (state) {\n      if (Array.isArray(state.elementalFilter)) state.elementalFilter = \"\"\n      if (Array.isArray(state.weaponFilter)) state.weaponFilter = \"\"\n      saveToLocalStorage(\"CharacterDisplay.state\", state)\n    }\n  }\n\n  //this will only run if neither of the database has been initated.\n  const charDBJustPopualted = CharacterDatabase.populateDatebaseFromLocalStorage(),\n    artDBJustPopualted = ArtifactDatabase.populateDatebaseFromLocalStorage()\n  if (!charDBJustPopualted && !artDBJustPopualted) return\n\n  Object.values(deepClone(ArtifactDatabase.getArtifactDatabase())).forEach(art => {\n    let valid = true\n\n    //verify the linking of artifacts and characters\n    if (art.location) {\n      const locationChar = CharacterDatabase.get(art.location)\n      if (locationChar) {\n        let artInSlotId = CharacterDatabase.getArtifactIDFromSlot(art.location, art.slotKey)\n        if (!artInSlotId) {//character doesnt seem to show this artifact equipped...\n          CharacterDatabase.equipArtifact(art.location, art)\n        } else if (artInSlotId !== art.id) {//character has a different artifact equipped, invalidate this location\n          art.location = \"\"\n          valid = false\n        }\n      } else {\n        art.location = \"\"\n        valid = false\n      }\n    }\n\n    if (dbVersion < 2) {\n      if (art.mainStatKey in v2change) {\n        art.mainStatKey = v2change[art.mainStatKey]\n        valid = false\n      }\n      art?.substats?.forEach((obj, i) => {\n        if (obj.key in v2change) {\n          art.substats[i].key = v2change[obj.key]\n          valid = false\n        }\n      })\n    }\n    if (dbVersion < 3) {\n      //remove cached efficiency & rolls\n      delete art.currentEfficiency\n      delete art.maximumEfficiency\n      art?.substats?.forEach((substat, i) => {\n        delete substat.efficiency\n        delete substat.rolls\n      })\n      valid = false\n    }\n\n    //Update any invalid artifacts in DB\n    if (!valid) ArtifactDatabase.update(art)\n  })\n\n  let chars = CharacterDatabase.getCharacterDatabase();\n  Object.values(chars).forEach(character => {\n    let valid = true;\n    const { characterKey } = character\n    //verify character database equipment validity\n    if (!character.equippedArtifacts) {\n      character.equippedArtifacts = {}\n      valid = false\n    }\n    Object.entries(character.equippedArtifacts).forEach(([slotKey, artid]) => {\n      const equippedArt = ArtifactDatabase.get(artid)\n      if (equippedArt && equippedArt.location !== characterKey) //the artifact doesnt have the right location...\n        ArtifactDatabase.moveToNewLocation(artid, characterKey)\n      if (artid && !equippedArt) {\n        valid = false\n        character.equippedArtifacts[slotKey] = \"\"\n      }\n    })\n\n    if (dbVersion < 3) {\n      delete character.artifactConditional\n      delete character.talentCondtiional\n      delete character.autoInfused\n      if (character.buildSetting) {\n        const { artifactsAssumeFull = false, ascending = false, mainStat = [\"\", \"\", \"\"], setFilters = [{ key: \"\", num: 0 }, { key: \"\", num: 0 }, { key: \"\", num: 0 }], useLockedArts = false } = character.buildSetting ?? {}\n        delete character.buildSetting\n        character.buildSettings = { mainStatAssumptionLevel: artifactsAssumeFull ? 20 : 0, ascending, mainStatKeys: mainStat, setFilters, useLockedArts }\n      }\n      delete character.weapon?.conditionalNum\n      valid = false\n    }\n\n    //update any invalid characters in DB\n    if (!valid) CharacterDatabase.update(character)\n  })\n  setDatabaseVersion(CurrentDatabaseVersion)\n}\nconst getDatabaseVersion = (defVal = 0) =>\n  parseInt(loadFromLocalStorage(\"db_ver\") ?? defVal)\n\nconst setDatabaseVersion = (version) =>\n  saveToLocalStorage(\"db_ver\", version)\n\nfunction createDatabaseObj() {\n  const characterDatabase = CharacterDatabase.getCharacterDatabase()\n  const artifactDatabase = ArtifactDatabase.getArtifactDatabase()\n  const artifactDisplay = loadFromLocalStorage(\"ArtifactDisplay.state\") ?? {}\n  const characterDisplay = loadFromLocalStorage(\"CharacterDisplay.state\") ?? {}\n  const buildsDisplay = loadFromLocalStorage(\"BuildsDisplay.state\") ?? {}\n\n  return {\n    version: getDatabaseVersion(),\n    characterDatabase,\n    artifactDatabase,\n    artifactDisplay,\n    characterDisplay,\n    buildsDisplay,\n  }\n}\n\nfunction loadDatabaseObj({ version = 0, characterDatabase, artifactDatabase, artifactDisplay, characterDisplay, buildsDisplay, }) {\n  clearDatabase()\n  //load from obj charDB,artDB\n  Object.entries(characterDatabase).forEach(([charKey, char]) => saveToLocalStorage(`char_${charKey}`, char))\n  Object.entries(artifactDatabase).forEach(([id, art]) => saveToLocalStorage(id, art))\n  //override version\n  setDatabaseVersion(version)\n  saveToLocalStorage(\"ArtifactDisplay.state\", artifactDisplay)\n  saveToLocalStorage(\"CharacterDisplay.state\", characterDisplay)\n  saveToLocalStorage(\"BuildsDisplay.state\", buildsDisplay)\n\n  DatabaseInitAndVerify()\n}\nfunction clearDatabase() {\n  //delete all characters and artifacts\n  Object.keys(localStorage).filter(key => key.startsWith(\"char_\") || key.startsWith(\"artifact_\")).forEach(id =>\n    localStorage.removeItem(id))\n  localStorage.removeItem(\"db_ver\")\n  localStorage.removeItem(\"ArtifactDisplay.state\")\n  localStorage.removeItem(\"CharacterDisplay.state\")\n  localStorage.removeItem(\"BuildsDisplay.state\")\n  //clear the database to validate again\n  CharacterDatabase.clearDatabase()\n  ArtifactDatabase.clearDatabase()\n}\nexport {\n  DatabaseInitAndVerify,\n  createDatabaseObj,\n  loadDatabaseObj,\n  clearDatabase,\n  CurrentDatabaseVersion\n};\n","export const getRandomElementFromArray = (array) => array[Math.floor(Math.random() * array.length)];\nexport function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\nexport function getRandomIntInclusive(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1) + min); //The maximum is inclusive and the minimum is inclusive \n}\nexport function getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\nexport const loadFromLocalStorage = (key) => {\n  let data = localStorage.getItem(key)\n  if (!data) return null\n  return JSON.parse(data)\n}\nexport const saveToLocalStorage = (key, obj) =>\n  localStorage.setItem(key, JSON.stringify(obj));\nexport const deepClone = (obj) =>\n  JSON.parse(JSON.stringify(obj))\n\nexport const closeEnoughFloat = (a, b) =>\n  Math.abs(a - b) <= 0.101\n\nexport const closeEnoughInt = (a, b) =>\n  Math.abs(a - b) <= 1\nexport const clamp = (val, low, high) => {\n  if (val < low) return low;\n  if (val > high) return high;\n  return val\n}\nexport const getArrLastElement = (arr) =>\n  arr.length ? arr[arr.length - 1] : null\n\nexport const clamp01 = (val) => clamp(val, 0, 1)\nexport const clampPercent = (val) => clamp(val, 0, 100)\n\n//use to pretty print timestamps, or anything really.\nexport function strPadLeft(string, pad, length) {\n  return (new Array(length + 1).join(pad) + string).slice(-length);\n}\n\n//fuzzy compare strings. longer the distance, the higher the mismatch.\nexport function hammingDistance(str1, str2) {\n  var dist = 0;\n  str1 = str1.toLowerCase();\n  str2 = str2.toLowerCase();\n  for (var i = 0, j = Math.max(str1.length, str2.length); i < j; i++) {\n    let match = true\n    if (!str1[i] || !str2[i] || str1[i] !== str2[i])\n      match = false\n    if (str1[i - 1] === str2[i] || str1[i + 1] === str2[i])\n      match = true\n    if (!match) dist++\n  }\n  return dist;\n}\n\n//multiplies every numberical value in the obj by a multiplier.\nexport function objMultiplication(obj, multi) {\n  if (multi === 1) return obj\n  Object.keys(obj).forEach(prop => {\n    if (typeof obj[prop] === \"object\") objMultiplication(obj[prop], multi)\n    if (typeof obj[prop] === \"number\") obj[prop] = obj[prop] * multi\n  })\n  return obj\n}\n\n//assign obj.[keys...] = value\nexport function layeredAssignment(obj, keys, value) {\n  keys.reduce((accu, key, i, arr) => {\n    if (i === arr.length - 1) return (accu[key] = value)\n    if (!accu[key]) accu[key] = {}\n    return accu[key]\n  }, obj)\n  return obj\n}\nexport function objPathValue(obj, keys) {\n  return keys.reduce((a, k) => a?.[k], obj)\n}\n//delete the value denoted by the path. Will also delete empty objects as well.\nexport function deletePropPath(obj, path) {\n  const tempPath = [...path]\n  const lastKey = tempPath.pop()\n  const objPathed = objPathValue(obj, tempPath)\n  delete objPathed[lastKey];\n}\n\nexport function objClearEmpties(o) {\n  for (const k in o) {\n    if (typeof o[k] !== \"object\") continue\n    objClearEmpties(o[k])\n    if (!Object.keys(o[k]).length) delete o[k];\n  }\n}\nexport function crawlObject(obj, keys, validate, cb) {\n  if (validate(obj)) cb(obj, keys)\n  else obj && typeof obj === \"object\" && Object.entries(obj).forEach(([key, val]) => crawlObject(val, [...keys, key], validate, cb))\n}\n// const getObjectKeysRecursive = (obj) => Object.values(obj).reduce((a, prop) => typeof prop === \"object\" ? [...a, ...getObjectKeysRecursive(prop)] : a, Object.keys(obj))\nexport const getObjectKeysRecursive = (obj) => typeof obj === \"object\" ? Object.values(obj).flatMap(getObjectKeysRecursive).concat(Object.keys(obj)) : (typeof obj === \"string\" ? [obj] : [])\n","import { faDiscord, faPatreon, faPaypal } from '@fortawesome/free-brands-svg-icons';\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { lazy, Suspense } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Row from 'react-bootstrap/Row';\nimport Spinner from 'react-bootstrap/Spinner';\nimport ReactGA from 'react-ga';\nimport { HashRouter, Link, Route, Switch } from \"react-router-dom\";\nimport { version } from \"../package.json\";\nimport './App.scss';\nimport './Assets/Image.scss';\nimport { DatabaseInitAndVerify } from './Database/DatabaseUtil';\n\nconst Home = lazy(() => import('./Home/HomeDisplay'))\nconst ArtifactDisplay = lazy(() => import('./Artifact/ArtifactDisplay'))\nconst CharacterDisplay = lazy(() => import('./Character/CharacterDisplay'))\nconst BuildDisplay = lazy(() => import('./Build/BuildDisplay'))\nconst Planner = lazy(() => import('./Planner/PlannerDisplay'))\nconst TestDisplay = lazy(() => import('./TestPage/TestDisplay'))\nconst FlexDisplay = lazy(() => import('./FlexPage/FlexDisplay'))\nconst SettingsDisplay = lazy(() => import('./Settings/SettingsDisplay'))\nDatabaseInitAndVerify()\nfunction App() {\n  return (\n    <HashRouter>\n      <div className=\"h-100 d-flex flex-column\">\n        <div id=\"content\" className=\"flex-grow-1\">\n          <Navbar bg=\"dark\" variant=\"dark\" expand=\"md\">\n            <Navbar.Brand as={Link} to=\"/\">Genshin Optimizer</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n              <Nav className=\"mr-auto\">\n                <Nav.Link as={Link} to=\"/artifact\">\n                  Artifacts</Nav.Link>\n                <Nav.Link as={Link} to=\"/character\">Characters</Nav.Link>\n                <Nav.Link as={Link} to=\"/build\">Builds</Nav.Link>\n                <Nav.Link as={Link} to=\"/tools\">Tools</Nav.Link>\n                {process.env.NODE_ENV === \"development\" && <Nav.Link as={Link} to=\"/test\">TEST</Nav.Link>}\n              </Nav>\n              <Nav>\n                <Nav.Link href={process.env.REACT_APP_PAYPAL_LINK} target=\"_blank\" rel=\"noreferrer\" onClick={() => ReactGA.outboundLink({ label: \"patreon\" }, () => { })}>\n                  <span><FontAwesomeIcon icon={faPaypal} className=\"fa-fw\" /> PayPal</span>\n                </Nav.Link>\n                <Nav.Link href={process.env.REACT_APP_PATREON_LINK} target=\"_blank\" rel=\"noreferrer\" onClick={() => ReactGA.outboundLink({ label: \"patreon\" }, () => { })}>\n                  <span><FontAwesomeIcon icon={faPatreon} className=\"fa-fw\" /> Patreon</span>\n                </Nav.Link>\n                <Nav.Link href={process.env.REACT_APP_DISCORD_LINK} target=\"_blank\" rel=\"noreferrer\" onClick={() => ReactGA.outboundLink({ label: \"discord\" }, () => { })}>\n                  <span><FontAwesomeIcon icon={faDiscord} className=\"fa-fw\" /> Discord</span>\n                </Nav.Link>\n                <Nav.Link as={Link} to=\"/setting\"><FontAwesomeIcon icon={faCog} /></Nav.Link>\n              </Nav>\n            </Navbar.Collapse>\n          </Navbar>\n          <Suspense fallback={<Container>\n            <Card bg=\"darkcontent\" text=\"lightfont\" className=\"mt-2\">\n              <Card.Body>\n                <h3 className=\"text-center\">Loading... <Spinner animation=\"border\" variant=\"primary\" /></h3>\n              </Card.Body>\n            </Card></Container>}>\n            <Switch>\n              <Route path=\"/artifact\" component={ArtifactDisplay} />\n              <Route path=\"/character\" component={CharacterDisplay} />\n              <Route path=\"/build\" component={BuildDisplay} />\n              <Route path=\"/tools\" component={Planner} />\n              {process.env.NODE_ENV === \"development\" && <Route path=\"/test\" component={TestDisplay} />}\n              <Route path=\"/setting\" component={SettingsDisplay} />\n              <Route path=\"/flex\" component={FlexDisplay} />\n              <Route path=\"/\" component={Home} />\n              {/* <Route exact path=\"/\" component={Home} /> */}\n            </Switch>\n          </Suspense>\n        </div>\n        <Nav id=\"footer\" className=\"bg-dark\">\n          <Row className=\"w-100 ml-0 mr-0 mb-2 text-light d-flex justify-content-between\">\n            <Col xs={\"auto\"}>\n              <span > <small>Genshin Optimizer is not affiliated with or endorsed by miHoYo. </small></span>\n            </Col>\n            <Col xs={\"auto\"}>\n              <span  ><small > Genshin Optimizer Ver:{version} </small></span>\n            </Col>\n          </Row>\n        </Nav>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport ReactGA from 'react-ga';\nReactGA.initialize(process.env.REACT_APP_GA_TRACKINGID, {\n  // debug: process.env.NODE_ENV === \"development\"\n});\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}