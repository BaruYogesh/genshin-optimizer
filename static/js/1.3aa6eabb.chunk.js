(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[1],{201:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(122),c=a(68),r=a(14),i=a(8),s=a(2),o=a(20),l=a(69),u=a(111),d=a(100),j=a(39),b=a(53),v=a(41),h=a(218),f=a(16),O=a(11),m=a(36),p=a(127),y=function e(){if(Object(o.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};y.getElementalName=function(e){return b.a[e].name},y.getLevelString=function(e){return"".concat(e.level,"/").concat(j.b[e.ascension])},y.getTalentFieldValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(O.f)(e[t],a):n},y.hasOverride=function(e,t){return"finalHP"===t?y.hasOverride(e,"hp")||y.hasOverride(e,"hp_")||y.hasOverride(e,"characterHP"):"finalDEF"===t?y.hasOverride(e,"def")||y.hasOverride(e,"def_")||y.hasOverride(e,"characterDEF"):"finalATK"===t?y.hasOverride(e,"atk")||y.hasOverride(e,"atk_")||y.hasOverride(e,"characterATK"):!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},y.getBaseStatValue=function(e,t,a,n){return"enemyLevel"===n?e.level:n.includes("enemyRes_")?10:n in j.c?j.c[n]:0},y.getStatValueWithOverride=function(e,t,a,n){var c,r;return y.hasOverride(e,n)?null!==(c=null===(r=e.baseStatOverrides)||void 0===r?void 0:r[n])&&void 0!==c?c:0:y.getBaseStatValue(e,t,a,n)},y.calculateBuild=function(e,t,a,n,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var a=Object(s.a)(e,2),n=a[0],c=a[1];return[n,t._getArt(c)]}))),o=y.createInitialStats(e,t,a,n);return o.mainStatAssumptionLevel=r,y.calculateBuildwithArtifact(o,i,c)},y.calculateBuildwithArtifact=function(e,t,a){var n,c=l.a.setToSlots(t),r=u.a.setEffectsStats(a,e,c),o=Object(O.d)(e);Object.values(t).forEach((function(e){e&&(o[e.mainStatKey]=(o[e.mainStatKey]||0)+l.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(o.mainStatAssumptionLevel,4*e.rarity),e.level)),e.substats.forEach((function(e){return e&&e.key&&(o[e.key]=(o[e.key]||0)+e.value)})))})),Object(m.a)(o,r),d.a.parseConditionalValues({artifact:null===o||void 0===o||null===(n=o.conditionalValues)||void 0===n?void 0:n.artifact},(function(e,t,a){var n,r,i=Object(s.a)(a,3),l=i[1],u=i[2];if(!(parseInt(u)>(null!==(n=null===c||void 0===c||null===(r=c[l])||void 0===r?void 0:r.length)&&void 0!==n?n:0))){var j=d.a.resolve(e,o,t).stats;Object(m.a)(o,j)}})),o.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),o.setToSlots=c;var j=Object(h.a)(o,null===o||void 0===o?void 0:o.modifiers),b=Object(v.c)(j,o),f=b.initialStats;return(0,b.formula)(f),Object(i.a)(Object(i.a)({},o),f)},y.createInitialStats=function(e,t,a,o){var l,u,b,v,h=e=Object(O.d)(e),g=h.key,x=h.elementKey,S=h.level,w=h.ascension,_=h.hitMode,k=h.infusionAura,E=h.reactionMode,K=h.talent,A=h.constellation,N=h.equippedArtifacts,C=h.conditionalValues,T=void 0===C?{}:C,W=h.equippedWeapon,I=null!==(l=t._getWeapon(W))&&void 0!==l?l:Object(p.a)(a.weaponTypeKey),V=["enemyLevel"].concat(Object(r.a)(Object.keys(j.c))),B=Object.fromEntries(V.map((function(t){return[t,y.getStatValueWithOverride(e,a,o,t)]})));B.characterHP=a.getBase("hp",S,w),B.characterDEF=a.getBase("def",S,w),B.characterATK=a.getBase("atk",S,w),B.characterLevel=S,B.characterEle=null!==(u=null!==(b=a.elementKey)&&void 0!==b?b:x)&&void 0!==u?u:"anemo",B.characterKey=g,B.hitMode=_,B.infusionAura=k,B.reactionMode=E,B.conditionalValues=T,B.weaponType=a.weaponTypeKey,B.tlvl=Object.fromEntries(Object.entries(null!==K&&void 0!==K?K:{}).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1]-1]}))),B.constellation=A,B.ascension=w,B.weapon={key:I.key,refineIndex:I.refinement-1},B.equippedArtifacts=N,["physical"].concat(Object(r.a)(f.d)).forEach((function(t){var n="".concat(t,"_enemyRes_");B[n]=y.getStatValueWithOverride(e,a,o,n),n="".concat(t,"_enemyImmunity"),B[n]=y.getStatValueWithOverride(e,a,o,n)}));var M=(null===(v=e)||void 0===v?void 0:v.baseStatOverrides)||{};Object.entries(M).forEach((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];B.hasOwnProperty(a)||(B[a]=n)}));var F=a.getSpecializedStat(w);if(F){var R=a.getSpecializedStatVal(w);Object(m.a)(B,Object(c.a)({},F,R))}for(var H in a.getTalentStatsAll(B,B.characterEle).forEach((function(e){return Object(m.a)(B,e)})),B.tlvl){var L;B.tlvl[H]+=null!==(L=B["".concat(H,"Boost")])&&void 0!==L?L:0}var q=o.getMainStatValue(I.level,I.ascension);B.weaponATK=q;var z=o.getSubStatKey();z&&Object(m.a)(B,Object(c.a)({},z,o.getSubStatValue(I.level,I.ascension))),Object(m.a)(B,o.stats(B));T.artifact;var D=T.weapon,P=Object(n.a)(T,["artifact","weapon"]);return d.a.parseConditionalValues(Object(i.a)(Object(i.a)({},I.key&&{weapon:Object(c.a)({},I.key,null===D||void 0===D?void 0:D[I.key])}),P),(function(e,t,a){if(("character"!==a[0]||"talents"!==a[3]||a[4]===x)&&d.a.canShow(e,B)){var n=d.a.resolve(e,B,t).stats;Object(m.a)(B,n)}})),B},y.getDisplayStatKeys=function(e,t){var a=t.characterSheet,n=t.weaponSheet,c=t.artifactSheets,r=e.characterEle,o=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(r,"_dmg_")];a.isAutoElemental||o.push("physical_dmg_");var l=Object(O.d)(v.a[r]),u=a.weaponTypeKey;l.includes("shattered_hit")||"claymore"!==u||l.push("shattered_hit");var j={},b=a.getTalent(r),h=function(t,a){return t.forEach((function(t){var n;t.formula&&(null===t||void 0===t||null===(n=t.canShow)||void 0===n?void 0:n.call(t,e))&&(j[a]||(j[a]=[]),j[a].push(t.formula.keys))}))},f=function(t,a){if(t.conditional&&d.a.canShow(t.conditional,e)){var n=d.a.resolve(t.conditional,e,null).fields;n&&h(n,a)}t.fields&&h(t.fields,a)};b&&Object.entries(b.sheets).forEach((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1].sections;"normal"!==a&&"charged"!==a&&"plunging"!==a||(a="auto"),n.forEach((function(e){return f(e,"talentKey_".concat(a))}))}));var m="weapon_".concat(e.weapon.key);return n.document&&n.document.map((function(e){return f(e,m)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1],r=c[a];r&&Object.entries(r.setEffects).forEach((function(e){var t=Object(s.a)(e,2),c=t[0],r=t[1].document;n<parseInt(c)||r&&r.map((function(e){return f(e,"artifact_".concat(a,"_").concat(c))}))}))})),Object(i.a)(Object(i.a)({basicKeys:o},j),{},{transReactions:l})}},202:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(14),c=a(29),r=a(10),i=a(1),s=function(){return Object(i.jsx)(r.a,{icon:c.A})},o=function(e){var t=e.stars,a=e.colored,c=void 0!==a&&a;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(n.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},206:function(e,t,a){"use strict";var n={weaponTypes:{bow:a.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:a.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:a.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:a.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:a.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:a.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:a.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:a.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:a.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:a.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},210:function(e,t,a){"use strict";a.d(t,"b",(function(){return N})),a.d(t,"a",(function(){return T})),a.d(t,"c",(function(){return V}));var n=a(14),c=a(2),r=a(29),i=a(10),s=a(0),o=a(140),l=a(113),u=a(545),d=a(186),j=a(119),b=a(70),v=a(231),h=a(538),f=a(332),O=a(185),m=a(184),p=a(206),y=a(114),g=a(45),x=a(16),S=a(82),w=a(202),_=a(112),k=a(201),E=a(116),K=a(111),A=a(1);function N(e){var t=e.onSelect,a=e.weaponTypeKey,n=Object(s.useContext)(g.b),c=Object(S.b)(y.b.getAll(),[]);return Object(A.jsx)(A.Fragment,{children:n._getCharKeys().filter((function(e){var t;return!a||(null===c||void 0===c||null===(t=c[e])||void 0===t?void 0:t.weaponTypeKey)===a})).sort().map((function(e){return Object(A.jsx)(C,{characterKey:e,onSelect:t},e)}))})}function C(e){var t=e.characterKey,a=e.onSelect,n=Object(S.b)(y.b.get(t),[t]);return n?Object(A.jsx)(m.a.Item,{onClick:function(){return a(t)},children:n.nameWIthIcon}):null}function T(e){var t=e.characterSheet,a=e.onSelect,n=e.filter,r=Object(s.useState)(!1),i=Object(c.a)(r,2),u=i[0],d=i[1],j=t?Object(A.jsxs)("span",{children:[Object(A.jsx)(o.a,{src:t.thumbImg,className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(A.jsxs)("h6",{className:"d-inline",children:[" ",t.name," "]})]}):Object(A.jsx)("span",{children:"Select a Character"});return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(l.a,{disabled:!a,onClick:function(){return d(!0)},children:j}),Object(A.jsx)(V,{show:u,onHide:function(){return d(!1)},onSelect:a,filter:n})]})}var W={rarity:"Rarity",level:"Level",name:"Name"};function I(e,t){return t===e?"":t}function V(e){var t=e.show,a=e.onHide,O=e.onSelect,m=e.filter,w=void 0===m?function(){return!0}:m,k=Object(s.useContext)(g.b),E=Object(s.useState)((function(){return Object.keys(W)[0]})),K=Object(c.a)(E,2),N=K[0],C=K[1],T=Object(s.useReducer)(I,""),V=Object(c.a)(T,2),M=V[0],F=V[1],R=Object(s.useReducer)(I,""),H=Object(c.a)(R,2),L=H[0],q=H[1],z=Object(S.b)(y.b.getAll(),[]),D=function(e){var t,a;return null!==(t=null===(a=k._getChar(e))||void 0===a?void 0:a.level)&&void 0!==t?t:0},P=function(e){var t;return null===z||void 0===z||null===(t=z[e])||void 0===t?void 0:t.star},J=z?Object(n.a)(new Set(x.c)).filter((function(e){return w(k._getChar(e),z[e])})).filter((function(e){var t,a;return(!M||M===(null===z||void 0===z||null===(t=z[e])||void 0===t?void 0:t.elementKey))&&(!L||L===(null===z||void 0===z||null===(a=z[e])||void 0===a?void 0:a.weaponTypeKey))})).sort((function(e,t){if("name"===N)return e<t?-1:e>t?1:0;if("level"===N){var a=D(t)-D(e);return a||P(t)-P(e)}var n=P(t)-P(e);return n||D(t)-D(e)})):[];return z?Object(A.jsx)(u.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:a,children:Object(A.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",children:[Object(A.jsx)(d.a.Header,{children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(v.a,{children:x.d.map((function(e){return Object(A.jsx)(l.a,{variant:M&&M!==e?"secondary":e,className:"py-1 px-2 text-white",onClick:function(){return F(e)},children:Object(A.jsx)("h3",{className:"mb-0",children:_.b[e]})},e)}))})}),Object(A.jsx)(b.a,{children:Object(A.jsx)(v.a,{children:x.j.map((function(e){var t;return Object(A.jsx)(l.a,{variant:L&&L!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return q(e)},children:Object(A.jsx)("h3",{className:"mb-0",children:Object(A.jsx)(o.a,{src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(A.jsxs)(b.a,{xs:"auto",children:[Object(A.jsx)("span",{children:"Sort by: "}),Object(A.jsx)(h.a,{type:"radio",name:"level",value:N,onChange:C,children:Object.entries(W).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(A.jsx)(f.a,{value:a,variant:N===a?"success":"primary",children:Object(A.jsx)("h6",{className:"mb-0",children:n})},a)}))})]}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(l.a,{onClick:a,variant:"danger",children:Object(A.jsx)(i.a,{icon:r.B})})})]})}),Object(A.jsx)(d.a.Body,{children:Object(A.jsx)(j.a,{children:J.map((function(e){return Object(A.jsx)(B,{characterKey:e,onClick:function(){a(),null===O||void 0===O||O(e)}},e)}))})})]})}):null}function B(e){var t,a=e.onClick,n=e.characterKey,c=Object(s.useContext)(g.b),r=c._getChar(n),i=Object(S.b)(y.b.get(n),[n]),u=(null===r||void 0===r?void 0:r.equippedWeapon)?c._getWeapon(r.equippedWeapon):void 0,d=Object(S.b)(u?E.a.get(u.key):void 0,[null===u||void 0===u?void 0:u.key]),v=Object(S.b)(K.a.getAll(),[]),h=Object(s.useMemo)((function(){return r&&i&&d&&v&&k.a.calculateBuild(r,c,i,d,v)}),[r,i,d,v,c]);return i?Object(A.jsx)(b.a,{lg:3,md:4,className:"mb-2",children:Object(A.jsxs)(l.a,{className:"w-100",variant:"darkcontent",onClick:a,children:[Object(A.jsx)("h5",{children:i.name}),Object(A.jsxs)(j.a,{children:[Object(A.jsx)(b.a,{xs:"auto",className:"pr-0",children:Object(A.jsx)(o.a,{src:i.thumbImg,className:"thumb-big grad-".concat(i.star,"star p-0"),thumbnail:!0})}),Object(A.jsxs)(b.a,{children:[h&&r?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("h5",{className:"mb-0",children:["Lv. ",k.a.getLevelString(r)," ","C".concat(r.constellation)]}),Object(A.jsxs)("h6",{className:"mb-0",children:[Object(A.jsx)(O.a,{variant:"secondary",children:Object(A.jsx)("strong",{className:"mx-1",children:h.tlvl.auto+1})})," ",Object(A.jsx)(O.a,{variant:"secondary",children:Object(A.jsx)("strong",{className:"mx-1",children:h.tlvl.skill+1})})," ",Object(A.jsx)(O.a,{variant:"secondary",children:Object(A.jsx)("strong",{className:"mx-1",children:h.tlvl.burst+1})})]})]}):Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("h4",{children:Object(A.jsx)(O.a,{variant:"primary",children:"NEW"})})}),Object(A.jsx)("h6",{className:"mb-0",children:Object(A.jsx)(w.a,{stars:i.star,colored:!0})}),Object(A.jsxs)("h3",{className:"mb-0",children:[i.elementKey&&_.a[i.elementKey]," ",Object(A.jsx)(o.a,{src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[i.weaponTypeKey],className:"inline-icon"})]})]})]})]})},n):null}},218:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(2),c=a(14),r=a(67),i=a(41);function s(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a.toString())}})),Object(c.a)(t)}var o=Object.freeze(Object.fromEntries(Object.entries(i.b).map((function(e){var t=Object(n.a)(e,2);return[t[0],s(t[1])]}))));function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(i.d),n=new Set,r=Object(c.a)(Array(i.f)).map((function(e){return new Set}));return a.forEach((function(a){return u(e,a,t,r,n)})),r.flatMap((function(e){return Object(c.a)(e)}))}function u(e,t,a,n,c){var s,l;c.has(t)||(c.add(t),null===(s=o[t])||void 0===s||s.forEach((function(t){return u(e,t,a,n,c)})),(null!==(l=a[t])&&void 0!==l?l:[]).forEach((function(t){return r.a.getCurrent(t,e)[1].forEach((function(t){return u(e,t,a,n,c)}))})),n[Object(i.e)(t)].add(t))}}}]);
//# sourceMappingURL=1.3aa6eabb.chunk.js.map