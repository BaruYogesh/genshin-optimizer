"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[916],{3992:function(e,t,n){var r=n(66934),a=n(57621),i=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.Z=i},71310:function(e,t,n){var r=n(66934),a=n(57621),i=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.Z=i},33890:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),a=n(29439),i=n(45987),s=n(1235),o=n(24518),c=n(47047),l=n(65117),u=n(72791),d=n(80184),h=["title","children","id"];function f(e){var t=e.title,n=e.children,f=e.id,p=void 0===f?"dropdownbtn":f,v=(0,i.Z)(e,h),g=(0,u.useState)(null),x=(0,a.Z)(g,2),m=x[0],Z=x[1],j=Boolean(m),y=(0,u.useCallback)((function(e){return Z(e.currentTarget)}),[Z]),w=(0,u.useCallback)((function(){return Z(null)}),[Z]);return(0,d.jsxs)(u.Suspense,{fallback:(0,d.jsx)(o.Z,(0,r.Z)((0,r.Z)({endIcon:(0,d.jsx)(s.Z,{})},v),{},{children:(0,d.jsx)(c.Z,{width:50})})),children:[(0,d.jsx)(o.Z,(0,r.Z)((0,r.Z)({},v),{},{id:p,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":j?"true":void 0,onClick:y,endIcon:(0,d.jsx)(s.Z,{}),children:t})),(0,d.jsx)(l.Z,{id:"basic-menu",anchorEl:m,open:j,onClose:w,MenuListProps:{"aria-labelledby":p},onClick:w,children:(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(c.Z,{width:"100%",height:"1000"}),children:n})})]})}},20323:function(e,t,n){function r(){return{tcMode:!1}}n.d(t,{c:function(){return r}})},916:function(e,t,n){n.r(t),n.d(t,{default:function(){return ce}});var r=n(39504),a=n(20890),i=n(94721),s=n(10757),o=n(22020),c=n(76899),l=n(3992),u=n(53174),d=n(54483),h=n(72456),f=n(61889),p=n(24518),v=n(72791),g=n(71310),x=n(3397),m=n(1413),Z=n(29439),j="Genshin Optimizer";var y=n(3608);function w(e){var t=new Map,n=e.entries.filter((function(e){return(0,Z.Z)(e,1)[0].startsWith("artifact_")})).map((function(e,n){var r=(0,Z.Z)(e,2),a=r[0],i=r[1];return t.set(a,n),JSON.parse(i)}));return{format:"GOOD",dbVersion:y.U,source:j,version:1,characters:e.entries.filter((function(e){return(0,Z.Z)(e,1)[0].startsWith("char_")})).map((function(e){var t=(0,Z.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),artifacts:n,weapons:e.entries.filter((function(e){return(0,Z.Z)(e,1)[0].startsWith("weapon_")})).map((function(e){var t=(0,Z.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),states:e.entries.filter((function(e){return(0,Z.Z)(e,1)[0].startsWith("state_")})).map((function(e){var t=(0,Z.Z)(e,2),n=t[0],r=t[1];return(0,m.Z)((0,m.Z)({},JSON.parse(r)),{},{key:n.split("state_")[1]})})),buildSettings:e.entries.filter((function(e){return(0,Z.Z)(e,1)[0].startsWith("buildSetting_")})).map((function(e){var n=(0,Z.Z)(e,2),r=n[0],a=n[1],i=(0,m.Z)((0,m.Z)({},JSON.parse(a)),{},{key:r.split("buildSetting_")[1]});return i.builds=i.builds.map((function(e){return e.map((function(e){return t.has(e)?"artifact_".concat(t.get(e)):""})).filter((function(e){return e}))})),i}))}}var b=n(80184);function k(){var e=(0,v.useContext)(x.t),t=e.database,n=e.setDatabase,s=(0,o.$)(["settings"]).t,l=t.chars.keys.length,m=t.arts.values.length,Z=t.weapons.values.length,j=Boolean(l||m),y=(0,v.useCallback)((function(){t.storage.clear(),n(new x.M(t.storage))}),[t,n]),k=(0,v.useCallback)((function(){return navigator.clipboard.writeText(JSON.stringify(w(t.storage))).then((function(){return alert("Copied database to clipboard.")})).catch(console.error)}),[t]),S=(0,v.useCallback)((function(){var e=(new Date).toISOString().split(".")[0].replace("T","_").replaceAll(":","-"),n=JSON.stringify(w(t.storage)),r="go-data_".concat(e,".json"),a=document.createElement("a");a.download=r,a.href="data:".concat("application/json;charset=utf-8",",").concat(encodeURIComponent(n)),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}),[t]);return(0,b.jsxs)(g.Z,{children:[(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsx)(a.Z,{variant:"subtitle1",children:(0,b.jsx)(c.c,{t:s,i18nKey:"downloadCard.databaseDownload"})})}),(0,b.jsx)(i.Z,{}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(f.ZP,{container:!0,mb:2,spacing:2,children:[(0,b.jsx)(f.ZP,{item:!0,xs:6,md:4,children:(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(c.c,{t:s,i18nKey:"count.chars"})," ",l]})}),(0,b.jsx)(f.ZP,{item:!0,xs:6,md:4,children:(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(c.c,{t:s,i18nKey:"count.arts"})," ",m]})}),(0,b.jsx)(f.ZP,{item:!0,xs:6,md:4,children:(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(c.c,{t:s,i18nKey:"count.weapons"})," ",Z]})})]})}),(0,b.jsx)(i.Z,{}),(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,b.jsx)(f.ZP,{item:!0,children:(0,b.jsx)(p.Z,{disabled:!j,onClick:S,startIcon:(0,b.jsx)(h.Z,{}),children:(0,b.jsx)(c.c,{t:s,i18nKey:"downloadCard.button.download"})})}),(0,b.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,b.jsx)(p.Z,{disabled:!j,color:"info",onClick:k,startIcon:(0,b.jsx)(d.G,{icon:u.Yjj}),children:(0,b.jsx)(c.c,{t:s,i18nKey:"downloadCard.button.copy"})})}),(0,b.jsx)(f.ZP,{item:!0,children:(0,b.jsx)(p.Z,{disabled:!j,color:"error",onClick:y,startIcon:(0,b.jsx)(d.G,{icon:u.I7k}),children:(0,b.jsx)(c.c,{t:s,i18nKey:"downloadCard.button.delete"})})})]})})]})}var S=n(23786),_=n(33890),C=n(25617),O=n(72828);function P(){var e=(0,o.$)().t;return(0,b.jsxs)(g.Z,{children:[(0,b.jsxs)(r.Z,{sx:{py:1},children:[e("settings:languageCard.selectLanguage")," ",(0,b.jsx)(C.Z,{color:"warning",children:e("ui:underConstruction")})]}),(0,b.jsx)(i.Z,{}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(M,{})})]})}var D={chs:"\u4e2d\u6587 \u6b63\u4f53\u5b57",cht:"\u4e2d\u6587 \u7e41\u9ad4\u5b57",de:"Deutsch",en:"English",es:"espa\xf1ol",fr:"fran\xe7ais",id:"Bahasa Indonesia",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4",pt:"Portugu\xeas",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",vi:"Ti\u1ebfng Vi\u1ec7t"};function M(){var e=(0,o.$)(["ui","settings"]),t=e.t,n=e.i18n,r=function(e){return function(){return n.changeLanguage(e)}},a=n.languages[0];return(0,b.jsx)(_.Z,{fullWidth:!0,title:t("settings:languageCard.languageFormat",{language:t("languages:".concat(a))}),children:O.C.map((function(e){return(0,b.jsxs)(S.Z,{selected:a===e,disabled:a===e,onClick:r(e),children:[(0,b.jsx)(c.c,{i18nKey:"languages:".concat(e)}),e!==a?" (".concat(D[e],")"):""]},e)}))})}var B=n(72247),K=n(9912),W=n(20323),F=n(17278);function G(){var e=(0,F.Z)("GlobalSettings",W.c),t=(0,Z.Z)(e,2),n=t[0].tcMode,i=t[1];return(0,b.jsx)(g.Z,{children:(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(a.Z,{gutterBottom:!0,color:"warning.main",children:"Enabling this toggle will show some features that might be too complex for the average user."}),(0,b.jsx)(p.Z,{fullWidth:!0,onClick:function(){return i({tcMode:!n})},color:n?"success":"primary",startIcon:n?(0,b.jsx)(B.Z,{}):(0,b.jsx)(K.Z,{}),children:"Theorycrafting Mode"})]})})}var T=n(74165),E=n(15861),I=(0,n(76189).Z)((0,b.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload"),H=n(66934),z=n(68870),N=n(45987),V=n(23741),J=n(93433),R=n(37762);var $=n(45748),A=["key"],L=["key"];function U(e,t){if(1===e.version)return function(e,t){var n=function(e){var t=e.source,n=new V.N,r={type:"GOOD",storage:n,source:t};if(e.artifacts){r.artifacts={total:0,invalid:[],new:[],updated:[],unchanged:[],removed:[]};var a=r.artifacts;a.total=e.artifacts.length,e.artifacts.forEach((function(e,t){(0,$.R$)(e)?n.set("artifact_".concat(t),e):a.invalid.push(e)}))}if(e.weapons){r.weapons={total:0,invalid:[],new:[],updated:[],unchanged:[],removed:[]};var i=r.weapons;i.total=e.weapons.length,e.weapons.forEach((function(e,t){var r=(0,$.S0)(e);return r?n.set("weapon_".concat(t),e):i.invalid.push(e),r?[r]:[]})),r.weapons=i}if(e.characters){r.characters={total:0,invalid:[],new:[],updated:[],unchanged:[],removed:[]};var s=r.characters;s.total=e.characters.length,e.characters.forEach((function(e){(0,$.J0)(e)||s.invalid.push(e),e.buildSettings&&(e.buildSettings.builds=[],e.buildSettings.buildDate=0),n.set("char_".concat(e.key),e)}))}if(t===j){var o=e,c=o.dbVersion,l=o.states,u=o.buildSettings;if(c<8)return;n.setDBVersion(c),l&&l.forEach((function(e){var t=e,r=t.key,a=(0,N.Z)(t,A);r&&n.set("state_".concat(r),a)})),u&&u.forEach((function(e){var t=e,r=t.key,a=(0,N.Z)(t,L);r&&n.set("buildSetting_".concat(r),a)}))}else n.setDBVersion(8);return r}(e);if(!n)return;return(0,y.T)(n.storage),function(e,t){var n=e.artifacts,r=e.weapons,a=e.characters,i=e.storage;if(n?function(){var e,r=i.entries.filter((function(e){return(0,Z.Z)(e,1)[0].startsWith("artifact_")})).map((function(e){var t=(0,Z.Z)(e,2),n=t[0],r=t[1];return[n,JSON.parse(r)]})),a=new Set(t.arts.values.map((function(e){return e.id}))),s=r.some((function(e){return e[1].location})),o=(0,R.Z)(r);try{for(o.s();!(e=o.n()).done;){var c,l=(0,Z.Z)(e.value,2),u=l[0],d=l[1],h=t.arts.findDups(d),f=h.duplicated,p=h.upgraded;f=f.filter((function(e){return a.has(e.id)})),p=p.filter((function(e){return a.has(e.id)}));var v=null!==(c=f[0])&&void 0!==c?c:p[0];if(v){for(var g in a.delete(v.id),v)g in d||"location"===g||(d[g]=v[g]);s||(d.location=v.location)}f.length?n.unchanged.push(d):p.length?n.updated.push(d):n.new.push(d),i.set(u,d)}}catch(x){o.e(x)}finally{o.f()}n.removed=(0,J.Z)(a).map((function(e){return t.arts.get(e)}))}():t.arts.values.forEach((function(e,t){return i.set("artifact_".concat(t),e)})),r?function(){var e,n=i.entries.filter((function(e){return(0,Z.Z)(e,1)[0].startsWith("weapon_")})).map((function(e){var t=(0,Z.Z)(e,2),n=t[0],r=t[1];return[n,JSON.parse(r)]})),a=new Set(t.weapons.values.map((function(e){return e.id}))),s=n.some((function(e){return e[1].location})),o=(0,R.Z)(n);try{for(o.s();!(e=o.n()).done;){var c,l=(0,Z.Z)(e.value,2),u=l[0],d=l[1],h=t.weapons.findDup(d),f=h.duplicated,p=h.upgraded;f=f.filter((function(e){return a.has(e.id)})),p=p.filter((function(e){return a.has(e.id)}));var v=null!==(c=f[0])&&void 0!==c?c:p[0];if(v){for(var g in a.delete(v.id),v)g in d||"location"===g||(d[g]=v[g]);s||(d.location=v.location)}f.length?r.unchanged.push(d):p.length?r.updated.push(d):r.new.push(d),i.set(u,d)}}catch(x){o.e(x)}finally{o.f()}r.removed=(0,J.Z)(a).map((function(e){return t.weapons.get(e)}))}():t.weapons.values.forEach((function(e,t){return i.set("weapon_".concat(t),e)})),a){var s=i.entries.filter((function(e){return(0,Z.Z)(e,1)[0].startsWith("char_")})).map((function(e){var t=(0,Z.Z)(e,2),n=t[0],r=t[1];return[n.slice(5),JSON.parse(r)]})),o=new Set(s.map((function(e){return(0,Z.Z)(e,1)[0]}))),c=new Set(t.chars.keys);a.updated=[],a.new=[];var l,u=s.some((function(e){var t=(0,Z.Z)(e,2);return t[0],t[1].team.some((function(e){return e}))})),d=(0,R.Z)(s);try{for(d.s();!(l=d.n()).done;){var h=(0,Z.Z)(l.value,2),f=h[0],p=h[1],v=t.chars.get(f);if(v){for(var g in a.updated.push(p),v)g in p||(p[g]=v[g]);u||(p.team=v.team),i.set("char_".concat(f),p)}else a.new.push(p)}}catch(w){d.e(w)}finally{d.f()}a.removed=(0,J.Z)(c).filter((function(e){var t=(0,Z.Z)(e,1)[0];return o.has(t)})).map((function(e){return t.chars.get(e)})),a.unchanged=[]}else t.chars.keys.forEach((function(e){return i.set("char_".concat(e),t.chars.get(e))}));var x,m=new Set(i.keys),j=(0,R.Z)(t.storage.keys);try{for(j.s();!(x=j.n()).done;){var y=x.value;m.has(y)||y.startsWith("artifact_")||y.startsWith("weapon_")||y.startsWith("char_")||i.setString(y,t.storage.getString(y))}}catch(w){j.e(w)}finally{j.f()}}(n,t),n}(e,t)}var Y={1:function(e){var t=[];for(var n in e)if(n in q){var r,a=(0,R.Z)(e[n]);try{for(a.s();!(r=a.n()).done;){var i=r.value,s=i.setName,o=i.star,c=i.level,l=i.position,u=i.mainTag,d={setKey:Q[s],rarity:o,level:c,slotKey:q[l],mainStatKey:X[u.name],substats:i.normalTags.map((function(e){var t=e.name,n=e.value,r=ee[t];return{key:r,value:null!==r&&void 0!==r&&r.endsWith("_")?Math.round(1e3*n)/10:n}}))};t.push(d)}}catch(h){a.e(h)}finally{a.f()}}return{artifacts:t}}};var q={flower:"flower",feather:"plume",sand:"sands",cup:"goblet",head:"circlet"},Q={adventurer:"Adventurer",archaicPetra:"ArchaicPetra",berserker:"Berserker",blizzardStrayer:"BlizzardStrayer",bloodstainedChivalry:"BloodstainedChivalry",braveHeart:"BraveHeart",crimsonWitch:"CrimsonWitchOfFlames",defenderWill:"DefendersWill",gambler:"Gambler",gladiatorFinale:"GladiatorsFinale",heartOfDepth:"HeartOfDepth",instructor:"Instructor",lavaWalker:"Lavawalker",luckyDog:"LuckyDog",maidenBeloved:"MaidenBeloved",martialArtist:"MartialArtist",noblesseOblige:"NoblesseOblige",prayersForDestiny:"PrayersForDestiny",prayersForIllumination:"PrayersForIllumination",prayersForWisdom:"PrayersForWisdom",prayersToSpringtime:"PrayersToSpringtime",resolutionOfSojourner:"ResolutionOfSojourner",retracingBolide:"RetracingBolide",scholar:"Scholar",exile:"TheExile",thunderingFury:"ThunderingFury",thunderSmoother:"Thundersoother",tinyMiracle:"TinyMiracle",travelingDoctor:"TravelingDoctor",viridescentVenerer:"ViridescentVenerer",wandererTroupe:"WanderersTroupe",tenacityOfTheMillelith:"TenacityOfTheMillelith",paleFlame:"PaleFlame",emblemOfSeveredFate:"EmblemOfSeveredFate",shimenawaReminiscence:"ShimenawasReminiscence",huskOfOpulentDreams:"HuskOfOpulentDreams",oceanHuedClam:"OceanHuedClam",EchoesOfAnOffering:"EchoesOfAnOffering",VermillionHereafter:"VermillionHereafter"},X={cureEffect:"heal_",lifeStatic:"hp",lifePercentage:"hp_",attackStatic:"atk",attackPercentage:"atk_",defendPercentage:"def_",critical:"critRate_",criticalDamage:"critDMG_",elementalMastery:"eleMas",recharge:"enerRech_",thunderBonus:"electro_dmg_",fireBonus:"pyro_dmg_",waterBonus:"hydro_dmg_",iceBonus:"cryo_dmg_",windBonus:"anemo_dmg_",rockBonus:"geo_dmg_",physicalBonus:"physical_dmg_"},ee={lifeStatic:"hp",lifePercentage:"hp_",attackStatic:"atk",attackPercentage:"atk_",defendStatic:"def",defendPercentage:"def_",critical:"critRate_",criticalDamage:"critDMG_",elementalMastery:"eleMas",recharge:"enerRech_"},te=(0,H.ZP)("input")({display:"none"});function ne(){var e,t=(0,v.useContext)(x.t).database,n=(0,o.$)("settings").t,i=(0,v.useState)(""),s=(0,Z.Z)(i,2),h=s[0],m=s[1],j=(0,v.useState)(""),y=(0,Z.Z)(j,2),w=y[0],k=y[1],S=(0,v.useState)(""),_=(0,Z.Z)(S,2),C=_[0],O=_[1],P=(0,v.useMemo)((function(){if(h){var e;try{if("object"!==typeof(e=JSON.parse(h)))return void O("uploadCard.error.jsonParse")}catch(a){return void O("uploadCard.error.jsonParse")}if("1"===e.version&&["flower","feather","sand","cup","head"].some((function(t){return Object.keys(e).includes(t)}))){var n=function(e,t){var n,r,a=null!==(n=e.version)&&void 0!==n?n:"1",i=null===(r=Y[a])||void 0===r?void 0:r.call(Y,e);if(i)return U({format:"GOOD",source:"mona-uranai",version:1,artifacts:i.artifacts},t)}(e,t);return n||void O("uploadCard.error.monaInvalid")}if("GOOD"===e.format){var r=U(e,t);return r||void O("uploadCard.error.goInvalid")}O("uploadCard.error.unknown")}}),[h,t]),D=function(){var e=(0,E.Z)((0,T.Z)().mark((function e(t){var n,r;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],t.target.value=null,n&&k(n.name),(r=new FileReader).onload=function(){return m(r.result)},r.readAsText(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,b.jsxs)(g.Z,{children:[(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsx)(c.c,{t:n,i18nKey:"settings:uploadCard.title"})}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(f.ZP,{container:!0,spacing:2,sx:{mb:1},children:[(0,b.jsx)(f.ZP,{item:!0,children:(0,b.jsxs)("label",{htmlFor:"icon-button-file",children:[(0,b.jsx)(te,{accept:".json",id:"icon-button-file",type:"file",onChange:D}),(0,b.jsx)(p.Z,{component:"span",startIcon:(0,b.jsx)(I,{}),children:"Upload"})]})}),(0,b.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,b.jsx)(l.Z,{sx:{px:2,py:1},children:(0,b.jsx)(a.Z,{children:w?(0,b.jsxs)("span",{children:[(0,b.jsx)(d.G,{icon:u.w49})," ",w]}):(0,b.jsxs)("span",{children:[(0,b.jsx)(d.G,{icon:u.acZ})," ",(0,b.jsx)(c.c,{t:n,i18nKey:"settings:uploadCard.hint"})]})})})})]}),(0,b.jsx)(a.Z,{gutterBottom:!0,variant:"caption",children:(0,b.jsx)(c.c,{t:n,i18nKey:"settings:uploadCard.hintPaste"})}),(0,b.jsx)(z.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",mb:2,resize:"vertical"},value:h,onChange:function(e){return m(e.target.value)}}),null!==(e=re(P))&&void 0!==e?e:C]}),ae(P,(function(){m(""),k("")}))]})}function re(e){if("GOOD"===(null===e||void 0===e?void 0:e.type))return(0,b.jsx)(ie,{data:e})}function ae(e,t){if("GOOD"===(null===e||void 0===e?void 0:e.type))return(0,b.jsx)(oe,{data:e,reset:t})}function ie(e){var t=e.data,n=t.source,s=t.artifacts,u=t.characters,d=t.weapons,h=(e.data,(0,o.$)("settings").t);return(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(c.c,{t:h,i18nKey:"uploadCard.dbSource"}),(0,b.jsxs)("strong",{children:[" ",n]})]})}),(0,b.jsx)(i.Z,{}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,b.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,b.jsx)(se,{result:s,type:"arts"})}),(0,b.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,b.jsx)(se,{result:d,type:"weapons"})}),(0,b.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,b.jsx)(se,{result:u,type:"chars"})})]})})]})}function se(e){var t,n,s=e.result,l=e.type,u=(0,o.$)("settings").t;return s?(0,b.jsxs)(g.Z,{children:[(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(c.c,{t:u,i18nKey:"count.".concat(l)})," ",null!==(t=s.total)&&void 0!==t?t:0]})}),(0,b.jsx)(i.Z,{}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(c.c,{t:u,i18nKey:"count.new"})," ",(0,b.jsx)("strong",{children:s.new.length})," / ",s.total]}),(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(c.c,{t:u,i18nKey:"count.updated"})," ",(0,b.jsx)("strong",{children:s.updated.length})," / ",s.total]}),(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(c.c,{t:u,i18nKey:"count.unchanged"})," ",(0,b.jsx)("strong",{children:s.unchanged.length})," / ",s.total]}),(0,b.jsxs)(a.Z,{color:"warning.main",children:[(0,b.jsx)(c.c,{t:u,i18nKey:"count.removed"})," ",(0,b.jsx)("strong",{children:s.removed.length})]}),!(null===(n=s.invalid)||void 0===n||!n.length)&&(0,b.jsxs)("div",{children:[(0,b.jsxs)(a.Z,{color:"error.main",children:[(0,b.jsx)(c.c,{t:u,i18nKey:"count.invalid"})," ",(0,b.jsx)("strong",{children:s.invalid.length})," / ",s.total]}),(0,b.jsx)(z.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",resize:"vertical"},value:JSON.stringify(s.invalid,void 0,2),disabled:!0})]})]})]}):null}function oe(e){var t,n,a,s=e.data.storage,l=e.data,h=e.reset,f=(0,v.useContext)(x.t),g=f.database,m=f.setDatabase,Z=(0,o.$)("settings").t,j=(null===(t=l.characters)||void 0===t?void 0:t.total)||(null===(n=l.artifacts)||void 0===n?void 0:n.total)||(null===(a=l.weapons)||void 0===a?void 0:a.total);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Z,{}),(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsx)(p.Z,{color:j?"success":"error",disabled:!j,onClick:function(){g.storage.clear(),g.storage.copyFrom(s),m(new x.M(g.storage)),h()},startIcon:(0,b.jsx)(d.G,{icon:u.Y9i}),children:(0,b.jsx)(c.c,{t:Z,i18nKey:"settings:uploadCard.replaceDatabase"})})})]})}function ce(){var e=(0,o.$)(["settings"]).t;return s.ZP.send({hitType:"pageview",page:"/setting"}),(0,b.jsxs)(l.Z,{sx:{my:1},children:[(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsx)(a.Z,{variant:"subtitle1",children:(0,b.jsx)(c.c,{t:e,i18nKey:"title"})})}),(0,b.jsx)(i.Z,{}),(0,b.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,b.jsx)(P,{}),(0,b.jsx)(k,{}),(0,b.jsx)(ne,{}),(0,b.jsx)(G,{})]})]})}},17278:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(29439),a=n(72791),i=n(3397);function s(e,t){var n=(0,a.useContext)(i.t).database,s=(0,a.useState)(n.states.getWithInit(e,t)),o=(0,r.Z)(s,2),c=o[0],l=o[1];(0,a.useEffect)((function(){return e?n.states.follow(e,l):void 0}),[e,l,n]);var u=(0,a.useCallback)((function(t){return n.states.set(e,t)}),[n,e]);return[null!==c&&void 0!==c?c:t(),u]}},72247:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},9912:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},72456:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},15861:function(e,t,n){function r(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function o(e){r(s,a,i,o,c,"next",e)}function c(e){r(s,a,i,o,c,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=916.5f4c01ad.chunk.js.map