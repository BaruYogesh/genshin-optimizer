"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[744],{70415:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(74165),c=t(15861),i=t(29439),s=t(53174),a=t(54483),o=t(76189),l=t(80184),h=(0,o.Z)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),u=t(45781),x=t(19701),d=t(35893),f=t(66630),Z=t(68870),m=t(39504),j=t(61889),p=t(58165),v=t(57246),g=t(47047),y=t(20890),C=t(24518),w=t(94721),z=t(13400),P=t(30178),b=t(72791),k=t(10757),L=t(22020),T=t(76899),M=t(16871),H=t(96106),K=t(3992),S=t(30865),V=t(3082),_=t(59215),N=t(48510),D=t(73578),F=t(947),I=t(56928),G=t(53561),A=t(17278),R=t(68544),q=t(70645),B=t(42320),E=t(50921),U=t(46956),$=t(60393),J={xs:1,sm:2,md:3,lg:4,xl:4},O={xs:3,sm:3,md:5,lg:7,xl:7};function Q(){return{sortType:E.vV[0],ascending:!1,weaponType:"",element:""}}function W(e){var n=(0,L.$)("page_character").t,t=(0,b.useContext)(I.t).database,o=(0,A.Z)("CharacterDisplay",Q),W=(0,i.Z)(o,2),Y=W[0],ee=W[1],ne=(0,b.useState)(""),te=(0,i.Z)(ne,2),re=te[0],ce=te[1],ie=(0,b.useDeferredValue)(re),se=(0,b.useState)(0),ae=(0,i.Z)(se,2),oe=ae[0],le=ae[1],he=(0,b.useRef)(null),ue=(0,b.useCallback)((function(e,n){var t;null===(t=he.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}),le(n-1)}),[le,he]),xe=(0,q.Z)(),de=O[xe],fe=(0,b.useState)(!1),Ze=(0,i.Z)(fe,2),me=Ze[0],je=Ze[1],pe=(0,R.Z)(),ve=(0,i.Z)(pe,2),ge=ve[0],ye=ve[1];(0,b.useEffect)((function(){return k.ZP.send({hitType:"pageview",page:"/characters"}),t.followAnyChar(ye)}),[ye,t]);var Ce=(0,B.Z)(F.Z.getAll,[]),we=(0,b.useCallback)(function(){var e=(0,c.Z)((0,r.Z)().mark((function e(c){var i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.Z.get(c);case 2:if(i=e.sent,"object"===typeof(s=null===i||void 0===i?void 0:i.name)&&(s=P.ZP.t("char_".concat(c,"_gen:name"))),window.confirm(n("removeCharacter",{value:s}))){e.next=7;break}return e.abrupt("return");case 7:t.removeChar(c);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,n]),ze=(0,G.Z)(),Pe=(0,M.s0)(),be=Y.element,ke=Y.weaponType,Le=(0,b.useMemo)((function(){return Ce&&(0,E._L)(t,Ce)}),[t,Ce]),Te=(0,b.useMemo)((function(){return Ce&&(0,E.zU)(t,Ce)}),[t,Ce]),Me=(0,b.useMemo)((function(){var e=t._getCharKeys().length;if(!Le||!Te)return{charKeyList:[],totalCharNum:e};var n=t._getCharKeys().filter((0,U.C)({element:be,weaponType:ke,favorite:"yes",name:ie},Te)).sort((0,U.e)(Y.sortType,Y.ascending,Le)).concat(t._getCharKeys().filter((0,U.C)({element:be,weaponType:ke,favorite:"no",name:ie},Te)).sort((0,U.e)(Y.sortType,Y.ascending,Le)));return ge&&{charKeyList:n,totalCharNum:e}}),[ge,t,Le,Y.sortType,Y.ascending,be,Te,ke,ie]),He=Me.charKeyList,Ke=Me.totalCharNum,Se=(0,b.useMemo)((function(){var e=Math.ceil(He.length/de),n=(0,$.uZ)(oe,0,e-1);return{charKeyListToShow:He.slice(n*de,(n+1)*de),numPages:e,currentPageIndex:n}}),[He,oe,de]),Ve=Se.charKeyListToShow,_e=Se.numPages,Ne=Se.currentPageIndex,De=He.length!==Ke?"".concat(He.length,"/").concat(Ke):"".concat(Ke);return(0,l.jsxs)(Z.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,l.jsx)(K.Z,{ref:he,children:(0,l.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,l.jsxs)(j.ZP,{container:!0,spacing:1,children:[(0,l.jsx)(j.ZP,{item:!0,children:(0,l.jsx)(D.Z,{sx:{height:"100%"},onChange:function(e){return ee({weaponType:e})},value:Y.weaponType,size:"small"})}),(0,l.jsx)(j.ZP,{item:!0,children:(0,l.jsx)(N.Z,{sx:{height:"100%"},onChange:function(e){return ee({element:e})},value:Y.element,size:"small"})}),(0,l.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,l.jsx)(p.Z,{autoFocus:!0,value:re,onChange:function(e){return ce(e.target.value)},label:n("characterName")})}),(0,l.jsx)(j.ZP,{item:!0,children:(0,l.jsx)(_.Z,{sx:{height:"100%"},sortKeys:E.vV,value:Y.sortType,onChange:function(e){return ee({sortType:e})},ascending:Y.ascending,onChangeAsc:function(e){return ee({ascending:e})}})})]}),(0,l.jsxs)(j.ZP,{container:!0,alignItems:"flex-end",children:[(0,l.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,l.jsx)(v.Z,{count:_e,page:Ne+1,onChange:ue})}),(0,l.jsx)(j.ZP,{item:!0,children:(0,l.jsx)(X,{numShowing:Ve.length,total:De,t:n})})]})]})}),(0,l.jsx)(b.Suspense,{fallback:(0,l.jsx)(g.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,l.jsxs)(j.ZP,{container:!0,spacing:1,columns:J,children:[(0,l.jsx)(j.ZP,{item:!0,xs:1,children:(0,l.jsxs)(K.Z,{sx:{height:"100%",minHeight:400,width:"100%",display:"flex",flexDirection:"column"},children:[(0,l.jsx)(m.Z,{children:(0,l.jsx)(y.Z,{sx:{textAlign:"center"},children:(0,l.jsx)(T.c,{t:n,i18nKey:"addNew"})})}),(0,l.jsx)(V.w,{newFirst:!0,show:me,onHide:function(){return je(!1)},onSelect:ze}),(0,l.jsx)(Z.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(C.Z,{onClick:function(){return je(!0)},color:"info",sx:{borderRadius:"1em"},children:(0,l.jsx)(y.Z,{variant:"h1",children:(0,l.jsx)(a.G,{icon:s.r8p,className:"fa-fw"})})})})]})}),Ve.map((function(e){return(0,l.jsx)(j.ZP,{item:!0,xs:1,children:(0,l.jsx)(S.Z,{characterKey:e,onClick:function(){return Pe("".concat(e))},footer:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(w.Z,{}),(0,l.jsxs)(Z.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:[(0,l.jsx)(H.Z,{placement:"top",title:(0,l.jsx)(y.Z,{children:n("tabs.talent")}),children:(0,l.jsx)(z.Z,{onClick:function(){return Pe("".concat(e,"/talent"))},children:(0,l.jsx)(u.Z,{})})}),(0,l.jsx)(H.Z,{placement:"top",title:(0,l.jsx)(y.Z,{children:n("tabs.equip")}),children:(0,l.jsx)(z.Z,{onClick:function(){return Pe("".concat(e,"/equip"))},children:(0,l.jsx)(x.Z,{})})}),(0,l.jsx)(H.Z,{placement:"top",title:(0,l.jsx)(y.Z,{children:n("tabs.teambuffs")}),children:(0,l.jsx)(z.Z,{onClick:function(){return Pe("".concat(e,"/teambuffs"))},children:(0,l.jsx)(d.Z,{})})}),(0,l.jsx)(H.Z,{placement:"top",title:(0,l.jsx)(y.Z,{children:n("tabs.optimize")}),children:(0,l.jsx)(z.Z,{onClick:function(){return Pe("".concat(e,"/optimize"))},children:(0,l.jsx)(f.Z,{})})}),(0,l.jsx)(w.Z,{orientation:"vertical"}),(0,l.jsx)(H.Z,{placement:"top",title:(0,l.jsx)(y.Z,{children:n("delete")}),children:(0,l.jsx)(z.Z,{color:"error",onClick:function(){return we(e)},children:(0,l.jsx)(h,{})})})]})]})})},e)}))]})}),_e>1&&(0,l.jsx)(K.Z,{children:(0,l.jsx)(m.Z,{children:(0,l.jsxs)(j.ZP,{container:!0,alignItems:"flex-end",children:[(0,l.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,l.jsx)(v.Z,{count:_e,page:Ne+1,onChange:ue})}),(0,l.jsx)(j.ZP,{item:!0,children:(0,l.jsx)(X,{numShowing:Ve.length,total:De,t:n})})]})})})]})}function X(e){var n=e.numShowing,t=e.total,r=e.t;return(0,l.jsx)(y.Z,{color:"text.secondary",children:(0,l.jsxs)(T.c,{t:r,i18nKey:"showingNum",count:n,value:t,children:["Showing ",(0,l.jsx)("b",{children:{count:n}})," out of ",{value:t}," Characters"]})})}},66630:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41-1.41-1.42zm-6.78.66h5v1.5h-5v-1.5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16zm6.5 1.25h-5v-1.5h5v1.5zm0-2.5h-5v-1.5h5v1.5z"}),"Calculate")},19701:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM6 18l6-4.5 6 4.5H6z"}),"Checkroom")},45781:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck")},90690:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder")},15861:function(e,n,t){function r(e,n,t,r,c,i,s){try{var a=e[i](s),o=a.value}catch(l){return void t(l)}a.done?n(o):Promise.resolve(o).then(r,c)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(c,i){var s=e.apply(n,t);function a(e){r(s,c,i,a,o,"next",e)}function o(e){r(s,c,i,a,o,"throw",e)}a(void 0)}))}}t.d(n,{Z:function(){return c}})}}]);
//# sourceMappingURL=744.933172f4.chunk.js.map