(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[15,19,23],{210:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,r=n(106),c=n(25),i=n(10),o=n(187),s=n(120),l=n(123),u=n(86),d=n(208),f=n(1);function v(e){var t=e.location,n=e.onEquip,v=e.weaponTypeKey,h=e.disableUnequip,b=void 0!==h&&h,j=e.editable,O=void 0!==j&&j,p=Object(s.a)(["artifact"]).t,m=Object(u.b)(l.b.get(t),[t]),y=(null===m||void 0===m?void 0:m.name)?m.nameWIthIcon:Object(f.jsxs)("span",{children:[Object(f.jsx)(i.a,{icon:c.c})," ",p(a||(a=Object(r.a)(["filterLocation.inventory"])))]});return O?Object(f.jsxs)(o.a,{children:[Object(f.jsx)(o.a.Toggle,{className:"text-left",children:y}),Object(f.jsxs)(o.a.Menu,{children:[!b&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(o.a.Item,{onClick:function(){},children:[Object(f.jsx)(i.a,{icon:c.c})," Inventory"]}),Object(f.jsx)(o.a.Divider,{})]}),Object(f.jsx)(d.b,{onSelect:n,weaponTypeKey:v})]})]}):y}},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(4),r=n(189),c=n(71),i=n(14),o=n(1);function s(e,t){var n=t.characterSheet,c=t.weaponSheet,i=t.artifactSheets,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"anemo";if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var l,u,d=e.split("talentKey_")[1];return null!==(l=null===n||void 0===n||null===(u=n.getTalentOfKey(d,s))||void 0===u?void 0:u.name)&&void 0!==l?l:d}if(e.startsWith("weapon_")){var f,v=e.split("weapon_")[1];return null!==(f=null===c||void 0===c?void 0:c.name)&&void 0!==f?f:v}if(e.startsWith("artifact_")){var h,b=e.split("_"),j=Object(a.a)(b,3),O=j[1],p=j[2];return Object(o.jsxs)("span",{children:[null===(h=i[O])||void 0===h?void 0:h.name," ",Object(o.jsxs)(r.a,{variant:"success",children:[p,"-Set"]})]})}return""}function l(e){return{key:e,level:1,ascension:0,hitMode:"avgHit",reactionMode:null,equippedArtifacts:Object.fromEntries(i.h.map((function(e){return[e,""]}))),equippedWeapon:"",conditionalValues:{},baseStatOverrides:{},buildSettings:Object(c.a)(),talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0}}},216:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(4),r=n(25),c=n(10),i=n(0),o=n(188),s=n(143),l=n(127),u=n(72),d=n(126),f=n(207),v=n(210),h=n(206),b=n(124),j=n(35),O=n(34),p=n(86),m=n(121),y=n(1);function x(e){var t,n=e.weaponId,x=e.onEdit,g=e.onDelete,w=e.onClick,k=e.cardClassName,S=void 0===k?"":k,C=e.bg,_=void 0===C?"":C,N=e.footer,K=void 0!==N&&N,E=e.editable,L=void 0!==E&&E,T=Object(i.useContext)(j.b),A=Object(i.useState)(void 0),R=Object(a.a)(A,2),V=R[0],M=R[1];Object(i.useEffect)((function(){return n?T.followWeapon(n,M):void 0}),[n,M,T]);var I=V,W=Object(p.b)((null===I||void 0===I?void 0:I.key)&&m.a.get(I.key),[null===I||void 0===I?void 0:I.key]);if(!I||!W)return null;var U=I.level,B=I.ascension,H=I.refine,z=(I.id,W.weaponType),D=W.getMainStatValue(U,B).toFixed(O.b.fixedUnit("atk")),q=W.getSubStatKey(),P=W.getSubStatValue(U,B).toFixed(O.b.fixedUnit(q)),F=m.a.getLevelString(I),G=[["weaponATK",D]];return(null===W||void 0===W?void 0:W.passiveName)&&G.push([q,P]),Object(y.jsxs)(o.a,{className:S,bg:_||"darkcontent",text:"lightfont",children:[Object(y.jsxs)(o.a.Header,{children:[Object(y.jsx)(s.a,{src:null===(t=f.a.weaponTypes)||void 0===t?void 0:t[z],className:"inline-icon"})," ",Object(y.jsx)("h5",{className:"d-inline",children:W.name})]}),Object(y.jsxs)(o.a.Body,{onClick:function(){return null===w||void 0===w?void 0:w(n)},className:w?"cursor-pointer":"",children:[Object(y.jsxs)(l.a,{children:[Object(y.jsx)(u.a,{xs:"auto",className:"pr-0",children:Object(y.jsx)(s.a,{src:W.img,className:"thumb-big grad-".concat(W.rarity,"star p-0"),thumbnail:!0})}),Object(y.jsxs)(u.a,{children:[Object(y.jsxs)("h5",{className:"mb-0",children:["Level ",F," "]}),Object(y.jsxs)("h5",{children:["Refinement ",H]}),Object(y.jsx)("h6",{className:"mb-0",children:Object(y.jsx)(h.a,{stars:W.rarity,colored:!0})})]})]}),Object(y.jsx)(l.a,{children:G.map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1],c=O.b.getStatUnit(n);return Object(y.jsxs)(u.a,{xs:12,children:[Object(y.jsxs)("h6",{className:"d-inline",children:[b.a[n]," ",O.b.getStatName(n)]}),Object(y.jsx)("span",{className:"float-right",children:r+c})]},n)}))}),!1]}),K&&Object(y.jsx)(o.a.Footer,{children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(u.a,{children:Object(y.jsx)(v.a,{location:null===I||void 0===I?void 0:I.location,onEquip:function(e){return T.setWeaponLocation(n,e)},weaponTypeKey:z,disableUnequip:!!I.location,editable:L})}),Object(y.jsx)(u.a,{xs:"auto",children:Object(y.jsxs)("span",{className:"float-right align-top ml-1",children:[x&&Object(y.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return x(n)},children:Object(y.jsx)(c.a,{icon:r.k})}),g&&Object(y.jsx)(d.a,{variant:"danger",size:"sm",disabled:!!I.location,onClick:function(){return g(n)},children:Object(y.jsx)(c.a,{icon:r.E})})]})})]})})]})}},217:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return w}));var a=n(20),r=n(4),c=n(25),i=n(10),o=n(0),s=n(544),l=n(188),u=n(127),d=n(72),f=n(223),v=n(126),h=n(143),b=n(207),j=n(206),O=n(14),p=n(86),m=n(121),y=n(1);function x(e,t){return t===e?"":t}function g(e){var t=e.show,n=e.onHide,g=e.onSelect,w=e.filter,k=void 0===w?function(){return!0}:w,S=Object(p.b)(m.a.getAll(),[]),C=Object(o.useReducer)(x,""),_=Object(r.a)(C,2),N=_[0],K=_[1],E=S?Object(a.a)(new Set(O.i)).filter((function(e){return k(S[e])})).filter((function(e){var t;return!N||N===(null===S||void 0===S||null===(t=S[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var n,a,r,c;return(null!==(n=null===S||void 0===S||null===(a=S[t])||void 0===a?void 0:a.rarity)&&void 0!==n?n:0)-(null!==(r=null===S||void 0===S||null===(c=S[e])||void 0===c?void 0:c.rarity)&&void 0!==r?r:0)})):[];return S?Object(y.jsx)(s.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:n,children:Object(y.jsxs)(l.a,{bg:"lightcontent",text:"lightfont",children:[Object(y.jsx)(l.a.Header,{children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)(f.a,{children:O.j.map((function(e){var t;return Object(y.jsx)(v.a,{variant:N&&N!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return K(e)},children:Object(y.jsx)("h3",{className:"mb-0",children:Object(y.jsx)(h.a,{src:null===(t=b.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(y.jsx)(d.a,{xs:"auto",children:Object(y.jsx)(v.a,{onClick:n,variant:"danger",children:Object(y.jsx)(i.a,{icon:c.B})})})]})}),Object(y.jsx)(l.a.Body,{children:Object(y.jsx)(u.a,{children:E.map((function(e){var t,a=S[e];return Object(y.jsx)(d.a,{lg:3,md:4,className:"mb-2",children:Object(y.jsx)(v.a,{className:"w-100 h-100 align-top",variant:"darkcontent",onClick:function(){n(),g(e)},children:Object(y.jsxs)(u.a,{className:"h-100",children:[Object(y.jsx)(d.a,{xs:"auto",className:"pr-0",children:Object(y.jsx)(h.a,{src:a.img,className:"thumb-big grad-".concat(a.rarity,"star p-0"),thumbnail:!0})}),Object(y.jsxs)(d.a,{children:[Object(y.jsxs)("h5",{className:"mb-0",children:[Object(y.jsx)(h.a,{src:null===(t=b.a.weaponTypes)||void 0===t?void 0:t[a.weaponType],className:"inline-icon"})," ",a.name]}),Object(y.jsx)("h6",{className:"mb-0",children:Object(y.jsx)(j.a,{stars:a.rarity,colored:!0})})]})]})})},e)}))})})]})}):null}function w(e){var t,n=e.weaponSheet,a=e.onSelect,c=e.filter,i=Object(o.useState)(!1),s=Object(r.a)(i,2),l=s[0],u=s[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v.a,{as:f.a,onClick:function(){return u(!0)},className:"text-nowrap",children:null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:"Select a Weapon"}),Object(y.jsx)(g,{show:l,onHide:function(){return u(!1)},onSelect:a,filter:c})]})}},547:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ce}));var a=n(4),r=n(191),c=n(2),i=n(5),o=n(0),s=n.n(o),l=n(6),u=n.n(l),d=n(147),f=n(60),v=n(23),h=n(8),b=n(137),j=s.a.createContext({onClose:function(){}}),O=["bsPrefix","closeLabel","closeButton","className","children"],p=s.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.closeLabel,r=e.closeButton,l=e.className,d=e.children,f=Object(i.a)(e,O);n=Object(h.a)(n,"toast-header");var p=Object(o.useContext)(j),m=Object(v.a)((function(e){p&&p.onClose&&p.onClose(e)}));return s.a.createElement("div",Object(c.a)({ref:t},f,{className:u()(n,l)}),d,r&&s.a.createElement(b.a,{label:a,onClick:m,className:"ml-2 mb-1","data-dismiss":"toast"}))}));p.displayName="ToastHeader",p.defaultProps={closeLabel:"Close",closeButton:!0};var m=p,y=n(21),x=Object(y.a)("toast-body"),g=["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"],w=s.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,r=e.children,l=e.transition,v=void 0===l?f.a:l,b=e.show,O=void 0===b||b,p=e.animation,m=void 0===p||p,y=e.delay,x=void 0===y?3e3:y,w=e.autohide,k=void 0!==w&&w,S=e.onClose,C=Object(i.a)(e,g);n=Object(h.a)(n,"toast");var _=Object(o.useRef)(x),N=Object(o.useRef)(S);Object(o.useEffect)((function(){_.current=x,N.current=S}),[x,S]);var K=Object(d.a)(),E=!(!k||!O),L=Object(o.useCallback)((function(){E&&(null==N.current||N.current())}),[E]);Object(o.useEffect)((function(){K.set(L,_.current)}),[K,L]);var T=Object(o.useMemo)((function(){return{onClose:S}}),[S]),A=!(!v||!m),R=s.a.createElement("div",Object(c.a)({},C,{ref:t,className:u()(n,a,!A&&(O?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),r);return s.a.createElement(j.Provider,{value:T},A&&v?s.a.createElement(v,{in:O,unmountOnExit:!0},R):R)}));w.displayName="Toast";var k=Object.assign(w,{Body:x,Header:m}),S=n(188),C=n(235),_=n(126),N=n(201),K=(n(200),n(18)),E=n(228),L=(n(229),n(20)),T=n(35),A=n(28),R=n(19),V=n(26);function M(e,t){var n=new D(e),a=W(n,t,null);return n.end(),a}function I(e,t,n){try{switch(t.encode&&(e=t.encode(e)),t.type){case"uint":return function(e,t){var n=H(e,t.length);return t.length?n:U(n.length)+n}(e,t);case"string":return function(e,t){if(!e.match(/^[a-z0-9\-_]*$/i))throw new Error("Cannot encode string ".concat(e,": not alphanumeric or -_"));return U(e.length)+e}(e);case"array":return function(e,t){var n=t.schemas,a=void 0===n?[]:n,r=t.defaultSchema;return U(e.length)+e.map((function(e,t){var n;return I(e,null!==(n=a[t])&&void 0!==n?n:r,t)})).join("")}(e,t);case"object":return function(e,t){var n=t.schemas,r=void 0===n?[]:n;return Object.entries(r).map((function(t){var n=Object(a.a)(t,2),r=n[0],c=n[1];return I(r in e?e[r]:c.default,c,r)})).join("")}(e,t);case"sparse":return function(e,t){var n=t.keySchema,r=t.keys,c=t.valueSchema,i=Object.entries(e).filter((function(e){var t,n=Object(a.a)(e,1)[0];return null===(t=null===r||void 0===r?void 0:r.includes(n))||void 0===t||t}));return U(i.length)+i.map((function(e){var t=Object(a.a)(e,2),r=t[0],i=t[1];return I(r,n,r)+I(i,c,r)})).join("")}(e,t);default:throw new Error("Unsupported schema type ".concat(t.type," on array"))}}catch(c){var r;throw c.path=null!==(r=c.path)&&void 0!==r?r:[],c.path.push(n),c}}function W(e,t,n){try{var r;switch(t.type){case"uint":r=function(e,t){var n=t.length||B(e);return z(e.take(n))}(e,t);break;case"string":r=function(e,t){var n=e.take(B(e));if(!n.match(/^[a-z0-9\-_]*$/i))throw new Error("Cannot decode string ".concat(n,": not alphanumeric or -_"));return n}(e);break;case"array":r=function(e,t){var n=t.schemas,a=void 0===n?[]:n,r=t.defaultSchema,c=B(e);return Object(L.a)(new Array(c)).map((function(t,n){var c;return W(e,null!==(c=a[n])&&void 0!==c?c:r,n)}))}(e,t);break;case"object":r=function(e,t){var n=t.schemas,r=void 0===n?[]:n;return Object.fromEntries(Object.entries(r).map((function(t){var n=Object(a.a)(t,2),r=n[0],c=n[1];return[r,W(e,c,r)]})))}(e,t);break;case"sparse":r=function(e,t){var n=t.keys,r=t.keySchema,c=t.valueSchema,i=B(e);return Object.fromEntries(Object(L.a)(new Array(i)).map((function(){var t=W(e,r,null);return[t,W(e,c,t)]})).filter((function(e){var t,r=Object(a.a)(e,1)[0];return null===(t=null===n||void 0===n?void 0:n.includes(r))||void 0===t||t})))}(e,t);break;default:throw new Error("Unsupported schema type ".concat(t.type," on array"))}return t.decode?t.decode(r):r}catch(i){var c;throw i.path=null!==(c=i.path)&&void 0!==c?c:[],i.path.push(n),i}}function U(e){if(e>=32)throw new Error("Length (".concat(e,") too large"));return H(e,1)}function B(e){var t=z(e.take(1));if(t>=32)throw new Error("Length (".concat(t,") too large"));return t}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0)throw new Error("Cannot encode negative number ".concat(e));for(var n="";e>0;){var a=e%64;e=Math.floor(e/64),a<10?n+=String.fromCharCode(a+48-0):a<36?n+=String.fromCharCode(a+97-10):a<62?n+=String.fromCharCode(a+65-36):62===a?n+="-":63===a&&(n+="_")}if(!t)return n;if(n.length>t)throw new Error("Cannot encode uint ".concat(e,": value too large"));return n.padEnd(t,"0")}function z(e){for(var t=0,n=1,a=0;a<e.length;a++){var r=e.charCodeAt(a);if(48<=r&&r<58)t+=n*(r-48+0);else if(97<=r&&r<123)t+=n*(r-97+10);else if(65<=r&&r<91)t+=n*(r-65+36);else if("-"===e[a])t+=62*n;else{if("_"!==e[a])throw new Error('Cannot parse UInt from "'.concat(e,'", which contains "').concat(String.fromCharCode(r),'"'));t+=63*n}n*=64}return t}var D=function(){function e(t){Object(R.a)(this,e),this.string=void 0,this.offset=void 0,this.string=t,this.offset=0}return Object(V.a)(e,[{key:"take",value:function(e){if(this.offset+e>this.string.length)throw new Error("Cannot take ".concat(e," items from ").concat(this.string.slice(this.offset)));var t=this.string.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"end",value:function(){if(this.string.length!==this.offset)throw new Error("Unused string ".concat(this.string.slice(this.offset)))}}]),e}(),q=n(15),P=n(9),F=n(40),G=n(14),J=n(12),$=["","hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","heal_","physical_dmg_","anemo_dmg_","cryo_dmg_","dendro_dmg_","electro_dmg_","geo_dmg_","hydro_dmg_","pyro_dmg_"],Q=function(e){return{type:"uint",length:e}},X={type:"string",encode:function(e){return e.toString().replace(/\./g,"_")},decode:function(e){return parseFloat(e.replace(/_/g,"."))}},Y={type:"string"},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(P.a)({type:"array",defaultSchema:e},t)},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(P.a)({type:"object",schemas:e},t)},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"sparse",keys:n,keySchema:e,valueSchema:t}},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{type:"uint",length:n,encode:function(t){return e.indexOf(t)+1},decode:function(n){var a;return null!==(a=e[n-1])&&void 0!==a?a:t}}},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"uint",length:t,encode:function(t){return e.indexOf(t)},decode:function(t){return e[t]}}},re=ae($),ce=ae(G.b),ie=ae(G.h),oe=ae(G.c),se=ae(G.e),le=ae([null].concat(Object(L.a)(G.g))),ue=ne(G.d,""),de=ee({key:re,value:Q(2)},{encode:function(e){var t=e.key,n=e.value,a=t.endsWith("_")?10:1;return{key:t,value:n*a}},decode:function(e){var t=e.key,n=e.value,a=t.endsWith("_")?10:1;return{key:t,value:n/a}}}),fe=Z(ee({path:Z(Y),value:Z(Y)}),{encode:function(e){var t=[];return Object(J.c)(e,[],(function(e){return Array.isArray(e)}),(function(e,n){t.push({path:n,value:e.map((function(e){return e.toString()}))})})),t.filter((function(e){var t=e.path;switch(t[0]){case"character":t[0]="c",t[1]=H(G.c.indexOf(t[1]));break;case"weapon":t[0]="w";break;case"artifact":t[0]="a",t[1]=H(G.b.indexOf(t[1]));break;default:return!1}return!0})),t},decode:function(e){var t,n={weapon:{},artifact:{},character:{}},a=Object(q.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,c=r.path,i=r.value;switch(c[0]){case"c":c[0]="character",c[1]=G.c[z(c[1])];break;case"w":c[0]="weapon";break;case"a":c[0]="artifact",c[1]=G.b[z(c[1])];break;default:continue}var o,s=c.pop(),l=n,u=Object(q.a)(c);try{for(u.s();!(o=u.n()).done;){var d,f=o.value,v=null!==(d=l[f])&&void 0!==d?d:{};l[f]=v,l=v}}catch(h){u.e(h)}finally{u.f()}i[0]=parseFloat(i[0]),l[s]=i}}catch(h){a.e(h)}finally{a.f()}return n}}),ve=ee({setKey:ce,numStars:Q(1),level:Q(2),mainStatKey:re,slotKey:ie,substats:Z(de)},{decode:function(e){return e.id="",e.lock=!1,e}}),he=ee({key:Y,levelKey:Y,refineIndex:Q(1),overrideMainVal:X,overrideSubVal:X},{decode:function(e){var t=e.levelKey;delete e.levelKey,delete e.overrideMainVal,delete e.overrideSubVal;var n=t.split("L"),r=Object(a.a)(n,2)[1],c=parseInt(r),i=F.b.findIndex((function(e){return c<=e})),o=r.includes("A");return c<0||c>90||i<0?(e.level=1,e.ascension=0):(e.level=c,e.ascension=i+(o?1:0)),e}}),be=ee({characterKey:oe,hitMode:se,reactionMode:le,constellation:Q(1),overrideLevel:Q(2),levelKey:Y,infusionAura:ue,talentLevelKeys:ee({auto:Q(1),skill:Q(1),burst:Q(1)}),baseStatOverrides:te(Y,X),weapon:he,conditionalValues:fe,reserved:Z(Q(1))},{decode:function(e){var t,n="A"===e.levelKey.slice(-1),a=n?e.levelKey.slice(1,-1):e.levelKey.slice(1);switch(e.level=parseInt(a),e.level){case 1:case 20:e.ascension=0;break;case 40:e.ascension=1;break;case 50:e.ascension=2;break;case 60:e.ascension=3;break;case 70:e.ascension=4;break;case 80:e.ascension=5;break;case 90:e.ascension=6}(n&&(e.ascension+=1),e.baseStatOverrides.characterLevel&&(e.level=e.baseStatOverrides.characterLevel,delete e.baseStatOverrides.characterLevel),e.baseStatOverrides.weaponLevel&&(e.weapon.level=e.baseStatOverrides.weaponLevel,delete e.baseStatOverrides.weaponLevel),e.overrideLevel&&(e.level=e.overrideLevel),delete e.overrideLevel,delete e.levelKey,"Traveler"===e.characterKey)&&(e.elementKey=null!==(t=G.d[e.reserved[0]-1])&&void 0!==t?t:"anemo");return delete e.reserved,e}}),je=ee({artifacts:Z(ve),character:be}),Oe=ee({setKey:ce,level:Q(2),mainStatKey:re,substats:Z(de),location:ne(G.c),raritySlotKey:Q(1)},{encode:function(e){return e.raritySlotKey=8*G.h.indexOf(e.slotKey)+e.rarity,e},decode:function(e){return e.rarity=e.raritySlotKey%8,e.slotKey=G.h[(e.raritySlotKey-e.rarity)/8],e}}),pe=ee({key:Y,location:ne(G.c),ascensionRefine:Q(1),levelDiff:Q(1)},{encode:function(e){return e.ascensionRefine=8*e.ascension+e.refine,e.levelDiff=F.b[e.ascension]-e.level,e},decode:function(e){return e.refine=e.ascensionRefine%8,e.ascension=(e.ascensionRefine-e.refine)/8,e.level=F.b[e.ascension]-e.levelDiff,e}}),me=ee({key:oe,hitMode:se,reactionMode:le,conditionalValues:fe,baseStatOverrides:te(Y,X),talent:ee({auto:Q(1),skill:Q(1),burst:Q(1)}),infusionAura:ue,levelDiff:Q(1),ascensionConstellation:Q(1),reserved:Z(Q(1))},{encode:function(e){return e.levelDiff=F.b[e.ascension]-e.level,e.ascensionConstellation=8*e.ascension+e.constellation,"Traveler"!==e.characterKey?e.reserved=[]:e.reserved=[G.d.indexOf(e.elementKey)],e},decode:function(e){var t;return e.constellation=e.ascensionConstellation%8,e.ascension=(e.ascensionConstellation-e.constellation)/8,e.level=F.b[e.ascension]-e.levelDiff,"Traveler"===e.characterKey&&(e.elementKey=null!==(t=G.d[e.reserved[0]])&&void 0!==t?t:"anemo"),e}}),ye={flexV2:je,flexV3:ee({characters:Z(me),artifacts:Z(Oe),weapons:Z(pe)})};[null].concat(Object(L.a)(G.g));function xe(e,t){var n=t._getChar(e);if(!n)return null;var a=t._getWeapon(n.equippedWeapon),r=Object.values(n.equippedArtifacts).filter((function(e){return e})).map((function(e){return t._getArt(e)}));try{return"v=3&d="+I({characters:[n],weapons:[a],artifacts:r},ye.flexV3,null)}catch(c){return null}}function ge(e){var t=Object.fromEntries(e.split("&").map((function(e){return e.split("=")})));try{switch(parseInt(t.v)){case 2:return[].concat(Object(L.a)(function(e){var t=M(e,ye.flexV2),n=t.character,a=t.artifacts,r=n.characterKey,c=r.toLowerCase();n.characterKey=c;var i=new A.a;i.setString("db_ver","7"),i.set("char_".concat(c),n),a.forEach((function(e,t){e.location=c,i.set("artifact_".concat(t+1),e)}));var o=new T.a(i);if(!o._getChar(r))throw new Error("Invalid flex object");return[o,r]}(t.d)),[2]);case 3:return[].concat(Object(L.a)(function(e){var t=M(e,ye.flexV3),n=t.characters,a=t.artifacts,r=t.weapons,c=n[0].key,i=new A.a;i.setString("db_ver","8"),n.forEach((function(e){return i.set("char_".concat(e.key),e)})),a.forEach((function(e,t){return i.set("artifact_".concat(t),e)})),r.forEach((function(e,t){return i.set("weapon_".concat(t),e)}));var o=new T.a(i);if(!o._getChar(c))throw new Error("Invalid flex object");return[o,c]}(t.d)),[3]);default:return}}catch(n){return void 0}}var we=n(10),ke=n(25),Se=n(1);function Ce(){var e=Object(K.h)(),t=Object(o.useContext)(T.b),n=e.search;if(n){var r=ge(n.substring(1));if(!r)return Object(Se.jsx)(K.a,{to:"/"});var c=Object(a.a)(r,3),i=c[0],s=c[1];return 3!==c[2]?Object(Se.jsx)(K.a,{to:"/flex?".concat(xe(s,i))}):Object(Se.jsx)(T.b.Provider,{value:i,children:Object(Se.jsx)(_e,{characterKey:s})})}var l=e.characterKey;if(!l)return Object(Se.jsx)(K.a,{to:"/"});var u=xe(l,t);return u?(window.scrollTo(0,0),Object(Se.jsx)(K.a,{to:"/flex?".concat(u)})):Object(Se.jsx)(K.a,{to:"/"})}function _e(e){var t=e.characterKey,n=Object(o.useState)(!1),c=Object(a.a)(n,2),i=c[0],s=c[1],l=window.location.href;return Object(Se.jsxs)(r.a,{className:"my-2",children:[Object(Se.jsxs)(k,{onClose:function(){return s(!1)},show:i,delay:3e3,autohide:!0,style:{position:"absolute",top:50,right:50},children:[Object(Se.jsx)(k.Header,{children:Object(Se.jsx)("b",{className:"mr-auto",children:"Genshin Optimizer"})}),Object(Se.jsx)(k.Body,{children:"URL copied to clipboard."})]}),Object(Se.jsx)(S.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(Se.jsxs)(S.a.Body,{className:"p-2",children:[Object(Se.jsxs)(C.a,{className:"mb-0",children:[Object(Se.jsx)(C.a.Prepend,{children:Object(Se.jsx)(_.a,{onClick:function(){navigator.clipboard.writeText(l).then((function(){return s(!0)})).catch(console.error)},children:Object(Se.jsxs)("span",{children:[Object(Se.jsx)(we.a,{icon:ke.r})," Copy URL to clipboard"]})})}),Object(Se.jsx)(N.a.Control,{readOnly:!0,value:window.location.href,onClick:function(e){return e.target.select()}})]}),!1]})}),Object(Se.jsx)(E.default,{characterKey:t,editable:!0})]})}}}]);
//# sourceMappingURL=15.0c7cc6e5.chunk.js.map