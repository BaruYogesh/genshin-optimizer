"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[744],{70415:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var r=t(74165),c=t(15861),i=t(29439),s=t(93433),a=t(53174),l=t(54483),o=t(76189),h=t(80184),u=(0,o.Z)((0,h.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),x=t(45781),d=t(19701),f=t(35893),Z=t(66630),m=t(68870),j=t(39504),p=t(61889),v=t(58165),g=t(57246),C=t(47047),y=t(20890),w=t(24518),z=t(94721),P=t(13400),b=t(72791),k=t(10757),L=t(22020),M=t(76899),H=t(16871),T=t(96106),K=t(3992),S=t(30865),V=t(3082),N=t(59215),_=t(48510),D=t(73578),I=t(947),F=t(56928),G=t(566),A=t(17278),R=t(68544),q=t(70645),B=t(42320),E=t(24351),U=t(50921),$=t(46956),J=t(60393),O={xs:1,sm:2,md:3,lg:4,xl:4},Q={xs:5,sm:7,md:11,lg:15,xl:15},W=function(){return{sortType:U.vV[0],ascending:!1,weaponType:(0,s.Z)(E.yd),element:(0,s.Z)(E.N)}};function X(){var e=(0,L.$)(["page_character","charNames_gen"]).t,n=(0,b.useContext)(F.t).database,t=(0,A.Z)("CharacterDisplay",W),s=(0,i.Z)(t,2),o=s[0],E=s[1],X=(0,b.useState)(""),ee=(0,i.Z)(X,2),ne=ee[0],te=ee[1],re=(0,b.useDeferredValue)(ne),ce=(0,b.useState)(0),ie=(0,i.Z)(ce,2),se=ie[0],ae=ie[1],le=(0,b.useRef)(null),oe=(0,b.useCallback)((function(e,n){var t;null===(t=le.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}),ae(n-1)}),[ae,le]),he=(0,q.Z)(),ue=Q[he],xe=(0,b.useState)(!1),de=(0,i.Z)(xe,2),fe=de[0],Ze=de[1],me=(0,R.Z)(),je=(0,i.Z)(me,2),pe=je[0],ve=je[1];(0,b.useEffect)((function(){return k.ZP.send({hitType:"pageview",page:"/characters"}),n.followAnyChar(ve)}),[ve,n]);var ge=(0,B.Z)((function(){return I.Z.getAll}),[]),Ce=(0,b.useCallback)(function(){var t=(0,c.Z)((0,r.Z)().mark((function t(c){var i,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.Z.get(c);case 2:if(i=t.sent,"object"===typeof(s=null===i||void 0===i?void 0:i.name)&&(s=e("charNames_gen:".concat(c))),window.confirm(e("removeCharacter",{value:s}))){t.next=7;break}return t.abrupt("return");case 7:n.removeChar(c);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,e]),ye=(0,G.Z)(),we=(0,H.s0)(),ze=(0,b.useMemo)((function(){return ge&&(0,U._L)(n,ge)}),[n,ge]),Pe=(0,b.useMemo)((function(){return ge&&(0,U.zU)(n,ge)}),[n,ge]),be=(0,b.useDeferredValue)(o),ke=(0,b.useMemo)((function(){var e=n._getCharKeys().length;if(!ze||!Pe)return{charKeyList:[],totalCharNum:e};var t=be.element,r=be.weaponType,c=be.sortType,i=be.ascending,s=n._getCharKeys().filter((0,$.C)({element:t,weaponType:r,favorite:"yes",name:re},Pe)).sort((0,$.e)(c,i,ze)).concat(n._getCharKeys().filter((0,$.C)({element:t,weaponType:r,favorite:"no",name:re},Pe)).sort((0,$.e)(c,i,ze)));return pe&&{charKeyList:s,totalCharNum:e}}),[pe,n,ze,Pe,be,re]),Le=ke.charKeyList,Me=ke.totalCharNum,He=o.weaponType,Te=o.element,Ke=o.sortType,Se=o.ascending,Ve=(0,b.useMemo)((function(){var e=Math.ceil(Le.length/ue),n=(0,J.uZ)(se,0,e-1);return{charKeyListToShow:Le.slice(n*ue,(n+1)*ue),numPages:e,currentPageIndex:n}}),[Le,se,ue]),Ne=Ve.charKeyListToShow,_e=Ve.numPages,De=Ve.currentPageIndex,Ie=Le.length!==Me?"".concat(Le.length,"/").concat(Me):"".concat(Me);return(0,h.jsxs)(m.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,h.jsx)(K.Z,{ref:le,children:(0,h.jsxs)(j.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,h.jsxs)(p.ZP,{container:!0,spacing:1,children:[(0,h.jsx)(p.ZP,{item:!0,children:(0,h.jsx)(D.Z,{sx:{height:"100%"},onChange:function(e){return E({weaponType:e})},value:He,size:"small"})}),(0,h.jsx)(p.ZP,{item:!0,children:(0,h.jsx)(_.Z,{sx:{height:"100%"},onChange:function(e){return E({element:e})},value:Te,size:"small"})}),(0,h.jsx)(p.ZP,{item:!0,flexGrow:1,children:(0,h.jsx)(v.Z,{autoFocus:!0,value:ne,onChange:function(e){return te(e.target.value)},label:e("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,h.jsx)(p.ZP,{item:!0,children:(0,h.jsx)(N.Z,{sx:{height:"100%"},sortKeys:U.vV,value:Ke,onChange:function(e){return E({sortType:e})},ascending:Se,onChangeAsc:function(e){return E({ascending:e})}})})]}),(0,h.jsxs)(p.ZP,{container:!0,alignItems:"flex-end",children:[(0,h.jsx)(p.ZP,{item:!0,flexGrow:1,children:(0,h.jsx)(g.Z,{count:_e,page:De+1,onChange:oe})}),(0,h.jsx)(p.ZP,{item:!0,children:(0,h.jsx)(Y,{numShowing:Ne.length,total:Ie,t:e})})]})]})}),(0,h.jsx)(b.Suspense,{fallback:(0,h.jsx)(C.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,h.jsxs)(p.ZP,{container:!0,spacing:1,columns:O,children:[(0,h.jsx)(p.ZP,{item:!0,xs:1,children:(0,h.jsxs)(K.Z,{sx:{height:"100%",minHeight:400,width:"100%",display:"flex",flexDirection:"column"},children:[(0,h.jsx)(j.Z,{children:(0,h.jsx)(y.Z,{sx:{textAlign:"center"},children:(0,h.jsx)(M.c,{t:e,i18nKey:"addNew"})})}),(0,h.jsx)(V.w,{newFirst:!0,show:fe,onHide:function(){return Ze(!1)},onSelect:ye}),(0,h.jsx)(m.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(w.Z,{onClick:function(){return Ze(!0)},color:"info",sx:{borderRadius:"1em"},children:(0,h.jsx)(y.Z,{variant:"h1",children:(0,h.jsx)(l.G,{icon:a.r8p,className:"fa-fw"})})})})]})}),Ne.map((function(n){return(0,h.jsx)(p.ZP,{item:!0,xs:1,children:(0,h.jsx)(S.Z,{characterKey:n,onClick:function(){return we("".concat(n))},footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(z.Z,{}),(0,h.jsxs)(m.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:[(0,h.jsx)(T.Z,{placement:"top",title:(0,h.jsx)(y.Z,{children:e("tabs.talent")}),children:(0,h.jsx)(P.Z,{onClick:function(){return we("".concat(n,"/talent"))},children:(0,h.jsx)(x.Z,{})})}),(0,h.jsx)(T.Z,{placement:"top",title:(0,h.jsx)(y.Z,{children:e("tabs.equip")}),children:(0,h.jsx)(P.Z,{onClick:function(){return we("".concat(n,"/equip"))},children:(0,h.jsx)(d.Z,{})})}),(0,h.jsx)(T.Z,{placement:"top",title:(0,h.jsx)(y.Z,{children:e("tabs.teambuffs")}),children:(0,h.jsx)(P.Z,{onClick:function(){return we("".concat(n,"/teambuffs"))},children:(0,h.jsx)(f.Z,{})})}),(0,h.jsx)(T.Z,{placement:"top",title:(0,h.jsx)(y.Z,{children:e("tabs.optimize")}),children:(0,h.jsx)(P.Z,{onClick:function(){return we("".concat(n,"/optimize"))},children:(0,h.jsx)(Z.Z,{})})}),(0,h.jsx)(z.Z,{orientation:"vertical"}),(0,h.jsx)(T.Z,{placement:"top",title:(0,h.jsx)(y.Z,{children:e("delete")}),children:(0,h.jsx)(P.Z,{color:"error",onClick:function(){return Ce(n)},children:(0,h.jsx)(u,{})})})]})]})})},n)}))]})}),_e>1&&(0,h.jsx)(K.Z,{children:(0,h.jsx)(j.Z,{children:(0,h.jsxs)(p.ZP,{container:!0,alignItems:"flex-end",children:[(0,h.jsx)(p.ZP,{item:!0,flexGrow:1,children:(0,h.jsx)(g.Z,{count:_e,page:De+1,onChange:oe})}),(0,h.jsx)(p.ZP,{item:!0,children:(0,h.jsx)(Y,{numShowing:Ne.length,total:Ie,t:e})})]})})})]})}function Y(e){var n=e.numShowing,t=e.total,r=e.t;return(0,h.jsx)(y.Z,{color:"text.secondary",children:(0,h.jsxs)(M.c,{t:r,i18nKey:"showingNum",count:n,value:t,children:["Showing ",(0,h.jsx)("b",{children:{count:n}})," out of ",{value:t}," Characters"]})})}},66630:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41-1.41-1.42zm-6.78.66h5v1.5h-5v-1.5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16zm6.5 1.25h-5v-1.5h5v1.5zm0-2.5h-5v-1.5h5v1.5z"}),"Calculate")},19701:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM6 18l6-4.5 6 4.5H6z"}),"Checkroom")},45781:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck")},90690:function(e,n,t){var r=t(76189),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder")},15861:function(e,n,t){function r(e,n,t,r,c,i,s){try{var a=e[i](s),l=a.value}catch(o){return void t(o)}a.done?n(l):Promise.resolve(l).then(r,c)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(c,i){var s=e.apply(n,t);function a(e){r(s,c,i,a,l,"next",e)}function l(e){r(s,c,i,a,l,"throw",e)}a(void 0)}))}}t.d(n,{Z:function(){return c}})}}]);
//# sourceMappingURL=744.5552db00.chunk.js.map