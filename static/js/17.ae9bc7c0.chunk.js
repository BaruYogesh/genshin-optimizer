(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[17],{202:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(12),c=n(29),r=n(10),i=n(1),s=function(){return Object(i.jsx)(r.a,{icon:c.C})},o=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},203:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:n.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:n.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:n.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:n.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(124),c=n(67),r=n(8),i=n(2),s=n(19),o=n(68),l=n(112),u=n(100),d=n(39),j=n(53),b=n(40),f=n(210),v=n(36),h=n(11),O=n(119),p=function e(){if(Object(s.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};p.getElementalName=function(e){return j.a[e].name},p.getLevelString=function(e){return"".concat(e.level,"/").concat(d.b[e.ascension])},p.getTalentFieldValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(h.f)(e[t],n):a},p.hasBonusStats=function(e,t){return"finalHP"===t?p.hasBonusStats(e,"hp")||p.hasBonusStats(e,"hp_")||p.hasBonusStats(e,"characterHP"):"finalDEF"===t?p.hasBonusStats(e,"def")||p.hasBonusStats(e,"def_")||p.hasBonusStats(e,"characterDEF"):"finalATK"===t?p.hasBonusStats(e,"atk")||p.hasBonusStats(e,"atk_")||p.hasBonusStats(e,"characterATK"):!!(null===e||void 0===e?void 0:e.bonusStats)&&t in e.bonusStats},p.getStatValueWithBonus=function(e,t){var n,a,c;return null!==(n=null!==(a=null===(c=e.bonusStats)||void 0===c?void 0:c[t])&&void 0!==a?a:Object(v.a)(e)[t])&&void 0!==n?n:0},p.calculateBuild=function(e,t,n,a,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var n=Object(i.a)(e,2),a=n[0],c=n[1];return[a,t._getArt(c)]}))),o=p.createInitialStats(e,t,n,a);return o.mainStatAssumptionLevel=r,p.calculateBuildwithArtifact(o,s,c)},p.calculateBuildwithArtifact=function(e,t,n){var a,c=o.a.setToSlots(t),s=l.a.setEffectsStats(n,e,c),d=Object(h.d)(e);Object.values(t).forEach((function(e){e&&(d[e.mainStatKey]=(d[e.mainStatKey]||0)+o.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(d.mainStatAssumptionLevel,4*e.rarity),e.level)),e.substats.forEach((function(e){return e&&e.key&&(d[e.key]=(d[e.key]||0)+e.value)})))})),Object(v.c)(d,s),u.a.parseConditionalValues({artifact:null===d||void 0===d||null===(a=d.conditionalValues)||void 0===a?void 0:a.artifact},(function(e,t,n){var a,r,s=Object(i.a)(n,3),o=s[1],l=s[2];if(!(parseInt(l)>(null!==(a=null===c||void 0===c||null===(r=c[o])||void 0===r?void 0:r.length)&&void 0!==a?a:0))){var j=u.a.resolve(e,d,t).stats;Object(v.c)(d,j)}})),d.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return[n,null===a||void 0===a?void 0:a.id]}))),d.setToSlots=c;var j=Object(f.a)(d,null===d||void 0===d?void 0:d.modifiers),O=Object(b.c)(j,d),p=O.initialStats;return(0,O.formula)(p),Object(r.a)(Object(r.a)({},d),p)},p.createInitialStats=function(e,t,n,s){var o,l,d,j=e.key,b=e.bonusStats,f=void 0===b?{}:b,h=e.elementKey,p=e.level,m=e.ascension,x=e.hitMode,y=e.infusionAura,g=e.reactionMode,S=e.talent,w=e.constellation,_=e.equippedArtifacts,K=e.conditionalValues,k=void 0===K?{}:K,E=e.equippedWeapon,A=null!==(o=t._getWeapon(E))&&void 0!==o?o:Object(O.a)(n.weaponTypeKey),N=Object(v.a)(e);Object(v.c)(N,f,v.b),N.characterKey=j,N.characterLevel=p,N.characterHP=n.getBase("hp",p,m),N.characterDEF=n.getBase("def",p,m),N.characterATK=n.getBase("atk",p,m),N.characterEle=null!==(l=null!==(d=n.elementKey)&&void 0!==d?d:h)&&void 0!==l?l:"anemo",N.hitMode=x,N.infusionAura=y,N.reactionMode=g,N.conditionalValues=k,N.weaponType=n.weaponTypeKey,N.tlvl=Object.fromEntries(Object.entries(null!==S&&void 0!==S?S:{}).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1]-1]}))),N.constellation=w,N.ascension=m,N.weapon={key:A.key,refineIndex:A.refinement-1},N.equippedArtifacts=_;var T=n.getSpecializedStat(m);if(T){var C=n.getSpecializedStatVal(m);Object(v.c)(N,Object(c.a)({},T,C))}for(var B in n.getTalentStatsAll(N,N.characterEle).forEach((function(e){return Object(v.c)(N,e)})),N.tlvl){var W;N.tlvl[B]+=null!==(W=N["".concat(B,"Boost")])&&void 0!==W?W:0}var I=s.getMainStatValue(A.level,A.ascension);N.weaponATK=I;var M=s.getSubStatKey();M&&Object(v.c)(N,Object(c.a)({},M,s.getSubStatValue(A.level,A.ascension))),Object(v.c)(N,s.stats(N));k.artifact;var V=k.weapon,H=Object(a.a)(k,["artifact","weapon"]);return u.a.parseConditionalValues(Object(r.a)(Object(r.a)({},A.key&&{weapon:Object(c.a)({},A.key,null===V||void 0===V?void 0:V[A.key])}),H),(function(e,t,n){if(("character"!==n[0]||"talents"!==n[3]||n[4]===h)&&u.a.canShow(e,N)){var a=u.a.resolve(e,N,t).stats;Object(v.c)(N,a)}})),N},p.getDisplayStatKeys=function(e,t){var n=t.characterSheet,a=t.weaponSheet,c=t.artifactSheets,s=e.characterEle,o=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(s,"_dmg_")];n.isAutoElemental||o.push("physical_dmg_");var l=Object(h.d)(b.a[s]),d=n.weaponTypeKey;l.includes("shattered_hit")||"claymore"!==d||l.push("shattered_hit");var j={},f=n.getTalent(s),v=function(t,n){return t.forEach((function(t){var a;t.formula&&(null===t||void 0===t||null===(a=t.canShow)||void 0===a?void 0:a.call(t,e))&&(j[n]||(j[n]=[]),j[n].push(t.formula.keys))}))},O=function(t,n){if(t.conditional&&u.a.canShow(t.conditional,e)){var a=u.a.resolve(t.conditional,e,null).fields;a&&v(a,n)}t.fields&&v(t.fields,n)};f&&Object.entries(f.sheets).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1].sections;"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto"),a.forEach((function(e){return O(e,"talentKey_".concat(n))}))}));var p="weapon_".concat(e.weapon.key);return a.document&&a.document.map((function(e){return O(e,p)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1],r=c[n];r&&Object.entries(r.setEffects).forEach((function(e){var t=Object(i.a)(e,2),c=t[0],r=t[1].document;a<parseInt(c)||r&&r.map((function(e){return O(e,"artifact_".concat(n,"_").concat(c))}))}))})),Object(r.a)(Object(r.a)({basicKeys:o},j),{},{transReactions:l})}},206:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return I}));var a=n(12),c=n(2),r=n(29),i=n(10),s=n(0),o=n(142),l=n(118),u=n(548),d=n(187),j=n(121),b=n(70),f=n(226),v=n(541),h=n(335),O=n(188),p=n(186),m=n(112),x=n(203),y=n(202),g=n(115),S=n(45),w=n(111),_=n(15),K=n(114),k=n(204),E=n(113),A=n(1);function N(e){var t=e.onSelect,n=e.weaponTypeKey,a=Object(s.useContext)(S.b),c=Object(w.a)(E.b.getAll(),[]);return Object(A.jsx)(A.Fragment,{children:a._getCharKeys().filter((function(e){var t;return!n||(null===c||void 0===c||null===(t=c[e])||void 0===t?void 0:t.weaponTypeKey)===n})).sort().map((function(e){return Object(A.jsx)(T,{characterKey:e,onSelect:t},e)}))})}function T(e){var t=e.characterKey,n=e.onSelect,a=Object(w.a)(E.b.get(t),[t]);return a?Object(A.jsx)(p.a.Item,{onClick:function(){return n(t)},children:a.nameWIthIcon}):null}function C(e){var t=e.characterSheet,n=e.onSelect,a=e.filter,r=Object(s.useState)(!1),i=Object(c.a)(r,2),u=i[0],d=i[1],j=t?Object(A.jsxs)("span",{children:[Object(A.jsx)(o.a,{src:t.thumbImg,className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(A.jsxs)("h6",{className:"d-inline",children:[" ",t.name," "]})]}):Object(A.jsx)("span",{children:"Select a Character"});return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(l.a,{disabled:!n,onClick:function(){return d(!0)},children:j}),Object(A.jsx)(I,{show:u,onHide:function(){return d(!1)},onSelect:n,filter:a})]})}var B={rarity:"Rarity",level:"Level",name:"Name"};function W(e,t){return t===e?"":t}function I(e){var t=e.show,n=e.onHide,O=e.onSelect,p=e.filter,m=void 0===p?function(){return!0}:p,y=Object(s.useContext)(S.b),K=Object(s.useState)((function(){return Object.keys(B)[0]})),k=Object(c.a)(K,2),N=k[0],T=k[1],C=Object(s.useReducer)(W,""),I=Object(c.a)(C,2),V=I[0],H=I[1],F=Object(s.useReducer)(W,""),R=Object(c.a)(F,2),q=R[0],z=R[1],D=Object(w.a)(E.b.getAll(),[]),L=function(e){var t,n;return null!==(t=null===(n=y._getChar(e))||void 0===n?void 0:n.level)&&void 0!==t?t:0},P=function(e){var t;return null===D||void 0===D||null===(t=D[e])||void 0===t?void 0:t.star},G=D?Object(a.a)(new Set(_.c)).filter((function(e){return m(y._getChar(e),D[e])})).filter((function(e){var t,n;return(!V||V===(null===D||void 0===D||null===(t=D[e])||void 0===t?void 0:t.elementKey))&&(!q||q===(null===D||void 0===D||null===(n=D[e])||void 0===n?void 0:n.weaponTypeKey))})).sort((function(e,t){if("name"===N)return e<t?-1:e>t?1:0;if("level"===N){var n=L(t)-L(e);return n||P(t)-P(e)}var a=P(t)-P(e);return a||L(t)-L(e)})):[];return D?Object(A.jsx)(u.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:n,children:Object(A.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",children:[Object(A.jsx)(d.a.Header,{children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(f.a,{children:_.d.map((function(e){return Object(A.jsx)(l.a,{variant:V&&V!==e?"secondary":e,className:"py-1 px-2 text-white",onClick:function(){return H(e)},children:Object(A.jsx)("h3",{className:"mb-0",children:g.b[e]})},e)}))})}),Object(A.jsx)(b.a,{children:Object(A.jsx)(f.a,{children:_.j.map((function(e){var t;return Object(A.jsx)(l.a,{variant:q&&q!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return z(e)},children:Object(A.jsx)("h3",{className:"mb-0",children:Object(A.jsx)(o.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(A.jsxs)(b.a,{xs:"auto",children:[Object(A.jsx)("span",{children:"Sort by: "}),Object(A.jsx)(v.a,{type:"radio",name:"level",value:N,onChange:T,children:Object.entries(B).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(A.jsx)(h.a,{value:n,variant:N===n?"success":"primary",children:Object(A.jsx)("h6",{className:"mb-0",children:a})},n)}))})]}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(l.a,{onClick:n,variant:"danger",children:Object(A.jsx)(i.a,{icon:r.D})})})]})}),Object(A.jsx)(d.a.Body,{children:Object(A.jsx)(j.a,{children:G.map((function(e){return Object(A.jsx)(M,{characterKey:e,onClick:function(){n(),null===O||void 0===O||O(e)}},e)}))})})]})}):null}function M(e){var t,n=e.onClick,a=e.characterKey,c=Object(s.useContext)(S.b),r=c._getChar(a),i=Object(w.a)(E.b.get(a),[a]),u=(null===r||void 0===r?void 0:r.equippedWeapon)?c._getWeapon(r.equippedWeapon):void 0,d=Object(w.a)(u?K.a.get(u.key):void 0,[null===u||void 0===u?void 0:u.key]),f=Object(w.a)(m.a.getAll(),[]),v=Object(s.useMemo)((function(){return r&&i&&d&&f&&k.a.calculateBuild(r,c,i,d,f)}),[r,i,d,f,c]);return i?Object(A.jsx)(b.a,{lg:3,md:4,className:"mb-2",children:Object(A.jsxs)(l.a,{className:"w-100",variant:"darkcontent",onClick:n,children:[Object(A.jsx)("h5",{children:i.name}),Object(A.jsxs)(j.a,{children:[Object(A.jsx)(b.a,{xs:"auto",className:"pr-0",children:Object(A.jsx)(o.a,{src:i.thumbImg,className:"thumb-big grad-".concat(i.star,"star p-0"),thumbnail:!0})}),Object(A.jsxs)(b.a,{children:[v&&r?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("h5",{className:"mb-0",children:["Lv. ",k.a.getLevelString(r)," ","C".concat(r.constellation)]}),Object(A.jsxs)("h6",{className:"mb-0",children:[Object(A.jsx)(O.a,{variant:"secondary",children:Object(A.jsx)("strong",{className:"mx-1",children:v.tlvl.auto+1})})," ",Object(A.jsx)(O.a,{variant:"secondary",children:Object(A.jsx)("strong",{className:"mx-1",children:v.tlvl.skill+1})})," ",Object(A.jsx)(O.a,{variant:"secondary",children:Object(A.jsx)("strong",{className:"mx-1",children:v.tlvl.burst+1})})]})]}):Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("h4",{children:Object(A.jsx)(O.a,{variant:"primary",children:"NEW"})})}),Object(A.jsx)("h6",{className:"mb-0",children:Object(A.jsx)(y.a,{stars:i.star,colored:!0})}),Object(A.jsxs)("h3",{className:"mb-0",children:[i.elementKey&&g.a[i.elementKey]," ",Object(A.jsx)(o.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[i.weaponTypeKey],className:"inline-icon"})]})]})]})]})},a):null}},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),c=n(12),r=n(69),i=n(40);function s(e){var t=new Set;return e(new Proxy({},{get:function(e,n,a){t.add(n.toString())}})),Object(c.a)(t)}var o=Object.freeze(Object.fromEntries(Object.entries(i.b).map((function(e){var t=Object(a.a)(e,2);return[t[0],s(t[1])]}))));function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(i.d),a=new Set,r=Object(c.a)(Array(i.f)).map((function(e){return new Set}));return n.forEach((function(n){return u(e,n,t,r,a)})),r.flatMap((function(e){return Object(c.a)(e)}))}function u(e,t,n,a,c){var s,l;c.has(t)||(c.add(t),null===(s=o[t])||void 0===s||s.forEach((function(t){return u(e,t,n,a,c)})),(null!==(l=n[t])&&void 0!==l?l:[]).forEach((function(t){return r.a.getCurrent(t,e)[1].forEach((function(t){return u(e,t,n,a,c)}))})),a[Object(i.e)(t)].add(t))}},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(2),c=n(188),r=n(59),i=n(15),s=n(11),o=n(1);function l(e,t){var n=t.characterSheet,r=t.weaponSheet,i=t.artifactSheets,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"anemo";if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var l,u,d=e.split("talentKey_")[1];return null!==(l=null===n||void 0===n||null===(u=n.getTalentOfKey(d,s))||void 0===u?void 0:u.name)&&void 0!==l?l:d}if(e.startsWith("weapon_")){var j,b=e.split("weapon_")[1];return null!==(j=null===r||void 0===r?void 0:r.name)&&void 0!==j?j:b}if(e.startsWith("artifact_")){var f,v=e.split("_"),h=Object(a.a)(v,3),O=h[1],p=h[2];return Object(o.jsxs)("span",{children:[null===(f=i[O])||void 0===f?void 0:f.name," ",Object(o.jsxs)(c.a,{variant:"success",children:[p,"-Set"]})]})}return""}function u(e){return{key:e,level:1,ascension:0,hitMode:"avgHit",reactionMode:null,equippedArtifacts:Object(s.o)(i.h,(function(){return""})),equippedWeapon:"",conditionalValues:{},bonusStats:{},buildSettings:Object(r.a)(),talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0}}},544:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n(189),c=n(275),r=n(1);function i(){return Object(r.jsx)(a.a,{children:Object(r.jsx)(c.default,{characterKey:"Traveler",tabName:"talent"})})}}}]);
//# sourceMappingURL=17.ae9bc7c0.chunk.js.map