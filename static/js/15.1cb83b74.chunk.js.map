{"version":3,"sources":["Character/Character.ts","Weapon/Weapon.ts","Assets/Element_Anemo.png","Assets/Assets.ts","Assets/Element_Cryo.png","Assets/Element_Dendro.png","Assets/Element_Electro.png","Assets/Element_Geo.png","Assets/Element_Hydro.png","Assets/Element_Pyro.png","Assets/Weapon-class-bow-icon.png","Assets/Weapon-class-catalyst-icon.png","Assets/Weapon-class-claymore-icon.png","Assets/Weapon-class-polearm-icon.png","Assets/Weapon-class-sword-icon.png","Assets/Item_Fragile_Resin.png","Assets/Item_Condensed_Resin.png","Assets/Item_Wanderer's_Advice.png","Assets/Item_Hero's_Wit.png","Assets/Item_Adventurer's_Experience.png","Formula.ts","Data/WeaponData.ts","StatDependency.ts","Components/InfoComponent.tsx","Character/CharacterCard.tsx","Character/CharacterDisplay.tsx"],"names":["Character","this","Error","characterKey","character","CharacterDatabase","get","Object","values","equippedArtifacts","forEach","artid","ArtifactDatabase","moveToNewLocation","remove","key","characterSheet","weaponSheet","eleKey","startsWith","subkey","split","getTalentOfKey","name","getElementalName","elementalKey","defVal","ElementalData","getLevelString","level","ascensionMaxLevel","ascension","getTalentFieldValue","field","stats","evalIfFunc","hasOverride","statKey","baseStatOverrides","getBaseStatValue","characetSheet","getSpecializedStat","getSpecializedStatVal","Weapon","getWeaponMainStatValWithOverride","weapon","includes","characterStatBase","getBase","getStatValueWithOverride","equipArtifacts","artIds","artIdsOnCharacter","allSlotKeys","slotKey","artNotOnChar","location","artOnChar","notCharLoc","id","equipArtifactOnSlot","equipArtifactBuild","calculateBuild","artifactSheets","artifacts","mainStatAssumptionLevel","fromEntries","map","art","i","entries","initialStats","createInitialStats","calculateBuildwithArtifact","setToSlots","Artifact","artifactSetEffectsStats","ArtifactSheet","setEffectsStats","deepClone","mainStatKey","mainStatValue","numStars","Math","max","min","substats","substat","value","stat","Conditional","parseConditionalValues","artifact","conditionalValues","conditional","conditionalValue","setKey","setNumKey","parseInt","length","condStats","resolve","val","dependencies","GetDependencies","modifiers","PreprocessFormulas","formula","mergeStats","modifier","mkey","multiplier","undefined","elementKey","hitMode","infusionAura","reactionMode","talentLevelKeys","constellation","refineIndex","statKeys","keys","characterLevel","characterEle","weaponType","weaponTypeKey","tlvl","weapon_key","weapon_refineIndex","allElements","overrides","hasOwnProperty","specializedStatVal","specialStatKey","getTalentStatsAll","s","weaponSubKey","getWeaponSubstatKey","getWeaponSubstatValWithOverride","weaponCond","otherCond","canShow","getDisplayStatKeys","basicKeys","isAutoElemental","push","transReactions","ElementToReactionKeys","charFormulas","talentSheet","getTalent","talentKey","formulas","formKey","weaponFormulas","Formula","getLevelName","levelKey","LevelNameData","getLevelIndex","WeaponLevelKeys","indexOf","getWeaponMainStatVal","baseStats","main","getWeaponSubstatVal","sub","substatKey","getWeaponTypeName","WeaponTypeData","getWeaponTypeKeys","weaponObj","overrideMainVal","overrideSubVal","Assets","elements","anemo","cryo","dendro","electro","geo","hydro","pyro","weaponTypes","bow","catalyst","claymore","polearm","sword","resin","fragile","condensed","exp_books","advice","wit","experience","formulaImport","then","imp","default","crawlObject","f","objPathValue","GetFormulaDependency","dependency","Set","Proxy","target","prop","receiver","add","formulaKeyDependency","freeze","Formulas","StatData","InsertDependencies","has","k","InfoComponent","pageKey","text","modalTitle","children","useState","loadFromLocalStorage","showInfoModal","setshowInfoModal","Array","isArray","getRandomElementFromArray","displayText","closeModal","infoShown","saveToLocalStorage","show","onHide","size","variant","contentClassName","bg","Header","Title","xs","onClick","icon","faTimes","Body","fallback","className","animation","Footer","faQuestionCircle","CharacterCard","onEdit","onDelete","cardClassName","header","footer","useForceUpdate","forceUpdate","useEffect","registerCharListener","unregisterCharListener","usePromise","getAll","CharacterSheet","WeaponSheet","useMemo","weaponName","weaponMainVal","weaponSubVal","weaponLevelName","weaponPassiveName","passiveName","faEdit","faTrashAlt","src","thumbImg","star","thumbnail","stars","colored","Stat","getStatName","getStatUnit","setEffects","arr","artifactSetName","highestNum","unit","statVal","StatIconEle","toFixed","fixedUnit","as","Link","to","pathname","InfoDisplay","React","lazy","CharacterDisplayCard","toggle","rarity","filterReducer","oldFilter","newFilter","CharacterDisplay","props","charIdToEdit","setcharIdToEdit","sortBy","setsortBy","useReducer","elementalFilter","elementalFilterDispatch","weaponFilter","weaponFilterDispatch","newCharacter","setnewCharacter","scrollRef","useRef","ReactGA","pageview","saved","registerListener","unregisterListener","allCharacterSheets","sortingFunc","ck","save","deleteCharacter","useCallback","a","chararcterSheet","i18next","t","window","confirm","editCharacter","setTimeout","current","scrollIntoView","behavior","cancelEditCharacter","charKeyList","getCharacterKeyList","filter","cKey","sort","b","diff","showEditor","Boolean","ref","Suspense","newBuild","tabName","editable","setCharacterKey","onClose","CharDisplayFooter","type","onChange","lg","md","faPlus","charKey","faLink"],"mappings":"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","file":"static/js/15.1cb83b74.chunk.js","sourcesContent":["import Artifact from \"../Artifact/Artifact\";\r\nimport { ArtifactSheet } from \"../Artifact/ArtifactSheet\";\r\nimport Conditional from \"../Conditional/Conditional\";\r\nimport { ascensionMaxLevel, characterStatBase } from \"../Data/CharacterData\";\r\nimport ElementalData from \"../Data/ElementalData\";\r\nimport ArtifactDatabase from \"../Database/ArtifactDatabase\";\r\nimport CharacterDatabase from \"../Database/CharacterDatabase\";\r\nimport Formula from \"../Formula\";\r\nimport { ElementToReactionKeys, PreprocessFormulas } from \"../StatData\";\r\nimport { GetDependencies } from \"../StatDependency\";\r\nimport { ICharacter } from \"../Types/character\";\r\nimport { allElements, allSlotKeys, CharacterKey, ElementKey, SlotKey } from \"../Types/consts\";\r\nimport ICalculatedStats from \"../Types/ICalculatedStats\";\r\nimport { deepClone, evalIfFunc } from \"../Util/Util\";\r\nimport Weapon from \"../Weapon/Weapon\";\r\nimport WeaponSheet from \"../Weapon/WeaponSheet\";\r\nimport CharacterSheet from \"./CharacterSheet\";\r\n\r\nexport default class Character {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Character) throw Error('A static class cannot be instantiated.'); }\r\n\r\n  static getElementalName = (elementalKey, defVal = \"\") => (ElementalData?.[elementalKey]?.name || defVal)\r\n\r\n  static getLevelString = (character: ICharacter) => `${character.level}/${ascensionMaxLevel[character.ascension]}`\r\n\r\n  static getTalentFieldValue = (field, key, stats = {}, defVal = \"\") => {\r\n    if (!field?.[key]) return defVal\r\n    return evalIfFunc(field?.[key], stats)\r\n  }\r\n\r\n  static hasOverride = (character, statKey) => {\r\n    if (statKey === \"finalHP\")\r\n      return Character.hasOverride(character, \"hp\") || Character.hasOverride(character, \"hp_\") || Character.hasOverride(character, \"characterHP\") || false\r\n    else if (statKey === \"finalDEF\")\r\n      return Character.hasOverride(character, \"def\") || Character.hasOverride(character, \"def_\") || Character.hasOverride(character, \"characterDEF\") || false\r\n    else if (statKey === \"finalATK\")\r\n      return Character.hasOverride(character, \"atk\") || Character.hasOverride(character, \"atk_\") || Character.hasOverride(character, \"characterATK\") || false\r\n    return character?.baseStatOverrides ? (statKey in character.baseStatOverrides) : false;\r\n  }\r\n\r\n  static getBaseStatValue = (character: ICharacter, characetSheet: CharacterSheet, weaponSheet: WeaponSheet, statKey: string, defVal = 0) => {\r\n    if (statKey === \"specializedStatKey\") return characetSheet.getSpecializedStat(character.ascension)\r\n    if (statKey === \"specializedStatVal\") return characetSheet.getSpecializedStatVal(character.ascension)\r\n    if (statKey === \"weaponATK\") return Weapon.getWeaponMainStatValWithOverride(character?.weapon, weaponSheet)\r\n    if (statKey === \"enemyLevel\") return character.level\r\n    if (statKey.includes(\"enemyRes_\")) return 10\r\n    if (statKey in characterStatBase) return characterStatBase[statKey]\r\n    if (statKey === \"characterDEF\") return characetSheet.getBase(\"def\", character.level, character.ascension)\r\n    if (statKey === \"characterATK\") return characetSheet.getBase(\"atk\", character.level, character.ascension)\r\n    if (statKey === \"characterHP\") return characetSheet.getBase(\"hp\", character.level, character.ascension)\r\n    return defVal\r\n  }\r\n  static getStatValueWithOverride = (character: ICharacter, characterSheet: CharacterSheet, weaponSheet: WeaponSheet, statKey: string, defVal = 0) => {\r\n    if (Character.hasOverride(character, statKey)) return character?.baseStatOverrides?.[statKey] ?? defVal\r\n    else return Character.getBaseStatValue(character, characterSheet, weaponSheet, statKey, defVal)\r\n  }\r\n\r\n  //equipment, with consideration on swapping equipped.\r\n  static equipArtifacts = (characterKey: CharacterKey | \"\", artIds: StrictDict<SlotKey, string>) => {\r\n    const character = CharacterDatabase.get(characterKey)\r\n    if (!character) return;\r\n    const artIdsOnCharacter = character.equippedArtifacts;\r\n\r\n    //swap, by slot\r\n    allSlotKeys.forEach(slotKey => {\r\n      const artNotOnChar = ArtifactDatabase.get(artIds[slotKey])\r\n      if (artNotOnChar?.location === characterKey) return; //it is already equipped\r\n      const artOnChar = ArtifactDatabase.get(artIdsOnCharacter?.[slotKey])\r\n      const notCharLoc = (artNotOnChar?.location ?? \"\")\r\n      //move current art to other char\r\n      if (artOnChar) ArtifactDatabase.moveToNewLocation(artOnChar.id, notCharLoc)\r\n      //move current art to other char\r\n      if (notCharLoc) CharacterDatabase.equipArtifactOnSlot(notCharLoc, slotKey, artOnChar?.id ?? \"\")\r\n      //move other art to current char\r\n      if (artNotOnChar) ArtifactDatabase.moveToNewLocation(artNotOnChar.id, characterKey)\r\n    })\r\n    //move other art to current char\r\n    CharacterDatabase.equipArtifactBuild(characterKey, artIds);\r\n  }\r\n  static remove(characterKey) {\r\n    const character = CharacterDatabase.get(characterKey)\r\n    if (!character) return\r\n    Object.values(character.equippedArtifacts).forEach(artid =>\r\n      ArtifactDatabase.moveToNewLocation(artid, \"\"))\r\n    CharacterDatabase.remove(characterKey)\r\n  }\r\n\r\n  static calculateBuild = (character: ICharacter, characterSheet: CharacterSheet, weaponSheet: WeaponSheet, artifactSheets, mainStatAssumptionLevel = 0): ICalculatedStats => {\r\n    let artifacts\r\n    if (character.artifacts) //from flex\r\n      artifacts = Object.fromEntries(character.artifacts.map((art, i) => [i, art]))\r\n    else if (character.equippedArtifacts)\r\n      artifacts = Object.fromEntries(Object.entries(character.equippedArtifacts).map(([key, artid]) => [key, ArtifactDatabase.get(artid)]))\r\n    const initialStats = Character.createInitialStats(character, characterSheet, weaponSheet)\r\n    initialStats.mainStatAssumptionLevel = mainStatAssumptionLevel\r\n    return Character.calculateBuildwithArtifact(initialStats, artifacts, artifactSheets)\r\n  }\r\n\r\n  static calculateBuildwithArtifact = (initialStats, artifacts, artifactSheets) => {\r\n    const setToSlots = Artifact.setToSlots(artifacts)\r\n    let artifactSetEffectsStats = ArtifactSheet.setEffectsStats(artifactSheets, initialStats, setToSlots)\r\n\r\n    let stats = deepClone(initialStats)\r\n    //add artifact and artifactsets\r\n    Object.values(artifacts).forEach((art: any) => {\r\n      if (!art) return\r\n      //main stats\r\n      stats[art.mainStatKey] = (stats[art.mainStatKey] || 0) + Artifact.mainStatValue(art.mainStatKey, art.numStars, Math.max(Math.min(stats.mainStatAssumptionLevel, art.numStars * 4), art.level))\r\n      //substats\r\n      art.substats.forEach((substat) =>\r\n        substat && substat.key && (stats[substat.key] = (stats[substat.key] || 0) + substat.value))\r\n    })\r\n    //setEffects\r\n    artifactSetEffectsStats.forEach(stat => stats[stat.key] = (stats[stat.key] || 0) + stat.value)\r\n    //setEffects conditionals\r\n    Conditional.parseConditionalValues({ artifact: stats?.conditionalValues?.artifact }, (conditional, conditionalValue, [, setKey]) => {\r\n      const { setNumKey } = conditional\r\n      if (parseInt(setNumKey) > (setToSlots?.[setKey]?.length ?? 0)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, stats, conditionalValue)\r\n      Object.entries(condStats).forEach(([statKey, val]) => stats[statKey] = (stats[statKey] || 0) + val)\r\n    })\r\n\r\n    stats.equippedArtifacts = Object.fromEntries(Object.entries(artifacts).map(([key, val]: any) => [key, val?.id]))\r\n    stats.setToSlots = setToSlots\r\n    let dependencies = GetDependencies(stats?.modifiers)\r\n    PreprocessFormulas(dependencies, stats).formula(stats)\r\n    return stats\r\n  }\r\n  static mergeStats = (initialStats, stats) => stats && Object.entries(stats).forEach(([key, val]: any) => {\r\n    if (key === \"modifiers\") {\r\n      initialStats.modifiers = initialStats.modifiers ?? {}\r\n      for (const [statKey, modifier] of (Object.entries(val) as any)) {\r\n        initialStats.modifiers[statKey] = initialStats.modifiers[statKey] ?? {}\r\n        for (const [mkey, multiplier] of (Object.entries(modifier) as any))\r\n          initialStats.modifiers[statKey][mkey] = (initialStats.modifiers[statKey][mkey] ?? 0) + multiplier\r\n      }\r\n    } else {\r\n      if (initialStats[key] === undefined) initialStats[key] = val\r\n      else if (typeof initialStats[key] === \"number\") initialStats[key] += val\r\n    }\r\n  })\r\n\r\n  static createInitialStats = (character: ICharacter, characterSheet: CharacterSheet, weaponSheet: WeaponSheet): ICalculatedStats => {\r\n    character = deepClone(character)\r\n    const { characterKey, elementKey, level, ascension, hitMode, infusionAura, reactionMode, talentLevelKeys, constellation, equippedArtifacts, conditionalValues = {}, weapon = { key: \"\", refineIndex: 0 } } = character\r\n\r\n    //generate the initalStats obj with data from Character & overrides\r\n    const statKeys = [\"characterHP\", \"characterATK\", \"characterDEF\", \"weaponATK\", \"enemyLevel\", \"physical_enemyRes_\", \"physical_enemyImmunity\", ...Object.keys(characterStatBase)]\r\n    const initialStats = Object.fromEntries(statKeys.map(key => [key, Character.getStatValueWithOverride(character, characterSheet, weaponSheet, key)])) as ICalculatedStats\r\n    initialStats.characterLevel = level\r\n    initialStats.characterEle = characterSheet.elementKey ?? elementKey ?? \"anemo\";\r\n    initialStats.characterKey = characterKey\r\n    initialStats.hitMode = hitMode;\r\n    initialStats.infusionAura = infusionAura\r\n    initialStats.reactionMode = reactionMode;\r\n    initialStats.conditionalValues = conditionalValues\r\n    initialStats.weaponType = characterSheet.weaponTypeKey\r\n    initialStats.tlvl = talentLevelKeys;\r\n    initialStats.constellation = constellation\r\n    initialStats.ascension = ascension\r\n    const { key: weapon_key, refineIndex: weapon_refineIndex } = weapon\r\n    initialStats.weapon = { key: weapon_key, refineIndex: weapon_refineIndex }\r\n    initialStats.equippedArtifacts = equippedArtifacts;\r\n\r\n    //enemy stuff\r\n    [\"physical\", ...allElements].forEach(eleKey => {\r\n      let statKey = `${eleKey}_enemyRes_`\r\n      initialStats[statKey] = Character.getStatValueWithOverride(character, characterSheet, weaponSheet, statKey);\r\n      statKey = `${eleKey}_enemyImmunity`\r\n      initialStats[statKey] = Character.getStatValueWithOverride(character, characterSheet, weaponSheet, statKey);\r\n    })\r\n\r\n    //all the rest of the overrides\r\n    let overrides = character?.baseStatOverrides || {}\r\n    Object.entries(overrides).forEach(([statKey, val]: any) => {\r\n      if (statKey === \"specializedStatKey\" || statKey === \"specializedStatVal\") return\r\n      if (!initialStats.hasOwnProperty(statKey)) initialStats[statKey] = val\r\n    })\r\n\r\n    //add specialized stat\r\n    let specializedStatVal = Character.getStatValueWithOverride(character, characterSheet, weaponSheet, \"specializedStatVal\")\r\n    let specialStatKey = Character.getStatValueWithOverride(character, characterSheet, weaponSheet, \"specializedStatKey\")\r\n    Character.mergeStats(initialStats, { [specialStatKey]: specializedStatVal })\r\n\r\n    //add stats from all talents\r\n    characterSheet.getTalentStatsAll(initialStats as ICalculatedStats, initialStats.characterEle).forEach(s => Character.mergeStats(initialStats, s))\r\n\r\n    //add levelBoosts, from Talent stats.\r\n    for (const key in initialStats.tlvl)\r\n      initialStats.tlvl[key] += initialStats[`${key}Boost`] ?? 0\r\n\r\n    //add stats from weapons\r\n    const weaponSubKey = Weapon.getWeaponSubstatKey(weaponSheet)\r\n    if (weaponSubKey) Character.mergeStats(initialStats, { [weaponSubKey]: Weapon.getWeaponSubstatValWithOverride(character?.weapon, weaponSheet) })\r\n    Character.mergeStats(initialStats, weaponSheet.stats(initialStats as ICalculatedStats))\r\n\r\n\r\n    //Handle conditionals, without artifact, since the pipeline for that comes later.\r\n    const { artifact: artifactCond, weapon: weaponCond, ...otherCond } = conditionalValues\r\n\r\n    //handle conditionals. only the conditional applicable to the equipped weapon is parsed.\r\n    Conditional.parseConditionalValues({ ...weapon.key && { weapon: { [weapon.key]: weaponCond?.[weapon.key] } }, ...otherCond }, (conditional, conditionalValue, keys) => {\r\n      if (!Conditional.canShow(conditional, initialStats)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, initialStats, conditionalValue)\r\n      Character.mergeStats(initialStats, condStats)\r\n    })\r\n    return initialStats as ICalculatedStats\r\n  }\r\n  //TODO: this needs weaponSheet/artifactsheets as a parameter.\r\n  static getDisplayStatKeys = (stats: ICalculatedStats, characterSheet: CharacterSheet) => {\r\n    const eleKey = stats.characterEle\r\n    const basicKeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\", \"enerRech_\", `${eleKey}_dmg_`]\r\n    const isAutoElemental = characterSheet.isAutoElemental\r\n    if (!isAutoElemental) basicKeys.push(\"physical_dmg_\")\r\n\r\n    //show elemental interactions\r\n    const transReactions = deepClone(ElementToReactionKeys[eleKey])\r\n    const weaponTypeKey = characterSheet.weaponTypeKey\r\n    if (!transReactions.includes(\"shattered_hit\") && weaponTypeKey === \"claymore\") transReactions.push(\"shattered_hit\")\r\n    const charFormulas = {}\r\n    const talentSheet = characterSheet.getTalent(eleKey)\r\n    talentSheet && Object.entries(talentSheet.formula).forEach(([talentKey, formulas]: any) => {\r\n      Object.values(formulas as any).forEach((formula: any) => {\r\n        if (!formula.field.canShow(stats)) return\r\n        if (talentKey === \"normal\" || talentKey === \"charged\" || talentKey === \"plunging\") talentKey = \"auto\"\r\n        const formKey = `talentKey_${talentKey}`\r\n        if (!charFormulas[formKey]) charFormulas[formKey] = []\r\n        charFormulas[formKey].push(formula.keys)\r\n      })\r\n    })\r\n\r\n    const weaponFormulas = Formula.formulas?.weapon?.[stats.weapon.key]\r\n\r\n    if (weaponFormulas) {\r\n      Object.values(weaponFormulas as any).forEach((formula: any) => {\r\n        if (!formula.field.canShow(stats)) return\r\n        const formKey = `weapon_${stats.weapon.key}`\r\n        if (!charFormulas[formKey]) charFormulas[formKey] = []\r\n        charFormulas[formKey].push(formula.keys)\r\n      })\r\n    }\r\n    return { basicKeys, ...charFormulas, transReactions }\r\n  }\r\n  static getDisplayHeading(key: string, characterSheet: CharacterSheet, weaponSheet: WeaponSheet, eleKey: ElementKey = \"anemo\") {\r\n    if (key === \"basicKeys\") return \"Basic Stats\"\r\n    else if (key === \"genericAvgHit\") return \"Generic Optimization Values\"\r\n    else if (key === \"transReactions\") return \"Transformation Reaction\"\r\n    else if (key.startsWith(\"talentKey_\")) {\r\n      const subkey = key.split(\"talentKey_\")[1]\r\n      return (characterSheet?.getTalentOfKey(subkey, eleKey)?.name ?? subkey)\r\n    } else if (key.startsWith(\"weapon_\")) {\r\n      const subkey = key.split(\"weapon_\")[1]\r\n      return (weaponSheet?.name ?? subkey)\r\n    }\r\n    return \"\"\r\n  }\r\n}","import { LevelNameData, WeaponLevelKeys, WeaponTypeData } from '../Data/WeaponData';\r\nimport WeaponSheet from './WeaponSheet';\r\nexport default class Weapon {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Weapon) throw Error('A static class cannot be instantiated.'); }\r\n\r\n  static getLevelName = (levelKey, defVal = \"\") => (LevelNameData[levelKey] || defVal)\r\n  static getLevelIndex = (levelKey): number => WeaponLevelKeys.indexOf(levelKey)\r\n\r\n  //base Stat\r\n  static getWeaponMainStatVal = (weaponSheet: WeaponSheet, levelKey, defVal = 0) => (weaponSheet.baseStats.main[Weapon.getLevelIndex(levelKey)] || defVal)\r\n  static getWeaponSubstatVal = (weaponSheet: WeaponSheet, levelKey, defVal = 0) => (weaponSheet.baseStats.sub?.[Weapon.getLevelIndex(levelKey)] || defVal)\r\n  static getWeaponSubstatKey = (weaponSheet: WeaponSheet, defVal = \"\") => (weaponSheet.baseStats?.substatKey || defVal)\r\n\r\n  static getWeaponTypeName = (weaponType, defVal = \"\") => (WeaponTypeData[weaponType] || defVal)\r\n  static getWeaponTypeKeys = (): string[] => Object.keys(WeaponTypeData)\r\n\r\n  static getWeaponMainStatValWithOverride = (weaponObj: any, weaponSheet: WeaponSheet, defVal = 0) =>\r\n    weaponObj?.overrideMainVal || Weapon.getWeaponMainStatVal(weaponSheet, weaponObj?.levelKey, defVal);\r\n  static getWeaponSubstatValWithOverride = (weaponObj: any, weaponSheet: WeaponSheet, defVal = 0) =>\r\n    weaponObj?.overrideSubVal || Weapon.getWeaponSubstatVal(weaponSheet, weaponObj?.levelKey, defVal);\r\n}","export default __webpack_public_path__ + \"static/media/Element_Anemo.f809fde3.png\";","import anemo from './Element_Anemo.png'\r\nimport cryo from './Element_Cryo.png'\r\nimport dendro from './Element_Dendro.png'\r\nimport electro from './Element_Electro.png'\r\nimport geo from './Element_Geo.png'\r\nimport hydro from './Element_Hydro.png'\r\nimport pyro from './Element_Pyro.png'\r\n\r\nimport bow from './Weapon-class-bow-icon.png'\r\nimport catalyst from './Weapon-class-catalyst-icon.png'\r\nimport claymore from './Weapon-class-claymore-icon.png'\r\nimport polearm from './Weapon-class-polearm-icon.png'\r\nimport sword from './Weapon-class-sword-icon.png'\r\n\r\nimport fragile from './Item_Fragile_Resin.png'\r\nimport condensed from './Item_Condensed_Resin.png'\r\n\r\n//EXP BOOKS\r\nimport advice from './Item_Wanderer\\'s_Advice.png'\r\nimport wit from './Item_Hero\\'s_Wit.png'\r\nimport experience from './Item_Adventurer\\'s_Experience.png'\r\n\r\nlet Assets = {\r\n  elements: { anemo, cryo, dendro, electro, geo, hydro, pyro },\r\n  weaponTypes: { bow, catalyst, claymore, polearm, sword },\r\n  resin: {\r\n    fragile,\r\n    condensed\r\n  },\r\n  exp_books: {\r\n    advice,\r\n    wit,\r\n    experience,\r\n  }\r\n};\r\nexport default Assets;","export default __webpack_public_path__ + \"static/media/Element_Cryo.019d72f9.png\";","export default __webpack_public_path__ + \"static/media/Element_Dendro.8ee0f26d.png\";","export default __webpack_public_path__ + \"static/media/Element_Electro.342332ac.png\";","export default __webpack_public_path__ + \"static/media/Element_Geo.b7e865c6.png\";","export default __webpack_public_path__ + \"static/media/Element_Hydro.f2f8bd8a.png\";","export default __webpack_public_path__ + \"static/media/Element_Pyro.f65c2e38.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-bow-icon.b8e7b5ca.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-catalyst-icon.2cbef800.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-claymore-icon.17418b20.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-polearm-icon.a4e7fffc.png\";","export default __webpack_public_path__ + \"static/media/Weapon-class-sword-icon.4470b487.png\";","export default __webpack_public_path__ + \"static/media/Item_Fragile_Resin.f9ec8223.png\";","export default __webpack_public_path__ + \"static/media/Item_Condensed_Resin.1cecf64a.png\";","export default __webpack_public_path__ + \"static/media/Item_Wanderer's_Advice.58c62cf7.png\";","export default __webpack_public_path__ + \"static/media/Item_Hero's_Wit.a79e36d0.png\";","export default __webpack_public_path__ + \"static/media/Item_Adventurer's_Experience.92b5d195.png\";","import ICalculatedStats from './Types/ICalculatedStats';\r\nimport { crawlObject, objPathValue } from './Util/Util';\r\n\r\nexport const formulaImport = import('./Data/formula').then(imp => {\r\n  Formula.formulas = imp.default\r\n  crawlObject(imp.default, [], f => typeof f === \"function\", (formula, keys) => formula.keys = keys)\r\n})\r\n\r\nexport default class Formula {\r\n  constructor() { if (this instanceof Formula) throw Error('A static class cannot be instantiated.'); }\r\n  static formulas: any = {}\r\n  static get = (keys: string[]): Promise<((stats: ICalculatedStats) => any[]) | object | undefined> => formulaImport.then(() => objPathValue(Formula.formulas, keys))\r\n}\r\n","const WeaponLevelKeys = [\"L1\", \"L5\", \"L10\", \"L15\", \"L20\", \"L20A\", \"L25\", \"L30\", \"L35\", \"L40\", \"L40A\", \"L45\", \"L50\", \"L50A\", \"L55\", \"L60\", \"L60A\", \"L65\", \"L70\", \"L70A\", \"L75\", \"L80\", \"L80A\", \"L85\", \"L90\",]\r\nconst LevelNameData = { \"L1\": \"Lvl. 1\", \"L5\": \"Lvl. 5\", \"L10\": \"Lvl. 10\", \"L15\": \"Lvl. 15\", \"L20\": \"Lvl. 20\", \"L20A\": \"Lvl. 20/40\", \"L25\": \"Lvl. 25\", \"L30\": \"Lvl. 30\", \"L35\": \"Lvl. 35\", \"L40\": \"Lvl. 40\", \"L40A\": \"Lvl. 40/50\", \"L45\": \"Lvl. 45\", \"L50\": \"Lvl. 50\", \"L50A\": \"Lvl. 50/60\", \"L55\": \"Lvl. 55\", \"L60\": \"Lvl. 60\", \"L60A\": \"Lvl. 60/70\", \"L65\": \"Lvl. 65\", \"L70\": \"Lvl. 70\", \"L70A\": \"Lvl. 70/80\", \"L75\": \"Lvl. 75\", \"L80\": \"Lvl. 80\", \"L80A\": \"Lvl. 80/90\", \"L85\": \"Lvl. 85\", \"L90\": \"Lvl. 90\", }\r\nconst WeaponTypeData = {\r\n  sword: \"Sword\",\r\n  claymore: \"Claymore\",\r\n  catalyst: \"Catalyst\",\r\n  bow: \"Bow\",\r\n  polearm: \"Polearm\"\r\n}\r\n\r\nexport {\r\n  WeaponLevelKeys,\r\n  LevelNameData,\r\n  WeaponTypeData\r\n}","import { Formulas, StatData } from \"./StatData\"\r\n\r\n//generate a statKey dependency, to reduce build generation calculation on a single stat.\r\nfunction GetFormulaDependency(formula) {\r\n  const dependency = new Set()\r\n  formula(\r\n    new Proxy({}, { get: (target, prop, receiver) => { dependency.add(prop) } }),\r\n    new Proxy({}, { get: (target, prop, receiver) => { dependency.add(prop) } }))\r\n  return [...dependency]\r\n}\r\nconst formulaKeyDependency = Object.freeze(Object.fromEntries(\r\n  Object.keys(Formulas).map(key => [key, GetFormulaDependency(Formulas[key])])\r\n))\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  let statKeys = Object.keys(StatData)\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]: any) =>\r\n    dependencies.forEach(key =>\r\n      !statKeys.includes(key as any) &&\r\n      console.error(`Formula ${formulaKey} depends key ${key} that does not Exist in StatData.`))\r\n  )\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]: any) =>\r\n    StatData[formulaKey]?.const && dependencies.forEach(key =>\r\n      !StatData[key as any]?.const &&\r\n      console.error(`Constant formula ${formulaKey} depends on dynamic key ${key}.`)\r\n    )\r\n  )\r\n}\r\n\r\nfunction GetDependencies(modifiers = {}, keys = Object.keys(StatData)) {\r\n  let dependencies = new Set()\r\n  keys.forEach(key => InsertDependencies(key, modifiers, dependencies))\r\n  return [...dependencies]\r\n}\r\nfunction InsertDependencies(key, modifiers, dependencies) {\r\n  if (dependencies.has(key)) return\r\n  formulaKeyDependency[key]?.forEach(k => InsertDependencies(k, modifiers, dependencies))\r\n  Object.keys(modifiers[key] ?? {}).forEach(k => InsertDependencies(k, modifiers, dependencies))\r\n  dependencies.add(key)\r\n}\r\n\r\n//if the optimizationTarget is in the form of {dmg:0.6}, it can be reduced to \"dmg\" for the purpose to build generation.\r\nconst reduceOptimizationTarget = (optimizationTarget) =>\r\n  (typeof optimizationTarget === \"object\" && Object.keys(optimizationTarget).length === 1 && typeof optimizationTarget[Object.keys(optimizationTarget)[0] as any] === \"number\") ? Object.keys(optimizationTarget)[0] : optimizationTarget\r\n\r\n\r\nexport {\r\n  GetFormulaDependency,\r\n  GetDependencies,\r\n  reduceOptimizationTarget,\r\n}\r\n","import { faQuestionCircle, faTimes } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { Suspense, useState } from \"react\"\r\nimport { Button, Card, Col, Modal, Row, Spinner } from \"react-bootstrap\"\r\nimport { getRandomElementFromArray, loadFromLocalStorage, saveToLocalStorage } from \"../Util/Util\"\r\n\r\nexport default function InfoComponent({ pageKey = \"\", text = \"\", modalTitle = \"\", children }: { pageKey: string, text: Displayable | Displayable[], modalTitle: Displayable, children: JSX.Element }) {\r\n  const [showInfoModal, setshowInfoModal] = useState(loadFromLocalStorage(\"infoShown\")?.[pageKey] ?? true)\r\n  const [displayText,] = useState(Array.isArray(text) ? getRandomElementFromArray(text) : text)\r\n  const closeModal = () => {\r\n    const infoShown = loadFromLocalStorage(\"infoShown\") ?? {}\r\n    infoShown[pageKey] = false\r\n    saveToLocalStorage(\"infoShown\", infoShown)\r\n    setshowInfoModal(false)\r\n  }\r\n  return <>\r\n    <Modal show={showInfoModal} onHide={() => closeModal()} size=\"xl\" variant=\"success\" contentClassName=\"bg-transparent\">\r\n      <Card bg=\"darkcontent\" text={\"lightfont\" as any} >\r\n        <Card.Header>\r\n          <Row>\r\n            <Col>\r\n              <Card.Title>{modalTitle}</Card.Title>\r\n            </Col>\r\n            <Col xs=\"auto\">\r\n              <Button variant=\"danger\" onClick={() => closeModal()} >\r\n                <FontAwesomeIcon icon={faTimes} /></Button>\r\n            </Col>\r\n          </Row>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <Suspense fallback={<h3 className=\"text-center\">Loading... <Spinner animation=\"border\" variant=\"primary\" /></h3>}>\r\n            {children}\r\n          </Suspense>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <Button variant=\"danger\" onClick={() => closeModal()}>\r\n            <span>Close</span>\r\n          </Button>\r\n        </Card.Footer>\r\n      </Card>\r\n    </Modal >\r\n    <Card bg=\"lightcontent\" text={\"lightfont\" as any} className=\"mb-2\">\r\n      <Card.Body className=\"pl-2 py-0 pr-0\">\r\n        <Row>\r\n          <Col><small>{displayText}</small></Col>\r\n          <Col xs=\"auto\">\r\n            <Button size=\"sm\" variant=\"info\" className=\"m-0 py-1\" onClick={() => setshowInfoModal(true)}><FontAwesomeIcon icon={faQuestionCircle} /></Button>\r\n          </Col>\r\n        </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  </>\r\n}","import { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { Badge, Image } from 'react-bootstrap';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport { Link } from 'react-router-dom';\r\nimport { ArtifactSheet } from '../Artifact/ArtifactSheet';\r\nimport Assets from '../Assets/Assets';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport { StatIconEle } from '../Components/StatIcon';\r\nimport CharacterDatabase from '../Database/CharacterDatabase';\r\nimport Stat from '../Stat';\r\nimport { CharacterKey } from '../Types/consts';\r\nimport { useForceUpdate, usePromise } from '../Util/ReactUtil';\r\nimport Weapon from '../Weapon/Weapon';\r\nimport WeaponSheet from '../Weapon/WeaponSheet';\r\nimport Character from './Character';\r\nimport CharacterSheet from './CharacterSheet';\r\ntype CharacterCardProps = { characterKey: CharacterKey | \"\", onEdit?: (any) => void, onDelete?: (any) => void, cardClassName: string, header?: JSX.Element, bg?: string, footer?: boolean }\r\nexport default function CharacterCard({ characterKey, onEdit, onDelete, cardClassName = \"\", bg = \"\", header, footer = false }: CharacterCardProps) {\r\n  const [, forceUpdate] = useForceUpdate()\r\n  useEffect(() => {\r\n    characterKey && CharacterDatabase.registerCharListener(characterKey, forceUpdate)\r\n    return () => { characterKey && CharacterDatabase.unregisterCharListener(characterKey, forceUpdate) }\r\n  }, [characterKey, forceUpdate])\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll())\r\n  const character = CharacterDatabase.get(characterKey)\r\n  const characterSheet = usePromise(CharacterSheet.get(characterKey))\r\n  const weaponSheet = usePromise(character && WeaponSheet.get(character.weapon.key))\r\n  const stats = useMemo(() => character && characterSheet && weaponSheet && artifactSheets && Character.calculateBuild(character, characterSheet, weaponSheet, artifactSheets), [character, characterSheet, weaponSheet, artifactSheets])\r\n  if (!character || !characterSheet || !weaponSheet || !stats) return null;\r\n\r\n  const { weapon, constellation } = character\r\n  const name = characterSheet.name\r\n  const elementKey = stats.characterEle\r\n  const weaponTypeKey = characterSheet.weaponTypeKey\r\n  const weaponName = weaponSheet?.name\r\n  const weaponMainVal = Weapon.getWeaponMainStatValWithOverride(weapon, weaponSheet)\r\n  const weaponSubKey = Weapon.getWeaponSubstatKey(weaponSheet)\r\n  const weaponSubVal = Weapon.getWeaponSubstatValWithOverride(weapon, weaponSheet)\r\n  const weaponLevelName = Weapon.getLevelName(weapon.levelKey)\r\n  const weaponPassiveName = weaponSheet?.passiveName\r\n  const statkeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\",]\r\n  return (<Card className={cardClassName} bg={bg ? bg : \"darkcontent\"} text={\"lightfont\" as any}>\r\n    <Card.Header className=\"pr-2\">\r\n      <Row className=\"no-gutters\">\r\n        <Col >\r\n          {header ? header : <h5><b>{name}</b></h5>}\r\n        </Col>\r\n        <Col xs={\"auto\"}>\r\n          <span className=\"float-right align-top ml-1\">\r\n            {onEdit && <Button variant=\"primary\" size=\"sm\" className=\"mr-1\"\r\n              onClick={() => onEdit(characterKey)}>\r\n              <FontAwesomeIcon icon={faEdit} />\r\n            </Button>}\r\n            {onDelete && <Button variant=\"danger\" size=\"sm\"\r\n              onClick={() => onDelete(characterKey)}>\r\n              <FontAwesomeIcon icon={faTrashAlt} />\r\n            </Button>}\r\n          </span>\r\n        </Col>\r\n      </Row>\r\n    </Card.Header>\r\n    <Card.Body onClick={() => onEdit?.(characterKey)} className={onEdit ? \"cursor-pointer\" : \"\"} >\r\n      <Row>\r\n        <Col xs=\"auto\" className=\"pr-0\">\r\n          <Image src={characterSheet.thumbImg} className={`thumb-big grad-${characterSheet.star}star p-0`} thumbnail />\r\n        </Col>\r\n        <Col>\r\n          <h3 className=\"mb-0\">{Character.getLevelString(character)} {`C${constellation}`}</h3>\r\n          <h5 className=\"mb-0\"><Stars stars={characterSheet.star} colored /></h5>\r\n          <h2 className=\"mb-0\"><Image src={Assets.elements[elementKey]} className=\"inline-icon\" /> <Image src={Assets.weaponTypes?.[weaponTypeKey]} className=\"inline-icon\" /></h2>\r\n        </Col>\r\n      </Row>\r\n      <Row className=\"mb-2\">\r\n        <Col>\r\n          <h6 className=\"mb-0\">{weaponName}{weaponPassiveName && `(${weapon.refineIndex + 1})`} {weaponLevelName}</h6>\r\n          <span>ATK: {weaponMainVal}  {weaponPassiveName && <span>{Stat.getStatName(weaponSubKey)}: {weaponSubVal}{Stat.getStatUnit(weaponSubKey)}</span>}</span>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          {artifactSheets && Object.entries(ArtifactSheet.setEffects(artifactSheets, stats.setToSlots)).map(([key, arr]) => {\r\n            let artifactSetName = artifactSheets?.[key].name ?? \"\"\r\n            let highestNum = Math.max(...arr)\r\n            return <h5 key={key}><Badge variant=\"secondary\">{artifactSetName} <Badge variant=\"success\">{highestNum}</Badge></Badge></h5>\r\n          })}\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        {statkeys.map(statKey => {\r\n          let unit = Stat.getStatUnit(statKey)\r\n          let statVal = stats[statKey]\r\n          return <Col xs={12} key={statKey}>\r\n            <h6 className=\"d-inline\">{StatIconEle(statKey)} {Stat.getStatName(statKey)}</h6>\r\n            <span className={`float-right`}>\r\n              {statVal?.toFixed(Stat.fixedUnit(statKey)) + unit}\r\n            </span>\r\n          </Col>\r\n        })}\r\n      </Row>\r\n    </Card.Body>\r\n    {footer && <Card.Footer>\r\n      <Button as={Link} to={{\r\n        pathname: \"/build\",\r\n        characterKey\r\n      } as any}>Generate Builds</Button>\r\n    </Card.Footer>}\r\n  </Card>)\r\n}","import { faLink, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { lazy, useCallback, useEffect, useReducer, useRef, useState } from 'react';\r\nimport { Button, ButtonGroup, Card, Col, Container, Image, Row, Spinner, ToggleButton, ToggleButtonGroup } from 'react-bootstrap';\r\nimport ReactGA from 'react-ga';\r\nimport { Link } from 'react-router-dom';\r\nimport Assets from '../Assets/Assets';\r\nimport CharacterDatabase from '../Database/CharacterDatabase';\r\nimport InfoComponent from '../Components/InfoComponent';\r\nimport { allElements, CharacterKey } from '../Types/consts';\r\nimport { useForceUpdate, usePromise } from '../Util/ReactUtil';\r\nimport { loadFromLocalStorage, saveToLocalStorage } from '../Util/Util';\r\nimport Weapon from '../Weapon/Weapon';\r\nimport Character from './Character';\r\nimport CharacterCard from './CharacterCard';\r\nimport CharacterSheet from './CharacterSheet';\r\nimport i18next from 'i18next';\r\nconst InfoDisplay = React.lazy(() => import('./InfoDisplay'));\r\n\r\n//lazy load the character display\r\nconst CharacterDisplayCard = lazy(() => import('./CharacterDisplayCard'))\r\nconst toggle = {\r\n  level: \"Level\",\r\n  rarity: \"Rarity\",\r\n  name: \"Name\"\r\n}\r\n\r\nfunction filterReducer(oldFilter, newFilter) {\r\n  if (newFilter === oldFilter)\r\n    return \"\"\r\n  return newFilter\r\n}\r\n\r\nexport default function CharacterDisplay(props) {\r\n  const [charIdToEdit, setcharIdToEdit] = useState(\"\")\r\n  const [sortBy, setsortBy] = useState(() => Object.keys(toggle)[0])\r\n  const [elementalFilter, elementalFilterDispatch] = useReducer(filterReducer, \"\")\r\n  const [weaponFilter, weaponFilterDispatch] = useReducer(filterReducer, \"\")\r\n  const [newCharacter, setnewCharacter] = useState(false)\r\n  const [, forceUpdate] = useForceUpdate()\r\n  const scrollRef = useRef(null as any)\r\n  useEffect(() => {\r\n    ReactGA.pageview('/character')\r\n    const saved = loadFromLocalStorage(\"CharacterDisplay.state\")\r\n    if (saved) {\r\n      const { charIdToEdit, sortBy, elementalFilter, weaponFilter } = saved\r\n      setcharIdToEdit(charIdToEdit)\r\n      setsortBy(sortBy)\r\n      allElements.includes(elementalFilter) && elementalFilterDispatch(elementalFilter)\r\n      Weapon.getWeaponTypeKeys().includes(weaponFilter) && weaponFilterDispatch(weaponFilter)\r\n    }\r\n    CharacterDatabase.registerListener(forceUpdate)\r\n    return () => CharacterDatabase.unregisterListener(forceUpdate)\r\n  }, [forceUpdate])\r\n  const allCharacterSheets: StrictDict<CharacterKey, CharacterSheet> | {} = usePromise(CharacterSheet.getAll()) ?? {}\r\n  const sortingFunc = {\r\n    level: (ck) => CharacterDatabase.get(ck)?.level ?? 0,\r\n    rarity: (ck) => allCharacterSheets[ck]?.star\r\n  }\r\n  useEffect(() => {\r\n    const save = { charIdToEdit, sortBy, elementalFilter, weaponFilter }\r\n    saveToLocalStorage(\"CharacterDisplay.state\", save)\r\n  }, [charIdToEdit, sortBy, elementalFilter, weaponFilter])\r\n  const deleteCharacter = useCallback(async id => {\r\n    const chararcterSheet = await CharacterSheet.get(id)\r\n    let name = chararcterSheet?.name\r\n    //use translated string\r\n    if (typeof name === \"object\")\r\n      name = i18next.t(`char_${id}_gen:name`)\r\n\r\n    if (!window.confirm(`Are you sure you want to remove ${name}?`)) return\r\n    Character.remove(id)\r\n    if (charIdToEdit === id)\r\n      setcharIdToEdit(\"\")\r\n  }, [charIdToEdit, setcharIdToEdit])\r\n\r\n  const editCharacter = useCallback(id => {\r\n    setcharIdToEdit(id)\r\n    setTimeout(() => {\r\n      scrollRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n    }, 500);\r\n  }, [setcharIdToEdit, scrollRef])\r\n\r\n  const cancelEditCharacter = useCallback(() => {\r\n    setcharIdToEdit(\"\")\r\n    setnewCharacter(false)\r\n  }, [setcharIdToEdit])\r\n\r\n  const charKeyList = CharacterDatabase.getCharacterKeyList().filter(cKey => {\r\n    if (elementalFilter && elementalFilter !== allCharacterSheets[cKey]?.elementKey) return false\r\n    if (weaponFilter && weaponFilter !== allCharacterSheets[cKey]?.weaponTypeKey) return false\r\n    return true\r\n  }).sort((a, b) => {\r\n    if (sortBy === \"name\") {\r\n      if (a < b) return -1;\r\n      if (a > b) return 1;\r\n      // names must be equal\r\n      return 0;\r\n    }\r\n    if (sortBy === \"level\") {\r\n      const diff = sortingFunc[\"level\"](b) - sortingFunc[\"level\"](a)\r\n      if (diff) return diff\r\n      return sortingFunc[\"rarity\"](b) - sortingFunc[\"rarity\"](a)\r\n    } else {\r\n      const diff = sortingFunc[\"rarity\"](b) - sortingFunc[\"rarity\"](a)\r\n      if (diff) return diff\r\n      return sortingFunc[\"level\"](b) - sortingFunc[\"level\"](a)\r\n    }\r\n  })\r\n  const showEditor = Boolean(charIdToEdit || newCharacter)\r\n  return <Container ref={scrollRef} className=\"mt-2\">\r\n    <InfoComponent\r\n      pageKey=\"characterPage\"\r\n      modalTitle=\"Character Management Page Guide\"\r\n      text={[\"Every character will be tested with in-game numbers for maximum accuracy.\",\r\n        \"You can see the details of the calculations of every number.\",\r\n        \"You need to manually enable auto infusion for characters like Choungyun or Noelle.\",\r\n        \"You can change character constellations in both \\\"Character\\\" tab and in \\\"Talents\\\" tab.\",\r\n        \"Modified character Stats show up in yellow.\"]}\r\n    >\r\n      <InfoDisplay />\r\n    </InfoComponent>\r\n    {/* editor/character detail display */}\r\n    {showEditor ? <Row className=\"mt-2\"><Col>\r\n      <React.Suspense fallback={<Card bg=\"darkcontent\" text={\"lightfont\" as any} >\r\n        <Card.Body><h3 className=\"text-center\">Loading... <Spinner animation=\"border\" variant=\"primary\" /></h3></Card.Body>\r\n      </Card>}>\r\n        <CharacterDisplayCard\r\n          character={undefined}\r\n          newBuild={undefined}\r\n          tabName={undefined}\r\n          editable\r\n          setCharacterKey={editCharacter}\r\n          characterKey={charIdToEdit}\r\n          onClose={cancelEditCharacter}\r\n          footer={<CharDisplayFooter onClose={cancelEditCharacter} characterKey={charIdToEdit} />}\r\n        />\r\n      </React.Suspense>\r\n    </Col></Row> : null}\r\n    <Card bg=\"darkcontent\" text={\"lightfont\" as any} className=\"mt-2\">\r\n      <Card.Body className=\"p-2\">\r\n        <Row>\r\n          <Col xs=\"auto\">\r\n            <ButtonGroup>\r\n              {allElements.map(eleKey =>\r\n                <Button key={eleKey} variant={(!elementalFilter || elementalFilter === eleKey) ? \"success\" : \"primary\"} className=\"py-1 px-2\" onClick={() => elementalFilterDispatch(eleKey)} ><h4 className=\"mb-0\"><Image src={Assets.elements?.[eleKey]} className=\"inline-icon\" /></h4></Button>)}\r\n            </ButtonGroup>\r\n          </Col>\r\n          <Col>\r\n            <ButtonGroup >\r\n              {Weapon.getWeaponTypeKeys().map(weaponType =>\r\n                <Button key={weaponType} variant={(!weaponFilter || weaponFilter === weaponType) ? \"success\" : \"primary\"} className=\"py-1 px-2\" onClick={() => weaponFilterDispatch(weaponType)}><h4 className=\"mb-0\"><Image src={Assets.weaponTypes?.[weaponType]} className=\"inline-icon\" /></h4></Button>)}\r\n            </ButtonGroup>\r\n          </Col>\r\n          <Col xs=\"auto\">\r\n            <span>Sort by: </span>\r\n            <ToggleButtonGroup type=\"radio\" name=\"level\" value={sortBy} onChange={setsortBy}>\r\n              {Object.entries(toggle).map(([key, text]) =>\r\n                <ToggleButton key={key} value={key} variant={sortBy === key ? \"success\" : \"primary\"}>{text}</ToggleButton>)}\r\n            </ToggleButtonGroup>\r\n          </Col>\r\n        </Row>\r\n      </Card.Body>\r\n    </Card>\r\n    <Row className=\"mt-2\">\r\n      {!showEditor && <Col lg={4} md={6} className=\"mb-2\">\r\n        <Card className=\"h-100\" bg=\"darkcontent\" text={\"lightfont\" as any}>\r\n          <Card.Header className=\"pr-2\">\r\n            <span>Add New Character</span>\r\n          </Card.Header>\r\n          <Card.Body className=\"d-flex flex-column justify-content-center\">\r\n            <Row className=\"d-flex flex-row justify-content-center\">\r\n              <Col xs=\"auto\">\r\n                <Button onClick={() => setnewCharacter(true)}>\r\n                  <h1><FontAwesomeIcon icon={faPlus} className=\"fa-fw\" /></h1>\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>}\r\n      {charKeyList.map(charKey =>\r\n        <Col key={charKey} lg={4} md={6} className=\"mb-2\">\r\n          <CharacterCard\r\n            header={undefined}\r\n            cardClassName=\"h-100\"\r\n            characterKey={charKey}\r\n            onDelete={deleteCharacter}\r\n            onEdit={editCharacter}\r\n            footer\r\n          />\r\n        </Col>)}\r\n    </Row>\r\n  </Container>\r\n}\r\nfunction CharDisplayFooter({ onClose, characterKey }) {\r\n  return <Row>\r\n    <Col>\r\n      <Button variant=\"info\" as={Link} to={{ pathname: \"/flex\", characterKey } as any}><FontAwesomeIcon icon={faLink} /> Share Character</Button>\r\n    </Col>\r\n    <Col xs=\"auto\">\r\n      <Button variant=\"danger\" onClick={onClose}>Close</Button>\r\n    </Col>\r\n  </Row>\r\n}"],"sourceRoot":""}