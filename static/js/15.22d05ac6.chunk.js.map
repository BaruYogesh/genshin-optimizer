{"version":3,"sources":["Components/FieldDisplay.tsx","Components/CustomFormControl.tsx","Conditional/ConditionalSelector.tsx","Components/ConditionalDisplay.tsx","Components/DocumentDisplay.tsx","../node_modules/react-bootstrap/esm/Tooltip.js","../node_modules/react-overlays/esm/Overlay.js","../node_modules/react-bootstrap/esm/Overlay.js","../node_modules/react-bootstrap/esm/OverlayTrigger.js","../node_modules/react-bootstrap/esm/InputGroup.js","../node_modules/@restart/hooks/esm/useTimeout.js","Weapon/WeaponStatsCard.tsx","Weapon/WeaponDisplayCard.tsx","../node_modules/react-bootstrap/esm/ListGroupItem.js","../node_modules/react-bootstrap/esm/ListGroup.js"],"names":["FieldDisplay","field","index","className","useContext","buildContext","newBuild","equippedBuild","compareBuild","build","canShow","useMemo","fixedVal","fixed","fieldVal","value","Character","getTalentFieldValue","formula","retVal","fieldEquippedVal","parseInt","toFixed","diff","fieldText","fieldVariant","formulaTextOverlay","fieldFormulaText","placement","overlay","id","icon","faQuestionCircle","style","cursor","unit","Item","variant","CustomFormControl","onChange","disabled","float","placeholder","allowEmpty","max","min","useState","state","setState","sendChange","useCallback","undefined","parseFunc","parseFloat","useEffect","toString","aria-label","type","e","target","onBlur","onKeyDown","key","ConditionalSelector","conditional","conditionalValue","setConditional","name","stats","conditionalNum","conditionalStateKey","states","Object","values","text","evalIfFunc","maxStack","badge","Badge","Dropdown","Toggle","size","whiteSpace","Menu","onClick","entries","map","i","stateKey","condial","Fragment","Array","keys","v","stack","Button","faCheckSquare","faSquare","ConditionalDisplay","characterDispatch","fieldClassName","Conditional","resolve","conditionalStats","fields","conditionalFields","displayFields","statsToFields","condV","layeredAssignment","conditionalValues","deletePropPath","objClearEmpties","Card","bg","Header","ListGroup","DocumentDisplay","sections","section","talentText","length","_excluded","Tooltip","React","forwardRef","_ref","ref","bsPrefix","children","arrowProps","props","popper","show","_objectWithoutPropertiesLoose","useBootstrapPrefix","primaryPlacement","split","createElement","_extends","role","classNames","defaultProps","displayName","Overlay","outerRef","flip","offset","_props$containerPaddi","containerPadding","_props$popperConfig","popperConfig","Transition","transition","_useCallbackRef","useCallbackRef","rootElement","attachRef","_useCallbackRef2","arrowElement","attachArrowRef","mergedRef","useMergedRefs","container","useWaitForDOMRef","_useState","exited","setExited","_usePopper","usePopper","mergeOptionsWithPopperConfig","enableEvents","styles","attributes","mountOverlay","useRootClose","onHide","rootClose","rootCloseDisabled","clickTrigger","rootCloseEvent","child","arrow","onExit","onExiting","onEnter","onEntering","onEntered","appear","onExited","apply","arguments","ReactDOM","createPortal","propTypes","PropTypes","bool","oneOf","placements","any","func","isRequired","number","object","_len","args","_key","_PropTypes$func","concat","elementType","_excluded2","Fade","_ref$popperConfig","outerProps","popperRef","useRef","_usePopperMarginModif","usePopperMarginModifiers","marginModifiers","actualTransition","BaseOverlay","modifiers","_ref2","_state$modifiersData$","overlayProps","update","forceUpdate","aRef","__wrapped","r","safeFindDOMNode","wrapRefs","assign","current","scheduleUpdate","outOfBoundaries","modifiersData","hide","isReferenceHidden","cloneElement","RefHolder","_React$Component","this","_inheritsLoose","prototype","render","Component","handleMouseOverOut","handler","relatedNative","currentTarget","related","relatedTarget","nativeEvent","contains","OverlayTrigger","trigger","propsShow","_ref$defaultShow","defaultShow","onToggle","propsDelay","delay","_ref$flip","indexOf","triggerNodeRef","timeout","useTimeout","hoverStateRef","_useUncontrolledProp","useUncontrolledProp","setShow","normalizeDelay","Children","only","onFocus","getTarget","handleShow","clear","set","handleHide","handleFocus","handleBlur","_len2","_key2","handleClick","handleMouseOver","_len3","_key3","handleMouseOut","_len4","_key4","triggers","triggerProps","onMouseOver","onMouseOut","InputGroupAppend","createWithBsPrefix","InputGroupPrepend","InputGroupText","InputGroup","hasValidation","_ref$as","as","InputGroupWithExtras","Text","Radio","Checkbox","Append","Prepend","MAX_DELAY_MS","Math","pow","setChainedTimeout","handleRef","fn","timeoutAtMs","delayMs","Date","now","setTimeout","isMounted","useMounted","useWillUnmount","clearTimeout","WeaponStatsCard","title","statsVals","WeaponDisplayCard","propWeaponId","weaponId","charData","footer","onClose","database","DatabaseContext","useForceUpdate","databaseToken","onDatabaseUpdate","buildContextObj","weapon","_getWeapon","level","refine","ascension","location","weaponSheet","usePromise","WeaponSheet","get","weaponTypeKey","weaponType","followWeapon","weaponDispatch","newWeapon","updateWeapon","setLevel","clamp","ascensionMaxLevel","findIndex","ascenML","setAscension","lowerAscension","refineIndex","characterSheet","CharacterSheet","weaponFilter","ws","Row","Col","ButtonGroup","WeaponSelection","onSelect","k","filter","ItemText","Divider","xs","ambiguousLevel","milestoneLevels","lv","lvlstr","faTimes","localDatabase","SwapBtn","onChangeId","setWeaponLocation","character","Body","substatKey","getSubStatKey","weaponDisplayMainVal","getMainStatValue","weaponDisplaySubVal","getSubStatValue","weaponPassiveName","passiveName","weaponBonusStats","document","md","lg","Image","src","img","rarity","thumbnail","description","process","getLevelString","stars","passiveDescription","Provider","setCompareBuild","atk","Footer","EquipmentDropdown","onEquip","cKey","disableUnequip","close","clickHandler","weaponSheets","getAll","weaponIdList","weapons","wKey","dbWeapon","faExchangeAlt","Modal","contentClassName","Assets","weaponTypes","WeaponCard","cardClassName","active","ListGroupItem","action","event","preventDefault","stopPropagation","tabIndex","AbstractNavItem","href","horizontal","horizontalVariant","_useUncontrolled","useUncontrolled","activeKey","initialBsPrefix","_useUncontrolled$as","controlledProps","AbstractNav"],"mappings":"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","file":"static/js/15.22d05ac6.chunk.js","sourcesContent":["import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useContext, useMemo } from 'react';\r\nimport { ListGroup, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport { buildContext } from \"../Build/Build\";\r\nimport Character from \"../Character/Character\";\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\";\r\n\r\nexport default function FieldDisplay({ field, index, className = \"p-2\" }: { field: IFieldDisplay, index: number, className?: string }) {\r\n  const { newBuild, equippedBuild, compareBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild)\r\n  const canShow = useMemo(() => build ? field?.canShow?.(build) : false, [field, build])\r\n  const fixedVal = field?.fixed || 0\r\n  const fieldVal = useMemo(() => {\r\n    if (field.value) return Character.getTalentFieldValue(field, \"value\", build)\r\n    else if (field.formula) {\r\n      let retVal = Character.getTalentFieldValue(field, \"formula\", build)?.[0]?.(build)\r\n      //compareAgainstEquipped\r\n      if (compareBuild && equippedBuild && typeof retVal === \"number\") {\r\n        let fieldEquippedVal = field.value ? field.value : field.formula?.(equippedBuild)?.[0]?.(equippedBuild)\r\n        if (typeof fieldEquippedVal === \"function\")\r\n          fieldEquippedVal = parseInt(fieldEquippedVal?.(equippedBuild)?.toFixed?.(fixedVal))\r\n        let diff = retVal - fieldEquippedVal\r\n        retVal = <span>{fieldEquippedVal?.toFixed(fixedVal) ?? fieldEquippedVal}{diff ? <span className={diff > 0 ? \"text-success\" : \"text-danger\"}> ({diff > 0 ? \"+\" : \"\"}{diff?.toFixed?.(fixedVal) || diff})</span> : \"\"}</span>\r\n      }\r\n      return retVal\r\n    }\r\n  }, [compareBuild, fixedVal, equippedBuild, field, build])\r\n\r\n  const fieldText = useMemo(() => Character.getTalentFieldValue(field, \"text\", build), [field, build])\r\n  const fieldVariant = useMemo(() => Character.getTalentFieldValue(field, \"variant\", build), [field, build])\r\n\r\n  const formulaTextOverlay = useMemo(() => {\r\n    const fieldFormulaText = Character.getTalentFieldValue(field, \"formulaText\", build)\r\n    return fieldFormulaText ? <OverlayTrigger\r\n      placement=\"top\"\r\n      overlay={<Tooltip id=\"field-formula\">{fieldFormulaText}</Tooltip>}\r\n    >\r\n      <FontAwesomeIcon icon={faQuestionCircle} className=\"ml-2\" style={{ cursor: \"help\" }} />\r\n    </OverlayTrigger> : null\r\n  }, [field, build])\r\n\r\n  const unit = useMemo(() => Character.getTalentFieldValue(field, \"unit\", build), [field, build])\r\n\r\n  if (!canShow) return null\r\n  return <ListGroup.Item variant={index % 2 ? \"customdark\" : \"customdarker\"} className={className}>\r\n    <span><b>{fieldText}</b>{formulaTextOverlay}</span>\r\n    <span className={`float-right text-right text-${fieldVariant}`} >{fieldVal?.toFixed?.(fixedVal) ?? fieldVal}{unit}</span>\r\n  </ListGroup.Item>\r\n}\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\ntype props = {\r\n  value: number | undefined,\r\n  onChange: (newValue: number | undefined) => void,\r\n  className?: string\r\n  disabled?: boolean\r\n  float?: boolean,\r\n  placeholder?: string,\r\n  allowEmpty?: boolean,\r\n  max?: string | number,\r\n  min?: string | number,\r\n}\r\nexport default function CustomFormControl({ value, onChange, className = \"\", disabled = false, float = false, placeholder, allowEmpty = false, max, min }: props) {\r\n  const [state, setState] = useState(\"\")\r\n  const sendChange = useCallback(\r\n    () => {\r\n      if (allowEmpty && state === \"\") return onChange(undefined)\r\n      if (state === \"\") return onChange(0)\r\n      const parseFunc = float ? parseFloat : parseInt\r\n      onChange(parseFunc(state))\r\n    },\r\n    [onChange, state, float, allowEmpty],\r\n  )\r\n  useEffect(() => setState(value?.toString() ?? \"\"), [value, setState]) // update value on value change\r\n\r\n  return <FormControl\r\n    value={state}\r\n    aria-label=\"custom-input\"\r\n    className={`hide-appearance ${className}`}\r\n    type=\"number\"\r\n    placeholder={placeholder}\r\n    onChange={(e: any) => setState(e.target.value)}\r\n    onBlur={sendChange}\r\n    disabled={disabled}\r\n    onKeyDown={(e: any) => e.key === \"Enter\" && sendChange()}\r\n    max={max}\r\n    min={min}\r\n  />\r\n}","import { faCheckSquare, faSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport IConditional, { IConditionalValue } from '../Types/IConditional';\r\nimport { evalIfFunc } from '../Util/Util';\r\n\r\nexport default function ConditionalSelector({ conditional, conditionalValue, setConditional, name, disabled, stats }:\r\n  { conditional: IConditional, conditionalValue: IConditionalValue, setConditional: (newCond: IConditionalValue) => void, name: Displayable, disabled?: boolean, stats: ICalculatedStats }) {\r\n  const [conditionalNum = 0, conditionalStateKey] = conditionalValue\r\n  if (!conditional) return name as JSX.Element\r\n  if (\"states\" in conditional) {//complex conditional\r\n    const state = conditionalStateKey ? conditional.states[conditionalStateKey] : Object.values(conditional.states)[0]\r\n    const text = conditionalNum === 0 ? \"Not Active\" : <span>{state.name} {(evalIfFunc(state!.maxStack, stats) as number > 1 ? (`: ${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}`) : \"\")}</span>\r\n    const badge = <Badge variant={conditionalNum === 0 ? \"secondary\" : \"success\"}>{text}</Badge>\r\n    return <Dropdown>\r\n      <Dropdown.Toggle size=\"sm\" disabled={disabled}>\r\n        <h6 className=\"mb-0 d-inline\" style={{ whiteSpace: \"normal\" }}>{name} {badge}</h6>\r\n      </Dropdown.Toggle>\r\n      <Dropdown.Menu>\r\n        <Dropdown.Item onClick={() => setConditional([0])}>\r\n          <span>Not Active</span>\r\n        </Dropdown.Item>\r\n        {Object.entries(conditional.states).map(([stateKey, condial]: any, i) =>\r\n          <React.Fragment key={i}>\r\n            {[...Array(condial.maxStack).keys()].map(v => v + 1).map((stack, i) =>\r\n              <Dropdown.Item key={stateKey + i} onClick={() => setConditional([stack, stateKey])}>\r\n                {condial.name}{condial.maxStack > 1 ? `: ${stack} stack${stack > 1 ? \"s\" : \"\"}` : \"\"}\r\n              </Dropdown.Item>)}\r\n          </React.Fragment>\r\n        )}\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  } else {\r\n    const maxStack = evalIfFunc(conditional!.maxStack, stats) as number\r\n    if (maxStack > 1) {\r\n      //stacking conditional\r\n      const badge = <Badge variant={conditionalNum === 0 ? \"secondary\" : \"success\"}>{conditionalNum > 0 ? `${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}` : \"Not Active\"}</Badge>\r\n      return <Dropdown>\r\n        <Dropdown.Toggle size=\"sm\" disabled={disabled}>\r\n          <h6 className=\"mb-0 d-inline\" style={{ whiteSpace: \"normal\" }}>{name} {badge}</h6>\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu>\r\n          <Dropdown.Item onClick={() => setConditional([0])}>\r\n            <span>Not Active</span>\r\n          </Dropdown.Item>\r\n          {[...Array(maxStack).keys()].map(v => v + 1).map(stack =>\r\n            <Dropdown.Item key={stack} onClick={() => setConditional([stack])}>\r\n              {`${stack} stack${stack > 1 ? \"s\" : \"\"}`}\r\n            </Dropdown.Item>)}\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    } else if (maxStack === 1) {//single boolean conditional\r\n      return <Button size=\"sm\" onClick={() => setConditional([conditionalNum ? 0 : 1])} disabled={disabled}>\r\n        <h6 className=\"mb-0\"><FontAwesomeIcon icon={conditionalNum ? faCheckSquare : faSquare} /> {name}</h6>\r\n      </Button>\r\n    }\r\n  }\r\n  return null\r\n}","import { useCallback, useContext, useMemo } from \"react\"\r\nimport { Card, ListGroup } from \"react-bootstrap\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport Conditional from \"../Conditional/Conditional\"\r\nimport ConditionalSelector from \"../Conditional/ConditionalSelector\"\r\nimport IConditional from \"../Types/IConditional\"\r\nimport statsToFields from \"../Util/FieldUtil\"\r\nimport { deletePropPath, layeredAssignment, objClearEmpties } from \"../Util/Util\"\r\nimport FieldDisplay from \"./FieldDisplay\"\r\ntype ConditionalDisplayProps = {\r\n  conditional: IConditional,\r\n  characterDispatch: (any) => void,//TODO: characterDispatch type\r\n  fieldClassName?: string\r\n}\r\n\r\nexport default function ConditionalDisplay({ conditional, characterDispatch, fieldClassName }: ConditionalDisplayProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const stats = newBuild ? newBuild : equippedBuild\r\n  const canShow = useMemo(() => Conditional.canShow(conditional, stats), [conditional, stats])\r\n  const { stats: conditionalStats = {}, fields: conditionalFields = [], conditionalValue } = useMemo(() => canShow && Conditional.resolve(conditional, stats, undefined), [canShow, conditional, stats])\r\n  const displayFields = useMemo(() => canShow && [...statsToFields(conditionalStats, stats), ...conditionalFields], [canShow, conditionalStats, stats, conditionalFields])\r\n  const setConditional = useCallback(condV => {\r\n    if (!stats) return\r\n    const [conditionalNum = 0] = condV\r\n    if (!conditionalNum) {\r\n      deletePropPath(stats.conditionalValues, conditional!.keys)\r\n      objClearEmpties(stats.conditionalValues)\r\n    } else if (conditional.keys)\r\n      layeredAssignment(stats.conditionalValues, conditional!.keys, condV)\r\n    characterDispatch({ conditionalValues: stats.conditionalValues })\r\n  }, [conditional, stats, characterDispatch])\r\n\r\n  if (!canShow || !stats) return null\r\n  return <Card bg=\"darkcontent\" text={\"lightfont\" as any} className=\"mb-2 w-100\">\r\n    <Card.Header className=\"p-2\">\r\n      <ConditionalSelector\r\n        conditional={conditional}\r\n        conditionalValue={conditionalValue}\r\n        setConditional={setConditional}\r\n        name={conditional.name}\r\n        stats={stats} />\r\n    </Card.Header>\r\n    <ListGroup className=\"text-white\" variant=\"flush\">\r\n      {displayFields.map((field, i) => <FieldDisplay key={i} index={i} field={field} className={fieldClassName} />)}\r\n    </ListGroup>\r\n  </Card>\r\n}","import { useContext } from \"react\"\r\nimport { ListGroup } from \"react-bootstrap\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport { DocumentSection } from \"../Types/character\"\r\nimport { evalIfFunc } from \"../Util/Util\"\r\nimport ConditionalDisplay from \"./ConditionalDisplay\"\r\nimport FieldDisplay from \"./FieldDisplay\"\r\n\r\ntype SkillDisplayCardProps = {\r\n  sections: DocumentSection[],\r\n  characterDispatch: (any) => void,\r\n}\r\nexport default function DocumentDisplay({ sections, characterDispatch }: SkillDisplayCardProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  if (!build) return null\r\n  return <div className=\"w-100\">{sections?.map((section, i) => {\r\n    if (!section.canShow!(build)) return null\r\n    const talentText = evalIfFunc(section.text, build)\r\n    const fields = section.fields ?? []\r\n    return <div className=\"my-2\" key={\"section\" + i}>\r\n      <div>\r\n        <div className=\"mb-2\">{talentText}</div>\r\n        {fields.length > 0 && <ListGroup className=\"text-white mb-2\">\r\n          {fields?.map?.((field, i) => <FieldDisplay key={i} index={i} field={field} />)}\r\n        </ListGroup>}\r\n      </div>\r\n      {!!section.conditional && <ConditionalDisplay conditional={section.conditional} characterDispatch={characterDispatch} />}\r\n    </div>\r\n  })}</div>\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"placement\", \"className\", \"style\", \"children\", \"arrowProps\", \"popper\", \"show\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport isRequiredForA11y from 'prop-types-extra/lib/isRequiredForA11y';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  placement: 'right'\n};\nvar Tooltip = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      placement = _ref.placement,\n      className = _ref.className,\n      style = _ref.style,\n      children = _ref.children,\n      arrowProps = _ref.arrowProps,\n      _ = _ref.popper,\n      _2 = _ref.show,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'tooltip');\n\n  var _ref2 = (placement == null ? void 0 : placement.split('-')) || [],\n      primaryPlacement = _ref2[0];\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    style: style,\n    role: \"tooltip\",\n    \"x-placement\": primaryPlacement,\n    className: classNames(className, bsPrefix, \"bs-tooltip-\" + primaryPlacement)\n  }, props), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: \"arrow\"\n  }, arrowProps)), /*#__PURE__*/React.createElement(\"div\", {\n    className: bsPrefix + \"-inner\"\n  }, children));\n});\nTooltip.defaultProps = defaultProps;\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport useCallbackRef from '@restart/hooks/useCallbackRef';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport { placements } from './popper';\nimport usePopper from './usePopper';\nimport useRootClose from './useRootClose';\nimport useWaitForDOMRef from './useWaitForDOMRef';\nimport mergeOptionsWithPopperConfig from './mergeOptionsWithPopperConfig';\n\n/**\n * Built on top of `Popper.js`, the overlay component is\n * great for custom tooltip overlays.\n */\nvar Overlay = /*#__PURE__*/React.forwardRef(function (props, outerRef) {\n  var flip = props.flip,\n      offset = props.offset,\n      placement = props.placement,\n      _props$containerPaddi = props.containerPadding,\n      containerPadding = _props$containerPaddi === void 0 ? 5 : _props$containerPaddi,\n      _props$popperConfig = props.popperConfig,\n      popperConfig = _props$popperConfig === void 0 ? {} : _props$popperConfig,\n      Transition = props.transition;\n\n  var _useCallbackRef = useCallbackRef(),\n      rootElement = _useCallbackRef[0],\n      attachRef = _useCallbackRef[1];\n\n  var _useCallbackRef2 = useCallbackRef(),\n      arrowElement = _useCallbackRef2[0],\n      attachArrowRef = _useCallbackRef2[1];\n\n  var mergedRef = useMergedRefs(attachRef, outerRef);\n  var container = useWaitForDOMRef(props.container);\n  var target = useWaitForDOMRef(props.target);\n\n  var _useState = useState(!props.show),\n      exited = _useState[0],\n      setExited = _useState[1];\n\n  var _usePopper = usePopper(target, rootElement, mergeOptionsWithPopperConfig({\n    placement: placement,\n    enableEvents: !!props.show,\n    containerPadding: containerPadding || 5,\n    flip: flip,\n    offset: offset,\n    arrowElement: arrowElement,\n    popperConfig: popperConfig\n  })),\n      styles = _usePopper.styles,\n      attributes = _usePopper.attributes,\n      popper = _objectWithoutPropertiesLoose(_usePopper, [\"styles\", \"attributes\"]);\n\n  if (props.show) {\n    if (exited) setExited(false);\n  } else if (!props.transition && !exited) {\n    setExited(true);\n  }\n\n  var handleHidden = function handleHidden() {\n    setExited(true);\n\n    if (props.onExited) {\n      props.onExited.apply(props, arguments);\n    }\n  }; // Don't un-render the overlay while it's transitioning out.\n\n\n  var mountOverlay = props.show || Transition && !exited;\n  useRootClose(rootElement, props.onHide, {\n    disabled: !props.rootClose || props.rootCloseDisabled,\n    clickTrigger: props.rootCloseEvent\n  });\n\n  if (!mountOverlay) {\n    // Don't bother showing anything if we don't have to.\n    return null;\n  }\n\n  var child = props.children(_extends({}, popper, {\n    show: !!props.show,\n    props: _extends({}, attributes.popper, {\n      style: styles.popper,\n      ref: mergedRef\n    }),\n    arrowProps: _extends({}, attributes.arrow, {\n      style: styles.arrow,\n      ref: attachArrowRef\n    })\n  }));\n\n  if (Transition) {\n    var onExit = props.onExit,\n        onExiting = props.onExiting,\n        onEnter = props.onEnter,\n        onEntering = props.onEntering,\n        onEntered = props.onEntered;\n    child = /*#__PURE__*/React.createElement(Transition, {\n      \"in\": props.show,\n      appear: true,\n      onExit: onExit,\n      onExiting: onExiting,\n      onExited: handleHidden,\n      onEnter: onEnter,\n      onEntering: onEntering,\n      onEntered: onEntered\n    }, child);\n  }\n\n  return container ? /*#__PURE__*/ReactDOM.createPortal(child, container) : null;\n});\nOverlay.displayName = 'Overlay';\nOverlay.propTypes = {\n  /**\n   * Set the visibility of the Overlay\n   */\n  show: PropTypes.bool,\n\n  /** Specify where the overlay element is positioned in relation to the target element */\n  placement: PropTypes.oneOf(placements),\n\n  /**\n   * A DOM Element, Ref to an element, or function that returns either. The `target` element is where\n   * the overlay is positioned relative to.\n   */\n  target: PropTypes.any,\n\n  /**\n   * A DOM Element, Ref to an element, or function that returns either. The `container` will have the Portal children\n   * appended to it.\n   */\n  container: PropTypes.any,\n\n  /**\n   * Enables the Popper.js `flip` modifier, allowing the Overlay to\n   * automatically adjust it's placement in case of overlap with the viewport or toggle.\n   * Refer to the [flip docs](https://popper.js.org/popper-documentation.html#modifiers..flip.enabled) for more info\n   */\n  flip: PropTypes.bool,\n\n  /**\n   * A render prop that returns an element to overlay and position. See\n   * the [react-popper documentation](https://github.com/FezVrasta/react-popper#children) for more info.\n   *\n   * @type {Function ({\n   *   show: boolean,\n   *   placement: Placement,\n   *   update: () => void,\n   *   forceUpdate: () => void,\n   *   props: {\n   *     ref: (?HTMLElement) => void,\n   *     style: { [string]: string | number },\n   *     aria-labelledby: ?string\n   *     [string]: string | number,\n   *   },\n   *   arrowProps: {\n   *     ref: (?HTMLElement) => void,\n   *     style: { [string]: string | number },\n   *     [string]: string | number,\n   *   },\n   * }) => React.Element}\n   */\n  children: PropTypes.func.isRequired,\n\n  /**\n   * Control how much space there is between the edge of the boundary element and overlay.\n   * A convenience shortcut to setting `popperConfig.modfiers.preventOverflow.padding`\n   */\n  containerPadding: PropTypes.number,\n\n  /**\n   * A set of popper options and props passed directly to react-popper's Popper component.\n   */\n  popperConfig: PropTypes.object,\n\n  /**\n   * Specify whether the overlay should trigger `onHide` when the user clicks outside the overlay\n   */\n  rootClose: PropTypes.bool,\n\n  /**\n   * Specify event for toggling overlay\n   */\n  rootCloseEvent: PropTypes.oneOf(['click', 'mousedown']),\n\n  /**\n   * Specify disabled for disable RootCloseWrapper\n   */\n  rootCloseDisabled: PropTypes.bool,\n\n  /**\n   * A Callback fired by the Overlay when it wishes to be hidden.\n   *\n   * __required__ when `rootClose` is `true`.\n   *\n   * @type func\n   */\n  onHide: function onHide(props) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (props.rootClose) {\n      var _PropTypes$func;\n\n      return (_PropTypes$func = PropTypes.func).isRequired.apply(_PropTypes$func, [props].concat(args));\n    }\n\n    return PropTypes.func.apply(PropTypes, [props].concat(args));\n  },\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component\n   * used to animate the overlay as it changes visibility.\n   */\n  // @ts-ignore\n  transition: PropTypes.elementType,\n\n  /**\n   * Callback fired before the Overlay transitions in\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired as the Overlay begins to transition in\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the Overlay finishes transitioning in\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired right before the Overlay transitions out\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired as the Overlay begins to transition out\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the Overlay finishes transitioning out\n   */\n  onExited: PropTypes.func\n};\nexport default Overlay;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"children\", \"transition\", \"popperConfig\"],\n    _excluded2 = [\"props\", \"arrowProps\", \"show\", \"update\", \"forceUpdate\", \"placement\", \"state\"];\nimport React, { useRef } from 'react';\nimport classNames from 'classnames';\nimport BaseOverlay from 'react-overlays/Overlay';\nimport safeFindDOMNode from 'react-overlays/safeFindDOMNode';\nimport usePopperMarginModifiers from './usePopperMarginModifiers';\nimport Fade from './Fade';\nvar defaultProps = {\n  transition: Fade,\n  rootClose: false,\n  show: false,\n  placement: 'top'\n};\n\nfunction wrapRefs(props, arrowProps) {\n  var ref = props.ref;\n  var aRef = arrowProps.ref;\n\n  props.ref = ref.__wrapped || (ref.__wrapped = function (r) {\n    return ref(safeFindDOMNode(r));\n  });\n\n  arrowProps.ref = aRef.__wrapped || (aRef.__wrapped = function (r) {\n    return aRef(safeFindDOMNode(r));\n  });\n}\n\nfunction Overlay(_ref) {\n  var overlay = _ref.children,\n      transition = _ref.transition,\n      _ref$popperConfig = _ref.popperConfig,\n      popperConfig = _ref$popperConfig === void 0 ? {} : _ref$popperConfig,\n      outerProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var popperRef = useRef({});\n\n  var _usePopperMarginModif = usePopperMarginModifiers(),\n      ref = _usePopperMarginModif[0],\n      marginModifiers = _usePopperMarginModif[1];\n\n  var actualTransition = transition === true ? Fade : transition || null;\n  return /*#__PURE__*/React.createElement(BaseOverlay, _extends({}, outerProps, {\n    ref: ref,\n    popperConfig: _extends({}, popperConfig, {\n      modifiers: marginModifiers.concat(popperConfig.modifiers || [])\n    }),\n    transition: actualTransition\n  }), function (_ref2) {\n    var _state$modifiersData$;\n\n    var overlayProps = _ref2.props,\n        arrowProps = _ref2.arrowProps,\n        show = _ref2.show,\n        update = _ref2.update,\n        _ = _ref2.forceUpdate,\n        placement = _ref2.placement,\n        state = _ref2.state,\n        props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n    wrapRefs(overlayProps, arrowProps);\n    var popper = Object.assign(popperRef.current, {\n      state: state,\n      scheduleUpdate: update,\n      placement: placement,\n      outOfBoundaries: (state == null ? void 0 : (_state$modifiersData$ = state.modifiersData.hide) == null ? void 0 : _state$modifiersData$.isReferenceHidden) || false\n    });\n    if (typeof overlay === 'function') return overlay(_extends({}, props, overlayProps, {\n      placement: placement,\n      show: show\n    }, !transition && show && {\n      className: 'show'\n    }, {\n      popper: popper,\n      arrowProps: arrowProps\n    }));\n    return /*#__PURE__*/React.cloneElement(overlay, _extends({}, props, overlayProps, {\n      placement: placement,\n      arrowProps: arrowProps,\n      popper: popper,\n      className: classNames(overlay.props.className, !transition && show && 'show'),\n      style: _extends({}, overlay.props.style, overlayProps.style)\n    }));\n  });\n}\n\nOverlay.defaultProps = defaultProps;\nexport default Overlay;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nvar _excluded = [\"trigger\", \"overlay\", \"children\", \"popperConfig\", \"show\", \"defaultShow\", \"onToggle\", \"delay\", \"placement\", \"flip\"];\nimport contains from 'dom-helpers/contains';\nimport React, { cloneElement, useCallback, useRef } from 'react';\nimport useTimeout from '@restart/hooks/useTimeout';\nimport safeFindDOMNode from 'react-overlays/safeFindDOMNode';\nimport warning from 'warning';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport Overlay from './Overlay';\n\nvar RefHolder = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(RefHolder, _React$Component);\n\n  function RefHolder() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = RefHolder.prototype;\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return RefHolder;\n}(React.Component);\n\nfunction normalizeDelay(delay) {\n  return delay && typeof delay === 'object' ? delay : {\n    show: delay,\n    hide: delay\n  };\n} // Simple implementation of mouseEnter and mouseLeave.\n// React's built version is broken: https://github.com/facebook/react/issues/4251\n// for cases when the trigger is disabled and mouseOut/Over can cause flicker\n// moving from one child element to another.\n\n\nfunction handleMouseOverOut( // eslint-disable-next-line @typescript-eslint/no-shadow\nhandler, args, relatedNative) {\n  var e = args[0];\n  var target = e.currentTarget;\n  var related = e.relatedTarget || e.nativeEvent[relatedNative];\n\n  if ((!related || related !== target) && !contains(target, related)) {\n    handler.apply(void 0, args);\n  }\n}\n\nvar defaultProps = {\n  defaultShow: false,\n  trigger: ['hover', 'focus']\n};\n\nfunction OverlayTrigger(_ref) {\n  var trigger = _ref.trigger,\n      overlay = _ref.overlay,\n      children = _ref.children,\n      _ref$popperConfig = _ref.popperConfig,\n      popperConfig = _ref$popperConfig === void 0 ? {} : _ref$popperConfig,\n      propsShow = _ref.show,\n      _ref$defaultShow = _ref.defaultShow,\n      defaultShow = _ref$defaultShow === void 0 ? false : _ref$defaultShow,\n      onToggle = _ref.onToggle,\n      propsDelay = _ref.delay,\n      placement = _ref.placement,\n      _ref$flip = _ref.flip,\n      flip = _ref$flip === void 0 ? placement && placement.indexOf('auto') !== -1 : _ref$flip,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var triggerNodeRef = useRef(null);\n  var timeout = useTimeout();\n  var hoverStateRef = useRef('');\n\n  var _useUncontrolledProp = useUncontrolledProp(propsShow, defaultShow, onToggle),\n      show = _useUncontrolledProp[0],\n      setShow = _useUncontrolledProp[1];\n\n  var delay = normalizeDelay(propsDelay);\n\n  var _ref2 = typeof children !== 'function' ? React.Children.only(children).props : {},\n      onFocus = _ref2.onFocus,\n      onBlur = _ref2.onBlur,\n      onClick = _ref2.onClick;\n\n  var getTarget = useCallback(function () {\n    return safeFindDOMNode(triggerNodeRef.current);\n  }, []);\n  var handleShow = useCallback(function () {\n    timeout.clear();\n    hoverStateRef.current = 'show';\n\n    if (!delay.show) {\n      setShow(true);\n      return;\n    }\n\n    timeout.set(function () {\n      if (hoverStateRef.current === 'show') setShow(true);\n    }, delay.show);\n  }, [delay.show, setShow, timeout]);\n  var handleHide = useCallback(function () {\n    timeout.clear();\n    hoverStateRef.current = 'hide';\n\n    if (!delay.hide) {\n      setShow(false);\n      return;\n    }\n\n    timeout.set(function () {\n      if (hoverStateRef.current === 'hide') setShow(false);\n    }, delay.hide);\n  }, [delay.hide, setShow, timeout]);\n  var handleFocus = useCallback(function () {\n    handleShow();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    onFocus == null ? void 0 : onFocus.apply(void 0, args);\n  }, [handleShow, onFocus]);\n  var handleBlur = useCallback(function () {\n    handleHide();\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    onBlur == null ? void 0 : onBlur.apply(void 0, args);\n  }, [handleHide, onBlur]);\n  var handleClick = useCallback(function () {\n    setShow(!show);\n    if (onClick) onClick.apply(void 0, arguments);\n  }, [onClick, setShow, show]);\n  var handleMouseOver = useCallback(function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    handleMouseOverOut(handleShow, args, 'fromElement');\n  }, [handleShow]);\n  var handleMouseOut = useCallback(function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    handleMouseOverOut(handleHide, args, 'toElement');\n  }, [handleHide]);\n  var triggers = trigger == null ? [] : [].concat(trigger);\n  var triggerProps = {};\n\n  if (triggers.indexOf('click') !== -1) {\n    triggerProps.onClick = handleClick;\n  }\n\n  if (triggers.indexOf('focus') !== -1) {\n    triggerProps.onFocus = handleFocus;\n    triggerProps.onBlur = handleBlur;\n  }\n\n  if (triggers.indexOf('hover') !== -1) {\n    process.env.NODE_ENV !== \"production\" ? warning(triggers.length > 1, '[react-bootstrap] Specifying only the `\"hover\"` trigger limits the visibility of the overlay to just mouse users. Consider also including the `\"focus\"` trigger so that touch and keyboard only users can see the overlay as well.') : void 0;\n    triggerProps.onMouseOver = handleMouseOver;\n    triggerProps.onMouseOut = handleMouseOut;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, typeof children === 'function' ? children(_extends({}, triggerProps, {\n    ref: triggerNodeRef\n  })) : /*#__PURE__*/React.createElement(RefHolder, {\n    ref: triggerNodeRef\n  }, /*#__PURE__*/cloneElement(children, triggerProps)), /*#__PURE__*/React.createElement(Overlay, _extends({}, props, {\n    show: show,\n    onHide: handleHide,\n    flip: flip,\n    placement: placement,\n    popperConfig: popperConfig,\n    target: getTarget\n  }), overlay));\n}\n\nOverlayTrigger.defaultProps = defaultProps;\nexport default OverlayTrigger;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"bsPrefix\", \"size\", \"hasValidation\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar InputGroupAppend = createWithBsPrefix('input-group-append');\nvar InputGroupPrepend = createWithBsPrefix('input-group-prepend');\nvar InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nvar InputGroupCheckbox = function InputGroupCheckbox(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"checkbox\"\n  }, props)));\n};\n\nvar InputGroupRadio = function InputGroupRadio(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"radio\"\n  }, props)));\n};\n\n/**\n *\n * @property {InputGroupAppend} Append\n * @property {InputGroupPrepend} Prepend\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nvar InputGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      hasValidation = _ref.hasValidation,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix, size && bsPrefix + \"-\" + size, hasValidation && 'has-validation')\n  }));\n});\nInputGroup.displayName = 'InputGroup';\n\nvar InputGroupWithExtras = _extends({}, InputGroup, {\n  Text: InputGroupText,\n  Radio: InputGroupRadio,\n  Checkbox: InputGroupCheckbox,\n  Append: InputGroupAppend,\n  Prepend: InputGroupPrepend\n});\n\nexport default InputGroupWithExtras;","import { useMemo, useRef } from 'react';\nimport useMounted from './useMounted';\nimport useWillUnmount from './useWillUnmount';\n/*\n * Browsers including Internet Explorer, Chrome, Safari, and Firefox store the\n * delay as a 32-bit signed integer internally. This causes an integer overflow\n * when using delays larger than 2,147,483,647 ms (about 24.8 days),\n * resulting in the timeout being executed immediately.\n *\n * via: https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout\n */\n\nvar MAX_DELAY_MS = Math.pow(2, 31) - 1;\n\nfunction setChainedTimeout(handleRef, fn, timeoutAtMs) {\n  var delayMs = timeoutAtMs - Date.now();\n  handleRef.current = delayMs <= MAX_DELAY_MS ? setTimeout(fn, delayMs) : setTimeout(function () {\n    return setChainedTimeout(handleRef, fn, timeoutAtMs);\n  }, MAX_DELAY_MS);\n}\n/**\n * Returns a controller object for setting a timeout that is properly cleaned up\n * once the component unmounts. New timeouts cancel and replace existing ones.\n *\n *\n *\n * ```tsx\n * const { set, clear } = useTimeout();\n * const [hello, showHello] = useState(false);\n * //Display hello after 5 seconds\n * set(() => showHello(true), 5000);\n * return (\n *   <div className=\"App\">\n *     {hello ? <h3>Hello</h3> : null}\n *   </div>\n * );\n * ```\n */\n\n\nexport default function useTimeout() {\n  var isMounted = useMounted(); // types are confused between node and web here IDK\n\n  var handleRef = useRef();\n  useWillUnmount(function () {\n    return clearTimeout(handleRef.current);\n  });\n  return useMemo(function () {\n    var clear = function clear() {\n      return clearTimeout(handleRef.current);\n    };\n\n    function set(fn, delayMs) {\n      if (delayMs === void 0) {\n        delayMs = 0;\n      }\n\n      if (!isMounted()) return;\n      clear();\n\n      if (delayMs <= MAX_DELAY_MS) {\n        // For simplicity, if the timeout is short, just set a normal timeout.\n        handleRef.current = setTimeout(fn, delayMs);\n      } else {\n        setChainedTimeout(handleRef, fn, Date.now() + delayMs);\n      }\n    }\n\n    return {\n      set: set,\n      clear: clear\n    };\n  }, []);\n}","import React from \"react\"\r\nimport { Card, ListGroup } from \"react-bootstrap\"\r\nimport FieldDisplay from \"../Components/FieldDisplay\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport statsToFields from \"../Util/FieldUtil\"\r\nexport default function WeaponStatsCard({ title, statsVals = {}, stats }: { title: Displayable, statsVals?: object, stats: ICalculatedStats }) {\r\n  if ((Object.keys(statsVals ?? {}) as any).length === 0) return null\r\n  const fields = statsToFields(statsVals, stats)\r\n  return <Card bg=\"darkcontent\" text={\"lightfont\" as any} className=\"mb-2\">\r\n    <Card.Header className=\"py-2 px-3\">{title}</Card.Header>\r\n    <ListGroup className=\"text-white\" variant=\"flush\">\r\n      {fields.map((field, i) => <FieldDisplay key={i} index={i} field={field} className=\"px-3 py-2\" />)}\r\n    </ListGroup>\r\n  </Card>\r\n}","import { faExchangeAlt, faTimes } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { useCallback, useContext, useEffect, useMemo, useState } from \"react\"\r\nimport { Badge, Button, ButtonGroup, Card, Col, Dropdown, Image, InputGroup, Modal, Row } from \"react-bootstrap\"\r\nimport Assets from \"../Assets/Assets\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport CharacterSheet from \"../Character/CharacterSheet\"\r\nimport CustomFormControl from \"../Components/CustomFormControl\"\r\nimport DocumentDisplay from \"../Components/DocumentDisplay\"\r\nimport EquipmentDropdown from \"../Components/EquipmentDropdown\"\r\nimport { Stars } from \"../Components/StarDisplay\"\r\nimport { ambiguousLevel, ascensionMaxLevel, milestoneLevels } from \"../Data/CharacterData\"\r\nimport { DatabaseContext, database as localDatabase } from \"../Database/Database\"\r\nimport { ICachedCharacter } from \"../Types/character\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { ICachedWeapon } from \"../Types/weapon\"\r\nimport { useForceUpdate, usePromise } from \"../Util/ReactUtil\"\r\nimport { clamp } from \"../Util/Util\"\r\nimport WeaponCard from \"./WeaponCard\"\r\nimport { WeaponSelectionButton } from \"./WeaponSelection\"\r\nimport WeaponSheet from \"./WeaponSheet\"\r\nimport WeaponStatsCard from \"./WeaponStatsCard\"\r\n\r\ntype WeaponStatsEditorCardProps = {\r\n  weaponId: string\r\n  charData?: {\r\n    character: ICachedCharacter,\r\n    characterSheet: CharacterSheet,\r\n    equippedBuild?: ICalculatedStats\r\n    newBuild?: ICalculatedStats\r\n    characterDispatch: (any) => void\r\n  }\r\n  footer?: boolean\r\n  onClose?: () => void\r\n}\r\nexport default function WeaponDisplayCard({\r\n  weaponId: propWeaponId,\r\n  charData,\r\n  footer = false,\r\n  onClose\r\n}: WeaponStatsEditorCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  // Use databaseToken anywhere `database._get*` is used\r\n  // Use onDatabaseUpdate when `following` database entries\r\n  const [databaseToken, onDatabaseUpdate] = useForceUpdate()\r\n\r\n  const buildContextObj = useContext(buildContext)\r\n  const weapon = useMemo(() =>\r\n    databaseToken && database._getWeapon(propWeaponId!)!,\r\n    [propWeaponId, databaseToken, database])\r\n  const { key, level, refine, ascension } = weapon\r\n  const { location = \"\", id } = weapon as Partial<ICachedWeapon>\r\n  const weaponSheet: WeaponSheet | undefined = usePromise(WeaponSheet.get(key), [key])\r\n  const weaponTypeKey = weaponSheet?.weaponType\r\n\r\n  useEffect(() =>\r\n    propWeaponId ? database.followWeapon(propWeaponId, onDatabaseUpdate) : undefined,\r\n    [propWeaponId, onDatabaseUpdate, database])\r\n\r\n  const weaponDispatch = useCallback((newWeapon: Partial<ICachedWeapon>) => {\r\n    database.updateWeapon(newWeapon, propWeaponId)\r\n  }, [propWeaponId, database])\r\n\r\n  const setLevel = useCallback(level => {\r\n    level = clamp(level, 1, 90)\r\n    const ascension = ascensionMaxLevel.findIndex(ascenML => level <= ascenML)\r\n    weaponDispatch({ level, ascension })\r\n  }, [weaponDispatch])\r\n\r\n  const setAscension = useCallback(() => {\r\n    const lowerAscension = ascensionMaxLevel.findIndex(ascenML => level !== 90 && level === ascenML)\r\n    if (ascension === lowerAscension) weaponDispatch({ ascension: ascension + 1 })\r\n    else weaponDispatch({ ascension: lowerAscension })\r\n  }, [weaponDispatch, ascension, level])\r\n\r\n  const build = { ...(charData ? (charData.newBuild ?? charData.equippedBuild) : { weapon: { refineIndex: refine - 1, level, ascension } }) } as any\r\n\r\n  const characterSheet = usePromise(location ? CharacterSheet.get(location) : undefined, [location])\r\n  const weaponFilter = characterSheet ? (ws) => ws.weaponType === characterSheet.weaponTypeKey : undefined\r\n  return <Card bg=\"lightcontent\" text={\"lightfont\" as any} className=\"mb-2\">\r\n    <Card.Header>\r\n      <Row>\r\n        <Col>\r\n          <Row className=\"mb-n2\">\r\n            <Col className=\"mb-2\">\r\n              <InputGroup >\r\n                <ButtonGroup as={InputGroup.Prepend}>\r\n                  <WeaponSelectionButton weaponSheet={weaponSheet} onSelect={k => weaponDispatch({ key: k })} filter={weaponFilter} />\r\n                  <Dropdown as={ButtonGroup}>\r\n                    <Dropdown.Toggle as={Button}>Refinement {refine}</Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                      <Dropdown.ItemText>\r\n                        <span>Select Weapon Refinement</span>\r\n                      </Dropdown.ItemText>\r\n                      <Dropdown.Divider />\r\n                      {[...Array(5).keys()].map(key =>\r\n                        <Dropdown.Item key={key} onClick={() => weaponDispatch({ refine: key + 1 })}>\r\n                          {`Refinement ${key + 1}`}\r\n                        </Dropdown.Item>)}\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </ButtonGroup>\r\n              </InputGroup>\r\n            </Col>\r\n            <Col className=\"mb-2\" xs=\"auto\">\r\n              <InputGroup >\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text><strong>Lvl. </strong></InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <InputGroup.Append>\r\n                  <CustomFormControl placeholder={undefined} onChange={setLevel} value={level} min={1} max={90} />\r\n                </InputGroup.Append>\r\n                <ButtonGroup as={InputGroup.Append}>\r\n                  <Button disabled={!ambiguousLevel(level)} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>\r\n                  <Dropdown as={ButtonGroup}>\r\n                    <Dropdown.Toggle as={Button}>Select Level</Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                      {milestoneLevels.map(([lv, as]) => {\r\n                        const sameLevel = lv === ascensionMaxLevel[as]\r\n                        const lvlstr = sameLevel ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevel[as]}`\r\n                        return <Dropdown.Item key={`${lv}/${as}`} onClick={() => weaponDispatch({ level: lv, ascension: as })}>{lvlstr}</Dropdown.Item>\r\n                      })}\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </ButtonGroup>\r\n              </InputGroup>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        {!!onClose && <Col xs=\"auto\" >\r\n          <Button variant=\"danger\" onClick={onClose}>\r\n            <FontAwesomeIcon icon={faTimes} /></Button>\r\n        </Col>}\r\n        {!!charData && database === localDatabase && <Col xs=\"auto\">\r\n          <SwapBtn weaponTypeKey={weaponTypeKey} onChangeId={id => database.setWeaponLocation(id, charData.character.key)} />\r\n        </Col>}\r\n      </Row>\r\n    </Card.Header>\r\n    <Card.Body >\r\n      {(() => {\r\n        if (!weaponSheet) return null\r\n        const substatKey = weaponSheet.getSubStatKey()\r\n        const weaponDisplayMainVal = weaponSheet.getMainStatValue(level, ascension)\r\n        const weaponDisplaySubVal = weaponSheet.getSubStatValue(level, ascension)\r\n        const weaponPassiveName = weaponSheet.passiveName\r\n        const weaponBonusStats = weaponSheet.stats(build)\r\n        const sections = weaponSheet.document\r\n\r\n        return <Row className=\"mb-n2\">\r\n          <Col xs={12} md={3} lg={4}>\r\n            <Image src={weaponSheet.img} className={`w-100 h-auto grad-${weaponSheet.rarity}star`} thumbnail />\r\n            <small>{weaponSheet.description}</small>\r\n          </Col>\r\n          <Col>\r\n            <h5 className=\"mb-0\">{process.env.NODE_ENV === \"development\" && <span className=\"text-warning\">{id || `\"\"`} </span>}{weaponSheet.name} Lv. {WeaponSheet.getLevelString(weapon)} {weaponPassiveName && <Badge variant=\"info\">Refinement {refine}</Badge>}</h5>\r\n            <div className=\"mb-2\"><Stars stars={weaponSheet.rarity} /></div>\r\n            <h6>{weaponPassiveName}</h6>\r\n            <div className=\"mb-2\">{weaponPassiveName && weaponSheet.passiveDescription(build)}</div>\r\n            {build && <buildContext.Provider value={charData ? buildContextObj : { equippedBuild: build, newBuild: undefined, compareBuild: false, setCompareBuild: undefined }}>\r\n              <WeaponStatsCard title={\"Main Stats\"} statsVals={{ atk: weaponDisplayMainVal, [substatKey]: substatKey ? weaponDisplaySubVal : undefined }} stats={build} />\r\n              <WeaponStatsCard title={\"Bonus Stats\"} statsVals={weaponBonusStats} stats={build} />\r\n            </buildContext.Provider>}\r\n            {charData && sections ? (() => {\r\n              const { equippedBuild, newBuild, characterDispatch } = charData\r\n              return < DocumentDisplay  {...{ sections, equippedBuild, newBuild, characterDispatch }} />\r\n            })() : null}\r\n          </Col>\r\n        </Row>\r\n      })()}\r\n    </Card.Body>\r\n    {footer && id && <Card.Footer><Row>\r\n      <Col><EquipmentDropdown location={location} onEquip={cKey => database.setWeaponLocation(id, cKey)} weaponTypeKey={weaponSheet?.weaponType} disableUnequip={!!weapon.location} disabled={database === localDatabase} /></Col>\r\n      {!!onClose && <Col xs=\"auto\"><Button variant=\"danger\" onClick={onClose}>Close</Button></Col>}\r\n    </Row></Card.Footer>}\r\n  </Card>\r\n}\r\nfunction SwapBtn({ onChangeId, weaponTypeKey }) {\r\n  const database = useContext(DatabaseContext)\r\n  const [show, setShow] = useState(false)\r\n  const open = () => setShow(true)\r\n  const close = () => setShow(false)\r\n\r\n  const clickHandler = (id) => {\r\n    onChangeId(id)\r\n    close()\r\n  }\r\n\r\n  const weaponSheets = usePromise(WeaponSheet.getAll(), [])\r\n\r\n  const weaponIdList = database.weapons.keys.filter(wKey => {\r\n    const dbWeapon = database._getWeapon(wKey)\r\n    if (!dbWeapon) return false\r\n    if (weaponTypeKey && weaponTypeKey !== weaponSheets?.[dbWeapon.key]?.weaponType) return false\r\n    return true\r\n  })\r\n\r\n\r\n  return <>\r\n    <Button variant=\"info\" onClick={open} ><FontAwesomeIcon icon={faExchangeAlt} /> SWAP WEAPON</Button>\r\n    <Modal show={show} size=\"xl\" contentClassName=\"bg-transparent\" onHide={close}>\r\n      <Card bg=\"lightcontent\" text={\"lightfont\" as any}>\r\n        <Card.Header>\r\n          <Row>\r\n            <Col>{weaponTypeKey ? <Image src={Assets.weaponTypes[weaponTypeKey]} className=\"inline-icon\" /> : null} <h5 className=\"mb-0 d-inline\">Swap Weapon</h5></Col>\r\n            <Col xs=\"auto\">\r\n              <Button onClick={close} variant=\"danger\"><FontAwesomeIcon icon={faTimes} /></Button>\r\n            </Col>\r\n          </Row>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <Row>\r\n            {weaponIdList.map(weaponId =>\r\n              <Col key={weaponId} lg={4} md={6} className=\"mb-2\">\r\n                <WeaponCard\r\n                  weaponId={weaponId}\r\n                  // header={undefined}\r\n                  cardClassName=\"h-100\"\r\n                  // characterKey={charKey}\r\n                  onClick={clickHandler}\r\n                  footer\r\n                />\r\n              </Col>)}\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n    </Modal></>\r\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"active\", \"disabled\", \"className\", \"variant\", \"action\", \"as\", \"onClick\"];\nimport classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport AbstractNavItem from './AbstractNavItem';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: undefined,\n  active: false,\n  disabled: false\n};\nvar ListGroupItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      variant = _ref.variant,\n      action = _ref.action,\n      as = _ref.as,\n      onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  var handleClick = useCallback(function (event) {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    if (onClick) onClick(event);\n  }, [disabled, onClick]);\n\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n\n  return /*#__PURE__*/React.createElement(AbstractNavItem, _extends({\n    ref: ref\n  }, props, {\n    // eslint-disable-next-line no-nested-ternary\n    as: as || (action ? props.href ? 'a' : 'button' : 'div'),\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, active && 'active', disabled && 'disabled', variant && bsPrefix + \"-\" + variant, action && bsPrefix + \"-action\")\n  }));\n});\nListGroupItem.defaultProps = defaultProps;\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"bsPrefix\", \"variant\", \"horizontal\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AbstractNav from './AbstractNav';\nimport ListGroupItem from './ListGroupItem';\nvar defaultProps = {\n  variant: undefined,\n  horizontal: undefined\n};\nvar ListGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      className = _useUncontrolled.className,\n      initialBsPrefix = _useUncontrolled.bsPrefix,\n      variant = _useUncontrolled.variant,\n      horizontal = _useUncontrolled.horizontal,\n      _useUncontrolled$as = _useUncontrolled.as,\n      as = _useUncontrolled$as === void 0 ? 'div' : _useUncontrolled$as,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  var bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  var horizontalVariant;\n\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : \"horizontal-\" + horizontal;\n  } else {\n    horizontalVariant = null;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/React.createElement(AbstractNav, _extends({\n    ref: ref\n  }, controlledProps, {\n    as: as,\n    className: classNames(className, bsPrefix, variant && bsPrefix + \"-\" + variant, horizontalVariant && bsPrefix + \"-\" + horizontalVariant)\n  }));\n});\nListGroup.defaultProps = defaultProps;\nListGroup.displayName = 'ListGroup';\nListGroup.Item = ListGroupItem;\nexport default ListGroup;"],"sourceRoot":""}