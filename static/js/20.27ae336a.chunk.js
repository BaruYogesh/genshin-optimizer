(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[20],{276:function(e,t,n){"use strict";var a=n(10),i=n(465),r=Object(a.a)(i.a)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.a=r},278:function(e,t,n){"use strict";var a=n(10),i=n(465),r=Object(a.a)(i.a)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.a=r},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(5),i=n(3),r=n(132),c=n(982),o=n(272),s=n(170),l=n(954),d=n(1),u=n(0);function j(e){var t=e.title,n=e.children,j=e.id,b=void 0===j?"dropdownbtn":j,h=Object(r.a)(e,["title","children","id"]),p=Object(d.useState)(null),O=Object(i.a)(p,2),x=O[0],f=O[1],m=Boolean(x),v=Object(d.useCallback)((function(e){return f(e.currentTarget)}),[f]),g=Object(d.useCallback)((function(){return f(null)}),[f]);return Object(u.jsxs)(d.Suspense,{fallback:Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({endIcon:Object(u.jsx)(c.a,{})},h),{},{children:Object(u.jsx)(s.a,{width:50})})),children:[Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({},h),{},{id:b,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":m?"true":void 0,onClick:v,endIcon:Object(u.jsx)(c.a,{}),children:t})),Object(u.jsx)(l.a,{id:"basic-menu",anchorEl:x,open:m,onClose:g,MenuListProps:{"aria-labelledby":b},onClick:g,children:Object(u.jsx)(d.Suspense,{fallback:Object(u.jsx)(s.a,{width:"100%",height:"1000"}),children:n})})]})}},284:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:n.p+"static/media/icon_catalyst.db078b7b.png",claymore:n.p+"static/media/icon_claymore.63b1abb8.png",polearm:n.p+"static/media/icon_polearm.e5f4a2a1.png",sword:n.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},293:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return j}));var a=n(5),i=n(3),r=n(132),c=n(10),o=n(464),s=n(1),l=n(0),d=Object(c.a)(o.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),u=Object(c.a)("button",{shouldForwardProp:function(e){return!["fullWidth","disableRipple","disableFocusRipple","disableElevation"].includes(e)}})((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,padding:0,overflow:"hidden",border:"none",borderRadius:t.shape.borderRadius,"& div":{width:"100%",height:"100%"},"&.MuiButtonGroup-grouped:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},"&.MuiButtonGroup-grouped:not(:first-of-type)":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}}));function j(e){var t=e.value,n=e.onChange,c=e.disabled,o=void 0!==c&&c,u=e.float,j=void 0!==u&&u,b=Object(r.a)(e,["value","onChange","disabled","float"]),h=Object(s.useState)(""),p=Object(i.a)(h,2),O=p[0],x=p[1],f=Object(s.useCallback)((function(){if(""===O)return n(0);var e=j?parseFloat:parseInt;n(e(O))}),[n,O,j]);Object(s.useEffect)((function(){var e;return x(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,x]);var m=Object(s.useCallback)((function(e){return x(e.target.value)}),[x]),v=Object(s.useCallback)((function(e){return"Enter"===e.key&&f()}),[f]);return Object(l.jsx)(d,Object(a.a)({value:O,"aria-label":"custom-input",type:"number",onChange:m,onBlur:f,disabled:o,onKeyDown:v},b))}},313:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(5),i=n(132),r=n(10),c=n(272),o=n(0),s=Object(r.a)(c.a)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function l(e){var t=e.children,n=(e.disabled,Object(i.a)(e,["children","disabled"]));return Object(o.jsx)(s,Object(a.a)(Object(a.a)({},n),{},{disabled:!0,children:t}))}},327:function(e,t,n){"use strict";var a=n(10),i=Object(a.a)("img")({width:"100%",height:"auto"});t.a=i},370:function(e,t,n){"use strict";var a=n(7),i=n(9),r=n(2),c=n(1),o=(n(4),n(8)),s=n(110),l=n(93),d=n(10),u=n(12),j=n(13),b=n(268),h=n(94),p=n(111);function O(e){return Object(h.a)("MuiAlert",e)}var x,f=Object(p.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),m=n(273),v=n(69),g=n(0),y=Object(v.a)(Object(g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),w=Object(v.a)(Object(g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),C=Object(v.a)(Object(g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),R=Object(v.a)(Object(g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),k=Object(v.a)(Object(g.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),M=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],S=Object(d.a)(b.a,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(j.a)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,i="light"===t.palette.mode?l.b:l.e,c="light"===t.palette.mode?l.e:l.b,o=n.color||n.severity;return Object(r.a)({},t.typography.body2,{borderRadius:t.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===n.variant&&Object(a.a)({color:i(t.palette[o].light,.6),backgroundColor:c(t.palette[o].light,.9)},"& .".concat(f.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"outlined"===n.variant&&Object(a.a)({color:i(t.palette[o].light,.6),border:"1px solid ".concat(t.palette[o].light)},"& .".concat(f.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main})})),T=Object(d.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),E=Object(d.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),z=Object(d.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),_={success:Object(g.jsx)(y,{fontSize:"inherit"}),warning:Object(g.jsx)(w,{fontSize:"inherit"}),error:Object(g.jsx)(C,{fontSize:"inherit"}),info:Object(g.jsx)(R,{fontSize:"inherit"})},I=c.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiAlert"}),a=n.action,c=n.children,l=n.className,d=n.closeText,b=void 0===d?"Close":d,h=n.color,p=n.icon,f=n.iconMapping,v=void 0===f?_:f,y=n.onClose,w=n.role,C=void 0===w?"alert":w,R=n.severity,I=void 0===R?"success":R,L=n.variant,A=void 0===L?"standard":L,D=Object(i.a)(n,M),W=Object(r.a)({},n,{color:h,severity:I,variant:A}),B=function(e){var t=e.variant,n=e.color,a=e.severity,i=e.classes,r={root:["root","".concat(t).concat(Object(j.a)(n||a)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(s.a)(r,O,i)}(W);return Object(g.jsxs)(S,Object(r.a)({role:C,square:!0,elevation:0,ownerState:W,className:Object(o.a)(B.root,l),ref:t},D,{children:[!1!==p?Object(g.jsx)(T,{ownerState:W,className:B.icon,children:p||v[I]||_[I]}):null,Object(g.jsx)(E,{ownerState:W,className:B.message,children:c}),null!=a?Object(g.jsx)(z,{className:B.action,children:a}):null,null==a&&y?Object(g.jsx)(z,{ownerState:W,className:B.action,children:Object(g.jsx)(m.a,{size:"small","aria-label":b,title:b,color:"inherit",onClick:y,children:x||(x=Object(g.jsx)(k,{fontSize:"small"}))})}):null]}))}));t.a=I},392:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));var a=n(15),i=1e3,r=60*i,c=60*r,o=24*c;function s(e){var t=e%1e3,n=Math.floor(e/1e3%60),a=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:a,seconds:n,milliseconds:t}}function l(e){var t=s(e),n=t.hours,i=t.minutes,r=t.seconds,c="Minutes";return n&&(c="Hours"),"".concat(n?"".concat(n,":"):"").concat(Object(a.q)(i,"0",2),":").concat(Object(a.q)(r,"0",2)," ").concat(c)}function d(e){var t=s(e),n=t.hours,i=t.minutes,r=t.seconds,c=t.milliseconds,o="Minutes";return n&&(o="Hours"),"".concat(n?"".concat(n,":"):"").concat(Object(a.q)(i,"0",2),":").concat(Object(a.q)(r,"0",2),".").concat(Object(a.q)(c,"0",3)," ").concat(o)}},774:function(e,t,n){"use strict";function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return a}))},775:function(e,t,n){"use strict";function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return a}))},776:function(e,t,n){"use strict";function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return a}))},955:function(e,t,n){"use strict";var a=n(7),i=n(9),r=n(2),c=n(1),o=(n(176),n(4),n(8)),s=n(110),l=n(93),d=n(13),u=n(10),j=n(12),b=n(94),h=n(111);function p(e){return Object(b.a)("MuiButtonGroup",e)}var O=Object(h.a)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),x=n(0),f=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],m=Object(u.a)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(a.a)({},"& .".concat(O.grouped),t.grouped),Object(a.a)({},"& .".concat(O.grouped),t["grouped".concat(Object(d.a)(n.orientation))]),Object(a.a)({},"& .".concat(O.grouped),t["grouped".concat(Object(d.a)(n.variant))]),Object(a.a)({},"& .".concat(O.grouped),t["grouped".concat(Object(d.a)(n.variant)).concat(Object(d.a)(n.orientation))]),Object(a.a)({},"& .".concat(O.grouped),t["grouped".concat(Object(d.a)(n.variant)).concat(Object(d.a)(n.color))]),t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({display:"inline-flex",borderRadius:t.shape.borderRadius},"contained"===n.variant&&{boxShadow:t.shadows[2]},n.disableElevation&&{boxShadow:"none"},n.fullWidth&&{width:"100%"},"vertical"===n.orientation&&{flexDirection:"column"},Object(a.a)({},"& .".concat(O.grouped),Object(r.a)({minWidth:40,"&:not(:first-of-type)":Object(r.a)({},"horizontal"===n.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===n.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===n.variant&&"horizontal"===n.orientation&&{marginLeft:-1},"outlined"===n.variant&&"vertical"===n.orientation&&{marginTop:-1}),"&:not(:last-of-type)":Object(r.a)({},"horizontal"===n.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===n.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===n.variant&&"horizontal"===n.orientation&&{borderRight:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"vertical"===n.orientation&&{borderBottom:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"inherit"!==n.color&&{borderColor:Object(l.a)(t.palette[n.color].main,.5)},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"transparent"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"transparent"},"contained"===n.variant&&"horizontal"===n.orientation&&Object(a.a)({borderRight:"1px solid ".concat(t.palette.grey[400])},"&.".concat(O.disabled),{borderRight:"1px solid ".concat(t.palette.action.disabled)}),"contained"===n.variant&&"vertical"===n.orientation&&Object(a.a)({borderBottom:"1px solid ".concat(t.palette.grey[400])},"&.".concat(O.disabled),{borderBottom:"1px solid ".concat(t.palette.action.disabled)}),"contained"===n.variant&&"inherit"!==n.color&&{borderColor:t.palette[n.color].dark}),"&:hover":Object(r.a)({},"outlined"===n.variant&&"inherit"!==n.color&&{borderColor:t.palette[n.color].main},"contained"===n.variant&&{boxShadow:"none"})},"contained"===n.variant&&{boxShadow:"none"})))})),v=c.forwardRef((function(e,t){var n=Object(j.a)({props:e,name:"MuiButtonGroup"}),a=n.children,l=n.className,u=n.color,b=void 0===u?"primary":u,h=n.component,O=void 0===h?"div":h,v=n.disabled,g=void 0!==v&&v,y=n.disableElevation,w=void 0!==y&&y,C=n.disableFocusRipple,R=void 0!==C&&C,k=n.disableRipple,M=void 0!==k&&k,S=n.fullWidth,T=void 0!==S&&S,E=n.orientation,z=void 0===E?"horizontal":E,_=n.size,I=void 0===_?"medium":_,L=n.variant,A=void 0===L?"outlined":L,D=Object(i.a)(n,f),W=Object(r.a)({},n,{color:b,component:O,disabled:g,disableElevation:w,disableFocusRipple:R,disableRipple:M,fullWidth:T,orientation:z,size:I,variant:A}),B=function(e){var t=e.classes,n=e.color,a=e.disabled,i=e.disableElevation,r=e.fullWidth,c=e.orientation,o=e.variant,l={root:["root",o,"vertical"===c&&"vertical",r&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat(Object(d.a)(c)),"grouped".concat(Object(d.a)(o)),"grouped".concat(Object(d.a)(o)).concat(Object(d.a)(c)),"grouped".concat(Object(d.a)(o)).concat(Object(d.a)(n)),a&&"disabled"]};return Object(s.a)(l,p,t)}(W);return Object(x.jsx)(m,Object(r.a)({as:O,role:"group",className:Object(o.a)(B.root,l),ref:t,ownerState:W},D,{children:c.Children.map(a,(function(e){return c.isValidElement(e)?c.cloneElement(e,{className:Object(o.a)(B.grouped,e.props.className),color:e.props.color||b,disabled:e.props.disabled||g,disableElevation:e.props.disableElevation||w,disableFocusRipple:R,disableRipple:M,fullWidth:T,size:e.props.size||I,variant:e.props.variant||A}):null}))}))}));t.a=v},994:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));var a=n(23),i=n(26),r=n(774);var c=n(775),o=n(776);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var d=n(221),u=n(265),j=n(79),b=n(254),h=n(466),p=n(464),O=n(955),x=n(272),f=n(1),m=n.n(f),v=n(84),g=n(284),y=n(278),w=n(98),C=n(82),R=n(392),k=n(15),M=n(3),S=n(69),T=n(0),E=Object(S.a)(Object(T.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),z=n(370),_=n(276),I=n(32),L=n(293),A=n(327),D=n(313),W={advice:{name:"Wanderer's Advice",exp:1e3,cost:200,img:g.a.exp_books.advice},experience:{name:"Adventurer's Experience",exp:5e3,cost:1e3,img:g.a.exp_books.experience},wit:{name:"Hero's Wit",exp:2e4,cost:4e3,img:g.a.exp_books.wit}},B=[0,1e3,1325,1700,2150,2625,3150,3725,4350,5e3,5700,6450,7225,8050,8925,9825,10750,11725,12725,13775,14875,16800,18e3,19250,20550,21875,23250,24650,26100,27575,29100,30650,32250,33875,35550,37250,38975,40750,42575,44425,46300,50625,52700,54775,56900,59075,61275,63525,65800,68125,70475,76500,79050,81650,84275,86950,89650,92400,95175,98e3,100875,108950,112050,115175,118325,121525,124775,128075,131400,134775,138175,148700,152375,156075,159825,163600,167425,171300,175225,179175,183175,216225,243025,273100,306800,344600,386950,434425,487625,547200],H=[20,40,50,60,70,80,90];function P(e){var t=Object(f.useState)(0),n=Object(M.a)(t,2),a=n[0],i=n[1],r=Object(f.useState)(0),c=Object(M.a)(r,2),o=c[0],s=c[1],l=Object(f.useState)(0),p=Object(M.a)(l,2),m=p[0],v=p[1],g={advice:a,experience:o,wit:m},R={advice:i,experience:s,wit:v},S=Object(f.useState)(!1),A=Object(M.a)(S,2),P=A[0],G=A[1],F=Object(f.useState)(1),q=Object(M.a)(F,2),V=q[0],U=q[1],X=Object(f.useState)(0),Y=Object(M.a)(X,2),Z=Y[0],J=Y[1],K=Object(f.useState)(0),Q=Object(M.a)(K,2),$=Q[0],ee=Q[1];Object(f.useEffect)((function(){return ee(C.b.get("mora")||0)}),[]),Object(f.useEffect)((function(){C.b.set("mora",$)}),[$]),Object(f.useEffect)((function(){return U(C.b.get("exp_calc_level")||1)}),[]),Object(f.useEffect)((function(){C.b.set("exp_calc_level",V)}),[V]),Object(f.useEffect)((function(){return J(C.b.get("exp_calc_cur_exp")||0)}),[]),Object(f.useEffect)((function(){C.b.set("exp_calc_cur_exp",Z)}),[Z]),Object(f.useEffect)((function(){var e=C.b.get("exp_books")||{},t={advice:i,experience:s,wit:v};Object.entries(e).forEach((function(e){var n,a=Object(M.a)(e,2),i=a[0],r=a[1];return null===(n=t[i])||void 0===n?void 0:n.call(t,r)}))}),[]),Object(f.useEffect)((function(){return C.b.set("exp_books",{advice:a,experience:o,wit:m})}),[a,o,m]);for(var te=H.find((function(e){return e>V})),ne=-Z,ae=V;ae<Math.min(te,B.length);ae++)ne+=B[ae];for(var ie=function(e,t,n,a,i){var r=i?Math.floor(a/1e3):Math.ceil(a/1e3),c=Math.min(Math.floor(r/20),e);r-=20*c;var o=Math.min(Math.floor(r/5),t);r-=5*o;var s=Math.min(r,n);if(r-=s,i||0===r)return[c,o,s];if(3===o&&c!==e)return[c+1,0,0];if(o!==t)return[c,o+1,0];if(c!==e)return[c+1,0,0];return null}(m,o,a,ne,P)||[],re=Object(M.a)(ie,3),ce=re[0],oe=void 0===ce?0:ce,se=re[1],le=void 0===se?0:se,de=re[2],ue=void 0===de?0:de,je={advice:ue,experience:le,wit:oe},be=2e4*oe+5e3*le+1e3*ue,he=be/5,pe=ne-be,Oe=$-he,xe=be+Z,fe=V;fe<Math.min(te,B.length)&&B[fe]<=xe;fe++)xe-=B[fe];fe===te&&(xe=0);var me="";return Oe<0?me=Object(T.jsxs)("span",{children:["You don't have enough ",Object(T.jsx)("b",{children:"Mora"})," for this operation."]}):0===ie.length?me=Object(T.jsxs)("span",{children:["You don't have enough ",Object(T.jsx)("b",{children:"EXP. books"})," to level to the next milestone."]}):90===V&&(me="You are at the maximum level."),Object(T.jsxs)(y.a,{children:[Object(T.jsxs)(u.a,{container:!0,sx:{px:2,py:1},spacing:2,children:[Object(T.jsx)(u.a,{item:!0,children:Object(T.jsx)(w.a,{src:W.wit.img,sx:{fontSize:"2em"}})}),Object(T.jsx)(u.a,{item:!0,flexGrow:1,children:Object(T.jsx)(j.a,{variant:"h6",children:"Experience Calculator"})}),Object(T.jsx)(u.a,{item:!0,children:Object(T.jsxs)(O.a,{children:[Object(T.jsx)(x.a,{color:"primary",disabled:!P,onClick:function(){return G(!1)},children:"Full Level"}),Object(T.jsx)(x.a,{color:"primary",disabled:P,onClick:function(){return G(!0)},children:"Don't fully level"})]})})]}),Object(T.jsx)(b.a,{}),Object(T.jsx)(h.a,{children:Object(T.jsxs)(u.a,{container:!0,spacing:1,children:[Object(T.jsx)(u.a,{item:!0,children:Object(T.jsxs)(j.a,{children:[Object(T.jsx)("span",{children:"This calculator tries to calculate the amount of exp books required to get to the next milestone level. "}),P?"It will try to get as close to the milestone level as possible, so you can grind the rest of the exp without any waste.":"It will try to calculate the amount of books needed to minimize as much exp loss as possible."]})}),Object(T.jsx)(u.a,{item:!0,xs:6,md:3,children:Object(T.jsxs)(O.a,{sx:{display:"flex"},children:[Object(T.jsx)(D.a,{children:"Current Level"}),Object(T.jsx)(L.a,{sx:{flexBasis:30,flexGrow:1},children:Object(T.jsx)(L.c,{value:V,onChange:function(e){return U(Object(k.a)(e,0,90))},sx:{px:2}})})]})}),Object(T.jsx)(u.a,{item:!0,xs:6,md:3,children:Object(T.jsxs)(O.a,{sx:{display:"flex"},children:[Object(T.jsx)(D.a,{children:"Current EXP."}),Object(T.jsx)(L.a,{sx:{flexBasis:30,flexGrow:1},children:Object(T.jsx)(L.c,{value:Z,onChange:function(e){return J(Object(k.a)(e,0,(B[V]||1)-1))},endAdornment:"/".concat(B[V]||0),sx:{px:2}})})]})}),Object(T.jsx)(u.a,{item:!0,xs:6,md:3,children:Object(T.jsx)(_.a,{children:Object(T.jsxs)(d.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(j.a,{children:"Next Milestone Level:"}),Object(T.jsx)(j.a,{children:Object(T.jsx)("b",{children:te})})]})})}),Object(T.jsx)(u.a,{item:!0,xs:6,md:3,children:Object(T.jsx)(_.a,{children:Object(T.jsxs)(d.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(j.a,{children:"EXP. to milestone:"}),Object(T.jsx)(j.a,{children:Object(T.jsxs)("span",{children:[Object(T.jsx)("strong",{children:be})," / ",Object(T.jsx)("strong",{children:ne})]})})]})})}),Object.entries(W).map((function(e){var t=Object(M.a)(e,2),n=t[0],a=t[1];return Object(T.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(T.jsx)(N,{bookObj:a,value:g[n],setValue:R[n],required:je[n]})},n)})),Object(T.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(T.jsxs)(O.a,{sx:{display:"flex"},children:[Object(T.jsx)(D.a,{children:"Current Mora"}),Object(T.jsx)(L.a,{sx:{flexBasis:30,flexGrow:1},children:Object(T.jsx)(L.c,{value:$,onChange:function(e){return ee(Math.max(null!==e&&void 0!==e?e:0,0))},sx:{px:2}})})]})}),Object(T.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(T.jsx)(_.a,{children:Object(T.jsxs)(d.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(j.a,{children:"Mora Cost: "}),Object(T.jsx)(j.a,{children:Object(T.jsx)("b",{children:he})})]})})}),Object(T.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(T.jsx)(_.a,{children:Object(T.jsxs)(d.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(T.jsxs)(j.a,{children:["EXP ",P?"Diff":"Waste",": "]}),Object(T.jsx)(j.a,{children:Object(T.jsx)("b",{children:Object(T.jsx)(I.a,{color:pe<0?"error":"success",children:pe})})})]})})}),Object(T.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(T.jsx)(_.a,{children:Object(T.jsxs)(d.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(j.a,{children:"Final Mora: "}),Object(T.jsx)(j.a,{children:Object(T.jsx)("b",{children:Object(T.jsx)(I.a,{color:Oe<0?"error":"success",children:Oe})})})]})})}),Object(T.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(T.jsx)(_.a,{children:Object(T.jsxs)(d.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(j.a,{children:"Final Level: "}),Object(T.jsx)(j.a,{children:Object(T.jsx)("b",{children:Object(T.jsx)(I.a,{color:"success",children:fe})})})]})})}),Object(T.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(T.jsx)(_.a,{children:Object(T.jsxs)(d.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(j.a,{children:"Final EXP: "}),Object(T.jsx)(j.a,{children:Object(T.jsx)("b",{children:Object(T.jsx)(I.a,{color:xe<0?"error":"success",children:xe})})})]})})})]})}),Object(T.jsx)(b.a,{}),Object(T.jsx)(h.a,{sx:{py:1},children:Object(T.jsxs)(u.a,{container:!0,spacing:2,children:[Object(T.jsx)(u.a,{item:!0,flexGrow:1,children:!!me&&Object(T.jsx)(z.a,{variant:"filled",severity:"error",children:me})}),Object(T.jsx)(u.a,{item:!0,xs:"auto",children:Object(T.jsx)(x.a,{disabled:!!me,onClick:function(){U(fe),J(xe),Object.entries(je).forEach((function(e){var t,n=Object(M.a)(e,2),a=n[0],i=n[1];return null===(t=R[a])||void 0===t?void 0:t.call(R,g[a]-i)})),ee(Oe)},color:"success",startIcon:Object(T.jsx)(E,{}),sx:{height:"100%"},children:"Apply"})})]})})]})}function N(e){var t=e.bookObj,n=t.name,a=t.img,i=e.value,r=void 0===i?0:i,c=e.setValue,o=e.required,s=void 0===o?0:o;return Object(T.jsxs)(_.a,{children:[Object(T.jsx)(h.a,{sx:{py:1},children:Object(T.jsx)(j.a,{children:n})}),Object(T.jsx)(b.a,{}),Object(T.jsx)(h.a,{children:Object(T.jsxs)(u.a,{container:!0,children:[Object(T.jsx)(u.a,{item:!0,xs:3,children:Object(T.jsx)(A.a,{src:a})}),Object(T.jsxs)(u.a,{item:!0,xs:9,children:[Object(T.jsxs)(O.a,{sx:{display:"flex"},children:[Object(T.jsx)(D.a,{children:"Amount"}),Object(T.jsx)(L.a,{sx:{flexBasis:30,flexGrow:1},children:Object(T.jsx)(L.c,{value:r,onChange:function(e){return c(Math.max(null!==e&&void 0!==e?e:0,0))},sx:{px:2}})})]}),Object(T.jsxs)(d.a,{display:"flex",justifyContent:"space-between",mt:1,children:[Object(T.jsx)(j.a,{children:"Required:"}),Object(T.jsx)(j.a,{children:Object(T.jsx)("b",{children:Object(T.jsx)(I.a,{color:s?"success":"",children:s})})})]})]})]})})]})}var G=n(51),F=n(17),q=n(1005),V=n(279),U={America:-5*R.b,Europe:R.b,Asia:8*R.b,"TW, HK, MO":8*R.b};function X(e){var t=Object(f.useState)(Object.keys(U)[0]),n=Object(M.a)(t,2),a=n[0],i=n[1],r=Object(f.useState)(new Date(Date.now()+U[a])),c=Object(M.a)(r,2),o=c[0],s=c[1];Object(f.useEffect)((function(){return i(C.b.get("server_timezone")||Object.keys(U)[0])}),[]),Object(f.useEffect)((function(){var e=function t(){return s(new Date(Date.now()+U[a])),setTimeout((function(){e=t()}),R.d-Date.now()%R.d)}();return C.b.set("server_timezone",a),function(){return clearTimeout(e)}}),[a]);var l=new Date(o);l.getUTCHours()<4?l.setUTCHours(4,0,0,0):(l=new Date(l.getTime()+R.a)).setUTCHours(4,0,0,0);var d=l.getTime()-o.getTime(),p=Object(R.e)(d);return Object(T.jsxs)(y.a,{children:[Object(T.jsxs)(u.a,{container:!0,sx:{px:2,py:1},spacing:2,children:[Object(T.jsx)(u.a,{item:!0,children:Object(T.jsx)(j.a,{variant:"h6",children:Object(T.jsx)(F.a,{icon:G.i,className:"fa-fw"})})}),Object(T.jsx)(u.a,{item:!0,flexGrow:1,children:Object(T.jsx)(j.a,{variant:"h6",children:"Teyvat Time"})}),Object(T.jsx)(u.a,{item:!0,children:Object(T.jsx)(V.a,{title:a,children:Object.keys(U).map((function(e){return Object(T.jsx)(q.a,{selected:a===e,disabled:a===e,onClick:function(){return i(e)},children:e},e)}))})})]}),Object(T.jsx)(b.a,{}),Object(T.jsx)(h.a,{children:Object(T.jsxs)(u.a,{container:!0,justifyContent:"center",spacing:3,children:[Object(T.jsx)(u.a,{item:!0,sx:{my:4},children:Object(T.jsx)(j.a,{variant:"h2",children:o.toLocaleTimeString([],{timeZone:"UTC"})})}),Object(T.jsxs)(u.a,{item:!0,display:"flex",flexDirection:"column",justifyContent:"space-around",children:[Object(T.jsxs)(j.a,{children:["Server Date: ",Object(T.jsx)("b",{children:o.toDateString()})]}),Object(T.jsxs)(j.a,{children:["Time until reset: ",Object(T.jsx)("b",{children:p})]}),Object(T.jsxs)(j.a,{children:["Resin until reset: ",Object(T.jsx)("b",{children:Math.floor(d/(8*R.c))})]})]})]})})]})}function Y(e){return Object(T.jsxs)(d.a,{sx:{mt:1,"> div":{mb:1}},children:[Object(T.jsx)(X,{}),Object(T.jsx)(K,{}),Object(T.jsx)(P,{})]})}var Z=160,J=8*R.c,K=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}(n,e);var t=function(e){var t=Object(o.a)();return function(){var n,a=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return l(this,n)}}(n);function n(e){var i;Object(a.a)(this,n),(i=t.call(this,e)).resinIncrement=void 0,i.updateTimer=void 0,i.setResin=function(e){return i.setState((function(t){var n={resin:e=parseInt(e)||0};return e>=Z?(i.resinIncrement&&clearTimeout(i.resinIncrement),i.resinIncrement=0,t.resin<Z&&(n.date=(new Date).getTime())):(i.resinIncrement&&clearTimeout(i.resinIncrement),i.resinIncrement=setInterval((function(){return i.setResin(i.state.resin+1)}),J),n.date=(new Date).getTime()),n}))};var r=C.b.get("resinInfo");i.state=r||{resin:100,date:(new Date).getTime()};var c=i.state,o=c.resin,s=c.date;if(o<Z&&Date.now()-s>J){var l=Z-o,d=Math.min(Math.floor((Date.now()-s)/J),l);o+=d,s+=d*J,i.state.resin=o,i.state.date=s}return v.a.pageview("/tools"),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.resin,a=t.date;if(n<Z){var i=a+J-new Date;this.resinIncrement=setTimeout((function(){e.setResin(e.state.resin+1)}),i)}this.updateTimer=setInterval((function(){return e.forceUpdate()}),R.d)}},{key:"componentWillUnmount",value:function(){this.updateTimer&&clearInterval(this.updateTimer),this.resinIncrement&&clearTimeout(this.resinIncrement)}},{key:"componentDidUpdate",value:function(){var e=Object(k.d)(this.state);C.b.set("resinInfo",e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.resin,a=t.date,i=n>=Z?a:a+J,r=new Date(n>=Z?a:a+(Z-n)*J),c=Object(R.e)(Math.abs(i-Date.now()));return Object(T.jsxs)(y.a,{children:[Object(T.jsxs)(u.a,{container:!0,sx:{px:2,py:1},spacing:2,children:[Object(T.jsx)(u.a,{item:!0,children:Object(T.jsx)(w.a,{src:g.a.resin.fragile,sx:{fontSize:"2em"}})}),Object(T.jsx)(u.a,{item:!0,children:Object(T.jsx)(j.a,{variant:"h6",children:"Resin Counter"})})]}),Object(T.jsx)(b.a,{}),Object(T.jsx)(h.a,{children:Object(T.jsxs)(u.a,{container:!0,spacing:2,children:[Object(T.jsx)(u.a,{item:!0,children:Object(T.jsxs)(j.a,{variant:"h2",children:[Object(T.jsx)(w.a,{src:g.a.resin.fragile}),Object(T.jsx)(p.c,{type:"number",sx:{width:"2em",fontSize:"4rem"},value:n,inputProps:{min:0,max:999,sx:{textAlign:"right"}},onChange:function(t){return e.setResin(t.target.value)}}),Object(T.jsxs)("span",{children:["/",Z]})]})}),Object(T.jsxs)(u.a,{item:!0,flexGrow:1,children:[Object(T.jsxs)(O.a,{fullWidth:!0,children:[Object(T.jsx)(x.a,{onClick:function(){return e.setResin(0)},disabled:0===n,children:"0"}),Object(T.jsx)(x.a,{onClick:function(){return e.setResin(n-1)},disabled:0===n,children:"-1"}),Object(T.jsx)(x.a,{onClick:function(){return e.setResin(n-20)},disabled:n<20,children:"-20"}),Object(T.jsx)(x.a,{onClick:function(){return e.setResin(n-40)},disabled:n<40,children:"-40"}),Object(T.jsx)(x.a,{onClick:function(){return e.setResin(n-60)},disabled:n<60,children:"-60"}),Object(T.jsx)(x.a,{onClick:function(){return e.setResin(n+1)},children:"+1"}),Object(T.jsx)(x.a,{onClick:function(){return e.setResin(n+60)},children:"+60"}),Object(T.jsxs)(x.a,{onClick:function(){return e.setResin(Z)},disabled:n===Z,children:["MAX ",Z]})]}),Object(T.jsx)(j.a,{variant:"subtitle1",sx:{mt:2},children:n<Z?Object(T.jsxs)("span",{children:["Next resin in ",c,", full Resin at ",r.toLocaleTimeString()," ",r.toLocaleDateString()]}):Object(T.jsxs)("span",{children:["Resin has been full for at least ",c,", since ",r.toLocaleTimeString()," ",r.toLocaleDateString()]})})]}),Object(T.jsx)(u.a,{item:!0,xs:12,children:Object(T.jsx)(j.a,{variant:"caption",children:"Because we do not provide a mechanism to synchronize resin time, actual resin recharge time might be as much as 8 minutes earlier than predicted."})})]})})]})}}]),n}(m.a.Component)}}]);
//# sourceMappingURL=20.27ae336a.chunk.js.map