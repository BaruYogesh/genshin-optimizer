(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[34],{714:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H})),n.d(t,"findBestArtifact",(function(){return ne}));var a=n(21),r=n(11),i=n(5),c=n(3),s=n(52),o=n.n(s),l=n(99),u=n(704),d=n(10),h=n(264),j=n(272),f=n(271),b=n(79),p=n(220),m=n(721),v=n(396),O=n(253),g=n(338),x=n(1),y=n(83),w=n(639),S=n(277),k=n(284),K=n(32),C=n(287),F=n(131),R=n(40),A=n(70),I=n(20),U=n(23),E=n(26),L=function(){function e(t,n){Object(U.a)(this,e),this.data={},this.init=void 0,this.deinit=void 0,this.init=t,this.deinit=n}return Object(E.a)(e,[{key:"borrow",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data[t]||(this.data[t]={value:this.init(t),refCount:0}),(a=this.data[t]).refCount+=1,e.next=5,n(a.value);case 5:return r=e.sent,a.refCount-=1,a.refCount||(delete this.data[t],this.deinit(t,a.value)),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),z=n(138),M=n(15),W=n(81),N=n(132),T=n.p+"static/media/scan_art_main.ab1cfe61.png",V=n.p+"static/media/snippet.d223e797.png",P=n(0),B={r:255,g:204,b:50},G=new L(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(w.createScheduler)(),a=Array(2).fill(0).map(function(){var e=Object(l.a)(o.a.mark((function e(a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.createWorker)({errorHandler:console.error}),e.next=3,r.load();case 3:return e.next=5,r.loadLanguage(t);case 5:return e.next=7,r.initialize(t);case 7:n.addWorker(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.any(a);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t){t.then((function(e){return e.terminate()}))})),D=Object(d.a)("input")({display:"none"});function H(e){var t,n=e.setState,a=e.setReset,s=e.artifactInEditor,o=Object(x.useState)(!1),l=Object(c.a)(o,2),d=l[0],v=l[1],O=Object(x.useReducer)(J,{processed:[],outstanding:[]}),g=Object(c.a)(O,2),w=g[0],k=w.processed,K=w.outstanding,C=g[1],R=k[0],A=K[0],I=Object(F.a)(null===A||void 0===A?void 0:A.imageURL,[null===A||void 0===A?void 0:A.imageURL]),U=Object(F.a)(null===A||void 0===A?void 0:A.result,[null===A||void 0===A?void 0:A.result]),E=k.length+K.length,L=null!==(t=null===R||void 0===R?void 0:R.imageURL)&&void 0!==t?t:I,z=null!==R&&void 0!==R?R:{},M=z.artifact,W=z.texts;Object(x.useEffect)((function(){!s&&M&&n(M)}),[s,M,n]),Object(x.useEffect)((function(){var e=Math.min(16-k.length,3,K.length),t=e&&!K[0].result;K.slice(0,e).forEach(Y),t&&C({type:"processing"})}),[k.length,K]),Object(x.useEffect)((function(){U&&C(Object(i.a)({type:"processed"},U))}),[U,C]);var N=Object(x.useCallback)((function(){return C({type:"pop"})}),[C]),T=Object(x.useCallback)((function(e){return C({type:"upload",files:Object(r.a)(e).map((function(e){return{file:e,fileName:e.name}}))})}),[C]),V=Object(x.useCallback)((function(){return C({type:"clear"})}),[C]);Object(x.useEffect)((function(){var e=function(e){return T(e.clipboardData.files)};return window.addEventListener("paste",e),null===a||void 0===a||a(N),function(){return window.removeEventListener("paste",e)}}),[a,N,T]);var B=Object(x.useCallback)((function(e){T(e.target.files),e.target.value=null}),[T]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(_,{modalShow:d,hide:function(){return v(!1)}}),Object(P.jsxs)(h.a,{container:!0,spacing:1,alignItems:"center",children:[Object(P.jsx)(h.a,{item:!0,children:Object(P.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(P.jsx)(D,{accept:"image/*",id:"icon-button-file",multiple:!0,type:"file",onChange:B}),Object(P.jsx)(j.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(P.jsx)(u.a,{})})]})}),Object(P.jsx)(h.a,{item:!0,flexGrow:1,children:Object(P.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(P.jsx)(D,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:B}),Object(P.jsx)(f.a,{component:"span",children:"Parse Artifact by Uploading Image (or Ctrl-v here)"})]})}),Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(f.a,{color:"info",onClick:function(){v(!0),y.a.modalview("/artifact/how-to-upload")},children:"Show Me How!"})})]}),E>0&&Object(P.jsx)(S.a,{sx:{mt:1,pl:2},children:Object(P.jsxs)(h.a,{container:!0,spacing:1,alignItems:"center",children:[Object(P.jsx)(h.a,{item:!0,flexGrow:1,children:Object(P.jsx)(b.a,{children:Object(P.jsxs)("span",{children:["Screenshots in file-queue: ",Object(P.jsx)("b",{children:E}),!1]})})}),Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(f.a,{size:"small",color:"error",onClick:V,children:"Clear file-queue"})})]})}),L&&Object(P.jsxs)(h.a,{container:!0,mt:1,spacing:1,children:[Object(P.jsx)(h.a,{item:!0,xs:6,lg:4,children:Object(P.jsx)(p.a,{component:"img",src:L,width:"100%",height:"auto",alt:"Screenshot to parse for artifact values"})}),Object(P.jsxs)(h.a,{item:!0,xs:6,lg:8,children:[!R&&A&&Object(P.jsxs)(h.a,{container:!0,spacing:1,alignItems:"center",children:[Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(m.a,{size:"1.5em"})}),Object(P.jsx)(h.a,{item:!0,flexGrow:1,children:Object(P.jsx)(b.a,{variant:"h6",children:"Scanning current artifact"})})]}),W&&Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:W.slotKey}),Object(P.jsx)("div",{children:W.mainStatKey}),Object(P.jsx)("div",{children:W.mainStatVal}),Object(P.jsx)("div",{children:W.rarity}),Object(P.jsx)("div",{children:W.level}),Object(P.jsx)("div",{children:W.substats}),Object(P.jsx)("div",{children:W.setKey})]})]})]})]})}function _(e){var t=e.modalShow,n=e.hide;return Object(P.jsx)(C.a,{open:t,onClose:n,children:Object(P.jsxs)(S.a,{children:[Object(P.jsx)(v.a,{sx:{py:1},children:Object(P.jsxs)(h.a,{container:!0,children:[Object(P.jsx)(h.a,{item:!0,flexGrow:1,children:Object(P.jsx)(b.a,{variant:"subtitle1",children:"How do Upload Screenshots for parsing"})}),Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(k.a,{onClick:n})})]})}),Object(P.jsx)(O.a,{}),Object(P.jsxs)(v.a,{children:[Object(P.jsxs)(g.a,{variant:"outlined",severity:"warning",children:["NOTE: Artifact Scanning currently only work for ",Object(P.jsx)("strong",{children:"ENGLISH"})," artifacts."]}),Object(P.jsxs)(h.a,{container:!0,spacing:1,mt:1,children:[Object(P.jsx)(h.a,{item:!0,xs:8,md:4,children:Object(P.jsx)(p.a,{component:"img",alt:"snippet of the screen to take",src:V,width:"100%",height:"auto"})}),Object(P.jsxs)(h.a,{item:!0,xs:12,md:8,children:[Object(P.jsx)(b.a,{gutterBottom:!0,children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(P.jsx)(b.a,{variant:"h5",children:"Where to snip the screenshot."}),Object(P.jsxs)(b.a,{gutterBottom:!0,children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",Object(P.jsx)("b",{children:"Only artifact from this screen can be scanned."})]}),Object(P.jsx)(b.a,{variant:"h6",children:"Single artifact"}),Object(P.jsxs)(b.a,{gutterBottom:!0,children:["To take a screenshot, in Windows, the shortcut is ",Object(P.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),Object(P.jsx)(b.a,{variant:"h6",children:"Multiple artifacts"}),Object(P.jsxs)(b.a,{gutterBottom:!0,children:["To take advantage of batch uploads, you can use a tool like ",Object(P.jsx)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),Object(P.jsx)(b.a,{variant:"h5",children:"What to include in the screenshot."}),Object(P.jsx)(b.a,{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]}),Object(P.jsxs)(h.a,{item:!0,xs:12,md:7,children:[Object(P.jsx)(b.a,{variant:"h5",children:"Adding Screenshot to Genshin Optimizer"}),Object(P.jsx)(b.a,{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),Object(P.jsx)(b.a,{gutterBottom:!0,children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),Object(P.jsxs)(b.a,{children:["For single screenshots from the snippets, just press ",Object(P.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),Object(P.jsxs)(b.a,{gutterBottom:!0,children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(P.jsx)("b",{children:"Artifact Editor"}),"."]}),Object(P.jsx)(b.a,{variant:"h5",children:"Finishing the Artifact"}),Object(P.jsxs)(b.a,{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",Object(P.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]})]}),Object(P.jsx)(h.a,{item:!0,xs:8,md:5,children:Object(P.jsx)(p.a,{component:"img",alt:"main screen after importing stats",src:T,width:"100%",height:"auto"})})]})]}),Object(P.jsx)(O.a,{}),Object(P.jsx)(v.a,{sx:{py:1},children:Object(P.jsx)(k.a,{large:!0,onClick:n})})]})})}var J=function(e,t){switch(t.type){case"upload":return{processed:e.processed,outstanding:[].concat(Object(r.a)(e.outstanding),Object(r.a)(t.files))};case"processing":return{processed:e.processed,outstanding:Object(r.a)(e.outstanding)};case"processed":return e.outstanding[0].file===t.file?{processed:[].concat(Object(r.a)(e.processed),[t.result]),outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function Y(e){if(!e.result){var t=e.file,n=e.fileName;e.imageURL=q(t),e.result=e.imageURL.then(function(){var e=Object(l.a)(o.a.mark((function e(a){var r,i,s,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.getAll();case 2:return r=e.sent,e.next=5,X(a);case 5:return i=e.sent,s=ne(r,i.rarities,ae(i.artifactSetTexts,r),ce(i.whiteTexts),le(i.substatTexts),se(i.whiteTexts),oe(i.whiteTexts)),l=Object(c.a)(s,2),u=l[0],d=l[1],e.abrupt("return",{file:t,result:{fileName:n,imageURL:a,artifact:u,texts:d}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}var q=function(e){return new Promise((function(t){var n=new FileReader;n.onloadend=function(e){var n=e.target;return t(n.result)},n.readAsDataURL(e)}))},$=function(e){return new Promise((function(t){var n=new Image;n.onload=function(e){var n=e.target;return t(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)}(n))},n.src=e}))};function Q(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(o.a.mark((function e(t){var n,a,r,i,s,l,u,d,h,j,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:return n=e.sent,a=n.width,r=Math.floor(n.height/2),i={rectangle:{top:r,left:0,width:a,height:r}},s=[ee(ue(n,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),ee(ue(n,[30,50,80],[160,160,160],{region:"bot"}),i),ee(ue(n,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),i)],l=re(n.data,n.width,n.height),e.next=9,Promise.all(s);case 9:return u=e.sent,d=Object(c.a)(u,3),h=d[0],j=d[1],f=d[2],e.abrupt("return",{whiteTexts:h,substatTexts:j,artifactSetTexts:f,rarities:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(o.a.mark((function e(t){var n,a,r,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:void 0,a=Q(t),e.next=4,G.borrow("eng",function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,e.sent.addJob("recognize",a,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return r=e.sent,e.abrupt("return",r.data.lines.map((function(e){return e.text})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n,i,s,o,l){var u,d=Object(r.a)(new Set([].concat(Object(r.a)(n),["Adventurer","ArchaicPetra"]))),h=-1,j=[{setKey:"Adventurer",rarity:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1,exclude:!1}],f=Object(M.o)(I.a,(function(t){var a=0;n.size&&(a+=Object(r.a)(n).reduce((function(n,a){return n+(e[a].rarity.includes(t)?1:0)}),0)/n.size);s.length&&(a+=s.reduce((function(e,n){return e+(W.a.getSubstatRolls(n.key,n.value,t).length?1:0)}),0)/s.length*2);return a})),b=Object(a.a)(I.h);try{for(b.s();!(u=b.n()).done;){var p,m=u.value,v=Object(a.a)(W.a.slotMainStats(m));try{var O=function(){for(var t=p.value,r=(i.has(m)?1:0)+(o.has(t)?1:0),s=l.filter((function(e){return"%"!==e.unit||"%"===R.b.getStatUnit(t)})).map((function(e){return e.mainStatValue})),u=function(){var i=Object(c.a)(v[b],2),o=i[0],l=i[1],u=parseInt(o),f=d.filter((function(t){return e[t].rarity.includes(u)})),p=r+l;if(p+2<h)return"continue";var O,g=Object(a.a)(s);try{var x=function(){var e,r=O.value,i=W.a.mainStatValues(u,t),c=Math.max(0,i.findIndex((function(e){return e>=r}))),s=i[c],o=p+(s===r?1:0),l=Object(a.a)(f);try{for(l.s();!(e=l.n()).done;){var d=e.value,b=o+(n.has(d)?1:0);b>=h&&(b>h&&(j=[]),h=b,j.push({setKey:d,rarity:u,level:c,slotKey:m,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1}))}}catch(v){l.e(v)}finally{l.f()}};for(g.s();!(O=g.n()).done;)x()}catch(K){g.e(K)}finally{g.f()}if(p>=h){var y,w=Object(a.a)(f);try{for(w.s();!(y=w.n()).done;){var S=y.value,k=p+(n.has(S)?1:0);k>h&&(j=[]),h=k,j.push({setKey:S,rarity:u,level:0,slotKey:m,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1})}}catch(K){w.e(K)}finally{w.f()}}},b=0,v=Object.entries(f);b<v.length;b++)u()};for(v.s();!(p=v.n()).done;)O()}catch(T){v.e(T)}finally{v.f()}}}catch(T){b.e(T)}finally{b.f()}var g={},x={setKey:new Set,rarity:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},y=j[0],w=W.a.mainStatValue(y.mainStatKey,y.rarity,y.level);y.substats=s.filter((function(e,t){return e.key!==y.mainStatKey&&s.slice(0,t).every((function(t){return t.key!==e.key}))}));for(var S=y.substats.length;S<4;S++)y.substats.push({key:"",value:0});for(var k=0,C=j;k<C.length;k++){var F=C[k];x.setKey.add(F.setKey),x.rarity.add(F.rarity),x.level.add(F.level),x.slotKey.add(F.slotKey),x.mainStatKey.add(F.mainStatKey)}function A(e,t,n){return Object(P.jsxs)(P.Fragment,{children:["Unknown ",t," : Set to ",Object(P.jsx)(K.a,{color:"error",children:n(e)})]})}function U(e,t,n){return Object(P.jsxs)(P.Fragment,{children:["Detected ",t," ",Object(P.jsx)(K.a,{color:"success",children:n(e)})]})}function E(e,t,n){return Object(P.jsxs)(P.Fragment,{children:["Inferred ",t," ",Object(P.jsx)(K.a,{color:"warning",children:n(e)})]})}function L(e,t,n,a){var i=new Set(Object(r.a)(x[e]).filter((function(e){return t.has(e)})));i.size>1?g[e]=function(e,t,n,a){return Object(P.jsxs)(P.Fragment,{children:["Ambiguous ",n," ",Object(P.jsx)(K.a,{color:"error",children:a(e)})," : May also be ",t.filter((function(t){return t!==e})).map((function(e,t){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("b",{children:t>0?"/":""}),Object(P.jsx)(K.a,{color:"warning",children:a(e)})]})}))]})}(y[e],Object(r.a)(t),n,a):1===i.size?g[e]=U(y[e],n,a):x[e].size>1?g[e]=A(y[e],n,a):g[e]=E(y[e],n,a)}L("setKey",n,"Set",(function(t){return e[t].name})),L("rarity",t,"Rarity",(function(e){return Object(P.jsxs)(P.Fragment,{children:[e," ",1!==e?"Stars":"Star"]})})),L("slotKey",i,"Slot",(function(e){return Object(P.jsx)(P.Fragment,{children:W.a.slotName(e)})})),L("mainStatKey",o,"Main Stat",(function(e){return Object(P.jsx)(P.Fragment,{children:R.b.getStatNameRaw(e)})})),g.substats=Object(P.jsx)(P.Fragment,{children:y.substats.filter((function(e){return""!==e.key})).map((function(e,t){return Object(P.jsx)("div",{children:U(e,"Sub Stat",(function(e){return Object(P.jsxs)(P.Fragment,{children:[R.b.getStatNameRaw(e.key),"+",Object(z.b)(e.value,R.b.getStatUnit(e.key))]})}))},t)}))});var N=R.b.getStatUnit(y.mainStatKey);return l.find((function(e){return e.mainStatValue===w}))?o.has(y.mainStatKey)?(g.level=U(y.level,"Level",(function(e){return"+"+e})),g.mainStatVal=U(w,"Main Stat value",(function(e){return Object(P.jsx)(P.Fragment,{children:Object(z.b)(e,N)})}))):(g.level=E(y.level,"Level",(function(e){return"+"+e})),g.mainStatVal=E(w,"Main Stat value",(function(e){return Object(P.jsx)(P.Fragment,{children:Object(z.b)(e,N)})}))):(g.level=A(y.level,"Level",(function(e){return"+"+e})),g.mainStatVal=A(w,"Main Stat value",(function(e){return Object(P.jsx)(P.Fragment,{children:Object(z.b)(e,N)})}))),[y,g]}function ae(e,t){var n,r=new Set([]),i=Object(a.a)(e);try{for(i.s();!(n=i.n()).done;){var c,s=n.value,o=Object(a.a)(I.b);try{for(o.s();!(c=o.n()).done;){var l=c.value;Object(M.j)(s.replace(/\W/g,""),t[l].nameRaw.replace(/\W/g,""))<=2&&r.add(l)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){i.e(u)}finally{i.f()}return r}function re(e,t,n){for(var a=e,r=0,i=0,c=new Set([]),s=0;s<n;s++){for(var o=0,l=!1,u=0;u<t;u++){var d=4*(s*t+u);ie({r:a[d],g:a[d+1],b:a[d+2]},B)?l||(l=!0,o++):l=!1}r!==o?(r=o,i=1):r&&++i>=10&&c.add(Object(M.a)(r,3,5))}return c}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=function(e,t){return Math.abs(e-t)<=n};return a(e.r,t.r)&&a(e.g,t.g)&&a(e.b,t.b)}function ce(e){var t,n=new Set,r=Object(a.a)(e);try{for(r.s();!(t=r.n()).done;){var i,c=t.value,s=Object(a.a)(I.h);try{for(s.s();!(i=s.n()).done;){var o=i.value;Object(M.j)(c.replace(/\W/g,""),W.a.slotName(o).replace(/\W/g,""))<=2&&n.add(o)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}return n}function se(e){var t,n=new Set([]),r=Object(a.a)(e);try{for(r.s();!(t=r.n()).done;){var i,c=t.value,s=Object(a.a)(A.a);try{for(s.s();!(i=s.n()).done;){var o=i.value;c.toLowerCase().includes(R.b.getStatNameRaw(o).toLowerCase())&&n.add(o),o.includes("_bonu")&&Object(M.j)(c.replace(/\W/g,""),R.b.getStatNameRaw(o).replace(/\W/g,""))<=1&&n.add(o)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}return n}function oe(e){var t,n=[],r=Object(a.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,c=/(\d+[,|\\.]+\d)%/,s=c.exec(i);s&&n.push({mainStatValue:parseFloat(s[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),(s=(c=/(\d+[,|\\.]\d{3}|\d{2,3})/).exec(i))&&n.push({mainStatValue:parseInt(s[1].replace(/[,|\\.]+/g,""))})}}catch(o){r.e(o)}finally{r.f()}return n}function le(e){var t,n=[],r=Object(a.a)(e);try{var i=function(){var e=t.value;e=e.replace(/^[\W]+/,"").replace(/\n/,""),A.b.forEach((function(t){var a=R.b.getStatNameRaw(t),r=("%"===R.b.getStatUnit(t)?new RegExp(a+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(a+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);r&&n.push({key:t,value:parseFloat(r[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}))};for(r.s();!(t=r.n()).done;)i()}catch(c){r.e(c)}finally{r.f()}return n.slice(0,4)}function ue(e,t,n,a){for(var r=a.region,i=void 0===r?"all":r,c=a.mode,s=void 0===c?"color":c,o=Uint8ClampedArray.from(e.data),l="top"===i,u="bot"===i,d="all"===i,h="bw"===s,j="invert"===s,f=Math.floor(e.width*(e.height/2)*4),b=0;b<o.length;b+=4){var p=o[b],m=o[b+1],v=o[b+2];(d||l&&b<f||u&&b>f)&&p>=t[0]&&p<=n[0]&&m>=t[1]&&m<=n[1]&&v>=t[2]&&v<=n[2]?h?o[b]=o[b+1]=o[b+2]=0:j&&(o[b]=255-p,o[b+1]=255-m,o[b+2]=255-v):o[b]=o[b+1]=o[b+2]=255}return new ImageData(o,e.width,e.height)}}}]);
//# sourceMappingURL=34.eae885a7.chunk.js.map