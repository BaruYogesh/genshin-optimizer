/*! For license information please see BuildWorker.01f7cf23.worker.js.LICENSE.txt */
!function(t){self.webpackChunk=function(e,r){for(var a in r)t[a]=r[a];for(;e.length;)n[e.pop()]=1};var e={},n={0:1};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[];return e.push(Promise.resolve().then((function(){n[t]||importScripts(r.p+"static/js/"+({}[t]||t)+"."+{1:"3ecb6770"}[t]+".chunk.worker.js")}))),Promise.all(e)},r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/genshin-optimizer/",r(r.s=17)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(9);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(8);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(11);var a=n(9);function i(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p}));var r=n(1),a=n(8);function i(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var o=n(0),c=n(2),u=n(6),f=n(4),l=["enemyLevel"].concat(Object(c.a)(u.a.map((function(t){return"".concat(t,"_enemyImmunity")}))),Object(c.a)(u.a.map((function(t){return"".concat(t,"_enemyRes_")}))),["enemyDEFRed_"]);[].concat(Object(c.a)(l),["characterATK","characterHP","characterDEF"]);function s(t,e){if(e)return Object.entries(e).forEach((function(e){var n,r=Object(o.a)(e,2),a=r[0],i=r[1];switch(a){case"partyAll":case"partyOnly":case"partyActive":t[a]||(t[a]={}),s(t[a],i);break;case"modifiers":t.modifiers=null!==(n=t.modifiers)&&void 0!==n?n:{},m(t.modifiers,i);break;case"infusionSelf":t.infusionAura||(t.infusionAura=i);break;default:void 0===t[a]?t[a]=i:"number"===typeof t[a]&&(t[a]+=i)}}))}function m(t,e){for(var n=0,r=Object.entries(e);n<r.length;n++){var a,i,u=Object(o.a)(r[n],2),f=u[0],l=u[1];t[f]=null!==(a=t[f])&&void 0!==a?a:[],(i=t[f]).push.apply(i,Object(c.a)(l))}}function v(t,e){s(t,e),s(t.partyBuff,e)}function d(t,e){if(e)return Object.entries(e).forEach((function(e){var n=Object(o.a)(e,2),r=n[0],u=n[1];switch(r){case"partyAll":var f=u.modifiers,l=i(u,["modifiers"]);v(t,l),t.teamStats.forEach((function(t){return t&&v(t,l)})),f&&m(t["".concat(r,"Modifiers")],f);break;case"partyOnly":var d=u.modifiers,p=i(u,["modifiers"]);t.teamStats.forEach((function(t){return t&&v(t,p)})),d&&m(t["".concat(r,"Modifiers")],d);break;case"partyActive":var y=u.modifiers,h=i(u,["modifiers"]),b=[t].concat(Object(c.a)(t.teamStats)).find((function(t){return null===t||void 0===t?void 0:t.activeCharacter}));b&&v(b,h),y&&m(t["".concat(r,"Modifiers")],y);break;default:s(t,Object(a.a)({},r,u))}}))}function p(t){var e=y(t);if(t.teamStats){var n=t.teamStats.map((function(t){if(!t)return t;t.teamStats;return y(i(t,["teamStats"]))})),r=[e].concat(Object(c.a)(n));n.forEach((function(t,e){return t&&(t.teamStats=r.filter((function(t,n){return n!==e+1})))})),e.teamStats=n}return e}function y(t){var e=Object(r.a)({},t);return e.modifiers&&(e.modifiers=Object(f.c)(e.modifiers)),e.partyAllModifiers=Object(f.c)(e.partyAllModifiers),e.partyOnlyModifiers=Object(f.c)(e.partyOnlyModifiers),e.partyActiveModifiers=Object(f.c)(e.partyActiveModifiers),e.partyBuff=Object(f.c)(e.partyBuff),e.tlvl=Object(f.c)(e.tlvl),e}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return f}));n(10);var r=n(2),a=n(0),i=n(1);function o(t){if(!t)return t;if(!Object.keys(t).length)return{};var e=Object(i.a)({},t);return Object.entries(t).forEach((function(t){var n=Object(a.a)(t,2),r=n[0],i=n[1];"object"===typeof i&&(e[r]=JSON.parse(JSON.stringify(i)))})),e}var c=function(t,e,n){return t<e?e:t>n?n:t};function u(t,e){return e.reduce((function(t,e){return null===t||void 0===t?void 0:t[e]}),t)}function f(t,e,n,i){n(t)?i(t,e):t&&"object"===typeof t&&Object.entries(t).forEach((function(t){var o=Object(a.a)(t,2),c=o[0];return f(o[1],[].concat(Object(r.a)(e),[c]),n,i)}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(9);function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw o}}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=["physical"].concat(["anemo","geo","electro","hydro","pyro","cryo"])},function(t,e,n){"use strict";n.d(e,"e",(function(){return f})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return m})),n.d(e,"d",(function(){return d}));var r=n(1),a=n(2),i=n(5),o=n(0),c=(n(12),n(6)),u=n(3);function f(t,e,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set;function l(t,e,n){var r=Object.entries(t).some((function(t){var n,r=Object(o.a)(t,2),a=r[0],i=r[1];return!isFinite(i)||i>(null!==(n=e[a])&&void 0!==n?n:0)})),a=Object.entries(e).some((function(e){var n,r=Object(o.a)(e,2),a=r[0],i=r[1];return!isFinite(i)||i>(null!==(n=t[a])&&void 0!==n?n:0)}));return r||!a&&n}var s={other:{}};Object.entries(e).forEach((function(t){var e=Object(o.a)(t,2),r=e[0],a=e[1];Object.entries(a).forEach((function(t){var e,a=Object(o.a)(t,2),i=a[0],c=a[1],u=Object.entries(c).filter((function(t){var e=Object(o.a)(t,1)[0];return n.has(e)}));u.length>0&&(s[r]=null!==(e=s[r])&&void 0!==e?e:{},s[r][i]=Object.fromEntries(u));var f,l,m=c.modifiers;m&&(s[r]=null!==(f=s[r])&&void 0!==f?f:{},s[r][i]=null!==(l=s[r][i])&&void 0!==l?l:{},Object.keys(m).filter((function(t){return n.has(t)})).forEach((function(t){return s[r][i][t]=1/0})))}))}));var m=t.map((function(t){var e={},r=t.setKey in s||f.has(t.setKey)?t.setKey:"other";n.has(t.mainStatKey)&&(e[t.mainStatKey]=t.mainStatVal);var a,o=Object(i.a)(t.substats);try{for(o.s();!(a=o.n()).done;){var c,u=a.value,l=u.key,m=u.value;l&&n.has(l)&&(e[l]=(null!==(c=e[l])&&void 0!==c?c:0)+m)}}catch(d){o.e(d)}finally{o.f()}for(var v in e)v.endsWith("enemyRes_")&&(e[v]=-e[v]);return{artifact:t,numberOfBetterSameSetArtifacts:0,stats:e,set:r}}));return(m=(m=m.filter((function(t){var e=t.artifact,n=t.stats,r=t.set;return m.every((function(a){var i=a.artifact,o=a.stats,u=a.set;return!(r===u&&!l(n,o,e.id<=i.id))||(t.numberOfBetterSameSetArtifacts+=1,t.numberOfBetterSameSetArtifacts<c)}))}))).filter((function(t){var e=t.artifact,n=t.stats,i=t.set;if(f.has(e.setKey))return!0;var o=[].concat(Object(a.a)(Object.values(s[i])),[{}]).map((function(t){var e=Object(r.a)({},n);return Object(u.d)(e,t),{stat:e,numberOfBetterArtifacts:0}}));return m.every((function(t){var n=t.artifact,r=t.stats,a=t.set,u=t.numberOfBetterSameSetArtifacts;return i===a||0!==(o=o.filter((function(t){return!!l(t.stat,r,e.id<=n.id)||(t.numberOfBetterArtifacts+=1,t.numberOfBetterArtifacts+u<c)}))).length}))}))).map((function(t){return t.artifact}))}function l(t,e){for(var n=new Set(e.map((function(t){return t.key}))),a={},o=Object.keys(t),c=0,u=o;c<u.length;c++){var f,l,s=u[c],m={},v=Object(i.a)(null!==(f=t[s])&&void 0!==f?f:[]);try{for(v.s();!(l=v.n()).done;){var d=l.value;n.has(d.setKey)?m[d.setKey]?m[d.setKey].push(d):m[d.setKey]=[d]:m.null?m.null.push(d):m.null=[d]}}catch(b){v.e(b)}finally{v.f()}a[s]=Object.freeze(m)}var p={},y={},h=[];return function t(n){if(n>=o.length){var c,u=Object(i.a)(e);try{for(u.s();!(c=u.n()).done;){var f,l=c.value,s=l.key,m=l.num;if((null!==(f=p[s])&&void 0!==f?f:0)<m)return}}catch(b){u.e(b)}finally{u.f()}h.push(Object(r.a)({},y))}else{var v=o[n],d=a[v];for(var _ in d){var O;p[_]=(null!==(O=p[_])&&void 0!==O?O:0)+1,y[v]=d[_],t(n+1),p[_]-=1}}}(0),h}function s(t,e){return l(t,e).reduce((function(t,e){return t+Object.entries(e).reduce((function(t,e){return t*e[1].length}),1)}),0)}function m(t,e,n,r){var a=Object.keys(e),o={},c={};!function t(f,l){var s;if(f>=a.length)r(c,l);else{var m,d=a[f],p=Object(i.a)(null!==(s=e[d])&&void 0!==s?s:[]);try{for(p.s();!(m=p.n()).done;){var y=m.value,h=Object(u.a)(l);v(d,y,o,c,h,n),t(f+1,h),o[y.setKey]-=1}}catch(b){p.e(b)}finally{p.f()}}}(0,t)}function v(t,e,n,r,a,i){var o,c,f=e.setKey;r[t]=e,n[f]=(null!==(o=n[f])&&void 0!==o?o:0)+1,e.mainStatKey in a&&(a[e.mainStatKey]+=e.mainStatVal),e.substats.forEach((function(t){(null===t||void 0===t?void 0:t.key)in a&&(a[t.key]+=t.value)}));var l=null===(c=i[f])||void 0===c?void 0:c[n[f]];l&&Object(u.b)(a,l)}function d(t,e,n){var r=e.hitMode,a=void 0===r?"":r,i=e.infusionAura,o=void 0===i?"":i,u=e.infusionSelf,f=void 0===u?"":u,l=e.reactionMode,s=void 0===l?"":l,m=e.characterEle,v=void 0===m?"anemo":m,d=e.weaponType,p=void 0===d?"sword":d;if(c.a.includes(t))return"".concat(t,"_elemental_").concat(a);if(n||"catalyst"!==p||(n=v),"elemental"===t||"burst"===t||"skill"===t||n)return s&&s.startsWith(n||v)?"".concat(s,"_").concat(t,"_").concat(a):"".concat(n||v,"_").concat(t,"_").concat(a);var y="physical";return f?y=f:o&&(y=o),s&&s.startsWith(y)?"".concat(s,"_").concat(t,"_").concat(a):"".concat(y,"_").concat(t,"_").concat(a)}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(11);function a(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){t.exports=n(13)},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";t.exports=n(15)},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(C){u=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),o=new A(r||[]);return i._invoke=function(t,e,n){var r=s;return function(a,i){if(r===v)throw new Error("Generator is already running");if(r===d){if("throw"===a)throw i;return P()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var c=w(o,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===s)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?d:m,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=f;var s="suspendedStart",m="suspendedYield",v="executing",d="completed",p={};function y(){}function h(){}function b(){}var _={};_[i]=function(){return this};var O=Object.getPrototypeOf,j=O&&O(O(R([])));j&&j!==n&&r.call(j,i)&&(_=j);var g=b.prototype=y.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(a,i,o,c){var u=l(t[a],t,i);if("throw"!==u.type){var f=u.arg,s=f.value;return s&&"object"===typeof s&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,o,c)}),(function(t){n("throw",t,o,c)})):e.resolve(s).then((function(t){f.value=t,o(f)}),(function(t){return n("throw",t,o,c)}))}c(u.arg)}var a;this._invoke=function(t,r){function i(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(i,i):i()}}function w(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=l(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function R(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:e,done:!0}}return h.prototype=g.constructor=b,b.constructor=h,h.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},E(S.prototype),S.prototype[o]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new S(f(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(g),u(g,c,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=R,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),f=r.call(o,"finallyLoc");if(u&&f){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},function(t,e){$RefreshReg$=function(){},$RefreshSig$=function(){return function(){}}},function(t,e,n){"use strict";var r=n(16),a=60103,i=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var o=60109,c=60110,u=60112;e.Suspense=60113;var f=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var s=Symbol.for;a=s("react.element"),i=s("react.portal"),e.Fragment=s("react.fragment"),e.StrictMode=s("react.strict_mode"),e.Profiler=s("react.profiler"),o=s("react.provider"),c=s("react.context"),u=s("react.forward_ref"),e.Suspense=s("react.suspense"),f=s("react.memo"),l=s("react.lazy")}var m="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p={};function y(t,e,n){this.props=t,this.context=e,this.refs=p,this.updater=n||d}function h(){}function b(t,e,n){this.props=t,this.context=e,this.refs=p,this.updater=n||d}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},h.prototype=y.prototype;var _=b.prototype=new h;_.constructor=b,r(_,y.prototype),_.isPureReactComponent=!0;var O={current:null},j=Object.prototype.hasOwnProperty,g={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,n){var r,i={},o=null,c=null;if(null!=e)for(r in void 0!==e.ref&&(c=e.ref),void 0!==e.key&&(o=""+e.key),e)j.call(e,r)&&!g.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var f=Array(u),l=0;l<u;l++)f[l]=arguments[l+2];i.children=f}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:t,key:o,ref:c,props:i,_owner:O.current}}function S(t){return"object"===typeof t&&null!==t&&t.$$typeof===a}var w=/\/+/g;function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function k(t,e,n,r,o){var c=typeof t;"undefined"!==c&&"boolean"!==c||(t=null);var u=!1;if(null===t)u=!0;else switch(c){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case a:case i:u=!0}}if(u)return o=o(u=t),t=""===r?"."+M(u,0):r,Array.isArray(o)?(n="",null!=t&&(n=t.replace(w,"$&/")+"/"),k(o,e,n,"",(function(t){return t}))):null!=o&&(S(o)&&(o=function(t,e){return{$$typeof:a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(w,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var f=0;f<t.length;f++){var l=r+M(c=t[f],f);u+=k(c,e,n,l,o)}else if("function"===typeof(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=m&&t[m]||t["@@iterator"])?t:null}(t)))for(t=l.call(t),f=0;!(c=t.next()).done;)u+=k(c=c.value,e,n,l=r+M(c,f++),o);else if("object"===c)throw e=""+t,Error(v(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function A(t,e,n){if(null==t)return t;var r=[],a=0;return k(t,r,"","",(function(t){return e.call(n,t,a++)})),r}function R(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var P={current:null};function C(){var t=P.current;if(null===t)throw Error(v(321));return t}var D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(v(143));return t}},e.Component=y,e.PureComponent=b,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(v(267,t));var i=r({},t.props),o=t.key,c=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(c=e.ref,u=O.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(l in e)j.call(e,l)&&!g.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==f?f[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){f=Array(l);for(var s=0;s<l;s++)f[s]=arguments[s+2];i.children=f}return{$$typeof:a,type:t.type,key:o,ref:c,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:l,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:f,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return C().useCallback(t,e)},e.useContext=function(t,e){return C().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return C().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return C().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return C().useLayoutEffect(t,e)},e.useMemo=function(t,e){return C().useMemo(t,e)},e.useReducer=function(t,e,n){return C().useReducer(t,e,n)},e.useRef=function(t){return C().useRef(t)},e.useState=function(t){return C().useState(t)},e.version="17.0.2"},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(t,e){for(var n,c,u=o(t),f=1;f<arguments.length;f++){for(var l in n=Object(arguments[f]))a.call(n,l)&&(u[l]=n[l]);if(r){c=r(n);for(var s=0;s<c.length;s++)i.call(n,c[s])&&(u[c[s]]=n[c[s]])}}return u}},function(t,e,n){"use strict";n.r(e);var r=n(10),a=n.n(r),i=n(1),o=n(5),c=n(2),u=n(0);function f(t,e,n,r,a,i,o){try{var c=t[i](o),u=c.value}catch(f){return void n(f)}c.done?e(u):Promise.resolve(u).then(r,a)}n(14);var l=n(7);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=n(4),v=n.e(1).then(n.bind(null,28)).then((function(t){return d.formulas=t.default,t.default})),d=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this instanceof t)throw Error("A static class cannot be instantiated.")}var e,n,r;return e=t,r=[{key:"computeModifier",value:function(e,n){if(!n||!Object.keys(n).length)return function(){return{}};var r=Object.entries(n).map((function(n){var r=Object(u.a)(n,2);return[r[0],r[1].map((function(n){return t.getCurrent(n,e)[0]}))]}));return function(t){return Object.fromEntries(r.map((function(e){var n=Object(u.a)(e,2);return[n[0],n[1].reduce((function(e,n){return e+n(t)}),0)]})))}}},{key:"getCurrent",value:function(e,n){return function(t,e){return e.reduce((function(t,e){return null===t||void 0===t?void 0:t[e]}),t)}(t.formulas,e)(n)}}],(n=null)&&s(e.prototype,n),r&&s(e,r),t}();d.formulas={},d.get=function(t){return v.then((function(e){return Object(m.d)(e,t)}))};var p=n(8),y={physical:{name:"Physical"},anemo:{name:"Anemo"},geo:{name:"Geo"},electro:{name:"Electro"},hydro:{name:"Hydro"},pyro:{name:"Pyro"},cryo:{name:"Cryo"}},h={hit:"DMG",avgHit:"Avg. DMG",critHit:"CRIT Hit DMG"},b={normal:"Normal Att.",charged:"Charged Att.",plunging:"Plunging Att.",elemental:"Elemental Att.",skill:"Ele. Skill",burst:"Ele. Burst"},_=[-1,17.165606,18.535048,19.904854,21.274902,22.6454,24.649612,26.640642,28.868587,31.36768,34.143345,37.201,40.66,44.446667,48.56352,53.74848,59.081898,64.420044,69.72446,75.12314,80.58478,86.11203,91.70374,97.24463,102.812645,108.40956,113.20169,118.102905,122.97932,129.72733,136.29291,142.67085,149.02902,155.41699,161.8255,169.10631,176.51808,184.07274,191.70952,199.55692,207.38205,215.3989,224.16566,233.50217,243.35057,256.06308,268.5435,281.52606,295.01364,309.0672,323.6016,336.75754,350.5303,364.4827,378.61917,398.6004,416.39825,434.387,452.95105,472.60623,492.8849,513.56854,539.1032,565.51056,592.53876,624.4434,651.47015,679.4968,707.79407,736.67145,765.64026,794.7734,824.67737,851.1578,877.74207,914.2291,946.74677,979.4114,1011.223,1044.7917,1077.4437,1109.9976,1142.9766,1176.3695,1210.1844,1253.8357,1288.9528,1325.4841,1363.4569,1405.0974,1446.8535],O=[-1,91.1791,98.707664,106.23622,113.76477,121.29332,128.82188,136.35042,143.87898,151.40752,158.93608,169.99149,181.07625,192.19037,204.0482,215.939,227.86275,247.68594,267.5421,287.4312,303.82642,320.22522,336.62762,352.31927,368.01093,383.70255,394.43237,405.18146,415.94992,426.73764,437.5447,450.6,463.7003,476.84558,491.1275,502.55457,514.0121,531.4096,549.9796,568.5849,584.9965,605.67035,626.3862,646.0523,665.7556,685.4961,700.8394,723.3331,745.8653,768.4357,786.79193,809.5388,832.32904,855.16266,878.0396,899.4848,919.362,946.0396,974.7642,1003.5786,1030.077,1056.635,1085.2463,1113.9244,1149.2587,1178.0648,1200.2238,1227.6603,1257.243,1284.9174,1314.7529,1342.6652,1372.7524,1396.321,1427.3124,1458.3745,1482.3358,1511.9109,1541.5493,1569.1537,1596.8143,1622.4197,1648.074,1666.3761,1684.6782,1702.9803,1726.1047,1754.6715,1785.8666,1817.1375,1851.0603],j={flat:{name:"",default:1},characterHP:{name:"Character Base HP",const:!0},characterDEF:{name:"Character Base DEF",const:!0},characterATK:{name:"Character Base ATK",const:!0},characterEle:{name:"Character Element Key",default:"anemo",const:!0},characterLevel:{name:"Character Level",default:1,const:!0},weaponATK:{name:"Weapon ATK",const:!0},baseATK:{name:"ATK Base",const:!0},hp:{name:"HP"},hp_:{name:"HP",unit:"%"},atk:{name:"ATK"},atk_:{name:"ATK",unit:"%"},def:{name:"DEF"},def_:{name:"DEF",unit:"%"},dmg_:{name:"All DMG Bonus",unit:"%"},finalHP:{name:"Total HP"},finalATK:{name:"Total ATK"},finalDEF:{name:"Total DEF"},critHit_base_multi:{name:"Crit Multiplier",unit:"multi"},eleMas:{name:"Elemental Mastery"},enerRech_:{name:"Energy Recharge",unit:"%",default:100},critRate_:{name:"CRIT Rate",unit:"%",default:5},critDMG_:{name:"CRIT DMG",unit:"%",default:50},weakspotDMG_:{name:"Weakspot DMG",unit:"%"},heal_:{name:"Healing Bonus",unit:"%"},incHeal_:{name:"Incoming Healing Bonus",unit:"%"},shield_:{name:"Shield Strength",unit:"%"},cdRed_:{name:"CD Reduction",unit:"%"},skillCDRed_:{name:"Ele. Skill CD Red.",unit:"%"},burstCDRed_:{name:"Ele. Burst CD Red.",unit:"%"},moveSPD_:{name:"Movement SPD",unit:"%"},atkSPD_:{name:"ATK SPD",unit:"%"},stamina:{name:"Stamina"},staminaDec_:{name:"Stamina Consumption Dec.",unit:"%"},staminaSprintDec_:{name:"Sprinting Stamina Consumption Dec.",unit:"%"},staminaGlidingDec_:{name:"Gliding Stamina Consumption Dec.",unit:"%"},staminaChargedDec_:{name:"Charged Attack Stamina Consumption Dec.",unit:"%"},heal_multi:{name:"Heal multiplier",unit:"multi"},transformative_level_multi:{name:"Reaction Level Multiplier",unit:"multi",const:!0},amplificative_dmg_:{name:"Amplificative Reaction DMG Bonus",unit:"%"},transformative_dmg_:{name:"Transformative Reaction DMG Bonus",unit:"%"},crystalize_eleMas_:{name:"Crystalize Bonus (Elemental Mastery)",unit:"%",variant:"crystalize"},crystalize_multi:{name:"Crystalize Multiplier",unit:"multi",const:!0,variant:"crystalize"},crystalize_dmg_:{name:"Crystalize Bonus",unit:"%",variant:"crystalize"},crystalize_hit:{name:"Crystalize Shield HP",variant:"crystalize"},burning_dmg_:{name:"Burning DMG Bonus",variant:"burning"},enemyLevel:{name:"Enemy Level",const:!0},enemyLevel_multi:{name:"Enemy Level RES Multiplier",unit:"multi",const:!0},enemyDEFRed_:{name:"Enemy DEF Reduction",unit:"%",const:!0},infusionSelf:{name:"Elemental Infusion",const:!0,default:""},infusionAura:{name:"Elemental Infusion Aura",const:!0,default:""},autoBoost:{name:"Normal Attack Level Boost",const:!0},skillBoost:{name:"Ele. Skill Level Boost",const:!0},burstBoost:{name:"Ele. Burst Level Boost",const:!0}},g={baseATK:function(t){return t.characterATK+t.weaponATK},finalATK:function(t){return t.baseATK*(1+t.atk_/100)+t.atk},finalHP:function(t){return t.characterHP*(1+t.hp_/100)+t.hp},finalDEF:function(t){return t.characterDEF*(1+t.def_/100)+t.def},critHit_base_multi:function(t){return 1+t.critDMG_/100},enemyLevel_multi:function(t){return(100+t.characterLevel)/(100+t.characterLevel+(100+t.enemyLevel)*(1-Math.min(t.enemyDEFRed_,90)/100))},heal_multi:function(t){return 1+t.heal_/100+t.incHeal_/100},transformative_level_multi:function(t){return _[t.characterLevel]},amplificative_dmg_:function(t){return 2500/9*t.eleMas/(1400+t.eleMas)},transformative_dmg_:function(t){return 1600*t.eleMas/(2e3+t.eleMas)},crystalize_eleMas_:function(t){return 4e3/9*t.eleMas/(1400+t.eleMas)},crystalize_multi:function(t){return O[t.characterLevel]},crystalize_hit:function(t){return(100+t.crystalize_dmg_+t.crystalize_eleMas_)/100*t.crystalize_multi}};["pyro","cryo","electro","hydro"].forEach((function(t){j["".concat(t,"_crystalize_hit")]={name:"Crystalize Shield ".concat(y[t].name," Effective HP"),variant:t},g["".concat(t,"_crystalize_hit")]=function(t){return 2.5*t.crystalize_hit}}));Object.entries(b).forEach((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1];j["".concat(n,"_dmg_")]={name:"".concat(r," DMG Bonus"),unit:"%"},j["".concat(n,"_critRate_")]={name:"".concat(r," CRIT Rate Bonus"),unit:"%"},j["final_".concat(n,"_critRate_")]={name:"".concat(r," CRIT Rate"),unit:"%"},g["final_".concat(n,"_critRate_")]=function(t){return Object(m.a)(t.critRate_+t["".concat(n,"_critRate_")],0,100)}})),Object.entries(y).forEach((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1].name,a={variant:n};j["".concat(n,"_dmg_")]=Object(i.a)({name:"".concat(r," DMG Bonus"),unit:"%"},a),j["".concat(n,"_res_")]=Object(i.a)({name:"".concat(r," DMG RES"),unit:"%"},a),j["".concat(n,"_enemyRes_")]=Object(i.a)({name:"Enemy ".concat(r," DMG RES"),unit:"%",default:10},a),j["".concat(n,"_enemyImmunity")]=Object(i.a)({name:"Enemy ".concat(r," Immunity"),default:!1,const:!0},a),j["".concat(n,"_enemyRes_multi")]=Object(i.a)({name:"Enemy ".concat(r," RES Multiplier"),unit:"multi"},a),j["".concat(n,"_bonus_multi")]=Object(i.a)({name:"".concat(r," Attack Bonus DMG Multiplier"),unit:"multi"},a),g["".concat(n,"_enemyRes_multi")]=function(t){return t["".concat(n,"_enemyImmunity")]?0:(e=t["".concat(n,"_enemyRes_")],(e/=100)<0?1-e/2:e>=.75?1/(4*e+1):1-e);var e}})),Object.entries(b).forEach((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1];j["".concat(n,"_avgHit_base_multi")]={name:"".concat(r," Avg. Multiplier"),unit:"multi"},g["".concat(n,"_avgHit_base_multi")]=function(t){return 1+t.critDMG_*t["final_".concat(n,"_critRate_")]/1e4},Object.entries(y).forEach((function(t){var e=Object(u.a)(t,2),a=e[0],o=(e[1].name,{variant:a});j["".concat(a,"_").concat(n,"_hit_base_multi")]=Object(i.a)({name:"".concat(r," Base Multiplier"),unit:"multi"},o),g["".concat(a,"_").concat(n,"_hit_base_multi")]=function(t){return(100+t.dmg_+t["".concat(a,"_dmg_")]+t["".concat(n,"_dmg_")])/100},Object.entries(h).forEach((function(t){var e=Object(u.a)(t,2),c=e[0],f=e[1];j["".concat(a,"_").concat(n,"_").concat(c)]=Object(i.a)({name:"".concat(r," ").concat(f)},o),g["".concat(a,"_").concat(n,"_").concat(c)]=function(t){return t.finalATK*t["".concat(a,"_").concat(n,"_").concat(c,"_multi")]},j["".concat(a,"_").concat(n,"_").concat(c,"_multi")]=Object(i.a)({name:"".concat(r," ").concat(f," Multiplier"),unit:"multi"},o)})),g["".concat(a,"_").concat(n,"_hit_multi")]=function(t){return t["".concat(a,"_").concat(n,"_hit_base_multi")]*t.enemyLevel_multi*t["".concat(a,"_enemyRes_multi")]},g["".concat(a,"_").concat(n,"_critHit_multi")]=function(t){return t["".concat(a,"_").concat(n,"_hit_multi")]*t.critHit_base_multi},g["".concat(a,"_").concat(n,"_avgHit_multi")]=function(t){return t["".concat(a,"_").concat(n,"_hit_multi")]*t["".concat(n,"_avgHit_base_multi")]}}))})),Object.entries({overloaded:{name:"Overloaded",multi:2,variants:["pyro"]},shattered:{name:"Shattered",multi:1.5,variants:["physical"]},electrocharged:{name:"Electro-Charged",multi:1.2,variants:["electro"]},superconduct:{name:"Superconduct",multi:.5,variants:["cryo"]},swirl:{name:"Swirl",multi:.6,variants:["pyro","hydro","electro","cryo"]}}).forEach((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1],a=r.name,o=r.multi,c=r.variants,f={variant:n};if(j["".concat(n,"_dmg_")]=Object(i.a)({name:"".concat(a," DMG Bonus"),unit:"%"},f),j["".concat(n,"_multi")]=Object(i.a)({name:"".concat(a," Multiplier"),unit:"multi",const:!0},f),g["".concat(n,"_multi")]=function(t){return o*t.transformative_level_multi},1===c.length){var l=Object(u.a)(c,1)[0],s={variant:n};j["".concat(n,"_hit")]=Object(i.a)({name:"".concat(a," DMG")},s),g["".concat(n,"_hit")]=function(t){return(100+t.transformative_dmg_+t["".concat(n,"_dmg_")])/100*t["".concat(n,"_multi")]*t["".concat(l,"_enemyRes_multi")]}}else c.forEach((function(t){var e={variant:t};j["".concat(t,"_").concat(n,"_hit")]=Object(i.a)({name:"".concat(y[t].name," ").concat(a," DMG")},e),g["".concat(t,"_").concat(n,"_hit")]=function(e){return(100+e.transformative_dmg_+e["".concat(n,"_dmg_")])/100*e["".concat(n,"_multi")]*e["".concat(t,"_enemyRes_multi")]}}))})),Object.entries({vaporize:{name:"Vaporize",variants:{pyro:1.5,hydro:2}},melt:{name:"Melt",variants:{pyro:2,cryo:1.5}}}).forEach((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1],a=r.name,o=r.variants,c={variant:n};j["".concat(n,"_dmg_")]=Object(i.a)({name:"".concat(a," DMG Bonus"),unit:"%"},c),Object.entries(o).forEach((function(t){var e=Object(u.a)(t,2),r=e[0],o=e[1];j["".concat(r,"_").concat(n,"_multi")]=Object(i.a)({name:"".concat(a," Multiplier"),unit:"multi"},c),g["".concat(r,"_").concat(n,"_multi")]=function(t){return o*(100+t.amplificative_dmg_+t["".concat(n,"_dmg_")])/100},Object.entries(h).forEach((function(t){var e=Object(u.a)(t,2),o=e[0],f=e[1];Object.entries(b).forEach((function(t){var e=Object(u.a)(t,2),l=e[0],s=e[1];j["".concat(r,"_").concat(n,"_").concat(l,"_").concat(o,"_multi")]=Object(i.a)({name:"".concat(a," ").concat(s," ").concat(f," Multiplier"),unit:"multi"},c),j["".concat(r,"_").concat(n,"_").concat(l,"_").concat(o)]=Object(i.a)({name:"".concat(a," ").concat(s," ").concat(f)},c),g["".concat(r,"_").concat(n,"_").concat(l,"_").concat(o,"_multi")]=function(t){return t["".concat(r,"_").concat(l,"_").concat(o,"_multi")]*t["".concat(r,"_").concat(n,"_multi")]},g["".concat(r,"_").concat(n,"_").concat(l,"_").concat(o)]=function(t){return t.finalATK*t["".concat(r,"_").concat(n,"_").concat(l,"_").concat(o,"_multi")]}}))}))}))}));var E=n(3);function S(t,e){e&&t&&Object.keys(e).forEach((function(e){var n,r;t.premod||(t.premod={}),t.premod[e]=null!==(n=null===t||void 0===t||null===(r=t.premod)||void 0===r?void 0:r[e])&&void 0!==n?n:t[e]}))}function w(t,e,n,r){if(!e||!Object.keys(e).length)return function(){return null};var a=d.computeModifier(t,e);return function(t){var i=a(t);Object(E.b)(t,Object(p.a)({},r,i)),n(t).forEach((function(t){t&&S(t,e)}))}}function M(t,e){return Object.fromEntries(Object.entries(e).filter((function(e){var n=Object(u.a)(e,1)[0];return t.includes(n)})))}function k(t,e){var n,r,a,f,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=e.modifiers,m=void 0===s?{}:s,v={},p=[],y=[],h=Object(o.a)(t);try{for(h.s();!(f=h.n()).done;){var b=f.value;switch(A(b)){case 0:v[b]=null!==(n=null!==(r=e[b])&&void 0!==r?r:null===(a=j[b])||void 0===a?void 0:a.default)&&void 0!==n?n:0;break;case 1:v[b]=g[b](v);break;case 2:p.push([b,g[b]]);break;case 3:p.push([b,g[b]]),y.push([b,g[b]]);break;case 4:y.push([b,g[b]])}}}catch(K){h.e(K)}finally{h.f()}v.activeCharacter=e.activeCharacter,v.partyBuff=e.partyBuff;var _=function(t){};if(e.activeCharacter){var O=Object(c.a)(e.teamStats),R=e.teamStats.map((function(n){if(!n)return[null,void 0];l||(n.partyAllModifiers=M(t,n.partyAllModifiers),n.partyOnlyModifiers=M(t,n.partyOnlyModifiers),n.partyActiveModifiers=M(t,n.partyActiveModifiers));var r={};Object(E.c)(r,n.partyAllModifiers),Object(E.c)(r,n.partyOnlyModifiers),Object(E.c)(r,n.partyActiveModifiers);var a=k(C(e,r,l?void 0:Object.keys(r)),n,l);return[a.initialStats,a.formula]}));v.teamStats=R.map((function(t){return Object(u.a)(t,1)[0]}));var P=[v].concat(Object(c.a)(v.teamStats));v.teamStats.forEach((function(t,e){t&&(t.teamStats=P.filter((function(t,n){return n!==e+1})))}));var D=R.map((function(t){var e=Object(u.a)(t,2);e[0];return e[1]}));_=function(t){t.teamStats=t.teamStats.map((function(t,e){return t?(D[e](t),Object(i.a)(Object(i.a)({},O[e]),t)):t}))}}var x=d.computeModifier(e,M(t,m)),L=w(e,M(t,e.partyAllModifiers),(function(t){return[t].concat(Object(c.a)(t.teamStats))}),"partyAll"),B=w(e,M(t,e.partyOnlyModifiers),(function(t){return t.teamStats}),"partyOnly"),T=w(e,M(t,e.partyActiveModifiers),(function(t){return[t]}),"partyActive");return{initialStats:v,formula:function(t){p.forEach((function(e){var n=Object(u.a)(e,2),r=n[0],a=n[1];return t[r]=a(t)}));var e=d.computeModifier(t,t.modifiers)(t);Object(E.d)(e,x(t)),m&&S(t,m),t.modifiers&&S(t,t.modifiers),L(t),B(t),T(t),_(t),Object(E.b)(t,e),Object(E.d)(t,{modifiers:m}),(t.activeCharacter||l)&&y.forEach((function(e){var n=Object(u.a)(e,2),r=n[0],a=n[1];return t[r]=a(t)}))}}}function A(t){var e;return t in g?(null===(e=j[t])||void 0===e?void 0:e.const)?1:"finalATK"===t||"finalDEF"===t||"finalHP"===t?3:4:0}function R(t){var e=new Set;return t(new Proxy({},{get:function(t,n,r){e.add(n.toString())}})),Object(c.a)(e)}var P=Object.freeze(Object.fromEntries(Object.entries(g).map((function(t){var e=Object(u.a)(t,2);return[e[0],R(e[1])]}))));function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(j),r=new Set,a=Object(c.a)(Array(5)).map((function(t){return new Set}));return n.forEach((function(n){return D(t,n,e,a,r)})),a.flatMap((function(t){return Object(c.a)(t)}))}function D(t,e,n,r,a){var i,o;a.has(e)||(a.add(e),null===(i=P[e])||void 0===i||i.forEach((function(e){return D(t,e,n,r,a)})),(null!==(o=n[e])&&void 0!==o?o:[]).forEach((function(e){return d.getCurrent(e,t)[1].forEach((function(e){return D(t,e,n,r,a)}))})),r[A(e)].add(e))}function x(t,e,n,r){var a=r.reduce((function(e,n){var r=n.key,a=n.num;return r===t?e:e+a}),0),i=Object.values(n).filter((function(e){return e.has(t)})).length;return a+e<=5&&e<=i}onmessage=function(){var t,e=(t=a.a.mark((function t(e){var n,r,f,s,m,v,p,y,h,b,_,O,j,g,S,w,M,A,R,P,D,L,B,T,K,F,I,G,z,H,$,N,V,U,q,W,Y,J,Q,X,Z,tt;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=performance.now(),f=e.data,s=f.splitArtifacts,m=f.setFilters,v=f.minFilters,p=void 0===v?{}:v,y=f.initialStats,h=f.artifactSetEffects,b=f.maxBuildsToShow,_=f.optimizationTarget,O=f.plotBase,"string"!==typeof _){t.next=7;break}j=function(t){return t[_]},g=[_],t.next=21;break;case 7:return t.next=9,d.get(_);case 9:if("function"!==typeof(S=t.sent)){t.next=17;break}w=S(y),M=Object(u.a)(w,2),j=M[0],g=M[1],t.next=20;break;case 17:return postMessage({progress:0,timing:0},void 0),postMessage({builds:[],timing:0},void 0),t.abrupt("return");case 20:1!==g.length||O||(A=g[0],j=function(t){return t[A]});case 21:R=Object.fromEntries(Object.entries(s).map((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1];return[n,new Set(r.map((function(t){return t.setKey})))]}))),P={},Object.entries(h).forEach((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1];return Object.entries(r).filter((function(t){var e=Object(u.a)(t,2),r=e[0];return"modifiers"in e[1]&&x(n,parseInt(r),R,m)})).forEach((function(t){return Object(E.d)(P,t[1])}))})),Object(E.d)(P,{modifiers:null!==(n=y.modifiers)&&void 0!==n?n:{}}),D=C(y,P.modifiers,[].concat(Object(c.a)(g),Object(c.a)(Object.keys(p)),Object(c.a)(O?[O]:[]))),L=Object(l.c)(s,m),K=m.map((function(t){return t.key})),B=Object.fromEntries(Object.entries(s).map((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1];return[n,Object(l.e)(r,h,new Set(D),b,new Set(K))]}))),T=Object(l.c)(B,m),F=k(D,y,!1),I=F.initialStats,G=F.formula,z=0,H=L-T,$=[],N=-1/0,V={},U=.01,q=function(){$.sort((function(t,e){return e.buildFilterVal-t.buildFilterVal})),$.splice(b)},W=function(){var t=Object.entries(V);if(t.length>1500){var e=Math.pow(2,Math.ceil(Math.log2(t.length/1500)));U*=e;var n,r=Object(o.a)(t);try{for(r.s();!(n=r.n()).done;){var a,i=Object(u.a)(n.value,2),c=i[0],f=i[1];delete V[c];var l=Math.round(parseInt(c)/e);V[l]=Math.max(null!==(a=V[l])&&void 0!==a?a:-1/0,f)}}catch(s){r.e(s)}finally{r.f()}}},Y=function(t,e){if(++z%1e4||($.length>1e4&&(q(),N=$[$.length-1].buildFilterVal),W(),postMessage({progress:z,timing:performance.now()-r,skipped:H},void 0)),G(e),!Object.entries(p).some((function(t){var n=Object(u.a)(t,2),r=n[0],a=n[1];return e[r]<a}))){var n=j(e);if(O){var a,o=Math.round(e[O]/U);V[o]=Math.max(n,null!==(a=V[o])&&void 0!==a?a:-1/0)}n>=N&&$.push({buildFilterVal:n,artifacts:Object(i.a)({},t)})}},J=Object(o.a)(Object(l.b)(B,m));try{for(J.s();!(Q=J.n()).done;)X=Q.value,Object(l.a)(I,X,h,Y)}catch(a){J.e(a)}finally{J.f()}q(),W(),Z=performance.now(),tt=O?Object.entries(V).map((function(t){var e=Object(u.a)(t,2),n=e[0],r=e[1];return{plotBase:parseInt(n)*U,optimizationTarget:r}})).sort((function(t,e){return t.plotBase-e.plotBase})):void 0,postMessage({progress:z,timing:Z-r,skipped:H},void 0),postMessage({builds:$,plotData:tt,timing:Z-r,skipped:H},void 0);case 47:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){f(i,r,a,o,c,"next",t)}function c(t){f(i,r,a,o,c,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}()}]);
//# sourceMappingURL=BuildWorker.01f7cf23.worker.js.map