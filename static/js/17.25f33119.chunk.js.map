{"version":3,"sources":["Components/Card/CardLight.tsx","Components/Card/CardDark.tsx","Components/DropdownMenu/DropdownButton.tsx","Components/SqBadge.tsx","Components/StarDisplay.tsx","Character/Character.ts","Assets/icon_bow.png","Assets/Assets.ts","Assets/icon_catalyst.png","Assets/icon_claymore.png","Assets/icon_polearm.png","Assets/icon_sword.png","Assets/Item_Fragile_Resin.png","Assets/Item_Condensed_Resin.png","Assets/Item_Wanderer's_Advice.png","Assets/Item_Hero's_Wit.png","Assets/Item_Adventurer's_Experience.png","Components/CloseButton.tsx","Components/ModalWrapper.tsx","Components/SolidToggleButtonGroup.tsx","ReactHooks/useForceUpdate.tsx","Character/CharacterUtil.tsx","Components/ToggleButton/WeaponToggle.tsx","Components/ConditionalWrapper.tsx","StatDependency.ts","Util/SortByFilters.ts","Components/SortByButton.tsx","Components/Character/CharacterSelectionModal.tsx","Util/CharacterSort.ts","Components/ToggleButton/ElementToggle.tsx","Components/InfoComponent.tsx","../node_modules/@mui/material/internal/svg-icons/Cancel.js","../node_modules/@mui/material/Chip/chipClasses.js","../node_modules/@mui/material/Chip/Chip.js","../node_modules/@mui/material/CardActionArea/cardActionAreaClasses.js","../node_modules/@mui/material/CardActionArea/CardActionArea.js","Character/CharacterCard.tsx","Character/CharacterDisplay.tsx"],"names":["CardLight","styled","Card","backgroundColor","theme","palette","contentLight","main","CardDark","contentDark","DropdownButton","title","children","id","props","useState","anchorEl","setAnchorEl","open","Boolean","handleClick","useCallback","event","currentTarget","handleClose","fallback","endIcon","width","aria-controls","aria-haspopup","aria-expanded","undefined","onClick","onClose","MenuListProps","height","SqBadge","name","slot","color","display","padding","fontSize","fontWeight","lineHeight","textAlign","whiteSpace","verticalAlign","borderRadius","contrastText","StarIcon","icon","faStar","Stars","stars","colored","component","Array","keys","map","_","i","Character","this","Error","getElementalName","elementalKey","ElementalData","getLevelString","character","level","ascensionMaxLevel","ascension","getTalentFieldValue","field","key","stats","defVal","evalIfFunc","hasBonusStats","statKey","bonusStats","getStatValueWithBonus","overrideStatKeys","includes","characterBaseStats","calculateBuild","database","characterSheet","weaponSheet","artifactSheets","mainStatAssumptionLevel","artifacts","Object","fromEntries","entries","equippedArtifacts","artid","_getArt","initialStats","createInitialStats","calculateBuildwithArtifact","setToSlots","Artifact","artifactSetEffectsStats","ArtifactSheet","setEffectsStats","deepClone","values","forEach","art","mainStatKey","mainStatValue","rarity","Math","max","min","substats","substat","value","mergeStats","Conditional","parseConditionalValues","artifact","conditionalValues","conditional","conditionalValue","setKey","setNumKey","parseInt","length","condStats","resolve","val","dependencies","GetDependencies","modifiers","PreprocessFormulas","preprocessedStats","formula","characterKey","elementKey","hitMode","infusionAura","reactionMode","talent","constellation","equippedWeapon","weapon","_getWeapon","defaultInitialWeapon","weaponTypeKey","overrideStats","filter","s","additionalStats","characterLevel","characterHP","getBase","characterDEF","characterATK","characterEle","weaponType","tlvl","refineIndex","refinement","specialStatKey","getSpecializedStat","specializedStatVal","getSpecializedStatVal","getTalentStatsAll","weaponATK","getMainStatValue","weaponSubKey","getSubStatKey","getSubStatValue","weaponCond","otherCond","canShow","getDisplayStatKeys","eleKey","basicKeys","isAutoElemental","push","transReactions","ElementToReactionKeys","charFormulas","talentSheet","getTalent","addFormula","fields","parseSection","section","sheets","talentKey","sections","formKey","document","num","artifactSheet","setEffects","setNum","Assets","weaponTypes","bow","catalyst","claymore","polearm","sword","resin","fragile","condensed","exp_books","advice","wit","experience","CloseButton","large","t","useTranslation","startIcon","sx","p","minWidth","ScrollModal","Modal","overflow","paddingTop","spacing","paddingBottom","ModalContainer","Container","minHeight","flexDirection","justifyContent","pointerEvents","ModalWrapper","containerProps","variant","SolidToggleButtonGroup","ToggleButtonGroup","shouldForwardProp","prop","baseColor","selectedColor","dark","useForceUpdate","stateDirty","update","getFormulaTargetsDisplayHeading","startsWith","subkey","split","getTalentOfKey","initialCharacter","objectFromKeyMap","allSlotKeys","buildSettings","initialBuildSettings","auto","skill","burst","WeaponToggle","onChange","cb","e","newVal","exclusive","allWeaponTypeKeys","wt","src","size","ConditionalWrapper","condition","wrapper","GetFormulaDependency","dependency","Set","Proxy","get","target","receiver","add","toString","formulaKeyDependency","freeze","Formulas","baseStat","StatData","found","numStages","InsertDependencies","flatMap","dep","has","k","path","Formula","getCurrent","getStage","sortFunction","sortby","ascending","configs","Sort","a","b","config","aV","getValue","bV","localeCompare","filterOption","diff","tieBreaker","filterFunction","filterOptions","filterConfigs","obj","every","optionKey","optionVal","SortByButton","sortKeys","onChangeAsc","i18nKey","selected","disabled","faSortAmountDownAlt","faSortAmountUp","className","defaultSortKeys","CharacterSelectionModal","show","onHide","onSelect","newFirst","useMemo","useContext","DatabaseContext","sortBy","setsortBy","setascending","elementalFilter","setelementalFilter","weaponFilter","setweaponFilter","characterSheets","usePromise","CharacterSheet","getAll","sortConfigs","characterSortConfigs","characterFilterConfigs","characterKeyList","allCharacterKeys","cKey","_getChar","element","sort","py","container","item","flexGrow","xs","md","lg","CharacterBtn","WeaponSheet","star","alignItems","thumbImg","pl","StatIcon","skillBoost","burstBoost","characterSortKeys","new","ck","ElementToggle","allElements","ele","uncoloredEleIcons","InfoComponent","pageKey","text","modalTitle","dbStorage","showInfoModal","setshowInfoModal","isArray","getRandomElementFromArray","displayText","closeModal","infoShown","set","faQuestionCircle","ns","key18","maxWidth","createSvgIcon","_jsx","d","getChipUtilityClass","generateUtilityClass","chipClasses","generateUtilityClasses","_excluded","ChipRoot","overridesResolver","styles","ownerState","clickable","onDelete","avatar","capitalize","deleteIcon","root","deletable","deleteIconColor","alpha","primary","_extends","fontFamily","typography","pxToRem","action","transition","transitions","create","cursor","outline","textDecoration","border","boxSizing","opacity","disabledOpacity","marginLeft","marginRight","mode","grey","avatarColorPrimary","avatarColorSecondary","secondary","avatarSmall","WebkitTapHighlightColor","margin","focusVisible","selectedOpacity","focusOpacity","userSelect","hoverOpacity","boxShadow","shadows","hover","focus","iconSmall","deleteIconSmall","ChipLabel","label","textOverflow","paddingLeft","paddingRight","isDeleteKeyboardEvent","keyboardEvent","Chip","React","inProps","ref","useThemeProps","avatarProp","clickableProp","ComponentProp","deleteIconProp","iconProp","onKeyDown","onKeyUp","other","_objectWithoutPropertiesLoose","chipRef","handleRef","useForkRef","handleDeleteIconClick","stopPropagation","small","ButtonBase","classes","slots","composeClasses","useUtilityClasses","moreProps","focusVisibleClassName","disableRipple","customClasses","clsx","CancelIcon","_jsxs","as","preventDefault","current","blur","getCardActionAreaUtilityClass","cardActionAreaClasses","CardActionAreaRoot","focusHighlight","CardActionAreaFocusHighlight","position","top","right","bottom","left","duration","short","CardActionArea","CharacterCard","onEdit","footer","databaseCharacter","updateDatabaseCharacter","useEffect","followChar","actionWrapperFunc","deleteChar","weaponLevel","weaponAscension","weaponName","weaponMainVal","toFixed","Stat","fixedUnit","weaponSubVal","weaponLevelName","weaponPassiveName","passiveName","content","backgroundImage","bannerImg","backgroundPosition","backgroundSize","flexShrink","alignSelf","zIndex","mt","flexWrap","textShadow","pb","mb","alignContent","img","mr","getStatName","getStatUnit","arr","artifactSetName","highestNum","defIconSrc","unit","statVal","px","Link","to","pathname","faCalculator","faLink","faTrash","InfoDisplay","lazy","CharacterDisplayCard","initialState","characterKeyToEdit","sortType","filterReducer","state","filterInit","initial","CharacterDisplay","useReducer","stateDisplatch","newCharacter","setnewCharacter","dbDirty","forceUpdate","scrollRef","useRef","ReactGA","pageview","followAnyChar","deleteCharacter","chararcterSheet","i18next","window","confirm","removeChar","editCharacter","newChar","updateChar","weaponId","createWeapon","setWeaponLocation","setTimeout","scrollIntoView","behavior","cancelEditCharacter","charKeyList","_getCharKeys","Suspense","setCharacterKey","CharDisplayFooter","sm","faPlus","charKey"],"mappings":"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","file":"static/js/17.25f33119.chunk.js","sourcesContent":["import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardLight = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentLight.main\r\n}));\r\n\r\nexport default CardLight","import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardDark = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentDark.main\r\n}));\r\n\r\nexport default CardDark","import { KeyboardArrowDown } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps, Menu, Skeleton } from \"@mui/material\";\r\nimport { Suspense, useCallback, useState } from \"react\";\r\n\r\nexport type DropdownButtonProps = Omit<ButtonProps, \"title\"> & {\r\n  title: React.ReactNode,\r\n  id?: string,\r\n  children: React.ReactNode\r\n}\r\nexport default function DropdownButton({ title, children, id = \"dropdownbtn\", ...props }: DropdownButtonProps) {\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLButtonElement>) => setAnchorEl(event.currentTarget),\r\n    [setAnchorEl],\r\n  )\r\n  const handleClose = useCallback(\r\n    () => setAnchorEl(null),\r\n    [setAnchorEl],\r\n  )\r\n\r\n  return <Suspense fallback={<Button endIcon={<KeyboardArrowDown />}{...props}><Skeleton width={50} /></Button>} >\r\n    <Button\r\n      {...props}\r\n      id={id}\r\n      aria-controls=\"basic-menu\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded={open ? 'true' : undefined}\r\n      onClick={handleClick}\r\n      endIcon={<KeyboardArrowDown />}\r\n    >\r\n      {title}\r\n    </Button>\r\n    <Menu\r\n      id=\"basic-menu\"\r\n      anchorEl={anchorEl}\r\n      open={open}\r\n      onClose={handleClose}\r\n      MenuListProps={{\r\n        'aria-labelledby': id,\r\n      }}\r\n      onClick={handleClose}\r\n    >\r\n      {/* set Skeleton to be really high so the taller dropdowns can still be placed properly... */}\r\n      <Suspense fallback={<Skeleton width=\"100%\" height=\"1000\" />}>\r\n        {children}\r\n      </Suspense>\r\n    </Menu>\r\n  </Suspense>\r\n}","import { styled } from \"@mui/material\";\r\n\r\nconst SqBadge = styled(\"span\", {\r\n  name: 'SqBadge',\r\n  slot: 'Root',\r\n})(({ theme, color = \"primary\" }) => ({\r\n  display: \"inline-block\",\r\n  padding: \".25em .4em\",\r\n  fontSize: \"75%\",\r\n  fontWeight: 700,\r\n  lineHeight: 1,\r\n  textAlign: \"center\",\r\n  whiteSpace: \"nowrap\",\r\n  verticalAlign: \"baseline\",\r\n  borderRadius: \".25em\",\r\n  backgroundColor: theme.palette[color]?.main,\r\n  color: theme.palette[color]?.contrastText\r\n}))\r\nexport default SqBadge","import { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Typography } from '@mui/material'\r\nimport { Rarity } from '../Types/consts'\r\n\r\nconst StarIcon = () => <FontAwesomeIcon icon={faStar} />\r\nconst Stars = ({ stars, colored = false }: { stars: Rarity, colored?: boolean }) =>\r\n  <Typography color={colored ? \"warning.main\" : undefined} component=\"span\">\r\n    {stars ? [...Array(stars).keys()].map((_, i) => <StarIcon key={i} />) : null}\r\n  </Typography>\r\n\r\nexport {\r\n  StarIcon,\r\n  Stars\r\n}\r\n","import Artifact from \"../Artifact/Artifact\";\r\nimport { ArtifactSheet } from \"../Artifact/ArtifactSheet\";\r\nimport Conditional from \"../Conditional/Conditional\";\r\nimport { ascensionMaxLevel } from \"../Data/LevelData\";\r\nimport ElementalData from \"../Data/ElementalData\";\r\nimport { ArtCharDatabase } from \"../Database/Database\";\r\nimport { ElementToReactionKeys, PreprocessFormulas } from \"../StatData\";\r\nimport { GetDependencies } from \"../StatDependency\";\r\nimport { ICachedArtifact } from \"../Types/artifact\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { ArtifactSetKey, ElementKey, SlotKey } from \"../Types/consts\";\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\";\r\nimport { ICalculatedStats } from \"../Types/stats\";\r\nimport { characterBaseStats, mergeStats, overrideStatKeys } from \"../Util/StatUtil\";\r\nimport { deepClone, evalIfFunc } from \"../Util/Util\";\r\nimport WeaponSheet from \"../Weapon/WeaponSheet\";\r\nimport { defaultInitialWeapon } from \"../Weapon/WeaponUtil\";\r\nimport CharacterSheet from \"./CharacterSheet\";\r\n\r\nexport default class Character {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Character) throw Error('A static class cannot be instantiated.'); }\r\n\r\n  static getElementalName = (elementalKey: ElementKey | \"physical\"): string =>\r\n    ElementalData[elementalKey].name\r\n  static getLevelString = (character: ICachedCharacter): string =>\r\n    `${character.level}/${ascensionMaxLevel[character.ascension]}`\r\n\r\n  static getTalentFieldValue = (field: IFieldDisplay, key: keyof IFieldDisplay, stats = {}, defVal = \"\"): any => {\r\n    if (!field[key]) return defVal\r\n    return evalIfFunc(field[key] as any, stats!)\r\n  }\r\n\r\n  static hasBonusStats = (character: ICachedCharacter, statKey): boolean => {\r\n    if (statKey === \"finalHP\")\r\n      return Character.hasBonusStats(character, \"hp\") || Character.hasBonusStats(character, \"hp_\") || Character.hasBonusStats(character, \"characterHP\")\r\n    if (statKey === \"finalDEF\")\r\n      return Character.hasBonusStats(character, \"def\") || Character.hasBonusStats(character, \"def_\") || Character.hasBonusStats(character, \"characterDEF\")\r\n    if (statKey === \"finalATK\")\r\n      return Character.hasBonusStats(character, \"atk\") || Character.hasBonusStats(character, \"atk_\") || Character.hasBonusStats(character, \"characterATK\")\r\n    return character?.bonusStats ? (statKey in character.bonusStats) : false;\r\n  }\r\n\r\n  static getStatValueWithBonus = (character: ICachedCharacter, statKey: string) => {\r\n    if (overrideStatKeys.includes(statKey))\r\n      return character.bonusStats?.[statKey] ?? characterBaseStats(character)[statKey] ?? 0\r\n    else\r\n      return character.bonusStats?.[statKey] ?? 0\r\n  }\r\n\r\n  static calculateBuild = (character: ICachedCharacter, database: ArtCharDatabase, characterSheet: CharacterSheet, weaponSheet: WeaponSheet, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet>, mainStatAssumptionLevel = 0): ICalculatedStats => {\r\n    const artifacts = Object.fromEntries(Object.entries(character.equippedArtifacts).map(([key, artid]) => [key, database._getArt(artid)]))\r\n    const initialStats = Character.createInitialStats(character, database, characterSheet, weaponSheet)\r\n    initialStats.mainStatAssumptionLevel = mainStatAssumptionLevel\r\n    return Character.calculateBuildwithArtifact(initialStats, artifacts, artifactSheets)\r\n  }\r\n\r\n  static calculateBuildwithArtifact = (initialStats: ICalculatedStats, artifacts: Dict<SlotKey, ICachedArtifact>, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet>): ICalculatedStats => {\r\n    const setToSlots = Artifact.setToSlots(artifacts)\r\n    const artifactSetEffectsStats = ArtifactSheet.setEffectsStats(artifactSheets, initialStats, setToSlots)\r\n\r\n    let stats = deepClone(initialStats)\r\n    //add artifact and artifactsets\r\n    Object.values(artifacts).forEach(art => {\r\n      if (!art) return\r\n      //main stats\r\n      stats[art.mainStatKey] = (stats[art.mainStatKey] || 0) + Artifact.mainStatValue(art.mainStatKey, art.rarity, Math.max(Math.min(stats.mainStatAssumptionLevel, art.rarity * 4), art.level))\r\n      //substats\r\n      art.substats.forEach((substat) =>\r\n        substat && substat.key && (stats[substat.key] = (stats[substat.key] || 0) + substat.value))\r\n    })\r\n    //setEffects\r\n    mergeStats(stats, artifactSetEffectsStats)\r\n    //setEffects conditionals\r\n    Conditional.parseConditionalValues({ artifact: stats?.conditionalValues?.artifact }, (conditional, conditionalValue, [, setKey, setNumKey]) => {\r\n      if (parseInt(setNumKey) > (setToSlots?.[setKey]?.length ?? 0)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, stats, conditionalValue)\r\n      mergeStats(stats, condStats)\r\n    })\r\n\r\n    stats.equippedArtifacts = Object.fromEntries(Object.entries(artifacts).map(([key, val]: any) => [key, val?.id]))\r\n    stats.setToSlots = setToSlots\r\n    let dependencies = GetDependencies(stats, stats?.modifiers)\r\n    const { initialStats: preprocessedStats, formula } = PreprocessFormulas(dependencies, stats)\r\n    formula(preprocessedStats)\r\n    return { ...stats, ...preprocessedStats }\r\n  }\r\n\r\n  static createInitialStats = (character: ICachedCharacter, database: ArtCharDatabase, characterSheet: CharacterSheet, weaponSheet: WeaponSheet): ICalculatedStats => {\r\n    const { key: characterKey, bonusStats = {}, elementKey, level, ascension, hitMode, infusionAura, reactionMode, talent, constellation, equippedArtifacts, conditionalValues = {}, equippedWeapon } = character\r\n    const weapon = database._getWeapon(equippedWeapon) ?? defaultInitialWeapon(characterSheet.weaponTypeKey) // need to ensure all characters have a weapon\r\n\r\n    const overrideStats = Object.fromEntries(Object.entries(bonusStats).filter(([s]) => overrideStatKeys.includes(s)))\r\n    const additionalStats = Object.fromEntries(Object.entries(bonusStats).filter(([s]) => !overrideStatKeys.includes(s)))\r\n    //generate the initalStats obj with data from Character \r\n    let initialStats = characterBaseStats(character)\r\n    initialStats.characterKey = characterKey\r\n    initialStats.characterLevel = level\r\n    initialStats.characterHP = characterSheet.getBase(\"characterHP\", level, ascension)\r\n    initialStats.characterDEF = characterSheet.getBase(\"characterDEF\", level, ascension)\r\n    initialStats.characterATK = characterSheet.getBase(\"characterATK\", level, ascension)\r\n    initialStats.characterEle = characterSheet.elementKey ?? elementKey ?? \"anemo\";\r\n    initialStats.hitMode = hitMode;\r\n    initialStats.infusionAura = infusionAura\r\n    initialStats.reactionMode = reactionMode;\r\n    initialStats.conditionalValues = conditionalValues\r\n    initialStats.weaponType = characterSheet.weaponTypeKey\r\n    initialStats.tlvl = Object.fromEntries(Object.entries(talent ?? {}).map(([key, value]) => [key, value - 1])) as any;\r\n    initialStats.constellation = constellation\r\n    initialStats.ascension = ascension\r\n    initialStats.weapon = { key: weapon.key, refineIndex: weapon.refinement - 1 }\r\n    initialStats.equippedArtifacts = equippedArtifacts;\r\n    initialStats = { ...initialStats, ...overrideStats }\r\n    mergeStats(initialStats, additionalStats)\r\n    //add specialized stat\r\n    const specialStatKey = characterSheet.getSpecializedStat(ascension)\r\n    if (specialStatKey) {\r\n      const specializedStatVal = characterSheet.getSpecializedStatVal(ascension)\r\n      mergeStats(initialStats, { [specialStatKey]: specializedStatVal })\r\n    }\r\n\r\n    //add stats from all talents\r\n    characterSheet.getTalentStatsAll(initialStats as ICalculatedStats, initialStats.characterEle).forEach(s => mergeStats(initialStats, s))\r\n\r\n    //add levelBoosts, from Talent stats.\r\n    for (const key in initialStats.tlvl)\r\n      initialStats.tlvl[key] += initialStats[`${key}Boost`] ?? 0\r\n\r\n    //add stats from weapons\r\n    const weaponATK = weaponSheet.getMainStatValue(weapon.level, weapon.ascension)\r\n    initialStats.weaponATK = weaponATK\r\n    const weaponSubKey = weaponSheet.getSubStatKey()\r\n    if (weaponSubKey) mergeStats(initialStats, { [weaponSubKey]: weaponSheet.getSubStatValue(weapon.level, weapon.ascension) })\r\n    mergeStats(initialStats, weaponSheet.stats(initialStats as ICalculatedStats))\r\n\r\n\r\n    //Handle conditionals, without artifact, since the pipeline for that comes later.\r\n    const { artifact: artifactCond, weapon: weaponCond, ...otherCond } = conditionalValues\r\n\r\n    //handle conditionals. only the conditional applicable to the equipped weapon is parsed.\r\n    Conditional.parseConditionalValues({ ...weapon.key && { weapon: { [weapon.key]: weaponCond?.[weapon.key] } }, ...otherCond }, (conditional, conditionalValue, keys) => {\r\n      if (keys[0] === \"character\" && keys[3] === \"talents\" && keys[4] !== elementKey) return //fix for Traveler, make sure conditionals match element.\r\n      if (!Conditional.canShow(conditional, initialStats)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, initialStats, conditionalValue)\r\n      mergeStats(initialStats, condStats)\r\n    })\r\n    return initialStats as ICalculatedStats\r\n  }\r\n\r\n  static getDisplayStatKeys = (stats: ICalculatedStats, { characterSheet, weaponSheet, artifactSheets }: { characterSheet: CharacterSheet, weaponSheet: WeaponSheet, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet> }) => {\r\n    const eleKey = stats.characterEle\r\n    const basicKeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\", \"enerRech_\", `${eleKey}_dmg_`]\r\n    const isAutoElemental = characterSheet.isAutoElemental\r\n    if (!isAutoElemental) basicKeys.push(\"physical_dmg_\")\r\n\r\n    //show elemental interactions\r\n    const transReactions = deepClone(ElementToReactionKeys[eleKey])\r\n    const weaponTypeKey = characterSheet.weaponTypeKey\r\n    if (!transReactions.includes(\"shattered_hit\") && weaponTypeKey === \"claymore\") transReactions.push(\"shattered_hit\")\r\n    const charFormulas = {}\r\n    const talentSheet = characterSheet.getTalent(eleKey)\r\n    const addFormula = (fields, key) => fields.forEach(field => {\r\n      if (!field.formula || !field?.canShow?.(stats)) return\r\n      if (!charFormulas[key]) charFormulas[key] = []\r\n      charFormulas[key].push((field.formula as any).keys)\r\n    })\r\n    const parseSection = (section, key) => {\r\n      //conditional\r\n      if (section.conditional && Conditional.canShow(section.conditional, stats)) {\r\n        const { fields }: { fields?: Array<IFieldDisplay> } = Conditional.resolve(section.conditional, stats, null)\r\n        fields && addFormula(fields, key)\r\n      }\r\n      //fields\r\n      if (section.fields) addFormula(section.fields, key)\r\n    }\r\n    talentSheet && Object.entries(talentSheet.sheets).forEach(([talentKey, { sections }]) => {\r\n      if (talentKey === \"normal\" || talentKey === \"charged\" || talentKey === \"plunging\") talentKey = \"auto\"\r\n      sections.forEach(section => parseSection(section, `talentKey_${talentKey}`))\r\n    })\r\n\r\n    const formKey = `weapon_${stats.weapon.key}`\r\n    weaponSheet.document && weaponSheet.document.map(section => parseSection(section, formKey))\r\n\r\n    stats.setToSlots && Object.entries(stats.setToSlots).map(([setKey, slots]) => [setKey, slots.length]).forEach(([setKey, num]) => {\r\n      const artifactSheet = artifactSheets[setKey] as ArtifactSheet\r\n      if (!artifactSheet) return\r\n      Object.entries(artifactSheet.setEffects).forEach(([setNum, { document }]) => {\r\n        if (num < parseInt(setNum)) return\r\n        document && document.map(section => parseSection(section, `artifact_${setKey}_${setNum}`))\r\n      })\r\n    })\r\n\r\n    return { basicKeys, ...charFormulas, transReactions }\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/icon_bow.7ceaa8e2.png\";","import bow from './icon_bow.png'\r\nimport catalyst from './icon_catalyst.png'\r\nimport claymore from './icon_claymore.png'\r\nimport polearm from './icon_polearm.png'\r\nimport sword from './icon_sword.png'\r\n\r\nimport fragile from './Item_Fragile_Resin.png'\r\nimport condensed from './Item_Condensed_Resin.png'\r\n\r\n//EXP BOOKS\r\nimport advice from './Item_Wanderer\\'s_Advice.png'\r\nimport wit from './Item_Hero\\'s_Wit.png'\r\nimport experience from './Item_Adventurer\\'s_Experience.png'\r\n\r\nconst Assets = {\r\n  weaponTypes: { bow, catalyst, claymore, polearm, sword },\r\n  resin: {\r\n    fragile,\r\n    condensed\r\n  },\r\n  exp_books: {\r\n    advice,\r\n    wit,\r\n    experience,\r\n  }\r\n};\r\nexport default Assets;","export default __webpack_public_path__ + \"static/media/icon_catalyst.db078b7b.png\";","export default __webpack_public_path__ + \"static/media/icon_claymore.63b1abb8.png\";","export default __webpack_public_path__ + \"static/media/icon_polearm.e5f4a2a1.png\";","export default __webpack_public_path__ + \"static/media/icon_sword.619c9c2d.png\";","export default __webpack_public_path__ + \"static/media/Item_Fragile_Resin.f9ec8223.png\";","export default __webpack_public_path__ + \"static/media/Item_Condensed_Resin.1cecf64a.png\";","export default __webpack_public_path__ + \"static/media/Item_Wanderer's_Advice.58c62cf7.png\";","export default __webpack_public_path__ + \"static/media/Item_Hero's_Wit.a79e36d0.png\";","export default __webpack_public_path__ + \"static/media/Item_Adventurer's_Experience.92b5d195.png\";","import { Close } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps } from \"@mui/material\";\r\nimport { useTranslation } from \"react-i18next\";\r\ntype CloseButtonProps = ButtonProps & {\r\n  large?: boolean\r\n}\r\nexport default function CloseButton({ large = false, ...props }: CloseButtonProps) {\r\n  const { t } = useTranslation(\"ui\")\r\n  if (large)\r\n    return <Button color=\"error\" startIcon={<Close />} {...props} >{t`close`}</Button>\r\n  return <Button color=\"error\" sx={{ p: 1, minWidth: 0 }} {...props} >\r\n    <Close />\r\n  </Button>\r\n}","import { CardContent, Container, ContainerProps, Modal, ModalProps, Skeleton, styled } from \"@mui/material\"\r\nimport { Suspense } from \"react\"\r\nimport CardLight from \"./Card/CardLight\"\r\n\r\nconst ScrollModal = styled(Modal)(({ theme }) => ({\r\n  overflow: \"scroll\",\r\n  paddingTop: theme.spacing(2),\r\n  paddingBottom: theme.spacing(2),\r\n\r\n}))\r\nconst ModalContainer = styled(Container)(({ theme }) => ({\r\n  padding: 0,\r\n  minHeight: \"100%\",\r\n  display: \"flex\", flexDirection: \"column\", justifyContent: \"center\",\r\n  pointerEvents: \"none\",\r\n  \"& > *\": {\r\n    pointerEvents: \"auto\"\r\n  }\r\n}))\r\n\r\ntype ModalWrapperProps = ModalProps & {\r\n  containerProps?: ContainerProps\r\n}\r\nexport default function ModalWrapper({ children, containerProps, ...props }: ModalWrapperProps) {\r\n  return <ScrollModal {...props}>\r\n    <ModalContainer {...containerProps}>\r\n      <Suspense fallback={<CardLight><CardContent><Skeleton variant=\"rectangular\" width=\"100%\" height={300} /></CardContent></CardLight>}>\r\n        {children}\r\n      </Suspense>\r\n    </ModalContainer>\r\n  </ScrollModal>\r\n}","import { ButtonProps, styled, ToggleButtonGroup, ToggleButtonGroupProps } from \"@mui/material\";\r\n\r\nexport type SolidToggleButtonGroupProps = SolidToggleButtonGroupPropsPartial & ToggleButtonGroupProps\r\ntype SolidToggleButtonGroupPropsPartial = {\r\n  baseColor?: ButtonProps[\"color\"];\r\n  selectedColor?: ButtonProps[\"color\"];\r\n}\r\n\r\nconst SolidToggleButtonGroup = styled(ToggleButtonGroup, {\r\n  shouldForwardProp: (prop) => prop !== \"baseColor\"\r\n})<SolidToggleButtonGroupPropsPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\r\n  '& .MuiToggleButtonGroup-grouped': {\r\n    '&': {\r\n      backgroundColor: theme.palette[baseColor].main,\r\n      color: theme.palette[baseColor].contrastText,\r\n    },\r\n    '&:hover': {\r\n      backgroundColor: theme.palette[baseColor].dark,\r\n    },\r\n    '&.Mui-selected': {\r\n      backgroundColor: theme.palette[selectedColor].main,\r\n      color: theme.palette[selectedColor].contrastText,\r\n    },\r\n    '&.Mui-selected:hover': {\r\n      backgroundColor: theme.palette[selectedColor].dark,\r\n    },\r\n    '&.Mui-disabled': {\r\n      backgroundColor: theme.palette[baseColor].dark,\r\n    },\r\n    '&.Mui-selected.Mui-disabled': {\r\n      backgroundColor: theme.palette[selectedColor].dark,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default SolidToggleButtonGroup","import { useCallback, useState } from \"react\"\r\n\r\nexport default function useForceUpdate(): [object, () => void] {\r\n  const [stateDirty, update] = useState({})\r\n  const forceUpdateHook = useCallback(() => update({}), [])\r\n  return [stateDirty, forceUpdateHook]\r\n}","import { ArtifactSheet } from \"../Artifact/ArtifactSheet\"\r\nimport { initialBuildSettings } from \"../Build/BuildSetting\"\r\nimport SqBadge from \"../Components/SqBadge\"\r\nimport { ICachedCharacter } from \"../Types/character\"\r\nimport { allSlotKeys, ArtifactSetKey, CharacterKey, ElementKey } from \"../Types/consts\"\r\nimport { objectFromKeyMap } from \"../Util/Util\"\r\nimport WeaponSheet from \"../Weapon/WeaponSheet\"\r\nimport CharacterSheet from \"./CharacterSheet\"\r\n\r\nexport function getFormulaTargetsDisplayHeading(key: string, { characterSheet, weaponSheet, artifactSheets }: { characterSheet: CharacterSheet, weaponSheet: WeaponSheet, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet> }, eleKey: ElementKey = \"anemo\") {\r\n  if (key === \"basicKeys\") return \"Basic Stats\"\r\n  else if (key === \"genericAvgHit\") return \"Generic Optimization Values\"\r\n  else if (key === \"transReactions\") return \"Transformation Reaction\"\r\n  else if (key.startsWith(\"talentKey_\")) {\r\n    const subkey = key.split(\"talentKey_\")[1]\r\n    return (characterSheet?.getTalentOfKey(subkey, eleKey)?.name ?? subkey)\r\n  } else if (key.startsWith(\"weapon_\")) {\r\n    const subkey = key.split(\"weapon_\")[1]\r\n    return (weaponSheet?.name ?? subkey)\r\n  } else if (key.startsWith(\"artifact_\")) {\r\n    const [, setKey, num] = key.split('_')\r\n    return <span>{artifactSheets[setKey]?.name} <SqBadge color=\"success\">{num}-Set</SqBadge></span>\r\n  }\r\n  return \"\"\r\n}\r\n\r\nexport function initialCharacter(key: CharacterKey): ICachedCharacter {\r\n  return {\r\n    key, // the game character this is based off\r\n    level: 1,\r\n    ascension: 0,\r\n    hitMode: \"avgHit\",\r\n    reactionMode: \"\",\r\n    equippedArtifacts: objectFromKeyMap(allSlotKeys, () => \"\"),\r\n    equippedWeapon: \"\",\r\n    conditionalValues: {},\r\n    bonusStats: {},\r\n    buildSettings: initialBuildSettings(),\r\n    talent: {\r\n      auto: 1,\r\n      skill: 1,\r\n      burst: 1,\r\n    },\r\n    infusionAura: \"\",\r\n    constellation: 0,\r\n  }\r\n}","import { ToggleButton } from \"@mui/material\";\r\nimport { useCallback } from \"react\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport { allWeaponTypeKeys, WeaponTypeKey } from \"../../Types/consts\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\nimport SolidToggleButtonGroup, { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\r\ntype WeaponToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\r\n  onChange: (value: WeaponTypeKey | \"\") => void\r\n  value: WeaponTypeKey | \"\"\r\n}\r\nexport default function WeaponToggle({ value, onChange, ...props }: WeaponToggleProps) {\r\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\r\n  return <SolidToggleButtonGroup exclusive onChange={cb} value={value || allWeaponTypeKeys} {...props}>\r\n    {allWeaponTypeKeys.map(wt => <ToggleButton key={wt} value={wt}>\r\n      <ImgIcon src={Assets.weaponTypes?.[wt]} size={2} />\r\n    </ToggleButton>)}\r\n  </SolidToggleButtonGroup>\r\n}","import { ReactNode } from \"react\";\r\n\r\ntype Prop = {\r\n  condition: boolean,\r\n  wrapper: (children: ReactNode) => ReactNode\r\n  children: ReactNode\r\n}\r\n// Wrap children with element provided by wrapper func when condition is true.\r\nexport default function ConditionalWrapper({ condition, wrapper, children }: Prop) {\r\n  return (condition ? wrapper(children) : children) as JSX.Element;\r\n}","import Formula from \"./Formula\"\r\nimport { Formulas, getStage, numStages, StatData } from \"./StatData\"\r\nimport { IBaseStat } from \"./Types/character\"\r\nimport { Modifier } from \"./Types/stats\"\r\n\r\n// Generate a statKey dependency, to reduce build generation calculation on a single stat.\r\nfunction GetFormulaDependency(formula: (s) => number) {\r\n  const dependency: Set<string> = new Set()\r\n  formula(new Proxy({}, { get: (target, prop, receiver) => { dependency.add(prop.toString()) } }))\r\n  return [...dependency]\r\n}\r\nconst formulaKeyDependency = Object.freeze(Object.fromEntries(\r\n  Object.entries(Formulas).map(([key, value]) => [key, GetFormulaDependency(value)])\r\n)) as Dict<string, string[]>\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  let statKeys = Object.keys(StatData)\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    dependencies.forEach(key =>\r\n      !statKeys.includes(key as any) &&\r\n      console.error(`Formula ${formulaKey} depends key ${key} that does not Exist in StatData.`))\r\n  )\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    StatData[formulaKey]?.const && dependencies.forEach(key =>\r\n      !StatData[key as any]?.const &&\r\n      console.error(`Constant formula ${formulaKey} depends on dynamic key ${key}.`)\r\n    )\r\n  )\r\n}\r\n\r\nfunction GetDependencies(baseStat: IBaseStat, modifiers: Modifier = {}, keys = Object.keys(StatData)): Dependencies {\r\n  const found = new Set<string>()\r\n  const dependencies = [...Array(numStages)].map(_ => new Set<string>())\r\n  keys.forEach(key => InsertDependencies(baseStat, key, modifiers, dependencies, found))\r\n  return dependencies.flatMap(dep => [...dep])\r\n}\r\nfunction InsertDependencies(baseStat: IBaseStat, key: string, modifiers: Modifier, dependencies: Set<string>[], found: Set<string>) {\r\n  if (found.has(key)) return\r\n  found.add(key)\r\n\r\n  formulaKeyDependency[key]?.forEach(k => InsertDependencies(baseStat, k, modifiers, dependencies, found));\r\n  (modifiers[key] ?? []).forEach(path => Formula.getCurrent(path, baseStat)[1].forEach(k =>\r\n    InsertDependencies(baseStat, k, modifiers, dependencies, found)))\r\n  dependencies[getStage(key)].add(key)\r\n}\r\n\r\ntype Dependencies = string[]\r\n\r\nexport {\r\n  GetFormulaDependency,\r\n  GetDependencies,\r\n}\r\n","type SortConfig<T> = {\r\n  getValue: (id: T) => number | string\r\n  tieBreaker?: string\r\n}\r\nexport type SortConfigs<Keys extends string, T> = Record<Keys, SortConfig<T>>\r\n\r\nexport function sortFunction<Keys extends string, T>(sortby: string, ascending: boolean, configs: SortConfigs<Keys, T>) {\r\n  function Sort(a: T, b: T, ascending: boolean, config: SortConfig<T>) {\r\n    const aV = config.getValue(a)\r\n    const bV = config.getValue(b)\r\n    let diff = 0\r\n    if (typeof aV === \"string\" && typeof bV === \"string\")\r\n      diff = aV.localeCompare(bV)\r\n    else\r\n      diff = ((bV as number) - (aV as number))\r\n    return (ascending ? -1 : 1) * diff\r\n  }\r\n  return (a: T, b: T) => {\r\n    if (!configs[sortby]) return 0\r\n    const filterOption = configs[sortby]\r\n    let diff = Sort(a, b, ascending, filterOption)\r\n    if (!diff && filterOption.tieBreaker && configs[filterOption.tieBreaker])\r\n      diff = Sort(a, b, ascending, configs[filterOption.tieBreaker])\r\n    return diff\r\n  }\r\n}\r\n\r\ntype FilterConfig<T> = (obj: T, filter: any) => boolean\r\nexport type FilterConfigs<Keys extends string, T> = Record<Keys, FilterConfig<T>>\r\nexport function filterFunction<Keys extends string, T>(filterOptions: Record<Keys, any>, filterConfigs: FilterConfigs<Keys, T>) {\r\n  return (obj: T) => Object.entries(filterOptions).every(([optionKey, optionVal]) => filterConfigs[optionKey as any](obj, optionVal))\r\n}","import { faSortAmountDownAlt, faSortAmountUp } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Button, ButtonGroup, ButtonGroupProps, MenuItem } from \"@mui/material\";\r\nimport { Trans, useTranslation } from \"react-i18next\";\r\nimport DropdownButton from \"./DropdownMenu/DropdownButton\";\r\n\r\ntype SortByButtonProps = ButtonGroupProps & {\r\n  sortKeys: string[]\r\n  value: string\r\n  onChange: (value: string) => void\r\n  ascending: boolean\r\n  onChangeAsc: (value: boolean) => void\r\n}\r\n// Assumes that all the sortKeys has corresponding translations in ui.json sortMap\r\nexport default function SortByButton({ sortKeys, value, onChange, ascending, onChangeAsc, ...props }: SortByButtonProps) {\r\n  const { t } = useTranslation(\"ui\")\r\n  return <ButtonGroup {...props} >\r\n    <DropdownButton title={<Trans t={t} i18nKey=\"sortByFormat\" value={t(`sortMap.${value}`) as any}>Sort By: {{ value: t(`sortMap.${value}`) }}</Trans>}>\r\n      {sortKeys.map(key =>\r\n        <MenuItem key={key} selected={value === key} disabled={value === key} onClick={() => onChange(key)}>{t(`sortMap.${key}`) as any}</MenuItem>)}\r\n    </DropdownButton>\r\n    <Button onClick={() => onChangeAsc(!ascending)} startIcon={<FontAwesomeIcon icon={ascending ? faSortAmountDownAlt : faSortAmountUp} className=\"fa-fw\" />}>\r\n      {ascending ? <Trans t={t} i18nKey=\"ascending\" >Ascending</Trans> : <Trans t={t} i18nKey=\"descending\" >Descending</Trans>}\r\n    </Button>\r\n  </ButtonGroup>\r\n}","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\";\r\nimport { useContext, useMemo, useState } from \"react\";\r\nimport { ArtifactSheet } from \"../../Artifact/ArtifactSheet\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport Character from '../../Character/Character';\r\nimport CharacterSheet from \"../../Character/CharacterSheet\";\r\nimport { DatabaseContext } from \"../../Database/Database\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\nimport { ICachedCharacter } from \"../../Types/character\";\r\nimport { allCharacterKeys, CharacterKey, ElementKey, WeaponTypeKey } from \"../../Types/consts\";\r\nimport { characterFilterConfigs, characterSortConfigs } from \"../../Util/CharacterSort\";\r\nimport { filterFunction, sortFunction } from \"../../Util/SortByFilters\";\r\nimport WeaponSheet from \"../../Weapon/WeaponSheet\";\r\nimport CardDark from \"../Card/CardDark\";\r\nimport CardLight from \"../Card/CardLight\";\r\nimport CloseButton from \"../CloseButton\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\nimport ModalWrapper from \"../ModalWrapper\";\r\nimport SortByButton from \"../SortByButton\";\r\nimport SqBadge from \"../SqBadge\";\r\nimport { Stars } from \"../StarDisplay\";\r\nimport StatIcon from \"../StatIcon\";\r\nimport ElementToggle from \"../ToggleButton/ElementToggle\";\r\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\";\r\n\r\nconst defaultSortKeys = [\"level\", \"rarity\", \"name\"]\r\n\r\ntype characterFilter = (character: ICachedCharacter | undefined, sheet: CharacterSheet) => boolean\r\n\r\ntype CharacterSelectionModalProps = {\r\n  show: boolean,\r\n  newFirst?: boolean\r\n  onHide: () => void,\r\n  onSelect?: (ckey: CharacterKey) => void,\r\n  filter?: characterFilter\r\n}\r\n\r\nexport function CharacterSelectionModal({ show, onHide, onSelect, filter = () => true, newFirst = false }: CharacterSelectionModalProps) {\r\n  const sortKeys = useMemo(() => newFirst ? [\"new\", ...defaultSortKeys] : defaultSortKeys, [newFirst])\r\n  const database = useContext(DatabaseContext)\r\n\r\n  const [sortBy, setsortBy] = useState(sortKeys[0])\r\n  const [ascending, setascending] = useState(false)\r\n  const [elementalFilter, setelementalFilter] = useState<ElementKey | \"\">(\"\")\r\n  const [weaponFilter, setweaponFilter] = useState<WeaponTypeKey | \"\">(\"\")\r\n\r\n  const characterSheets = usePromise(CharacterSheet.getAll(), [])\r\n\r\n  const sortConfigs = useMemo(() => characterSheets && characterSortConfigs(database, characterSheets), [database, characterSheets])\r\n  const filterConfigs = useMemo(() => characterSheets && characterFilterConfigs(characterSheets), [characterSheets])\r\n  const characterKeyList = useMemo(() => (characterSheets && sortConfigs && filterConfigs) ?\r\n    [...new Set(allCharacterKeys)].filter(cKey => filter(database._getChar(cKey), characterSheets[cKey]))\r\n      .filter(filterFunction({ element: elementalFilter, weaponType: weaponFilter }, filterConfigs))\r\n      .sort(sortFunction(sortBy, ascending, sortConfigs) as (a: CharacterKey, b: CharacterKey) => number) : [],\r\n    [database, characterSheets, filter, elementalFilter, weaponFilter, sortBy, ascending, sortConfigs, filterConfigs])\r\n\r\n  if (!characterSheets) return null\r\n  return <ModalWrapper open={show} onClose={onHide} >\r\n    <CardDark>\r\n      <CardContent sx={{ py: 1 }}>\r\n        <Grid container spacing={1} >\r\n          <Grid item>\r\n            <WeaponToggle sx={{ height: \"100%\" }} onChange={setweaponFilter} value={weaponFilter} size=\"small\" />\r\n          </Grid>\r\n          <Grid item flexGrow={1}>\r\n            <ElementToggle sx={{ height: \"100%\" }} onChange={setelementalFilter} value={elementalFilter} size=\"small\" />\r\n          </Grid>\r\n\r\n          <Grid item flexGrow={1} />\r\n\r\n          <Grid item >\r\n            <SortByButton sx={{ height: \"100%\" }}\r\n              sortKeys={sortKeys} value={sortBy} onChange={setsortBy as any}\r\n              ascending={ascending} onChangeAsc={setascending} />\r\n          </Grid>\r\n          <Grid item>\r\n            <CloseButton onClick={onHide} />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n      <Divider />\r\n      <CardContent><Grid container spacing={1}>\r\n        {characterKeyList.map(characterKey => <Grid item key={characterKey} xs={6} md={4} lg={3} >\r\n          <CharacterBtn key={characterKey} characterKey={characterKey} onClick={() => { onHide(); onSelect?.(characterKey) }} />\r\n        </Grid>)}\r\n      </Grid></CardContent>\r\n    </CardDark>\r\n  </ModalWrapper>\r\n}\r\n\r\nfunction CharacterBtn({ onClick, characterKey }) {\r\n  const database = useContext(DatabaseContext)\r\n  const character = database._getChar(characterKey)\r\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\r\n  const weapon = character?.equippedWeapon ? database._getWeapon(character.equippedWeapon) : undefined\r\n  const weaponSheet = usePromise(weapon ? WeaponSheet.get(weapon.key) : undefined, [weapon?.key])\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n  const stats = useMemo(() => character && characterSheet && weaponSheet && artifactSheets && Character.calculateBuild(character, database, characterSheet, weaponSheet, artifactSheets), [character, characterSheet, weaponSheet, artifactSheets, database])\r\n  if (!characterSheet) return null\r\n  const rarity = characterSheet.star\r\n  return <CardActionArea onClick={onClick} >\r\n    <CardLight sx={{ display: \"flex\", alignItems: \"center\" }}  >\r\n      <Box component=\"img\" src={characterSheet.thumbImg} sx={{ width: 130, height: \"auto\" }} className={`grad-${rarity}star`} />\r\n      <Box sx={{ pl: 1 }}>\r\n        <Typography><strong>{characterSheet.name}</strong></Typography>\r\n        {stats && character ? <>\r\n          <Typography variant=\"h6\"> {characterSheet.elementKey && StatIcon[characterSheet.elementKey]} <ImgIcon src={Assets.weaponTypes?.[characterSheet.weaponTypeKey]} />{` `}{Character.getLevelString(character)}</Typography>\r\n          <Typography >\r\n            <SqBadge color=\"success\">{`C${character.constellation}`}</SqBadge>{` `}\r\n            <SqBadge color=\"secondary\"><strong >{stats.tlvl.auto + 1}</strong></SqBadge>{` `}\r\n            <SqBadge color={stats.skillBoost ? \"info\" : \"secondary\"}><strong >{stats.tlvl.skill + 1}</strong></SqBadge>{` `}\r\n            <SqBadge color={stats.burstBoost ? \"info\" : \"secondary\"}><strong >{stats.tlvl.burst + 1}</strong></SqBadge>\r\n          </Typography>\r\n        </> : <>\r\n          <Typography variant=\"h6\"><SqBadge color=\"primary\">NEW</SqBadge></Typography>\r\n        </>}\r\n        <small><Stars stars={characterSheet.star} colored /></small>\r\n      </Box>\r\n    </CardLight>\r\n  </CardActionArea >\r\n}","import CharacterSheet from \"../Character/CharacterSheet\";\r\nimport { ArtCharDatabase } from \"../Database/Database\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\nimport { FilterConfigs, SortConfigs } from \"./SortByFilters\";\r\nexport const characterSortKeys = [\"level\", \"rarity\", \"name\"]\r\nexport type CharacterSortKey = typeof characterSortKeys[number]\r\n\r\nexport function characterSortConfigs(database: ArtCharDatabase, characterSheets: Record<CharacterKey, CharacterSheet>): SortConfigs<CharacterSortKey, CharacterKey> {\r\n  return {\r\n    new: {\r\n      getValue: (ck) => database._getChar(ck as CharacterKey) ? 0 : 1,\r\n      tieBreaker: \"name\"\r\n    },\r\n    name: {\r\n      getValue: (ck) => ck,\r\n    },\r\n    level: {\r\n      getValue: (ck) => database._getChar(ck as CharacterKey)?.level ?? 0,\r\n      tieBreaker: \"rarity\"\r\n    },\r\n    rarity: {\r\n      getValue: (ck) => characterSheets?.[ck]?.star,\r\n      tieBreaker: \"level\"\r\n    }\r\n  }\r\n}\r\n\r\nexport function characterFilterConfigs(characterSheets: Record<CharacterKey, CharacterSheet>): FilterConfigs<\"element\" | \"weaponType\", CharacterKey> {\r\n  return {\r\n    element: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.elementKey),\r\n    weaponType: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.weaponTypeKey),\r\n  }\r\n}","import { Box, ToggleButton } from \"@mui/material\";\r\nimport { useCallback } from \"react\";\r\nimport { allElements, ElementKey } from \"../../Types/consts\";\r\nimport SolidToggleButtonGroup, { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\r\nimport { uncoloredEleIcons } from \"../StatIcon\";\r\ntype ElementToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\r\n  onChange: (value: ElementKey | \"\") => void\r\n  value: ElementKey | \"\"\r\n}\r\nexport default function ElementToggle({ value, onChange, ...props }: ElementToggleProps) {\r\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\r\n  return <SolidToggleButtonGroup exclusive onChange={cb} value={value || allElements} {...props}>\r\n    {allElements.map(ele => <ToggleButton key={ele} value={ele} >\r\n      <Box sx={{ fontSize: \"2em\", lineHeight: 1 }}>{uncoloredEleIcons[ele]}</Box>\r\n    </ToggleButton>)}\r\n  </SolidToggleButtonGroup>\r\n}\r\n","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { Button, CardContent, Divider, Grid, Skeleton, Typography } from \"@mui/material\"\r\nimport { Suspense, useState } from \"react\"\r\nimport { dbStorage } from \"../Database/DBStorage\"\r\nimport { getRandomElementFromArray } from \"../Util/Util\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport CloseButton from \"./CloseButton\"\r\nimport ModalWrapper from \"./ModalWrapper\"\r\nimport { TransWrapper } from \"./Translate\"\r\n\r\nexport default function InfoComponent({ pageKey = \"\", text = \"\", modalTitle = \"\", children }: { pageKey: string, text: Displayable | Displayable[], modalTitle: Displayable, children: JSX.Element }) {\r\n  const [showInfoModal, setshowInfoModal] = useState(dbStorage.get(\"infoShown\")?.[pageKey] ?? true)\r\n  const [displayText,] = useState(Array.isArray(text) ? getRandomElementFromArray(text) : text)\r\n  const closeModal = () => {\r\n    const infoShown = dbStorage.get(\"infoShown\") ?? {}\r\n    infoShown[pageKey] = false\r\n    dbStorage.set(\"infoShown\", infoShown)\r\n    setshowInfoModal(false)\r\n  }\r\n  return <CardDark >\r\n    <Grid container>\r\n      <Grid item flexGrow={1}>\r\n        <Typography variant=\"caption\" pl={1} >\r\n          {displayText}\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs=\"auto\">\r\n        <Button size=\"small\" color=\"info\" variant=\"contained\" onClick={() => setshowInfoModal(true)} startIcon={<FontAwesomeIcon icon={faQuestionCircle} />}>\r\n          <TransWrapper ns=\"ui\" key18=\"info\" />\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n    <ModalWrapper containerProps={{ maxWidth: \"xl\" }} open={showInfoModal} onClose={() => closeModal()} >\r\n      <CardDark >\r\n        <CardContent sx={{ py: 1 }}>\r\n          <Grid container>\r\n            <Grid item flexGrow={1}>\r\n              <Typography variant=\"h6\">{modalTitle}</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <CloseButton onClick={closeModal} />\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardContent>\r\n          <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={500} />}>\r\n            {children}\r\n          </Suspense>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardContent sx={{ py: 1 }}>\r\n          <CloseButton large onClick={closeModal} />\r\n        </CardContent>\r\n      </CardDark>\r\n    </ModalWrapper >\r\n  </CardDark>\r\n}","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getChipUtilityClass(slot) {\n  return generateUtilityClass('MuiChip', slot);\n}\nconst chipClasses = generateUtilityClasses('MuiChip', ['root', 'sizeSmall', 'sizeMedium', 'colorPrimary', 'colorSecondary', 'disabled', 'clickable', 'clickableColorPrimary', 'clickableColorSecondary', 'deletable', 'deletableColorPrimary', 'deletableColorSecondary', 'outlined', 'filled', 'outlinedPrimary', 'outlinedSecondary', 'avatar', 'avatarSmall', 'avatarMedium', 'avatarColorPrimary', 'avatarColorSecondary', 'icon', 'iconSmall', 'iconMedium', 'iconColorPrimary', 'iconColorSecondary', 'label', 'labelSmall', 'labelMedium', 'deleteIcon', 'deleteIconSmall', 'deleteIconMedium', 'deleteIconColorPrimary', 'deleteIconColorSecondary', 'deleteIconOutlinedColorPrimary', 'deleteIconOutlinedColorSecondary', 'focusVisible']);\nexport default chipClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"avatar\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { alpha } from '@mui/system';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport chipClasses, { getChipUtilityClass } from './chipClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disabled,\n    size,\n    color,\n    onDelete,\n    clickable,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, disabled && 'disabled', `size${capitalize(size)}`, `color${capitalize(color)}`, clickable && 'clickable', clickable && `clickableColor${capitalize(color)}`, onDelete && 'deletable', onDelete && `deletableColor${capitalize(color)}`, `${variant}${capitalize(color)}`],\n    label: ['label', `label${capitalize(size)}`],\n    avatar: ['avatar', `avatar${capitalize(size)}`, `avatarColor${capitalize(color)}`],\n    icon: ['icon', `icon${capitalize(size)}`, `iconColor${capitalize(color)}`],\n    deleteIcon: ['deleteIcon', `deleteIcon${capitalize(size)}`, `deleteIconColor${capitalize(color)}`, `deleteIconOutlinedColor${capitalize(color)}`]\n  };\n  return composeClasses(slots, getChipUtilityClass, classes);\n};\n\nconst ChipRoot = styled('div', {\n  name: 'MuiChip',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      color,\n      clickable,\n      onDelete,\n      size,\n      variant\n    } = ownerState;\n    return [{\n      [`& .${chipClasses.avatar}`]: styles.avatar\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatar${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatarColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles.icon\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`icon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`iconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles.deleteIcon\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIcon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconOutlinedColor${capitalize(color)}`]\n    }, styles.root, styles[`size${capitalize(size)}`], styles[`color${capitalize(color)}`], clickable && styles.clickable, clickable && color !== 'default' && styles[`clickableColor${capitalize(color)})`], onDelete && styles.deletable, onDelete && color !== 'default' && styles[`deletableColor${capitalize(color)}`], styles[variant], variant === 'outlined' && styles[`outlined${capitalize(color)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const deleteIconColor = alpha(theme.palette.text.primary, 0.26);\n  return _extends({\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.pxToRem(13),\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 32,\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.action.selected,\n    borderRadius: 32 / 2,\n    whiteSpace: 'nowrap',\n    transition: theme.transitions.create(['background-color', 'box-shadow']),\n    // label will inherit this from root, then `clickable` class overrides this for both\n    cursor: 'default',\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    textDecoration: 'none',\n    border: 0,\n    // Remove `button` border\n    padding: 0,\n    // Remove `button` padding\n    verticalAlign: 'middle',\n    boxSizing: 'border-box',\n    [`&.${chipClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`& .${chipClasses.avatar}`]: {\n      marginLeft: 5,\n      marginRight: -6,\n      width: 24,\n      height: 24,\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      fontSize: theme.typography.pxToRem(12)\n    },\n    [`& .${chipClasses.avatarColorPrimary}`]: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.dark\n    },\n    [`& .${chipClasses.avatarColorSecondary}`]: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.dark\n    },\n    [`& .${chipClasses.avatarSmall}`]: {\n      marginLeft: 4,\n      marginRight: -4,\n      width: 18,\n      height: 18,\n      fontSize: theme.typography.pxToRem(10)\n    },\n    [`& .${chipClasses.icon}`]: _extends({\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    }, ownerState.size === 'small' && {\n      fontSize: 18,\n      marginLeft: 4,\n      marginRight: -4\n    }, ownerState.color !== 'default' && {\n      color: 'inherit'\n    }),\n    [`& .${chipClasses.deleteIcon}`]: _extends({\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      fontSize: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: alpha(deleteIconColor, 0.4)\n      }\n    }, ownerState.size === 'small' && {\n      fontSize: 16,\n      marginRight: 4,\n      marginLeft: -4\n    }, ownerState.color !== 'default' && {\n      color: alpha(theme.palette[ownerState.color].contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette[ownerState.color].contrastText\n      }\n    })\n  }, ownerState.size === 'small' && {\n    height: 24\n  }, ownerState.color !== 'default' && {\n    backgroundColor: theme.palette[ownerState.color].main,\n    color: theme.palette[ownerState.color].contrastText\n  }, ownerState.onDelete && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, ownerState.onDelete && ownerState.color !== 'default' && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: theme.palette[ownerState.color].dark\n    }\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.clickable && {\n  userSelect: 'none',\n  WebkitTapHighlightColor: 'transparent',\n  cursor: 'pointer',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n  },\n  '&:active': {\n    boxShadow: theme.shadows[1]\n  }\n}, ownerState.clickable && ownerState.color !== 'default' && {\n  [`&:hover, &.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette[ownerState.color].dark\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'outlined' && {\n  backgroundColor: 'transparent',\n  border: `1px solid ${theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[700]}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: theme.palette.action.hover\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`& .${chipClasses.avatar}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.avatarSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.icon}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.iconSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    marginRight: 5\n  },\n  [`& .${chipClasses.deleteIconSmall}`]: {\n    marginRight: 3\n  }\n}, ownerState.variant === 'outlined' && ownerState.color !== 'default' && {\n  color: theme.palette[ownerState.color].main,\n  border: `1px solid ${alpha(theme.palette[ownerState.color].main, 0.7)}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.focusOpacity)\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    color: alpha(theme.palette[ownerState.color].main, 0.7),\n    '&:hover, &:active': {\n      color: theme.palette[ownerState.color].main\n    }\n  }\n}));\nconst ChipLabel = styled('span', {\n  name: 'MuiChip',\n  slot: 'Label',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      size\n    } = ownerState;\n    return [styles.label, styles[`label${capitalize(size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  paddingLeft: 12,\n  paddingRight: 12,\n  whiteSpace: 'nowrap'\n}, ownerState.size === 'small' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}));\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nconst Chip = /*#__PURE__*/React.forwardRef(function Chip(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiChip'\n  });\n\n  const {\n    avatar: avatarProp,\n    className,\n    clickable: clickableProp,\n    color = 'default',\n    component: ComponentProp,\n    deleteIcon: deleteIconProp,\n    disabled = false,\n    icon: iconProp,\n    label,\n    onClick,\n    onDelete,\n    onKeyDown,\n    onKeyUp,\n    size = 'medium',\n    variant = 'filled'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const chipRef = React.useRef(null);\n  const handleRef = useForkRef(chipRef, ref);\n\n  const handleDeleteIconClick = event => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  const handleKeyDown = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // Will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const handleKeyUp = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  const clickable = clickableProp !== false && onClick ? true : clickableProp;\n  const small = size === 'small';\n  const component = clickable || onDelete ? ButtonBase : ComponentProp || 'div';\n\n  const ownerState = _extends({}, props, {\n    component,\n    disabled,\n    size,\n    color,\n    onDelete: !!onDelete,\n    clickable,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const moreProps = component === ButtonBase ? _extends({\n    component: ComponentProp || 'div',\n    focusVisibleClassName: classes.focusVisible\n  }, onDelete && {\n    disableRipple: true\n  }) : {};\n  let deleteIcon = null;\n\n  if (onDelete) {\n    const customClasses = clsx(color !== 'default' && (variant === 'outlined' ? classes[`deleteIconOutlinedColor${capitalize(color)}`] : classes[`deleteIconColor${capitalize(color)}`]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/_jsx(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  let avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className)\n    });\n  }\n\n  let icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className)\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('MUI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(ChipRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    disabled: clickable && disabled ? true : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef,\n    ownerState: ownerState\n  }, moreProps, other, {\n    children: [avatar || icon, /*#__PURE__*/_jsx(ChipLabel, {\n      className: clsx(classes.label),\n      ownerState: ownerState,\n      children: label\n    }), deleteIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.element,\n\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If `false`, the chip will not appear clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   * Note: this controls the UI and does not affect the onClick event.\n   */\n  clickable: PropTypes.bool,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n\n  /**\n   * The content of the component.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The variant to use.\n   * @default 'filled'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string])\n} : void 0;\nexport default Chip;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getCardActionAreaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActionArea', slot);\n}\nconst cardActionAreaClasses = generateUtilityClasses('MuiCardActionArea', ['root', 'focusVisible', 'focusHighlight']);\nexport default cardActionAreaClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"focusVisibleClassName\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardActionAreaClasses, { getCardActionAreaUtilityClass } from './cardActionAreaClasses';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    focusHighlight: ['focusHighlight']\n  };\n  return composeClasses(slots, getCardActionAreaUtilityClass, classes);\n};\n\nconst CardActionAreaRoot = styled(ButtonBase, {\n  name: 'MuiCardActionArea',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  textAlign: 'inherit',\n  width: '100%',\n  [`&:hover .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.hoverOpacity,\n    '@media (hover: none)': {\n      opacity: 0\n    }\n  },\n  [`&.${cardActionAreaClasses.focusVisible} .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.focusOpacity\n  }\n}));\nconst CardActionAreaFocusHighlight = styled('span', {\n  name: 'MuiCardActionArea',\n  slot: 'FocusHighlight',\n  overridesResolver: (props, styles) => styles.focusHighlight\n})(({\n  theme\n}) => ({\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  borderRadius: 'inherit',\n  opacity: 0,\n  backgroundColor: 'currentcolor',\n  transition: theme.transitions.create('opacity', {\n    duration: theme.transitions.duration.short\n  })\n}));\nconst CardActionArea = /*#__PURE__*/React.forwardRef(function CardActionArea(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActionArea'\n  });\n\n  const {\n    children,\n    className,\n    focusVisibleClassName\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(CardActionAreaRoot, _extends({\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(focusVisibleClassName, classes.focusVisible),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [children, /*#__PURE__*/_jsx(CardActionAreaFocusHighlight, {\n      className: classes.focusHighlight,\n      ownerState: ownerState\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActionArea.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default CardActionArea;","import { faCalculator, faLink, faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Box, Button, CardActionArea, CardContent, Chip, Grid, Skeleton, Typography } from '@mui/material';\r\nimport { Suspense, useCallback, useContext, useEffect, useMemo, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ArtifactSheet } from '../Artifact/ArtifactSheet';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport ConditionalWrapper from '../Components/ConditionalWrapper';\r\nimport ImgIcon from '../Components/Image/ImgIcon';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport StatIcon from '../Components/StatIcon';\r\nimport { ascensionMaxLevel } from '../Data/LevelData';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport Stat from '../Stat';\r\nimport { ICachedCharacter } from '../Types/character';\r\nimport { CharacterKey } from '../Types/consts';\r\nimport { ICachedWeapon } from '../Types/weapon';\r\nimport WeaponSheet from '../Weapon/WeaponSheet';\r\nimport Character from './Character';\r\nimport CharacterSheet from './CharacterSheet';\r\n\r\ntype CharacterCardProps = { characterKey: CharacterKey | \"\", onEdit?: (any) => void, onDelete?: (any) => void, footer?: boolean }\r\nexport default function CharacterCard({ characterKey, onEdit, onDelete, footer = false }: CharacterCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const [databaseCharacter, updateDatabaseCharacter] = useState(undefined as ICachedCharacter | undefined)\r\n  useEffect(() =>\r\n    characterKey ? database.followChar(characterKey, updateDatabaseCharacter) : undefined,\r\n    [characterKey, updateDatabaseCharacter, database])\r\n\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n  const character = databaseCharacter\r\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\r\n  const weapon = character?.equippedWeapon ? database._getWeapon(character.equippedWeapon) : undefined\r\n  const weaponSheet = usePromise(weapon ? WeaponSheet.get(weapon.key) : undefined, [weapon?.key])\r\n  const stats = useMemo(() => character && characterSheet && weaponSheet && artifactSheets && Character.calculateBuild(character, database, characterSheet, weaponSheet, artifactSheets), [character, characterSheet, weaponSheet, artifactSheets, database])\r\n  const actionWrapperFunc = useCallback(\r\n    children => <CardActionArea onClick={() => onEdit?.(characterKey)} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\r\n    [onEdit, characterKey],\r\n  )\r\n  const deleteChar = useCallback(() => onDelete?.(characterKey), [onDelete, characterKey])\r\n\r\n  if (!character || !weapon || !characterSheet || !weaponSheet || !stats) return null;\r\n  const { constellation } = character\r\n  const { level: weaponLevel, ascension: weaponAscension } = weapon\r\n  const { tlvl, characterLevel, ascension } = stats\r\n\r\n  const elementKey = stats.characterEle\r\n  const weaponName = weaponSheet?.name\r\n  const weaponMainVal = weaponSheet.getMainStatValue(weaponLevel, weaponAscension).toFixed(Stat.fixedUnit(\"atk\"))\r\n  const weaponSubKey = weaponSheet.getSubStatKey()\r\n  const weaponSubVal = weaponSheet.getSubStatValue(weaponLevel, weaponAscension).toFixed(Stat.fixedUnit(weaponSubKey))\r\n  const weaponLevelName = WeaponSheet.getLevelString(weapon as ICachedWeapon)\r\n  const weaponPassiveName = weaponSheet?.passiveName\r\n  const statkeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\",]\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\r\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n      <ConditionalWrapper condition={!!onEdit} wrapper={actionWrapperFunc}>\r\n        <Box display=\"flex\"\r\n          position=\"relative\"\r\n          className={`grad-${characterSheet.star}star`}\r\n          sx={{\r\n            \"&::before\": {\r\n              content: '\"\"',\r\n              display: \"block\", position: \"absolute\",\r\n              left: 0, top: 0,\r\n              width: \"100%\", height: \"100%\",\r\n              opacity: 0.7,\r\n              backgroundImage: `url(${characterSheet.bannerImg})`, backgroundPosition: \"center\", backgroundSize: \"cover\",\r\n            }\r\n          }}\r\n          width=\"100%\" >\r\n          <Box flexShrink={1} sx={{ maxWidth: { xs:\"40%\", lg:\"40%\" } }} alignSelf=\"flex-end\" display=\"flex\" flexDirection=\"column\" zIndex={1}>\r\n            <Box\r\n              component=\"img\"\r\n              src={characterSheet.thumbImg}\r\n              width=\"100%\"\r\n              height=\"auto\"\r\n              maxWidth={256}\r\n              sx={{ mt: \"auto\" }}\r\n            />\r\n          </Box>\r\n          <Box flexGrow={1} sx={{ p: 1 }} display=\"flex\" flexDirection=\"column\" zIndex={1}>\r\n            <Chip label={<Typography variant=\"subtitle1\">{characterSheet.name}</Typography>} size=\"small\" color={elementKey as any} />\r\n            <Grid container spacing={1} flexWrap=\"nowrap\">\r\n              <Grid item sx={{ textShadow: \"0 0 5px gray\" }}>\r\n                <Typography component=\"span\" variant=\"h6\" whiteSpace=\"nowrap\" >Lv. {characterLevel}</Typography>\r\n                <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography variant=\"h6\"><SqBadge>C{constellation}</SqBadge></Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container spacing={1} flexWrap=\"nowrap\">\r\n              <Grid item>\r\n                <Chip color=\"secondary\" label={<strong >{tlvl.auto + 1}</strong>} />\r\n              </Grid>\r\n              <Grid item>\r\n                <Chip color={stats.skillBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.skill + 1}</strong>} />\r\n              </Grid>\r\n              <Grid item>\r\n                <Chip color={stats.burstBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.burst + 1}</strong>} />\r\n              </Grid>\r\n            </Grid>\r\n            <Typography mt={1} ><Stars stars={characterSheet.star} colored /></Typography>\r\n          </Box>\r\n        </Box>\r\n        <CardContent sx={{ pb: 0, width: \"100%\" }}>\r\n          <CardDark sx={{ mb: 1 }}>\r\n            <Box display=\"flex\" >\r\n              <Box flexShrink={1} maxWidth=\"35%\" display=\"flex\" flexDirection=\"column\" alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`} >\r\n                <Box\r\n                  component=\"img\"\r\n                  src={weaponSheet.img}\r\n                  width=\"100%\"\r\n                  height=\"auto\"\r\n                  sx={{ mt: \"auto\" }}\r\n                />\r\n              </Box>\r\n              <Box flexGrow={1} sx={{ p: 1 }}>\r\n                <Typography variant=\"body2\"><strong>{weaponName}</strong></Typography>\r\n                <Typography whiteSpace=\"nowrap\" lineHeight={1}>\r\n                  <SqBadge color=\"primary\" sx={{ mr: 1 }}>Lv. {weaponLevelName}</SqBadge>\r\n                  {weaponPassiveName && <SqBadge color=\"info\"> Refinement {weapon.refinement}</SqBadge>}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\">ATK: {weaponMainVal}</Typography>\r\n                {weaponPassiveName && <Typography variant=\"subtitle2\" lineHeight={1}>{Stat.getStatName(weaponSubKey)}: {weaponSubVal}{Stat.getStatUnit(weaponSubKey)}</Typography>}\r\n              </Box>\r\n            </Box>\r\n          </CardDark>\r\n          <Grid container spacing={1} justifyContent=\"space-around\">\r\n            {artifactSheets && Object.entries(ArtifactSheet.setEffects(artifactSheets, stats.setToSlots)).map(([key, arr]) => {\r\n              let artifactSetName = artifactSheets?.[key].name ?? \"\"\r\n              let highestNum = Math.max(...arr)\r\n              return <Grid item key={key} flexGrow={1}>\r\n                <Chip color=\"secondary\" sx={{ width: \"100%\" }} icon={<ImgIcon src={artifactSheets?.[key].defIconSrc} size={2.5} />}\r\n                  label={<span>{artifactSetName} <SqBadge color=\"success\">{highestNum}</SqBadge></span>} />\r\n              </Grid>\r\n            })}\r\n          </Grid>\r\n        </CardContent>\r\n        {/* grow to fill the 100% heigh */}\r\n        <Box flexGrow={1} />\r\n        <CardContent sx={{ py: 1, width: \"100%\" }} >\r\n          {statkeys.map(statKey => {\r\n            let unit = Stat.getStatUnit(statKey)\r\n            let statVal = stats[statKey]\r\n            return <Box sx={{ display: \"flex\" }} key={statKey}>\r\n              <Typography flexGrow={1}><strong>{StatIcon[statKey]} {Stat.getStatName(statKey)}</strong></Typography>\r\n              <Typography>\r\n                {statVal?.toFixed(Stat.fixedUnit(statKey)) + unit}\r\n              </Typography>\r\n            </Box>\r\n          })}\r\n        </CardContent>\r\n      </ConditionalWrapper>\r\n      {footer && <Grid container spacing={1} sx={{ py: 1, px: 2 }}>\r\n        <Grid item>\r\n          <Button size=\"small\" component={Link} to={{\r\n            pathname: \"/build\",\r\n            characterKey\r\n          } as any} startIcon={<FontAwesomeIcon icon={faCalculator} />}>Build</Button>\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <Button size=\"small\" color=\"info\" component={Link} to={{ pathname: \"/flex\", characterKey } as any}\r\n            startIcon={<FontAwesomeIcon icon={faLink} />}>Share</Button>\r\n        </Grid>\r\n        {!!onDelete && <Grid item>\r\n          <Button size=\"small\" color=\"error\" startIcon={<FontAwesomeIcon icon={faTrash} />} onClick={deleteChar}>Delete</Button>\r\n        </Grid>}\r\n      </Grid>}\r\n    </CardLight>\r\n  </Suspense>\r\n}\r\n","import { faCalculator, faLink, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Box, Button, CardContent, Grid, Skeleton, Typography } from '@mui/material';\r\nimport i18next from 'i18next';\r\nimport React, { lazy, Suspense, useCallback, useContext, useEffect, useMemo, useReducer, useRef, useState } from 'react';\r\nimport ReactGA from 'react-ga';\r\nimport { Link } from 'react-router-dom';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport { CharacterSelectionModal } from '../Components/Character/CharacterSelectionModal';\r\nimport CloseButton from '../Components/CloseButton';\r\nimport InfoComponent from '../Components/InfoComponent';\r\nimport SortByButton from '../Components/SortByButton';\r\nimport ElementToggle from '../Components/ToggleButton/ElementToggle';\r\nimport WeaponToggle from '../Components/ToggleButton/WeaponToggle';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport { dbStorage } from '../Database/DBStorage';\r\nimport useForceUpdate from '../ReactHooks/useForceUpdate';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport { CharacterKey, ElementKey, WeaponTypeKey } from '../Types/consts';\r\nimport { characterFilterConfigs, characterSortConfigs, characterSortKeys } from '../Util/CharacterSort';\r\nimport { filterFunction, sortFunction } from '../Util/SortByFilters';\r\nimport { defaultInitialWeapon } from '../Weapon/WeaponUtil';\r\nimport CharacterCard from './CharacterCard';\r\nimport CharacterSheet from './CharacterSheet';\r\nimport { initialCharacter } from './CharacterUtil';\r\n\r\nconst InfoDisplay = React.lazy(() => import('./InfoDisplay'));\r\n\r\n//lazy load the character display\r\nconst CharacterDisplayCard = lazy(() => import('./CharacterDisplayCard'))\r\n\r\nconst initialState = () => ({\r\n  characterKeyToEdit: \"\" as CharacterKey | \"\",\r\n  sortType: characterSortKeys[0],\r\n  ascending: false,\r\n  weaponType: \"\" as WeaponTypeKey | \"\",\r\n  element: \"\" as ElementKey | \"\",\r\n})\r\nexport type stateType = ReturnType<typeof initialState>\r\n\r\nfunction filterReducer(state: stateType, action): stateType {\r\n  return { ...state, ...action }\r\n}\r\nfunction filterInit(initial = initialState()): stateType {\r\n  return { ...initial, ...(dbStorage.get(\"CharacterDisplay.state\") ?? {}) }\r\n}\r\n\r\nexport default function CharacterDisplay(props) {\r\n  const database = useContext(DatabaseContext)\r\n  const [state, stateDisplatch] = useReducer(filterReducer, initialState(), filterInit)\r\n  const [newCharacter, setnewCharacter] = useState(false)\r\n  const [dbDirty, forceUpdate] = useForceUpdate()\r\n  const scrollRef = useRef(null as any)\r\n  //set follow, should run only once\r\n  useEffect(() => {\r\n    ReactGA.pageview('/character')\r\n    return database.followAnyChar(forceUpdate)\r\n  }, [forceUpdate, database])\r\n\r\n  const characterSheets = usePromise(CharacterSheet.getAll(), [])\r\n  //save to db\r\n  useEffect(() => {\r\n    dbStorage.set(\"CharacterDisplay.state\", state)\r\n  }, [state])\r\n\r\n  const deleteCharacter = useCallback(async (cKey: CharacterKey) => {\r\n    const chararcterSheet = await CharacterSheet.get(cKey)\r\n    let name = chararcterSheet?.name\r\n    //use translated string\r\n    if (typeof name === \"object\")\r\n      name = i18next.t(`char_${cKey}_gen:name`)\r\n\r\n    if (!window.confirm(`Are you sure you want to remove ${name}?`)) return\r\n    database.removeChar(cKey)\r\n    if (state.characterKeyToEdit === cKey)\r\n      stateDisplatch({ characterKeyToEdit: \"\" })\r\n  }, [state.characterKeyToEdit, stateDisplatch, database])\r\n\r\n  const editCharacter = useCallback(cKey => {\r\n    if (!database._getChar(cKey))\r\n      (async () => {\r\n        //Create a new character + weapon, with linking.\r\n        const newChar = initialCharacter(cKey)\r\n        database.updateChar(newChar)\r\n        const characterSheet = await CharacterSheet.get(cKey)\r\n        if (!characterSheet) return\r\n        const weapon = defaultInitialWeapon(characterSheet.weaponTypeKey)\r\n        const weaponId = database.createWeapon(weapon)\r\n        database.setWeaponLocation(weaponId, cKey)\r\n        stateDisplatch({ characterKeyToEdit: cKey })\r\n      })()\r\n    else\r\n      stateDisplatch({ characterKeyToEdit: cKey })\r\n    setTimeout(() => {\r\n      scrollRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n    }, 500);\r\n  }, [stateDisplatch, scrollRef, database])\r\n\r\n  const cancelEditCharacter = useCallback(() => {\r\n    stateDisplatch({ characterKeyToEdit: \"\" })\r\n    setnewCharacter(false)\r\n  }, [stateDisplatch])\r\n\r\n  const { element, weaponType } = state\r\n  const sortConfigs = useMemo(() => characterSheets && characterSortConfigs(database, characterSheets), [database, characterSheets])\r\n  const filterConfigs = useMemo(() => characterSheets && characterFilterConfigs(characterSheets), [characterSheets])\r\n  const charKeyList = useMemo(() => sortConfigs && filterConfigs && dbDirty &&\r\n    database._getCharKeys().filter(filterFunction({ element, weaponType }, filterConfigs))\r\n      .sort(sortFunction(state.sortType, state.ascending, sortConfigs)),\r\n    [dbDirty, database, sortConfigs, state.sortType, state.ascending, element, filterConfigs, weaponType])\r\n  return <Box sx={{ mt: 1, \"> div\": { mb: 1 }, }}>\r\n    <InfoComponent\r\n      pageKey=\"characterPage\"\r\n      modalTitle=\"Character Management Page Guide\"\r\n      text={[\"Every character will be tested with in-game numbers for maximum accuracy.\",\r\n        \"You can see the details of the calculations of every number.\",\r\n        \"You need to manually enable auto infusion for characters like Choungyun or Noelle.\",\r\n        \"You can change character constellations in both \\\"Character\\\" tab and in \\\"Talents\\\" tab.\",\r\n        \"Modified character Stats are bolded.\"]}\r\n    >\r\n      <InfoDisplay />\r\n    </InfoComponent>\r\n    {/* editor/character detail display */}\r\n    {!!state.characterKeyToEdit ? <Box ref={scrollRef}>\r\n      <React.Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={1000} />}>\r\n        <CharacterDisplayCard\r\n          setCharacterKey={editCharacter}\r\n          characterKey={state.characterKeyToEdit}\r\n          onClose={cancelEditCharacter}\r\n          footer={<CharDisplayFooter onClose={cancelEditCharacter} characterKey={state.characterKeyToEdit} />}\r\n        />\r\n      </React.Suspense>\r\n    </Box> : null}\r\n    <CardDark sx={{ p: 2 }}>\r\n      <Grid container spacing={1}>\r\n        <Grid item>\r\n          <WeaponToggle sx={{ height: \"100%\" }} onChange={weaponType => stateDisplatch({ weaponType })} value={state.weaponType} size=\"small\" />\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <ElementToggle sx={{ height: \"100%\" }} onChange={element => stateDisplatch({ element })} value={state.element} size=\"small\" />\r\n        </Grid>\r\n        <Grid item >\r\n          <SortByButton sx={{ height: \"100%\" }}\r\n            sortKeys={characterSortKeys} value={state.sortType} onChange={sortType => stateDisplatch({ sortType })}\r\n            ascending={state.ascending} onChangeAsc={ascending => stateDisplatch({ ascending })} />\r\n        </Grid>\r\n      </Grid>\r\n    </CardDark>\r\n    <Grid container spacing={1}>\r\n      <Suspense fallback={<Grid item xs={12}><Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 5000 }} /></Grid>}>\r\n        {!state.characterKeyToEdit && <Grid item xs={12} sm={6} md={4} lg={3} >\r\n          <CardDark sx={{ height: \"100%\", minHeight: 400, width: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n            <CardContent>\r\n              <Typography sx={{ textAlign: \"center\" }}>Add New Character</Typography>\r\n            </CardContent>\r\n            <CharacterSelectionModal newFirst show={newCharacter} onHide={() => setnewCharacter(false)} onSelect={editCharacter} />\r\n            <Box sx={{\r\n              flexGrow: 1,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\"\r\n            }}\r\n            >\r\n              <Button onClick={() => setnewCharacter(true)} sx={{\r\n                borderRadius: \"1em\"\r\n              }}>\r\n                <Typography variant=\"h1\"><FontAwesomeIcon icon={faPlus} className=\"fa-fw\" /></Typography>\r\n              </Button>\r\n            </Box>\r\n          </CardDark>\r\n        </Grid>}\r\n        {!!charKeyList && charKeyList.map(charKey =>\r\n          <Grid item key={charKey} xs={12} sm={6} md={4} lg={3} >\r\n            <CharacterCard\r\n              characterKey={charKey}\r\n              onDelete={deleteCharacter}\r\n              onEdit={editCharacter}\r\n              footer\r\n            />\r\n          </Grid>)}\r\n      </Suspense>\r\n    </Grid>\r\n  </Box>\r\n}\r\nfunction CharDisplayFooter({ onClose, characterKey }) {\r\n  return <Grid container spacing={1}>\r\n    <Grid item>\r\n      <Button component={Link} to={{\r\n        pathname: \"/build\",\r\n        characterKey\r\n      } as any}\r\n        startIcon={<FontAwesomeIcon icon={faCalculator} />}\r\n      >Generate Builds</Button>\r\n    </Grid>\r\n    <Grid item flexGrow={1}>\r\n      <Button color=\"info\" component={Link} to={{ pathname: \"/flex\", characterKey } as any}\r\n        startIcon={<FontAwesomeIcon icon={faLink} />}\r\n      >Share Character</Button>\r\n    </Grid>\r\n    <Grid item xs=\"auto\">\r\n      <CloseButton large onClick={onClose} />\r\n    </Grid>\r\n  </Grid>\r\n}"],"sourceRoot":""}