(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[11,19,23],{204:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(9),c=(a(20),a(16)),i=(a(4),a(87));a(49),a(12);function r(e,t){return function(e,t){for(var a=new Set(t.map((function(e){return e.key}))),i={},r=Object.keys(e),s=0,l=r;s<l.length;s++){var o,j,d=l[s],u={},b=Object(c.a)(null!==(o=e[d])&&void 0!==o?o:[]);try{for(b.s();!(j=b.n()).done;){var h=j.value;a.has(h.setKey)?u[h.setKey]?u[h.setKey].push(h):u[h.setKey]=[h]:u.null?u.null.push(h):u.null=[h]}}catch(f){b.e(f)}finally{b.f()}i[d]=Object.freeze(u)}var O={},x={},m=[];return function e(a){if(a>=r.length){var s,l=Object(c.a)(t);try{for(l.s();!(s=l.n()).done;){var o,j=s.value,d=j.key,u=j.num;if((null!==(o=O[d])&&void 0!==o?o:0)<u)return}}catch(f){l.e(f)}finally{l.f()}m.push(Object(n.a)({},x))}else{var b=r[a],h=i[b];for(var v in h){var p;O[v]=(null!==(p=O[v])&&void 0!==p?p:0)+1,x[b]=h[v],e(a+1),O[v]-=1}}}(0),m}(e,t).reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){return e*t[1].length}),1)}),0)}function s(e,t,a){var n=t.hitMode,c=void 0===n?"":n,r=t.infusionAura,s=void 0===r?"":r,l=t.infusionSelf,o=void 0===l?"":l,j=t.reactionMode,d=void 0===j?null:j,u=t.characterEle,b=void 0===u?"anemo":u,h=t.weaponType,O=void 0===h?"sword":h;if(Object.keys(i.a).includes(e))return"".concat(e,"_elemental_").concat(c);if(a||"catalyst"!==O||(a=b),"elemental"===e||"burst"===e||"skill"===e||a)return d&&d.startsWith(a||b)?"".concat(d,"_").concat(e,"_").concat(c):"".concat(a||b,"_").concat(e,"_").concat(c);var x="physical";return o?x=o:s&&(x=s),d&&d.startsWith(x)?"".concat(d,"_").concat(e,"_").concat(c):"".concat(x,"_").concat(e,"_").concat(c)}function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Object.keys(i.a).includes(e))return e;var n=t.infusionAura,c=void 0===n?"":n,r=t.infusionSelf,s=void 0===r?"":r,l=t.reactionMode,o=void 0===l?null:l,j=t.characterEle,d=void 0===j?"anemo":j,u=t.weaponType,b=void 0===u?"sword":u;if(a||"catalyst"!==b||(a=d),"elemental"===e||"burst"===e||"skill"===e||a){if(o&&o.startsWith(a||d)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return a||d}var h="physical";if(s?h=s:c&&(h=c),o&&o.startsWith(h)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return h}},210:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,c=a(106),i=a(25),r=a(10),s=a(187),l=a(120),o=a(123),j=a(86),d=a(208),u=a(1);function b(e){var t=e.location,a=e.onEquip,b=e.weaponTypeKey,h=e.disableUnequip,O=void 0!==h&&h,x=e.editable,m=void 0!==x&&x,f=Object(l.a)(["artifact"]).t,v=Object(j.b)(o.b.get(t),[t]),p=(null===v||void 0===v?void 0:v.name)?v.nameWIthIcon:Object(u.jsxs)("span",{children:[Object(u.jsx)(r.a,{icon:i.c})," ",f(n||(n=Object(c.a)(["filterLocation.inventory"])))]});return m?Object(u.jsxs)(s.a,{children:[Object(u.jsx)(s.a.Toggle,{className:"text-left",children:p}),Object(u.jsxs)(s.a.Menu,{children:[!O&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(s.a.Item,{onClick:function(){},children:[Object(u.jsx)(r.a,{icon:i.c})," Inventory"]}),Object(u.jsx)(s.a.Divider,{})]}),Object(u.jsx)(d.b,{onSelect:a,weaponTypeKey:b})]})]}):p}},214:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a(4),c=a(189),i=a(71),r=a(14),s=a(1);function l(e,t){var a=t.characterSheet,i=t.weaponSheet,r=t.artifactSheets,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"anemo";if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var o,j,d=e.split("talentKey_")[1];return null!==(o=null===a||void 0===a||null===(j=a.getTalentOfKey(d,l))||void 0===j?void 0:j.name)&&void 0!==o?o:d}if(e.startsWith("weapon_")){var u,b=e.split("weapon_")[1];return null!==(u=null===i||void 0===i?void 0:i.name)&&void 0!==u?u:b}if(e.startsWith("artifact_")){var h,O=e.split("_"),x=Object(n.a)(O,3),m=x[1],f=x[2];return Object(s.jsxs)("span",{children:[null===(h=r[m])||void 0===h?void 0:h.name," ",Object(s.jsxs)(c.a,{variant:"success",children:[f,"-Set"]})]})}return""}function o(e){return{key:e,level:1,ascension:0,hitMode:"avgHit",reactionMode:null,equippedArtifacts:Object.fromEntries(r.h.map((function(e){return[e,""]}))),equippedWeapon:"",conditionalValues:{},baseStatOverrides:{},buildSettings:Object(i.a)(),talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0}}},216:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(4),c=a(25),i=a(10),r=a(0),s=a(188),l=a(143),o=a(127),j=a(72),d=a(126),u=a(207),b=a(210),h=a(206),O=a(124),x=a(35),m=a(34),f=a(86),v=a(121),p=a(1);function g(e){var t,a=e.weaponId,g=e.onEdit,y=e.onDelete,S=e.onClick,N=e.cardClassName,k=void 0===N?"":N,w=e.bg,C=void 0===w?"":w,A=e.footer,B=void 0!==A&&A,K=e.editable,M=void 0!==K&&K,E=Object(r.useContext)(x.b),T=Object(r.useState)(void 0),F=Object(n.a)(T,2),D=F[0],_=F[1];Object(r.useEffect)((function(){return a?E.followWeapon(a,_):void 0}),[a,_,E]);var z=D,I=Object(f.b)((null===z||void 0===z?void 0:z.key)&&v.a.get(z.key),[null===z||void 0===z?void 0:z.key]);if(!z||!I)return null;var W=z.level,H=z.ascension,P=z.refine,L=(z.id,I.weaponType),q=I.getMainStatValue(W,H).toFixed(m.b.fixedUnit("atk")),V=I.getSubStatKey(),R=I.getSubStatValue(W,H).toFixed(m.b.fixedUnit(V)),U=v.a.getLevelString(z),G=[["weaponATK",q]];return(null===I||void 0===I?void 0:I.passiveName)&&G.push([V,R]),Object(p.jsxs)(s.a,{className:k,bg:C||"darkcontent",text:"lightfont",children:[Object(p.jsxs)(s.a.Header,{children:[Object(p.jsx)(l.a,{src:null===(t=u.a.weaponTypes)||void 0===t?void 0:t[L],className:"inline-icon"})," ",Object(p.jsx)("h5",{className:"d-inline",children:I.name})]}),Object(p.jsxs)(s.a.Body,{onClick:function(){return null===S||void 0===S?void 0:S(a)},className:S?"cursor-pointer":"",children:[Object(p.jsxs)(o.a,{children:[Object(p.jsx)(j.a,{xs:"auto",className:"pr-0",children:Object(p.jsx)(l.a,{src:I.img,className:"thumb-big grad-".concat(I.rarity,"star p-0"),thumbnail:!0})}),Object(p.jsxs)(j.a,{children:[Object(p.jsxs)("h5",{className:"mb-0",children:["Level ",U," "]}),Object(p.jsxs)("h5",{children:["Refinement ",P]}),Object(p.jsx)("h6",{className:"mb-0",children:Object(p.jsx)(h.a,{stars:I.rarity,colored:!0})})]})]}),Object(p.jsx)(o.a,{children:G.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=m.b.getStatUnit(a);return Object(p.jsxs)(j.a,{xs:12,children:[Object(p.jsxs)("h6",{className:"d-inline",children:[O.a[a]," ",m.b.getStatName(a)]}),Object(p.jsx)("span",{className:"float-right",children:c+i})]},a)}))}),!1]}),B&&Object(p.jsx)(s.a.Footer,{children:Object(p.jsxs)(o.a,{children:[Object(p.jsx)(j.a,{children:Object(p.jsx)(b.a,{location:null===z||void 0===z?void 0:z.location,onEquip:function(e){return E.setWeaponLocation(a,e)},weaponTypeKey:L,disableUnequip:!!z.location,editable:M})}),Object(p.jsx)(j.a,{xs:"auto",children:Object(p.jsxs)("span",{className:"float-right align-top ml-1",children:[g&&Object(p.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return g(a)},children:Object(p.jsx)(i.a,{icon:c.k})}),y&&Object(p.jsx)(d.a,{variant:"danger",size:"sm",disabled:!!z.location,onClick:function(){return y(a)},children:Object(p.jsx)(i.a,{icon:c.E})})]})})]})})]})}},217:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return S}));var n=a(20),c=a(4),i=a(25),r=a(10),s=a(0),l=a(544),o=a(188),j=a(127),d=a(72),u=a(223),b=a(126),h=a(143),O=a(207),x=a(206),m=a(14),f=a(86),v=a(121),p=a(1);function g(e,t){return t===e?"":t}function y(e){var t=e.show,a=e.onHide,y=e.onSelect,S=e.filter,N=void 0===S?function(){return!0}:S,k=Object(f.b)(v.a.getAll(),[]),w=Object(s.useReducer)(g,""),C=Object(c.a)(w,2),A=C[0],B=C[1],K=k?Object(n.a)(new Set(m.i)).filter((function(e){return N(k[e])})).filter((function(e){var t;return!A||A===(null===k||void 0===k||null===(t=k[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,n,c,i;return(null!==(a=null===k||void 0===k||null===(n=k[t])||void 0===n?void 0:n.rarity)&&void 0!==a?a:0)-(null!==(c=null===k||void 0===k||null===(i=k[e])||void 0===i?void 0:i.rarity)&&void 0!==c?c:0)})):[];return k?Object(p.jsx)(l.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:a,children:Object(p.jsxs)(o.a,{bg:"lightcontent",text:"lightfont",children:[Object(p.jsx)(o.a.Header,{children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(d.a,{children:Object(p.jsx)(u.a,{children:m.j.map((function(e){var t;return Object(p.jsx)(b.a,{variant:A&&A!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return B(e)},children:Object(p.jsx)("h3",{className:"mb-0",children:Object(p.jsx)(h.a,{src:null===(t=O.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(p.jsx)(d.a,{xs:"auto",children:Object(p.jsx)(b.a,{onClick:a,variant:"danger",children:Object(p.jsx)(r.a,{icon:i.B})})})]})}),Object(p.jsx)(o.a.Body,{children:Object(p.jsx)(j.a,{children:K.map((function(e){var t,n=k[e];return Object(p.jsx)(d.a,{lg:3,md:4,className:"mb-2",children:Object(p.jsx)(b.a,{className:"w-100 h-100 align-top",variant:"darkcontent",onClick:function(){a(),y(e)},children:Object(p.jsxs)(j.a,{className:"h-100",children:[Object(p.jsx)(d.a,{xs:"auto",className:"pr-0",children:Object(p.jsx)(h.a,{src:n.img,className:"thumb-big grad-".concat(n.rarity,"star p-0"),thumbnail:!0})}),Object(p.jsxs)(d.a,{children:[Object(p.jsxs)("h5",{className:"mb-0",children:[Object(p.jsx)(h.a,{src:null===(t=O.a.weaponTypes)||void 0===t?void 0:t[n.weaponType],className:"inline-icon"})," ",n.name]}),Object(p.jsx)("h6",{className:"mb-0",children:Object(p.jsx)(x.a,{stars:n.rarity,colored:!0})})]})]})})},e)}))})})]})}):null}function S(e){var t,a=e.weaponSheet,n=e.onSelect,i=e.filter,r=Object(s.useState)(!1),l=Object(c.a)(r,2),o=l[0],j=l[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b.a,{as:u.a,onClick:function(){return j(!0)},className:"text-nowrap",children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Weapon"}),Object(p.jsx)(y,{show:o,onHide:function(){return j(!1)},onSelect:n,filter:i})]})}},218:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(4),c=a(25),i=a(10),r=a(0),s=a(544),l=a(188),o=a(127),j=a(72),d=a(126),u=a(199),b=a(28),h=a(12),O=a(84),x=a(1);function m(e){var t,a,m=e.pageKey,f=void 0===m?"":m,v=e.text,p=void 0===v?"":v,g=e.modalTitle,y=void 0===g?"":g,S=e.children,N=Object(r.useState)(null===(t=null===(a=b.b.get("infoShown"))||void 0===a?void 0:a[f])||void 0===t||t),k=Object(n.a)(N,2),w=k[0],C=k[1],A=Object(r.useState)(Array.isArray(p)?Object(h.g)(p):p),B=Object(n.a)(A,1)[0],K=function(){var e,t=null!==(e=b.b.get("infoShown"))&&void 0!==e?e:{};t[f]=!1,b.b.set("infoShown",t),C(!1)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(s.a,{show:w,onHide:function(){return K()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(x.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(x.jsx)(l.a.Header,{children:Object(x.jsxs)(o.a,{children:[Object(x.jsx)(j.a,{children:Object(x.jsx)(l.a.Title,{children:y})}),Object(x.jsx)(j.a,{xs:"auto",children:Object(x.jsx)(d.a,{variant:"danger",onClick:function(){return K()},children:Object(x.jsx)(i.a,{icon:c.B})})})]})}),Object(x.jsx)(l.a.Body,{children:Object(x.jsx)(r.Suspense,{fallback:Object(x.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(x.jsx)(u.a,{animation:"border",variant:"primary"})]}),children:S})}),Object(x.jsx)(l.a.Footer,{children:Object(x.jsx)(d.a,{variant:"danger",onClick:function(){return K()},children:Object(x.jsx)("span",{children:"Close"})})})]})}),Object(x.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(x.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(x.jsxs)(o.a,{children:[Object(x.jsx)(j.a,{children:Object(x.jsx)("small",{children:B})}),Object(x.jsx)(j.a,{xs:"auto",children:Object(x.jsxs)(d.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return C(!0)},children:[Object(x.jsx)(O.a,{ns:"ui",key18:"info"})," ",Object(x.jsx)(i.a,{icon:c.v})]})})]})})})]})}},236:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(20),c=a(4),i=a(25),r=a(10),s=a(0),l=a(143),o=a(189),j=a(126),d=a(188),u=a(72),b=a(127),h=a(41),O=a(122),x=a(207),m=a(206),f=a(124),v=a(35),p=a(34),g=a(86),y=a(121),S=a(209),N=a(123),k=a(1);function w(e){var t,a=e.characterKey,w=e.onEdit,C=e.onDelete,A=e.cardClassName,B=void 0===A?"":A,K=e.bg,M=void 0===K?"":K,E=e.header,T=e.footer,F=void 0!==T&&T,D=Object(s.useContext)(v.b),_=Object(s.useState)(void 0),z=Object(c.a)(_,2),I=z[0],W=z[1];Object(s.useEffect)((function(){return a?D.followChar(a,W):void 0}),[a,W,D]);var H=Object(g.b)(O.a.getAll(),[]),P=I,L=Object(g.b)(N.b.get(a),[a]),q=(null===P||void 0===P?void 0:P.equippedWeapon)?D._getWeapon(P.equippedWeapon):void 0,V=Object(g.b)(q?y.a.get(q.key):void 0,[null===q||void 0===q?void 0:q.key]),R=Object(s.useMemo)((function(){return P&&L&&V&&H&&S.a.calculateBuild(P,D,L,V,H)}),[P,L,V,H,D]);if(!P||!q||!L||!V||!R)return null;var U=P.constellation,G=q.level,J=q.ascension,X=R.tlvl,Y=L.name,Q=R.characterEle,Z=L.weaponTypeKey,$=null===V||void 0===V?void 0:V.name,ee=V.getMainStatValue(G,J).toFixed(p.b.fixedUnit("atk")),te=V.getSubStatKey(),ae=V.getSubStatValue(G,J).toFixed(p.b.fixedUnit(te)),ne=y.a.getLevelString(q),ce=null===V||void 0===V?void 0:V.passiveName;return Object(k.jsxs)(d.a,{className:B,bg:M||"darkcontent",text:"lightfont",children:[Object(k.jsx)(d.a.Header,{className:"pr-2",children:Object(k.jsxs)(b.a,{className:"no-gutters",children:[Object(k.jsx)(u.a,{children:E||Object(k.jsx)("h5",{children:Object(k.jsx)("b",{children:Y})})}),Object(k.jsx)(u.a,{xs:"auto",children:Object(k.jsxs)("span",{className:"float-right align-top ml-1",children:[w&&Object(k.jsx)(j.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return w(a)},children:Object(k.jsx)(r.a,{icon:i.k})}),C&&Object(k.jsx)(j.a,{variant:"danger",size:"sm",onClick:function(){return C(a)},children:Object(k.jsx)(r.a,{icon:i.E})})]})})]})}),Object(k.jsxs)(d.a.Body,{onClick:function(){return null===w||void 0===w?void 0:w(a)},className:w?"cursor-pointer":"",children:[Object(k.jsxs)(b.a,{children:[Object(k.jsx)(u.a,{xs:"auto",className:"pr-0",children:Object(k.jsx)(l.a,{src:L.thumbImg,className:"thumb-big grad-".concat(L.star,"star p-0"),thumbnail:!0})}),Object(k.jsxs)(u.a,{children:[Object(k.jsxs)("h5",{className:"mb-0",children:["Lv. ",S.a.getLevelString(P)," ","C".concat(U)]}),Object(k.jsxs)("h6",{className:"mb-0",children:[Object(k.jsx)(o.a,{variant:"secondary",children:Object(k.jsx)("strong",{className:"mx-1",children:X.auto+1})})," ",Object(k.jsx)(o.a,{variant:"secondary",children:Object(k.jsx)("strong",{className:"mx-1",children:X.skill+1})})," ",Object(k.jsx)(o.a,{variant:"secondary",children:Object(k.jsx)("strong",{className:"mx-1",children:X.burst+1})})]}),Object(k.jsx)("h6",{className:"mb-0",children:Object(k.jsx)(m.a,{stars:L.star,colored:!0})}),Object(k.jsxs)("h3",{className:"mb-0",children:[f.a[Q]," ",Object(k.jsx)(l.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[Z],className:"inline-icon"})]})]})]}),Object(k.jsx)(b.a,{className:"mb-2",children:Object(k.jsxs)(u.a,{children:[Object(k.jsxs)("h6",{className:"mb-0",children:[$,ce&&Object(k.jsx)(o.a,{variant:"info",className:"ml-1",children:q.refine})," ",ne]}),Object(k.jsxs)("span",{children:["ATK: ",ee,"  ",ce&&Object(k.jsxs)("span",{children:[p.b.getStatName(te),": ",ae,p.b.getStatUnit(te)]})]})]})}),Object(k.jsx)(b.a,{children:Object(k.jsx)(u.a,{children:H&&Object.entries(O.a.setEffects(H,R.setToSlots)).map((function(e){var t,a=Object(c.a)(e,2),i=a[0],r=a[1],s=null!==(t=null===H||void 0===H?void 0:H[i].name)&&void 0!==t?t:"",l=Math.max.apply(Math,Object(n.a)(r));return Object(k.jsx)("h5",{children:Object(k.jsxs)(o.a,{variant:"secondary",children:[s," ",Object(k.jsx)(o.a,{variant:"success",children:l})]})},i)}))})}),Object(k.jsx)(b.a,{children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var t=p.b.getStatUnit(e),a=R[e];return Object(k.jsxs)(u.a,{xs:12,children:[Object(k.jsxs)("h6",{className:"d-inline",children:[f.a[e]," ",p.b.getStatName(e)]}),Object(k.jsx)("span",{className:"float-right",children:(null===a||void 0===a?void 0:a.toFixed(p.b.fixedUnit(e)))+t})]},e)}))})]}),F&&Object(k.jsx)(d.a.Footer,{children:Object(k.jsxs)(b.a,{children:[Object(k.jsx)(u.a,{children:Object(k.jsxs)(j.a,{as:h.b,to:{pathname:"/build",characterKey:a},children:[Object(k.jsx)(r.a,{icon:i.d})," Generate Builds"]})}),Object(k.jsx)(u.a,{children:Object(k.jsxs)(j.a,{variant:"info",as:h.b,to:{pathname:"/flex",characterKey:a},children:[Object(k.jsx)(r.a,{icon:i.r})," Share Character"]})})]})})]})}},237:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=a(12);function c(e){var t=e%1e3,a=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:n,seconds:a,milliseconds:t}}function i(e){var t=c(e),a=t.hours,i=t.minutes,r=t.seconds,s="Minutes";return a&&(s="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.o)(i,"0",2),":").concat(Object(n.o)(r,"0",2)," ").concat(s)}function r(e){var t=c(e),a=t.hours,i=t.minutes,r=t.seconds,s=t.milliseconds,l="Minutes";return a&&(l="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.o)(i,"0",2),":").concat(Object(n.o)(r,"0",2),".").concat(Object(n.o)(s,"0",3)," ").concat(l)}},362:function(e,t,a){"use strict";var n=a(2),c=a(5),i=a(6),r=a.n(i),s=a(0),l=a.n(s),o=a(8),j=a(231),d=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],u=["isChild"],b=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"];function h(e,t,a){var n=(e-t)/(a-t)*100;return Math.round(1e3*n)/1e3}function O(e,t){var a,i=e.min,s=e.now,o=e.max,j=e.label,u=e.srOnly,b=e.striped,O=e.animated,x=e.className,m=e.style,f=e.variant,v=e.bsPrefix,p=Object(c.a)(e,d);return l.a.createElement("div",Object(n.a)({ref:t},p,{role:"progressbar",className:r()(x,v+"-bar",(a={},a["bg-"+f]=f,a[v+"-bar-animated"]=O,a[v+"-bar-striped"]=O||b,a)),style:Object(n.a)({width:h(s,i,o)+"%"},m),"aria-valuenow":s,"aria-valuemin":i,"aria-valuemax":o}),u?l.a.createElement("span",{className:"sr-only"},j):j)}var x=l.a.forwardRef((function(e,t){var a=e.isChild,i=Object(c.a)(e,u);if(i.bsPrefix=Object(o.a)(i.bsPrefix,"progress"),a)return O(i,t);var d=i.min,h=i.now,x=i.max,m=i.label,f=i.srOnly,v=i.striped,p=i.animated,g=i.bsPrefix,y=i.variant,S=i.className,N=i.children,k=Object(c.a)(i,b);return l.a.createElement("div",Object(n.a)({ref:t},k,{className:r()(S,g)}),N?Object(j.a)(N,(function(e){return Object(s.cloneElement)(e,{isChild:!0})})):O({min:d,now:h,max:x,label:m,srOnly:f,striped:v,animated:p,bsPrefix:g,variant:y},t))}));x.displayName="ProgressBar",x.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},t.a=x},551:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ue}));var n=a(69),c=a(16),i=a(47),r=a.n(i),s=a(57),l=a(4),o=a(20),j=a(9),d=a(25),u=a(10),b=a(0),h=a.n(b),O=a(187),x=a(281),m=a(191),f=a(127),v=a(72),p=a(188),g=a(126),y=a(189),S=a(223),N=a(190),k=a(226),w=a(536),C=a(544),A=a(143),B=a(235),K=a(200),M=a(362),E=a(48);function T(){return new Worker(a.p+"static/js/BuildWorker.410f222c.worker.js")}var F=a(70),D=a(122),_=a(282),z=a(128),I=a(209),W=a(236),H=a(328),P=a(283),L=a(123),q=a(214),V=a(208),R=a(212),U=a(218),G=a(206),J=a(124),X=a(35),Y=a(28),Q=a(73),Z=a(34),$=a(14),ee=a(86),te=a(237),ae=a(12),ne=a(121),ce=a(204),ie=a(71),re=a(1),se=h.a.lazy((function(){return a.e(22).then(a.bind(null,550))})),le=Object(b.lazy)((function(){return Promise.resolve().then(a.bind(null,228))})),oe=1e7,je=[1,2,3,4,5,8,10],de=["sands","goblet","circlet"];function ue(e){var t,a=e.location.characterKey,n=Object(b.useContext)(X.b),i=Object(b.useState)((function(){var e,t=(null!==(e=Y.b.get("BuildsDisplay.state"))&&void 0!==e?e:{}).characterKey;return null!==a&&void 0!==a?a:void 0===t?"":t})),h=Object(l.a)(i,2),C=h[0],A=h[1],B=Object(b.useState)([]),K=Object(l.a)(B,2),M=K[0],H=K[1],P=Object(b.useState)((function(){var e,t=(null!==(e=Y.b.get("BuildsDisplay.state"))&&void 0!==e?e:{}).maxBuildsToShow;return void 0===t?5:t})),R=Object(l.a)(P,2),G=R[0],te=R[1],le=Object(b.useState)(null),ue=Object(l.a)(le,2),xe=ue[0],ge=ue[1],Se=Object(b.useState)(!1),Ne=Object(l.a)(Se,2),ke=Ne[0],we=Ne[1],Ce=Object(b.useState)(!1),Ae=Object(l.a)(Ce,2),Be=Ae[0],Ke=Ae[1],Me=Object(b.useState)(!1),Ee=Object(l.a)(Me,2),Te=Ee[0],Fe=Ee[1],De=Object(b.useState)(0),_e=Object(l.a)(De,2),ze=_e[0],Ie=_e[1],We=Object(b.useState)(0),He=Object(l.a)(We,2),Pe=He[0],Le=He[1],qe=Object(b.useState)(0),Ve=Object(l.a)(qe,2),Re=Ve[0],Ue=Ve[1],Ge=Object(ee.a)(),Je=Object(l.a)(Ge,2),Xe=Je[0],Ye=Je[1],Qe=Object(ee.b)(D.a.getAll(),[]),Ze=Object(ee.a)(),$e=Object(l.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(b.useRef)(!1),nt=Object(b.useRef)(null),ct=Object(b.useState)({}),it=Object(l.a)(ct,2),rt=it[0],st=rt.character,lt=rt.characterSheet,ot=rt.weaponSheet,jt=rt.initialStats,dt=rt.statsDisplayKeys,ut=it[1],bt=Object(b.useMemo)((function(){var e;return null!==(e=null===st||void 0===st?void 0:st.buildSettings)&&void 0!==e?e:Object(ie.a)()}),[st]);0===bt.setFilters.length&&(bt.setFilters=Object(ie.a)().setFilters);var ht=bt.setFilters,Ot=bt.statFilters,xt=bt.mainStatKeys,mt=bt.optimizationTarget,ft=bt.mainStatAssumptionLevel,vt=bt.useExcludedArts,pt=bt.useEquippedArts,gt=bt.ascending,yt=Object(b.useCallback)((function(e){st&&(st.buildSettings=function(e,t){switch(t.type){case"mainStatKey":var a=t.slotKey,n=t.mainStatKey,c=Object(j.a)({},e.mainStatKeys);return e.mainStatKeys[a].includes(n)?c[a]=c[a].filter((function(e){return e!==n})):c[a].push(n),Object(j.a)(Object(j.a)({},e),{},{mainStatKeys:c});case"setFilter":var i=t.index,r=t.key,s=t.num,l=void 0===s?0:s;return e.setFilters[i]={key:r,num:l},Object(j.a)(Object(j.a)({},e),{},{setFilters:Object(o.a)(e.setFilters)})}return Object(j.a)(Object(j.a)({},e),t)}(bt,e),n.updateChar(st))}),[st,bt,n]);Object(b.useEffect)((function(){return E.a.pageview("/build")}),[]);var St=Object(b.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";C!==e&&(A(e),H([]),Ye(),ut({}))}),[Ye,A,C]);Object(b.useEffect)((function(){Object(s.a)(r.a.mark((function e(){var t,a,c,i,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&Qe){e.next=2;break}return e.abrupt("return");case 2:if(t=n._getChar(C)){e.next=5;break}return e.abrupt("return",St(""));case 5:return e.next=7,L.b.get(C);case 7:if(a=e.sent,c=n._getWeapon(t.equippedWeapon)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,ne.a.get(c.key);case 13:if(i=e.sent,a&&i){e.next=16;break}return e.abrupt("return");case 16:s=I.a.createInitialStats(t,n,a,i),l=I.a.getDisplayStatKeys(s,{characterSheet:a,weaponSheet:i,artifactSheets:Qe}),ut({character:t,characterSheet:a,weaponSheet:i,initialStats:s,statsDisplayKeys:l});case 19:case"end":return e.stop()}}),e)})))()}),[Xe,C,Qe,n,St]),Object(b.useEffect)((function(){return n.followAnyArt(tt)}),[tt,n]),Object(b.useEffect)((function(){return C?n.followChar(C,Ye):void 0}),[C,Ye,n]),Object(b.useEffect)((function(){return function(){var e;return null===(e=nt.current)||void 0===e?void 0:e.terminate()}}),[]),Object(b.useEffect)((function(){at.current?Y.b.set("BuildsDisplay.state",{characterKey:C,maxBuildsToShow:G}):at.current=!0}),[C,G]),Object(b.useEffect)((function(){if(dt&&Array.isArray(mt)){for(var e in dt){var t,a=dt[e],n=Object(c.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(JSON.stringify(i)===JSON.stringify(mt))return}}catch(r){n.e(r)}finally{n.f()}}yt({optimizationTarget:Object(ie.a)().optimizationTarget})}}),[mt,dt,yt]);var Nt=Object(b.useMemo)((function(){if(!C)return{split:Object.fromEntries($.h.map((function(e){return[e,[]]}))),totBuildNumber:0};var e=n._getArts().filter((function(e){return e.location===C||!(e.exclude&&!vt)&&!(e.location&&!pt)})),t=F.a.splitArtifactsBySlot(e);de.forEach((function(e){var a;return xt[e].length&&(t[e]=null===(a=t[e])||void 0===a?void 0:a.filter((function(t){return xt[e].includes(t.mainStatKey)})))}));var a=Object(ce.a)(t,ht);return et&&{split:t,totBuildNumber:a}}),[C,vt,pt,xt,ht,et,n]),kt=Nt.split,wt=Nt.totBuildNumber,Ct=Object(b.useCallback)((function(){var e;if(jt&&Qe){H([]),Fe(!0),Le(0),Ie(0),Ue(0),jt.mainStatAssumptionLevel=ft;var t=F.a.setEffectsObjs(Qe,jt),a=Object(ae.d)(kt);Object.values(a).forEach((function(e){e.forEach((function(e){var t;e.mainStatVal=null!==(t=F.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(ft,4*e.rarity),e.level)))&&void 0!==t?t:0}))}));var n=Object.fromEntries(Object.entries(Ot).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].min]})).filter((function(e){return"number"===typeof Object(l.a)(e,2)[1]}))),c=Object.fromEntries(Object.entries(Ot).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].max]})).filter((function(e){return"number"===typeof Object(l.a)(e,2)[1]}))),i={splitArtifacts:a,initialStats:jt,artifactSetEffects:t,setFilters:ht,minFilters:n,maxFilters:c,maxBuildsToShow:G,optimizationTarget:mt,ascending:gt};null===(e=nt.current)||void 0===e||e.terminate(),nt.current=new T,nt.current.onmessage=function(e){var t;if("number"===typeof e.data.progress){var a=e.data,n=a.progress,c=a.timing,i=void 0===c?0:c,r=a.skipped,s=void 0===r?0:r;return Ie(n),Le(i),void Ue(s)}E.a.timing({category:"Build Generation",variable:"timing",value:e.data.timing,label:wt.toString()});var l=e.data.builds.map((function(e){return I.a.calculateBuildwithArtifact(jt,e.artifacts,Qe)}));H(l),Fe(!1),null===(t=nt.current)||void 0===t||t.terminate(),nt.current=null},nt.current.postMessage(i)}}),[Qe,kt,wt,ft,gt,jt,G,mt,ht,Ot]);Object(b.useEffect)((function(){wt&&wt<=100?Ct():H([])}),[C,kt,wt,bt,Ct]);var At=Object(b.useCallback)((function(e,t){return Qe&&D.a.setsWithMaxRarity(Qe,e).map((function(e){var a,n,c=Object(l.a)(e,2),i=c[0],r=c[1];if(ht.some((function(e){return e.key===i})))return!1;var s=Object.keys(null!==(a=null===Qe||void 0===Qe||null===(n=Qe[i])||void 0===n?void 0:n.setEffects)&&void 0!==a?a:{}),o=ht.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!s.every((function(e){return parseInt(e)+o>5}))&&Object(re.jsx)(O.a.Item,{onClick:function(){var e;return yt({type:"setFilter",index:t,key:i,num:null!==(e=parseInt(s[0]))&&void 0!==e?e:0})},children:r.nameWithIcon},i)}))}),[ht,yt,Qe]),Bt=null!==(t=null===lt||void 0===lt?void 0:lt.name)&&void 0!==t?t:"Character Name",Kt=Object(b.useMemo)((function(){return Object(re.jsxs)(x.a,{title:Bt,disabled:Te,children:[Object(re.jsx)(O.a.Item,{onClick:function(){return St("")},children:"Unselect Character"}),Object(re.jsx)(O.a.Divider,{}),Object(re.jsx)(V.b,{onSelect:function(e){return St(e)}})]})}),[Bt,Te,St]),Mt=Object(ee.b)(Array.isArray(mt)?Q.a.get(mt):void 0,[mt]),Et=Object(b.useMemo)((function(){if(!Array.isArray(mt))return Object(re.jsxs)("b",{children:["Basic Stat: ",Object(re.jsx)("span",{className:"text-".concat(Z.b.getStatVariant(mt)),children:Z.b.getStatNameWithPercent(mt)})]});if(!Mt)return null;var e,t=Mt.keys,a=Object(l.a)(t,3),n=a[0],c=a[2],i=Mt.field,r=I.a.getTalentFieldValue(i,"variant",jt),s=I.a.getTalentFieldValue(i,"text",jt);return"character"===n?("normal"!==c&&"charged"!==c&&"plunging"!==c||(c="auto"),Object(re.jsxs)("b",{children:[null===lt||void 0===lt||null===(e=lt.getTalentOfKey(c,null===jt||void 0===jt?void 0:jt.characterEle))||void 0===e?void 0:e.name,": ",Object(re.jsx)("span",{className:"text-".concat(r),children:s})]})):"weapon"===n?Object(re.jsxs)("b",{children:[null===ot||void 0===ot?void 0:ot.name,": ",Object(re.jsx)("span",{className:"text-".concat(r),children:s})]}):void 0}),[mt,Mt,jt,lt,ot]),Tt=ht.reduce((function(e,t){return t.key?e+t.num:e}),0),Ft=Object(b.useMemo)((function(){var e,t=0;return Object(ae.c)(null===jt||void 0===jt||null===(e=jt.conditionalValues)||void 0===e?void 0:e.artifact,[],(function(e){return Array.isArray(e)}),(function(){return t++})),t}),[null===jt||void 0===jt?void 0:jt.conditionalValues]),Dt=Object(b.useCallback)((function(e){return n.updateChar(Object(j.a)(Object(j.a)({},st),e))}),[st,n]);return Object(re.jsxs)(m.a,{className:"mt-2",children:[Object(re.jsx)(U.a,{pageKey:"buildPage",modalTitle:"Character Management Page Guide",text:["For self-infused attacks, like Noelle's Sweeping Time, enable the skill in the talent page.","You can compare the difference between equipped artifacts and generated builds.","The more complex the formula, the longer the generation time."],children:Object(re.jsx)(se,{})}),Object(re.jsx)(he,{build:xe,showCharacterModal:Be,characterKey:C,selectCharacter:St,setmodalBuild:ge,setshowCharacterModal:Ke}),!!jt&&Object(re.jsx)(Oe,{showArtCondModal:ke,setshowArtCondModal:we,initialStats:jt,characterDispatch:Dt,artifactCondCount:Ft}),Object(re.jsx)(f.a,{className:"mt-2 mb-2",children:Object(re.jsx)(v.a,{children:Object(re.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:"Build Generator"}),Object(re.jsxs)(p.a.Body,{children:[Object(re.jsxs)(f.a,{children:[Object(re.jsxs)(v.a,{xs:12,lg:6,children:[C?Object(re.jsx)(W.a,{header:Kt,characterKey:C,bg:"lightcontent",cardClassName:"mb-2",onEdit:Te?void 0:function(){return Ke(!0)}}):Object(re.jsx)(p.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(re.jsx)(p.a.Header,{children:Kt})}),lt&&st&&jt&&Object(re.jsx)(me,{build:jt,characterSheet:lt,className:"mb-2",character:st,disabled:Te}),Boolean(dt)&&Object(re.jsx)(fe,{className:"mb-2",statFilters:Ot,statKeys:null===dt||void 0===dt?void 0:dt.basicKeys,setStatFilters:function(e){return yt({statFilters:e})},disabled:Te})]}),Object(re.jsx)(v.a,{xs:12,lg:6,children:Object(re.jsxs)(f.a,{children:[Object(re.jsx)(v.a,{className:"mb-2",xs:12,children:Object(re.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(re.jsx)(p.a.Body,{children:Object(re.jsx)(g.a,{className:"w-100",onClick:function(){return we(!0)},disabled:Te,children:Object(re.jsxs)("span",{children:["Default Artifact Set Effects ",Boolean(Ft)&&Object(re.jsxs)(y.a,{variant:"success",children:[Ft," Selected"]})]})})})})}),ht.map((function(e,t){var a,n,c,i,r,s=e.key,l=e.num;return Object(re.jsx)(v.a,{className:"mb-2",xs:12,children:Object(re.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(S.a,{children:[Object(re.jsxs)(x.a,{as:S.a,title:null!==(a=null===Qe||void 0===Qe||null===(n=Qe[s])||void 0===n?void 0:n.nameWithIcon)&&void 0!==a?a:"Artifact Set Filter",disabled:Te,children:[Object(re.jsx)(O.a.Item,{onClick:function(){return yt({type:"setFilter",index:t,key:""})},children:"Unselect Artifact"}),Object(re.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),At(5,t),Object(re.jsx)(O.a.Divider,{}),Object(re.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),At(4,t),Object(re.jsx)(O.a.Divider,{}),Object(re.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),At(3,t)]}),Object(re.jsx)(x.a,{as:S.a,title:"".concat(l,"-set"),disabled:Te||!s||Tt>=5,children:!!jt&&Object.keys(null!==(c=null===Qe||void 0===Qe||null===(i=Qe[s])||void 0===i?void 0:i.setEffects)&&void 0!==c?c:{}).map((function(e){var a=ht.reduce((function(e,t){return t.key&&t.key!==s?e+t.num:e}),0);return parseInt(e)+a<=5&&Object(re.jsx)(O.a.Item,{onClick:function(){return yt({type:"setFilter",index:t,key:ht[t].key,num:parseInt(e)})},children:"".concat(e,"-set")},e)}))})]})}),s?Object(re.jsx)(p.a.Body,{children:Object(re.jsx)(f.a,{className:"mb-n2",children:!!jt&&Object.keys(null!==(r=null===Qe||void 0===Qe?void 0:Qe[s].setEffects)&&void 0!==r?r:{}).map((function(e){return parseInt(e)})).filter((function(e){return e<=l})).map((function(e){return Object(re.jsx)(_.a,{newBuild:void 0,setKey:s,setNumKey:e,equippedBuild:jt,characterDispatch:Dt,editable:!0},s+e)}))})}):null]})},t)})),Object(re.jsx)(v.a,{className:"mb-2",xs:12,children:Object(re.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(re.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(re.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return yt({useEquippedArts:!pt})},disabled:Te,children:Object(re.jsxs)("span",{children:[Object(re.jsx)(u.a,{icon:pt?d.f:d.z})," Use Equipped Artifacts"]})}),Object(re.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return yt({useExcludedArts:!vt})},disabled:Te,children:Object(re.jsxs)("span",{children:[Object(re.jsx)(u.a,{icon:vt?d.f:d.z})," Use Excluded Artifacts"]})})]})})}),Object(re.jsx)(v.a,{className:"mb-2",xs:12,children:Object(re.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(f.a,{children:[Object(re.jsx)(v.a,{children:"Artifact Main Stat"}),Object(re.jsx)(v.a,{xs:"auto",children:Object(re.jsx)(ye,{mainStatAssumptionLevel:ft,setmainStatAssumptionLevel:function(e){return yt({mainStatAssumptionLevel:e})},disabled:Te})})]})}),Object(re.jsx)(p.a.Body,{className:"mb-n2",children:de.map((function(e){var t=xt[e].length;return Object(re.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:[Object(re.jsx)(p.a.Header,{className:"p-2",children:Object(re.jsxs)(f.a,{children:[Object(re.jsx)(v.a,{className:"ml-2",children:Object(re.jsx)(z.b,{slotKey:e})}),Object(re.jsx)(v.a,{xs:"auto",children:Object(re.jsx)(y.a,{variant:"info",children:t?"".concat(t," Selected"):"Any"})})]})}),Object(re.jsx)(p.a.Body,{className:"p-0",children:Object(re.jsx)(f.a,{className:"no-gutters",children:F.a.slotMainStats(e).map((function(t,a){var n=xt[e].includes(t);return Object(re.jsx)(v.a,{xs:a<3?4:6,children:Object(re.jsxs)(g.a,{className:"w-100 rounded-0",size:"sm",variant:n?"success":"secondary",disabled:Te,onClick:function(){return yt({type:"mainStatKey",slotKey:e,mainStatKey:t})},children:[J.a[t]," ",Z.b.getStatNameWithPercent(t,"",!1)]})},t)}))})})]},e)}))})]})})]})})]}),Object(re.jsxs)(f.a,{className:"d-flex justify-content-between mb-2",children:[Object(re.jsx)(v.a,{xs:"auto",children:Object(re.jsxs)(S.a,{children:[Object(re.jsx)(g.a,{className:"h-100",disabled:!C||Te,variant:C&&wt<=oe?"success":"warning",onClick:Ct,children:Object(re.jsx)("span",{children:"Generate"})}),Object(re.jsxs)(O.a,{as:S.a,children:[Object(re.jsx)(N.a,{overlay:Object(re.jsx)(k.a,{id:"max-build-tooltip",children:"Decreasing the number of generated build will decrease build calculation time for large number of builds."}),children:Object(re.jsxs)(O.a.Toggle,{disabled:Te,children:[Object(re.jsx)("b",{children:G})," ",1===G?"Build":"Builds"]})}),Object(re.jsx)(O.a.Menu,{children:je.map((function(e){return Object(re.jsxs)(O.a.Item,{onClick:function(){return te(e)},children:[e," ",1===e?"Build":"Builds"]},e)}))})]}),Object(re.jsx)(g.a,{className:"h-100",disabled:!Te,variant:"danger",onClick:function(){nt.current&&(nt.current.terminate(),nt.current=null,Fe(!1),H([]),Le(0),Ie(0),Ue(0))},children:Object(re.jsx)("span",{children:"Cancel"})})]})}),Object(re.jsx)(v.a,{xs:"auto",children:Object(re.jsxs)(S.a,{children:[Object(re.jsxs)(O.a,{as:S.a,drop:"up",children:[Object(re.jsx)(O.a.Toggle,{disabled:Te,variant:"light",children:Object(re.jsxs)("span",{children:["Optimization Target: ",Et]})}),Object(re.jsx)(O.a.Menu,{align:"right",style:{minWidth:"40rem"},children:Object(re.jsx)(f.a,{children:!!dt&&Object.entries(dt).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],c=lt&&ot&&Qe?Object(q.a)(a,{characterSheet:lt,weaponSheet:ot,artifactSheets:Qe},null===jt||void 0===jt?void 0:jt.characterEle):a;return Object(re.jsxs)(v.a,{xs:12,md:6,children:[Object(re.jsx)(O.a.Header,{style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(re.jsx)("b",{children:c})}),n.map((function(e,t){return Array.isArray(e)?Object(re.jsx)(be,{target:e,buildSettingsDispatch:yt,initialStats:jt},t):"string"===typeof e?Object(re.jsx)(O.a.Item,{onClick:function(){return yt({optimizationTarget:e})},children:Z.b.getStatNameWithPercent(e)},t):null}))]},a)}))})})]}),Object(re.jsxs)(g.a,{onClick:function(){return yt({ascending:!bt.ascending})},disabled:Te,variant:gt?"danger":"primary",children:[Object(re.jsx)(u.a,{icon:gt?d.x:d.y,className:"fa-fw"}),Object(re.jsx)("span",{children:gt?"Ascending":"Descending"})]})]})})]}),Object(re.jsx)(f.a,{className:"",children:Object(re.jsx)(v.a,{children:!!C&&Object(re.jsx)(pe,{totBuildNumber:wt,generatingBuilds:Te,generationSkipped:Re,generationProgress:ze,generationDuration:Pe,characterName:Bt,maxBuildsToShow:G})})})]})]})})}),Object(re.jsx)(f.a,{className:"mb-2",children:Object(re.jsx)(v.a,{children:Object(re.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsx)(f.a,{children:Object(re.jsx)(v.a,{children:C?Object(re.jsxs)("span",{children:["Showing ",Object(re.jsx)("b",{children:M.length})," Builds generated for ",Bt]}):Object(re.jsx)("span",{children:"Select a character to generate builds."})})})}),Object(re.jsx)(w.a,{children:M.map((function(e,t){return t<G&&lt&&ot&&Qe&&Object(re.jsx)(ve,{sheets:{characterSheet:lt,weaponSheet:ot,artifactSheets:Qe},build:e,characterKey:C,index:t,statsDisplayKeys:dt,onClick:function(){return ge(e)}},t)}))})]})})})]})}function be(e){var t=e.target,a=e.buildSettingsDispatch,n=e.initialStats,c=Object(ee.b)(Q.a.get(t),[t]);if(!c)return null;var i=c.field;return Object(re.jsx)(O.a.Item,{onClick:function(){return a({optimizationTarget:t})},style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(re.jsx)("span",{className:"text-".concat(I.a.getTalentFieldValue(i,"variant",n)),children:I.a.getTalentFieldValue(i,"text",n)})})}function he(e){var t=e.build,a=e.showCharacterModal,n=e.characterKey,c=e.selectCharacter,i=e.setmodalBuild,r=e.setshowCharacterModal,s=Object(b.useCallback)((function(){i(null),r(!1)}),[i,r]);return Object(re.jsx)(C.a,{show:Boolean(a||t),onHide:s,size:"xl",contentClassName:"bg-transparent",children:Object(re.jsx)(h.a.Suspense,{fallback:Object(re.jsx)("span",{children:"Loading..."}),children:Object(re.jsx)(le,{tabName:void 0,characterKey:n,setCharacterKey:function(e){return c(e)},newBuild:t,onClose:s,editable:a,footer:Object(re.jsx)(g.a,{variant:"danger",onClick:s,children:"Close"})})})})}function Oe(e){var t=e.showArtCondModal,a=e.setshowArtCondModal,n=e.initialStats,c=e.characterDispatch,i=e.artifactCondCount,r=Object(b.useCallback)((function(){return a(!1)}),[a]),s=Object(ee.b)(D.a.getAll(),[]);if(!s)return null;var o=Object.entries(D.a.setKeysByRarities(s)).reverse().flatMap((function(e){return Object(l.a)(e,2)[1]}));return Object(re.jsx)(C.a,{show:t,onHide:r,size:"xl",contentClassName:"bg-transparent",children:Object(re.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(f.a,{children:[Object(re.jsx)(v.a,{children:Object(re.jsxs)("h5",{children:["Default Artifact Set Effects  ",Boolean(i)&&Object(re.jsxs)(y.a,{variant:"success",children:[i," Selected"]})]})}),Object(re.jsx)(v.a,{xs:"auto",children:Object(re.jsx)(g.a,{onClick:function(){n.conditionalValues.artifact&&(n.conditionalValues.artifact={}),c({conditionalValues:n.conditionalValues})},children:Object(re.jsxs)("span",{children:[Object(re.jsx)(u.a,{icon:d.F})," Reset All"]})})}),Object(re.jsx)(v.a,{xs:"auto",children:Object(re.jsx)(g.a,{variant:"danger",onClick:r,children:Object(re.jsx)(u.a,{icon:d.B})})})]})}),Object(re.jsx)(p.a.Body,{children:Object(re.jsx)(f.a,{children:o.map((function(e){var t,a=s[e],i=Object.values(a.slotIcons)[0],r=a.rarity,l=r[0];return Object(re.jsx)(v.a,{className:"mb-2",xs:12,lg:6,xl:4,children:Object(re.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(f.a,{children:[Object(re.jsx)(v.a,{xs:"auto",className:"ml-n3 my-n2",children:Object(re.jsx)(A.a,{src:i,className:"thumb-mid grad-".concat(l,"star m-1"),thumbnail:!0})}),Object(re.jsxs)(v.a,{children:[Object(re.jsx)("h6",{children:Object(re.jsx)("b",{children:null!==(t=null===s||void 0===s?void 0:s[e].name)&&void 0!==t?t:""})}),Object(re.jsx)("span",{children:r.map((function(e,t){return Object(re.jsxs)("span",{children:[e,Object(re.jsx)(G.a,{stars:1})," ",t<r.length-1?"/ ":null]},e)}))})]})]})}),Object(re.jsx)(p.a.Body,{children:Object(re.jsx)(f.a,{className:"mb-n2",children:Boolean(e)&&Object.keys(a.setEffects).map((function(e){return parseInt(e)})).map((function(t){return Object(re.jsx)(_.a,{newBuild:void 0,setKey:e,setNumKey:t,equippedBuild:n,editable:!0,characterDispatch:c},e+t)}))})})]})},e)}))})}),Object(re.jsx)(p.a.Footer,{children:Object(re.jsxs)(g.a,{variant:"danger",onClick:r,children:[Object(re.jsx)(u.a,{icon:d.B})," CLOSE"]})})]})})}function xe(e){var t=e.statKey,a=e.statKeys,n=void 0===a?[]:a,c=e.min,i=e.max,r=e.close,s=e.setFilter,l=e.disabled,o="%"===Z.b.getStatUnit(t),b={disabled:!t,allowEmpty:!0,float:o},h=Object(j.a)(Object(j.a)({},b),{},{placeholder:"MIN",value:c,onChange:function(e){return s(t,e,i)}}),m=Object(j.a)(Object(j.a)({},b),{},{placeholder:"MAX",value:i,onChange:function(e){return s(t,c,e)}});return Object(re.jsxs)(B.a,{className:"mb-2",children:[Object(re.jsx)(x.a,{as:B.a.Prepend,title:Z.b.getStatNameWithPercent(t,"New Stat"),id:"input-group-dropdown-1",disabled:l,children:n.map((function(e){return Object(re.jsx)(O.a.Item,{onClick:function(){null===r||void 0===r||r(),s(e,c,i)},children:Z.b.getStatNameWithPercent(e)},e)}))}),Object(re.jsx)(R.a,Object(j.a)({},h)),Object(re.jsx)(R.a,Object(j.a)({},m)),Boolean(r)&&Object(re.jsx)(B.a.Append,{children:Object(re.jsx)(g.a,{variant:"danger",onClick:r,disabled:l,children:Object(re.jsx)(u.a,{icon:d.D})})})]})}function me(e){var t=e.characterSheet,a=e.character,n=e.build,c=e.className,i=e.disabled,r=Object(b.useContext)(X.b),s=Object(b.useCallback)((function(e){var t=e.hitMode;return r.updateChar(Object(j.a)(Object(j.a)({},a),{},{hitMode:t}))}),[a,r]),l=Object(b.useCallback)((function(e){var t=e.reactionMode;return r.updateChar(Object(j.a)(Object(j.a)({},a),{},{reactionMode:t}))}),[a,r]),o=Object(b.useCallback)((function(e){var t=e.infusionAura;return r.updateChar(Object(j.a)(Object(j.a)({},a),{},{infusionAura:t}))}),[a,r]);return a?Object(re.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:c,children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(f.a,{children:[Object(re.jsx)(v.a,{children:"Hit Mode Options"}),Object(re.jsx)(v.a,{xs:"auto",children:Object(re.jsx)(H.b,{characterSheet:t,character:a,characterDispatch:o,disabled:i})})]})}),Object(re.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(re.jsx)(H.a,{hitMode:a.hitMode,characterDispatch:s,className:"w-100 mb-2",disabled:i}),Object(re.jsx)(H.c,{build:n,character:a,characterDispatch:l,className:"w-100 mb-2",disabled:i})]})]}):null}function fe(e){var t=e.statKeys,a=void 0===t?[]:t,c=e.statFilters,i=void 0===c?{}:c,r=e.setStatFilters,s=e.className,o=e.disabled,d=a.filter((function(e){return!Object.keys(i).some((function(t){return t===e}))})),u=function(e,t,a){return r(Object(j.a)(Object(j.a)({},i),{},Object(n.a)({},e,{min:t,max:a})))};return Object(re.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:s,children:[Object(re.jsx)(p.a.Header,{children:"Final Stat Filter"}),Object(re.jsx)(p.a.Body,{children:Object(re.jsxs)(f.a,{className:"mb-n2",children:[Object.entries(i).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],c=n.min,s=n.max;return Object(re.jsx)(v.a,{xs:12,children:Object(re.jsx)(xe,{statKey:a,statKeys:d,setFilter:u,disabled:o,min:c,max:s,close:function(){delete i[a],r(Object(j.a)({},i))}})},a)})),Object(re.jsx)(v.a,{xs:12,children:Object(re.jsx)(xe,{min:void 0,max:void 0,close:void 0,statKeys:d,setFilter:u,disabled:o})})]})})]})}function ve(e){var t=e.sheets,a=e.sheets.artifactSheets,n=e.index,c=e.characterKey,i=e.build,r=e.statsDisplayKeys,s=e.onClick,o=Object(b.useContext)(X.b)._getChar(c);if(!o)return null;var j=o.equippedArtifacts,d=$.h.every((function(e){var t;return j[e]===(null===(t=i.equippedArtifacts)||void 0===t?void 0:t[e])}));return Object(re.jsx)("div",{children:Object(re.jsxs)(w.a.Item,{variant:n%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:s,children:[Object(re.jsx)("h5",{className:"mb-2",children:Object(re.jsxs)(f.a,{children:[Object(re.jsx)(v.a,{xs:"auto",children:Object(re.jsx)(y.a,{variant:"info",children:Object(re.jsxs)("strong",{children:[n+1,d?" (Equipped)":""]})})}),Object(re.jsx)(v.a,{xs:"auto",children:Object.entries(i.setToSlots).sort((function(e,t){var a=Object(l.a)(e,2),n=(a[0],a[1]),c=Object(l.a)(t,2);c[0];return c[1].length-n.length})).map((function(e){var t,n=Object(l.a)(e,2),c=n[0],i=n[1];return Object(re.jsxs)(y.a,{variant:d?"success":"primary",className:"mr-2",children:[i.map((function(e){return Object(z.a)(e)}))," ",null!==(t=null===a||void 0===a?void 0:a[c].name)&&void 0!==t?t:""]},c)}))})]})}),Object(re.jsx)(P.a,{editable:!1,sheets:t,character:o,newBuild:i,statsDisplayKeys:r,cardbg:n%2?"lightcontent":"darkcontent"})]})})}function pe(e){var t,a,n,c,i=e.totBuildNumber,r=e.generatingBuilds,s=e.generationSkipped,l=e.generationProgress,o=e.generationDuration,j=e.characterName,d=e.maxBuildsToShow,u=null!==(t=null===i||void 0===i?void 0:i.toLocaleString())&&void 0!==t?t:i,b=i-s,h=null!==(a=null===l||void 0===l?void 0:l.toLocaleString())&&void 0!==a?a:l,O=null!==(n=null===s||void 0===s?void 0:s.toLocaleString())&&void 0!==n?n:s,x=null!==(c=null===b||void 0===b?void 0:b.toLocaleString())&&void 0!==c?c:b,m=Boolean(s)&&Object(re.jsxs)("span",{children:["(",Object(re.jsx)("b",{children:O})," skipped)"]});if(r){var f=100*l/b;return Object(re.jsxs)(K.a,{variant:"success",children:[Object(re.jsxs)("span",{children:["Generating and testing ",Object(re.jsxs)("b",{className:"text-monospace",children:[h,"/",x]})," build configurations against the criteria for ",Object(re.jsx)("b",{children:j}),". ",m]}),Object(re.jsx)("br",{}),Object(re.jsxs)("h6",{children:["Time elapsed: ",Object(re.jsx)("strong",{className:"text-monospace",children:Object(te.b)(o)})]}),Object(re.jsx)(M.a,{now:f,label:"".concat(f.toFixed(1),"%")})]})}return!r&&l?Object(re.jsxs)(K.a,{variant:"success",children:[Object(re.jsxs)("span",{children:["Generated and tested ",Object(re.jsx)("b",{className:"text-monospace",children:x})," Build configurations against the criteria for ",Object(re.jsx)("b",{children:j}),". ",m]}),Object(re.jsxs)("h6",{children:["Total duration: ",Object(re.jsx)("strong",{className:"text-monospace",children:Object(te.b)(o)})]}),Object(re.jsx)(M.a,{now:100,variant:"success",label:"100%"})]}):0===i?Object(re.jsx)(K.a,{variant:"warning",className:"mb-0",children:Object(re.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(re.jsx)("b",{children:j}),". Please change your Artifact configurations, or add/include more Artifacts."]})}):i>oe?Object(re.jsx)(K.a,{variant:"warning",className:"mb-0",children:Object(re.jsxs)("span",{children:["Current configuration will generate ",Object(re.jsx)("b",{children:u})," builds for ",Object(re.jsx)("b",{children:j}),". This might take quite a while to generate..."]})}):Object(re.jsx)(K.a,{variant:"success",className:"mb-0",children:Object(re.jsxs)("span",{children:["Current configuration ",i<=d?"generated":"will generate"," ",Object(re.jsx)("b",{children:u})," builds for ",Object(re.jsx)("b",{children:j}),"."]})})}var ge={0:Object(re.jsx)("span",{children:"No level assumption"}),4:Object(re.jsx)("span",{children:"Assume at least level 4"}),8:Object(re.jsx)("span",{children:"Assume at least level 8"}),12:Object(re.jsx)("span",{children:"Assume at least level 12"}),16:Object(re.jsx)("span",{children:"Assume at least level 16"}),20:Object(re.jsx)("span",{children:"Assume at least level 20"})};function ye(e){var t=e.mainStatAssumptionLevel,a=void 0===t?0:t,n=e.setmainStatAssumptionLevel,c=e.disabled;return Object(re.jsx)(N.a,{overlay:Object(re.jsx)(k.a,{id:"assume-level-tooltip",children:"Change Main Stat value to be at least a specific level. Does not change substats."}),children:Object(re.jsxs)(O.a,{children:[Object(re.jsx)(O.a.Toggle,{variant:a?"orange":"primary",disabled:c,children:ge[a]}),Object(re.jsx)(O.a.Menu,{children:Object.entries(ge).map((function(e){var t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(re.jsx)(O.a.Item,{onClick:function(){return n(parseInt(a))},children:c},a)}))})]})})}}}]);
//# sourceMappingURL=11.27a25815.chunk.js.map