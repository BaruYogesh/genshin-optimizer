(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[22],{109:function(e,a,t){"use strict";var c={elements:{anemo:t.p+"static/media/Element_Anemo.f809fde3.png",cryo:t.p+"static/media/Element_Cryo.019d72f9.png",dendro:t.p+"static/media/Element_Dendro.8ee0f26d.png",electro:t.p+"static/media/Element_Electro.342332ac.png",geo:t.p+"static/media/Element_Geo.b7e865c6.png",hydro:t.p+"static/media/Element_Hydro.f2f8bd8a.png",pyro:t.p+"static/media/Element_Pyro.f65c2e38.png"},weaponTypes:{bow:t.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:t.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:t.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:t.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:t.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:t.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:t.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:t.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:t.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:t.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};a.a=c},179:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var c=t(16),n=t(50),r=t(27),s=t(0),i=t(273),l=t(42),o=t(51),j=t(41),d=t(105),b=t(76),h=t(6),u=t(1);function m(e){var a,t,m=e.pageKey,O=void 0===m?"":m,x=e.text,p=void 0===x?"":x,f=e.modalTitle,g=void 0===f?"":f,y=e.children,v=Object(s.useState)(null===(a=null===(t=Object(h.m)("infoShown"))||void 0===t?void 0:t[O])||void 0===a||a),N=Object(c.a)(v,2),C=N[0],w=N[1],S=Object(s.useState)(Array.isArray(p)?Object(h.i)(p):p),k=Object(c.a)(S,1)[0],E=function(){var e,a=null!==(e=Object(h.m)("infoShown"))&&void 0!==e?e:{};a[O]=!1,Object(h.q)("infoShown",a),w(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.a,{show:C,onHide:function(){return E()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(u.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(u.jsx)(l.a.Header,{children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(j.a,{children:Object(u.jsx)(l.a.Title,{children:g})}),Object(u.jsx)(j.a,{xs:"auto",children:Object(u.jsx)(d.a,{variant:"danger",onClick:function(){return E()},children:Object(u.jsx)(r.a,{icon:n.B})})})]})}),Object(u.jsx)(l.a.Body,{children:Object(u.jsx)(s.Suspense,{fallback:Object(u.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(u.jsx)(b.a,{animation:"border",variant:"primary"})]}),children:y})}),Object(u.jsx)(l.a.Footer,{children:Object(u.jsx)(d.a,{variant:"danger",onClick:function(){return E()},children:Object(u.jsx)("span",{children:"Close"})})})]})}),Object(u.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(u.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(j.a,{children:Object(u.jsx)("small",{children:k})}),Object(u.jsx)(j.a,{xs:"auto",children:Object(u.jsx)(d.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return w(!0)},children:Object(u.jsx)(r.a,{icon:n.s})})})]})})})]})}},183:function(e,a,t){"use strict";t.d(a,"a",(function(){return w}));var c=t(40),n=t(16),r=t(50),s=t(27),i=t(0),l=t(149),o=t(133),j=t(105),d=t(42),b=t(41),h=t(51),u=t(20),m=t(104),O=t(109),x=t(116),p=t(118),f=t(97),g=t(113),y=t(101),v=t(17),N=t(135),C=t(1);function w(e){var a,t=e.characterKey,w=e.onEdit,S=e.onDelete,k=e.cardClassName,E=void 0===k?"":k,K=e.bg,W=void 0===K?"":K,_=e.header,T=e.footer,I=Object(N.a)();Object(i.useEffect)((function(){return Promise.all([y.a.getCharacterDataImport(),g.a.getWeaponDataImport(),m.a.getDataImport()]).then(I),t&&v.a.registerCharListener(t,I),function(){return t&&v.a.unregisterCharListener(t,I)}}),[t,I]);var B=v.a.get(t),D=Object(i.useMemo)((function(){return B&&y.a.calculateBuild(B)}),[B]);if(!B)return null;var L=B.weapon,F=void 0===L?{}:L,A=B.constellation,P=y.a.getName(t),z=y.a.getElementalKey(t),M=y.a.getWeaponTypeKey(t),R=g.a.getWeaponName(F.key),H=g.a.getWeaponMainStatValWithOverride(F),G=g.a.getWeaponSubStatKey(F.key),U=g.a.getWeaponSubStatValWithOverride(F),V=g.a.getLevelName(F.levelKey),Y=g.a.getWeaponPassiveName(F.key);return Object(C.jsxs)(d.a,{className:E,bg:W||"darkcontent",text:"lightfont",children:[Object(C.jsx)(d.a.Header,{className:"pr-2",children:Object(C.jsxs)(h.a,{className:"no-gutters",children:[Object(C.jsx)(b.a,{children:_||Object(C.jsx)("h5",{children:Object(C.jsx)("b",{children:P})})}),Object(C.jsx)(b.a,{xs:"auto",children:Object(C.jsxs)("span",{className:"float-right align-top ml-1",children:[w&&Object(C.jsx)(j.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return w(t)},children:Object(C.jsx)(s.a,{icon:r.h})}),S&&Object(C.jsx)(j.a,{variant:"danger",size:"sm",onClick:function(){return S(t)},children:Object(C.jsx)(s.a,{icon:r.E})})]})})]})}),Object(C.jsxs)(d.a.Body,{onClick:function(){return w(t)},className:w?"cursor-pointer":"",children:[Object(C.jsxs)(h.a,{children:[Object(C.jsx)(b.a,{xs:"auto",className:"pr-0",children:Object(C.jsx)(l.a,{src:y.a.getThumb(t),className:"thumb-big grad-".concat(y.a.getStar(t),"star p-0"),thumbnail:!0})}),Object(C.jsxs)(b.a,{children:[Object(C.jsxs)("h3",{className:"mb-0",children:[y.a.getLevelString(B)," ","C".concat(A)]}),Object(C.jsx)("h5",{className:"mb-0",children:Object(C.jsx)(x.a,{stars:y.a.getStar(t),colored:!0})}),Object(C.jsxs)("h2",{className:"mb-0",children:[Object(C.jsx)(l.a,{src:O.a.elements[z],className:"inline-icon"})," ",Object(C.jsx)(l.a,{src:null===(a=O.a.weaponTypes)||void 0===a?void 0:a[M],className:"inline-icon"})]})]})]}),Object(C.jsx)(h.a,{className:"mb-2",children:Object(C.jsxs)(b.a,{children:[Object(C.jsxs)("h6",{className:"mb-0",children:[R,Y&&"(".concat(F.refineIndex+1,")")," ",V]}),Object(C.jsxs)("span",{children:["ATK: ",H,"  ",Y&&Object(C.jsxs)("span",{children:[f.a.getStatName(G),": ",U,f.a.getStatUnit(G)]})]})]})}),Object(C.jsx)(h.a,{children:Object(C.jsx)(b.a,{children:Object.entries(m.a.getSetEffects(D.setToSlots)).map((function(e){var a=Object(n.a)(e,2),t=a[0],r=a[1],s=m.a.getSetName(t),i=Math.max.apply(Math,Object(c.a)(r));return Object(C.jsx)("h5",{children:Object(C.jsxs)(o.a,{variant:"secondary",children:[s," ",Object(C.jsx)(o.a,{variant:"success",children:i})]})},t)}))})}),Object(C.jsx)(h.a,{children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var a=f.a.getStatUnit(e),t=D[e];return Object(C.jsxs)(b.a,{xs:12,children:[Object(C.jsxs)("h6",{className:"d-inline",children:[Object(p.a)(e)," ",f.a.getStatName(e)]}),Object(C.jsx)("span",{className:"float-right",children:(null===t||void 0===t?void 0:t.toFixed(f.a.fixedUnit(e)))+a})]},e)}))})]}),T&&Object(C.jsx)(d.a.Footer,{children:Object(C.jsx)(j.a,{as:u.b,to:{pathname:"/build",characterKey:t},children:"Generate Builds"})})]})}},269:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return D}));var c=t(16),n=t(50),r=t(27),s=t(0),i=t.n(s),l=t(73),o=t(51),j=t(41),d=t(42),b=t(139),h=t(105),u=t(149),m=t(199),O=t(170),x=t(25),p=t(20),f=t(109),g=t(17),y=t(179),v=t(135),N=t(6),C=t(113),w=t(101),S=t(183),k=t(1),E=i.a.lazy((function(){return t.e(24).then(t.bind(null,264))})),K=Promise.all([t.e(0),t.e(1),t.e(2),t.e(17)]).then(t.bind(null,147)),W=Object(s.lazy)((function(){return K})),_={level:"Level",rarity:"Rarity",name:"Name"},T=function(e){return w.a.getLevel(g.a.get(e).levelKey)},I=function(e){return w.a.getStar(e)};function B(e,a){return a===e?"":a}function D(e){var a=Object(s.useState)(""),t=Object(c.a)(a,2),p=t[0],K=t[1],D=Object(s.useState)((function(){return Object.keys(_)[0]})),F=Object(c.a)(D,2),A=F[0],P=F[1],z=Object(s.useReducer)(B,""),M=Object(c.a)(z,2),R=M[0],H=M[1],G=Object(s.useReducer)(B,""),U=Object(c.a)(G,2),V=U[0],Y=U[1],q=Object(s.useState)(!1),J=Object(c.a)(q,2),Q=J[0],X=J[1],Z=Object(v.a)(),$=Object(s.useRef)(null);Object(s.useEffect)((function(){var e;x.a.pageview("/character");var a=Object(N.m)("CharacterDisplay.state");if(a){var t=a.charIdToEdit,c=a.sortBy,n=a.elementalFilter,r=a.weaponFilter;K(t),P(c),w.a.getElementalKeysWithoutPhysical().includes(n)&&H(n),C.a.getWeaponTypeKeys().includes(r)&&Y(r)}return null===(e=w.a.getCharacterDataImport())||void 0===e||e.then(Z),g.a.registerListener(Z),function(){return g.a.unregisterListener(Z)}}),[Z]),Object(s.useEffect)((function(){var e={charIdToEdit:p,sortBy:A,elementalFilter:R,weaponFilter:V};Object(N.q)("CharacterDisplay.state",e)}),[p,A,R,V]);var ee=Object(s.useCallback)((function(e){window.confirm("Are you sure you want to remove ".concat(w.a.getName(e),"?"))&&(w.a.remove(e),p===e&&K(""))}),[p,K]),ae=Object(s.useCallback)((function(e){K(e),setTimeout((function(){var e;null===(e=$.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[K,$]),te=Object(s.useCallback)((function(){K(""),X(!1)}),[K]),ce=g.a.getCharacterKeyList().filter((function(e){return(!R||R===w.a.getElementalKey(e))&&(!V||V===w.a.getWeaponTypeKey(e))})).sort((function(e,a){if("name"===A)return e<a?-1:e>a?1:0;if("level"===A){var t=T(a)-T(e);return t||I(a)-I(e)}var c=I(a)-I(e);return c||T(a)-T(e)})),ne=Boolean(p||Q);return Object(k.jsxs)(l.a,{ref:$,className:"mt-2",children:[Object(k.jsx)(y.a,{pageKey:"characterPage",modalTitle:"Character Management Page Guide",text:["Every character will be tested with in-game numbers for maximum accuracy.","You can see the details of the calculations of every number.","You need to manually enable auto infusion for characters like Choungyun or Noelle.",'You can change character constellations in both "Character" tab and in "Talents" tab.',"Modified character Stats show up in yellow."],children:Object(k.jsx)(E,{})}),ne?Object(k.jsx)(o.a,{className:"mt-2",children:Object(k.jsx)(j.a,{children:Object(k.jsx)(i.a.Suspense,{fallback:Object(k.jsx)("span",{children:"Loading..."}),children:Object(k.jsx)(W,{editable:!0,setCharacterKey:ae,characterKey:p,onClose:te,footer:Object(k.jsx)(L,{onClose:te,characterKey:p})})})})}):null,Object(k.jsx)(d.a,{bg:"darkcontent",text:"lightfont",className:"mt-2",children:Object(k.jsx)(d.a.Body,{className:"p-2",children:Object(k.jsxs)(o.a,{children:[Object(k.jsx)(j.a,{xs:"auto",children:Object(k.jsx)(b.a,{children:w.a.getElementalKeysWithoutPhysical().map((function(e){var a;return Object(k.jsx)(h.a,{variant:R&&R!==e?"primary":"success",className:"py-1 px-2",onClick:function(){return H(e)},children:Object(k.jsx)("h4",{className:"mb-0",children:Object(k.jsx)(u.a,{src:null===(a=f.a.elements)||void 0===a?void 0:a[e],className:"inline-icon"})})},e)}))})}),Object(k.jsx)(j.a,{children:Object(k.jsx)(b.a,{children:C.a.getWeaponTypeKeys().map((function(e){var a;return Object(k.jsx)(h.a,{variant:V&&V!==e?"primary":"success",className:"py-1 px-2",onClick:function(){return Y(e)},children:Object(k.jsx)("h4",{className:"mb-0",children:Object(k.jsx)(u.a,{src:null===(a=f.a.weaponTypes)||void 0===a?void 0:a[e],className:"inline-icon"})})},e)}))})}),Object(k.jsxs)(j.a,{xs:"auto",children:[Object(k.jsx)("span",{children:"Sort by: "}),Object(k.jsx)(m.a,{type:"radio",name:"level",value:A,onChange:P,children:Object.entries(_).map((function(e){var a=Object(c.a)(e,2),t=a[0],n=a[1];return Object(k.jsx)(O.a,{value:t,variant:A===t?"success":"primary",children:n},t)}))})]})]})})}),Object(k.jsxs)(o.a,{className:"mt-2",children:[!ne&&Object(k.jsx)(j.a,{lg:4,md:6,className:"mb-2",children:Object(k.jsxs)(d.a,{className:"h-100",bg:"darkcontent",text:"lightfont",children:[Object(k.jsx)(d.a.Header,{className:"pr-2",children:Object(k.jsx)("span",{children:"Add New Character"})}),Object(k.jsx)(d.a.Body,{className:"d-flex flex-column justify-content-center",children:Object(k.jsx)(o.a,{className:"d-flex flex-row justify-content-center",children:Object(k.jsx)(j.a,{xs:"auto",children:Object(k.jsx)(h.a,{onClick:function(){return X(!0)},children:Object(k.jsx)("h1",{children:Object(k.jsx)(r.a,{icon:n.r,className:"fa-fw"})})})})})})]})}),ce.map((function(e){return Object(k.jsx)(j.a,{lg:4,md:6,className:"mb-2",children:Object(k.jsx)(S.a,{cardClassName:"h-100",characterKey:e,onDelete:ee,onEdit:ae,footer:!0})},e)}))]})]})}function L(e){var a=e.onClose,t=e.characterKey;return Object(k.jsxs)(o.a,{children:[Object(k.jsx)(j.a,{children:Object(k.jsxs)(h.a,{variant:"info",as:p.b,to:{pathname:"/flex",characterKey:t},children:[Object(k.jsx)(r.a,{icon:n.n})," Share Character"]})}),Object(k.jsx)(j.a,{xs:"auto",children:Object(k.jsx)(h.a,{variant:"danger",onClick:a,children:"Close"})})]})}}}]);
//# sourceMappingURL=22.85e9335c.chunk.js.map