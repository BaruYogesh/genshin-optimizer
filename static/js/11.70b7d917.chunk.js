(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[11],{160:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(162),i=(a(76),a(166)),c=(a(16),a(168));function r(e,t){return function(e,t){for(var a=new Set(t.map((function(e){return e.key}))),c={},r=Object.keys(e),s=0,l=r;s<l.length;s++){var o,d=l[s],u={},j=Object(i.a)(e[d]);try{for(j.s();!(o=j.n()).done;){var b=o.value;a.has(b.setKey)?u[b.setKey]?u[b.setKey].push(b):u[b.setKey]=[b]:u.null?u.null.push(b):u.null=[b]}}catch(m){j.e(m)}finally{j.f()}c[d]=Object.freeze(u)}var v={},h={},O=[];return function e(a){if(a>=r.length){var s,l=Object(i.a)(t);try{for(l.s();!(s=l.n()).done;){var o,d=s.value,u=d.key,j=d.num;if((null!==(o=v[u])&&void 0!==o?o:0)<j)return}}catch(m){l.e(m)}finally{l.f()}O.push(Object(n.a)({},h))}else{var b=r[a],f=c[b];for(var x in f){var p;v[x]=(null!==(p=v[x])&&void 0!==p?p:0)+1,h[b]=f[x],e(a+1),v[x]-=1}}}(0),O}(e,t).reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){return e*t[1].length}),1)}),0)}function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t.hitMode,i=void 0===n?"":n,r=t.infusionAura,s=void 0===r?"":r,l=t.infusionSelf,o=void 0===l?"":l,d=t.reactionMode,u=void 0===d?null:d,j=t.characterEle,b=void 0===j?"anemo":j,v=t.weaponType,h=void 0===v?"sword":v;if(Object.keys(c.a).includes(e))return"".concat(e,"_elemental_").concat(i);if(a||"catalyst"!==h||(a=b),"elemental"===e||"burst"===e||"skill"===e||a)return u&&u.startsWith(b)?"".concat(u,"_").concat(e,"_").concat(i):"".concat(a||b,"_").concat(e,"_").concat(i);var O="physical";return o?O=o:s&&(O=s),u&&u.startsWith(O)?"".concat(u,"_").concat(e,"_").concat(i):"".concat(O,"_").concat(e,"_").concat(i)}function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Object.keys(c.a).includes(e))return e;var n=t.infusionAura,i=void 0===n?"":n,r=t.infusionSelf,s=void 0===r?"":r,l=t.reactionMode,o=void 0===l?null:l,d=t.characterEle,u=void 0===d?"anemo":d,j=t.weaponType,b=void 0===j?"sword":j;if(a||"catalyst"!==b||(a=u),"elemental"===e||"burst"===e||"skill"===e||a){if(o&&o.startsWith(u)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return a||u}var v="physical";if(s?v=s:i&&(v=i),o&&o.startsWith(v)){if(["pyro_vaporize","hydro_vaporize"].includes(o))return"vaporize";if(["pyro_melt","cryo_melt"].includes(o))return"melt"}return v}},169:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(162),i=a(101),c=a(167),r=a(76),s=a(166),l=a(16),o=a(60),d=a(61),u=a(180),j=a(165),b=a(188),v=a(187),h=a(168),O=a(29),m=a(26),f=a(173),x=a(184),p=a(90),g=a(9),y=a(174),S=function(){function e(){if(Object(o.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(d.a)(e,null,[{key:"remove",value:function(e){var t=m.a.get(e);t&&(Object.values(t.equippedArtifacts).forEach((function(e){return O.a.moveToNewLocation(e,"")})),m.a.remove(e))}}]),e}();S.getElementalName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===h.a||void 0===h.a||null===(t=h.a[e])||void 0===t?void 0:t.name)||a},S.getlevelKeys=function(){return Object.keys(v.b)},S.getlevelTemplateName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===v.b||void 0===v.b||null===(t=v.b[e])||void 0===t?void 0:t.name)||a},S.getLevelString=function(e,t,a){var n=S.getStatValueWithOverride(e,t,a,"characterLevel");return S.getLevel(e.levelKey)===n?S.getlevelTemplateName(e.levelKey):"Lvl. ".concat(n)},S.getIndexFromlevelkey=function(e){return S.getlevelKeys().indexOf(e)},S.getLevel=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(null===v.b||void 0===v.b||null===(t=v.b[e])||void 0===t?void 0:t.level)||a},S.getAscension=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===v.b||void 0===v.b||null===(t=v.b[e])||void 0===t?void 0:t.asend)||a},S.getTalentFieldValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(null===e||void 0===e?void 0:e[t])?Object(g.h)(null===e||void 0===e?void 0:e[t],a):n},S.hasOverride=function(e,t){return"finalHP"===t?S.hasOverride(e,"hp")||S.hasOverride(e,"hp_")||S.hasOverride(e,"characterHP")||!1:"finalDEF"===t?S.hasOverride(e,"def")||S.hasOverride(e,"def_")||S.hasOverride(e,"characterDEF")||!1:"finalATK"===t?S.hasOverride(e,"atk")||S.hasOverride(e,"atk_")||S.hasOverride(e,"characterATK")||!1:!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},S.getBaseStatValue=function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=e.levelKey;return"specializedStatKey"===n?t.specializeStat.key:"specializedStatVal"===n?t.specializeStat.value[S.getIndexFromlevelkey(c)]:"weaponATK"===n?y.a.getWeaponMainStatValWithOverride(null===e||void 0===e?void 0:e.weapon,a):"characterLevel"===n||"enemyLevel"===n?S.getLevel(c):n.includes("enemyRes_")?10:n in v.c?v.c[n]:n in t.baseStat?t.baseStat[n][S.getIndexFromlevelkey(c)]:i},S.getStatValueWithOverride=function(e,t,a,n){var i,c,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return S.hasOverride(e,n)?null!==(i=null===e||void 0===e||null===(c=e.baseStatOverrides)||void 0===c?void 0:c[n])&&void 0!==i?i:r:S.getBaseStatValue(e,t,a,n,r)},S.equipArtifacts=function(e,t){var a=m.a.get(e);if(a){var n=a.equippedArtifacts;p.h.forEach((function(a){var i,c,r=O.a.get(t[a]);if((null===r||void 0===r?void 0:r.location)!==e){var s=O.a.get(null===n||void 0===n?void 0:n[a]),l=null!==(i=null===r||void 0===r?void 0:r.location)&&void 0!==i?i:"";s&&O.a.moveToNewLocation(s.id,l),l&&m.a.equipArtifactOnSlot(l,a,null!==(c=null===s||void 0===s?void 0:s.id)&&void 0!==c?c:""),r&&O.a.moveToNewLocation(r.id,e)}})),m.a.equipArtifactBuild(e,t)}},S.calculateBuild=function(e,t,a,n){var i,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.artifacts)i=Object.fromEntries(e.artifacts.map((function(e,t){return[t,e]})));else{if(!e.equippedArtifacts)return{};i=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,O.a.get(n)]})))}var r=S.createInitialStats(e,t,a);return r.mainStatAssumptionLevel=c,S.calculateBuildwithArtifact(r,i,n)},S.calculateBuildwithArtifact=function(e,t,a){var n,i=u.a.setToSlots(t),c=j.a.setEffectsStats(a,e,i),r=Object(g.f)(e);Object.values(t).forEach((function(e){e&&(r[e.mainStatKey]=(r[e.mainStatKey]||0)+u.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(r.mainStatAssumptionLevel,4*e.numStars),e.level)),e.substats.forEach((function(e){return e&&e.key&&(r[e.key]=(r[e.key]||0)+e.value)})))})),c.forEach((function(e){return r[e.key]=(r[e.key]||0)+e.value})),b.a.parseConditionalValues({artifact:null===r||void 0===r||null===(n=r.conditionalValues)||void 0===n?void 0:n.artifact},(function(e,t,a){var n,c,s=Object(l.a)(a,2)[1],o=e.setNumKey;if(!(parseInt(o)>(null!==(n=null===i||void 0===i||null===(c=i[s])||void 0===c?void 0:c.length)&&void 0!==n?n:0))){var d=b.a.resolve(e,r,t).stats;Object.entries(d).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return r[a]=(r[a]||0)+n}))}})),r.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),r.setToSlots=i;var s=Object(x.a)(null===r||void 0===r?void 0:r.modifiers);return Object(f.c)(s,r).formula(r),r},S.mergeStats=function(e,t){return t&&Object.entries(t).forEach((function(t){var a=Object(l.a)(t,2),n=a[0],i=a[1];if("modifiers"===n){var c;e.modifiers=null!==(c=e.modifiers)&&void 0!==c?c:{};var r,o=Object(s.a)(Object.entries(i));try{for(o.s();!(r=o.n()).done;){var d,u=Object(l.a)(r.value,2),j=u[0],b=u[1];e.modifiers[j]=null!==(d=e.modifiers[j])&&void 0!==d?d:{};var v,h=Object(s.a)(Object.entries(b));try{for(h.s();!(v=h.n()).done;){var O,m=Object(l.a)(v.value,2),f=m[0],x=m[1];e.modifiers[j][f]=(null!==(O=e.modifiers[j][f])&&void 0!==O?O:0)+x}}catch(p){h.e(p)}finally{h.f()}}}catch(p){o.e(p)}finally{o.f()}}else void 0===e[n]?e[n]=i:"number"===typeof e[n]&&(e[n]+=i)}))},S.createInitialStats=function(e,t,a){var s,o,d=e=Object(g.f)(e),u=d.characterKey,j=d.levelKey,h=d.hitMode,O=d.infusionAura,m=d.reactionMode,f=d.talentLevelKeys,x=d.constellation,L=d.equippedArtifacts,k=d.conditionalValues,N=void 0===k?{}:k,w=d.weapon,A=void 0===w?{key:""}:w,C=S.getAscension(j),K=["characterHP","characterATK","characterDEF","weaponATK","characterLevel","enemyLevel","physical_enemyRes_","physical_enemyImmunity"].concat(Object(r.a)(Object.keys(v.c))),E=Object.fromEntries(K.map((function(n){return[n,S.getStatValueWithOverride(e,t,a,n)]})));E.characterEle=t.elementKey,E.characterKey=u,E.hitMode=h,E.infusionAura=O,E.reactionMode=m,E.conditionalValues=N,E.weaponType=t.weaponTypeKey,E.tlvl=f,E.constellation=x,E.ascension=C,E.weapon=A,E.equippedArtifacts=L,["physical"].concat(Object(r.a)(p.d)).forEach((function(n){var i="".concat(n,"_enemyRes_");E[i]=S.getStatValueWithOverride(e,t,a,i),i="".concat(n,"_enemyImmunity"),E[i]=S.getStatValueWithOverride(e,t,a,i)}));var _=(null===(s=e)||void 0===s?void 0:s.baseStatOverrides)||{};Object.entries(_).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];"specializedStatKey"!==a&&"specializedStatVal"!==a&&(E.hasOwnProperty(a)||(E[a]=n))}));var B=S.getStatValueWithOverride(e,t,a,"specializedStatVal"),M=S.getStatValueWithOverride(e,t,a,"specializedStatKey");for(var T in S.mergeStats(E,Object(c.a)({},M,B)),t.getTalentStatsAll(E).forEach((function(e){return S.mergeStats(E,e)})),E.tlvl){var F;E.tlvl[T]+=null!==(F=E["".concat(T,"Boost")])&&void 0!==F?F:0}var W=y.a.getWeaponSubstatKey(a);W&&S.mergeStats(E,Object(c.a)({},W,y.a.getWeaponSubstatValWithOverride(null===(o=e)||void 0===o?void 0:o.weapon,a))),S.mergeStats(E,a.stats(E));N.artifact;var I=N.weapon,V=Object(i.a)(N,["artifact","weapon"]);return b.a.parseConditionalValues(Object(n.a)(Object(n.a)({},A.key&&{weapon:Object(c.a)({},A.key,null===I||void 0===I?void 0:I[A.key])}),V),(function(e,t,a){if(b.a.canShow(e,E)){var n=b.a.resolve(e,E,t).stats;S.mergeStats(E,n)}})),E}},174:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(60),i=a(183),c=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};c.getLevelName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.a[e]||t},c.getLevelIndex=function(e){return i.b.indexOf(e)},c.getWeaponMainStatVal=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.baseStats.main[c.getLevelIndex(t)]||a},c.getWeaponSubstatVal=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(a=e.baseStats.sub)||void 0===a?void 0:a[c.getLevelIndex(t)])||n},c.getWeaponSubstatKey=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=e.baseStats)||void 0===t?void 0:t.substatKey)||a},c.getWeaponTypeName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.c[e]||t},c.getWeaponTypeKeys=function(){return Object.keys(i.c)},c.getWeaponMainStatValWithOverride=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.overrideMainVal)||c.getWeaponMainStatVal(t,null===e||void 0===e?void 0:e.levelKey,a)},c.getWeaponSubstatValWithOverride=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.overrideSubVal)||c.getWeaponSubstatVal(t,null===e||void 0===e?void 0:e.levelKey,a)}},175:function(e,t,a){"use strict";var n={elements:{anemo:a.p+"static/media/Element_Anemo.f809fde3.png",cryo:a.p+"static/media/Element_Cryo.019d72f9.png",dendro:a.p+"static/media/Element_Dendro.8ee0f26d.png",electro:a.p+"static/media/Element_Electro.342332ac.png",geo:a.p+"static/media/Element_Geo.b7e865c6.png",hydro:a.p+"static/media/Element_Hydro.f2f8bd8a.png",pyro:a.p+"static/media/Element_Pyro.f65c2e38.png"},weaponTypes:{bow:a.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:a.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:a.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:a.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:a.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:a.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:a.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:a.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:a.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:a.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=n},183:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return c}));var n=["L1","L5","L10","L15","L20","L20A","L25","L30","L35","L40","L40A","L45","L50","L50A","L55","L60","L60A","L65","L70","L70A","L75","L80","L80A","L85","L90"],i={L1:"Lvl. 1",L5:"Lvl. 5",L10:"Lvl. 10",L15:"Lvl. 15",L20:"Lvl. 20",L20A:"Lvl. 20/40",L25:"Lvl. 25",L30:"Lvl. 30",L35:"Lvl. 35",L40:"Lvl. 40",L40A:"Lvl. 40/50",L45:"Lvl. 45",L50:"Lvl. 50",L50A:"Lvl. 50/60",L55:"Lvl. 55",L60:"Lvl. 60",L60A:"Lvl. 60/70",L65:"Lvl. 65",L70:"Lvl. 70",L70A:"Lvl. 70/80",L75:"Lvl. 75",L80:"Lvl. 80",L80A:"Lvl. 80/90",L85:"Lvl. 85",L90:"Lvl. 90"},c={sword:"Sword",claymore:"Claymore",catalyst:"Catalyst",bow:"Bow",polearm:"Polearm"}},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(16);var n=a(76),i=a(173);function c(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a)}}),new Proxy({},{get:function(e,a,n){t.add(a)}})),Object(n.a)(t)}var r=Object.freeze(Object.fromEntries(Object.keys(i.b).map((function(e){return[e,c(i.b[e])]}))));function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(i.d),a=new Set;return t.forEach((function(t){return l(t,e,a)})),Object(n.a)(a)}function l(e,t,a){var n,i;a.has(e)||(null===(n=r[e])||void 0===n||n.forEach((function(e){return l(e,t,a)})),Object.keys(null!==(i=t[e])&&void 0!==i?i:{}).forEach((function(e){return l(e,t,a)})),a.add(e))}},187:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c}));var n={L1:{name:"Lv. 1",level:1,asend:0},L20:{name:"Lv. 20",level:20,asend:0},L20A:{name:"Lv. 20/40",level:20,asend:1},L40:{name:"Lv. 40",level:40,asend:1},L40A:{name:"Lv. 40/50",level:40,asend:2},L50:{name:"Lv. 50",level:50,asend:2},L50A:{name:"Lv. 50/60",level:50,asend:3},L60:{name:"Lv. 60",level:60,asend:3},L60A:{name:"Lv. 60/70",level:60,asend:4},L70:{name:"Lv. 70",level:70,asend:4},L70A:{name:"Lv. 70/80",level:70,asend:5},L80:{name:"Lv. 80",level:80,asend:5},L80A:{name:"Lv. 80/90",level:80,asend:6},L90:{name:"Lv. 90",level:90,asend:6}},i={critRate_:5,critDMG_:50,enerRech_:100,stamina:100},c=["hp_","atk_","def_","eleMas","enerRech_","heal_","critRate_","critDMG_","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_"]},194:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(16),i=a(89),c=a(51),r=a(0),s=a(305),l=a(19),o=a(45),d=a(21),u=a(44),j=a(159),b=a(9),v=a(1);function h(e){var t,a,h=e.pageKey,O=void 0===h?"":h,m=e.text,f=void 0===m?"":m,x=e.modalTitle,p=void 0===x?"":x,g=e.children,y=Object(r.useState)(null===(t=null===(a=Object(b.n)("infoShown"))||void 0===a?void 0:a[O])||void 0===t||t),S=Object(n.a)(y,2),L=S[0],k=S[1],N=Object(r.useState)(Array.isArray(f)?Object(b.j)(f):f),w=Object(n.a)(N,1)[0],A=function(){var e,t=null!==(e=Object(b.n)("infoShown"))&&void 0!==e?e:{};t[O]=!1,Object(b.r)("infoShown",t),k(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a,{show:L,onHide:function(){return A()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(v.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(v.jsx)(l.a.Header,{children:Object(v.jsxs)(o.a,{children:[Object(v.jsx)(d.a,{children:Object(v.jsx)(l.a.Title,{children:p})}),Object(v.jsx)(d.a,{xs:"auto",children:Object(v.jsx)(u.a,{variant:"danger",onClick:function(){return A()},children:Object(v.jsx)(c.a,{icon:i.B})})})]})}),Object(v.jsx)(l.a.Body,{children:Object(v.jsx)(r.Suspense,{fallback:Object(v.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(v.jsx)(j.a,{animation:"border",variant:"primary"})]}),children:g})}),Object(v.jsx)(l.a.Footer,{children:Object(v.jsx)(u.a,{variant:"danger",onClick:function(){return A()},children:Object(v.jsx)("span",{children:"Close"})})})]})}),Object(v.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(v.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(v.jsxs)(o.a,{children:[Object(v.jsx)(d.a,{children:Object(v.jsx)("small",{children:w})}),Object(v.jsx)(d.a,{xs:"auto",children:Object(v.jsx)(u.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return k(!0)},children:Object(v.jsx)(c.a,{icon:i.s})})})]})})})]})}},212:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(76),i=a(16),c=a(89),r=a(51),s=a(0),l=a(190),o=a(127),d=a(44),u=a(19),j=a(21),b=a(45),v=a(36),h=a(165),O=a(175),m=a(181),f=a(195),x=a(26),p=a(161),g=a(91),y=a(174),S=a(192),L=a(169),k=a(172),N=a(1);function w(e){var t,a=e.characterKey,w=e.onEdit,A=e.onDelete,C=e.cardClassName,K=void 0===C?"":C,E=e.bg,_=void 0===E?"":E,B=e.header,M=e.footer,T=void 0!==M&&M,F=Object(g.a)(),W=Object(i.a)(F,2)[1];Object(s.useEffect)((function(){return a&&x.a.registerCharListener(a,W),function(){a&&x.a.unregisterCharListener(a,W)}}),[a,W]);var I=Object(g.b)(h.a.getAll()),V=x.a.get(a),D=Object(g.b)(k.b.get(a)),z=Object(g.b)(V&&S.a.get(V.weapon.key)),P=Object(s.useMemo)((function(){return V&&D&&z&&I&&L.a.calculateBuild(V,D,z,I)}),[V,D,z,I]);if(!V||!D||!z||!P)return null;var H=V.weapon,R=V.constellation,q=D.name,G=D.elementKey,U=D.weaponTypeKey,J=null===z||void 0===z?void 0:z.name,Y=y.a.getWeaponMainStatValWithOverride(H,z),X=y.a.getWeaponSubstatKey(z),Q=y.a.getWeaponSubstatValWithOverride(H,z),Z=y.a.getLevelName(H.levelKey),$=null===z||void 0===z?void 0:z.passiveName;return Object(N.jsxs)(u.a,{className:K,bg:_||"darkcontent",text:"lightfont",children:[Object(N.jsx)(u.a.Header,{className:"pr-2",children:Object(N.jsxs)(b.a,{className:"no-gutters",children:[Object(N.jsx)(j.a,{children:B||Object(N.jsx)("h5",{children:Object(N.jsx)("b",{children:q})})}),Object(N.jsx)(j.a,{xs:"auto",children:Object(N.jsxs)("span",{className:"float-right align-top ml-1",children:[w&&Object(N.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return w(a)},children:Object(N.jsx)(r.a,{icon:c.h})}),A&&Object(N.jsx)(d.a,{variant:"danger",size:"sm",onClick:function(){return A(a)},children:Object(N.jsx)(r.a,{icon:c.E})})]})})]})}),Object(N.jsxs)(u.a.Body,{onClick:function(){return null===w||void 0===w?void 0:w(a)},className:w?"cursor-pointer":"",children:[Object(N.jsxs)(b.a,{children:[Object(N.jsx)(j.a,{xs:"auto",className:"pr-0",children:Object(N.jsx)(l.a,{src:D.thumbImg,className:"thumb-big grad-".concat(D.star,"star p-0"),thumbnail:!0})}),Object(N.jsxs)(j.a,{children:[Object(N.jsxs)("h3",{className:"mb-0",children:[L.a.getLevelString(V,D,z)," ","C".concat(R)]}),Object(N.jsx)("h5",{className:"mb-0",children:Object(N.jsx)(m.a,{stars:D.star,colored:!0})}),Object(N.jsxs)("h2",{className:"mb-0",children:[Object(N.jsx)(l.a,{src:O.a.elements[G],className:"inline-icon"})," ",Object(N.jsx)(l.a,{src:null===(t=O.a.weaponTypes)||void 0===t?void 0:t[U],className:"inline-icon"})]})]})]}),Object(N.jsx)(b.a,{className:"mb-2",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)("h6",{className:"mb-0",children:[J,$&&"(".concat(H.refineIndex+1,")")," ",Z]}),Object(N.jsxs)("span",{children:["ATK: ",Y,"  ",$&&Object(N.jsxs)("span",{children:[p.a.getStatName(X),": ",Q,p.a.getStatUnit(X)]})]})]})}),Object(N.jsx)(b.a,{children:Object(N.jsx)(j.a,{children:I&&Object.entries(h.a.setEffects(I,P.setToSlots)).map((function(e){var t,a=Object(i.a)(e,2),c=a[0],r=a[1],s=null!==(t=null===I||void 0===I?void 0:I[c].name)&&void 0!==t?t:"",l=Math.max.apply(Math,Object(n.a)(r));return Object(N.jsx)("h5",{children:Object(N.jsxs)(o.a,{variant:"secondary",children:[s," ",Object(N.jsx)(o.a,{variant:"success",children:l})]})},c)}))})}),Object(N.jsx)(b.a,{children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var t=p.a.getStatUnit(e),a=P[e];return Object(N.jsxs)(j.a,{xs:12,children:[Object(N.jsxs)("h6",{className:"d-inline",children:[Object(f.a)(e)," ",p.a.getStatName(e)]}),Object(N.jsx)("span",{className:"float-right",children:(null===a||void 0===a?void 0:a.toFixed(p.a.fixedUnit(e)))+t})]},e)}))})]}),T&&Object(N.jsx)(u.a.Footer,{children:Object(N.jsx)(d.a,{as:v.b,to:{pathname:"/build",characterKey:a},children:"Generate Builds"})})]})}},214:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r}));var n=a(9);function i(e){var t=e%1e3,a=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:n,seconds:a,milliseconds:t}}function c(e){var t=i(e),a=t.hours,c=t.minutes,r=t.seconds,s="Minutes";return a&&(s="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.s)(c,"0",2),":").concat(Object(n.s)(r,"0",2)," ").concat(s)}function r(e){var t=i(e),a=t.hours,c=t.minutes,r=t.seconds,s=t.milliseconds,l="Minutes";return a&&(l="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.s)(c,"0",2),":").concat(Object(n.s)(r,"0",2),".").concat(Object(n.s)(s,"0",3)," ").concat(l)}},296:function(e,t,a){"use strict";var n=a(2),i=a(4),c=a(5),r=a.n(c),s=a(0),l=a.n(s),o=a(7),d=a(189);function u(e,t,a){var n=(e-t)/(a-t)*100;return Math.round(1e3*n)/1e3}function j(e,t){var a,c=e.min,s=e.now,o=e.max,d=e.label,j=e.srOnly,b=e.striped,v=e.animated,h=e.className,O=e.style,m=e.variant,f=e.bsPrefix,x=Object(i.a)(e,["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"]);return l.a.createElement("div",Object(n.a)({ref:t},x,{role:"progressbar",className:r()(h,f+"-bar",(a={},a["bg-"+m]=m,a[f+"-bar-animated"]=v,a[f+"-bar-striped"]=v||b,a)),style:Object(n.a)({width:u(s,c,o)+"%"},O),"aria-valuenow":s,"aria-valuemin":c,"aria-valuemax":o}),j?l.a.createElement("span",{className:"sr-only"},d):d)}var b=l.a.forwardRef((function(e,t){var a=e.isChild,c=Object(i.a)(e,["isChild"]);if(c.bsPrefix=Object(o.a)(c.bsPrefix,"progress"),a)return j(c,t);var u=c.min,b=c.now,v=c.max,h=c.label,O=c.srOnly,m=c.striped,f=c.animated,x=c.bsPrefix,p=c.variant,g=c.className,y=c.children,S=Object(i.a)(c,["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"]);return l.a.createElement("div",Object(n.a)({ref:t},S,{className:r()(g,x)}),y?Object(d.a)(y,(function(e){return Object(s.cloneElement)(e,{isChild:!0})})):j({min:u,now:b,max:v,label:h,srOnly:O,striped:m,animated:f,bsPrefix:x,variant:p},t))}));b.displayName="ProgressBar",b.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},t.a=b},314:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ce}));var n=a(167),i=a(16),c=a(76),r=a(162),s=a(89),l=a(51),o=a(0),d=a.n(o),u=a(63),j=a(224),b=a(147),v=a(45),h=a(21),O=a(19),m=a(44),f=a(127),x=a(186),p=a(176),g=a(171),y=a(315),S=a(305),L=a(190),k=a(211),N=a(153),w=a(296),A=a(35);function C(){return new Worker(a.p+"static/js/BuildWorker.6887f45e.worker.js")}var K=a(180),E=a(165),_=a(226),B=a(169),M=a(212),T=a(230),F=a(227),W=a(172),I=a(193),V=a(185),D=a(181),z=a(29),P=a(26),H=a(200),R=a(194),q=a(161),G=a(90),U=a(91),J=a(214),Y=a(9),X=a(192),Q=a(160),Z=a(1),$=d.a.lazy((function(){return a.e(20).then(a.bind(null,313))})),ee=Object(o.lazy)((function(){return Promise.resolve().then(a.bind(null,206))})),te=1e7,ae=[50,25,10,5],ne=["sands","goblet","circlet"];function ie(e,t){switch(t.type){case"mainStatKey":var a=t.index,n=t.mainStatKey;return e.mainStatKeys[a]=n,Object(r.a)(Object(r.a)({},e),{},{mainStatKeys:Object(c.a)(e.mainStatKeys)});case"setFilter":var i=t.index,s=t.key,l=t.num,o=void 0===l?0:l;return e.setFilters[i]={key:s,num:o},Object(r.a)(Object(r.a)({},e),{},{setFilters:Object(c.a)(e.setFilters)})}return Object(r.a)(Object(r.a)({},e),t)}function ce(e){var t,a=e.location.characterKey,n=Object(o.useState)(""),c=Object(i.a)(n,2),d=c[0],S=c[1],L=Object(o.useReducer)(ie,{setFilters:[{key:"",num:0},{key:"",num:0},{key:"",num:0}],statFilters:{},mainStatKeys:["","",""],optimizationTarget:"finalATK",mainStatAssumptionLevel:0,useLockedArts:!1,useEquippedArts:!1,ascending:!1}),k=Object(i.a)(L,2),N=k[0],w=k[1],T=N.setFilters,F=N.statFilters,V=N.mainStatKeys,D=N.optimizationTarget,J=N.mainStatAssumptionLevel,ee=N.useLockedArts,ce=N.useEquippedArts,oe=N.ascending,ve=Object(o.useState)([]),Oe=Object(i.a)(ve,2),me=Oe[0],fe=Oe[1],xe=Object(o.useState)(25),pe=Object(i.a)(xe,2),ge=pe[0],ye=pe[1],Se=Object(o.useState)(null),Le=Object(i.a)(Se,2),ke=Le[0],Ne=Le[1],we=Object(o.useState)(!1),Ae=Object(i.a)(we,2),Ce=Ae[0],Ke=Ae[1],Ee=Object(o.useState)(!1),_e=Object(i.a)(Ee,2),Be=_e[0],Me=_e[1],Te=Object(o.useState)(!1),Fe=Object(i.a)(Te,2),We=Fe[0],Ie=Fe[1],Ve=Object(o.useState)(0),De=Object(i.a)(Ve,2),ze=De[0],Pe=De[1],He=Object(o.useState)(0),Re=Object(i.a)(He,2),qe=Re[0],Ge=Re[1],Ue=Object(o.useState)(0),Je=Object(i.a)(Ue,2),Ye=Je[0],Xe=Je[1],Qe=Object(U.a)(),Ze=Object(i.a)(Qe,2),$e=Ze[0],et=Ze[1],tt=Object(U.b)(E.a.getAll()),at=Object(U.a)(),nt=Object(i.a)(at,2),it=nt[0],ct=nt[1],rt=Object(o.useRef)(!1),st=Object(o.useRef)(null);Object(o.useEffect)((function(){return A.a.pageview("/build")}),[]),Object(o.useEffect)((function(){return P.a.registerCharListener(d,et),function(){d&&P.a.unregisterCharListener(d,et)}}),[d,et]),Object(o.useEffect)((function(){return z.a.registerListener(ct),function(){z.a.unregisterListener(ct)}}),[ct]),Object(o.useEffect)((function(){return function(){var e;return null===(e=st.current)||void 0===e?void 0:e.terminate()}}),[]);var lt=Object(o.useCallback)((function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(d!==a)return S(a),P.a.registerCharListener(a,et),w(Object(r.a)(Object(r.a)({},{setFilters:[{key:"",num:0},{key:"",num:0},{key:"",num:0}],statFilters:{},mainStatKeys:["","",""],optimizationTarget:"finalATK",mainStatAssumptionLevel:0,useLockedArts:!1,useEquippedArts:!1,ascending:!1}),null!==(e=null===(t=P.a.get(a))||void 0===t?void 0:t.buildSettings)&&void 0!==e?e:{})),fe([]),function(){return P.a.unregisterCharListener(a,et)}}),[et,S,w,d]);Object(o.useEffect)((function(){var e;if("BuildsDisplay.state"in localStorage){var t=null!==(e=Object(Y.n)("BuildsDisplay.state"))&&void 0!==e?e:{},a=t.characterKey,n=void 0===a?"":a,i=t.maxBuildsToShow,c=void 0===i?25:i;n&&P.a.get(n)&&lt(n),ye(c)}}),[]),Object(o.useEffect)((function(){return a&&lt(a)}),[a,lt]);var ot=Object(o.useMemo)((function(){return $e&&P.a.get(d)}),[d,$e]),dt=Object(U.b)(W.b.get(d)),ut=Object(U.b)(ot&&X.a.get(ot.weapon.key)),jt=Object(o.useMemo)((function(){return $e&&ot&&dt&&ut&&B.a.createInitialStats(ot,dt,ut)}),[ot,$e,dt,ut]),bt=Object(o.useMemo)((function(){return $e&&dt&&dt.getDisplayStatKeys(jt)}),[jt,$e,dt]);Object(o.useEffect)((function(){ot&&(ot.buildSettings=N,P.a.update(ot))}),[N]),Object(o.useEffect)((function(){rt.current?Object(Y.r)("BuildsDisplay.state",{characterKey:d,maxBuildsToShow:ge}):rt.current=!0}),[d,ge]);var vt=Object(o.useMemo)((function(){if(!d)return{split:Object.fromEntries(G.h.map((function(e){return[e,[]]}))),totBuildNumber:0};var e=Object(Y.f)(z.a.getArtifactDatabase());Object.entries(e).forEach((function(t){var a=Object(i.a)(t,2),n=a[0],c=a[1];c.location!==d&&(c.lock&&!ee||c.location&&!ce)&&delete e[n]}));var t=K.a.splitArtifactsBySlot(e);ne.forEach((function(e,a){var n;return V[a]&&(t[e]=null===(n=t[e])||void 0===n?void 0:n.filter((function(e){return e.mainStatKey===V[a]})))}));var a=Object(Q.a)(t,T);return it&&{split:t,totBuildNumber:a}}),[d,ee,ce,V,T,it]),ht=vt.split,Ot=vt.totBuildNumber,mt=Object(o.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(jt&&tt){"boolean"!==typeof t&&(t=!1),fe([]),Ie(!0),Ge(0),Pe(0),Xe(0),jt.mainStatAssumptionLevel=J;var a=K.a.setEffectsObjs(tt,jt),n=Object(Y.f)(ht);Object.values(n).forEach((function(e){e.forEach((function(e){var t;e.mainStatVal=null!==(t=K.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(J,4*e.numStars),e.level)))&&void 0!==t?t:0}))}));var c=Object.fromEntries(Object.entries(F).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1].min]})).filter((function(e){return"number"===typeof Object(i.a)(e,2)[1]}))),r=Object.fromEntries(Object.entries(F).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1].max]})).filter((function(e){return"number"===typeof Object(i.a)(e,2)[1]}))),s={splitArtifacts:n,initialStats:jt,artifactSetEffects:a,setFilters:T,minFilters:c,maxFilters:r,maxBuildsToShow:ge,optimizationTarget:D,ascending:oe,turbo:t};null===(e=st.current)||void 0===e||e.terminate(),st.current=new C,st.current.onmessage=function(e){var t;if("number"===typeof e.data.progress){var a=e.data,n=a.progress,i=a.timing,c=void 0===i?0:i,r=a.skipped,s=void 0===r?0:r;return Pe(n),Ge(c),void Xe(s)}A.a.timing({category:"Build Generation",variable:"timing",value:e.data.timing,label:Ot.toString()});var l=e.data.builds.map((function(e){return B.a.calculateBuildwithArtifact(jt,e.artifacts,tt)}));fe(l),Ie(!1),null===(t=st.current)||void 0===t||t.terminate(),st.current=null},st.current.postMessage(s)}}),[tt,ht,Ot,J,oe,jt,ge,D,T,F]);Object(o.useEffect)((function(){Ot&&Ot<=100?mt():fe([])}),[d,ht,Ot,N,mt]);var ft=Object(o.useCallback)((function(e,t){return tt&&E.a.setsWithMaxRarity(tt,e).map((function(e){var a,n,c=Object(i.a)(e,2),r=c[0],s=c[1];if(T.some((function(e){return e.key===r})))return!1;var l=Object.keys(null!==(a=null===tt||void 0===tt||null===(n=tt[r])||void 0===n?void 0:n.setEffects)&&void 0!==a?a:{}),o=T.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!l.every((function(e){return parseInt(e)+o>5}))&&Object(Z.jsx)(u.a.Item,{onClick:function(){var e;return w({type:"setFilter",index:t,key:r,num:null!==(e=parseInt(l[0]))&&void 0!==e?e:0})},children:s.name},r)}))}),[T,w,tt]),xt=null!==(t=null===dt||void 0===dt?void 0:dt.name)&&void 0!==t?t:"Character Name",pt=Object(o.useMemo)((function(){return Object(Z.jsxs)(j.a,{title:xt,disabled:We,children:[Object(Z.jsx)(u.a.Item,{onClick:function(){return lt("")},children:"Unselect Character"}),Object(Z.jsx)(u.a.Divider,{}),Object(Z.jsx)(I.a,{onSelect:function(e){return lt(e)}})]})}),[xt,We,lt]),gt=Object(U.b)(Array.isArray(D)?H.a.get(D):void 0),yt=Object(o.useMemo)((function(){if(Array.isArray(D)&&gt){var e,t=gt.field,a=B.a.getTalentFieldValue(t,"variant",jt),n=B.a.getTalentFieldValue(t,"text",jt),c=gt.keys,r=Object(i.a)(c,3)[2];return"normal"!==r&&"charged"!==r&&"plunging"!==r||(r="auto"),Object(Z.jsxs)("b",{children:[null===dt||void 0===dt||null===(e=dt.getTalent(r))||void 0===e?void 0:e.name,": ",Object(Z.jsx)("span",{className:"text-".concat(a),children:n})]})}return Object(Z.jsxs)("b",{children:["Basic Stat: ",Object(Z.jsx)("span",{className:"text-".concat(q.a.getStatVariant(D)),children:q.a.getStatNamePretty(D)})]})}),[D,gt,jt,dt]),St=T.reduce((function(e,t){return t.key?e+t.num:e}),0),Lt=Object(o.useMemo)((function(){var e,t=0;return Object(Y.e)(null===jt||void 0===jt||null===(e=jt.conditionalValues)||void 0===e?void 0:e.artifact,[],(function(e){return Array.isArray(e)}),(function(){return t++})),t}),[null===jt||void 0===jt?void 0:jt.conditionalValues]),kt=Object(o.useCallback)((function(e){return P.a.update(Object(r.a)(Object(r.a)({},ot),e))}),[ot]),Nt=Object.entries(F).some((function(e){var t=Object(i.a)(e,2);t[0];return"number"===typeof t[1].min})),wt=Object.entries(F).some((function(e){var t=Object(i.a)(e,2);t[0];return"number"===typeof t[1].max})),At=oe?Nt:wt;return Object(Z.jsxs)(b.a,{className:"mt-2",children:[Object(Z.jsx)(R.a,{pageKey:"buildPage",modalTitle:"Character Management Page Guide",text:["For self-infused attacks, like Noelle's Sweeping Time, enable to skill in the talent page.","You can compare the difference between equipped artifacts and generated builds.","TURBO mode can process millions of builds in seconds.","The more complex the formula, the longer the generation time."],children:Object(Z.jsx)($,{})}),Object(Z.jsx)(se,{build:ke,showCharacterModal:Be,characterKey:d,selectCharacter:lt,setmodalBuild:Ne,setshowCharacterModal:Me}),!!jt&&Object(Z.jsx)(le,{showArtCondModal:Ce,setshowArtCondModal:Ke,initialStats:jt,characterDispatch:kt,artifactCondCount:Lt}),Object(Z.jsx)(v.a,{className:"mt-2 mb-2",children:Object(Z.jsx)(h.a,{children:Object(Z.jsxs)(O.a,{bg:"darkcontent",text:"lightfont",children:[Object(Z.jsx)(O.a.Header,{children:"Build Generator"}),Object(Z.jsxs)(O.a.Body,{children:[Object(Z.jsxs)(v.a,{children:[Object(Z.jsxs)(h.a,{xs:12,lg:6,children:[d?Object(Z.jsx)(M.a,{header:pt,characterKey:d,bg:"lightcontent",cardClassName:"mb-2",onEdit:We?void 0:function(){return Me(!0)}}):Object(Z.jsx)(O.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Z.jsx)(O.a.Header,{children:pt})}),!!(null===dt||void 0===dt?void 0:dt.hasTalentPage)&&ot&&Object(Z.jsx)(de,{characterSheet:dt,className:"mb-2",character:ot}),Boolean(bt)&&Object(Z.jsx)(ue,{className:"mb-2",statFilters:F,statKeys:null===bt||void 0===bt?void 0:bt.basicKeys,setStatFilters:function(e){return w({statFilters:e})}})]}),Object(Z.jsx)(h.a,{xs:12,lg:6,children:Object(Z.jsxs)(v.a,{children:[Object(Z.jsx)(h.a,{className:"mb-2",xs:12,children:Object(Z.jsx)(O.a,{bg:"lightcontent",text:"lightfont",children:Object(Z.jsx)(O.a.Body,{children:Object(Z.jsx)(m.a,{className:"w-100",onClick:function(){return Ke(!0)},disabled:We,children:Object(Z.jsxs)("span",{children:["Default Artifact Set Effects ",Boolean(Lt)&&Object(Z.jsxs)(f.a,{variant:"success",children:[Lt," Selected"]})]})})})})}),T.map((function(e,t){var a,n,i,c,r,s=e.key,l=e.num;return Object(Z.jsx)(h.a,{className:"mb-2",xs:12,children:Object(Z.jsxs)(O.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(Z.jsx)(O.a.Header,{children:Object(Z.jsxs)(x.a,{children:[Object(Z.jsxs)(j.a,{as:x.a,title:null!==(a=null===tt||void 0===tt||null===(n=tt[s])||void 0===n?void 0:n.name)&&void 0!==a?a:"Artifact Set Filter",disabled:We,children:[Object(Z.jsx)(u.a.Item,{onClick:function(){return w({type:"setFilter",index:t,key:""})},children:"Unselect Artifact"}),Object(Z.jsx)(u.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),ft(5,t),Object(Z.jsx)(u.a.Divider,{}),Object(Z.jsx)(u.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),ft(4,t),Object(Z.jsx)(u.a.Divider,{}),Object(Z.jsx)(u.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),ft(3,t)]}),Object(Z.jsx)(j.a,{as:x.a,title:"".concat(l,"-set"),disabled:We||!s||St>=5,children:!!jt&&Object.keys(null!==(i=null===tt||void 0===tt||null===(c=tt[s])||void 0===c?void 0:c.setEffects)&&void 0!==i?i:{}).map((function(e){var a=T.reduce((function(e,t){return t.key&&t.key!==s?e+t.num:e}),0);return parseInt(e)+a<=5&&Object(Z.jsx)(u.a.Item,{onClick:function(){return w({type:"setFilter",index:t,key:T[t].key,num:parseInt(e)})},children:"".concat(e,"-set")},e)}))})]})}),s?Object(Z.jsx)(O.a.Body,{children:Object(Z.jsx)(v.a,{className:"mb-n2",children:!!jt&&Object.keys(null!==(r=null===tt||void 0===tt?void 0:tt[s].setEffects)&&void 0!==r?r:{}).map((function(e){return parseInt(e)})).filter((function(e){return e<=l})).map((function(e){return Object(Z.jsx)(_.a,{newBuild:void 0,setKey:s,setNumKey:e,equippedBuild:jt,characterDispatch:kt,editable:!0},s+e)}))})}):null]})},t)})),Object(Z.jsx)(h.a,{className:"mb-2",xs:12,children:Object(Z.jsx)(O.a,{bg:"lightcontent",text:"lightfont",children:Object(Z.jsxs)(O.a.Body,{className:"mb-n2",children:[Object(Z.jsx)(m.a,{className:"w-100 mb-2",onClick:function(){return w({useEquippedArts:!ce})},disabled:We,children:Object(Z.jsxs)("span",{children:[Object(Z.jsx)(l.a,{icon:ce?s.b:s.y})," Use Equipped Artifacts"]})}),Object(Z.jsx)(m.a,{className:"w-100 mb-2",onClick:function(){return w({useLockedArts:!ee})},disabled:We,children:Object(Z.jsxs)("span",{children:[Object(Z.jsx)(l.a,{icon:ee?s.b:s.y})," Use Locked Artifacts"]})})]})})}),Object(Z.jsx)(h.a,{className:"mb-2",xs:12,children:Object(Z.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",children:[Object(Z.jsx)(O.a.Header,{children:Object(Z.jsxs)(v.a,{children:[Object(Z.jsx)(h.a,{children:"Artifact Main Stat"}),Object(Z.jsx)(h.a,{xs:"auto",children:Object(Z.jsx)(he,{mainStatAssumptionLevel:J,setmainStatAssumptionLevel:function(e){return w({mainStatAssumptionLevel:e})}})})]})}),Object(Z.jsx)(O.a.Body,{className:"mb-n2",children:ne.map((function(e,t){return Object(Z.jsxs)("div",{className:"text-inline mb-1 d-flex justify-content-between",children:[Object(Z.jsx)("h6",{className:"d-inline mb-0",children:K.a.slotNameWithIcon(e)}),Object(Z.jsxs)(j.a,{disabled:We,size:"sm",title:V[t]?q.a.getStatNameWithPercent(V[t]):"Select a mainstat",className:"d-inline",children:[Object(Z.jsx)(u.a.Item,{onClick:function(){return w({type:"mainStatKey",index:t,mainStatKey:""})},children:"No MainStat"}),K.a.slotMainStats(e).map((function(e){return Object(Z.jsx)(u.a.Item,{onClick:function(){return w({type:"mainStatKey",index:t,mainStatKey:e})},children:q.a.getStatNameWithPercent(e)},e)}))]})]},e)}))})]})})]})})]}),Object(Z.jsx)(v.a,{className:"mb-2",children:Object(Z.jsx)(h.a,{children:!!d&&Object(Z.jsx)(be,{totBuildNumber:Ot,generatingBuilds:We,generationSkipped:Ye,generationProgress:ze,generationDuration:qe,characterName:xt,maxBuildsToShow:ge})})}),Object(Z.jsxs)(v.a,{className:"d-flex justify-content-between",children:[Object(Z.jsx)(h.a,{xs:"auto",children:Object(Z.jsxs)(x.a,{children:[Object(Z.jsx)(m.a,{className:"h-100",disabled:!d||We,variant:d&&Ot<=te?"success":"warning",onClick:mt,children:Object(Z.jsx)("span",{children:"Generate Builds"})}),Ot>te&&Object(Z.jsx)(p.a,{overlay:Object(Z.jsxs)(g.a,{id:"turbo-tooltip",children:[Object(Z.jsx)("div",{children:"Dramatically speeds up build time."}),Object(Z.jsx)("div",{children:"Yields only 1 build."}),Boolean(At)&&Object(Z.jsxs)("div",{className:"mt-2",children:["Does not work with ",Object(Z.jsxs)("b",{children:[Boolean(oe)?"min":"max","imum"]})," stat filter when sorting by ",Object(Z.jsxs)("b",{children:[Boolean(oe)?"as":"des","cending"]})]})]}),children:Object(Z.jsx)("span",{children:Object(Z.jsx)(m.a,{variant:"success",disabled:At,className:"rounded-0 ".concat(At?"cursor-pointer":""),onClick:function(){return mt(!0)},children:Object(Z.jsx)("strong",{children:"TURBO"})})})}),Object(Z.jsx)(m.a,{className:"h-100",disabled:!We,variant:"danger",onClick:function(){st.current&&(st.current.terminate(),st.current=null,Ie(!1),fe([]),Ge(0),Pe(0),Xe(0))},children:Object(Z.jsx)("span",{children:"Cancel"})})]})}),Object(Z.jsx)(h.a,{xs:"auto",children:Object(Z.jsxs)(x.a,{children:[Object(Z.jsxs)(u.a,{as:x.a,drop:"up",children:[Object(Z.jsx)(u.a.Toggle,{disabled:We,variant:"light",children:Object(Z.jsxs)("span",{children:["Optimization Target: ",yt]})}),Object(Z.jsx)(u.a.Menu,{align:"right",style:{minWidth:"40rem"},children:Object(Z.jsx)(v.a,{children:!!bt&&Object.entries(bt).map((function(e){var t,a,n=Object(i.a)(e,2),c=n[0],r=n[1],s="";return s="basicKeys"===c?"Basic Stats":"genericAvgHit"===c?"Generic Optimization Values":"transReactions"===c?"Transformation Reaction":null!==(t=null===dt||void 0===dt||null===(a=dt.getTalent(c))||void 0===a?void 0:a.name)&&void 0!==t?t:c,Object(Z.jsxs)(h.a,{xs:12,md:6,children:[Object(Z.jsx)(u.a.Header,{style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(Z.jsx)("b",{children:s})}),r.map((function(e,t){return Array.isArray(e)?Object(Z.jsx)(re,{target:e,buildSettingsDispatch:w,initialStats:jt},t):"string"===typeof e?Object(Z.jsx)(u.a.Item,{onClick:function(){return w({optimizationTarget:e})},children:q.a.getStatNamePretty(e)},t):null}))]},c)}))})})]}),Object(Z.jsxs)(m.a,{onClick:function(){return w({ascending:!N.ascending})},disabled:We,variant:oe?"danger":"primary",children:[Object(Z.jsx)(l.a,{icon:oe?s.w:s.x,className:"fa-fw"}),Object(Z.jsx)("span",{children:oe?"Ascending":"Descending"})]})]})})]})]})]})})}),Object(Z.jsx)(v.a,{className:"mb-2",children:Object(Z.jsx)(h.a,{children:Object(Z.jsxs)(O.a,{bg:"darkcontent",text:"lightfont",children:[Object(Z.jsx)(O.a.Header,{children:Object(Z.jsxs)(v.a,{children:[Object(Z.jsx)(h.a,{children:d?Object(Z.jsxs)("span",{children:["Showing ",Object(Z.jsx)("b",{children:me.length})," Builds generated for ",xt]}):Object(Z.jsx)("span",{children:"Select a character to generate builds."})}),Object(Z.jsx)(h.a,{xs:"auto",children:Object(Z.jsx)(j.a,{title:Object(Z.jsxs)("span",{children:["Max builds to show: ",Object(Z.jsx)("b",{children:ge})]}),size:"sm",children:ae.map((function(e){return Object(Z.jsx)(u.a.Item,{onClick:function(){return ye(e)},children:e},e)}))})})]})}),Object(Z.jsx)(y.a,{children:me.map((function(e,t){return t<ge&&dt&&ut&&Object(Z.jsx)(je,{characterSheet:dt,weaponSheet:ut,build:e,characterKey:d,index:t,statsDisplayKeys:bt,onClick:function(){return Ne(e)}},t)}))})]})})})]})}function re(e){var t=e.target,a=e.buildSettingsDispatch,n=e.initialStats,i=Object(U.b)(H.a.get(t));if(!i)return null;var c=i.field;return Object(Z.jsx)(u.a.Item,{onClick:function(){return a({optimizationTarget:t})},style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(Z.jsx)("span",{className:"text-".concat(B.a.getTalentFieldValue(c,"variant",n)),children:B.a.getTalentFieldValue(c,"text",n)})})}function se(e){var t=e.build,a=e.showCharacterModal,n=e.characterKey,i=e.selectCharacter,c=e.setmodalBuild,r=e.setshowCharacterModal,s=Object(o.useCallback)((function(){c(null),r(!1)}),[c,r]);return Object(Z.jsx)(S.a,{show:Boolean(a||t),onHide:s,size:"xl",contentClassName:"bg-transparent",children:Object(Z.jsx)(d.a.Suspense,{fallback:Object(Z.jsx)("span",{children:"Loading..."}),children:Object(Z.jsx)(ee,{character:void 0,tabName:void 0,characterKey:n,setCharacterKey:function(e){return i(e)},newBuild:t,onClose:s,editable:a,footer:Object(Z.jsx)(m.a,{variant:"danger",onClick:s,children:"Close"})})})})}function le(e){var t=e.showArtCondModal,a=e.setshowArtCondModal,n=e.initialStats,r=e.characterDispatch,d=e.artifactCondCount,u=Object(o.useCallback)((function(){return a(!1)}),[a]),j=Object(U.b)(E.a.getAll());if(!j)return null;var b=E.a.namesByMaxRarities(j).flatMap((function(e){return Object(i.a)(e,2)[1].map((function(e){var t=Object(i.a)(e,1)[0];return[t,j[t]]}))}));return Object(Z.jsx)(S.a,{show:t,onHide:u,size:"xl",contentClassName:"bg-transparent",children:Object(Z.jsxs)(O.a,{bg:"darkcontent",text:"lightfont",children:[Object(Z.jsx)(O.a.Header,{children:Object(Z.jsxs)(v.a,{children:[Object(Z.jsx)(h.a,{children:Object(Z.jsxs)("h5",{children:["Default Artifact Set Effects  ",Boolean(d)&&Object(Z.jsxs)(f.a,{variant:"success",children:[d," Selected"]})]})}),Object(Z.jsx)(h.a,{xs:"auto",children:Object(Z.jsx)(m.a,{onClick:function(){n.conditionalValues.artifact&&(n.conditionalValues.artifact={}),r({conditionalValues:n.conditionalValues})},children:Object(Z.jsxs)("span",{children:[Object(Z.jsx)(l.a,{icon:s.F})," Reset All"]})})}),Object(Z.jsx)(h.a,{xs:"auto",children:Object(Z.jsx)(m.a,{variant:"danger",onClick:u,children:Object(Z.jsx)(l.a,{icon:s.B})})})]})}),Object(Z.jsx)(O.a.Body,{children:Object(Z.jsx)(v.a,{children:b.map((function(e){var t,a=Object(i.a)(e,2),s=a[0],l=a[1],o=Object.values(l.slotIcons)[0],d=Object(c.a)(l.rarity)[0];return Object(Z.jsx)(h.a,{className:"mb-2",xs:12,lg:6,xl:4,children:Object(Z.jsxs)(O.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(Z.jsx)(O.a.Header,{children:Object(Z.jsxs)(v.a,{children:[Object(Z.jsx)(h.a,{xs:"auto",className:"ml-n3 my-n2",children:Object(Z.jsx)(L.a,{src:o,className:"thumb-mid grad-".concat(d,"star m-1"),thumbnail:!0})}),Object(Z.jsxs)(h.a,{children:[Object(Z.jsx)("h6",{children:Object(Z.jsx)("b",{children:null!==(t=null===j||void 0===j?void 0:j[s].name)&&void 0!==t?t:""})}),Object(Z.jsx)("span",{children:Object(Z.jsx)(D.a,{stars:d})})]})]})}),Object(Z.jsx)(O.a.Body,{children:Object(Z.jsx)(v.a,{className:"mb-n2",children:Boolean(s)&&Object.keys(l.setEffects).map((function(e){return parseInt(e)})).map((function(e){return Object(Z.jsx)(_.a,{newBuild:void 0,setKey:s,setNumKey:e,equippedBuild:n,editable:!0,characterDispatch:r},s+e)}))})})]})},s)}))})}),Object(Z.jsx)(O.a.Footer,{children:Object(Z.jsxs)(m.a,{variant:"danger",onClick:u,children:[Object(Z.jsx)(l.a,{icon:s.B})," CLOSE"]})})]})})}function oe(e){var t=e.statKey,a=e.statKeys,n=void 0===a?[]:a,i=e.min,c=e.max,o=e.close,d=e.setFilter,b="%"===q.a.getStatUnit(t),v={disabled:!t,allowEmpty:!0,float:b},h=Object(r.a)(Object(r.a)({},v),{},{placeholder:"MIN",value:i,onChange:function(e){return d(t,e,c)}}),O=Object(r.a)(Object(r.a)({},v),{},{placeholder:"MAX",value:c,onChange:function(e){return d(t,i,e)}});return Object(Z.jsxs)(k.a,{className:"mb-2",children:[Object(Z.jsx)(j.a,{as:k.a.Prepend,title:q.a.getStatNamePretty(t,"New Stat"),id:"input-group-dropdown-1",children:n.map((function(e){return Object(Z.jsx)(u.a.Item,{onClick:function(){null===o||void 0===o||o(),d(e,i,c)},children:q.a.getStatNamePretty(e)},e)}))}),Object(Z.jsx)(V.a,Object(r.a)({},h)),Object(Z.jsx)(V.a,Object(r.a)({},O)),Boolean(o)&&Object(Z.jsx)(k.a.Append,{children:Object(Z.jsx)(m.a,{variant:"danger",onClick:o,children:Object(Z.jsx)(l.a,{icon:s.D})})})]})}function de(e){var t=e.characterSheet,a=e.character,n=e.className,i=Object(o.useCallback)((function(e){var t=e.hitMode;return P.a.update(Object(r.a)(Object(r.a)({},a),{},{hitMode:t}))}),[a]),c=Object(o.useCallback)((function(e){var t=e.reactionMode;return P.a.update(Object(r.a)(Object(r.a)({},a),{},{reactionMode:t}))}),[a]),s=Object(o.useCallback)((function(e){var t=e.infusionAura;return P.a.update(Object(r.a)(Object(r.a)({},a),{},{infusionAura:t}))}),[a]);return a?Object(Z.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",className:n,children:[Object(Z.jsx)(O.a.Header,{children:Object(Z.jsxs)(v.a,{children:[Object(Z.jsx)(h.a,{children:"Hit Mode Options"}),Object(Z.jsx)(h.a,{xs:"auto",children:Object(Z.jsx)(T.b,{characterSheet:t,character:a,characterDispatch:s})})]})}),Object(Z.jsxs)(O.a.Body,{className:"mb-n2",children:[Object(Z.jsx)(T.a,{hitMode:a.hitMode,characterDispatch:i,className:"w-100 mb-2"}),Object(Z.jsx)(T.c,{characterSheet:t,character:a,characterDispatch:c,className:"w-100 mb-2"})]})]}):null}function ue(e){var t=e.statKeys,a=void 0===t?[]:t,c=e.statFilters,s=void 0===c?{}:c,l=e.setStatFilters,o=e.className,d=a.filter((function(e){return!Object.keys(s).some((function(t){return t===e}))})),u=function(e,t,a){return l(Object(r.a)(Object(r.a)({},s),{},Object(n.a)({},e,{min:t,max:a})))};return Object(Z.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",className:o,children:[Object(Z.jsx)(O.a.Header,{children:"Final Stat Filter"}),Object(Z.jsx)(O.a.Body,{children:Object(Z.jsxs)(v.a,{className:"mb-n2",children:[Object.entries(s).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1],c=n.min,o=n.max;return Object(Z.jsx)(h.a,{xs:12,children:Object(Z.jsx)(oe,{statKey:a,statKeys:d,setFilter:u,min:c,max:o,close:function(){delete s[a],l(Object(r.a)({},s))}})},a)})),Object(Z.jsx)(h.a,{xs:12,children:Object(Z.jsx)(oe,{min:void 0,max:void 0,close:void 0,statKeys:d,setFilter:u})})]})})]})}function je(e){var t=e.characterSheet,a=e.weaponSheet,n=e.index,c=e.characterKey,r=e.build,s=e.statsDisplayKeys,l=e.onClick,o=Object(U.b)(E.a.getAll()),d=P.a.get(c);return d?Object(Z.jsx)("div",{children:Object(Z.jsxs)(y.a.Item,{variant:n%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:l,children:[Object(Z.jsx)("h5",{children:Object.entries(r.setToSlots).sort((function(e,t){var a=Object(i.a)(e,2),n=(a[0],a[1]),c=Object(i.a)(t,2);c[0];return c[1].length-n.length})).map((function(e){var t,a=Object(i.a)(e,2),n=a[0],c=a[1];return Object(Z.jsxs)(f.a,{variant:"primary",className:"mr-2",children:[c.map((function(e){return K.a.slotIcon(e)}))," ",null!==(t=null===o||void 0===o?void 0:o[n].name)&&void 0!==t?t:""]},n)}))}),Object(Z.jsx)(F.a,{editable:!1,characterSheet:t,weaponSheet:a,character:d,newBuild:r,statsDisplayKeys:s,cardbg:n%2?"lightcontent":"darkcontent"})]})}):null}function be(e){var t,a,n,i,c=e.totBuildNumber,r=e.generatingBuilds,s=e.generationSkipped,l=e.generationProgress,o=e.generationDuration,d=e.characterName,u=e.maxBuildsToShow,j=null!==(t=null===c||void 0===c?void 0:c.toLocaleString())&&void 0!==t?t:c,b=c-s,v=null!==(a=null===l||void 0===l?void 0:l.toLocaleString())&&void 0!==a?a:l,h=null!==(n=null===s||void 0===s?void 0:s.toLocaleString())&&void 0!==n?n:s,O=null!==(i=null===b||void 0===b?void 0:b.toLocaleString())&&void 0!==i?i:b,m=Boolean(s)&&Object(Z.jsxs)("span",{children:["(",Object(Z.jsx)("b",{children:h})," skipped)"]});if(r){var f=100*l/b;return Object(Z.jsxs)(N.a,{variant:"success",children:[Object(Z.jsxs)("span",{children:["Generating and testing ",Object(Z.jsxs)("b",{className:"text-monospace",children:[v,"/",O]})," build configurations against the criteria for ",Object(Z.jsx)("b",{children:d}),". ",m]}),Object(Z.jsx)("br",{}),Object(Z.jsxs)("h6",{children:["Time elapsed: ",Object(Z.jsx)("strong",{className:"text-monospace",children:Object(J.b)(o)})]}),Object(Z.jsx)(w.a,{now:f,label:"".concat(f.toFixed(1),"%")})]})}return!r&&l?Object(Z.jsxs)(N.a,{variant:"success",children:[Object(Z.jsxs)("span",{children:["Generated and tested ",Object(Z.jsx)("b",{className:"text-monospace",children:O})," Build configurations against the criteria for ",Object(Z.jsx)("b",{children:d}),". ",m]}),Object(Z.jsxs)("h6",{children:["Total duration: ",Object(Z.jsx)("strong",{className:"text-monospace",children:Object(J.b)(o)})]}),Object(Z.jsx)(w.a,{now:100,variant:"success",label:"100%"})]}):0===c?Object(Z.jsx)(N.a,{variant:"warning",className:"mb-0",children:Object(Z.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(Z.jsx)("b",{children:d}),". Please change your Artifact configurations, or add/unlock more Artifacts."]})}):c>te?Object(Z.jsx)(N.a,{variant:"warning",className:"mb-0",children:Object(Z.jsxs)("span",{children:["Current configuration will generate ",Object(Z.jsx)("b",{children:j})," builds for ",Object(Z.jsx)("b",{children:d}),". This might take quite a while to generate..."]})}):Object(Z.jsx)(N.a,{variant:"success",className:"mb-0",children:Object(Z.jsxs)("span",{children:["Current configuration ",c<=u?"generated":"will generate"," ",Object(Z.jsx)("b",{children:j})," builds for ",Object(Z.jsx)("b",{children:d}),"."]})})}var ve={0:Object(Z.jsx)("span",{children:"No level assumption"}),4:Object(Z.jsx)("span",{children:"Assume at least level 4"}),8:Object(Z.jsx)("span",{children:"Assume at least level 8"}),12:Object(Z.jsx)("span",{children:"Assume at least level 12"}),16:Object(Z.jsx)("span",{children:"Assume at least level 16"}),20:Object(Z.jsx)("span",{children:"Assume at least level 20"})};function he(e){var t=e.mainStatAssumptionLevel,a=void 0===t?0:t,n=e.setmainStatAssumptionLevel;return Object(Z.jsx)(p.a,{overlay:Object(Z.jsx)(g.a,{id:"assume-level-tooltip",children:"Change Main Stat value to be at least a specific level. Does not change substats."}),children:Object(Z.jsxs)(u.a,{children:[Object(Z.jsx)(u.a.Toggle,{variant:a?"orange":"primary",children:ve[a]}),Object(Z.jsx)(u.a.Menu,{children:Object.entries(ve).map((function(e){var t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(Z.jsx)(u.a.Item,{onClick:function(){return n(parseInt(a))},children:c},a)}))})]})})}}}]);
//# sourceMappingURL=11.70b7d917.chunk.js.map