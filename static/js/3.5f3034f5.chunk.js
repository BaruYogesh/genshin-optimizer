(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[3],{204:function(e,t,a){"use strict";function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}a.d(t,"a",(function(){return c}))},227:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var c,n=a(204),s=a(29),i=a(10),r=a(184),l=a(110),o=a(114),j=a(82),d=a(210),b=a(1);function u(e){var t=e.location,a=e.onEquip,u=e.weaponTypeKey,h=e.disableUnequip,x=void 0!==h&&h,O=e.disabled,m=Object(l.a)(["artifact"]).t,p=Object(j.b)(o.b.get(t),[t]),v=(null===p||void 0===p?void 0:p.name)?p.nameWIthIcon:Object(b.jsxs)("span",{children:[Object(b.jsx)(i.a,{icon:s.c})," ",m(c||(c=Object(n.a)(["filterLocation.inventory"])))]});return O?v:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(r.a.Toggle,{className:"text-left",children:v}),Object(b.jsxs)(r.a.Menu,{children:[!x&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(r.a.Item,{onClick:function(){},children:[Object(b.jsx)(i.a,{icon:s.c})," Inventory"]}),Object(b.jsx)(r.a.Divider,{})]}),Object(b.jsx)(d.b,{onSelect:a,weaponTypeKey:u})]})]})}},232:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var c,n,s,i,r=a(204),l=a(2),o=a(29),j=a(10),d=a(0),b=a(185),u=a(113),h=a(231),x=a(186),O=a(70),m=a(184),p=a(140),v=a(215),f=a(119),g=a(211),y=a(110),N=a(114),S=a(210),w=a(202),k=a(45),C=a(33),B=a(58),E=a(82),_=a(121),K=a(69),T=a(111),A=a(120),I=a(233),q=a(1),D=new Set(B.b);function L(e){var t,a,B,L,z,P=e.artifactId,M=e.artifactObj,W=e.onEdit,F=e.onDelete,U=e.mainStatAssumptionLevel,V=void 0===U?0:U,R=e.effFilter,H=void 0===R?D:R,G=Object(y.a)(["artifact"]).t,J=Object(d.useContext)(k.b),X=Object(d.useState)(void 0),Q=Object(l.a)(X,2),Y=Q[0],Z=Q[1];Object(d.useEffect)((function(){return P?J.followArt(P,Z):void 0}),[P,Z,J]);var $=Object(E.b)(T.a.get(null===(t=null!==M&&void 0!==M?M:P?J._getArt(P):void 0)||void 0===t?void 0:t.setKey),[M,P]),ee=function(e){return J.setArtLocation(P,e)},te=!M&&J===k.c,ae=null!==M&&void 0!==M?M:Y,ce=Object(E.b)(N.b.get(null!==(a=null===ae||void 0===ae?void 0:ae.location)&&void 0!==a?a:""),[null===ae||void 0===ae?void 0:ae.location]);if(!ae)return null;var ne=ae.id,se=ae.lock,ie=ae.slotKey,re=ae.rarity,le=ae.level,oe=ae.mainStatKey,je=ae.substats,de=ae.exclude,be=Math.max(Math.min(V,4*re),le),ue=Math.floor(Math.max(le-1,0)/4)+1+"roll",he=Object(q.jsx)("span",{className:be!==le?"text-orange":"",children:Object(_.b)(null!==(B=K.a.mainStatValue(oe,re,be))&&void 0!==B?B:0,C.b.getStatUnit(oe))}),xe=K.a.getArtifactEfficiency(ae,H),Oe=xe.currentEfficiency,me=xe.maxEfficiency,pe=0!==me,ve=(null===ce||void 0===ce?void 0:ce.name)?ce.nameWIthIcon:Object(q.jsxs)("span",{children:[Object(q.jsx)(j.a,{icon:o.c})," ",G(c||(c=Object(r.a)(["filterLocation.inventory"])))]}),fe=(null===$||void 0===$?void 0:$.getSlotName(ie))||"Unknown Piece Name",ge=null===$||void 0===$?void 0:$.getSlotDesc(ie),ye=ge?Object(q.jsx)(v.a,{placement:"top",overlay:Object(q.jsx)(g.a,{id:"slotdesc-tooltip",children:ge}),children:Object(q.jsx)(j.a,{icon:o.q})}):null,Ne=null===$||void 0===$?void 0:$.setEffects,Se=$&&Ne&&Object(q.jsx)(g.a,{id:"setdesc-tooltop",children:Object.keys(Ne).map((function(e){return Object(q.jsxs)("span",{className:"text-left",children:[Object(q.jsx)("h6",{className:"mb-0",children:Object(q.jsx)(b.a,{variant:"success",children:G("setEffectNum",{setNum:e})})}),Object(q.jsx)("p",{children:$.setEffectDesc(e)})]},e)}))}),we=Se?Object(q.jsx)(v.a,{placement:"top",overlay:Se,children:Object(q.jsx)(j.a,{icon:o.q})}):null;return Object(q.jsxs)(x.a,{className:"h-100",border:"".concat(re,"star"),bg:"lightcontent",text:"lightfont",children:[Object(q.jsx)(x.a.Header,{className:"p-0",children:Object(q.jsxs)(f.a,{children:[Object(q.jsx)(O.a,{xs:2,md:3,children:Object(q.jsx)(p.a,{src:null!==(L=null===$||void 0===$?void 0:$.slotIcons[ie])&&void 0!==L?L:"",className:"w-100 h-auto grad-".concat(re,"star m-1"),thumbnail:!0})}),Object(q.jsxs)(O.a,{className:"pt-2",children:[Object(q.jsx)("h6",{children:Object(q.jsxs)("strong",{children:[fe," ",ye]})}),Object(q.jsxs)("div",{children:[Object(q.jsx)(A.b,{slotKey:ie})," ",Object(q.jsxs)("span",{className:"float-right mr-4",children:[" ",Object(q.jsx)(u.a,{size:"sm",disabled:!te,onClick:function(){return J.updateArt({lock:!se},ne)},children:Object(q.jsx)(j.a,{icon:se?o.s:o.t,className:"fa-fw"})})]})]}),Object(q.jsx)("div",{children:Object(q.jsx)("small",{children:Object(q.jsx)(w.a,{stars:re})})})]})]})}),Object(q.jsxs)(x.a.Body,{className:"d-flex flex-column py-2",children:[Object(q.jsxs)(x.a.Title,{children:[Object(q.jsx)(b.a,{variant:ue,children:Object(q.jsx)("strong",{className:"text-dark",children:" +".concat(le)})})," ",null!==(z=null===$||void 0===$?void 0:$.name)&&void 0!==z?z:"Artifact Set"," ",we]}),Object(q.jsx)("h5",{className:"mb-1",children:Object(q.jsxs)("b",{children:[C.b.getStatName(oe)," ",he]})}),Object(q.jsx)(f.a,{className:"mb-0",children:je.map((function(e,t){var a,c,n;if(!e.value)return null;var s=null!==(a=null===(c=e.rolls)||void 0===c?void 0:c.length)&&void 0!==a?a:0,i=null!==(n=e.efficiency)&&void 0!==n?n:0,r=.3+.7*i,l=C.b.getStatName(e.key);return Object(q.jsxs)(O.a,{xs:12,children:[Object(q.jsx)(b.a,{variant:s?"".concat(s,"roll"):"danger",className:"text-darkcontent",children:Object(q.jsx)("b",{children:s||"?"})})," ",Object(q.jsxs)("span",{className:"text-".concat(s,"roll"),children:[l,"+".concat(Object(_.b)(e.value,C.b.getStatUnit(e.key)))]}),Object(q.jsx)("span",{className:"float-right",style:{opacity:r},children:e.key&&H.has(e.key)?Object(_.b)(i,"eff"):"-"})]},t)}))}),Object(q.jsxs)("div",{className:"mt-auto",children:[Object(q.jsxs)(f.a,{children:[Object(q.jsx)(O.a,{children:Object(q.jsx)("small",{children:G(n||(n=Object(r.a)(["editor.curSubEff"])))})}),Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsx)(I.a,{value:Oe,valid:pe})})]}),Oe!==me&&Object(q.jsxs)(f.a,{children:[Object(q.jsx)(O.a,{children:Object(q.jsx)("small",{children:G(s||(s=Object(r.a)(["editor.maxSubEff"])))})}),Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsx)(I.a,{value:me,valid:pe})})]})]}),!1]}),Object(q.jsx)(x.a.Footer,{className:"pr-3",children:Object(q.jsxs)(f.a,{className:"d-flex justify-content-between no-gutters",children:[te?Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsxs)(m.a,{children:[Object(q.jsx)(m.a.Toggle,{size:"sm",className:"text-left",children:ve}),Object(q.jsxs)(m.a.Menu,{children:[Object(q.jsxs)(m.a.Item,{onClick:function(){return ee("")},children:[Object(q.jsx)(j.a,{icon:o.c})," Inventory"]}),Object(q.jsx)(m.a.Divider,{}),Object(q.jsx)(S.b,{onSelect:ee})]})]})}):Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsx)("b",{children:ve})}),te&&Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsxs)(h.a,{children:[!!W&&Object(q.jsx)(u.a,{variant:"info",size:"sm",onClick:W,children:Object(q.jsx)(j.a,{icon:o.k,className:"fa-fw"})}),Object(q.jsx)(v.a,{placement:"top",overlay:Object(q.jsx)(g.a,{id:"exclude-artifact-tip",children:G(i||(i=Object(r.a)(["excludeArtifactTip"])))}),children:Object(q.jsx)("span",{className:"d-inline-block",children:Object(q.jsx)(u.a,{size:"sm",onClick:function(){return J.updateArt({exclude:!de},ne)},className:"rounded-0",variant:de?"danger":"success",children:Object(q.jsx)(j.a,{icon:de?o.a:o.e,className:"fa-fw"})})})}),!!F&&Object(q.jsx)(u.a,{variant:"danger",size:"sm",onClick:F,children:Object(q.jsx)(j.a,{icon:o.E,className:"fa-fw"})})]})})]})})]})}},233:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var c=a(2),n=a(185),s=a(1);function i(e){var t=e.value,a=e.valid,i="number"===typeof t?["".concat(Math.floor(.05*t)+1,"roll"),t.toFixed(2)+"%"]:["secondary",t],r=Object(c.a)(i,2),l=r[0],o=r[1];return a||(l="danger"),Object(s.jsx)(n.a,{variant:l,className:"secondary"===l?"":"text-darkcontent",children:o})}},235:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var c=a(2),n=a(29),s=a(10),i=a(0),r=a(186),l=a(140),o=a(119),j=a(70),d=a(113),b=a(206),u=a(227),h=a(202),x=a(112),O=a(45),m=a(33),p=a(82),v=a(116),f=a(1);function g(e){var t,a=e.weaponId,g=e.onEdit,y=e.onDelete,N=e.onClick,S=e.cardClassName,w=void 0===S?"":S,k=e.bg,C=void 0===k?"":k,B=e.footer,E=void 0!==B&&B,_=Object(i.useContext)(O.b),K=Object(i.useState)(void 0),T=Object(c.a)(K,2),A=T[0],I=T[1];Object(i.useEffect)((function(){return a?_.followWeapon(a,I):void 0}),[a,I,_]);var q=A,D=Object(p.b)((null===q||void 0===q?void 0:q.key)&&v.a.get(q.key),[null===q||void 0===q?void 0:q.key]);if(!q||!D)return null;var L=q.level,z=q.ascension,P=q.refine,M=(q.id,D.weaponType),W=D.getMainStatValue(L,z).toFixed(m.b.fixedUnit("atk")),F=D.getSubStatKey(),U=D.getSubStatValue(L,z).toFixed(m.b.fixedUnit(F)),V=v.a.getLevelString(q),R=[["weaponATK",W]];return(null===D||void 0===D?void 0:D.passiveName)&&R.push([F,U]),Object(f.jsxs)(r.a,{className:w,bg:C||"darkcontent",text:"lightfont",children:[Object(f.jsxs)(r.a.Header,{children:[Object(f.jsx)(l.a,{src:null===(t=b.a.weaponTypes)||void 0===t?void 0:t[M],className:"inline-icon"})," ",Object(f.jsx)("h5",{className:"d-inline",children:D.name})]}),Object(f.jsxs)(r.a.Body,{onClick:function(){return null===N||void 0===N?void 0:N(a)},className:N?"cursor-pointer":"",children:[Object(f.jsxs)(o.a,{children:[Object(f.jsx)(j.a,{xs:"auto",className:"pr-0",children:Object(f.jsx)(l.a,{src:D.img,className:"thumb-big grad-".concat(D.rarity,"star p-0"),thumbnail:!0})}),Object(f.jsxs)(j.a,{children:[Object(f.jsxs)("h5",{className:"mb-0",children:["Level ",V," "]}),Object(f.jsxs)("h5",{children:["Refinement ",P]}),Object(f.jsx)("h6",{className:"mb-0",children:Object(f.jsx)(h.a,{stars:D.rarity,colored:!0})})]})]}),Object(f.jsx)(o.a,{children:R.map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],s=m.b.getStatUnit(a);return Object(f.jsxs)(j.a,{xs:12,children:[Object(f.jsxs)("h6",{className:"d-inline",children:[x.a[a]," ",m.b.getStatName(a)]}),Object(f.jsx)("span",{className:"float-right",children:n+s})]},a)}))}),!1]}),E&&Object(f.jsx)(r.a.Footer,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(j.a,{children:Object(f.jsx)(u.a,{location:null===q||void 0===q?void 0:q.location,onEquip:function(e){return _.setWeaponLocation(a,e)},weaponTypeKey:M,disableUnequip:!!q.location})}),Object(f.jsx)(j.a,{xs:"auto",children:Object(f.jsxs)("span",{className:"float-right align-top ml-1",children:[g&&Object(f.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return g(a)},children:Object(f.jsx)(s.a,{icon:n.k})}),y&&Object(f.jsx)(d.a,{variant:"danger",size:"sm",disabled:!!q.location,onClick:function(){return y(a)},children:Object(f.jsx)(s.a,{icon:n.E})})]})})]})})]})}},236:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return N}));var c=a(14),n=a(2),s=a(29),i=a(10),r=a(0),l=a(545),o=a(186),j=a(119),d=a(70),b=a(231),u=a(113),h=a(140),x=a(206),O=a(202),m=a(16),p=a(82),v=a(116),f=a(1);function g(e,t){return t===e?"":t}function y(e){var t=e.show,a=e.onHide,y=e.onSelect,N=e.filter,S=void 0===N?function(){return!0}:N,w=Object(p.b)(v.a.getAll(),[]),k=Object(r.useReducer)(g,""),C=Object(n.a)(k,2),B=C[0],E=C[1],_=w?Object(c.a)(new Set(m.i)).filter((function(e){return S(w[e])})).filter((function(e){var t;return!B||B===(null===w||void 0===w||null===(t=w[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,c,n,s;return(null!==(a=null===w||void 0===w||null===(c=w[t])||void 0===c?void 0:c.rarity)&&void 0!==a?a:0)-(null!==(n=null===w||void 0===w||null===(s=w[e])||void 0===s?void 0:s.rarity)&&void 0!==n?n:0)})):[];return w?Object(f.jsx)(l.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:a,children:Object(f.jsxs)(o.a,{bg:"lightcontent",text:"lightfont",children:[Object(f.jsx)(o.a.Header,{children:Object(f.jsxs)(j.a,{children:[Object(f.jsx)(d.a,{children:Object(f.jsx)(b.a,{children:m.j.map((function(e){var t;return Object(f.jsx)(u.a,{variant:B&&B!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return E(e)},children:Object(f.jsx)("h3",{className:"mb-0",children:Object(f.jsx)(h.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(f.jsx)(d.a,{xs:"auto",children:Object(f.jsx)(u.a,{onClick:a,variant:"danger",children:Object(f.jsx)(i.a,{icon:s.B})})})]})}),Object(f.jsx)(o.a.Body,{children:Object(f.jsx)(j.a,{children:_.map((function(e){var t,c=w[e];return Object(f.jsx)(d.a,{lg:3,md:4,className:"mb-2",children:Object(f.jsx)(u.a,{className:"w-100 h-100 align-top",variant:"darkcontent",onClick:function(){a(),y(e)},children:Object(f.jsxs)(j.a,{className:"h-100",children:[Object(f.jsx)(d.a,{xs:"auto",className:"pr-0",children:Object(f.jsx)(h.a,{src:c.img,className:"thumb-big grad-".concat(c.rarity,"star p-0"),thumbnail:!0})}),Object(f.jsxs)(d.a,{children:[Object(f.jsxs)("h5",{className:"mb-0",children:[Object(f.jsx)(h.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[c.weaponType],className:"inline-icon"})," ",c.name]}),Object(f.jsx)("h6",{className:"mb-0",children:Object(f.jsx)(O.a,{stars:c.rarity,colored:!0})})]})]})})},e)}))})})]})}):null}function N(e){var t,a=e.weaponSheet,c=e.onSelect,s=e.filter,i=Object(r.useState)(!1),l=Object(n.a)(i,2),o=l[0],j=l[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a,{as:b.a,onClick:function(){return j(!0)},className:"text-nowrap",children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Weapon"}),Object(f.jsx)(y,{show:o,onHide:function(){return j(!1)},onSelect:c,filter:s})]})}},278:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Oe}));var c=a(8),n=a(2),s=a(29),i=a(10),r=a(0),l=a(196),o=a(537),j=a(30),d=a(140),b=a(216),u=a(231),h=a(184),x=a(113),O=a(186),m=a(70),p=a(143),v=a(119),f=a(111),g=a(97),y=a(203),N=a(39),S=a(53),w=a(45),k=a(82),C=a(11),B=a(116),E=a(201),_=a(19),K=a(232),T=a(223),A=a(16),I=a(226),q=a(1),D={xs:12,md:6,lg:4};var L=function(e){var t,a=e.sheets,s=e.character,i=e.character.key,o=e.characterDispatch,j=Object(r.useContext)(g.a),d=j.newBuild,b=j.equippedBuild,h=j.compareBuild,p=j.setCompareBuild,y=Object(r.useContext)(w.b),N=Object(_.g)(),S=d||b,B=null!==(t=null===S||void 0===S?void 0:S.mainStatAssumptionLevel)&&void 0!==t?t:0,L=Object(r.useMemo)((function(){return S&&E.a.getDisplayStatKeys(S,a)}),[S,a]),z=Object(r.useCallback)((function(e){return N.push({pathname:"/artifact",artToEditId:e})}),[N]),P=Object(k.b)(f.a.getAll(),[]),M=Object(k.a)(),W=Object(n.a)(M,2)[1];Object(r.useEffect)((function(){return y.followAnyArt(W)}));var F=Object(r.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&d&&d.equippedArtifacts&&y.equipArtifacts(i,d.equippedArtifacts)}),[i,d,y]),U=Object(r.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&y.equipArtifacts(i,Object(C.o)(A.h,(function(){return""})))}),[i,y]);return S?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(O.a,{className:"h-100 mb-2",bg:"lightcontent",text:"lightfont",children:[Object(q.jsx)(O.a.Body,{children:Object(q.jsx)(I.a,{sheets:a,character:s,equippedBuild:d&&!h?void 0:b,newBuild:d,statsDisplayKeys:L})}),Object(q.jsx)(O.a.Footer,{children:Object(q.jsxs)(v.a,{children:[Object(q.jsxs)(m.a,{children:[d?Object(q.jsx)(x.a,{onClick:F,className:"mr-2",children:"Equip artifacts"}):y===w.c&&Object(q.jsx)(x.a,{onClick:U,children:"Unequip all artifacts"}),!!d&&Object(q.jsxs)(u.a,{children:[Object(q.jsx)(x.a,{variant:h?"primary":"success",disabled:!h,onClick:function(){return null===p||void 0===p?void 0:p(!1)},children:Object(q.jsx)("small",{children:"Show New artifact Stats"})}),Object(q.jsx)(x.a,{variant:h?"success":"primary",disabled:h,onClick:function(){return null===p||void 0===p?void 0:p(!0)},children:Object(q.jsx)("small",{children:"Compare against equipped artifacts"})})]})]}),Object(q.jsx)(m.a,{xs:"auto",children:!!B&&Object(q.jsx)(l.a,{className:"mb-0 py-2",variant:"orange",children:Object(q.jsxs)("b",{children:["Assume Main Stats are Level ",B]})})})]})})]}),Object(q.jsxs)(v.a,{className:"mb-n2",children:[Object(q.jsx)(m.a,Object(c.a)(Object(c.a)({},D),{},{className:"d-flex flex-column",children:P&&Object.entries(f.a.setEffects(P,S.setToSlots)).map((function(e){var t,a=Object(n.a)(e,2),c=a[0],s=a[1];return Object(q.jsxs)(O.a,{className:"mb-2 flex-grow-1",bg:"lightcontent",text:"lightfont",children:[Object(q.jsx)(O.a.Header,{children:null!==(t=null===P||void 0===P?void 0:P[c].name)&&void 0!==t?t:""}),Object(q.jsx)(O.a.Body,{className:"p-2 mb-n2",children:s.map((function(e){return Object(q.jsx)(T.a,{setKey:c,setNumKey:e,equippedBuild:b,newBuild:d,characterDispatch:o},c+e)}))})]},c)}))})),A.h.map((function(e){var t,a,n;return Boolean(null===S||void 0===S||null===(t=S.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(r.createElement)(m.a,Object(c.a)(Object(c.a)({},D),{},{key:null===S||void 0===S||null===(a=S.equippedArtifacts)||void 0===a?void 0:a[e],className:"mb-2"}),Object(q.jsx)(K.a,{artifactId:null===S||void 0===S||null===(n=S.equippedArtifacts)||void 0===n?void 0:n[e],mainStatAssumptionLevel:B,onEdit:function(){var t;return z(null===S||void 0===S||null===(t=S.equippedArtifacts)||void 0===t?void 0:t[e])}}))}))]})]}):null},z=a(14),P=a(185),M=a(206),W=a(202),F=a(213),U=a(112),V=a(33),R=a(279),H=a(212);function G(e){var t,a=e.characterSheet,c=e.weaponSheet,n=e.character,s=e.character.constellation,i=e.characterDispatch,l=Object(r.useContext)(g.a),o=l.newBuild,j=l.equippedBuild,b=o||j;if(!b)return null;var u=b.tlvl,h=b.characterEle,x=a.weaponTypeKey;return Object(q.jsxs)(v.a,{children:[Object(q.jsx)(m.a,{xs:12,md:3,children:Object(q.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(q.jsx)(O.a.Img,{src:a.cardImg,className:"w-100 h-auto"}),Object(q.jsxs)(O.a.Body,{children:[Object(q.jsxs)("h3",{children:[a.name," ",U.a[h]," ",Object(q.jsx)(d.a,{src:null===(t=M.a.weaponTypes)||void 0===t?void 0:t[x],className:"inline-icon"})]}),Object(q.jsx)("h6",{children:Object(q.jsx)(W.a,{stars:a.star,colored:!0})}),Object(q.jsxs)("h5",{children:["Level: ",E.a.getLevelString(n)]}),Object(q.jsx)(v.a,{className:"px-2 mb-2",children:["auto","skill","burst"].map((function(e){var t;return Object(q.jsxs)(m.a,{xs:4,className:"p-1",children:[Object(q.jsx)(d.a,{src:null===(t=a.getTalentOfKey(e,b.characterEle))||void 0===t?void 0:t.img,className:"w-100 h-auto",roundedCircle:!0}),Object(q.jsx)("h5",{className:"mb-0",children:Object(q.jsx)(P.a,{variant:"info",style:{position:"absolute",bottom:"0",right:"0"},children:Object(q.jsx)("strong",{children:u[e]+1})})})]},e)}))}),Object(q.jsx)("div",{className:"text-center",children:Object(q.jsx)("h6",{children:a.constellationName})}),Object(q.jsx)(v.a,{className:"px-2",children:Object(z.a)(Array(6).keys()).map((function(e){var t;return Object(q.jsx)(m.a,{xs:4,className:"p-1",children:Object(q.jsx)(d.a,{src:null===(t=a.getTalentOfKey("constellation".concat(e+1),b.characterEle))||void 0===t?void 0:t.img,className:"w-100 h-auto ".concat(s>e?"":"overlay-dark"," cursor-pointer"),roundedCircle:!0,onClick:function(){return i({constellation:e+1===s?e:e+1})}})},e)}))})]})]})}),Object(q.jsxs)(m.a,{xs:12,md:9,children:[Object(q.jsx)(R.default,{charData:{character:n,characterSheet:a,equippedBuild:j,newBuild:o,characterDispatch:i},weaponId:n.equippedWeapon}),Object(q.jsx)(Q,{characterSheet:a,weaponSheet:c,character:n,characterDispatch:i,equippedBuild:j,newBuild:o})]})]})}var J="Edit Stats",X="EXIT";function Q(e){var t=e.characterSheet,a=e.weaponSheet,l=e.character,o=e.characterDispatch,j=e.equippedBuild,d=e.newBuild,b=Object(r.useState)(!1),u=Object(n.a)(b,2),h=u[0],p=u[1],f=Object(r.useState)(!1),g=Object(n.a)(f,2),y=g[0],N=g[1],S=Object(r.useState)(!1),w=Object(n.a)(S,2),k=w[0],C=w[1],B=["eleMas","critRate_","critDMG_","enerRech_","heal_"],_=["finalHP","finalATK","finalDEF"];_.push.apply(_,B);var K=["hp","hp_","def","def_","atk","atk_"];K.push.apply(K,B);var T=[];["physical"].concat(Object(z.a)(A.d)).forEach((function(e){T.push("".concat(e,"_dmg_")),T.push("".concat(e,"_res_"))})),T.push("stamina","incHeal_","shield_","cdRed_");var I=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","enemyDEFRed_","weakspotDMG_","moveSPD_","atkSPD_"],D=t.getSpecializedStat(l.ascension),L=t.getSpecializedStatVal(l.ascension),P=V.b.getStatUnit(D),M={character:l,equippedBuild:j,newBuild:d};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(q.jsx)(O.a.Header,{children:Object(q.jsxs)(v.a,{children:[Object(q.jsx)(m.a,{children:Object(q.jsx)("span",{children:"Main Base Stats"})}),Object(q.jsx)(m.a,{xs:"auto",children:Object(q.jsx)(x.a,{variant:h?"danger":"info",onClick:function(){return p(!h)},size:"sm",children:Object(q.jsxs)("span",{children:[Object(q.jsx)(i.a,{icon:h?s.w:s.k})," ",h?X:J]})})})]})}),h?Object(q.jsx)(O.a.Body,{children:Object(q.jsx)(v.a,{className:"mb-2",children:K.map((function(e){return Object(q.jsx)(m.a,{lg:6,xs:12,children:Object(q.jsx)(H.a,{prependEle:void 0,disabled:void 0,className:"mb-2",name:Object(q.jsxs)("span",{children:[U.a[e]," ",V.b.getStatNameWithPercent(e)]}),placeholder:"Base ".concat(V.b.getStatName(e)),value:E.a.getStatValueWithOverride(l,t,a,e),percent:"%"===V.b.getStatUnit(e),onValueChange:function(c){return o({type:"statOverride",statKey:e,value:c,characterSheet:t,weaponSheet:a})},defaultValue:E.a.getBaseStatValue(l,t,a,e)})},e)}))})}):Object(q.jsx)(O.a.Body,{children:Object(q.jsxs)(v.a,{className:"mb-2",children:[_.map((function(e){return Object(q.jsx)(m.a,{xs:12,lg:6,children:Object(q.jsx)(F.a,Object(c.a)({characterSheet:t,weaponSheet:a,statKey:e},M))},e)})),Object(q.jsxs)(m.a,{lg:6,xs:12,children:[Object(q.jsxs)("span",{children:[Object(q.jsx)("b",{children:"Specialized:"})," ",Object(q.jsxs)("span",{children:[D&&U.a[D]," ",V.b.getStatName(D)]})]}),Object(q.jsx)("span",{className:"float-right",children:"".concat(L.toFixed(V.b.fixedUnit(D))).concat(P)})]})]})})]}),Object(q.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(q.jsx)(O.a.Header,{children:Object(q.jsxs)(v.a,{children:[Object(q.jsx)(m.a,{children:Object(q.jsx)("span",{children:"Other Stats"})}),Object(q.jsx)(m.a,{xs:"auto",children:Object(q.jsx)(x.a,{variant:y?"danger":"info",onClick:function(){return N(!y)},size:"sm",children:Object(q.jsxs)("span",{children:[Object(q.jsx)(i.a,{icon:y?s.w:s.k})," ",y?X:J]})})})]})}),y?Object(q.jsx)(O.a.Body,{children:Object(q.jsx)(v.a,{className:"mb-2",children:T.map((function(e){return Object(q.jsx)(m.a,{lg:6,xs:12,children:Object(q.jsx)(H.a,{className:"mb-2",name:Object(q.jsxs)("span",{children:[U.a[e]," ",V.b.getStatName(e)]}),placeholder:"Base ".concat(V.b.getStatNameRaw(e)),value:E.a.getStatValueWithOverride(l,t,a,e),percent:"%"===V.b.getStatUnit(e),onValueChange:function(c){return o({type:"statOverride",statKey:e,value:c,characterSheet:t,weaponSheet:a})},defaultValue:E.a.getBaseStatValue(l,t,a,e)})},e)}))})}):Object(q.jsx)(O.a.Body,{children:Object(q.jsx)(v.a,{className:"mb-2",children:T.map((function(e){return Object(q.jsx)(m.a,{xs:12,lg:6,children:Object(q.jsx)(F.a,Object(c.a)({characterSheet:t,weaponSheet:a,statKey:e},M))},e)}))})})]}),Object(q.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(q.jsx)(O.a.Header,{children:Object(q.jsxs)(v.a,{children:[Object(q.jsx)(m.a,{children:Object(q.jsx)("span",{children:"Misc Stats"})}),Object(q.jsx)(m.a,{xs:"auto",children:Object(q.jsx)(x.a,{variant:k?"danger":"info",onClick:function(){return C(!k)},size:"sm",children:Object(q.jsxs)("span",{children:[Object(q.jsx)(i.a,{icon:k?s.w:s.k})," ",k?X:J]})})})]})}),k?Object(q.jsx)(O.a.Body,{children:Object(q.jsx)(v.a,{className:"mb-2",children:I.map((function(e){return Object(q.jsx)(m.a,{xl:6,xs:12,children:Object(q.jsx)(H.a,{className:"mb-2",name:Object(q.jsxs)("span",{children:[U.a[e]," ",V.b.getStatName(e)]}),placeholder:"Base ".concat(V.b.getStatNameRaw(e)),value:E.a.getStatValueWithOverride(l,t,a,e),percent:"%"===V.b.getStatUnit(e),onValueChange:function(c){return o({type:"statOverride",statKey:e,value:c,characterSheet:t,weaponSheet:a})},defaultValue:E.a.getBaseStatValue(l,t,a,e)})},e)}))})}):Object(q.jsx)(O.a.Body,{children:Object(q.jsx)(v.a,{className:"mb-2",children:I.map((function(e){return Object(q.jsx)(m.a,{xs:12,lg:6,children:Object(q.jsx)(F.a,Object(c.a)({characterSheet:t,weaponSheet:a,statKey:e},M))},e)}))})})]})]})}var Y=a(288),Z=a(215),$=a(211),ee=a(331),te=a(207),ae=a(200),ce=a(41),ne=a(98);function se(e){var t=e.characterSheet,a=e.character,c=e.character,s=c.ascension,i=c.constellation,l=e.characterDispatch,o=Object(r.useContext)(g.a),j=o.newBuild,d=o.equippedBuild,b=j||d;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(v.a,{children:Object(q.jsx)(m.a,{children:Object(q.jsx)(re,{characterSheet:t})})}),Object(q.jsxs)(v.a,{children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var c=Object(n.a)(e,2),s=c[0],i=c[1];return Object(q.jsx)(m.a,{xs:12,md:6,lg:4,className:"mb-2",children:Object(q.jsx)(de,{characterSheet:t,character:a,characterDispatch:l,talentKey:s,subtitle:i})},s)})),!!t.getTalentOfKey("sprint",null===b||void 0===b?void 0:b.characterEle)&&Object(q.jsx)(m.a,{xs:12,md:6,lg:4,className:"mb-2",children:Object(q.jsx)(de,{characterSheet:t,character:a,characterDispatch:l,talentKey:"sprint",subtitle:"Alternative Sprint"})})]}),Object(q.jsx)(v.a,{children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var c=Object(n.a)(e,3),i=c[0],r=c[1],o=c[2],j=s>=o;return t.getTalentOfKey(i,null===b||void 0===b?void 0:b.characterEle)?Object(q.jsx)(m.a,{style:{opacity:j?1:.5},xs:12,md:4,className:"mb-2",children:Object(q.jsx)(de,{characterSheet:t,character:a,characterDispatch:l,talentKey:i,subtitle:r})},i):null}))}),Object(q.jsx)(v.a,{children:Object(q.jsx)(m.a,{children:Object(q.jsxs)("h5",{className:"text-center",children:["Constellation Lv. ",i]})})}),Object(q.jsx)(v.a,{className:"mb-n2",children:Object(z.a)(Array(6).keys()).map((function(e){var c="constellation".concat(e+1);return Object(q.jsx)(m.a,{xs:12,md:4,className:"mb-2",style:{opacity:i>e?1:.5},children:Object(q.jsx)(de,{characterSheet:t,character:a,characterDispatch:l,talentKey:c,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return l({constellation:e+1===i?e:e+1})}})},e)}))})]})}var ie={superconduct_hit:function(e){var t,a=e.stats,c="superconduct_hit";return Object(q.jsx)(O.a,{bg:"darkcontent",text:"lightfont",children:Object(q.jsx)(O.a.Body,{className:"p-2",children:Object(q.jsxs)("span",{className:"text-superconduct",children:[V.b.getStatName(c)," ",U.a.electro,"+",U.a.cryo," ",Object(q.jsx)("strong",{children:null===(t=a[c])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(c))})]})})})},electrocharged_hit:function(e){var t,a=e.stats,c="electrocharged_hit";return Object(q.jsx)(O.a,{bg:"darkcontent",text:"lightfont",children:Object(q.jsx)(O.a.Body,{className:"p-2",children:Object(q.jsxs)("span",{className:"text-electrocharged",children:[V.b.getStatName(c)," ",U.a.electro,"+",U.a.hydro," ",Object(q.jsx)("strong",{children:null===(t=a[c])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(c))})]})})})},overloaded_hit:function(e){var t,a=e.stats,c="overloaded_hit";return Object(q.jsx)(O.a,{bg:"darkcontent",text:"lightfont",children:Object(q.jsx)(O.a.Body,{className:"p-2",children:Object(q.jsxs)("span",{className:"text-overloaded",children:[V.b.getStatName(c)," ",U.a.electro,"+",U.a.pyro," ",Object(q.jsx)("strong",{children:null===(t=a[c])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(c))})]})})})},pyro_swirl_hit:function(e){var t,a=e.stats,c=Object(r.useState)(Object.keys(le)[0]),s=Object(n.a)(c,2),i=s[0],l=s[1],o="".concat(i,"_swirl_hit");return Object(q.jsx)(O.a,{bg:"darkcontent",text:"lightfont",children:Object(q.jsxs)(O.a.Body,{className:"p-0",children:[Object(q.jsx)(Y.a,{size:"sm",title:le[i],className:"d-inline-block",variant:"success",children:Object.entries(le).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(q.jsx)(h.a.Item,{onClick:function(){return l(a)},children:c},a)}))}),Object(q.jsxs)("span",{className:"text-".concat(i," p-2"),children:[" ",Object(q.jsx)("strong",{children:null===(t=a[o])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(o))})]})]})})},shattered_hit:function(e){var t,a=e.stats,c="shattered_hit",n=Object(q.jsx)(Z.a,{placement:"top",overlay:Object(q.jsxs)($.a,{id:"shatter-tooltip",children:["Claymores, Plunging Attacks and ",Object(q.jsx)("span",{className:"text-geo",children:"Geo DMG"})]}),children:Object(q.jsx)(i.a,{icon:s.v,style:{cursor:"help"}})});return Object(q.jsx)(O.a,{bg:"darkcontent",text:"lightfont",children:Object(q.jsx)(O.a.Body,{className:"p-2",children:Object(q.jsxs)("span",{className:"text-shattered",children:[V.b.getStatName(c)," ",U.a.hydro,"+",U.a.cryo,"+ ",Object(q.jsxs)("small",{className:"text-physical",children:["Heavy Attack",n," "]})," ",Object(q.jsx)("strong",{children:null===(t=a[c])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(c))})]})})})},crystalize_hit:function(e){var t,a=e.stats,c=Object(r.useState)(Object.keys(oe)[0]),s=Object(n.a)(c,2),i=s[0],l=s[1],o="default"===i?"crystalize_hit":"".concat(i,"_crystalize_hit");return Object(q.jsx)(O.a,{bg:"darkcontent",text:"lightfont",children:Object(q.jsxs)(O.a.Body,{className:"p-0",children:[Object(q.jsx)(Y.a,{size:"sm",title:oe[i],className:"d-inline-block",variant:"success",children:Object.entries(oe).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(q.jsx)(h.a.Item,{onClick:function(){return l(a)},children:c},a)}))}),Object(q.jsxs)("span",{className:"text-".concat(i," p-2"),children:[" ",Object(q.jsx)("strong",{children:null===(t=a[o])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(o))})]})]})})}};function re(e){var t=e.characterSheet,a=Object(r.useContext)(g.a),c=a.newBuild,n=a.equippedBuild,s=c||n;if(!s)return null;var i=s.characterEle,l=Object(z.a)(ce.a[i]||[]);return l.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||l.push("shattered_hit"),Object(q.jsx)(O.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(q.jsx)(O.a.Body,{className:"px-3 py-2",children:Object(q.jsx)(v.a,{className:"mb-n2",children:l.map((function(e){var t=ie[e];return t?Object(q.jsx)(m.a,{xs:"auto",className:"mb-2",children:Object(q.jsx)(t,{stats:s})},e):null}))})})})}var le={pyro:Object(q.jsxs)("span",{children:[V.b.getStatName("pyro_swirl_hit")," ",U.a.pyro,"+",U.a.anemo]}),electro:Object(q.jsxs)("span",{children:[V.b.getStatName("electro_swirl_hit")," ",U.a.electro,"+",U.a.anemo]}),cryo:Object(q.jsxs)("span",{children:[V.b.getStatName("cryo_swirl_hit")," ",U.a.cryo,"+",U.a.anemo]}),hydro:Object(q.jsxs)("span",{children:[V.b.getStatName("hydro_swirl_hit")," ",U.a.hydro,"+",U.a.anemo]})};var oe={default:Object(q.jsxs)("span",{className:"text-crystalize",children:[V.b.getStatName("crystalize_hit")," ",U.a.electro,"/",U.a.hydro,"/",U.a.pyro,"/",U.a.cryo,"+",U.a.geo]}),pyro:Object(q.jsxs)("span",{children:[V.b.getStatName("pyro_crystalize_hit")," ",U.a.pyro,"+",U.a.geo]}),electro:Object(q.jsxs)("span",{children:[V.b.getStatName("electro_crystalize_hit")," ",U.a.electro,"+",U.a.geo]}),cryo:Object(q.jsxs)("span",{children:[V.b.getStatName("cryo_crystalize_hit")," ",U.a.cryo,"+",U.a.geo]}),hydro:Object(q.jsxs)("span",{children:[V.b.getStatName("hydro_crystalize_hit")," ",U.a.hydro,"+",U.a.geo]})};var je=[1,1,2,4,6,8,10];function de(e){var t=e.characterSheet,a=e.character,c=a.talent,n=a.ascension,s=e.characterDispatch,i=e.talentKey,l=e.subtitle,o=e.onClickTitle,j=Object(r.useContext)(g.a),b=j.newBuild,u=j.equippedBuild,x=b||u;if(!x)return null;var p=null;if(i in c){var f,y=null!==(f=x["".concat(i,"Boost")])&&void 0!==f?f:0,N=c[i]+y;p=Object(q.jsx)(O.a.Header,{children:Object(q.jsx)(Y.a,{title:"Talent Lv. ".concat(N),children:Object(z.a)(Array(je[n]+("auto"!==i||y?0:1)).keys()).map((function(e){return Object(q.jsxs)(h.a.Item,{onClick:function(){return t=e+1,c[i]=t,void s({talent:c});var t},children:["Talent Lv. ",e+y+1]},e)}))})})}var S=t.getTalentStats(i,x),w=S&&Object(ne.a)(S,x),k=w&&!!w.length&&Object(q.jsx)(v.a,{children:Object(q.jsx)(m.a,{children:Object(q.jsx)(O.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(q.jsx)(ee.a,{className:"text-white",variant:"flush",children:w.map((function(e,t){return Object(q.jsx)(ae.a,{index:t,field:e},t)}))})})})}),C=t.getTalentOfKey(i,x.characterEle),B=null===C||void 0===C?void 0:C.sections;return Object(q.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",className:"h-100",children:[p,Object(q.jsxs)(O.a.Body,{className:"mb-n2",children:[Object(q.jsxs)(v.a,{className:"d-flex flex-row mb-2 ".concat(o?"cursor-pointer":""),onClick:o,children:[Object(q.jsx)(m.a,{xs:"auto",className:"flex-shrink-1 d-flex flex-column",children:Object(q.jsx)(d.a,{src:null===C||void 0===C?void 0:C.img,className:"thumb-mid"})}),Object(q.jsxs)(m.a,{className:"flex-grow-1",children:[Object(q.jsx)(O.a.Title,{children:null===C||void 0===C?void 0:C.name}),Object(q.jsx)(O.a.Subtitle,{children:l})]})]}),B?Object(q.jsx)(te.a,{sections:B,characterDispatch:s,equippedBuild:u,newBuild:b}):null,k]})]})}var be=a(224),ue=a(210),he=a(114),xe=a(205);function Oe(e){var t,a=e.characterKey,d=e.setCharacterKey,b=e.footer,u=e.newBuild,h=e.onClose,p=e.tabName,y=Object(r.useContext)(w.b),N=Object(r.useState)(!1),S=Object(n.a)(N,2),_=S[0],K=S[1],T=Object(k.a)(),A=Object(n.a)(T,2),I=A[0],D=A[1],z=Object(k.b)(B.a.getAll(),[]),P=Object(k.b)(he.b.getAll(),[]),M=Object(k.b)(f.a.getAll(),[]),W=Object(r.useMemo)((function(){var e;return I&&(null!==(e=y._getChar(a))&&void 0!==e?e:Object(xe.b)(a))}),[a,I,y]),F=Object(r.useMemo)((function(){return I&&y._getWeapon(W.equippedWeapon)}),[W.equippedWeapon,I,y]),U=null===P||void 0===P?void 0:P[a],V=F?null===z||void 0===z?void 0:z[F.key]:void 0,R=U&&V&&M&&{characterSheet:U,weaponSheet:V,artifactSheets:M},H=Object(r.useCallback)((function(e){if(a)if("type"in e)switch(e.type){case"weapon":y.setWeaponLocation(e.id,a);break;case"statOverride":var t=y._getChar(a);if(!U||!V)break;var n=e.statKey,s=e.value,i=t.baseStatOverrides,r=E.a.getBaseStatValue(t,U,V,n);r===s||void 0===r?delete i[n]:i[n]=s,y.updateChar(Object(c.a)(Object(c.a)({},t),{},{baseStatOverrides:i}))}else y.updateChar(Object(c.a)(Object(c.a)({},y._getChar(a)),e))}),[a,U,V,y]);Object(r.useEffect)((function(){return y.followChar(a,D)}),[a,D,y]),Object(r.useEffect)((function(){return y.followWeapon(W.equippedWeapon,D)}),[W.equippedWeapon,D,y]);var J=Object(r.useMemo)((function(){if(u)return Object(C.d)(u)}),[u]),X=null!==(t=null===J||void 0===J?void 0:J.mainStatAssumptionLevel)&&void 0!==t?t:0,Q=Object(r.useMemo)((function(){return U&&V&&M&&E.a.calculateBuild(W,y,U,V,M,X)}),[W,U,V,M,X,y]),Y=R&&Object(q.jsx)(be.d,{sheets:R,character:W,characterDispatch:H,className:"mb-2"});return Object(q.jsxs)(O.a,{bg:"darkcontent",text:"lightfont",children:[Object(q.jsx)(O.a.Header,{children:Object(q.jsxs)(v.a,{children:[Object(q.jsx)(m.a,{xs:"auto",className:"mr-auto",children:Object(q.jsx)(me,{characterSheet:U,character:W,weaponSheet:V,characterDispatch:H,setCharacterKey:d})}),Boolean(X)&&Object(q.jsx)(m.a,{xs:"auto",children:Object(q.jsx)(l.a,{className:"mb-0 py-1 h-100",variant:"orange",children:Object(q.jsxs)("b",{children:["Assume Main Stats are Level ",X]})})}),Boolean(h)&&Object(q.jsx)(m.a,{xs:"auto",children:Object(q.jsx)(x.a,{variant:"danger",onClick:h,children:Object(q.jsx)(i.a,{icon:s.B})})})]})}),a&&R&&U&&V&&Object(q.jsx)(O.a.Body,{children:Object(q.jsx)(g.a.Provider,{value:{newBuild:J,equippedBuild:Q,compareBuild:_,setCompareBuild:K},children:Object(q.jsxs)(o.a.Container,{defaultActiveKey:p||(J?"newartifacts":"character"),mountOnEnter:!0,unmountOnExit:!0,children:[Object(q.jsxs)(j.a,{variant:"pills",className:"mb-2 mx-0",fill:!0,children:[Object(q.jsx)(j.a.Item,{children:Object(q.jsx)(j.a.Link,{eventKey:"character",children:Object(q.jsx)("h5",{className:"mb-0",children:"Character"})})}),J?Object(q.jsx)(j.a.Item,{children:Object(q.jsx)(j.a.Link,{eventKey:"newartifacts",children:Object(q.jsx)("h5",{className:"mb-0",children:"New Artifacts"})})}):null,Object(q.jsx)(j.a.Item,{children:Object(q.jsx)(j.a.Link,{eventKey:"artifacts",children:Object(q.jsx)("h5",{className:"mb-0",children:J?"Current Artifacts":"Artifacts"})})}),Object(q.jsx)(j.a.Item,{children:Object(q.jsx)(j.a.Link,{eventKey:"talent",children:Object(q.jsx)("h5",{className:"mb-0",children:"Talents"})})})]}),Object(q.jsxs)(o.a.Content,{children:[Object(q.jsxs)(o.a.Pane,{eventKey:"character",children:[Y,Object(q.jsx)(G,{characterSheet:U,weaponSheet:V,character:W,characterDispatch:H})]}),Object(q.jsx)(g.a.Provider,{value:{newBuild:void 0,equippedBuild:Q,compareBuild:_,setCompareBuild:K},children:Object(q.jsxs)(o.a.Pane,{eventKey:"artifacts",children:[Y,Object(q.jsx)(L,{sheets:R,character:W,characterDispatch:H})]})}),J?Object(q.jsxs)(o.a.Pane,{eventKey:"newartifacts",children:[Y,Object(q.jsx)(L,{sheets:R,character:W,characterDispatch:H})]}):null,Object(q.jsxs)(o.a.Pane,{eventKey:"talent",children:[Y,Object(q.jsx)(se,{characterSheet:U,character:W,characterDispatch:H})]})]})]})})}),b&&Object(q.jsx)(O.a.Footer,{children:b})]})}function me(e){var t=e.characterSheet,a=e.weaponSheet,c=e.character,s=e.character,i=s.elementKey,l=void 0===i?"anemo":i,o=s.level,j=void 0===o?1:o,O=s.ascension,m=void 0===O?0:O,v=e.disabled,f=e.characterDispatch,g=e.setCharacterKey,w=t?Object(q.jsxs)("span",{children:[Object(q.jsx)(d.a,{src:t.thumbImg,className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(q.jsxs)("h6",{className:"d-inline",children:[" ",t.name," "]})]}):Object(q.jsx)("span",{children:"Select a Character"}),k=Object(r.useCallback)((function(e){e=Object(C.a)(e,1,90);var t=N.b.findIndex((function(t){return e<=t}));f({level:e,ascension:t})}),[f]),B=Object(r.useCallback)((function(){var e=N.b.findIndex((function(e){return 90!==j&&j===e}));f(m===e?{ascension:m+1}:{ascension:e})}),[f,m,j]);return Object(q.jsx)(q.Fragment,{children:v?Object(q.jsxs)("span",{children:[w," ",t&&a&&E.a.getLevelString(c)]}):Object(q.jsxs)(b.a,{children:[Object(q.jsxs)(u.a,{as:b.a.Prepend,children:[Object(q.jsx)(ue.a,{characterSheet:t,onSelect:g}),(null===t||void 0===t?void 0:t.sheet)&&"talents"in(null===t||void 0===t?void 0:t.sheet)&&Object(q.jsxs)(h.a,{as:u.a,children:[Object(q.jsx)(h.a.Toggle,{as:x.a,className:"text-".concat(l),children:Object(q.jsx)("strong",{children:S.a[l].name})}),Object(q.jsx)(h.a.Menu,{children:Object.keys(t.sheet.talents).map((function(e){return Object(q.jsx)(h.a.Item,{className:"text-".concat(e),onClick:function(){return f({elementKey:e})},children:Object(q.jsx)("strong",{children:S.a[e].name})},e)}))})]})]}),Object(q.jsx)(b.a.Prepend,{children:Object(q.jsx)(b.a.Text,{children:Object(q.jsx)("strong",{children:"Lvl. "})})}),Object(q.jsx)(b.a.Append,{children:Object(q.jsx)(y.a,{placeholder:void 0,className:"h-100",onChange:k,value:j,min:1,max:90,disabled:!t})}),Object(q.jsxs)(u.a,{as:b.a.Append,children:[Object(q.jsx)(x.a,{disabled:!Object(N.a)(j)||!t,onClick:B,children:Object(q.jsxs)("strong",{children:["/ ",N.b[m]]})}),Object(q.jsxs)(h.a,{as:u.a,children:[Object(q.jsx)(h.a.Toggle,{as:x.a,disabled:!t,children:"Select Level"}),Object(q.jsx)(h.a.Menu,{children:N.d.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],s=a===N.b[c]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(N.b[c]);return Object(q.jsx)(p.a,{onClick:function(){return f({level:a,ascension:c})},children:s},"".concat(a,"/").concat(c))}))})]})]})]})})}},279:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return P}));var c=a(68),n=a(14),s=a(8),i=a(2),r=a(29),l=a(10),o=a(0),j=a(186),d=a(119),b=a(70),u=a(216),h=a(231),x=a(184),O=a(113),m=a(140),p=a(185),v=a(545),f=a(206),g=a(97),y=a(114),N=a(203),S=a(207),w=a(227),k=a(202),C=a(39),B=a(45),E=a(82),_=a(11),K=a(235),T=a(236),A=a(116),I=a(331),q=a(200),D=a(98),L=a(1);function z(e){var t=e.title,a=e.statsVals,c=void 0===a?{}:a,n=e.stats;if(0===Object.keys(null!==c&&void 0!==c?c:{}).length)return null;var s=Object(D.a)(c,n);return Object(L.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:[Object(L.jsx)(j.a.Header,{className:"py-2 px-3",children:t}),Object(L.jsx)(I.a,{className:"text-white",variant:"flush",children:s.map((function(e,t){return Object(L.jsx)(q.a,{index:t,field:e,className:"px-3 py-2"},t)}))})]})}function P(e){var t,a=e.weaponId,v=e.charData,f=e.footer,K=void 0!==f&&f,I=e.onClose,q=Object(o.useContext)(B.b),D=Object(E.a)(),P=Object(i.a)(D,2),W=P[0],F=P[1],U=Object(o.useContext)(g.a),V=Object(o.useMemo)((function(){return W&&q._getWeapon(a)}),[a,W,q]),R=V.key,H=V.level,G=V.refine,J=V.ascension,X=V,Q=X.location,Y=void 0===Q?"":Q,Z=X.id,$=Object(E.b)(A.a.get(R),[R]),ee=null===$||void 0===$?void 0:$.weaponType;Object(o.useEffect)((function(){return a?q.followWeapon(a,F):void 0}),[a,F,q]);var te=Object(o.useCallback)((function(e){q.updateWeapon(e,a)}),[a,q]),ae=Object(o.useCallback)((function(e){e=Object(_.a)(e,1,90);var t=C.b.findIndex((function(t){return e<=t}));te({level:e,ascension:t})}),[te]),ce=Object(o.useCallback)((function(){var e=C.b.findIndex((function(e){return 90!==H&&H===e}));te(J===e?{ascension:J+1}:{ascension:e})}),[te,J,H]),ne=Object(s.a)({},v?null!==(t=v.newBuild)&&void 0!==t?t:v.equippedBuild:{weapon:{refineIndex:G-1,level:H,ascension:J}}),se=Object(E.b)(Y?y.b.get(Y):void 0,[Y]),ie=se?function(e){return e.weaponType===se.weaponTypeKey}:void 0;return Object(L.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(L.jsx)(j.a.Header,{children:Object(L.jsxs)(d.a,{children:[Object(L.jsx)(b.a,{children:Object(L.jsxs)(d.a,{className:"mb-n2",children:[Object(L.jsx)(b.a,{className:"mb-2",children:Object(L.jsx)(u.a,{children:Object(L.jsxs)(h.a,{as:u.a.Prepend,children:[Object(L.jsx)(T.a,{weaponSheet:$,onSelect:function(e){return te({key:e})},filter:ie}),Object(L.jsxs)(x.a,{as:h.a,children:[Object(L.jsxs)(x.a.Toggle,{as:O.a,children:["Refinement ",G]}),Object(L.jsxs)(x.a.Menu,{children:[Object(L.jsx)(x.a.ItemText,{children:Object(L.jsx)("span",{children:"Select Weapon Refinement"})}),Object(L.jsx)(x.a.Divider,{}),Object(n.a)(Array(5).keys()).map((function(e){return Object(L.jsx)(x.a.Item,{onClick:function(){return te({refine:e+1})},children:"Refinement ".concat(e+1)},e)}))]})]})]})})}),Object(L.jsx)(b.a,{className:"mb-2",xs:"auto",children:Object(L.jsxs)(u.a,{children:[Object(L.jsx)(u.a.Prepend,{children:Object(L.jsx)(u.a.Text,{children:Object(L.jsx)("strong",{children:"Lvl. "})})}),Object(L.jsx)(u.a.Append,{children:Object(L.jsx)(N.a,{placeholder:void 0,onChange:ae,value:H,min:1,max:90})}),Object(L.jsxs)(h.a,{as:u.a.Append,children:[Object(L.jsx)(O.a,{disabled:!Object(C.a)(H),onClick:ce,children:Object(L.jsxs)("strong",{children:["/ ",C.b[J]]})}),Object(L.jsxs)(x.a,{as:h.a,children:[Object(L.jsx)(x.a.Toggle,{as:O.a,children:"Select Level"}),Object(L.jsx)(x.a.Menu,{children:C.d.map((function(e){var t=Object(i.a)(e,2),a=t[0],c=t[1],n=a===C.b[c]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(C.b[c]);return Object(L.jsx)(x.a.Item,{onClick:function(){return te({level:a,ascension:c})},children:n},"".concat(a,"/").concat(c))}))})]})]})]})})]})}),!!I&&Object(L.jsx)(b.a,{xs:"auto",children:Object(L.jsx)(O.a,{variant:"danger",onClick:I,children:Object(L.jsx)(l.a,{icon:r.B})})}),!!v&&q===B.c&&Object(L.jsx)(b.a,{xs:"auto",children:Object(L.jsx)(M,{weaponTypeKey:ee,onChangeId:function(e){return q.setWeaponLocation(e,v.character.key)}})})]})}),Object(L.jsx)(j.a.Body,{children:function(){if(!$)return null;var e=$.getSubStatKey(),t=$.getMainStatValue(H,J),a=$.getSubStatValue(H,J),n=$.passiveName,s=$.stats(ne),i=$.document;return Object(L.jsxs)(d.a,{className:"mb-n2",children:[Object(L.jsxs)(b.a,{xs:12,md:3,lg:4,children:[Object(L.jsx)(m.a,{src:$.img,className:"w-100 h-auto grad-".concat($.rarity,"star"),thumbnail:!0}),Object(L.jsx)("small",{children:$.description})]}),Object(L.jsxs)(b.a,{children:[Object(L.jsxs)("h5",{className:"mb-0",children:[!1,$.name," Lv. ",A.a.getLevelString(V)," ",n&&Object(L.jsxs)(p.a,{variant:"info",children:["Refinement ",G]})]}),Object(L.jsx)("div",{className:"mb-2",children:Object(L.jsx)(k.a,{stars:$.rarity})}),Object(L.jsx)("h6",{children:n}),Object(L.jsx)("div",{className:"mb-2",children:n&&$.passiveDescription(ne)}),ne&&Object(L.jsxs)(g.a.Provider,{value:v?U:{equippedBuild:ne,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(L.jsx)(z,{title:"Main Stats",statsVals:Object(c.a)({atk:t},e,e?a:void 0),stats:ne}),Object(L.jsx)(z,{title:"Bonus Stats",statsVals:s,stats:ne})]}),v&&i?function(){var e=v.equippedBuild,t=v.newBuild,a=v.characterDispatch;return Object(L.jsx)(S.a,{sections:i,equippedBuild:e,newBuild:t,characterDispatch:a})}():null]})]})}()}),K&&Z&&Object(L.jsx)(j.a.Footer,{children:Object(L.jsxs)(d.a,{children:[Object(L.jsx)(b.a,{children:Object(L.jsx)(w.a,{location:Y,onEquip:function(e){return q.setWeaponLocation(Z,e)},weaponTypeKey:null===$||void 0===$?void 0:$.weaponType,disableUnequip:!!V.location,disabled:q===B.c})}),!!I&&Object(L.jsx)(b.a,{xs:"auto",children:Object(L.jsx)(O.a,{variant:"danger",onClick:I,children:"Close"})})]})})]})}function M(e){var t=e.onChangeId,a=e.weaponTypeKey,c=Object(o.useContext)(B.b),n=Object(o.useState)(!1),s=Object(i.a)(n,2),u=s[0],h=s[1],x=function(){return h(!1)},p=function(e){t(e),x()},g=Object(E.b)(A.a.getAll(),[]),y=c.weapons.keys.filter((function(e){var t,n=c._getWeapon(e);return!!n&&(!a||a===(null===g||void 0===g||null===(t=g[n.key])||void 0===t?void 0:t.weaponType))}));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(O.a,{variant:"info",onClick:function(){return h(!0)},children:[Object(L.jsx)(l.a,{icon:r.l})," SWAP WEAPON"]}),Object(L.jsx)(v.a,{show:u,size:"xl",contentClassName:"bg-transparent",onHide:x,children:Object(L.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",children:[Object(L.jsx)(j.a.Header,{children:Object(L.jsxs)(d.a,{children:[Object(L.jsxs)(b.a,{children:[a?Object(L.jsx)(m.a,{src:f.a.weaponTypes[a],className:"inline-icon"}):null," ",Object(L.jsx)("h5",{className:"mb-0 d-inline",children:"Swap Weapon"})]}),Object(L.jsx)(b.a,{xs:"auto",children:Object(L.jsx)(O.a,{onClick:x,variant:"danger",children:Object(L.jsx)(l.a,{icon:r.B})})})]})}),Object(L.jsx)(j.a.Body,{children:Object(L.jsx)(d.a,{children:y.map((function(e){return Object(L.jsx)(b.a,{lg:4,md:6,className:"mb-2",children:Object(L.jsx)(K.a,{weaponId:e,cardClassName:"h-100",onClick:p,footer:!0})},e)}))})})]})})]})}},537:function(e,t,a){"use strict";var c=a(217),n=a(0),s=a.n(n),i=a(38),r=a(126),l=a(26),o=function(e){var t=Object(i.a)(e,{activeKey:"onSelect"}),a=t.id,c=t.generateChildId,o=t.onSelect,j=t.activeKey,d=t.transition,b=t.mountOnEnter,u=t.unmountOnExit,h=t.children,x=Object(n.useMemo)((function(){return c||function(e,t){return a?a+"-"+t+"-"+e:null}}),[a,c]),O=Object(n.useMemo)((function(){return{onSelect:o,activeKey:j,transition:d,mountOnEnter:b||!1,unmountOnExit:u||!1,getControlledId:function(e){return x(e,"tabpane")},getControllerId:function(e){return x(e,"tab")}}}),[o,j,d,b,u,x]);return s.a.createElement(r.a.Provider,{value:O},s.a.createElement(l.a.Provider,{value:o||null},h))},j=a(3),d=a(5),b=a(7),u=a.n(b),h=a(9),x=["bsPrefix","as","className"],O=s.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.as,n=void 0===c?"div":c,i=e.className,r=Object(d.a)(e,x),l=Object(h.a)(a,"tab-content");return s.a.createElement(n,Object(j.a)({ref:t},r,{className:u()(i,l)}))})),m=a(99),p=["activeKey","getControlledId","getControllerId"],v=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"];var f=s.a.forwardRef((function(e,t){var a=function(e){var t=Object(n.useContext)(r.a);if(!t)return e;var a=t.activeKey,c=t.getControlledId,s=t.getControllerId,i=Object(d.a)(t,p),o=!1!==e.transition&&!1!==i.transition,b=Object(l.b)(e.eventKey);return Object(j.a)({},e,{active:null==e.active&&null!=b?Object(l.b)(a)===b:e.active,id:c(e.eventKey),"aria-labelledby":s(e.eventKey),transition:o&&(e.transition||i.transition||m.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:i.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:i.unmountOnExit})}(e),c=a.bsPrefix,i=a.className,o=a.active,b=a.onEnter,x=a.onEntering,O=a.onEntered,f=a.onExit,g=a.onExiting,y=a.onExited,N=a.mountOnEnter,S=a.unmountOnExit,w=a.transition,k=a.as,C=void 0===k?"div":k,B=(a.eventKey,Object(d.a)(a,v)),E=Object(h.a)(c,"tab-pane");if(!o&&!w&&S)return null;var _=s.a.createElement(C,Object(j.a)({},B,{ref:t,role:"tabpanel","aria-hidden":!o,className:u()(i,E,{active:o})}));return w&&(_=s.a.createElement(w,{in:o,onEnter:b,onEntering:x,onEntered:O,onExit:f,onExiting:g,onExited:y,mountOnEnter:N,unmountOnExit:S},_)),s.a.createElement(r.a.Provider,{value:null},s.a.createElement(l.a.Provider,{value:null},_))}));f.displayName="TabPane";var g=f,y=function(e){function t(){return e.apply(this,arguments)||this}return Object(c.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(s.a.Component);y.Container=o,y.Content=O,y.Pane=g;t.a=y}}]);
//# sourceMappingURL=3.5f3034f5.chunk.js.map