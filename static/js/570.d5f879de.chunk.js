"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[570],{9350:function(e,n,t){var r=t(95814),a=t(95504),o=t(37963),i=t(83794),c=t(75177),u=t(79572),s=t(34223),f=t(74678),l=t(93385),d=t(67095),p=t(487),v=t(76520),m=t(48289),h=t(22090),g={weaponTypes:{bow:r,catalyst:a,claymore:o,polearm:i,sword:c},slot:{flower:t(21327),plume:t(41802),sands:t(61174),goblet:t(21318),circlet:t(26104)},resin:{fragile:u,condensed:s},exp_books:{advice:f,wit:l,experience:d},team:{team1:p,team2:v,team3:m,team4:h}};n.Z=g},3992:function(e,n,t){var r=t(66934),a=t(57621),o=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));n.Z=o},71310:function(e,n,t){var r=t(66934),a=t(57621),o=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));n.Z=o},68198:function(e,n,t){t.d(n,{Z:function(){return d}});var r,a=t(1413),o=t(30168),i=t(45987),c=t(96739),u=t(24518),s=t(22020),f=t(80184),l=["large"];function d(e){var n=e.large,t=void 0!==n&&n,d=(0,i.Z)(e,l),p=(0,s.$)("ui").t;return t?(0,f.jsx)(u.Z,(0,a.Z)((0,a.Z)({color:"error",startIcon:(0,f.jsx)(c.Z,{})},d),{},{children:p(r||(r=(0,o.Z)(["close"])))})):(0,f.jsx)(u.Z,(0,a.Z)((0,a.Z)({color:"error",sx:{p:1,minWidth:0}},d),{},{children:(0,f.jsx)(c.Z,{})}))}},20005:function(e,n,t){function r(e){var n=e.condition,t=e.wrapper,r=e.falseWrapper,a=e.children;return n?t(a):r?r(a):a}t.d(n,{Z:function(){return r}})},33890:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),a=t(29439),o=t(45987),i=t(1235),c=t(24518),u=t(47047),s=t(65117),f=t(72791),l=t(80184),d=["title","children","id"];function p(e){var n=e.title,t=e.children,p=e.id,v=void 0===p?"dropdownbtn":p,m=(0,o.Z)(e,d),h=(0,f.useState)(null),g=(0,a.Z)(h,2),y=g[0],Z=g[1],_=Boolean(y),b=(0,f.useCallback)((function(e){return Z(e.currentTarget)}),[Z]),k=(0,f.useCallback)((function(){return Z(null)}),[Z]);return(0,l.jsxs)(f.Suspense,{fallback:(0,l.jsx)(c.Z,(0,r.Z)((0,r.Z)({endIcon:(0,l.jsx)(i.Z,{})},m),{},{children:(0,l.jsx)(u.Z,{width:50})})),children:[(0,l.jsx)(c.Z,(0,r.Z)((0,r.Z)({},m),{},{id:v,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":_?"true":void 0,onClick:b,endIcon:(0,l.jsx)(i.Z,{}),children:n})),(0,l.jsx)(s.Z,{id:"basic-menu",anchorEl:y,open:_,onClose:k,MenuListProps:{"aria-labelledby":v},onClick:k,children:(0,l.jsx)(f.Suspense,{fallback:(0,l.jsx)(u.Z,{width:"100%",height:"1000"}),children:t})})]})}},55942:function(e,n,t){var r=(0,t(66934).ZP)("img",{name:"ImgIcon",slot:"Root"})((function(e){var n=e.size;return{display:"inline-block",width:"auto",height:"".concat(1.2*(void 0===n?1:n),"em"),verticalAlign:"text-bottom"}}));n.Z=r},9321:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(1413),a=t(45987),o=t(66934),i=t(29968),c=t(26445),u=t(39504),s=t(47047),f=t(72791),l=t(71310),d=t(80184),p=["children","containerProps"],v=(0,o.ZP)(i.Z)((function(e){var n=e.theme;return{overflow:"scroll",paddingTop:n.spacing(2),paddingBottom:n.spacing(2)}})),m=(0,o.ZP)(c.Z)((function(e){e.theme;return{padding:0,minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center",pointerEvents:"none","& > *":{pointerEvents:"auto"}}}));function h(e){var n=e.children,t=e.containerProps,o=(0,a.Z)(e,p);return(0,d.jsx)(v,(0,r.Z)((0,r.Z)({},o),{},{children:(0,d.jsx)(m,(0,r.Z)((0,r.Z)({},t),{},{children:(0,d.jsx)(f.Suspense,{fallback:(0,d.jsx)(l.Z,{children:(0,d.jsx)(u.Z,{children:(0,d.jsx)(s.Z,{variant:"rectangular",width:"100%",height:300})})}),children:n})}))}))}},91839:function(e,n,t){var r=t(66934),a=t(72466),o=(0,r.ZP)(a.Z,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var n=e.theme,t=e.baseColor,r=void 0===t?"secondary":t,a=e.selectedColor,o=void 0===a?"success":a;return{"& .MuiToggleButtonGroup-grouped":{"&":{backgroundColor:n.palette[r].main,color:n.palette[r].contrastText},"&:hover":{backgroundColor:n.palette[r].dark,transition:"background-color 0.25s ease"},"&.Mui-selected":{backgroundColor:n.palette[o].main,color:n.palette[o].contrastText},"&.Mui-selected:hover":{backgroundColor:n.palette[o].dark},"&.Mui-disabled":{backgroundColor:n.palette[r].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:n.palette[o].dark}}}}));n.Z=o},59215:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(1413),a=t(45987),o=t(53174),i=t(54483),c=t(2199),u=t(23786),s=t(24518),f=t(52791),l=t(22020),d=t(76899),p=t(33890),v=t(80184),m=["sortKeys","value","onChange","ascending","onChangeAsc"];function h(e){var n=e.sortKeys,t=e.value,h=e.onChange,g=e.ascending,y=e.onChangeAsc,Z=(0,a.Z)(e,m),_=(0,l.$)("ui").t;return(0,v.jsxs)(f.Z,{display:"flex",alignItems:"center",gap:1,children:[(0,v.jsx)(d.c,{t:_,i18nKey:_("sortBy"),children:"Sort by: "}),(0,v.jsxs)(c.Z,(0,r.Z)((0,r.Z)({},Z),{},{children:[(0,v.jsx)(p.Z,{title:(0,v.jsx)(d.c,{t:_,i18nKey:_("sortMap.".concat(t)),children:{value:_("sortMap.".concat(t))}}),children:n.map((function(e){return(0,v.jsx)(u.Z,{selected:t===e,disabled:t===e,onClick:function(){return h(e)},children:_("sortMap.".concat(e))},e)}))}),(0,v.jsx)(s.Z,{onClick:function(){return y(!g)},startIcon:(0,v.jsx)(i.G,{icon:g?o.Pa6:o.xrW,className:"fa-fw"}),children:g?(0,v.jsx)(d.c,{t:_,i18nKey:"ascending",children:"Ascending"}):(0,v.jsx)(d.c,{t:_,i18nKey:"descending",children:"Descending"})})]}))]})}},10157:function(e,n,t){t.d(n,{t:function(){return s}});var r=t(93433),a=t(53174),o=t(54483),i=t(20890),c=t(80184),u=function(){return(0,c.jsx)(o.G,{icon:a.Tab})},s=function(e){var n=e.stars,t=e.colored,a=void 0!==t&&t;return(0,c.jsx)(i.Z,{color:a?"warning.main":void 0,component:"span",children:n?(0,r.Z)(Array(n).keys()).map((function(e,n){return(0,c.jsx)(u,{},n)})):null})}},75545:function(e,n,t){t.d(n,{h:function(){return s}});var r=t(1413),a=t(54483),o=t(60393),i=t(91702),c=t(24078),u=t(80184),s={anemo:(0,u.jsx)(a.G,{icon:c.Jf}),geo:(0,u.jsx)(a.G,{icon:c.lQ}),electro:(0,u.jsx)(a.G,{icon:c.FZ}),hydro:(0,u.jsx)(a.G,{icon:c.b5}),pyro:(0,u.jsx)(a.G,{icon:c.bI}),cryo:(0,u.jsx)(a.G,{icon:c.qO}),dendro:(0,u.jsx)(a.G,{icon:c.Ul}),physical:(0,u.jsx)(a.G,{icon:c.sR})},f=(0,o.O)(Object.keys(s),(function(e){return(0,u.jsx)(i.Z,{color:e,sx:{lineHeight:1},children:s[e]})})),l=(0,r.Z)((0,r.Z)({hp_:(0,u.jsx)(a.G,{icon:c.$P}),hp:(0,u.jsx)(a.G,{icon:c.$P}),atk_:(0,u.jsx)(a.G,{icon:c._p}),atk:(0,u.jsx)(a.G,{icon:c._p}),def_:(0,u.jsx)(a.G,{icon:c.ek}),def:(0,u.jsx)(a.G,{icon:c.ek}),eleMas:(0,u.jsx)(a.G,{icon:c.Nk}),critRate_:(0,u.jsx)(a.G,{icon:c.gV}),critDMG_:(0,u.jsx)(a.G,{icon:c.a2}),enerRech_:(0,u.jsx)(a.G,{icon:c.ss}),incHeal_:(0,u.jsx)(a.G,{icon:c.i1}),heal_:(0,u.jsx)(a.G,{icon:c.rl}),cdRed_:(0,u.jsx)(a.G,{icon:c.g7}),shield_:(0,u.jsx)(a.G,{icon:c.WR}),stamina:(0,u.jsx)(a.G,{icon:c.mF})},f),Object.fromEntries(Object.keys(f).flatMap((function(e){return[["".concat(e,"_dmg_"),f[e]],["".concat(e,"_res_"),f[e]],["".concat(e,"_critDMG_"),f[e]],["".concat(e,"_dmgInc"),f[e]],["".concat(e,"_enemyRes_"),f[e]]]}))));n.Z=l},947:function(e,n,t){t.d(n,{Z:function(){return y},G:function(){return k}});var r=t(29439),a=t(1413),o=t(93433),i=t(15671),c=t(43144),u=t(9350),s=t(55942),f=t(25617),l=t(66624),d=t(26138),p=t(78661),v=t(2139),m=t(53343),h=t(80184),g=t.e(726).then(t.bind(t,46726)).then((function(e){return e.default})),y=function(){function e(n,t){var r=this;(0,i.Z)(this,e),this.sheet=void 0,this.data=void 0,this.isMelee=function(){var e=r.sheet.weaponTypeKey;return"sword"===e||"polearm"===e||"claymore"===e},this.getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anemo";return"charKey"in r.data?r.data:r.data[e]},this.getTalent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anemo";return"talent"in r.sheet?r.sheet.talent:r.sheet.talents[e]},this.getTalentOfKey=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"anemo";return null===(n=r.getTalent(t))||void 0===n?void 0:n.sheets[e]},this.sheet=n,this.data=t}return(0,c.Z)(e,[{key:"name",get:function(){return this.sheet.name}},{key:"icon",get:function(){return(0,h.jsx)(s.Z,{src:this.thumbImgSide,sx:{height:"2em",marginTop:"-2em",marginLeft:"-0.5em"}})}},{key:"nameWIthIcon",get:function(){return(0,h.jsxs)("span",{children:[this.icon," ",this.name]})}},{key:"cardImg",get:function(){return this.sheet.cardImg}},{key:"thumbImg",get:function(){return this.sheet.thumbImg}},{key:"thumbImgSide",get:function(){return this.sheet.thumbImgSide}},{key:"bannerImg",get:function(){return this.sheet.bannerImg}},{key:"rarity",get:function(){return this.sheet.rarity}},{key:"elementKey",get:function(){return"elementKey"in this.sheet?this.sheet.elementKey:void 0}},{key:"weaponTypeKey",get:function(){return this.sheet.weaponTypeKey}},{key:"constellationName",get:function(){return this.sheet.constellationName}},{key:"isTraveler",get:function(){return"talents"in this.sheet}}],[{key:"getAll",get:function(){return g}}]),e}();y.get=function(e){return e?g.then((function(n){return n[e]})):void 0},y.getLevelString=function(e,n){return"".concat(e,"/").concat(v.SJ[n])};var Z=function(e,n,t){return{title:n("".concat(e,".name")),icon:(0,h.jsx)(s.Z,{size:2,sx:{m:-1},src:t}),action:(0,h.jsx)(f.Z,{color:"success",children:(0,m.st)("talents.".concat(e))}),description:n("".concat(e,".description"))}},_={passive1:(0,p.ew)(d.qH.asc,1,1),passive2:(0,p.ew)(d.qH.asc,4,1),constellation1:(0,p.ew)(d.qH.constellation,1,1),constellation2:(0,p.ew)(d.qH.constellation,2,1),constellation3:(0,p.ew)(d.qH.constellation,3,1),constellation4:(0,p.ew)(d.qH.constellation,4,1),constellation5:(0,p.ew)(d.qH.constellation,5,1),constellation6:(0,p.ew)(d.qH.constellation,6,1)};function b(e,n){return _[e]?(["passive1","passive2"].includes(e)?(t=d.qH.asc,r=1===+e.slice(-1)?1:4):(t=d.qH.constellation,r=+e.slice(-1)),n?(0,p.ew)(t,r,n||1):_[e]):n;var t,r}var k=function(e,n,t,i){var c="Traveler"===e?[function(e){return(0,h.jsx)(l.v,{ns:"char_Traveler_gen",key18:"".concat(i,".").concat(e)})}]:(0,m.dW)("char",e),s=(0,r.Z)(c,1)[0];return t.auto=u.Z.weaponTypes[n],{talentTemplate:function(e,n){var r;return function(e,n,t,r){return{name:n("".concat(e,".name")),img:t,sections:[].concat((0,o.Z)("auto"!==e?[{text:n("".concat(e,".description"))}]:[]),(0,o.Z)(r||[]))}}(e,s,null!==(r=t[e])&&void 0!==r?r:"",n)},headerTemplate:function(e,n){var r;return function(e,n,t,r){return(0,a.Z)((0,a.Z)({},r),{},{header:Z(e,n,t),canShow:b(e,r.canShow)})}(e,s,null!==(r=t[e])&&void 0!==r?r:"",n)},fieldsTemplate:function(e,n){return function(e,n){return(0,a.Z)((0,a.Z)({},n),{},{canShow:b(e,n.canShow)})}(e,n)},conditionalTemplate:function(e,n){var r;return function(e,n,t,r){return(0,a.Z)((0,a.Z)({},n),{},{header:(0,a.Z)((0,a.Z)({},Z(e,t,r)),n.header),canShow:b(e,n.canShow)})}(e,n,s,null!==(r=t[e])&&void 0!==r?r:"")}}}},53343:function(e,n,t){t.d(n,{st:function(){return c},Oy:function(){return u},v9:function(){return s},wV:function(){return f},dW:function(){return l}});var r=t(93433),a=t(66624),o=t(78661),i=t(80184),c=function(e,n){return(0,i.jsx)(a.v,{ns:"sheet",key18:e,values:n})},u=function(e){return(0,i.jsx)(a.v,{ns:"sheet_gen",key18:e})},s=function(e){return(0,o.Mp)(["conditional"].concat((0,r.Z)(e)))};function f(e,n){var t=[e,n];return[t,s(t)]}function l(e,n){return[function(t){return(0,i.jsx)(a.v,{ns:"".concat(e,"_").concat(n,"_gen"),key18:t})},function(t,r){return(0,i.jsx)(a.v,{ns:"".concat(e,"_").concat(n),key18:t,values:r})}]}},73036:function(e,n,t){t.d(n,{n3:function(){return v},vn:function(){return m},v0:function(){return h},b3:function(){return Z},mP:function(){return _},d1:function(){return p},Qo:function(){return y}});var r=t(93433),a=t(4942),o=t(29439),i=t(1413),c=t(19272),u=t(24351),s=t(60393),f=t(26138),l=t(18327),d=t(78661);function p(e,n){return(0,s.Q1)(e,[],(function(e){return e.operation}),(function(e,t){"teamBuff"===t[0]&&(t=t.slice(1),e.info||(e.info={}),e.info.isTeamBuff=!0);var r=(0,s.Hm)(f.qH,t);r?e.info=(0,i.Z)((0,i.Z)((0,i.Z)({},e.info),r.info),{},{prefix:void 0,source:n}):"tally"!==t[0]&&console.error("Detect ".concat(n," buff into non-existant key path ").concat(t))})),e}function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=c.Z.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(n,4*e.rarity),e.level)),r=[];return r.push([e.mainStatKey,t]),e.substats.forEach((function(e){var n=e.key,t=e.accurateValue;return n&&r.push([n,t])})),{art:(0,i.Z)((0,i.Z)({},Object.fromEntries(r.map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return t.endsWith("_")?[t,(0,d.aQ)(r/100)]:[t,(0,d.a9)(r)]})))),{},(0,a.Z)({},e.slotKey,{id:(0,d.a9)(e.id),set:(0,d.a9)(e.setKey)})),artSet:(0,a.Z)({},e.setKey,(0,d.a9)(1))}}function m(e){for(var n,t={lvl:(0,d.a9)(e.level),constellation:(0,d.a9)(e.constellation),asc:(0,d.a9)(e.ascension),infusion:{team:e.infusionAura?(0,d.a9)(e.infusionAura):void 0},premod:{auto:(0,d.a9)(e.talent.auto),skill:(0,d.a9)(e.talent.skill),burst:(0,d.a9)(e.talent.burst)},enemy:(0,i.Z)((0,i.Z)({},(0,s.O)(u.Kj.map((function(e){return"".concat(e,"_res_")})),(function(n){var t;return(0,d.aQ)((null!==(t=e.enemyOverride["".concat(n.slice(0,-5),"_enemyRes_")])&&void 0!==t?t:10)/100)}))),{},{level:(0,d.a9)(null!==(n=e.enemyOverride.enemyLevel)&&void 0!==n?n:e.level)}),hit:{hitMode:(0,d.a9)(e.hitMode),reaction:(0,d.a9)(e.reactionMode)},customBonus:{}},r=0,a=Object.entries(e.bonusStats);r<a.length;r++){var c=(0,o.Z)(a[r],2),f=c[0],l=c[1];t.customBonus[f]=f.endsWith("_")?(0,d.aQ)(l/100):(0,d.a9)(l)}return e.enemyOverride.enemyDefRed_&&(t.premod.enemyDefRed_=(0,d.aQ)(e.enemyOverride.enemyDefRed_/100)),e.enemyOverride.enemyDefIgn_&&(t.enemy.defIgn=(0,d.aQ)(e.enemyOverride.enemyDefIgn_/100)),(0,s.Q1)(e.conditional,["conditional"],(function(e){return"string"===typeof e}),(function(e,n){return(0,s.SR)(t,n,(0,d.a9)(e))})),t}function h(e){return{weapon:{id:(0,d.a9)(e.id),lvl:(0,d.a9)(e.level),asc:(0,d.a9)(e.ascension),refinement:(0,d.a9)(e.refinement),refineIndex:(0,d.a9)(e.refinement-1)}}}var g=(0,d.yY)((0,s.I8)(f.qH),["teamBuff"]);function y(e,n){var t=Object.entries(e).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[t,(0,i.Z)({},Z(r))]})),a=Object.fromEntries(t.map((function(e){return[(0,o.Z)(e,1)[0],{targetRef:{},buffs:[],calcs:{}}]}))),c={};function u(e){var n="teamBuff"===e[0]?(0,s.Hm)(g,e.slice(1)):(0,s.Hm)(f.qH,e);if(n)return n;var t=(0,s.Hm)(c,e);if(t)return t;var r=(0,d.UF)(e);return"teamBuff"===e[0]&&"tally"===e[1]&&(r.accu="add"),(0,s.SR)(c,e,r),r}Object.values(a).forEach((function(e){var n=e.targetRef,c=e.buffs,l=e.calcs;return t.forEach((function(e){var t=(0,o.Z)(e,2),p=t[0],v=t[1].teamBuff,m={},h=(0,s.I8)({teamBuff:v});c.push(m),l[p]=h,(0,s.Q1)(v,[],(function(e){return e.operation}),(function(e,t){var o=(0,i.Z)((0,i.Z)({},(0,s.Hm)(f.qH,t)),{},{source:p,prefix:void 0,asConst:true});(0,s.SR)(m,t,(0,d.uY)(u(["teamBuff"].concat((0,r.Z)(t))),h,o)),(0,s.Q1)(e,[],(function(e){return"read"===(null===e||void 0===e?void 0:e.operation)}),(function(e){var t,r;"targetBuff"!==e.path[0]&&("target"===e.path[0]?(t=u(e.path.slice(1)),r=n):(t=e,r=a[p].targetRef),(0,s.SR)(h,e.path,(0,d.uY)(t,r)))}))}))}))})),t.forEach((function(e){var t=(0,o.Z)(e,2),r=t[0],c=t[1];delete c.teamBuff;var u=a[r],f=u.targetRef,l=Z(u.buffs);(0,s.Q1)(null!==l&&void 0!==l?l:{},[],(function(e){return e.operation}),(function(e,n){var t;e.info=(0,i.Z)((0,i.Z)({},null===(t=(0,s.Hm)(g,n))||void 0===t?void 0:t.info),{},{prefix:"teamBuff",pivot:true})})),Object.assign(f,Z([c,l,{teamBuff:l,activeCharKey:(0,d.a9)(n)}])),f.target=f}));var p=new l.w(void 0,void 0);return Object.fromEntries(Object.entries(a).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[t,{target:new l.w(r.targetRef,p),buffs:Object.fromEntries(Object.entries(r.calcs).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[t,new l.w(r,p)]})))}]})))}function Z(e){return e.length?function e(n,t){if(n.length<=1)return n[0];if(n[0].operation){var a;"teamBuff"===t[0]&&(t=t.slice(1));var o=null!==(a=(0,s.Hm)(f.qH,t))&&void 0!==a?a:{},i=o.accu,c=o.type;if("tally"===t[0])i="add";else if(void 0===i){var u="Multiple entries when merging `unique` for key ".concat(t);console.error(u),i="number"===c?"max":"small"}return{operation:i,operands:n}}return Object.fromEntries((0,r.Z)(new Set(n.flatMap((function(e){return Object.keys(e)})))).map((function(a){return[a,e(n.map((function(e){return e[a]})).filter((function(e){return e})),[].concat((0,r.Z)(t),[a]))]})))}(e,[]):{}}function _(e){return new l.w(Z(e),void 0)}},26138:function(e,n,t){t.d(n,{qH:function(){return I},ri:function(){return z},y0:function(){return V},fA:function(){return A},uK:function(){return q}});var r,a=t(1413),o=t(37762),i=t(93433),c=t(79406),u=t(24351),s=t(60393),f=t(78661),l=!0,d=u.Kj,p=["auto","skill","burst"],v=["normal","charged","plunging","skill","burst","elemental"],m=["hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_","physical_dmg_","anemo_dmg_","geo_dmg_","heal_"],h=["overloaded","shattered","electrocharged","superconduct","swirl"],g=["vaporize","melt"],y=[].concat(m,(0,i.Z)(["all","burning"].concat(h,g,v).map((function(e){return"".concat(e,"_dmg_")})))),Z=[].concat((0,i.Z)(d.flatMap((function(e){return["".concat(e,"_dmgInc"),"".concat(e,"_critDMG_"),"".concat(e,"_res_")]}))),(0,i.Z)(v.flatMap((function(e){return["".concat(e,"_dmgInc"),"".concat(e,"_critDMG_"),"".concat(e,"_critRate_")]}))),["all_dmgInc"],(0,i.Z)(c.bU),["enemyDefRed_"],["stamina","staminaDec_","staminaSprintDec_","staminaGlidingDec_","staminaChargedDec_","incHeal_","shield_","cdRed_","moveSPD_","atkSPD_","weakspotDMG_","dmgRed_"]),_=(0,s.O)(p,(function(e){return(0,f.ij)()})),b=(0,s.O)(y,(function(e){return(0,f.ij)(void 0,{key:e})})),k=(0,s.O)(Z,(function(e){return(0,f.ij)(void 0,{key:e})})),x=(0,o.Z)(d);try{for(x.s();!(r=x.n()).done;){var j=r.value;k["".concat(j,"_res_")].info.variant=j,k["".concat(j,"_enemyRes_")].info.variant=j,k["".concat(j,"_critDMG_")].info.variant=j,k["".concat(j,"_dmgInc")].info.variant=j,b["".concat(j,"_dmg_")].info.variant=j}}catch(F){x.e(F)}finally{x.f()}for(var w=0,S=[].concat(h,g);w<S.length;w++){var M=S[w];b["".concat(M,"_dmg_")].info.variant=M}function O(e,n){return n=(0,s.I8)(n),(0,s.Q1)(n,[],(function(e){return e.operation}),(function(n){return n.info=(0,a.Z)((0,a.Z)({},e),n.info)})),n}var W,N,I=(0,f.yY)((0,s.I8)({activeCharKey:(0,f.WK)(),charKey:(0,f.WK)(),charEle:(0,f.WK)(),weaponType:(0,f.WK)(),lvl:(0,f.ij)(void 0,{key:"level",prefix:"char"}),constellation:(0,f.ij)(),asc:(0,f.ij)(),special:(0,f.ij)(),infusion:{overridableSelf:(0,f.WK)("small"),nonOverridableSelf:(0,f.WK)("small"),team:(0,f.WK)("small")},base:(0,s.O)(["atk","hp","def"],(function(e){return(0,f.ij)("add",{key:e})})),customBonus:O({prefix:"custom",pivot:l},(0,a.Z)((0,a.Z)({},b),k)),bonus:(0,a.Z)({},_),premod:(0,a.Z)((0,a.Z)((0,a.Z)({},_),b),k),total:O({prefix:"total",pivot:l},(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},_),(0,s.Uq)(p,(function(e){return["".concat(e,"Index"),(0,f.ij)()]}))),b),k),{},{cappedCritRate:(0,f.ij)(void 0,{key:"critRate_"})})),art:O({prefix:"art",asConst:true},(0,a.Z)((0,a.Z)({},(0,s.O)(m,(function(e){return b[e]}))),(0,s.O)(u.eV,(function(e){return{id:(0,f.WK)(),set:(0,f.WK)()}})))),artSet:(0,s.O)(u.q2,(function(e){return(0,f.ij)("add",{key:e})})),weapon:O({prefix:"weapon",asConst:true},{id:(0,f.WK)(),key:(0,f.WK)(),type:(0,f.WK)(),lvl:(0,f.ij)(),asc:(0,f.ij)(),refinement:(0,f.ij)(),refineIndex:(0,f.ij)(),main:(0,f.ij)(),sub:(0,f.ij)(),sub2:(0,f.ij)()}),enemy:(0,a.Z)((0,a.Z)((0,a.Z)({def:(0,f.ij)("add",{key:"enemyDef_multi",pivot:l})},(0,s.O)(d.map((function(e){return"".concat(e,"_resMulti")})),(function(e){return(0,f.ij)()}))),{},{level:(0,f.ij)(void 0,{key:"enemyLevel"})},(0,s.Uq)(d,(function(e){return["".concat(e,"_res_"),(0,f.ij)(void 0)]}))),{},{defRed:(0,f.ij)(void 0),defIgn:(0,f.ij)("add",{key:"enemyDefIgn_",pivot:l})}),hit:{ele:(0,f.WK)(),reaction:(0,f.WK)(),move:(0,f.WK)(),hitMode:(0,f.WK)(),base:(0,f.ij)("add",{key:"base"}),dmgBonus:(0,f.ij)("add",{key:"dmg_",pivot:l}),dmgInc:(0,f.ij)("add",{key:"dmgInc",pivot:l}),dmg:(0,f.ij)()}})),C=I.base,R=I.bonus,K=I.customBonus,G=I.premod,B=I.total,D=I.art,P=I.hit,H=I.enemy;W="add",N={bonus:R,customBonus:K,premod:G,art:D,total:(0,s.O)(y,(function(e){return B[e]}))},(0,s.Q1)(N,[],(function(e){return e.operation}),(function(e){"read"===e.operation&&"number"===e.type&&(e.accu=W)})),R.auto.info={key:"autoBoost"},R.skill.info={key:"skillBoost"},R.burst.info={key:"burstBoost"},C.atk.info={key:"atk",prefix:"base",pivot:l},delete B.critRate_.info.pivot,B.critRate_.info.prefix="uncapped";var E=(0,f.Sm)(f.bf,(0,f.WV)(25/9,(0,f.F9)(B.eleMas,1400))),T=(0,f.P5)(P.ele,{pyro:(0,f.P5)(P.reaction,{pyro_vaporize:(0,f.a9)("vaporize"),pyro_melt:(0,f.a9)("melt")},void 0),hydro:(0,f.sZ)(P.reaction,"hydro_vaporize","vaporize"),cryo:(0,f.sZ)(P.reaction,"cryo_melt","melt")},void 0),V={premod:(0,a.Z)((0,a.Z)((0,a.Z)({},(0,s.O)(p,(function(e){return R[e]}))),(0,s.O)(Z,(function(e){return K[e]}))),(0,s.O)(y,(function(e){var n=[];switch(e){case"atk":case"def":case"hp":n.push((0,f.WV)(C[e],(0,f.Sm)(f.bf,G["".concat(e,"_")])));break;case"critRate_":n.push((0,f.aQ)(.05,{key:e,prefix:"default"}),(0,f.P5)(P.move,(0,s.O)(v,(function(e){return G["".concat(e,"_critRate_")]})),0));break;case"critDMG_":n.push((0,f.aQ)(.5,{key:e,prefix:"default"}),(0,f.P5)(P.ele,(0,s.O)(d,(function(e){return G["".concat(e,"_critDMG_")]})),0),(0,f.P5)(P.move,(0,s.O)(v,(function(e){return G["".concat(e,"_critDMG_")]})),0));break;case"enerRech_":n.push((0,f.aQ)(1,{key:e,prefix:"default"}))}return f.Sm.apply(void 0,(0,i.Z)([].concat(n,[D[e],K[e]]).filter((function(e){return e}))))}))),total:(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},(0,s.O)(p,(function(e){return G[e]}))),(0,s.O)(y,(function(e){return G[e]}))),(0,s.O)(Z,(function(e){return G[e]}))),(0,s.Uq)(p,(function(e){return["".concat(e,"Index"),(0,f.Sm)(B[e],-1)]}))),{},{stamina:(0,f.Sm)((0,f.a9)(100,{key:"stamina",prefix:"default"}),K.stamina),cappedCritRate:(0,f.Fp)((0,f.VV)(B.critRate_,f.bf),f.zv)}),hit:{dmgBonus:(0,f.Sm)(B.all_dmg_,(0,f.P5)(P.move,(0,s.O)(v,(function(e){return B["".concat(e,"_dmg_")]})),f.zv),(0,f.P5)(P.ele,(0,s.O)(d,(function(e){return B["".concat(e,"_dmg_")]})),f.zv)),dmgInc:(0,f.Sm)(B.all_dmgInc,(0,f.P5)(P.ele,(0,s.O)(d,(function(e){return B["".concat(e,"_dmgInc")]})),NaN),(0,f.P5)(P.move,(0,s.O)(v,(function(e){return B["".concat(e,"_dmgInc")]})),NaN)),dmg:(0,f.WV)((0,f.Sm)(P.base,P.dmgInc),(0,f.Sm)(f.bf,P.dmgBonus),(0,f.P5)(P.hitMode,{hit:f.bf,critHit:(0,f.Sm)(f.bf,B.critDMG_),avgHit:(0,f.Sm)(f.bf,(0,f.WV)(B.cappedCritRate,B.critDMG_))},NaN),H.def,(0,f.P5)(P.ele,(0,s.O)(d,(function(e){return H["".concat(e,"_resMulti")]})),NaN),(0,f.P5)(T,{melt:(0,f.P5)(P.ele,{pyro:(0,f.WV)(2,(0,f.Sm)(E,B.melt_dmg_)),cryo:(0,f.WV)(1.5,(0,f.Sm)(E,B.melt_dmg_))},1,{key:"melt_dmg_"}),vaporize:(0,f.P5)(P.ele,{hydro:(0,f.WV)(2,(0,f.Sm)(E,B.vaporize_dmg_)),pyro:(0,f.WV)(1.5,(0,f.Sm)(E,B.vaporize_dmg_))},1,{key:"vaporize_dmg_"})},1))},enemy:(0,a.Z)({def:(0,f.F9)((0,f.Sm)(I.lvl,100),(0,f.WV)((0,f.Sm)(H.level,100),(0,f.Sm)(f.bf,(0,f.WV)(-1,H.defRed)),(0,f.Sm)(f.bf,(0,f.WV)(-1,H.defIgn)))),defRed:B.enemyDefRed_},(0,s.Uq)(d,(function(e){return["".concat(e,"_resMulti"),(0,f.R9)((0,f.ce)((0,f.Sm)(H["".concat(e,"_res_")],B["".concat(e,"_enemyRes_")]),{key:"".concat(e,"_res_"),variant:e}))]})))},A=(0,f.yY)((0,s.I8)(I),["target"]),q=(0,f.yY)((0,s.O)([].concat((0,i.Z)(d),(0,i.Z)(u.vn)),(function(e){return(0,f.ij)("add")})),["tally"]),z=I},64737:function(e,n,t){t.d(n,{aD:function(){return o},uW:function(){return i}});var r=t(1413),a=t(78661);function o(e,n,t){var r=new Set,a=new Set;e.forEach((function e(o){a.has(o)||(r.has(o)?console.error("Found cyclical dependency during formula traversal"):(r.add(o),n(o),o.operands.forEach(e),t(o),r.delete(o),a.add(o)))}))}function i(e,n,t){var o=new Set,i=new Map,u=new Map;function s(e){var f=i.get(e);if(f)return f;f=n(e);var l=u.get(f);return l||(o.has(f)?(console.error("Found cyclical dependency during formula mapping"),(0,a.a9)(NaN)):(o.add(f),l=t(function(e){var n=e.operands.map(s);return c(n,e.operands)?e:(0,r.Z)((0,r.Z)({},e),{},{operands:n})}(f),e),o.delete(f),i.set(e,l),u.set(f,l),l))}var f=e.map(s);return c(f,e)?e:f}function c(e,n){return void 0===e?void 0===n:void 0!==n&&(e.length===n.length&&e.every((function(e,t){return e===n[t]})))}},69292:function(e,n,t){t.d(n,{aj:function(){return l},tL:function(){return p},CG:function(){return h}});var r=t(37762),a=t(29439),o=t(1413),i=t(93433),c=t(60393),u=t(64737),s=t(78661),f={min:function(e){return Math.min.apply(Math,(0,i.Z)(e))},max:function(e){return Math.max.apply(Math,(0,i.Z)(e))},add:function(e){return e.reduce((function(e,n){return e+n}),0)},mul:function(e){return e.reduce((function(e,n){return e*n}),1)}},l=(0,o.Z)((0,o.Z)({},f),{},{res:function(e){var n=(0,a.Z)(e,1)[0];return n<0?1-n/2:n>=.75?1/(4*n+1):1-n},sum_frac:function(e){return e[0]/e.reduce((function(e,n){return e+n}))},threshold:function(e){var n=(0,a.Z)(e,4),t=n[0],r=n[1],o=n[2],i=n[3];return t>=r?o:i}}),d=new Set(Object.keys(f));function p(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1};return e=m(e=v(e=h(e,n,t)))}function v(e){return(0,u.uW)(e,(function(e){return e}),(function(e){var n=e;if(d.has(e.operation)){var t=e,r=t.operation,a=!1,i=t.operands.flatMap((function(e){return e.operation===r?(a=!0,e.operands):[e]}));n=a?(0,o.Z)((0,o.Z)({},t),{},{operands:i}):t}return n}))}function m(e){function n(e){var n,t=new Map,a=(0,r.Z)(e);try{for(a.s();!(n=a.n()).done;){var o,i=n.value;t.set(i,(null!==(o=t.get(i))&&void 0!==o?o:0)+1)}}catch(c){a.e(c)}finally{a.f()}return t}for(var t={common:{counts:new Map,formulas:new Set,operation:"add"}},c=function(){for(var c,s=void 0,l={operation:t.common.operation,operands:(c=t.common.counts,(0,i.Z)(c).flatMap((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return Array(r).fill(t)})))},p=new Map,v=0,m=Object.keys(f);v<m.length;v++){var h=m[v];p.set(h,[])}if(e=(0,u.uW)(e,(function(e){if(t.common.formulas.has(e)){var n=e,r=new Map(t.common.counts),a=n.operands.filter((function(e){var n=r.get(e);return!n||(r.set(e,n-1),!1)}));return a.length?(a.push(l),(0,o.Z)((0,o.Z)({},n),{},{operands:a})):l}return e}),(function(e){if(!d.has(e.operation))return e;var t=e;if(s){if(s.operation===t.operation){var o,i=n(t.operands),c=new Map,u=s.counts,f=0,l=(0,r.Z)(i.entries());try{for(l.s();!(o=l.n()).done;){var v,m=(0,a.Z)(o.value,2),h=m[0],g=m[1],y=Math.min(g,null!==(v=u.get(h))&&void 0!==v?v:0);y?(c.set(h,y),f+=y):c.delete(h)}}catch(G){l.e(G)}finally{l.f()}f>1&&(s.counts=c,s.formulas.add(t))}}else{var Z,_=p.get(t.operation),b=n(t.operands),k=(0,r.Z)(_);try{for(k.s();!(Z=k.n()).done;){var x,j=(0,a.Z)(Z.value,2),w=j[0],S=j[1],M=0,O=new Map,W=(0,r.Z)(S.entries());try{for(W.s();!(x=W.n()).done;){var N,I=(0,a.Z)(x.value,2),C=I[0],R=I[1],K=Math.min(R,null!==(N=b.get(C))&&void 0!==N?N:0);K&&(O.set(C,K),M+=K)}}catch(G){W.e(G)}finally{W.f()}if(M>1){s={counts:O,formulas:new Set([t,w]),operation:t.operation},p.clear();break}}}catch(G){k.e(G)}finally{k.f()}s||_.push([t,b])}return t})),!s)return"break";t.common=s};;){if("break"===c())break}return e}function h(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1},u={data:[],processed:new Map},f=new Map([[u,new Map]]);function d(e,n){var p,v=n.processed.get(e);if(v)return v;var m,h=e.operation;switch(h){case"const":return e;case"add":case"mul":case"max":case"min":var g=l[h],y=[],Z=e.operands.filter((function(e){var t=d(e,n);return"const"!==t.operation||(y.push(t.value),!1)})).map((function(e){return d(e,n)})),_=g(y);if(isFinite(_)){if("mul"===h&&0===_){m=(0,s.a9)(_);break}}else if("mul"!==h&&("max"!==h||_>0)&&("min"!==h||_<0)){m=(0,s.a9)(_);break}_!==g([])&&Z.push((0,s.a9)(_)),m=Z.length<=1?null!==(p=Z[0])&&void 0!==p?p:(0,s.a9)(g([])):{operation:h,operands:Z};break;case"res":case"sum_frac":var b=e.operands.map((function(e){return d(e,n)})),k=l[h];m=b.every((function(e){return"const"===e.operation}))?(0,s.a9)(k(b.map((function(e){return e.value})))):(0,o.Z)((0,o.Z)({},e),{},{operands:b});break;case"lookup":var x=d(e.operands[0],n);if("const"===x.operation){var j,w=null!==(j=e.table[x.value])&&void 0!==j?j:e.operands[1];if(w){m=d(w,n);break}}throw new Error("Unsupported ".concat(h," node while folding"));case"prio":var S=e.operands.find((function(e){var t=d(e,n);if("const"!==t.operation)throw new Error("Unsupported ".concat(h," node while folding"));return void 0!==t.value}));m=S?d(S,n):(0,s.a9)(void 0);break;case"small":var M,O,W=void 0,N=(0,r.Z)(e.operands);try{for(N.s();!(O=N.n()).done;){var I,C=d(O.value,n);if("const"!==C.operation)throw new Error("Unsupported ".concat(h," node while folding"));(void 0===(null===(I=W)||void 0===I?void 0:I.value)||void 0!==C.value&&C.value<W.value)&&(W=C)}}catch($){N.e($)}finally{N.f()}m=null!==(M=W)&&void 0!==M?M:(0,s.a9)(void 0);break;case"match":var R=e.operands.map((function(e){return d(e,n)})),K=(0,a.Z)(R,4),G=K[0],B=K[1],D=K[2],P=K[3];if("const"!==G.operation||"const"!==B.operation)throw new Error("Unsupported ".concat(h," node while folding"));m=G.value===B.value?D:P;break;case"threshold":var H=e.operands.map((function(e){return d(e,n)})),E=(0,a.Z)(H,4),T=E[0],V=E[1],A=E[2],q=E[3];m="const"===T.operation&&"const"===V.operation?T.value>=V.value?A:q:(0,o.Z)((0,o.Z)({},e),{},{operands:[T,V,A,q]});break;case"subscript":var z=e.operands.map((function(e){return d(e,n)})),F=(0,a.Z)(z,1)[0];m="const"===F.operation?(0,s.a9)(e.list[F.value]):(0,o.Z)((0,o.Z)({},e),{},{operands:[F]});break;case"read":var Q=n.data.map((function(n){return(0,c.Hm)(n,e.path)})).filter((function(e){return e}));if(0===Q.length)if(t(e)){var U=e.accu;m=void 0===U||"small"===U?"string"===e.type?(0,s.a9)(void 0):(0,s.a9)(NaN):(0,s.a9)(l[U]([]))}else m=e;else m=void 0===e.accu||1===Q.length?d(Q[Q.length-1],n):d({operation:e.accu,operands:Q},n);break;case"data":e.reset&&(n=u);var L=f.get(n),Y=L.get(e.data);Y||(Y={data:[].concat((0,i.Z)(n.data),[e.data]),processed:new Map},f.set(Y,new Map),L.set(e.data,Y)),m=d(e.operands[0],Y);break;default:(0,c.UT)(h)}return n.processed.set(e,m),m}var p={data:[n],processed:new Map};return f.set(p,new Map),f.get(u).set(n,p),e.map((function(e){return d(e,p)}))}},18327:function(e,n,t){t.d(n,{w:function(){return w}});var r,a,o,i,c,u,s,f,l=t(30168),d=t(29439),p=t(1413),v=t(37762),m=t(93433),h=t(15671),g=t(43144),y=t(26138),Z=t(91702),_=t(79406),b=t(60393),k=t(69292),x=t(80184),j=!0,w=function(){function e(n,t){(0,h.Z)(this,e),this.origin=void 0,this.children=new Map,this.data=void 0,this.nodes=new Map,this.processed=new Map,this.display=void 0,this.teamBuff=void 0,void 0===n?(this.data=[],this.origin=this):(t||(t=new e(void 0,void 0)),this.data=[n].concat((0,m.Z)(t.data)),this.origin=t.origin)}return(0,g.Z)(e,[{key:"getDisplay",value:function(){return this.display||(this.display=this.getAll(["display"])),this.display}},{key:"getTeamBuff",value:function(){if(!this.teamBuff){var e=this.getAll(["teamBuff"]),n={};(0,b.Q1)(y.ri,[],(function(e){return e.operation}),(function(t,r){var a=(0,b.Hm)(e,t.path);a&&(0,b.SR)(n,r,a)})),this.teamBuff=n}return this.teamBuff}},{key:"getAll",value:function(e){var n,t=this,r={},a=(0,v.Z)(this.data);try{for(a.s();!(n=a.n()).done;){var o,i=n.value;(0,b.Q1)(null!==(o=(0,b.Hm)(i,e))&&void 0!==o?o:{},[],(function(e){return e.operation}),(function(e,n){return(0,b.SR)(r,n,t.get(e))}))}}catch(c){a.e(c)}finally{a.f()}return r}},{key:"get",value:function(e){if(void 0===e)return console.trace("Please report this bug with this trace"),{info:{},operation:!0,value:void 0,isEmpty:!0,unit:"",formulas:[]};var n=this.processed.get(e);if(n)return n;var t=function(e){var n=e.info,t=e.dependencies,r=e.value,a=e.formula,o=e.assignment,i=e.empty;return{operation:!0,info:n,value:r,isEmpty:i,unit:_.ZP.unit(n.key),formula:a,formulas:[].concat((0,m.Z)(o?[o]:[]),(0,m.Z)(t))}}(this.computeNode(e));return this.processed.set(e,t),t}},{key:"computeNode",value:function(e){var n=this.nodes.get(e);if(n)return n;var t,r=e.operation,a=e.info;switch(r){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":t=this._compute(e);break;case"threshold":t=this._threshold(e);break;case"const":t=this._constant(e.value);break;case"subscript":t=this._subscript(e);break;case"read":t=this._read(e);break;case"data":t=this._data(e);break;case"match":t=this._match(e);break;case"lookup":t=this._lookup(e);break;case"prio":t=this._prio(e.operands);break;case"small":t=this._small(e.operands);break;default:(0,b.UT)(r)}if(a){var o=a.asConst;(t=(0,p.Z)({},t)).info=function(e,n){for(var t=(0,p.Z)({},e),r=0,a=Object.entries(n);r<a.length;r++){var o=(0,d.Z)(a[r],2),i=o[0],c=o[1];c&&(t[i]=c)}return t}(t.info,a),o&&(delete t.formula,delete t.assignment,t.dependencies=new Set),!t.pivot&&t.formula||(t.mayNeedWrapping=!1)}return function(e){var n=e.info,t=e.value,r=e.formula,a=n.key,o=n.prefix,i=n.source,c=n.variant,u=n.fixed;if("number"!==typeof t)return;if(e.valueDisplay=(0,x.jsx)(Z.Z,{color:"info",children:(0,_.EC)(t,_.ZP.unit(a),u)}),a&&"_"!==a){var s=o&&!i?(0,x.jsxs)(x.Fragment,{children:[_.ZP.getPrefixStr(o)," "]}):(0,x.jsx)(x.Fragment,{}),f=i?(0,x.jsxs)(Z.Z,{color:"secondary",children:[" (",i,")"]}):null;e.name=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Z.Z,{color:c,children:[s,_.ZP.get(a)]}),f]}),r&&(e.assignment=(0,x.jsxs)("div",{id:"formula",children:[e.name," ",e.valueDisplay," = ",r]}))}}(t),this.nodes.set(e,t),t}},{key:"prereadAll",value:function(e){return this.data.map((function(n){return(0,b.Hm)(n,e)})).filter((function(e){return e}))}},{key:"readFirst",value:function(e){var n=this.data.map((function(n){return(0,b.Hm)(n,e)})).find((function(e){return e}));return n&&this.computeNode(n)}},{key:"_prio",value:function(e){var n=this,t=e.find((function(e){return void 0!==n.computeNode(e).value}));return t?this.computeNode(t):N}},{key:"_small",value:function(e){var n,t,r=void 0,a=(0,v.Z)(e);try{for(a.s();!(t=a.n()).done;){var o,i=t.value,c=this.computeNode(i);(void 0===(null===(o=r)||void 0===o?void 0:o.value)||c.value&&c.value<r.value)&&(r=c)}}catch(u){a.e(u)}finally{a.f()}return null!==(n=r)&&void 0!==n?n:N}},{key:"_read",value:function(e){var n,t=this,r=e.path;if(void 0===e.accu)return null!==(n=this.readFirst(r))&&void 0!==n?n:"string"===e.type?N:W;var a=this.prereadAll(r);return 1===a.length?this.computeNode(a[0]):"small"===e.accu?this._small(a):this._accumulate(e.accu,a.map((function(e){return t.computeNode(e)})))}},{key:"_lookup",value:function(e){var n,t=this.computeNode(e.operands[0]).value,r=null!==(n=e.table[t])&&void 0!==n?n:e.operands[1];if(!r)throw new Error("Lookup Fail with key ".concat(t));return this.computeNode(r)}},{key:"_match",value:function(e){var n=(0,d.Z)(e.operands,4),t=n[0],r=n[1],a=n[2],o=n[3],i=this.computeNode(t),c=this.computeNode(r),u=i.value===c.value,s=this.computeNode(u?a:o);return u&&"match"===e.emptyOn||!u&&"unmatch"===e.emptyOn?I(s.value):s}},{key:"_threshold",value:function(e){var n=(0,d.Z)(e.operands,4),t=n[0],r=n[1],a=n[2],o=n[3],i=this.computeNode(t),c=this.computeNode(r),u=i.value>=c.value?this.computeNode(a):this.computeNode(o);return i.value>=c.value?"ge"===e.emptyOn?I(u.value):u:"l"===e.emptyOn?I(u.value):u}},{key:"_data",value:function(n){var t=this.children.get(n.data);return t||(t=new e(n.data,n.reset?this.origin:this),this.children.set(n.data,t)),t.computeNode(n.operands[0])}},{key:"_compute",value:function(e){var n=this,t=e.operation,r=e.operands;return this._accumulate(t,r.map((function(e){return n.computeNode(e)})))}},{key:"_subscript",value:function(e){var n,t=this.computeNode(e.operands[0]),r=null!==(n=e.list[t.value])&&void 0!==n?n:NaN;return this._constant(r)}},{key:"_constant",value:function(e){return{info:{},value:e,pivot:!1,empty:!1,mayNeedWrapping:!1,dependencies:new Set}}},{key:"_accumulate",value:function(e,n){var t,d,v,h;switch(e){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":v=function(e){var n=new Set(e.map((function(e){return e.info.variant})));n.size>1&&n.delete(void 0);n.size>1&&n.delete("physical");return n.has("melt")?"melt":n.has("vaporize")?"vaporize":n.values().next().value}(n);break;default:(0,b.UT)(e)}switch(e){case"add":case"mul":case"min":case"max":var g=k.aj[e]([]);if(!(n=n.filter((function(e){return e.value!==g}))).length)return v?(0,p.Z)((0,p.Z)({},this._constant(g)),{},{info:{variant:v}}):this._constant(g)}var y=!1;switch(e){case"max":h=S(r||(r=(0,l.Z)(["Max( "," )"])),{operands:n});break;case"min":h=S(a||(a=(0,l.Z)(["Min( "," )"])),{operands:n});break;case"add":h=S(o||(o=(0,l.Z)(["",""])),{operands:n,separator:" + "});break;case"mul":h=S(i||(i=(0,l.Z)(["",""])),{operands:n,separator:" * ",shouldWrap:j});break;case"sum_frac":h=S(c||(c=(0,l.Z)([""," / ( "," )"])),{operands:[n[0]],shouldWrap:j},{operands:n,separator:" + "});break;case"res":var Z=n[0].value;Z<0?(h=S(u||(u=(0,l.Z)(["100% - "," / 2"])),{operands:n,shouldWrap:j}),y=!0):Z>=.75?h=S(s||(s=(0,l.Z)(["100% / ( "," * 4 + 100% )"])),{operands:n,shouldWrap:j}):(h=S(f||(f=(0,l.Z)(["100% - ",""])),{operands:n,shouldWrap:j}),y=!0);break;default:(0,b.UT)(e)}switch(e){case"add":case"mul":n.length<=1?y=null===(t=null===(d=n[0])||void 0===d?void 0:d.mayNeedWrapping)||void 0===t||t:"add"===e&&(y=!0)}var _=k.aj[e](n.map((function(e){return e.value}))),x=new Set((0,m.Z)(n.flatMap((function(e){return e.pivot&&e.assignment?[e.assignment].concat((0,m.Z)(e.dependencies)):(0,m.Z)(e.dependencies)}))));return{info:{variant:v},formula:h.display,empty:n.every((function(e){return e.empty})),value:_,mayNeedWrapping:y,pivot:!1,dependencies:x}}}]),e}();function S(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=new Set,o=[];return e.forEach((function(e,n){o.push(e);var r=t[n];if(r){var i=r.operands,c=r.shouldWrap,u=r.separator,s=void 0===u?", ":u;i.forEach((function(e,n,t){var r;r=!e.pivot&&e.formula?e.formula:M(e),c&&e.mayNeedWrapping&&t.length>1?(o.push("( "),o.push(r),o.push(" )")):o.push(r),n+1<t.length&&o.push(s),e.dependencies.forEach((function(e){return a.add(e)}))}))}})),{display:O(o),dependencies:(0,m.Z)(a)}}function M(e){var n=e.name,t=e.valueDisplay;return n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{style:{fontSize:"85%"},children:n})," ",t]}):t}function O(e){return(0,x.jsx)(x.Fragment,{children:e.map((function(e,n){return(0,x.jsx)("span",{children:e},n)}))})}var W={info:{},value:NaN,pivot:!0,empty:!1,dependencies:new Set,mayNeedWrapping:!1},N={info:{},value:void 0,pivot:!0,empty:!1,dependencies:new Set,mayNeedWrapping:!1};function I(e){return{info:{},value:e,pivot:!1,empty:!0,dependencies:new Set,mayNeedWrapping:!1}}},78661:function(e,n,t){t.d(n,{bf:function(){return i},zv:function(){return c},a9:function(){return u},aQ:function(){return s},ce:function(){return f},P5:function(){return l},VV:function(){return d},Fp:function(){return p},Sm:function(){return v},WV:function(){return m},F9:function(){return h},R9:function(){return g},Dg:function(){return y},sZ:function(){return Z},KP:function(){return _},ew:function(){return b},sD:function(){return k},Qj:function(){return x},yY:function(){return j},aT:function(){return w},uY:function(){return S},UF:function(){return M},Mp:function(){return O},ij:function(){return W},WK:function(){return N},Qq:function(){return I},lp:function(){return C},m7:function(){return G}});var r=t(93433),a=t(1413),o=t(60393),i=(u(NaN,{key:"TODO"}),s(1)),c=s(0);function u(e,n){return{operation:"const",operands:[],value:e,info:n}}function s(e,n){return e>=Number.MAX_VALUE/100&&(e=1/0),e<=-Number.MAX_VALUE/100&&(e=-1/0),u(e,(0,a.Z)({key:"_"},n))}function f(e,n){return n&&(e.info=(0,a.Z)((0,a.Z)({},e.info),n)),e}function l(e,n,t,r){return{operation:"lookup",operands:"none"!==t?[K(e),K(t)]:[K(e)],table:n,info:r}}function d(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"min",operands:R(n)}}function p(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"max",operands:R(n)}}function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"add",operands:R(n)}}function m(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"mul",operands:R(n)}}function h(e,n){return{operation:"sum_frac",operands:R([e,n])}}function g(e){return{operation:"res",operands:R([e])}}function y(e,n,t,r){return{operation:"match",operands:[K(e),K(n),K(t),K(0)],info:r,emptyOn:"unmatch"}}function Z(e,n,t,r){return{operation:"match",operands:[K(e),K(n),K(t),K(void 0)],info:r,emptyOn:"unmatch"}}function _(e,n,t,r){return{operation:"match",operands:[K(e),K(n),K(0),K(t)],info:r,emptyOn:"match"}}function b(e,n,t,r){return{operation:"threshold",operands:[K(e),K(n),K(t),K(0)],info:r,emptyOn:"l"}}function k(e,n,t,r){return{operation:"threshold",operands:[K(e),K(n),K(t),K(void 0)],info:r,emptyOn:"l"}}function x(e,n,t,r){return{operation:"threshold",operands:[K(e),K(n),K(0),K(t)],info:r,emptyOn:"ge"}}function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.operation){if("read"!==e.operation)throw new Error("Found ".concat(e.operation," node while making reader"));return(0,a.Z)((0,a.Z)({},e),{},{path:n})}return(0,o.O)(Object.keys(e),(function(t){return j(e[t],[].concat((0,r.Z)(n),[t]))}))}function w(e,n){return{operation:"data",operands:[e],data:n}}function S(e,n,t){return{operation:"data",operands:[e],data:n,reset:!0,info:t}}function M(e,n){return{operation:"read",operands:[],path:e,info:n,type:"number"}}function O(e){return{operation:"read",operands:[],path:e,type:"string"}}function W(e,n){return{operation:"read",operands:[],path:[],accu:e,info:n,type:"number"}}function N(e){return{operation:"read",operands:[],path:[],accu:e,type:"string"}}function I(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"prio",operands:R(n)}}function C(e,n,t){return{operation:"subscript",operands:[e],list:n,info:t}}function R(e){return e.map((function(e){return"object"===typeof e?e:u(e)}))}function K(e){return"object"!==typeof e?u(e):e}function G(e,n,t,r,a){return{operation:"match",operands:[K(e),K(n),K(t),K(r)],info:a}}},17278:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(29439),a=t(72791),o=t(56928);function i(e,n){var t=(0,a.useContext)(o.t).database,i=(0,a.useState)(t._getState(e,n)),c=(0,r.Z)(i,2),u=c[0],s=c[1];return(0,a.useEffect)((function(){return s(t._getState(e,n))}),[t,e,n]),(0,a.useEffect)((function(){return e?t.followState(e,s):void 0}),[e,s,t]),[u,(0,a.useCallback)((function(n){return t.updateState(e,n)}),[t,e])]}},68544:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791);function o(){var e=(0,a.useState)({}),n=(0,r.Z)(e,2),t=n[0],o=n[1];return[t,(0,a.useCallback)((function(){return o({})}),[])]}},70645:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(13967),a=t(95193);function o(){var e=(0,r.Z)(),n=(0,a.Z)(e.breakpoints.up("sm")),t=(0,a.Z)(e.breakpoints.up("md")),o=(0,a.Z)(e.breakpoints.up("lg"));return(0,a.Z)(e.breakpoints.up("xl"))?"xl":o?"lg":t?"md":n?"sm":"xs"}},42320:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791);function o(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=(0,a.useState)(void 0),i=(0,r.Z)(o,2),c=i[0],u=i[1];return(0,a.useEffect)((function(){var n,r=!0;return null!==(n=null===e||void 0===e?void 0:e.then((function(e){return r&&u((function(){return e}))}),console.error))&&void 0!==n||u(void 0),function(){r=!1,!t&&u(void 0)}}),n),c}},50921:function(e,n,t){t.d(n,{vV:function(){return r},_L:function(){return a},zU:function(){return o}});var r=["level","rarity","name"];function a(e,n){return{new:{getValue:function(n){return e._getChar(n)?0:1},tieBreaker:"name"},name:{getValue:function(e){return e}},level:{getValue:function(n){var t,r;return null!==(t=null===(r=e._getChar(n))||void 0===r?void 0:r.level)&&void 0!==t?t:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var t;return null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.rarity},tieBreaker:"level"}}}function o(e,n){return{element:function(t,r){var a,o;return!r||r===(null===n||void 0===n||null===(a=n[t])||void 0===a?void 0:a.elementKey)||"Traveler"===t&&(null===(o=e._getChar(t))||void 0===o?void 0:o.elementKey)===r},weaponType:function(e,t){var r;return!t||t===(null===n||void 0===n||null===(r=n[e])||void 0===r?void 0:r.weaponTypeKey)},favorite:function(n,t){var r;return!t||t===(null!==(r=e._getChar(n))&&void 0!==r&&r.favorite?"yes":"no")}}}},46956:function(e,n,t){t.d(n,{e:function(){return a},C:function(){return o}});var r=t(29439);function a(e,n,t){function r(e,n,t,r){var a=r.getValue(e),o=r.getValue(n);return(t?-1:1)*("string"===typeof a&&"string"===typeof o?a.localeCompare(o):o-a)}return function(a,o){if(!t[e])return 0;var i=t[e],c=r(a,o,n,i);return!c&&i.tieBreaker&&t[i.tieBreaker]&&(c=r(a,o,n,t[i.tieBreaker])),c}}function o(e,n){return function(t){return Object.entries(e).every((function(e){var a=(0,r.Z)(e,2),o=a[0],i=a[1];return n[o]&&n[o](t,i)}))}}},67095:function(e,n,t){e.exports=t.p+"static/media/Item_Adventurer's_Experience.92b5d19508c95dfb3a30.png"},34223:function(e,n,t){e.exports=t.p+"static/media/Item_Condensed_Resin.1cecf64ac9eea4bd933b.png"},79572:function(e,n,t){e.exports=t.p+"static/media/Item_Fragile_Resin.f9ec8223a0f695b313d4.png"},93385:function(e,n,t){e.exports=t.p+"static/media/Item_Hero's_Wit.a79e36d06cf81ac57536.png"},74678:function(e,n,t){e.exports=t.p+"static/media/Item_Wanderer's_Advice.58c62cf7c20b05da5d56.png"},95814:function(e,n,t){e.exports=t.p+"static/media/icon_bow.7ceaa8e25b0b8aeb8059.png"},95504:function(e,n,t){e.exports=t.p+"static/media/icon_catalyst.db078b7b8059b30bef60.png"},37963:function(e,n,t){e.exports=t.p+"static/media/icon_claymore.63b1abb8aeae95e8844d.png"},83794:function(e,n,t){e.exports=t.p+"static/media/icon_polearm.e5f4a2a17edcf4ddec4d.png"},26104:function(e,n,t){e.exports=t.p+"static/media/icon_slot_circlet.f3dccabfef6a71aeeb36.png"},21327:function(e,n,t){e.exports=t.p+"static/media/icon_slot_flower.32f54857d26800b737d5.png"},21318:function(e,n,t){e.exports=t.p+"static/media/icon_slot_goblet.073848cfcd634ccca56f.png"},41802:function(e,n,t){e.exports=t.p+"static/media/icon_slot_plume.f76181312931b3f6e2f0.png"},61174:function(e,n,t){e.exports=t.p+"static/media/icon_slot_sands.c0f765022ede0c4f8940.png"},75177:function(e,n,t){e.exports=t.p+"static/media/icon_sword.619c9c2d2c38eb90e342.png"},487:function(e,n,t){e.exports=t.p+"static/media/icon_team_1.41b86f382a2f22046378.png"},76520:function(e,n,t){e.exports=t.p+"static/media/icon_team_2.a3ae60c2d611bee8e4be.png"},48289:function(e,n,t){e.exports=t.p+"static/media/icon_team_3.e1118d3bf7ee2221b2d7.png"},22090:function(e,n,t){e.exports=t.p+"static/media/icon_team_4.dc2457a39d3389110ffe.png"}}]);
//# sourceMappingURL=570.d5f879de.chunk.js.map