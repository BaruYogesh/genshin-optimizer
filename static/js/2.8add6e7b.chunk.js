(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[2],{205:function(e,t,a){"use strict";function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}a.d(t,"a",(function(){return c}))},220:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var c,n=a(205),s=a(29),i=a(10),r=a(186),l=a(110),o=a(206),j=a(113),d=a(111),b=a(1);function u(e){var t=e.location,a=e.onEquip,u=e.weaponTypeKey,h=e.disableUnequip,x=void 0!==h&&h,O=e.disabled,m=Object(l.a)(["artifact"]).t,v=Object(d.a)(j.b.get(t),[t]),p=(null===v||void 0===v?void 0:v.name)?v.nameWIthIcon:Object(b.jsxs)("span",{children:[Object(b.jsx)(i.a,{icon:s.c})," ",m(c||(c=Object(n.a)(["filterLocation.inventory"])))]});return O?p:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(r.a.Toggle,{className:"text-left",children:p}),Object(b.jsxs)(r.a.Menu,{children:[!x&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(r.a.Item,{onClick:function(){},children:[Object(b.jsx)(i.a,{icon:s.c})," Inventory"]}),Object(b.jsx)(r.a.Divider,{})]}),Object(b.jsx)(o.b,{onSelect:a,weaponTypeKey:u})]})]})}},227:function(e,t,a){"use strict";a.d(t,"a",(function(){return z}));var c,n,s,i,r=a(205),l=a(2),o=a(29),j=a(10),d=a(0),b=a(188),u=a(118),h=a(226),x=a(187),O=a(70),m=a(186),v=a(142),p=a(222),f=a(121),g=a(217),y=a(110),N=a(113),S=a(206),k=a(202),w=a(45),C=a(33),E=a(58),_=a(123),B=a(68),K=a(112),T=a(122),A=a(228),I=a(111),q=a(1),L=new Set(E.b);function z(e){var t,a,E,z,P,M=e.artifactId,D=e.artifactObj,F=e.onEdit,U=e.onDelete,W=e.mainStatAssumptionLevel,R=void 0===W?0:W,H=e.effFilter,V=void 0===H?L:H,G=Object(y.a)(["artifact"]).t,J=Object(d.useContext)(w.b),X=Object(d.useState)(void 0),Q=Object(l.a)(X,2),Y=Q[0],Z=Q[1];Object(d.useEffect)((function(){return M?J.followArt(M,Z):void 0}),[M,Z,J]);var $=Object(I.a)(K.a.get(null===(t=null!==D&&void 0!==D?D:M?J._getArt(M):void 0)||void 0===t?void 0:t.setKey),[D,M]),ee=function(e){return J.setArtLocation(M,e)},te=!D&&J===w.c,ae=null!==D&&void 0!==D?D:Y,ce=Object(I.a)(N.b.get(null!==(a=null===ae||void 0===ae?void 0:ae.location)&&void 0!==a?a:""),[null===ae||void 0===ae?void 0:ae.location]);if(!ae)return null;var ne=ae.id,se=ae.lock,ie=ae.slotKey,re=ae.rarity,le=ae.level,oe=ae.mainStatKey,je=ae.substats,de=ae.exclude,be=Math.max(Math.min(R,4*re),le),ue=Math.floor(Math.max(le-1,0)/4)+1+"roll",he=Object(q.jsx)("span",{className:be!==le?"text-orange":"",children:Object(_.b)(null!==(E=B.a.mainStatValue(oe,re,be))&&void 0!==E?E:0,C.b.getStatUnit(oe))}),xe=B.a.getArtifactEfficiency(ae,V),Oe=xe.currentEfficiency,me=xe.maxEfficiency,ve=0!==me,pe=(null===ce||void 0===ce?void 0:ce.name)?ce.nameWIthIcon:Object(q.jsxs)("span",{children:[Object(q.jsx)(j.a,{icon:o.c})," ",G(c||(c=Object(r.a)(["filterLocation.inventory"])))]}),fe=(null===$||void 0===$?void 0:$.getSlotName(ie))||"Unknown Piece Name",ge=null===$||void 0===$?void 0:$.getSlotDesc(ie),ye=ge?Object(q.jsx)(p.a,{placement:"top",overlay:Object(q.jsx)(g.a,{id:"slotdesc-tooltip",children:ge}),children:Object(q.jsx)(j.a,{icon:o.q})}):null,Ne=null===$||void 0===$?void 0:$.setEffects,Se=$&&Ne&&Object(q.jsx)(g.a,{id:"setdesc-tooltop",children:Object.keys(Ne).map((function(e){return Object(q.jsxs)("span",{className:"text-left",children:[Object(q.jsx)("h6",{className:"mb-0",children:Object(q.jsx)(b.a,{variant:"success",children:G("setEffectNum",{setNum:e})})}),Object(q.jsx)("p",{children:$.setEffectDesc(e)})]},e)}))}),ke=Se?Object(q.jsx)(p.a,{placement:"top",overlay:Se,children:Object(q.jsx)(j.a,{icon:o.q})}):null;return Object(q.jsxs)(x.a,{className:"h-100",border:"".concat(re,"star"),bg:"lightcontent",text:"lightfont",children:[Object(q.jsx)(x.a.Header,{className:"p-0",children:Object(q.jsxs)(f.a,{children:[Object(q.jsx)(O.a,{xs:2,md:3,children:Object(q.jsx)(v.a,{src:null!==(z=null===$||void 0===$?void 0:$.slotIcons[ie])&&void 0!==z?z:"",className:"w-100 h-auto grad-".concat(re,"star m-1"),thumbnail:!0})}),Object(q.jsxs)(O.a,{className:"pt-2",children:[Object(q.jsx)("h6",{children:Object(q.jsxs)("strong",{children:[fe," ",ye]})}),Object(q.jsxs)("div",{children:[Object(q.jsx)(T.b,{slotKey:ie})," ",Object(q.jsxs)("span",{className:"float-right mr-4",children:[" ",Object(q.jsx)(u.a,{size:"sm",disabled:!te,onClick:function(){return J.updateArt({lock:!se},ne)},children:Object(q.jsx)(j.a,{icon:se?o.s:o.t,className:"fa-fw"})})]})]}),Object(q.jsx)("div",{children:Object(q.jsx)("small",{children:Object(q.jsx)(k.a,{stars:re})})})]})]})}),Object(q.jsxs)(x.a.Body,{className:"d-flex flex-column py-2",children:[Object(q.jsxs)(x.a.Title,{children:[Object(q.jsx)(b.a,{variant:ue,children:Object(q.jsx)("strong",{className:"text-dark",children:" +".concat(le)})})," ",null!==(P=null===$||void 0===$?void 0:$.name)&&void 0!==P?P:"Artifact Set"," ",ke]}),Object(q.jsx)("h5",{className:"mb-1",children:Object(q.jsxs)("b",{children:[C.b.getStatName(oe)," ",he]})}),Object(q.jsx)(f.a,{className:"mb-0",children:je.map((function(e,t){var a,c,n;if(!e.value)return null;var s=null!==(a=null===(c=e.rolls)||void 0===c?void 0:c.length)&&void 0!==a?a:0,i=null!==(n=e.efficiency)&&void 0!==n?n:0,r=.3+.7*i,l=C.b.getStatName(e.key);return Object(q.jsxs)(O.a,{xs:12,children:[Object(q.jsx)(b.a,{variant:s?"".concat(s,"roll"):"danger",className:"text-darkcontent",children:Object(q.jsx)("b",{children:s||"?"})})," ",Object(q.jsxs)("span",{className:"text-".concat(s,"roll"),children:[l,"+".concat(Object(_.b)(e.value,C.b.getStatUnit(e.key)))]}),Object(q.jsx)("span",{className:"float-right",style:{opacity:r},children:e.key&&V.has(e.key)?Object(_.b)(i,"eff"):"-"})]},t)}))}),Object(q.jsxs)("div",{className:"mt-auto",children:[Object(q.jsxs)(f.a,{children:[Object(q.jsx)(O.a,{children:Object(q.jsx)("small",{children:G(n||(n=Object(r.a)(["editor.curSubEff"])))})}),Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsx)(A.a,{value:Oe,valid:ve})})]}),Oe!==me&&Object(q.jsxs)(f.a,{children:[Object(q.jsx)(O.a,{children:Object(q.jsx)("small",{children:G(s||(s=Object(r.a)(["editor.maxSubEff"])))})}),Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsx)(A.a,{value:me,valid:ve})})]})]}),!1]}),Object(q.jsx)(x.a.Footer,{className:"pr-3",children:Object(q.jsxs)(f.a,{className:"d-flex justify-content-between no-gutters",children:[te?Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsxs)(m.a,{children:[Object(q.jsx)(m.a.Toggle,{size:"sm",className:"text-left",children:pe}),Object(q.jsxs)(m.a.Menu,{children:[Object(q.jsxs)(m.a.Item,{onClick:function(){return ee("")},children:[Object(q.jsx)(j.a,{icon:o.c})," Inventory"]}),Object(q.jsx)(m.a.Divider,{}),Object(q.jsx)(S.b,{onSelect:ee})]})]})}):Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsx)("b",{children:pe})}),te&&Object(q.jsx)(O.a,{xs:"auto",children:Object(q.jsxs)(h.a,{children:[!!F&&Object(q.jsx)(u.a,{variant:"info",size:"sm",onClick:F,children:Object(q.jsx)(j.a,{icon:o.k,className:"fa-fw"})}),Object(q.jsx)(p.a,{placement:"top",overlay:Object(q.jsx)(g.a,{id:"exclude-artifact-tip",children:G(i||(i=Object(r.a)(["excludeArtifactTip"])))}),children:Object(q.jsx)("span",{className:"d-inline-block",children:Object(q.jsx)(u.a,{size:"sm",onClick:function(){return J.updateArt({exclude:!de},ne)},className:"rounded-0",variant:de?"danger":"success",children:Object(q.jsx)(j.a,{icon:de?o.a:o.e,className:"fa-fw"})})})}),!!U&&Object(q.jsx)(u.a,{variant:"danger",size:"sm",onClick:U,children:Object(q.jsx)(j.a,{icon:o.E,className:"fa-fw"})})]})})]})})]})}},228:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var c=a(2),n=a(188),s=a(1);function i(e){var t=e.value,a=e.valid,i="number"===typeof t?["".concat(Math.floor(.05*t)+1,"roll"),t.toFixed(2)+"%"]:["secondary",t],r=Object(c.a)(i,2),l=r[0],o=r[1];return a||(l="danger"),Object(s.jsx)(n.a,{variant:l,className:"secondary"===l?"":"text-darkcontent",children:o})}},231:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var c=a(2),n=a(29),s=a(10),i=a(0),r=a(187),l=a(142),o=a(121),j=a(70),d=a(118),b=a(203),u=a(220),h=a(202),x=a(115),O=a(45),m=a(111),v=a(33),p=a(114),f=a(1);function g(e){var t,a=e.weaponId,g=e.onEdit,y=e.onDelete,N=e.onClick,S=e.cardClassName,k=void 0===S?"":S,w=e.bg,C=void 0===w?"":w,E=e.footer,_=void 0!==E&&E,B=Object(i.useContext)(O.b),K=Object(i.useState)(void 0),T=Object(c.a)(K,2),A=T[0],I=T[1];Object(i.useEffect)((function(){return a?B.followWeapon(a,I):void 0}),[a,I,B]);var q=A,L=Object(m.a)((null===q||void 0===q?void 0:q.key)&&p.a.get(q.key),[null===q||void 0===q?void 0:q.key]);if(!q||!L)return null;var z=q.level,P=q.ascension,M=q.refinement,D=(q.id,L.weaponType),F=L.getMainStatValue(z,P).toFixed(v.b.fixedUnit("atk")),U=L.getSubStatKey(),W=L.getSubStatValue(z,P).toFixed(v.b.fixedUnit(U)),R=p.a.getLevelString(q),H=[["weaponATK",F]];return(null===L||void 0===L?void 0:L.passiveName)&&H.push([U,W]),Object(f.jsxs)(r.a,{className:k,bg:C||"darkcontent",text:"lightfont",children:[Object(f.jsxs)(r.a.Header,{children:[Object(f.jsx)(l.a,{src:null===(t=b.a.weaponTypes)||void 0===t?void 0:t[D],className:"inline-icon"})," ",Object(f.jsx)("h5",{className:"d-inline",children:L.name})]}),Object(f.jsxs)(r.a.Body,{onClick:function(){return null===N||void 0===N?void 0:N(a)},className:N?"cursor-pointer":"",children:[Object(f.jsxs)(o.a,{children:[Object(f.jsx)(j.a,{xs:"auto",className:"pr-0",children:Object(f.jsx)(l.a,{src:L.img,className:"thumb-big grad-".concat(L.rarity,"star p-0"),thumbnail:!0})}),Object(f.jsxs)(j.a,{children:[Object(f.jsxs)("h5",{className:"mb-0",children:["Level ",R," "]}),Object(f.jsxs)("h5",{children:["Refinement ",M]}),Object(f.jsx)("h6",{className:"mb-0",children:Object(f.jsx)(h.a,{stars:L.rarity,colored:!0})})]})]}),Object(f.jsx)(o.a,{children:H.map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],s=v.b.getStatUnit(a);return Object(f.jsxs)(j.a,{xs:12,children:[Object(f.jsxs)("h6",{className:"d-inline",children:[x.a[a]," ",v.b.getStatName(a)]}),Object(f.jsx)("span",{className:"float-right",children:n+s})]},a)}))}),!1]}),_&&Object(f.jsx)(r.a.Footer,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(j.a,{children:Object(f.jsx)(u.a,{location:null===q||void 0===q?void 0:q.location,onEquip:function(e){return B.setWeaponLocation(a,e)},weaponTypeKey:D,disableUnequip:!!q.location})}),Object(f.jsx)(j.a,{xs:"auto",children:Object(f.jsxs)("span",{className:"float-right align-top ml-1",children:[g&&Object(f.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return g(a)},children:Object(f.jsx)(s.a,{icon:n.k})}),y&&Object(f.jsx)(d.a,{variant:"danger",size:"sm",disabled:!!q.location,onClick:function(){return y(a)},children:Object(f.jsx)(s.a,{icon:n.E})})]})})]})})]})}},232:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return N}));var c=a(12),n=a(2),s=a(29),i=a(10),r=a(0),l=a(548),o=a(187),j=a(121),d=a(70),b=a(226),u=a(118),h=a(142),x=a(203),O=a(202),m=a(111),v=a(15),p=a(114),f=a(1);function g(e,t){return t===e?"":t}function y(e){var t=e.show,a=e.onHide,y=e.onSelect,N=e.filter,S=void 0===N?function(){return!0}:N,k=Object(m.a)(p.a.getAll(),[]),w=Object(r.useReducer)(g,""),C=Object(n.a)(w,2),E=C[0],_=C[1],B=k?Object(c.a)(new Set(v.i)).filter((function(e){return S(k[e])})).filter((function(e){var t;return!E||E===(null===k||void 0===k||null===(t=k[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,c,n,s;return(null!==(a=null===k||void 0===k||null===(c=k[t])||void 0===c?void 0:c.rarity)&&void 0!==a?a:0)-(null!==(n=null===k||void 0===k||null===(s=k[e])||void 0===s?void 0:s.rarity)&&void 0!==n?n:0)})):[];return k?Object(f.jsx)(l.a,{show:t,size:"xl",contentClassName:"bg-transparent",onHide:a,children:Object(f.jsxs)(o.a,{bg:"lightcontent",text:"lightfont",children:[Object(f.jsx)(o.a.Header,{children:Object(f.jsxs)(j.a,{children:[Object(f.jsx)(d.a,{children:Object(f.jsx)(b.a,{children:v.j.map((function(e){var t;return Object(f.jsx)(u.a,{variant:E&&E!==e?"secondary":"success",className:"py-1 px-2",onClick:function(){return _(e)},children:Object(f.jsx)("h3",{className:"mb-0",children:Object(f.jsx)(h.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[e],className:"inline-icon"})})},e)}))})}),Object(f.jsx)(d.a,{xs:"auto",children:Object(f.jsx)(u.a,{onClick:a,variant:"danger",children:Object(f.jsx)(i.a,{icon:s.B})})})]})}),Object(f.jsx)(o.a.Body,{children:Object(f.jsx)(j.a,{children:B.map((function(e){var t,c=k[e];return Object(f.jsx)(d.a,{lg:3,md:4,className:"mb-2",children:Object(f.jsx)(u.a,{className:"w-100 h-100 align-top",variant:"darkcontent",onClick:function(){a(),y(e)},children:Object(f.jsxs)(j.a,{className:"h-100",children:[Object(f.jsx)(d.a,{xs:"auto",className:"pr-0",children:Object(f.jsx)(h.a,{src:c.img,className:"thumb-big grad-".concat(c.rarity,"star p-0"),thumbnail:!0})}),Object(f.jsxs)(d.a,{children:[Object(f.jsxs)("h5",{className:"mb-0",children:[Object(f.jsx)(h.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[c.weaponType],className:"inline-icon"})," ",c.name]}),Object(f.jsx)("h6",{className:"mb-0",children:Object(f.jsx)(O.a,{stars:c.rarity,colored:!0})})]})]})})},e)}))})})]})}):null}function N(e){var t,a=e.weaponSheet,c=e.onSelect,s=e.filter,i=Object(r.useState)(!1),l=Object(n.a)(i,2),o=l[0],j=l[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a,{as:b.a,onClick:function(){return j(!0)},className:"text-nowrap",children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Weapon"}),Object(f.jsx)(y,{show:o,onHide:function(){return j(!1)},onSelect:c,filter:s})]})}},275:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ve}));var c=a(2),n=a(29),s=a(10),i=a(0),r=a(198),l=a(540),o=a(30),j=a(142),d=a(230),b=a(226),u=a(186),h=a(118),x=a(187),O=a(70),m=a(145),v=a(121),p=a(112),f=a(97),g=a(207),y=a(39),N=a(53),S=a(45),k=a(213),w=a(117),C=a(111),E=a(11),_=a(114),B=a(204),K=a(8),T=a(20),A=a(227),I=a(286),q=a(15),L=a(290),z=a(1),P={xs:12,md:6,lg:4};var M=function(e){var t,a=e.sheets,n=e.character,s=e.character.key,l=Object(i.useContext)(f.a),o=l.newBuild,j=l.equippedBuild,d=l.compareBuild,u=l.setCompareBuild,m=Object(i.useContext)(S.b),g=Object(T.g)(),y=o||j,N=null!==(t=null===y||void 0===y?void 0:y.mainStatAssumptionLevel)&&void 0!==t?t:0,k=Object(i.useMemo)((function(){return y&&B.a.getDisplayStatKeys(y,a)}),[y,a]),_=Object(i.useCallback)((function(e){return g.push({pathname:"/artifact",artToEditId:e})}),[g]),M=Object(C.a)(p.a.getAll(),[]),D=Object(w.a)(),F=Object(c.a)(D,2)[1];Object(i.useEffect)((function(){return m.followAnyArt(F)}));var U=Object(i.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&o&&o.equippedArtifacts&&m.equipArtifacts(s,o.equippedArtifacts)}),[s,o,m]),W=Object(i.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&m.equipArtifacts(s,Object(E.o)(q.h,(function(){return""})))}),[s,m]);return y?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(x.a,{className:"h-100 mb-2",bg:"lightcontent",text:"lightfont",children:[Object(z.jsx)(x.a.Body,{children:Object(z.jsx)(L.a,{sheets:a,character:n,equippedBuild:o&&!d?void 0:j,newBuild:o,statsDisplayKeys:k})}),Object(z.jsx)(x.a.Footer,{children:Object(z.jsxs)(v.a,{children:[Object(z.jsxs)(O.a,{children:[o?Object(z.jsx)(h.a,{onClick:U,className:"mr-2",children:"Equip artifacts"}):m===S.c&&Object(z.jsx)(h.a,{onClick:W,children:"Unequip all artifacts"}),!!o&&Object(z.jsxs)(b.a,{children:[Object(z.jsx)(h.a,{variant:d?"primary":"success",disabled:!d,onClick:function(){return null===u||void 0===u?void 0:u(!1)},children:Object(z.jsx)("small",{children:"Show New artifact Stats"})}),Object(z.jsx)(h.a,{variant:d?"success":"primary",disabled:d,onClick:function(){return null===u||void 0===u?void 0:u(!0)},children:Object(z.jsx)("small",{children:"Compare against equipped artifacts"})})]})]}),Object(z.jsx)(O.a,{xs:"auto",children:!!N&&Object(z.jsx)(r.a,{className:"mb-0 py-2",variant:"orange",children:Object(z.jsxs)("b",{children:["Assume Main Stats are Level ",N]})})})]})})]}),Object(z.jsxs)(v.a,{className:"mb-n2",children:[Object(z.jsx)(O.a,Object(K.a)(Object(K.a)({},P),{},{className:"d-flex flex-column",children:M&&Object.entries(p.a.setEffects(M,y.setToSlots)).map((function(e){var t,a=Object(c.a)(e,2),n=a[0],i=a[1];return Object(z.jsxs)(x.a,{className:"mb-2 flex-grow-1",bg:"lightcontent",text:"lightfont",children:[Object(z.jsx)(x.a.Header,{children:null!==(t=null===M||void 0===M?void 0:M[n].name)&&void 0!==t?t:""}),Object(z.jsx)(x.a.Body,{className:"p-2 mb-n2",children:i.map((function(e){return Object(z.jsx)(I.a,{setKey:n,setNumKey:e,equippedBuild:j,newBuild:o,characterKey:s},n+e)}))})]},n)}))})),q.h.map((function(e){var t,a,c;return Boolean(null===y||void 0===y||null===(t=y.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(i.createElement)(O.a,Object(K.a)(Object(K.a)({},P),{},{key:null===y||void 0===y||null===(a=y.equippedArtifacts)||void 0===a?void 0:a[e],className:"mb-2"}),Object(z.jsx)(A.a,{artifactId:null===y||void 0===y||null===(c=y.equippedArtifacts)||void 0===c?void 0:c[e],mainStatAssumptionLevel:N,onEdit:function(){var t;return _(null===y||void 0===y||null===(t=y.equippedArtifacts)||void 0===t?void 0:t[e])}}))}))]})]}):null},D=a(12),F=a(188),U=a(203),W=a(202),R=a(291),H=a(115),V=a(33),G=a(276),J=a(288);function X(e){var t,a=e.characterSheet,c=e.weaponSheet,n=e.character,s=e.character,r=s.constellation,l=s.key,o=Object(i.useContext)(f.a),d=o.newBuild,b=o.equippedBuild,u=Object(k.a)(l),h=d||b;if(!h)return null;var m=h.tlvl,p=h.characterEle,g=a.weaponTypeKey;return Object(z.jsxs)(v.a,{children:[Object(z.jsx)(O.a,{xs:12,md:3,children:Object(z.jsxs)(x.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(z.jsx)(x.a.Img,{src:a.cardImg,className:"w-100 h-auto"}),Object(z.jsxs)(x.a.Body,{children:[Object(z.jsxs)("h3",{children:[a.name," ",H.a[p]," ",Object(z.jsx)(j.a,{src:null===(t=U.a.weaponTypes)||void 0===t?void 0:t[g],className:"inline-icon"})]}),Object(z.jsx)("h6",{children:Object(z.jsx)(W.a,{stars:a.star,colored:!0})}),Object(z.jsxs)("h5",{children:["Level: ",B.a.getLevelString(n)]}),Object(z.jsx)(v.a,{className:"px-2 mb-2",children:["auto","skill","burst"].map((function(e){var t;return Object(z.jsxs)(O.a,{xs:4,className:"p-1",children:[Object(z.jsx)(j.a,{src:null===(t=a.getTalentOfKey(e,h.characterEle))||void 0===t?void 0:t.img,className:"w-100 h-auto",roundedCircle:!0}),Object(z.jsx)("h5",{className:"mb-0",children:Object(z.jsx)(F.a,{variant:"info",style:{position:"absolute",bottom:"0",right:"0"},children:Object(z.jsx)("strong",{children:m[e]+1})})})]},e)}))}),Object(z.jsx)("div",{className:"text-center",children:Object(z.jsx)("h6",{children:a.constellationName})}),Object(z.jsx)(v.a,{className:"px-2",children:Object(D.a)(Array(6).keys()).map((function(e){var t;return Object(z.jsx)(O.a,{xs:4,className:"p-1",children:Object(z.jsx)(j.a,{src:null===(t=a.getTalentOfKey("constellation".concat(e+1),h.characterEle))||void 0===t?void 0:t.img,className:"w-100 h-auto ".concat(r>e?"":"overlay-dark"," cursor-pointer"),roundedCircle:!0,onClick:function(){return u({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(z.jsxs)(O.a,{xs:12,md:9,children:[Object(z.jsx)(G.default,{charData:{character:n,characterSheet:a,equippedBuild:b,newBuild:d,characterDispatch:u},weaponId:n.equippedWeapon}),Object(z.jsx)(Z,{characterSheet:a,weaponSheet:c,character:n,characterDispatch:u,equippedBuild:b,newBuild:d})]})]})}var Q="Edit Stats",Y="EXIT";function Z(e){var t=e.characterSheet,a=(e.weaponSheet,e.character),r=e.character.key,l=e.equippedBuild,o=e.newBuild,j=Object(k.a)(r),d=Object(i.useState)(!1),b=Object(c.a)(d,2),u=b[0],m=b[1],p=Object(i.useState)(!1),f=Object(c.a)(p,2),g=f[0],y=f[1],N=Object(i.useState)(!1),S=Object(c.a)(N,2),w=S[0],C=S[1],E=["eleMas","critRate_","critDMG_","enerRech_","heal_"],_=["finalHP","finalATK","finalDEF"];_.push.apply(_,E);var B=["hp","hp_","def","def_","atk","atk_"];B.push.apply(B,E);var T=[];["physical"].concat(Object(D.a)(q.d)).forEach((function(e){T.push("".concat(e,"_dmg_")),T.push("".concat(e,"_res_"))})),T.push("stamina","incHeal_","shield_","cdRed_");var A=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","enemyDEFRed_","weakspotDMG_","moveSPD_","atkSPD_"],I=t.getSpecializedStat(a.ascension),L=t.getSpecializedStatVal(a.ascension),P=V.b.getStatUnit(I),M={character:a,equippedBuild:l,newBuild:o};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(x.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(z.jsx)(x.a.Header,{children:Object(z.jsxs)(v.a,{children:[Object(z.jsx)(O.a,{children:Object(z.jsx)("span",{children:"Main Base Stats"})}),Object(z.jsx)(O.a,{xs:"auto",children:Object(z.jsx)(h.a,{variant:u?"danger":"info",onClick:function(){return m(!u)},size:"sm",children:Object(z.jsxs)("span",{children:[Object(z.jsx)(s.a,{icon:u?n.w:n.k})," ",u?Y:Q]})})})]})}),u?Object(z.jsx)(x.a.Body,{children:Object(z.jsx)(v.a,{className:"mb-2",children:B.map((function(e){var t;return Object(z.jsx)(O.a,{lg:6,xs:12,children:Object(z.jsx)(J.a,{prependEle:void 0,disabled:void 0,className:"mb-2",name:Object(z.jsxs)("span",{children:[H.a[e]," ",V.b.getStatNameWithPercent(e)]}),placeholder:V.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===V.b.getStatUnit(e),onValueChange:function(t){return j({type:"bonusStats",statKey:e,value:t})}})},e)}))})}):Object(z.jsx)(x.a.Body,{children:Object(z.jsxs)(v.a,{className:"mb-2",children:[_.map((function(e){return Object(z.jsx)(O.a,{xs:12,lg:6,children:Object(z.jsx)(R.a,Object(K.a)({statKey:e},M))},e)})),Object(z.jsxs)(O.a,{lg:6,xs:12,children:[Object(z.jsxs)("span",{children:[Object(z.jsx)("b",{children:"Specialized:"})," ",Object(z.jsxs)("span",{children:[I&&H.a[I]," ",V.b.getStatName(I)]})]}),Object(z.jsx)("span",{className:"float-right",children:"".concat(L.toFixed(V.b.fixedUnit(I))).concat(P)})]})]})})]}),Object(z.jsxs)(x.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(z.jsx)(x.a.Header,{children:Object(z.jsxs)(v.a,{children:[Object(z.jsx)(O.a,{children:Object(z.jsx)("span",{children:"Other Stats"})}),Object(z.jsx)(O.a,{xs:"auto",children:Object(z.jsx)(h.a,{variant:g?"danger":"info",onClick:function(){return y(!g)},size:"sm",children:Object(z.jsxs)("span",{children:[Object(z.jsx)(s.a,{icon:g?n.w:n.k})," ",g?Y:Q]})})})]})}),g?Object(z.jsx)(x.a.Body,{children:Object(z.jsx)(v.a,{className:"mb-2",children:T.map((function(e){var t;return Object(z.jsx)(O.a,{lg:6,xs:12,children:Object(z.jsx)(J.a,{className:"mb-2",name:Object(z.jsxs)("span",{children:[H.a[e]," ",V.b.getStatName(e)]}),placeholder:V.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===V.b.getStatUnit(e),onValueChange:function(t){return j({type:"bonusStats",statKey:e,value:t})}})},e)}))})}):Object(z.jsx)(x.a.Body,{children:Object(z.jsx)(v.a,{className:"mb-2",children:T.map((function(e){return Object(z.jsx)(O.a,{xs:12,lg:6,children:Object(z.jsx)(R.a,Object(K.a)({statKey:e},M))},e)}))})})]}),Object(z.jsxs)(x.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(z.jsx)(x.a.Header,{children:Object(z.jsxs)(v.a,{children:[Object(z.jsx)(O.a,{children:Object(z.jsx)("span",{children:"Misc Stats"})}),Object(z.jsx)(O.a,{xs:"auto",children:Object(z.jsx)(h.a,{variant:w?"danger":"info",onClick:function(){return C(!w)},size:"sm",children:Object(z.jsxs)("span",{children:[Object(z.jsx)(s.a,{icon:w?n.w:n.k})," ",w?Y:Q]})})})]})}),w?Object(z.jsx)(x.a.Body,{children:Object(z.jsx)(v.a,{className:"mb-2",children:A.map((function(e){var t;return Object(z.jsx)(O.a,{xl:6,xs:12,children:Object(z.jsx)(J.a,{className:"mb-2",name:Object(z.jsxs)("span",{children:[H.a[e]," ",V.b.getStatName(e)]}),placeholder:V.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===V.b.getStatUnit(e),onValueChange:function(t){return j({type:"bonusStats",statKey:e,value:t})}})},e)}))})}):Object(z.jsx)(x.a.Body,{children:Object(z.jsx)(v.a,{className:"mb-2",children:A.map((function(e){return Object(z.jsx)(O.a,{xs:12,lg:6,children:Object(z.jsx)(R.a,Object(K.a)({statKey:e},M))},e)}))})})]})]})}var $=a(285),ee=a(222),te=a(217),ae=a(334),ce=a(223),ne=a(208),se=a(40),ie=a(98);function re(e){var t=e.characterSheet,a=e.character,n=e.character,s=n.ascension,r=n.constellation,l=n.key,o=Object(i.useContext)(f.a),j=o.newBuild,d=o.equippedBuild,b=Object(k.a)(l),u=j||d;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(v.a,{children:Object(z.jsx)(O.a,{children:Object(z.jsx)(oe,{characterSheet:t})})}),Object(z.jsxs)(v.a,{children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var n=Object(c.a)(e,2),s=n[0],i=n[1];return Object(z.jsx)(O.a,{xs:12,md:6,lg:4,className:"mb-2",children:Object(z.jsx)(ue,{characterSheet:t,character:a,characterDispatch:b,talentKey:s,subtitle:i})},s)})),!!t.getTalentOfKey("sprint",null===u||void 0===u?void 0:u.characterEle)&&Object(z.jsx)(O.a,{xs:12,md:6,lg:4,className:"mb-2",children:Object(z.jsx)(ue,{characterSheet:t,character:a,characterDispatch:b,talentKey:"sprint",subtitle:"Alternative Sprint"})})]}),Object(z.jsx)(v.a,{children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var n=Object(c.a)(e,3),i=n[0],r=n[1],l=n[2],o=s>=l;return t.getTalentOfKey(i,null===u||void 0===u?void 0:u.characterEle)?Object(z.jsx)(O.a,{style:{opacity:o?1:.5},xs:12,md:4,className:"mb-2",children:Object(z.jsx)(ue,{characterSheet:t,character:a,characterDispatch:b,talentKey:i,subtitle:r})},i):null}))}),Object(z.jsx)(v.a,{children:Object(z.jsx)(O.a,{children:Object(z.jsxs)("h5",{className:"text-center",children:["Constellation Lv. ",r]})})}),Object(z.jsx)(v.a,{className:"mb-n2",children:Object(D.a)(Array(6).keys()).map((function(e){var c="constellation".concat(e+1);return Object(z.jsx)(O.a,{xs:12,md:4,className:"mb-2",style:{opacity:r>e?1:.5},children:Object(z.jsx)(ue,{characterSheet:t,character:a,characterDispatch:b,talentKey:c,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return b({constellation:e+1===r?e:e+1})}})},e)}))})]})}var le={superconduct_hit:function(e){var t,a=e.stats,c="superconduct_hit";return Object(z.jsx)(x.a,{bg:"darkcontent",text:"lightfont",children:Object(z.jsx)(x.a.Body,{className:"p-2",children:Object(z.jsxs)("span",{className:"text-superconduct",children:[V.b.getStatName(c)," ",H.a.electro,"+",H.a.cryo," ",Object(z.jsx)("strong",{children:null===(t=a[c])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(c))})]})})})},electrocharged_hit:function(e){var t,a=e.stats,c="electrocharged_hit";return Object(z.jsx)(x.a,{bg:"darkcontent",text:"lightfont",children:Object(z.jsx)(x.a.Body,{className:"p-2",children:Object(z.jsxs)("span",{className:"text-electrocharged",children:[V.b.getStatName(c)," ",H.a.electro,"+",H.a.hydro," ",Object(z.jsx)("strong",{children:null===(t=a[c])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(c))})]})})})},overloaded_hit:function(e){var t,a=e.stats,c="overloaded_hit";return Object(z.jsx)(x.a,{bg:"darkcontent",text:"lightfont",children:Object(z.jsx)(x.a.Body,{className:"p-2",children:Object(z.jsxs)("span",{className:"text-overloaded",children:[V.b.getStatName(c)," ",H.a.electro,"+",H.a.pyro," ",Object(z.jsx)("strong",{children:null===(t=a[c])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(c))})]})})})},pyro_swirl_hit:function(e){var t,a=e.stats,n=Object(i.useState)(Object.keys(je)[0]),s=Object(c.a)(n,2),r=s[0],l=s[1],o="".concat(r,"_swirl_hit");return Object(z.jsx)(x.a,{bg:"darkcontent",text:"lightfont",children:Object(z.jsxs)(x.a.Body,{className:"p-0",children:[Object(z.jsx)($.a,{size:"sm",title:je[r],className:"d-inline-block",variant:"success",children:Object.entries(je).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(z.jsx)(u.a.Item,{onClick:function(){return l(a)},children:n},a)}))}),Object(z.jsxs)("span",{className:"text-".concat(r," p-2"),children:[" ",Object(z.jsx)("strong",{children:null===(t=a[o])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(o))})]})]})})},shattered_hit:function(e){var t,a=e.stats,c="shattered_hit",i=Object(z.jsx)(ee.a,{placement:"top",overlay:Object(z.jsxs)(te.a,{id:"shatter-tooltip",children:["Claymores, Plunging Attacks and ",Object(z.jsx)("span",{className:"text-geo",children:"Geo DMG"})]}),children:Object(z.jsx)(s.a,{icon:n.v,style:{cursor:"help"}})});return Object(z.jsx)(x.a,{bg:"darkcontent",text:"lightfont",children:Object(z.jsx)(x.a.Body,{className:"p-2",children:Object(z.jsxs)("span",{className:"text-shattered",children:[V.b.getStatName(c)," ",H.a.hydro,"+",H.a.cryo,"+ ",Object(z.jsxs)("small",{className:"text-physical",children:["Heavy Attack",i," "]})," ",Object(z.jsx)("strong",{children:null===(t=a[c])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(c))})]})})})},crystalize_hit:function(e){var t,a=e.stats,n=Object(i.useState)(Object.keys(de)[0]),s=Object(c.a)(n,2),r=s[0],l=s[1],o="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(z.jsx)(x.a,{bg:"darkcontent",text:"lightfont",children:Object(z.jsxs)(x.a.Body,{className:"p-0",children:[Object(z.jsx)($.a,{size:"sm",title:de[r],className:"d-inline-block",variant:"success",children:Object.entries(de).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(z.jsx)(u.a.Item,{onClick:function(){return l(a)},children:n},a)}))}),Object(z.jsxs)("span",{className:"text-".concat(r," p-2"),children:[" ",Object(z.jsx)("strong",{children:null===(t=a[o])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(o))})]})]})})}};function oe(e){var t=e.characterSheet,a=Object(i.useContext)(f.a),c=a.newBuild,n=a.equippedBuild,s=c||n;if(!s)return null;var r=s.characterEle,l=Object(D.a)(se.a[r]||[]);return l.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||l.push("shattered_hit"),Object(z.jsx)(x.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(z.jsx)(x.a.Body,{className:"px-3 py-2",children:Object(z.jsx)(v.a,{className:"mb-n2",children:l.map((function(e){var t=le[e];return t?Object(z.jsx)(O.a,{xs:"auto",className:"mb-2",children:Object(z.jsx)(t,{stats:s})},e):null}))})})})}var je={pyro:Object(z.jsxs)("span",{children:[V.b.getStatName("pyro_swirl_hit")," ",H.a.pyro,"+",H.a.anemo]}),electro:Object(z.jsxs)("span",{children:[V.b.getStatName("electro_swirl_hit")," ",H.a.electro,"+",H.a.anemo]}),cryo:Object(z.jsxs)("span",{children:[V.b.getStatName("cryo_swirl_hit")," ",H.a.cryo,"+",H.a.anemo]}),hydro:Object(z.jsxs)("span",{children:[V.b.getStatName("hydro_swirl_hit")," ",H.a.hydro,"+",H.a.anemo]})};var de={default:Object(z.jsxs)("span",{className:"text-crystalize",children:[V.b.getStatName("crystalize_hit")," ",H.a.electro,"/",H.a.hydro,"/",H.a.pyro,"/",H.a.cryo,"+",H.a.geo]}),pyro:Object(z.jsxs)("span",{children:[V.b.getStatName("pyro_crystalize_hit")," ",H.a.pyro,"+",H.a.geo]}),electro:Object(z.jsxs)("span",{children:[V.b.getStatName("electro_crystalize_hit")," ",H.a.electro,"+",H.a.geo]}),cryo:Object(z.jsxs)("span",{children:[V.b.getStatName("cryo_crystalize_hit")," ",H.a.cryo,"+",H.a.geo]}),hydro:Object(z.jsxs)("span",{children:[V.b.getStatName("hydro_crystalize_hit")," ",H.a.hydro,"+",H.a.geo]})};var be=[1,1,2,4,6,8,10];function ue(e){var t=e.characterSheet,a=e.character,c=a.talent,n=a.ascension,s=a.key,r=e.characterDispatch,l=e.talentKey,o=e.subtitle,d=e.onClickTitle,b=Object(i.useContext)(f.a),h=b.newBuild,m=b.equippedBuild,p=h||m;if(!p)return null;var g=null;if(l in c){var y,N=null!==(y=p["".concat(l,"Boost")])&&void 0!==y?y:0,S=c[l]+N;g=Object(z.jsx)(x.a.Header,{children:Object(z.jsx)($.a,{title:"Talent Lv. ".concat(S),children:Object(D.a)(Array(be[n]+("auto"!==l||N?0:1)).keys()).map((function(e){return Object(z.jsxs)(u.a.Item,{onClick:function(){return t=e+1,c[l]=t,void r({talent:c});var t},children:["Talent Lv. ",e+N+1]},e)}))})})}var k=t.getTalentStats(l,p),w=k&&Object(ie.a)(k,p),C=w&&!!w.length&&Object(z.jsx)(v.a,{children:Object(z.jsx)(O.a,{children:Object(z.jsx)(x.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(z.jsx)(ae.a,{className:"text-white",variant:"flush",children:w.map((function(e,t){return Object(z.jsx)(ne.a,{index:t,field:e},t)}))})})})}),E=t.getTalentOfKey(l,p.characterEle),_=null===E||void 0===E?void 0:E.sections;return Object(z.jsxs)(x.a,{bg:"lightcontent",text:"lightfont",className:"h-100",children:[g,Object(z.jsxs)(x.a.Body,{className:"mb-n2",children:[Object(z.jsxs)(v.a,{className:"d-flex flex-row mb-2 ".concat(d?"cursor-pointer":""),onClick:d,children:[Object(z.jsx)(O.a,{xs:"auto",className:"flex-shrink-1 d-flex flex-column",children:Object(z.jsx)(j.a,{src:null===E||void 0===E?void 0:E.img,className:"thumb-mid"})}),Object(z.jsxs)(O.a,{className:"flex-grow-1",children:[Object(z.jsx)(x.a.Title,{children:null===E||void 0===E?void 0:E.name}),Object(z.jsx)(x.a.Subtitle,{children:o})]})]}),_?Object(z.jsx)(ce.a,{sections:_,characterKey:s,equippedBuild:m,newBuild:h}):null,C]})]})}var he=a(287),xe=a(206),Oe=a(113),me=a(212);function ve(e){var t,a=e.characterKey,j=e.setCharacterKey,d=e.footer,b=e.newBuild,u=e.onClose,m=e.tabName,g=Object(i.useContext)(S.b),y=Object(i.useState)(!1),N=Object(c.a)(y,2),k=N[0],K=N[1],T=Object(w.a)(),A=Object(c.a)(T,2),I=A[0],q=A[1],L=Object(C.a)(_.a.getAll(),[]),P=Object(C.a)(Oe.b.getAll(),[]),D=Object(C.a)(p.a.getAll(),[]),F=Object(i.useMemo)((function(){var e;return I&&(null!==(e=g._getChar(a))&&void 0!==e?e:Object(me.b)(a))}),[a,I,g]),U=Object(i.useMemo)((function(){return I&&g._getWeapon(F.equippedWeapon)}),[F.equippedWeapon,I,g]),W=null===P||void 0===P?void 0:P[a],R=U?null===L||void 0===L?void 0:L[U.key]:void 0,H=W&&R&&D&&{characterSheet:W,weaponSheet:R,artifactSheets:D};Object(i.useEffect)((function(){return g.followChar(a,q)}),[a,q,g]),Object(i.useEffect)((function(){return g.followWeapon(F.equippedWeapon,q)}),[F.equippedWeapon,q,g]);var V=Object(i.useMemo)((function(){if(b)return Object(E.d)(b)}),[b]),G=null!==(t=null===V||void 0===V?void 0:V.mainStatAssumptionLevel)&&void 0!==t?t:0,J=Object(i.useMemo)((function(){return W&&R&&D&&B.a.calculateBuild(F,g,W,R,D,G)}),[F,W,R,D,G,g]),Q=H&&Object(z.jsx)(he.g,{sheets:H,character:F});return Object(z.jsxs)(x.a,{bg:"darkcontent",text:"lightfont",children:[Object(z.jsx)(x.a.Header,{children:Object(z.jsxs)(v.a,{children:[Object(z.jsx)(O.a,{xs:"auto",className:"mr-auto",children:Object(z.jsx)(pe,{characterSheet:W,character:F,weaponSheet:R,setCharacterKey:j})}),Boolean(G)&&Object(z.jsx)(O.a,{xs:"auto",children:Object(z.jsx)(r.a,{className:"mb-0 py-1 h-100",variant:"orange",children:Object(z.jsxs)("b",{children:["Assume Main Stats are Level ",G]})})}),Boolean(u)&&Object(z.jsx)(O.a,{xs:"auto",children:Object(z.jsx)(h.a,{variant:"danger",onClick:u,children:Object(z.jsx)(s.a,{icon:n.B})})})]})}),a&&H&&W&&R&&Object(z.jsx)(x.a.Body,{children:Object(z.jsx)(f.a.Provider,{value:{newBuild:V,equippedBuild:J,compareBuild:k,setCompareBuild:K},children:Object(z.jsxs)(l.a.Container,{defaultActiveKey:m||(V?"newartifacts":"character"),mountOnEnter:!0,unmountOnExit:!0,children:[Object(z.jsxs)(o.a,{variant:"pills",className:"mb-2 mx-0",fill:!0,children:[Object(z.jsx)(o.a.Item,{children:Object(z.jsx)(o.a.Link,{eventKey:"character",children:Object(z.jsx)("h5",{className:"mb-0",children:"Character"})})}),V?Object(z.jsx)(o.a.Item,{children:Object(z.jsx)(o.a.Link,{eventKey:"newartifacts",children:Object(z.jsx)("h5",{className:"mb-0",children:"New Artifacts"})})}):null,Object(z.jsx)(o.a.Item,{children:Object(z.jsx)(o.a.Link,{eventKey:"artifacts",children:Object(z.jsx)("h5",{className:"mb-0",children:V?"Current Artifacts":"Artifacts"})})}),Object(z.jsx)(o.a.Item,{children:Object(z.jsx)(o.a.Link,{eventKey:"talent",children:Object(z.jsx)("h5",{className:"mb-0",children:"Talents"})})})]}),Object(z.jsxs)(l.a.Content,{children:[Object(z.jsxs)(l.a.Pane,{eventKey:"character",children:[Q,Object(z.jsx)(X,{characterSheet:W,weaponSheet:R,character:F})]}),Object(z.jsx)(f.a.Provider,{value:{newBuild:void 0,equippedBuild:J,compareBuild:k,setCompareBuild:K},children:Object(z.jsxs)(l.a.Pane,{eventKey:"artifacts",children:[Q,Object(z.jsx)(M,{sheets:H,character:F})]})}),V?Object(z.jsxs)(l.a.Pane,{eventKey:"newartifacts",children:[Q,Object(z.jsx)(M,{sheets:H,character:F})]}):null,Object(z.jsxs)(l.a.Pane,{eventKey:"talent",children:[Q,Object(z.jsx)(re,{characterSheet:W,character:F})]})]})]})})}),d&&Object(z.jsx)(x.a.Footer,{children:d})]})}function pe(e){var t=e.characterSheet,a=e.weaponSheet,n=e.character,s=e.character,r=s.key,l=s.elementKey,o=void 0===l?"anemo":l,x=s.level,O=void 0===x?1:x,v=s.ascension,p=void 0===v?0:v,f=e.disabled,S=e.setCharacterKey,w=Object(k.a)(r),C=t?Object(z.jsxs)("span",{children:[Object(z.jsx)(j.a,{src:t.thumbImg,className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(z.jsxs)("h6",{className:"d-inline",children:[" ",t.name," "]})]}):Object(z.jsx)("span",{children:"Select a Character"}),_=Object(i.useCallback)((function(e){e=Object(E.a)(e,1,90);var t=y.b.findIndex((function(t){return e<=t}));w({level:e,ascension:t})}),[w]),K=Object(i.useCallback)((function(){var e=y.b.findIndex((function(e){return 90!==O&&O===e}));w(p===e?{ascension:p+1}:{ascension:e})}),[w,p,O]);return Object(z.jsx)(z.Fragment,{children:f?Object(z.jsxs)("span",{children:[C," ",t&&a&&B.a.getLevelString(n)]}):Object(z.jsxs)(d.a,{children:[Object(z.jsxs)(b.a,{as:d.a.Prepend,children:[Object(z.jsx)(xe.a,{characterSheet:t,onSelect:S}),(null===t||void 0===t?void 0:t.sheet)&&"talents"in(null===t||void 0===t?void 0:t.sheet)&&Object(z.jsxs)(u.a,{as:b.a,children:[Object(z.jsx)(u.a.Toggle,{as:h.a,className:"text-".concat(o),children:Object(z.jsx)("strong",{children:N.a[o].name})}),Object(z.jsx)(u.a.Menu,{children:Object.keys(t.sheet.talents).map((function(e){return Object(z.jsx)(u.a.Item,{className:"text-".concat(e),onClick:function(){return w({elementKey:e})},children:Object(z.jsx)("strong",{children:N.a[e].name})},e)}))})]})]}),Object(z.jsx)(d.a.Prepend,{children:Object(z.jsx)(d.a.Text,{children:Object(z.jsx)("strong",{children:"Lvl. "})})}),Object(z.jsx)(d.a.Append,{children:Object(z.jsx)(g.a,{placeholder:void 0,className:"h-100",onChange:_,value:O,min:1,max:90,disabled:!t})}),Object(z.jsxs)(b.a,{as:d.a.Append,children:[Object(z.jsx)(h.a,{disabled:!Object(y.a)(O)||!t,onClick:K,children:Object(z.jsxs)("strong",{children:["/ ",y.b[p]]})}),Object(z.jsxs)(u.a,{as:b.a,children:[Object(z.jsx)(u.a.Toggle,{as:h.a,disabled:!t,children:"Select Level"}),Object(z.jsx)(u.a.Menu,{children:y.c.map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],s=a===y.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(y.b[n]);return Object(z.jsx)(m.a,{onClick:function(){return w({level:a,ascension:n})},children:s},"".concat(a,"/").concat(n))}))})]})]})]})})}},276:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var c=a(67),n=a(12),s=a(8),i=a(2),r=a(29),l=a(10),o=a(0),j=a(187),d=a(121),b=a(70),u=a(230),h=a(226),x=a(186),O=a(118),m=a(142),v=a(188),p=a(548),f=a(203),g=a(97),y=a(113),N=a(207),S=a(223),k=a(220),w=a(202),C=a(39),E=a(45),_=a(117),B=a(111),K=a(11),T=a(231),A=a(232),I=a(114),q=a(334),L=a(208),z=a(98),P=a(1);function M(e){var t=e.title,a=e.statsVals,c=void 0===a?{}:a,n=e.stats;if(0===Object.keys(null!==c&&void 0!==c?c:{}).length)return null;var s=Object(z.a)(c,n);return Object(P.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:[Object(P.jsx)(j.a.Header,{className:"py-2 px-3",children:t}),Object(P.jsx)(q.a,{className:"text-white",variant:"flush",children:s.map((function(e,t){return Object(P.jsx)(L.a,{index:t,field:e,className:"px-3 py-2"},t)}))})]})}function D(e){var t,a=e.weaponId,p=e.charData,f=e.footer,T=void 0!==f&&f,q=e.onClose,L=Object(o.useContext)(E.b),z=Object(_.a)(),D=Object(i.a)(z,2),U=D[0],W=D[1],R=Object(o.useContext)(g.a),H=Object(o.useMemo)((function(){return U&&L._getWeapon(a)}),[a,U,L]),V=H.key,G=H.level,J=H.refinement,X=H.ascension,Q=H,Y=Q.location,Z=void 0===Y?"":Y,$=Q.id,ee=Object(B.a)(I.a.get(V),[V]),te=null===ee||void 0===ee?void 0:ee.weaponType;Object(o.useEffect)((function(){return a?L.followWeapon(a,W):void 0}),[a,W,L]);var ae=Object(o.useCallback)((function(e){L.updateWeapon(e,a)}),[a,L]),ce=Object(o.useCallback)((function(e){e=Object(K.a)(e,1,90);var t=C.b.findIndex((function(t){return e<=t}));ae({level:e,ascension:t})}),[ae]),ne=Object(o.useCallback)((function(){var e=C.b.findIndex((function(e){return 90!==G&&G===e}));ae(X===e?{ascension:X+1}:{ascension:e})}),[ae,X,G]),se=Object(s.a)({},p?null!==(t=p.newBuild)&&void 0!==t?t:p.equippedBuild:{weapon:{refineIndex:J-1,level:G,ascension:X}}),ie=Object(B.a)(Z?y.b.get(Z):void 0,[Z]),re=ie?function(e){return e.weaponType===ie.weaponTypeKey}:void 0;return Object(P.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(P.jsx)(j.a.Header,{children:Object(P.jsxs)(d.a,{children:[Object(P.jsx)(b.a,{children:Object(P.jsxs)(d.a,{className:"mb-n2",children:[Object(P.jsx)(b.a,{className:"mb-2",children:Object(P.jsx)(u.a,{children:Object(P.jsxs)(h.a,{as:u.a.Prepend,children:[Object(P.jsx)(A.a,{weaponSheet:ee,onSelect:function(e){return ae({key:e})},filter:re}),Object(P.jsxs)(x.a,{as:h.a,children:[Object(P.jsxs)(x.a.Toggle,{as:O.a,children:["Refinement ",J]}),Object(P.jsxs)(x.a.Menu,{children:[Object(P.jsx)(x.a.ItemText,{children:Object(P.jsx)("span",{children:"Select Weapon Refinement"})}),Object(P.jsx)(x.a.Divider,{}),Object(n.a)(Array(5).keys()).map((function(e){return Object(P.jsx)(x.a.Item,{onClick:function(){return ae({refinement:e+1})},children:"Refinement ".concat(e+1)},e)}))]})]})]})})}),Object(P.jsx)(b.a,{className:"mb-2",xs:"auto",children:Object(P.jsxs)(u.a,{children:[Object(P.jsx)(u.a.Prepend,{children:Object(P.jsx)(u.a.Text,{children:Object(P.jsx)("strong",{children:"Lvl. "})})}),Object(P.jsx)(u.a.Append,{children:Object(P.jsx)(N.a,{placeholder:void 0,onChange:ce,value:G,min:1,max:90})}),Object(P.jsxs)(h.a,{as:u.a.Append,children:[Object(P.jsx)(O.a,{disabled:!Object(C.a)(G),onClick:ne,children:Object(P.jsxs)("strong",{children:["/ ",C.b[X]]})}),Object(P.jsxs)(x.a,{as:h.a,children:[Object(P.jsx)(x.a.Toggle,{as:O.a,children:"Select Level"}),Object(P.jsx)(x.a.Menu,{children:C.c.map((function(e){var t=Object(i.a)(e,2),a=t[0],c=t[1],n=a===C.b[c]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(C.b[c]);return Object(P.jsx)(x.a.Item,{onClick:function(){return ae({level:a,ascension:c})},children:n},"".concat(a,"/").concat(c))}))})]})]})]})})]})}),!!q&&Object(P.jsx)(b.a,{xs:"auto",children:Object(P.jsx)(O.a,{variant:"danger",onClick:q,children:Object(P.jsx)(l.a,{icon:r.B})})}),!!p&&L===E.c&&Object(P.jsx)(b.a,{xs:"auto",children:Object(P.jsx)(F,{weaponTypeKey:te,onChangeId:function(e){return L.setWeaponLocation(e,p.character.key)}})})]})}),Object(P.jsx)(j.a.Body,{children:function(){if(!ee)return null;var e=ee.getSubStatKey(),t=ee.getMainStatValue(G,X),a=ee.getSubStatValue(G,X),n=ee.passiveName,s=ee.stats(se),i=ee.document;return Object(P.jsxs)(d.a,{className:"mb-n2",children:[Object(P.jsxs)(b.a,{xs:12,md:3,lg:4,children:[Object(P.jsx)(m.a,{src:ee.img,className:"w-100 h-auto grad-".concat(ee.rarity,"star"),thumbnail:!0}),Object(P.jsx)("small",{children:ee.description})]}),Object(P.jsxs)(b.a,{children:[Object(P.jsxs)("h5",{className:"mb-0",children:[!1,ee.name," Lv. ",I.a.getLevelString(H)," ",n&&Object(P.jsxs)(v.a,{variant:"info",children:["Refinement ",J]})]}),Object(P.jsx)("div",{className:"mb-2",children:Object(P.jsx)(w.a,{stars:ee.rarity})}),Object(P.jsx)("h6",{children:n}),Object(P.jsx)("div",{className:"mb-2",children:n&&ee.passiveDescription(se)}),se&&Object(P.jsxs)(g.a.Provider,{value:p?R:{equippedBuild:se,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(P.jsx)(M,{title:"Main Stats",statsVals:Object(c.a)({atk:t},e,e?a:void 0),stats:se}),Object(P.jsx)(M,{title:"Bonus Stats",statsVals:s,stats:se})]}),p&&i?function(){var e,t=p.equippedBuild,a=p.newBuild,c=null===(e=a||t)||void 0===e?void 0:e.characterKey;return!!c&&Object(P.jsx)(S.a,{sections:i,equippedBuild:t,newBuild:a,characterKey:c})}():null]})]})}()}),T&&$&&Object(P.jsx)(j.a.Footer,{children:Object(P.jsxs)(d.a,{children:[Object(P.jsx)(b.a,{children:Object(P.jsx)(k.a,{location:Z,onEquip:function(e){return L.setWeaponLocation($,e)},weaponTypeKey:null===ee||void 0===ee?void 0:ee.weaponType,disableUnequip:!!H.location,disabled:L===E.c})}),!!q&&Object(P.jsx)(b.a,{xs:"auto",children:Object(P.jsx)(O.a,{variant:"danger",onClick:q,children:"Close"})})]})})]})}function F(e){var t=e.onChangeId,a=e.weaponTypeKey,c=Object(o.useContext)(E.b),n=Object(o.useState)(!1),s=Object(i.a)(n,2),u=s[0],h=s[1],x=function(){return h(!1)},v=function(e){t(e),x()},g=Object(B.a)(I.a.getAll(),[]),y=c.weapons.keys.filter((function(e){var t,n=c._getWeapon(e);return!!n&&(!a||a===(null===g||void 0===g||null===(t=g[n.key])||void 0===t?void 0:t.weaponType))}));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(O.a,{variant:"info",onClick:function(){return h(!0)},children:[Object(P.jsx)(l.a,{icon:r.l})," SWAP WEAPON"]}),Object(P.jsx)(p.a,{show:u,size:"xl",contentClassName:"bg-transparent",onHide:x,children:Object(P.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",children:[Object(P.jsx)(j.a.Header,{children:Object(P.jsxs)(d.a,{children:[Object(P.jsxs)(b.a,{children:[a?Object(P.jsx)(m.a,{src:f.a.weaponTypes[a],className:"inline-icon"}):null," ",Object(P.jsx)("h5",{className:"mb-0 d-inline",children:"Swap Weapon"})]}),Object(P.jsx)(b.a,{xs:"auto",children:Object(P.jsx)(O.a,{onClick:x,variant:"danger",children:Object(P.jsx)(l.a,{icon:r.B})})})]})}),Object(P.jsx)(j.a.Body,{children:Object(P.jsx)(d.a,{children:y.map((function(e){return Object(P.jsx)(b.a,{lg:4,md:6,className:"mb-2",children:Object(P.jsx)(T.a,{weaponId:e,cardClassName:"h-100",onClick:v,footer:!0})},e)}))})})]})})]})}},540:function(e,t,a){"use strict";var c=a(215),n=a(0),s=a.n(n),i=a(38),r=a(129),l=a(27),o=function(e){var t=Object(i.a)(e,{activeKey:"onSelect"}),a=t.id,c=t.generateChildId,o=t.onSelect,j=t.activeKey,d=t.transition,b=t.mountOnEnter,u=t.unmountOnExit,h=t.children,x=Object(n.useMemo)((function(){return c||function(e,t){return a?a+"-"+t+"-"+e:null}}),[a,c]),O=Object(n.useMemo)((function(){return{onSelect:o,activeKey:j,transition:d,mountOnEnter:b||!1,unmountOnExit:u||!1,getControlledId:function(e){return x(e,"tabpane")},getControllerId:function(e){return x(e,"tab")}}}),[o,j,d,b,u,x]);return s.a.createElement(r.a.Provider,{value:O},s.a.createElement(l.a.Provider,{value:o||null},h))},j=a(3),d=a(5),b=a(7),u=a.n(b),h=a(9),x=["bsPrefix","as","className"],O=s.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.as,n=void 0===c?"div":c,i=e.className,r=Object(d.a)(e,x),l=Object(h.a)(a,"tab-content");return s.a.createElement(n,Object(j.a)({ref:t},r,{className:u()(i,l)}))})),m=a(99),v=["activeKey","getControlledId","getControllerId"],p=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"];var f=s.a.forwardRef((function(e,t){var a=function(e){var t=Object(n.useContext)(r.a);if(!t)return e;var a=t.activeKey,c=t.getControlledId,s=t.getControllerId,i=Object(d.a)(t,v),o=!1!==e.transition&&!1!==i.transition,b=Object(l.b)(e.eventKey);return Object(j.a)({},e,{active:null==e.active&&null!=b?Object(l.b)(a)===b:e.active,id:c(e.eventKey),"aria-labelledby":s(e.eventKey),transition:o&&(e.transition||i.transition||m.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:i.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:i.unmountOnExit})}(e),c=a.bsPrefix,i=a.className,o=a.active,b=a.onEnter,x=a.onEntering,O=a.onEntered,f=a.onExit,g=a.onExiting,y=a.onExited,N=a.mountOnEnter,S=a.unmountOnExit,k=a.transition,w=a.as,C=void 0===w?"div":w,E=(a.eventKey,Object(d.a)(a,p)),_=Object(h.a)(c,"tab-pane");if(!o&&!k&&S)return null;var B=s.a.createElement(C,Object(j.a)({},E,{ref:t,role:"tabpanel","aria-hidden":!o,className:u()(i,_,{active:o})}));return k&&(B=s.a.createElement(k,{in:o,onEnter:b,onEntering:x,onEntered:O,onExit:f,onExiting:g,onExited:y,mountOnEnter:N,unmountOnExit:S},B)),s.a.createElement(r.a.Provider,{value:null},s.a.createElement(l.a.Provider,{value:null},B))}));f.displayName="TabPane";var g=f,y=function(e){function t(){return e.apply(this,arguments)||this}return Object(c.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(s.a.Component);y.Container=o,y.Content=O,y.Pane=g;t.a=y}}]);
//# sourceMappingURL=2.8add6e7b.chunk.js.map