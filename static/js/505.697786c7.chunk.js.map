{"version":3,"file":"static/js/505.697786c7.chunk.js","mappings":"mzJAYMA,GAAaC,EAAAA,EAAAA,IAAUC,GAAa,SAAAC,GAAK,OAAK,GAAL,eAAWC,OAAOC,OAAOF,QAElEG,GAAcC,EAAAA,EAAAA,GAAa,CAAC,KAAM,MAAO,MAAO,SAAU,YAAa,YAAa,WAAY,UAAU,SAAAC,GAAG,OAAIC,EAAAA,GAAAA,MAAYD,MAEtHE,GAAeC,EAAAA,EAAAA,IAC1BF,EAAAA,GAAAA,SAAAA,mBACAA,EAAAA,GAAAA,SAAAA,KACAA,EAAAA,GAAAA,SAAAA,iBACIG,GAAiBD,EAAAA,EAAAA,KACrBE,EAAAA,EAAAA,IAAOJ,EAAAA,GAAAA,IAAAA,KAAgB,CACrB,MAASA,EAAAA,GAAAA,QAAe,MAASA,EAAAA,GAAAA,cAChCK,IACHD,EAAAA,EAAAA,IAAOJ,EAAAA,GAAAA,WAAkB,CACvBM,MAAOL,EAAcM,SAAUN,EAAcO,QAASP,EACtDQ,SAAUT,EAAAA,GAAAA,cACTK,GACH,YAGF,SAASK,EAAcC,GACrB,OAAQA,GACN,IAAK,SAAU,IAAK,UAAW,IAAK,WAAY,MAAO,OACvD,IAAK,QAAS,MAAO,QACrB,IAAK,QAAS,MAAO,SAKlB,SAASC,EAAcC,EAAeF,GAA4G,IAAD,EAAhCG,EAAgC,uDAAb,GACzI,OAAOC,EAAAA,EAAAA,IAAKf,EAAAA,GAAAA,IAAAA,KAAegB,EAAAA,EAAAA,IAAU,CAAC,CACpCC,IAAK,CAAEJ,KAAAA,EAAMF,MAAMO,EAAAA,EAAAA,IAASP,GAAOQ,IAAe,OAAVL,QAAU,IAAVA,GAAA,UAAAA,EAAYG,WAAZ,SAAiBE,SAAMd,EAAYF,IAC1EW,KAGE,SAASM,EAAiBP,EAAeC,GAC9C,IAAMO,GAAaC,EAAAA,EAAAA,IAAKT,GAAMU,EAAAA,EAAAA,IAAIC,EAAAA,GAAMxB,EAAAA,GAAAA,MAAAA,UACxC,OAAOc,GAAaC,EAAAA,EAAAA,IAAKM,EAAYP,GAAcO,EAG9C,SAASI,EAAeZ,EAAeC,GAC5C,IAAMY,GAAWJ,EAAAA,EAAAA,IAAKT,GAAMU,EAAAA,EAAAA,IAAIC,EAAAA,GAAMxB,EAAAA,GAAAA,MAAAA,MAAmBA,EAAAA,GAAAA,MAAAA,WACzD,OAAOc,GAAaC,EAAAA,EAAAA,IAAKW,EAAUZ,GAAcY,EAG5C,SAASC,EAAQd,EAAgCe,EAAyBjB,GAA8F,IAAjCG,EAAgC,uDAAb,GACzJe,EAAanB,EAAcC,GACjC,OAAOC,GAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,MAAA,UAAe6B,EAAf,UAAmCD,EAAe,CAAE7B,IAAK,MAAQC,EAAAA,GAAAA,MAAYa,IAAQF,EAAMG,GAG1H,SAASO,EAAWR,EAAgCkB,EAA2BC,EAAwBlB,GAC5G,OAAOM,GAAiBG,EAAAA,EAAAA,KAAID,EAAAA,EAAAA,IAAKS,EAAS/B,EAAAA,GAAAA,MAAYa,IAAQmB,GAAOlB,GAGhE,SAASY,EAASb,EAAgCkB,EAA2BC,EAAwBlB,GAC1G,OAAOW,GAAeF,EAAAA,EAAAA,KAAID,EAAAA,EAAAA,IAAKS,EAAS/B,EAAAA,GAAAA,MAAYa,IAAQmB,GAAOlB,GAG9D,SAASmB,EAAiBpB,EAAgCqB,EAA0BF,EAAgBrB,EAA6DG,GACtK,IAAMe,EAAanB,EAAcC,GAC3BwB,EAAcnC,EAAAA,GAAAA,MAAA,UAAe6B,EAAf,UACpB,OAAOT,GAAiBG,EAAAA,EAAAA,KACtBD,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAUK,EAAaD,EAAgB,CAAEnC,IAAK,MAAQC,EAAAA,GAAAA,MAAYa,KACvEiB,EAAAA,EAAAA,IAAUK,EAAaH,IACtBlB,GAEE,SAASsB,EAAcC,EAAwDhB,GACpF,OAAOiB,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAoB,QAAZM,EAAoB,IAAM,KAAMhB,GAAa,CAAEkB,QAASF,IAG/E,SAASG,EAAe3B,EAAgCqB,EAA0BF,EAAgBrB,EAA6DG,GACpK,IAAMe,EAAanB,EAAcC,GAC3BwB,EAAcnC,EAAAA,GAAAA,MAAA,UAAe6B,EAAf,UACpB,OAAOJ,GAAeF,EAAAA,EAAAA,KACpBD,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAUK,EAAaD,EAAgB,CAAEnC,IAAK,MAAQC,EAAAA,GAAAA,MAAYa,KACvEiB,EAAAA,EAAAA,IAAUK,EAAaH,IACtBlB,GAEE,SAAS2B,EACd1C,EACAsC,EACAK,EACAC,EAMAC,GAEO,IADP9B,EACM,uDADa,GAEnB,SAAS+B,EAAMhC,EAAciC,GAC3B,OAAOxB,EAAAA,EAAAA,IAAKT,GAAMiB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,IAAWT,EAAWuD,KAEpDF,EAAQG,OAAR,UAAqBlD,GACrB,IAoBImD,EApBEjC,EAAa,CACjBkC,SAAS/B,EAAAA,EAAAA,IAASnB,GAClBc,KAAM,GACNqC,YAAYhC,EAAAA,EAAAA,IAASyB,EAAIQ,eACzBC,OAAQ,GACRR,QAAAA,GAEEP,IACFtB,EAAKsC,SAAUnC,EAAAA,EAAAA,IAASmB,GACxBtB,EAAKuC,SAAW,CAAEC,OAAM,UAAIlB,GAAUnB,EAAAA,EAAAA,IAAS,KAC/CH,EAAK6B,QAASG,MAAd,UAAuBV,EAAvB,UAAyCrC,EAAAA,GAAAA,MAAA,UAAeqC,EAAf,UACzCtB,EAAK6B,QAASY,SAAWC,EAAAA,GAAUpB,IAEjCK,IACFgB,EAAAA,EAAAA,IAAkB3C,EAAM,CAAC,WAAY,QAAS2B,IAASxB,EAAAA,EAAAA,IAAS,IACxC,aAAtByB,EAAIQ,gBACDpC,EAAK6B,QAASG,QAAOhC,EAAK6B,QAASG,MAAQ,IAChDhC,EAAK6B,QAASG,MAAOY,cAAgB3D,EAAAA,GAAAA,MAAAA,eAIvC,IA1BM,iBA0BD,IAAM4D,EAAI,KACPC,EAAkB,GAOxB,GANIlB,EAAImB,OAAOF,IACbC,EAAKE,KAAKlB,EAAMF,EAAI9B,KAAK+C,GAAOjB,EAAImB,OAAOF,KACjCjB,EAAIqB,WAAWC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAMP,OAE3CC,EAAKE,MAAKjC,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,IAAW2C,EAAIqB,WAAWI,KAAI,SAAAF,GAAC,uBAAIA,EAAEC,MAAMP,UAAZ,QAAqBS,UAErER,EAAKS,OAAQ,iBAElB,IAAMC,GAASjC,EAAAA,EAAAA,IAAwB,IAAhBuB,EAAKS,OAAeT,EAAK,GAAKtC,EAAAA,GAAAA,WAAA,EAAOsC,GAAO,CAAE9D,IAAK6D,EAAMY,OAAQ,OAAQC,SAAS,IAEzG,GADIb,EAAKc,SAAS,WAAUH,EAAOI,KAAMpC,QAAUqB,EAAKgB,MAAM,GAAI,IACrD,QAAThB,GAA2B,QAATA,GAA2B,OAATA,EACtC7C,EAAKF,KAAM+C,GAAQW,MAChB,CACH,GAAIvB,EAAc,MAAM,IAAI6B,MAAM,2BAClC7B,GAAe,EACfjC,EAAK+D,QAAUP,EACfxD,EAAKqC,OAAQQ,GAAQ5D,EAAAA,GAAAA,UAlBzB,wBAAuB+E,EAAAA,GAAvB,CAAwC,QAAxC,eAAyD,IAsBzD,OAAO/D,EAAAA,EAAAA,IAAU,CAACD,GAAMiE,EAAAA,EAAAA,IAAalE,O,gonBC5IjCmE,EAAetF,OAAOuF,YAAYvF,OAAOwF,QAAQC,GAAehB,KAAI,+BAAErE,EAAF,KAAOL,EAAP,WAAkB,CAACK,EAAD,CAAO,GAAP,eAAaJ,OAAOC,OAAOF,UAEhH,SAAS2F,EACdtF,EACA4C,GAGO,IAFP7B,EAEM,uDAFa,GACnBwE,EACM,uDADsB,GAEtBf,EAAe,CACnB1D,KAAM,GACNuC,OAAQ,GACRmC,MAAO,GACPC,OAAQ,CACNzF,KAAKmB,EAAAA,EAAAA,IAASnB,GAAM0F,MAAMvE,EAAAA,EAAAA,IAASyB,EAAIO,aAEzCN,SAAQ,2BACK7C,GAAQuF,IAIfI,EAAsB/C,EAAtB+C,SAAUC,EAAYhD,EAAZgD,QACZC,EAAU,CAACrB,GAEjB,GAAsB,QAAlBmB,EAASD,MAAoC,QAAlBC,EAASD,MAAoC,OAAlBC,EAASD,KAAe,MAAM,IAAIZ,MAAM,gCAClG,IAAMgB,GAAevD,EAAAA,EAAAA,KAAQf,EAAAA,EAAAA,KAAID,EAAAA,EAAAA,IAAKoE,EAAS7E,MAAMiB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,IAAkBiF,EAAaS,EAAS7C,UAAUf,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,IAAkB2C,EAAImD,UAAU1B,KAAI,SAAAF,GAAC,uBAAIA,EAAE6B,SAASL,EAASD,aAAxB,QAAiC,OAAM,CAAE1F,IAAK2F,EAASD,OAGvN,GAFAG,EAAQ7B,KAAK,CAAElD,MAAK,UAAI6E,EAASD,KAAOzF,EAAAA,GAAAA,OAAAA,MAAqBwF,OAAQ,CAAEQ,KAAMH,KAEzEF,EAAS,CACX,GAAqB,QAAjBA,EAAQF,MAAmC,QAAjBE,EAAQF,MAAmC,OAAjBE,EAAQF,KAAe,MAAM,IAAIZ,MAAM,2CAC/F,IAAMoB,GAAc3D,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,IAAKqE,EAAQ9E,MAAMiB,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,IAAkBiF,EAAaU,EAAQ9C,SAAU,CAAE9C,IAAK4F,EAAQF,OACzHG,EAAQ7B,KAAK,CACXX,QAAO,UAAIuC,EAAQF,KAAOzF,EAAAA,GAAAA,OAAAA,KAC1BwF,OAAQ,CAAEU,IAAKD,KAGnB,OAAOjF,EAAAA,EAAAA,IAAU,GAAD,OAAK4E,EAAL,EAAcZ,EAAAA,EAAAA,IAAalE,EAAYf,M,mcChCnDA,EAAiB,YACjBoG,EAAWC,EACjB,GAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,GAAhC,eAASuG,EAAT,KAEA,GAAuCC,EAAAA,EAAAA,IAAKxG,EAAK,uBAAjD,eAAOyG,EAAP,KAAwBC,EAAxB,KACMC,GAAcC,EAAAA,EAAAA,IAAM,EAAG,IAAIvC,KAAI,SAAAwC,GAAC,OAAQ,GAAJA,KACpCC,EAAQ,CAAC,MAAQ,MAAQ,MAAQ,MAAQ,OACzCC,EAAM,CAAC,GAAK,GAAK,GAAK,GAAK,IAC3BC,GAAa3G,EAAAA,EAAAA,IAAOqG,EAAa9G,OAAOuF,YAAYwB,EAAYtC,KAAI,SAAAwC,GAAC,MAAI,CAACA,GAAGI,EAAAA,EAAAA,KAAI1F,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B6G,EAAO,CAAE9G,IAAK,MAAQ6G,IAAI9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B8G,EAAK,CAAE/G,IAAK,YAAYkH,EAAAA,IAChNlG,EAAOsE,EAAsBtF,EAAKoG,EAAU,CAChD/C,OAAQ,CACN2D,WAAAA,KAIEG,EAAsB,CAC1BC,KAAAA,EACAC,WAAAA,EACAC,SAAU,CAAC,CACT3H,MAAO+G,EACPa,KAAMd,EACNe,QAAQC,EAAAA,EAAAA,GAAezH,EAAKoH,EAAMC,GAAYK,EAAAA,EAAAA,IAAG,WACjDC,KAAMpB,EAAI,SACVqB,OAAQhI,OAAOuF,YAAYwB,EAAYtC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,KAAMd,EAAEgB,WACRC,OAAQ,CAAC,CAAEC,KAAMf,aAIvB,MAAmBgB,EAAAA,EAAYhI,EAAKmH,EAAOf,EAAUpF,G,wbC7B/ChB,EAAiB,oBACjBoG,EAAWC,EAEjB,GAAuCG,EAAAA,EAAAA,IAAKxG,EAAK,qBAAjD,eAAOyG,EAAP,KAAwBC,EAAxB,KACMuB,GAAoBrB,EAAAA,EAAAA,IAAM,EAAG,GAE7BsB,GAAO3G,EAAAA,EAAAA,KAAKlB,EAAAA,EAAAA,IAAOqG,GAAa3G,EAAAA,EAAAA,GAAakI,GAAmB,SAAApB,GAAC,OAAI1F,EAAAA,EAAAA,IAAS0F,MAAK,IACvF9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFG,CAAC,IAAM,IAAM,IAAM,IAAM,OAIlCe,EAAOsE,EAAsBtF,EAAKoG,EAAU,CAChD/C,OAAQ,CACN6E,KAAMA,KAGJf,EAAsB,CAC1BC,KAAAA,EACAC,WAAAA,EACAC,SAAU,CAAC,CACT3H,MAAO+G,EACPa,KAAMd,EACNe,QAAQC,EAAAA,EAAAA,GAAezH,EAAKoH,EAAMC,GAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OACEhI,OAAOuF,YAAY8C,EAAkB5D,KAAI,SAAA8D,GAAC,MAAI,CAACA,EAAG,CAChDR,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOD,IAC3BL,OAAQ,CAAC,CACPC,KAAMG,GACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,eAKhB,MAAmBuG,EAAAA,EAAYhI,EAAKmH,EAAOf,EAAUpF,G,qbCpC/ChB,EAAiB,yBACjBoG,EAAWC,EACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,GAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,EAAK,wBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWC,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFrC,CAAC,IAAM,IAAM,IAAM,IAAM,OAGlCe,GAAOsE,EAAsBtF,EAAKoG,EAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAIEpB,GAAsB,CAC1BC,KAAAA,EACAC,WAAAA,EACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,EAAKoH,EAAMC,GAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,EAAKmH,GAAOf,EAAUpF,I,ocC7B/ChB,GAAiB,aACjBoG,GAAWC,GAGXqC,IAAM7H,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADzB,CAAC,GAAK,IAAM,GAAK,KAAM,KACqC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CACxHiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAEjBH,GAAOsE,EAAsBtF,GAAKoG,IAClCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,mBAIhC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,icCtB/ChB,GAAiB,qBACjBoG,GAAWC,GACXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubCN/ChB,GAAiB,gBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAIA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,aAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMiC,IAAeH,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFvC,CAAC,GAAK,IAAM,GAAK,IAAM,MAGlCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNsF,aAAAA,MAIExB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GAGNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMY,IACL,CACDN,KAAM9B,GAAI,qBAMpB,OAAmByB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,2bCnC/ChB,GAAiB,wBACjBoG,GAAWC,GAGXuC,IAAa7G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADP,CAAC,IAAM,KAAO,IAAM,KAAO,MAG3Ce,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNuF,WAAAA,MAGEzB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMa,QAGrB,OAAmBZ,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,sbClB/ChB,GAAiB,cACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAmCC,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMC,GAAS,CAAC,IAAM,IAAM,IAAM,GAAK,KACjCC,GAAU,CAAC,IAAM,IAAM,IAAM,IAAM,KACnCd,IAAO7H,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B8I,GAAQ,CAAE/I,IAAK,MAAQ6G,MAAKK,EAAAA,IAC7H+B,IAAY5I,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B+I,GAAS,CAAEhJ,IAAK,MAAQ6G,MAAKK,EAAAA,IAC5HlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,GACAe,UAAAA,MAGE9B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,KAAMpB,GAAI,YACVqB,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,SAAU,CAAEU,MAAOvB,IAC5BiB,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDH,KAAMkB,cAKd,OAAmBjB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCjC/ChB,GAAiB,mBACjBoG,GAAWC,GAIXW,IAAajF,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFP,CAAC,IAAM,IAAM,IAAM,IAAM,MAG/C,IAAuCuG,EAAAA,EAAAA,IAAKxG,GAAK,kBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwC,IAAOV,EAAAA,EAAAA,IAAM9B,GAAa,MAC9B7F,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KACZQ,EAAAA,EAAAA,IACE9B,EAAAA,GAAAA,OAAAA,YANU,CAAC,EAAG,KAAM,IAAK,KAAM,GAMI,CAAED,IAAK,MAC1CC,EAAAA,GAAAA,MAAAA,KAEF,YACA,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,gBAGrBH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN2D,WAAAA,MAGEG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMf,MAChB,CACDQ,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjD/H,MAAO+G,GACPa,KAAMd,GACNkB,MAAMD,EAAAA,EAAAA,IAAG,eACTE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQ2G,GAAM,CAAElJ,IAAK,eAC1B,CACDqI,MAAMC,EAAAA,EAAAA,IAAI,MACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,yRClD/ChB,GAAiB,cACjBoG,GAAWC,GACXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,IAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCL/ChB,GAAiB,mBACjBoG,GAAWC,GAGX6C,IAAOrI,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAD1B,CAAC,IAAK,EAAG,IAAK,IAAK,KAC0C,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,KAAmB,YAAa,CAC1HiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAGjBH,GAAOsE,EAAsBtF,GAAKoG,IAClCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,MAAMxF,EAAAA,EAAAA,IAAQ2G,GAAM,CAAElJ,IAAK,mBAG1C,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubClB/ChB,GAAiB,cACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,sBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWC,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFrC,CAAC,GAAK,IAAM,IAAM,IAAM,OAGjCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAGEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ofC7B/ChB,GAAiB,uBACjBoG,GAAWC,GAKX8C,IAAOpH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHP,CAAC,IAAM,IAAM,IAAM,IAAM,MAInCmJ,IAAgB7H,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHd,CAAC,GAAK,GAAK,GAAK,GAAK,IAGmC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,KACxFoJ,IAAiB9H,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHd,CAAC,GAAK,GAAK,GAAK,GAAK,IAGoC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,KAE1Fe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN8F,KAAAA,GACAC,cAAAA,GACAC,eAAAA,KAED,CACDD,cAAAA,GACAC,eAAAA,KAEIlC,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMoB,IACL,CACDpB,KAAMqB,IACL,CACDrB,KAAMsB,QAIZ,OAAmBrB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCjC/ChB,GAAiB,kBACjBoG,GAAWC,GAEjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMQ,GAAQ,CAAC,IAAM,GAAK,IAAM,IAAM,KAChCL,IAAY5I,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BqJ,GAAO,CAAEtJ,IAAK,MAAQ6G,MAAKK,EAAAA,IAE1HlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN4F,UAAAA,MAGE9B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNlB,MAAMD,EAAAA,EAAAA,IAAG,oBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CAAEC,KAAMkB,cAIvB,OAAmBjB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,icC9B/ChB,GAAiB,wBACjBoG,GAAWC,GAEXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bCN/ChB,GAAiB,eACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGMgD,GAAY,CAAC,EAAG,IAAK,IAAK,IAAK,GAErC,IAAuC/C,EAAAA,EAAAA,IAAKxG,GAAK,gBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWxG,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJT,CAAC,IAAM,IAAM,IAAM,IAAM,IAIqB,CAAED,IAAK,MACjEwJ,IAAgBnJ,EAAAA,EAAAA,IAAOqG,IAAD,WACvB3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,IAAKgH,GAAU1B,OAChDK,EAAAA,IAEGlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAUiB,MAIRrC,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,mBACTE,QAAO,WACF7H,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACjCc,MAAMD,EAAAA,EAAAA,IAAG,UAAW,CAAEU,MAAW,EAAJvB,IAC7BiB,OAAQ,CAAC,CACPC,KAAMyB,IACL,CACDnB,KAAM9B,GAAI,eACV5G,MAAO,SAAAqB,GAAI,OAAIuI,GAAUvI,EAAKyI,IAAIxJ,EAAAA,GAAAA,OAAAA,aAA0BN,OAASkH,GACrEpF,KAAM,cAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,icCzC/ChB,GAAiB,qBACjBoG,GAAWC,GAEjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMY,GAAW,CAAC,IAAM,IAAM,IAAM,IAAM,IACpCxB,IAAO7H,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByJ,GAAU,CAAE1J,IAAK,MAAQ6G,MAAKK,EAAAA,IAExHlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,MAGEf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNlB,MAAMD,EAAAA,EAAAA,IAAG,yBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,eAKd,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,kfChC/ChB,GAAiB,eACjBoG,GAAWC,GAIXkC,IAAWxG,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFZ,CAAC,IAAM,GAAK,IAAM,IAAM,MAGjCyI,IAAM7H,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFzB,CAAC,GAAK,EAAG,IAAK,IAAK,KAEyC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CACxHiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAGjBH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAGEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMQ,IACL,CACDR,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,mBAIhC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ocC3B/ChB,GAAiB,uBACjBoG,GAAWC,GAIXsD,IAAS9I,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFzB,CAAC,GAAK,IAAM,IAAK,KAAM,KAEwC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CAC9HiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAEjByI,IAAc/I,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJ7B,CAAC,EAAG,IAAK,IAAK,IAAK,KAIiD,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CACpIiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAGjBH,GAAOsE,EAAsBtF,GAAKoG,IAClCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQoH,GAAQ,CAAE3J,IAAI,UAAD,OAAYA,GAAZ,cAC1B,CACD+H,MAAMxF,EAAAA,EAAAA,IAAQqH,GAAa,CAAE5J,IAAI,UAAD,OAAYA,GAAZ,2BAItC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wfC1B/ChB,GAAiB,oBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAKA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,oBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOnG,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJP,CAAC,IAAM,GAAM,IAAM,IAAM,KAIiB,CAAED,IAAK,MAC3D6J,IAAWrB,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJhC,CAAC,GAAM,IAAM,GAAM,IAAM,IAI8C,CAAED,IAAK,UAC5F8J,IAAUtB,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJhC,CAAC,IAAM,IAAM,IAAM,IAAM,OAMtCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,IAEF3E,SAAU,CACRF,OAAQ,CACN6E,KAAM2B,GACNC,QAAAA,OAIA3C,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMG,MAChB,CACDvI,MAAO+G,GACPa,KAAMd,GACNlD,UAAU,EACViE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,QACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAM8B,IACL,CACD9B,KAAM+B,IACL,CACDzB,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,qbCjD/ChB,GAAiB,UACjBoG,GAAWC,GAIjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,sBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMqD,IAAS1I,EAAAA,GAAAA,KAAiBE,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAH7B,CAAC,GAAK,IAAM,IAAM,IAAM,KAG0C,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KACnG,IAA6CuG,EAAAA,EAAAA,IAAKxG,GAAK,cAAvD,iBAAOgK,GAAP,MAA2BC,GAA3B,MACM1B,IAAWxG,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJT,CAAC,IAAM,IAAM,IAAM,IAAM,KAIqB,CAAED,IAAK,MAEjEgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,KAED,CACDwB,OAAAA,KAEI5C,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,WACTE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQwH,GAAQ,CAAE/J,IAAI,6BAC3B,CACDqI,MAAMC,EAAAA,EAAAA,IAAI,MACV3I,MAAO,GACP8B,KAAM,SAIX,CACD9B,MAAOsK,GACP1C,KAAMyC,GACNxC,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,qBACTE,OAAQ,CACNsC,UAAW,CACTpC,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,moBClD/ChB,GAAiB,cACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAIA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMyD,IAAUpI,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHR,CAAC,GAAK,IAAM,GAAK,IAAM,KAIzC,IAA6CuG,EAAAA,EAAAA,IAAKxG,GAAK,cAAvD,iBAAOgK,GAAP,MAA2BC,GAA3B,MACMlB,IAAShH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJV,CAAC,IAAM,IAAM,IAAM,IAAM,MAKlCmK,IAAY7I,EAAAA,EAAAA,KAChBC,EAAAA,EAAAA,IAAI,GAAGgH,EAAAA,EAAAA,IAAMyB,GAAgB,YAAa,KAC1C5J,EAAAA,EAAAA,IAAOqG,GAAa9G,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MACtD,CAACA,GAAGtF,EAAAA,EAAAA,IAAKwH,GAAQlC,QAAOK,EAAAA,KAGtBlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN8G,QAAAA,GACAjC,KAAMkC,MAGJjD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMoC,MAEP,CACDxK,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,QACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAC1C,CAACA,EAAG,CACFc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMqC,IACL,CACD/B,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,aAIX,CACD9B,MAAOsK,GACP1C,KAAMyC,GACNxC,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,GAAYd,GAAI,WAClDoB,MAAMD,EAAAA,EAAAA,IAAG,qBACTE,OAAQ,CACNsC,UAAW,CACTpC,OAAQ,CAAC,CACPO,KAAM9B,GAAI,aACV5G,MAAO,IACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,0RCnE/CoF,GAAWC,GACXrG,GAAiB,mBACVgB,GAAOsE,EAAsBtF,GAAKoG,IACzCe,IAAmB,kBACpBf,IADoB,IAEvBgB,KAAAA,GACAC,WAAAA,GACAC,SAAU,KAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ybCL/ChB,GAAiB,aACjBoG,GAAWC,GAEjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMY,GAAW,CAAC,IAAM,KAAO,IAAM,KAAO,KACtCxB,IAAO7H,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByJ,GAAU,CAAE1J,IAAK,MAAQ6G,MAAKK,EAAAA,IAC/HiC,IAAO9I,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByJ,GAAU,CAAE1J,IAAK,MAAQ6G,MAAKK,EAAAA,IAExHlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,GACAiB,KAAAA,MAGEhC,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNlB,MAAMD,EAAAA,EAAAA,IAAG,yBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDH,KAAMoB,IACL,CACDd,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,eAKd,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCpC/ChB,GAAiB,sBACjBoG,GAAWC,GAGjB,IAA6BG,EAAAA,EAAAA,IAAKxG,GAAK,eAAvC,iBAAOqK,GAAP,MAAiBC,GAAjB,MACMC,IAAO/B,EAAAA,EAAAA,IAAM8B,GAAU,MAAM5I,EAAAA,GAAAA,KAAeH,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFjD,CAAC,IAAM,GAAK,IAAM,IAAM,KAE4D,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,MAEtGe,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAAEiK,KAAAA,KAChEpD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO2K,GACP/C,KAAM8C,GACN1C,MAAMD,EAAAA,EAAAA,IAAG,oBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQgI,GAAM,CAAEvK,IAAK,oBAAqBwC,QAAS,mBAMnE,OAAmBwF,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,6eC1B/ChB,GAAiB,kBACjBoG,GAAWC,GAIjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,kBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOnG,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHP,CAAC,GAAK,IAAM,GAAK,IAAM,KAIjC4J,IAAWrB,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHhC,CAAC,GAAK,GAAK,GAAK,GAAK,IAGkD,CAAED,IAAK,UAE5FgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAMA,IAER3E,SAAU,CACRF,OAAQ,CACN6E,KAAM2B,OAIN1C,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMG,MAChB,CACDvI,MAAO+G,GACPa,KAAMd,GACNlD,UAAU,EACViE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,qBAAsB,CAAE1F,QAAS,KAC1C4F,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAM8B,IACL,CACDxB,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,IC3B/CR,GAAmD,CACvDgK,UAAAA,EACAC,kBAAAA,EACAC,uBAAAA,GACAC,WAAAA,GACAC,mBAAAA,GACAC,cAAAA,GACAC,sBAAAA,GACAC,YAAAA,GACAC,iBAAAA,GACAC,YAAAA,GACAC,iBAAAA,GACAC,YAAAA,GACAC,qBAAAA,GACAC,gBAAAA,GACAC,sBAAAA,GACAC,aAAAA,GACAC,mBAAAA,GACAC,aAAAA,GACAC,qBAAAA,GACAC,kBAAAA,GACAC,QAAAA,GACAC,YAAAA,GACAC,iBAAAA,GACAC,WAAAA,GACAC,oBAAAA,GACAC,gBAAAA,IAEF,M,qbChDMjM,GAAiB,kBACjBoG,GAAWC,GACXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ifCL/ChB,GAAiB,gBACjBoG,GAAWC,GAIjB,IAA6BG,EAAAA,EAAAA,IAAKxG,GAAK,mBAAvC,iBAAOqK,GAAP,MAAiBC,GAAjB,MACMpC,IAAOnG,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BmG,GAAS8F,SAAS7H,KAAI,SAAAF,GAAC,uBAAIA,EAAE+D,YAAN,QAAc5D,QAChFiG,IAAO/B,EAAAA,EAAAA,IAAM8B,GAAU,MAAM/I,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHlC,CAAC,EAAG,KAAM,IAAK,KAAM,KAGgD,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,MAC9FyI,IAAMF,EAAAA,EAAAA,IAAM8B,GAAU,MAAMzJ,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAL9C,CAAC,EAAG,IAAK,IAAK,IAAK,KAK+D,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,KAAmB,YAAa,CAChJiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,gBAGVH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,KAED,CACDqC,KAAAA,GAAM7B,IAAAA,KAEFvB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMG,MAEP,CACDvI,MAAO2K,GACP/C,KAAM8C,GACN1C,MAAMD,EAAAA,EAAAA,IAAG,WACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQgI,GAAM,CAAEvK,IAAK,oBAAqBwC,QAAS,aACxD,CACDuF,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,eACzB,CACDqI,MAAMC,EAAAA,EAAAA,IAAI,MACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ybC/C/ChB,GAAiB,sBACjBoG,GAAWC,GAEjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,qBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMuB,IAAoBrB,EAAAA,EAAAA,IAAM,EAAG,GAE7BsB,IAAO3G,EAAAA,EAAAA,KAAKlB,EAAAA,EAAAA,IAAOqG,IAAa3G,EAAAA,EAAAA,GAAakI,IAAmB,SAAApB,GAAC,OAAI1F,EAAAA,EAAAA,IAAS0F,MAAK,IACvF9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFG,CAAC,IAAM,IAAM,IAAM,IAAM,OAIlCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAMA,MAGJf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OACEhI,OAAOuF,YAAY8C,GAAkB5D,KAAI,SAAA8D,GAAC,MAAI,CAACA,EAAG,CAChDR,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOD,IAC3BL,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,eAKhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCpC/ChB,GAAiB,kBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMyF,IAAe3D,EAAAA,EAAAA,IAAM,KAAM9B,IAAanF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFxC,CAAC,GAAK,GAAK,GAAK,GAAK,IAE2D,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,MAE9Ge,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN8I,aAAAA,KAED,CACDA,aAAAA,KAEIhF,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACLa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,QACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMoE,UAMlB,OAAmBnE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,qbChC/ChB,GAAiB,YACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,qBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWC,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFrC,CAAC,IAAM,IAAM,IAAM,IAAM,OAIlCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAGEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,qbC9B/ChB,GAAiB,gBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,cAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOM,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFjC,CAAC,GAAK,IAAM,GAAK,IAAM,IAE4C,CAAED,IAAK,OAEnFgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,MAGEf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,sRCrC/CoF,GAAWC,GACXrG,GAAiB,YACVgB,GAAOsE,EAAsBtF,GAAKoG,IACzCe,IAAmB,kBACpBf,IADoB,IAEvBgB,KAAAA,GACAC,WAAAA,GACAC,SAAU,KAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,6bCT/ChB,GAAiB,gBACjBoG,GAAWC,GACXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCN/ChB,GAAiB,kBACjBoG,GAAWC,GAIXuC,IAAa7G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFR,CAAC,IAAM,GAAK,IAAM,IAAM,KAEwB,CAAED,IAAK,MACtEoM,IAAkBrK,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFZ,CAAC,IAAM,KAAO,IAAM,KAAO,KAE0B,CAAED,IAAK,MAErEgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACNuF,WAAAA,GACAwD,gBAAAA,MAGEjF,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMa,IACL,CACDb,KAAMqE,QAIZ,OAAmBpE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,qbCzB/ChB,GAAiB,cACjBoG,GAAWC,GAGXgG,GAAS,CAAC,GAAI,GAAI,GAAI,GAAI,IAC1BnD,IAAOrI,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAF1B,CAAC,IAAK,IAAK,IAAK,IAAK,GAEwC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,KAAmB,YAAa,CAC1HiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAGjBH,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAC3D4I,KAAAA,KAEI/B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQ2G,GAAM,CAAElJ,IAAK,eAC1B,CACDqI,MAAMC,EAAAA,EAAAA,IAAI,MACV3I,MAAO,SAACqB,GAAD,OAAUqL,GAAOrL,EAAKyI,IAAIxJ,EAAAA,GAAAA,OAAAA,aAA0BN,QAC3D8B,KAAM,SAIZ,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,6eC3B/ChB,GAAiB,eACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,sBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAGMwC,IAAOnH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BmG,GAAS8F,SAAS7H,KAAI,SAAAF,GAAC,uBAAIA,EAAE+E,YAAN,QAAc5E,QAIhF4D,IAAOM,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YALhC,CAAC,GAAK,IAAM,GAAK,IAAM,MAMjCqM,IAAc9D,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAPvC,CAAC,IAAM,GAAM,IAAM,IAAM,OAQnC0I,IAAY,UAAQ2D,IACpBC,IAAa,UAAQD,IAErBtL,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAUW,IAEZ3F,SAAU,CACRF,OAAQ,CACN6E,KAAAA,GACAoE,YAAAA,GACA3D,aAAAA,GACA4D,cAAAA,OAIApF,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMmB,MAChB,CACDvJ,MAAO+G,GACPa,KAAMd,GACNlD,UAAU,EACViE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,kBACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDH,KAAMuE,IACL,CACDvE,KAAMY,IACL,CACDZ,KAAMwE,IACL,CACDlE,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ucC3D/ChB,GAAiB,oBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEMiG,GAAgB,CAAC,IAAM,IAAM,IAAM,IAAM,KACzCC,GAAoB,CAAC,GAAK,IAAM,GAAK,IAAM,IAEjD,IAA6BjG,EAAAA,EAAAA,IAAKxG,GAAK,aAAvC,iBAAOqK,GAAP,MAAiBC,GAAjB,MACMoC,GAAe9M,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MACzD,CAAC,GAAD,OAAIA,EAAJ,UACAW,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BuM,GAAe,CAAExM,IAAI,GAAD,OAAKoB,EAAL,SAAiBoB,QAASpB,SAE9EkL,IAAcjM,EAAAA,EAAAA,IAAOiK,IACzBvK,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,IAAKsF,GAAG9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BwM,QACzEvF,EAAAA,IAESlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,QAAO,kBACFqJ,IADC,IAEJJ,YAAAA,OAGEnF,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,QAAO,OACF6E,GAAAA,EAAAA,KAAgB,SAACvL,GAClB,MAAO,CAAE2G,KAAM2E,GAAa,GAAD,OAAItL,EAAJ,gBAG9B,CACDzB,MAAO2K,GACP/C,KAAM8C,GACN1C,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,QAAQ7H,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACtCc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CAAEC,KAAMuE,YAIvB,OAAmBtE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbC5C/ChB,GAAiB,kBACjBoG,GAAWC,GAEjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,oBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAEMuC,IAAYT,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADhC,CAAC,IAAM,KAAO,IAAM,KAAO,OAG1Ce,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN4F,UAAAA,MAGE9B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,mBAAoB,CAAE1F,QAAS,KACxC4F,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMkB,UAMhB,OAAmBjB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,mbC5B/ChB,GAAiB,YACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,mBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMkG,IAAmBhG,EAAAA,EAAAA,IAAM,EAAG,GAE5B2B,IAAWhH,EAAAA,EAAAA,KAAKlB,EAAAA,EAAAA,IAAOqG,IAAa3G,EAAAA,EAAAA,GAAa6M,IAAkB,SAAA/F,GAAC,OAAI1F,EAAAA,EAAAA,IAAS0F,MAAKK,EAAAA,KAC1FnF,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFM,CAAC,IAAM,KAAO,IAAM,KAAO,OAIvCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAGEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,KAAMpB,GAAI,YACVqB,OAAQhI,OAAOuF,YAAYyH,GAAiBvI,KAAI,SAAA8D,GAAC,MAAI,CAACA,EAAG,CACvDR,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOD,IAC3BL,OAAQ,CAAC,CACPC,KAAMQ,IACL,CACDF,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,eAKd,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,obCpC/ChB,GAAiB,YACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,wBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAEM6B,IAAWC,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADrC,CAAC,GAAK,IAAM,IAAM,IAAM,OAGjCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAGEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ybC7B/ChB,GAAiB,uBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEMsG,GAAS,CAAC,IAAK,IAAK,KACpBL,GAAgB,CAAC,IAAM,IAAM,IAAM,IAAM,KACzCM,GAAe,CACnB,EAAK,CAAC,IAAM,GAAK,IAAM,IAAM,KAC7B,EAAK,CAAC,IAAM,GAAK,IAAM,IAAM,KAC7B,EAAK,CAAC,IAAM,IAAM,IAAM,IAAM,MAEhC,IAA6BtG,EAAAA,EAAAA,IAAKxG,GAAK,uBAAvC,iBAAOqK,GAAP,MAAiBC,GAAjB,MACMoC,GAAe9M,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MACzD,CAAC,GAAD,OAAIA,EAAJ,UACAW,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BuM,GAAe,CAAExM,IAAI,GAAD,OAAKoB,EAAL,SAAiBoB,QAASpB,SAE9E2L,GAAcnN,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MACxD,CAAC,GAAD,OAAIA,EAAJ,UACAoH,EAAAA,EAAAA,IAAMvI,EAAAA,GAAAA,QAAemB,GACnBf,EAAAA,EAAAA,IAAOiK,IAAUvK,EAAAA,EAAAA,GAAa8M,IAAQ,SAAAG,GAAK,OACzCjL,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B6M,GAAaE,OAAU9F,EAAAA,GAAQ,CAAElH,IAAI,GAAD,OAAKoB,EAAL,SAAiBoB,QAASpB,UAGlG6L,GAAcrN,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MACxD,CAAC,GAAD,OAAIA,EAAJ,UACAI,EAAAA,EAAAA,IAAIkL,GAAa,GAAD,OAAItL,EAAJ,UAAiB2L,GAAY,GAAD,OAAI3L,EAAJ,gBAGjCJ,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,QAAO,UACF4J,MAGD9F,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ6E,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MACzB,CAAE2G,KAAM2E,GAAa,GAAD,OAAItL,EAAJ,eAErB,CACDzB,MAAO2K,GACP/C,KAAM8C,GACN1C,KAAMpB,GAAI,UACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDE,OAAQhI,OAAOuF,YACb0H,GAAOxI,KAAI,SAAA2I,GAAK,MAAI,CAACA,EAAO,CAC1BrF,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAO8E,SAASF,KACpClF,OAAQ6E,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAK,CAC9B2G,KAAMgF,GAAY,GAAD,OAAI3L,EAAJ,uBAM3B,OAAmB4G,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,0eCzD/ChB,GAAiB,uBACjBoG,GAAWC,GAIX8G,IAAMpL,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFR,CAAC,GAAK,IAAM,GAAK,IAAM,KAG/BmN,IAAM7L,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFZ,CAAC,KAAO,KAAO,KAAO,KAAO,MAEiB,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,IAEtEe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN8J,IAAAA,IAEF3H,MAAO,CACL4H,IAAAA,MAGEjG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMoF,IAAO,CAAEpF,KAAMqF,QAGpC,OAAmBpF,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,kcCvB/ChB,GAAiB,mBACjBoG,GAAWC,GAEjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMY,GAAW,CAAC,IAAM,IAAM,IAAM,IAAM,KACpCxB,IAAO7H,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByJ,GAAU,CAAE1J,IAAK,MAAQ6G,MAAKK,EAAAA,IAC/HiC,IAAO9I,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByJ,GAAU,CAAE1J,IAAK,MAAQ6G,MAAKK,EAAAA,IAExHlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,GACAiB,KAAAA,MAGEhC,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,SACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDH,KAAMoB,IACL,CACDd,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,eAKd,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,mbCpC/ChB,GAAiB,iBACjBoG,GAAWC,GAEjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMQ,GAAQ,CAAC,IAAM,GAAK,IAAM,IAAM,KAChCL,IAAY5I,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BqJ,GAAO,CAAEtJ,IAAK,MAAQ6G,MAAKK,EAAAA,IAE1HlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN4F,UAAAA,MAGE9B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CAAEC,KAAMkB,cAIvB,OAAmBjB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,8bC9B/ChB,GAAiB,mBACjBoG,GAAWC,GAEXrF,GAAOsE,EAAsBtF,GAAKoG,IAClCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,sRCT/CoF,GAAWC,GACXrG,GAAiB,cACVgB,GAAOsE,EAAsBtF,GAAKoG,IACzCe,IAAmB,kBACpBf,IADoB,IAEvBgB,KAAAA,GACAC,WAAAA,GACAC,SAAU,KAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bCN/ChB,GAAiB,gBACjBoG,GAAWC,GAEjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMgD,GAAW,CAAC,IAAM,IAAM,IAAM,IAAM,KACpCxB,IAAOM,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByJ,GAAU,CAAE1J,IAAK,OACrFqN,IAAW7E,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByJ,GAAU,CAAE1J,IAAK,OAEzFgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,GACAmF,SAAAA,MAGElG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,kBACTE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDH,KAAMsF,IACL,CACDhF,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,0gBCpC/ChB,GAAiB,eACjBoG,GAAWC,GAEjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,oBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAEM2G,IAAW7E,EAAAA,EAAAA,IAAM,KAAM9B,IAAa1E,EAAAA,EAAAA,IAAQ,KAC5C8H,IAAUtB,EAAAA,EAAAA,IAAM,KAAM9B,IAAa1E,EAAAA,EAAAA,IAAQ,KAC3C0G,IAAMF,EAAAA,EAAAA,IAAM,KAAM9B,IAAa7F,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHlD,CAAC,GAAK,IAAM,GAAK,IAAM,IAG8D,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,KAAmB,YAAa,CAClJiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,gBAEjB8H,IAAYlH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BmG,GAAS8F,SAAS7H,KAAI,SAAAF,GAAC,uBAAIA,EAAE8E,iBAAN,QAAmB3E,QAE1FtD,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN4F,UAAAA,GACAoE,SAAAA,GACAvD,QAAAA,KAED,CAAEpB,IAAAA,KACCvB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMkB,MAChB,CACDtJ,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,kBACTE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMsF,IACL,CACDtF,KAAM+B,IACL,CACD/B,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,eACzB,CACDqI,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,+nBC/C/ChB,GAAiB,eACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACA,IAA6CF,EAAAA,EAAAA,IAAKxG,GAAK,cAAvD,iBAAOgK,GAAP,MAA2BC,GAA3B,MAGME,IAAUpI,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFR,CAAC,GAAK,IAAM,GAAK,IAAM,KAGnC8I,IAAShH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFV,CAAC,IAAM,IAAM,IAAM,IAAM,MAGlCmK,IAAY7I,EAAAA,EAAAA,KAChBC,EAAAA,EAAAA,IAAI,GAAGgH,EAAAA,EAAAA,IAAMyB,GAAgB,YAAa,KAC1C5J,EAAAA,EAAAA,IAAOqG,GAAa9G,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MACtD,CAACA,GAAGtF,EAAAA,EAAAA,IAAKwH,GAAQlC,QAAOK,EAAAA,KAGtBlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN8G,QAAAA,GACAjC,KAAMkC,MAGJjD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMoC,MAEP,CACDxK,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,QACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAC1C,CAACA,EAAG,CACFc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMqC,IACL,CACD/B,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,aAIX,CACD9B,MAAOsK,GACP1C,KAAMyC,GACNxC,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,GAAYd,GAAI,WAClDoB,MAAMD,EAAAA,EAAAA,IAAG,qBACTE,OAAQ,CACNsC,UAAW,CACTpC,OAAQ,CAAC,CACPO,KAAM9B,GAAI,aACV5G,MAAO,IACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,2aC/D/ChB,GAAiB,oBACjBoG,GAAWC,GAEX+G,IAAM5E,EAAAA,EAAAA,IAAM,WAAYvI,EAAAA,GAAAA,SAAekB,EAAAA,EAAAA,IAAS,KAChD+H,IAAOrI,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQ,GAAI/B,EAAAA,GAAAA,OAAAA,KAAmB,YAAa,CAC1EiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAGjBH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN+J,IAAAA,KAED,CACDlE,KAAAA,KAEI/B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMqF,IACL,CACDrF,MAAMxF,EAAAA,EAAAA,IAAQ2G,GAAM,CAAElJ,IAAK,mBAIjC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bC5B/ChB,GAAiB,gBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAEM6B,IAAWC,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADnC,CAAC,IAAM,IAAM,IAAM,IAAM,KAC8C,CAAED,IAAK,OAEzFgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAGEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ybC7B/ChB,GAAiB,gBACjBoG,GAAWC,GAEXiH,GAAU,CAAC,GAAK,IAAM,GAAK,IAAM,IAEjChB,IAAcvK,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BqN,IAClD3E,IAAe5G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BqN,IACnD/C,IAAO7I,EAAAA,GAAAA,KAAeH,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHxB,CAAC,GAAK,GAAK,GAAK,GAAK,GAGyC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,MAE1Fe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNiJ,YAAAA,GACA3D,aAAAA,KAED,CAAE4B,KAAAA,KACCpD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMuE,IACL,CACDvE,KAAMY,IACL,CACDZ,MAAMxF,EAAAA,EAAAA,IAAQgI,GAAM,CAAEvK,IAAK,oBAAqBwC,QAAS,iBAI/D,OAAmBwF,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,obC7B/ChB,GAAiB,WACjBoG,GAAWC,GAEX6C,IAAOrI,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQ,GAAI/B,EAAAA,GAAAA,OAAAA,KAAmB,YAAa,CAC1EiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAGjBH,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAC3D4I,KAAAA,KAEI/B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,MAAMxF,EAAAA,EAAAA,IAAQ2G,GAAM,CAAElJ,IAAK,mBAG1C,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubClB/ChB,GAAiB,sBACjBoG,GAAWC,GAGXkE,IAAO7I,EAAAA,GAAAA,KAAeH,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADxB,CAAC,IAAM,MAAQ,KAAO,MAAQ,KACgC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAC1Fe,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAAEiK,KAAAA,KAEzDpD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CACN,CAAEC,MAAMxF,EAAAA,EAAAA,IAAQgI,GAAM,CAAEvK,IAAK,oBAAqBwC,QAAS,iBAIjE,OAAmBwF,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,ICE/CT,GAA6C,CACjDgN,gBAAAA,GACAC,cAAAA,GACAC,oBAAAA,GACAC,gBAAAA,GACAC,UAAAA,GACAC,cAAAA,GACAC,UAAAA,GACAC,cAAAA,GACAC,gBAAAA,GACAC,YAAAA,GACAC,aAAAA,GACAC,kBAAAA,GACAC,gBAAAA,GACAC,UAAAA,GACAC,UAAAA,GACAC,qBAAAA,GACAC,qBAAAA,GACAC,iBAAAA,GACAC,eAAAA,GACAC,iBAAAA,GACAC,YAAAA,GACAC,cAAAA,GACAC,aAAAA,GACAC,aAAAA,GACAC,kBAAAA,GACAC,cAAAA,GACAC,cAAAA,GACAC,SAAAA,GACAC,oBAAAA,IAEF,M,yRCrDMnP,GAAiB,qBACjBoG,GAAWC,GAEJrF,GAAOsE,EAAsBtF,GAAKoG,IACzCe,IAAmB,kBACpBf,IADoB,IAEvBgB,KAAAA,GACAC,WAAAA,GACAC,SAAU,KAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,0bCR/ChB,GAAiB,iBACjBoG,GAAWC,GAEjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,qBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMuB,IAAoBrB,EAAAA,EAAAA,IAAM,EAAG,GAE7BsB,IAAO3G,EAAAA,EAAAA,KAAKlB,EAAAA,EAAAA,IAAOqG,IAAa3G,EAAAA,EAAAA,GAAakI,IAAmB,SAAApB,GAAC,OAAI1F,EAAAA,EAAAA,IAAS0F,MAAK,IACvF9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFG,CAAC,IAAM,IAAM,IAAM,IAAM,OAIlCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAMA,MAIJf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OACEhI,OAAOuF,YAAY8C,GAAkB5D,KAAI,SAAA8D,GAAC,MAAI,CAACA,EAAG,CAChDR,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOD,IAC3BL,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,eAKhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCpC/ChB,GAAiB,cACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,qBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWC,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFrC,CAAC,GAAK,GAAK,GAAK,GAAK,MAG9Be,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAIEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubC7B/ChB,GAAiB,kBACjBoG,GAAWC,GAEjB,IAAaC,EAAAA,EAAAA,IAAM,SAAUtG,IAA7B,iBAAOoP,GAAP,MAEA,IAAmC5I,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MAGMI,GAAO,CAAC,IAAM,IAAM,IAAM,IAAM,KAGhCmG,GAAYzP,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAA2C,GAAC,MAAI,CAAC,GAAD,OAAIA,EAAJ,UAAcvN,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BiJ,SACtGH,IAASxH,EAAAA,EAAAA,KACbgO,EAAAA,EAAAA,IAAUtP,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAC7BkB,EAAAA,EAAAA,IAAS,EAAG,KACZA,EAAAA,EAAAA,IAAS,EAAG,MACdd,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAI1F,EAAAA,EAAAA,IAAS0F,MAAK,IAC/D9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YARC,CAAC,KAAO,IAAM,KAAO,KAAO,MAQG,CAAED,IAAK,OAEtCgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,QAAO,kBACFgM,IADC,IAEJnH,KAAMa,OAGJ5B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQlI,OAAOC,OAAOwP,IAAWhL,KAAI,SAAA0D,GAAI,MAAK,CAAEA,KAAAA,OAC/C,CACDpI,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,KAAMyH,GAAG,eACTxH,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CAAEC,KAAMgB,cAIvB,OAAmBf,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ocC1C/ChB,GAAiB,eACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,kBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMxF,IAAMsH,EAAAA,EAAAA,IAAM9B,GAAa,MAAM7F,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,KAAiB8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFpE,CAAC,GAAK,IAAM,GAAK,IAAM,IAE+E,CAAED,IAAK,OAAS,YAAa,CAChJkB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,gBAEjBH,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAC3DY,IAAAA,KAGIiG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAClCM,KAAMpB,GAAI,YACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQrB,GAAK,CAAElB,IAAI,UAAD,OAAYA,GAAZ,qBAMlC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bC/B/ChB,GAAiB,aACjBoG,GAAWC,GAEjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAmCC,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACM0G,GAAY,CAAC,IAAM,GAAK,IAAM,IAAM,KAEpCtH,IAAO7H,EAAAA,EAAAA,IAAOyI,GAAW,CAAE,WAAa/G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADzC,CAAC,IAAM,GAAK,IAAM,IAAM,KACmD,CAAED,IAAK,MAAQ,aAAe+B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BuP,GAAW,CAAExP,IAAK,OAAUkH,EAAAA,IAClLiC,IAAOX,EAAAA,EAAAA,IAAMM,GAAW,eAAe/G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BuP,GAAW,CAAExP,IAAK,OAEtFgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,GACAiB,KAAAA,MAGEhC,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQ,CACN,UAAa,CACXD,KAAMpB,GAAI,uBACVuB,OAAQ,CAAC,CAAEC,KAAMG,IAAQ,CAAEH,KAAMoB,MAEnC,YAAe,CACbxB,KAAMpB,GAAI,yBACVuB,OAAQ,CAAC,CAAEC,KAAMG,IAAQ,CAAEH,KAAMoB,UAKzC,OAAmBnB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubCrC/ChB,GAAiB,cACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,uBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWC,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFrC,CAAC,GAAK,IAAM,IAAM,IAAM,OAGjCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAIEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ocC7B/ChB,GAAiB,mBACjBoG,GAAWC,GAIXsD,IAAS9I,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFzB,CAAC,GAAK,IAAM,IAAK,KAAM,KAEwC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CAC9HiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAEjByI,IAAc/I,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJ7B,CAAC,EAAG,IAAK,IAAK,IAAK,KAIiD,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CACpIiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAEjBH,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQoH,GAAQ,CAAE3J,IAAI,UAAD,OAAYA,GAAZ,cAC1B,CACD+H,MAAMxF,EAAAA,EAAAA,IAAQqH,GAAa,CAAE5J,IAAI,UAAD,OAAYA,GAAZ,2BAItC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,2bC1B/ChB,GAAiB,qBACjBoG,GAAWC,GAIX6B,IAAOjB,EAAAA,EAAAA,KAAI1F,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFpB,CAAC,IAAM,IAAM,IAAM,IAAM,OAE2BuB,EAAAA,EAAAA,IAAIvB,EAAAA,GAAAA,OAAAA,WAAwB+B,EAAAA,EAAAA,KAAS,MAAMD,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADtG,CAAC,GAAK,GAAK,EAAG,IAAK,OAIlC,IAAuCuG,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM+I,IAAYjH,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFpC,CAAC,GAAK,IAAM,GAAM,IAAM,GAAK,OAIjCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,GACAuH,UAAAA,MAGEtI,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMG,MAEP,CACDvI,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,kBACTE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAM0H,IACL,CACDpH,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,+bC9C/ChB,GAAiB,gBACjBoG,GAAWC,GACXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ybCL/ChB,GAAiB,UACjBoG,GAAWC,GAGXqC,IAAM7H,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADzB,CAAC,IAAK,EAAG,IAAK,IAAK,KACyC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CACxHiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAEjBH,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,mBAIhC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wRCtB/ChB,GAAiB,YACjBoG,GAAWC,GAEJrF,GAAOsE,EAAsBtF,GAAKoG,IACzCe,IAAmB,kBACpBf,IADoB,IAEvBgB,KAAAA,GACAC,WAAAA,GACAC,SAAU,KAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubCR/ChB,GAAiB,mBACjBoG,GAAWC,GAGXuC,IAAa7G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADR,CAAC,IAAM,KAAO,IAAM,KAAO,MAE1Ce,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNuF,WAAAA,MAIEzB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMa,QAIZ,OAAmBZ,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubCpB/ChB,GAAiB,cACjBoG,GAAWC,GAEjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAmCC,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMC,GAAS,CAAC,IAAM,IAAM,IAAM,GAAK,KACjCC,GAAU,CAAC,IAAM,IAAM,IAAM,IAAM,KACnCd,IAAO7H,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B8I,GAAQ,CAAE/I,IAAK,MAAQ6G,MAAKK,EAAAA,IAC7H+B,IAAY5I,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B+I,GAAS,CAAEhJ,IAAK,MAAQ6G,MAAKK,EAAAA,IAC5HlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,GACAe,UAAAA,MAGE9B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,SAAU,CAAEU,MAAOvB,IAC5BiB,OAAQ,CAAC,CAAEC,KAAMG,IAAQ,CAAEH,KAAMkB,cAIvC,OAAmBjB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,2bC9B/ChB,GAAiB,4BACjBoG,GAAWC,GAEjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMC,GAAS,CAAC,KAAO,KAAO,KAAO,KAAO,KAEtCb,IAAO7H,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B8I,GAAQ,CAAE/I,IAAK,MAAQ6G,MAAKK,EAAAA,IAC7HqB,IAAWC,EAAAA,EAAAA,IAAMM,GAAW,KAAK/G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAF/B,CAAC,IAAM,IAAM,IAAM,IAAM,KAE2C,CAAED,IAAK,OAChFgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN6E,KAAAA,GACAK,SAAAA,MAGEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,cACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,OAAQ,CAAEU,MAAOvB,IAC1BiB,OAAQ,CAAC,CAAEC,KAAMG,IAAQ,CAAEH,KAAMQ,cAIvC,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,0bC5B/ChB,GAAiB,uBACjBoG,GAAWC,GAEjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACM4G,GAAS,CAAC,IAAM,GAAK,IAAM,IAAM,KACjCpD,IAAcjM,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByP,GAAQ,CAAE1P,IAAK,MAAQ6G,MAAKK,EAAAA,IACpIyB,IAAetI,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByP,GAAQ,CAAE1P,IAAK,MAAQ6G,MAAKK,EAAAA,IAC9HlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACNiJ,YAAAA,GACA3D,aAAAA,MAGExB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,kBACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CAAEC,KAAMuE,IAAe,CAAEvE,KAAMY,cAI9C,OAAmBX,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,sbC3B/ChB,GAAiB,aACjBoG,GAAWC,GAEjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMQ,GAAQ,CAAC,IAAM,GAAK,IAAM,IAAM,KAChCL,IAAY5I,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BqJ,GAAO,CAAEtJ,IAAK,MAAQ6G,MAAKK,EAAAA,IAC1HlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN4F,UAAAA,MAGE9B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CAAEC,KAAMkB,cAIvB,OAAmBjB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,0gBCzB/ChB,GAAiB,eACjBoG,GAAWC,GAIXyD,IAAU9H,EAAAA,EAAAA,IAAQ,KAClBiH,IAAYlH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHR,CAAC,IAAM,GAAK,IAAM,IAAM,MAItCyI,IAAM7H,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHzB,CAAC,GAAK,IAAM,GAAK,IAAM,GAGqC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CACxHiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAEjBH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN4F,UAAAA,GACAa,QAAAA,MAIE3C,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMkB,IACL,CACDlB,KAAM+B,IACL,CACD/B,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,mBAIhC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,0eChC/ChB,GAAiB,cACjBoG,GAAWC,GAKX8G,IAAMpL,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHR,CAAC,GAAK,IAAM,GAAK,IAAM,IAGkB,CAAED,IAAK,MAC9D,IAAuCwG,EAAAA,EAAAA,IAAKxG,GAAK,oBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMiJ,IAAQpO,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJd,CAAC,KAAO,IAAM,KAAO,KAAO,MAIoB,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,IACxE2P,IAAQpH,EAAAA,EAAAA,IAAM,KAAM9B,IAAanF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJlC,CAAC,IAAM,KAAO,KAAO,KAAO,MAI6C,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,IAAkB,CAAED,IAAK,QAC/HgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN8J,IAAAA,IAEF3H,MAAO,CACL4H,KAAK5L,EAAAA,EAAAA,IAAImO,GAAOC,OAIdzI,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMoF,IACL,CACDpF,MAAMxF,EAAAA,EAAAA,IAAQoN,GAAO,CAAE3P,IAAK,WAE7B,CACDL,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAClCM,MAAMD,EAAAA,EAAAA,IAAG,gBAAiB,CAAE1F,QAAS,KACrC4F,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAM6H,UAMhB,OAAmB5H,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,0bC3C/ChB,GAAiB,WACjBoG,GAAWC,GAIXW,IAAajF,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFR,CAAC,IAAM,GAAK,IAAM,IAAM,MAGvC4P,IAAkB9N,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFZ,CAAC,IAAM,KAAO,IAAM,KAAO,MAI3Ce,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN2D,WAAAA,GACA6I,gBAAAA,MAIE1I,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMf,IAAc,CAAEe,KAAM8H,QAG3C,OAAmB7H,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,koBCtB/ChB,GAAiB,mBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAIA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMyD,IAAUpI,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJR,CAAC,GAAK,IAAM,GAAK,IAAM,KAMzC,IAA6CuG,EAAAA,EAAAA,IAAKxG,GAAK,cAAvD,iBAAOgK,GAAP,MAA2BC,GAA3B,MAEMlB,IAAShH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAPV,CAAC,IAAM,IAAM,IAAM,IAAM,MAQlCmK,IAAY7I,EAAAA,EAAAA,KAChBC,EAAAA,EAAAA,IAAI,GAAGgH,EAAAA,EAAAA,IAAMyB,GAAgB,YAAa,KAC1C5J,EAAAA,EAAAA,IAAOqG,GAAa9G,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MACtD,CAACA,GAAGtF,EAAAA,EAAAA,IAAKwH,GAAQlC,QAAOK,EAAAA,KAGtBlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN8G,QAAAA,GACAjC,KAAMkC,MAIJjD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMoC,MAEP,CACDxK,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,QACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAC1C,CAACA,EAAG,CACFc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMqC,IACL,CACD/B,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,aAIX,CACD9B,MAAOsK,GACP1C,KAAMyC,GACNxC,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,GAAYd,GAAI,WAClDoB,MAAMD,EAAAA,EAAAA,IAAG,qBACTE,OAAQ,CACNsC,UAAW,CACTpC,OAAQ,CAAC,CACPO,KAAM9B,GAAI,aACV5G,MAAO,IACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubClE/ChB,GAAiB,kBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,uBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMC,IAAcC,EAAAA,EAAAA,IAAM,EAAG,IAAIvC,KAAI,SAAAwC,GAAC,OAAQ,GAAJA,KACpCC,GAAQ,CAAC,MAAQ,MAAQ,MAAQ,MAAQ,OACzCC,GAAM,CAAC,GAAK,GAAK,GAAK,GAAK,IAC3BC,IAAa3G,EAAAA,EAAAA,IAAOqG,GAAa9G,OAAOuF,YAAYwB,GAAYtC,KAAI,SAAAwC,GAAC,MAAI,CAACA,GAAGI,EAAAA,EAAAA,KAAI1F,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B6G,GAAO,CAAE9G,IAAK,MAAQ6G,IAAI9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B8G,GAAK,CAAE/G,IAAK,YAAYkH,EAAAA,IAChNlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN2D,WAAAA,MAIEG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAClCM,KAAMpB,GAAI,SACVqB,OAAQhI,OAAOuF,YAAYwB,GAAYtC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,KAAMd,EAAEgB,WACRC,OAAQ,CAAC,CAAEC,KAAMf,cAIvB,OAAmBgB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,2bC9B/ChB,GAAiB,cACjBoG,GAAWC,GAGXiG,IAAcvK,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADf,CAAC,IAAM,GAAM,IAAM,IAAM,MAElCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNiJ,YAAAA,MAIEnF,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMuE,QAIZ,OAAmBtE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,ICP/CP,GAAiD,CACrDqP,mBAAAA,GACAC,eAAAA,GACAC,YAAAA,GACAC,gBAAAA,GACAC,aAAAA,GACAC,WAAAA,GACAC,YAAAA,GACAC,iBAAAA,GACAC,mBAAAA,GACAC,cAAAA,GACAC,QAAAA,GACAC,UAAAA,GACAC,iBAAAA,GACAC,YAAAA,GACAC,0BAAAA,GACAC,qBAAAA,GACAC,WAAAA,GACAC,aAAAA,GACAC,YAAAA,GACAC,SAAAA,GACAC,iBAAAA,GACAC,gBAAAA,GACAC,YAAAA,IAEF,M,mbCtCMpR,GAAiB,cACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MACMmJ,GAAS,CAAC,IAAK,KAAM,IAAK,KAAM,KAEtC,IAAuClJ,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWlI,EAAAA,EAAAA,IAAOqG,IAAD,WAClB3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,KAAK,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByP,IAAS7I,OACpFK,EAAAA,IAGGlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAIEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,IAAIvC,KAAI,SAAA8D,GAAC,MAAI,CAACA,EAAG,CACnDR,MAAMD,EAAAA,EAAAA,IAAG,UAAW,CAAEU,MAAOD,IAC7BL,OAAQ,CAAC,CACPC,KAAMQ,cAMd,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,obClC/ChB,GAAiB,UACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MACM8K,GAAa,CAAC,IAAM,IAAM,IAAM,IAAM,KAG5C,IAAuC7K,EAAAA,EAAAA,IAAKxG,GAAK,gBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM4F,IAAcvK,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BoR,GAAY,CAAErR,IAAK,gBACrE2I,IAAe5G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BoR,GAAY,CAAErR,IAAK,iBAEtE0P,IAAS3N,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YANL,CAAC,IAAM,GAAM,IAAM,IAAM,MAOvCqR,IAAoBjR,EAAAA,EAAAA,IAAOqG,IAAD,WAC3B3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,IAAKmO,GAAQ7I,OAC9CK,EAAAA,GAAQ,CAAElH,IAAK,gBACZuR,IAAqBlR,EAAAA,EAAAA,IAAOqG,IAAD,WAC5B3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,IAAKmO,GAAQ7I,OAC9CK,EAAAA,GAAQ,CAAElH,IAAK,iBAGZgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNiJ,aAAa9K,EAAAA,EAAAA,IAAI8K,GAAagF,IAC9B3I,cAAcnH,EAAAA,EAAAA,IAAImH,GAAc4I,OAI9BpK,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMuE,IACL,CACDvE,KAAMY,MAEP,CACDhJ,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,KAAMpB,GAAI,YACVqB,QAAQ7H,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACtCc,MAAMD,EAAAA,EAAAA,IAAG,UAAW,CAAEU,MAAOvB,EAAI,KACjCiB,OAAQ,CAAC,CACPC,KAAMuJ,IACL,CACDvJ,KAAMwJ,YAKd,OAAmBvJ,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubCnD/ChB,GAAiB,mBACjBoG,GAAWC,GACX0C,GAAS,CAAC,IAAK,IAAK,IAAK,IAAK,KAEpC,IAAuCvC,EAAAA,EAAAA,IAAKxG,GAAK,qBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAO7H,EAAAA,EAAAA,IAAOqG,IAAD,WACd3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B8I,IAASlC,OACnFK,EAAAA,IAGGlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,MAIEf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAA8D,GAAC,MAAI,CAACA,EAAG,CAClDR,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOD,IAC3BL,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,eAMd,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,gcCrC/ChB,GAAiB,cACjBoG,GAAWC,GAEXmL,GAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,KAC7BC,GAAW,CAAC,KAAO,KAAO,KAAO,KAAO,MAC9C,IAAuCjL,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAO7H,EAAAA,EAAAA,IAAOqG,IAAD,WACd3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BuR,IAAQ3K,OAClFK,EAAAA,IACG4C,IAAUzJ,EAAAA,EAAAA,IAAOqG,IAAD,WACjB3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BwR,IAAW5K,OACrFK,EAAAA,IAEGlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,GACA4B,QAAAA,MAIE3C,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,yBACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,OAAQ,CAAEU,MAAOvB,IAC1BiB,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDH,KAAM+B,cAKd,OAAmB9B,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ifCvC/ChB,GAAiB,iBACvB,IAAgBsG,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MACMH,GAAWC,GAKjB,IAA6BG,EAAAA,EAAAA,IAAKxG,GAAK,qBAAvC,iBAAOqK,GAAP,MAAiBC,GAAjB,MACMoH,IAAS3P,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YALP,CAAC,GAAI,GAAI,GAAI,IAAK,KAK0B,CAAED,IAAK,WAI/D2R,IAAUnJ,EAAAA,EAAAA,IAAM8B,GAAU,MAAMvI,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAR7B,CAAC,IAAK,IAAK,IAAK,IAAK,KAQ8C,CAAED,IAAK,YACvFkI,IAAOM,EAAAA,EAAAA,IAAM8B,GAAU,MAAMvI,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAR/B,CAAC,GAAM,IAAM,GAAM,IAAM,MAU1Be,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACNqO,OAAAA,IAEFnO,SAAU,CACRF,OAAQ,CACN6E,KAAAA,GACAwJ,OAAQC,OAIRxK,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAM2J,MAEP,CACD/R,MAAO2K,GACP/C,KAAM8C,GACN9G,UAAU,EACViE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAM4J,IACL,CACD5J,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bC1D/ChB,GAAiB,iBACjBoG,GAAWC,GACXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,mbCN/ChB,GAAiB,WACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEMqL,GAAe,CAAC,IAAK,GAAK,IAAK,IAAK,KACpCC,GAAgB,CAAC,IAAK,IAAK,IAAK,IAAK,KAErCC,IAAa/P,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B2R,GAAc,CAAE5R,IAAK,gBACtE+R,IAAchQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B4R,GAAe,CAAE7R,IAAK,iBAE9E,IAAuCwG,EAAAA,EAAAA,IAAKxG,GAAK,YAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMsL,IAAiBxJ,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B2R,GAAc,CAAE5R,IAAK,iBACnGiS,IAAkBzJ,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B4R,GAAe,CAAE7R,IAAK,kBAErGgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNiJ,aAAa9K,EAAAA,EAAAA,IAAIsQ,GAAYE,IAC7BrJ,cAAcnH,EAAAA,EAAAA,IAAIuQ,GAAaE,OAI7B9K,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAM+J,IACL,CACD/J,KAAMgK,MAEP,CACDpS,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMiK,IACL,CACDjK,KAAMkK,UAOhB,OAAmBjK,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,qRCnD/CoF,GAAWC,GACXrG,GAAiB,aACVgB,GAAOsE,EAAsBtF,GAAKoG,IACzCe,IAAmB,kBACpBf,IADoB,IAEvBgB,KAAAA,GACAC,WAAAA,GACAC,SAAU,KAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,sbCL/ChB,GAAiB,YACjBoG,GAAWC,GAGXqC,IAAM7H,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAD3B,CAAC,EAAG,KAAM,IAAK,KAAM,IACwCA,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAE3HH,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,mBAKhC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,6bCpB/ChB,GAAiB,oBACjBoG,GAAWC,GAKjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,sBAA7C,iBAAOkS,GAAP,MAAsBC,GAAtB,MACA,IAAqC3L,EAAAA,EAAAA,IAAKxG,GAAK,uBAA/C,iBAAOoS,GAAP,MAAuBC,GAAvB,MAEMzJ,IAAaJ,EAAAA,EAAAA,IAAM2J,GAAW,MAAMpQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YANhC,CAAC,GAAK,IAAK,GAAK,IAAK,MAOnCqM,IAAc9D,EAAAA,EAAAA,IAAM6J,GAAY,MAAMtQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YANjC,CAAC,GAAK,IAAK,GAAK,IAAK,MAQpCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNuF,WAAAA,GACA0D,YAAAA,MAIEnF,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO0S,GACP9K,KAAM6K,GACN5K,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,eACTE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMuE,IACL,CACDjE,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,SAIX,CACD9B,MAAOwS,GACP5K,KAAM2K,GACN1K,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,gBACTE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMa,IACL,CACDP,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,mbCvD/ChB,GAAiB,aACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,uBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMC,IAAcC,EAAAA,EAAAA,IAAM,EAAG,IAAIvC,KAAI,SAAAwC,GAAC,OAAQ,GAAJA,KACpCC,GAAQ,CAAC,MAAQ,MAAQ,MAAQ,MAAQ,OACzCC,GAAM,CAAC,GAAK,GAAK,GAAK,GAAK,IAC3BC,IAAa3G,EAAAA,EAAAA,IAAOqG,GAAa9G,OAAOuF,YAAYwB,GAAYtC,KAAI,SAAAwC,GAAC,MAAI,CAACA,GAAGI,EAAAA,EAAAA,KAAI1F,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B6G,GAAO,CAAE9G,IAAK,MAAQ6G,IAAI9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B8G,GAAK,CAAE/G,IAAK,YAAYkH,EAAAA,IAChNlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN2D,WAAAA,MAIEG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,SACVqB,OAAQhI,OAAOuF,YAAYwB,GAAYtC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,KAAMd,EAAEgB,WACRC,OAAQ,CAAC,CAAEC,KAAMf,cAIvB,OAAmBgB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ybC7B/ChB,GAAiB,YACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MACM+L,GAAS,CAAC,IAAM,IAAM,IAAM,IAAM,KAMxC,IAAuC9L,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAEMkC,IAAa7G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BqS,IACjDtL,IAAajF,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BqS,IACjDpK,IAAO7H,EAAAA,EAAAA,IAAOqG,GAAa,CAC/B,GAAK3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAVG,CAAC,GAAK,KAAO,IAAM,KAAO,KAUW,GAAK8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YATpD,CAAC,GAAK,IAAM,GAAK,IAAM,KAUzC,GAAK8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YATG,CAAC,GAAK,KAAO,IAAM,KAAO,KASW,GAAK8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YARpD,CAAC,IAAM,GAAK,IAAM,IAAM,OASzCiH,EAAAA,IAEGlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNuF,WAAAA,GACA5B,WAAAA,GACAkB,KAAAA,MAIEf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMa,IACL,CACDb,KAAMf,MAEP,CACDrH,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,KAAMpB,GAAI,YACVqB,QAAQ7H,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACtCc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMG,YAKd,OAAmBF,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,saCjD/ChB,GAAiB,WACjBoG,GAAWC,GAEXkM,IAAYvQ,EAAAA,EAAAA,IAAQ,IACpBwQ,IAAaxQ,EAAAA,EAAAA,IAAQ,IAC3B,IAAuCwE,EAAAA,EAAAA,IAAKxG,GAAK,qBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM4F,IAAcjM,EAAAA,EAAAA,IAAOqG,IAAD,WACrB3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,IAAKgR,GAAW1L,OACjDK,EAAAA,IACGyB,IAAetI,EAAAA,EAAAA,IAAOqG,IAAD,WACtB3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,IAAKiR,GAAY3L,OAClDK,EAAAA,IACGkG,IAAM5E,EAAAA,EAAAA,IAAMvI,EAAAA,GAAAA,cAAqB,QAAQkB,EAAAA,EAAAA,IAAS,KAGlDH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNiJ,YAAAA,GACA3D,aAAAA,GACAyE,IAAAA,MAIEjG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,cACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAA8D,GAAC,MAAI,CAACA,EAAG,CAClDR,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOD,IAC3BL,OAAQ,CAAC,CACPC,KAAMuE,IACL,CACDvE,KAAMY,IACL,CACDN,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,eAMd,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,kbC/C/ChB,GAAiB,oBACvB,IAAgBsG,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MACMH,GAAWC,GAGjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,eAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOM,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFlC,CAAC,IAAK,IAAK,IAAK,IAAK,OAG7BoN,IAAW7E,EAAAA,EAAAA,IAAM9B,GAAa,MAAM1E,EAAAA,EAAAA,IAAQ,KAE5ChB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,GACAmF,SAAAA,MAIElG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDH,KAAMsF,IACL,CACDhF,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,kbCvC/ChB,GAAiB,WACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAIA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,uBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWC,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHlC,CAAC,IAAK,IAAK,IAAK,IAAK,OAKjCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAIEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAOhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,obChC/ChB,GAAiB,aACjBoG,GAAWC,GAGXoM,IAAU/Q,EAAAA,GAAAA,KAAeH,EAAAA,EAAAA,IAAKtB,EAAAA,GAAAA,MAAAA,IAAgB8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAD5C,CAAC,IAAK,GAAK,IAAK,IAAK,QAGjCe,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQkQ,GAAS,CAAEzS,IAAK,oBAAqBwC,QAAS,iBAKlE,OAAmBwF,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ibCnB/ChB,GAAiB,WACjBoG,GAAWC,GAEXqM,GAAa,CAAC,IAAK,GAAK,IAAK,IAAK,KACxC,IAAuClM,EAAAA,EAAAA,IAAKxG,GAAK,SAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMuC,IAAY5I,EAAAA,EAAAA,IAAOqG,IAAD,WACnB3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0ByS,IAAa7L,OACvFK,EAAAA,IAEGlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN4F,UAAAA,MAIE9B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMkB,cAKd,OAAmBjB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ibChC/ChB,GAAiB,OACjBoG,GAAWC,GAIXiG,IAAcvK,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFT,CAAC,GAAI,GAAI,GAAI,GAAI,KAGhC0I,IAAexH,EAAAA,EAAAA,KAAU,IAEzBH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNiJ,YAAAA,GACA3D,aAAAA,MAIExB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMuE,IACL,CACDvE,KAAMY,QAIZ,OAAmBX,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bC9B/ChB,GAAiB,iBACjBoG,GAAWC,GAEXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,oRCV/CoF,GAAWC,GACXrG,GAAiB,qBACVgB,GAAOsE,EAAsBtF,GAAKoG,IACzCe,IAAmB,kBACpBf,IADoB,IAEvBgB,KAAAA,GACAC,WAAAA,GACAC,SAAU,KAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,sbCN/ChB,GAAiB,oBACjBoG,GAAWC,GAGXsM,IAAe5Q,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADT,CAAC,IAAK,GAAK,IAAK,IAAK,MAGrCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNsP,aAAAA,MAIExL,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAM4K,QAIZ,OAAmB3K,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,+fCrB/ChB,GAAiB,cACjBoG,GAAWC,GAGXuM,IAAU5Q,EAAAA,EAAAA,IAAQ,MAClB6Q,IAAW9Q,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFX,CAAC,GAAK,IAAK,GAAK,IAAK,KAG/ByI,IAAM7H,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,IAAKqR,GAAS3S,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAExFH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNwP,SAAAA,MAIE1L,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAM8K,IACL,CACD9K,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,mBAKhC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubC5B/ChB,GAAiB,YACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAKA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,aAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMoM,IAAsBtK,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJjC,CAAC,IAAK,IAAK,IAAK,IAAK,KAI8D,CAAED,IAAK,gBAClH+S,IAAuBvK,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJjC,CAAC,IAAK,IAAK,IAAK,IAAK,KAI+D,CAAED,IAAK,iBACpHgT,IAAsBhR,EAAAA,EAAAA,KAAS,GAAK,CAAEhC,IAAK,gBAC3CiT,IAAuBjR,EAAAA,EAAAA,KAAS,GAAK,CAAEhC,IAAK,iBAE5CgB,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNiJ,aAAa9K,EAAAA,EAAAA,IAAIsR,GAAqBE,IACtCrK,cAAcnH,EAAAA,EAAAA,IAAIuR,GAAsBC,OAItC7L,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMiL,IACL,CACDjL,KAAMkL,MAEP,CACDtT,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMpB,GAAI,YACVqB,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAM+K,IACL,CACD/K,KAAMgL,UAMhB,OAAmB/K,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,kbC9C/ChB,GAAiB,gBACjBoG,GAAWC,GAEX6M,GAAiB,CAAC,IAAM,GAAM,IAAM,IAAM,KAC1CtK,IAAa7G,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BiT,IACjDlM,IAAajF,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BiT,IAE1ClS,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACNuF,WAAAA,GACA5B,WAAAA,MAGEG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMa,IACL,CACDb,KAAMf,QAIZ,OAAmBgB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubCxB/ChB,GAAiB,qBACjBoG,GAAWC,GAGXqC,IAAM7H,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADvB,CAAC,GAAI,GAAI,GAAI,GAAI,KAC4CA,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CAAEiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAE/HH,GAAOsE,EAAsBtF,GAAKoG,IAClCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,mBAKhC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4eClB/ChB,GAAiB,kBACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAOA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOnG,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YANR,CAAC,GAAM,IAAM,GAAM,IAAM,KAOlCqM,IAAcjM,EAAAA,EAAAA,IAAOqG,GAAa,CACtC,GAAK3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAPA,CAAC,IAAM,IAAM,IAAM,IAAM,MAOY,GAAK8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YANpD,CAAC,IAAM,GAAK,IAAM,IAAM,MAMiE,GAAK8B,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YALxG,CAAC,GAAK,GAAK,GAAK,GAAK,MAMnCiH,EAAAA,IAEGlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,GACAoE,YAAAA,MAIEnF,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMG,MAEP,CACDvI,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,KAAMpB,GAAI,YACVqB,QAAQ7H,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACtCc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMuE,YAKd,OAAmBtE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,kbC5C/ChB,GAAiB,eACjBoG,GAAWC,GAGjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOM,EAAAA,EAAAA,IAAM9B,GAAa,MAAM3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFlC,CAAC,IAAK,GAAK,IAAK,IAAK,OAI7Be,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,MAIEf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,MAAMD,EAAAA,EAAAA,IAAG,kBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,WAOhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,ICjB/CmS,GAAyC,CAC7CC,YAAAA,GACAC,QAAAA,GACAC,iBAAAA,GACAC,YAAAA,GACAC,eAAAA,GACAC,eAAAA,GACAC,SAAAA,GACAC,WAAAA,GACAC,UAAAA,GACAC,kBAAAA,GACAC,WAAAA,GACAC,UAAAA,GACAC,SAAAA,GACAC,kBAAAA,GACAC,SAAAA,GACAC,WAAAA,GACAC,SAAAA,GACAC,KAAAA,GACAC,eAAAA,GACAC,mBAAAA,GACAC,kBAAAA,GACAC,YAAAA,GACAC,UAAAA,GACAC,cAAAA,GACAC,mBAAAA,GACAC,gBAAAA,GACAC,aAAAA,IAEF,M,0RClDM1O,GAAWC,GACXrG,GAAiB,mBACVgB,GAAOsE,EAAsBtF,GAAKoG,IACzCe,IAAmB,kBACpBf,IADoB,IAEvBgB,KAAAA,GACAC,WAAAA,GACAC,SAAU,KAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,2bCL/ChB,GAAiB,kBACjBoG,GAAWC,GAEjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,qBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMuB,IAAoBrB,EAAAA,EAAAA,IAAM,EAAG,GAE7BsB,IAAO3G,EAAAA,EAAAA,KAAKlB,EAAAA,EAAAA,IAAOqG,IAAa3G,EAAAA,EAAAA,GAAakI,IAAmB,SAAApB,GAAC,OAAI1F,EAAAA,EAAAA,IAAS0F,MAAK,IACvF9E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFG,CAAC,IAAM,IAAM,IAAM,IAAM,OAIlCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAMA,MAIJf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OAAQhI,OAAOuF,YAAY8C,GAAkB5D,KAAI,SAAA8D,GAAC,MAAI,CAACA,EAAG,CACxDR,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOD,IAC3BL,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,eAKd,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCpC/ChB,GAAiB,cACjBoG,GAAWC,GAKjB,IAAqCG,EAAAA,EAAAA,IAAKxG,GAAK,qBAA/C,iBAAOoS,GAAP,MAAuBC,GAAvB,MACA,IAAuC7L,EAAAA,EAAAA,IAAKxG,GAAK,sBAAjD,iBAAO+U,GAAP,MAAwBC,GAAxB,MACMrM,IAAeH,EAAAA,EAAAA,IAAM,KAAM6J,IAAYtQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YALjC,CAAC,IAAM,GAAK,IAAM,IAAM,OAMxCiI,IAAOM,EAAAA,EAAAA,IAAM,KAAMwM,IAAajT,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YALjC,CAAC,GAAK,GAAM,IAAM,IAAM,OAOjCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNsF,aAAAA,GACAT,KAAAA,MAIEf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO0S,GACP9K,KAAM6K,GACNzK,MAAMD,EAAAA,EAAAA,IAAG,gBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMY,IACL,CACDN,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,SAIX,CACD9B,MAAOqV,GACPzN,KAAMwN,GACNpN,MAAMD,EAAAA,EAAAA,IAAG,iBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCvD/ChB,GAAiB,aACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAIA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,UAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOM,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHjC,CAAC,GAAK,IAAM,GAAK,IAAM,MAKhCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,MAIEf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ofCpC/ChB,GAAiB,sBACjBoG,GAAWC,GAGjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MACM6C,IAAgB7H,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFrB,CAAC,IAAM,KAAO,IAAM,KAAO,KAE6B,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,IACjFgV,IAAQlT,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BmG,GAAS8F,SAAS7H,KAAI,SAAAF,GAAC,uBAAIA,EAAE8Q,aAAN,QAAe3Q,QAC3EtD,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN+F,cAAAA,GACA6L,MAAAA,KAED,CACD7L,cAAAA,KAEIjC,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMkN,IACL,CACD5M,KAAM9B,GAAI,QACVwB,KAAMqB,QAIZ,OAAmBpB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbC3B/ChB,GAAiB,kBACjBoG,GAAWC,GAGX6C,IAAOrI,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAD1B,CAAC,IAAK,IAAK,EAAG,IAAK,KAC0C,CAAED,IAAK,MAAQC,EAAAA,GAAAA,OAAAA,KAAmB,YAAa,CAC1HiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAGjBH,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAC3D4I,KAAAA,KAGI/B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,MAAMxF,EAAAA,EAAAA,IAAQ2G,GAAM,CAAElJ,IAAK,mBAG1C,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,2bCxB/ChB,GAAiB,gBACjBoG,GAAWC,GACXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubCL/ChB,GAAiB,cACjBoG,GAAWC,GAIXsD,IAAS9I,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFzB,CAAC,GAAK,IAAM,IAAK,KAAM,KAEwC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CAC9HiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAEjByI,IAAc/I,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJ7B,CAAC,EAAG,IAAK,IAAK,IAAK,KAIiD,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CACpIiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAGjBH,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAC3DqJ,OAAAA,GACAC,YAAAA,KAEIzC,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQoH,GAAQ,CAAE3J,IAAI,UAAD,OAAYA,GAAZ,cAC1B,CACD+H,MAAMxF,EAAAA,EAAAA,IAAQqH,GAAa,CAAE5J,IAAI,UAAD,OAAYA,GAAZ,2BAItC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ydC5B/ChB,GAAiB,eACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAIA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,gBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwO,IAASnT,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHK,CAAC,GAAK,KAAO,IAAM,KAAO,KAIlDkV,IAAaC,EAAAA,EAAAA,IAAQnV,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAAeuI,EAAAA,EAAAA,IAAM,QAAS9B,GAAawO,KACrFG,IAAYD,EAAAA,EAAAA,IAAQnV,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAAeuI,EAAAA,EAAAA,IAAM,OAAQ9B,GAAawO,KACnFI,IAAWF,EAAAA,EAAAA,IAAQnV,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAAeuI,EAAAA,EAAAA,IAAM,MAAO9B,GAAawO,KACjFK,IAAaH,EAAAA,EAAAA,IAAQnV,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAAeuI,EAAAA,EAAAA,IAAM,QAAS9B,GAAawO,KACrFM,IAAYJ,EAAAA,EAAAA,IAAQnV,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAAeuI,EAAAA,EAAAA,IAAM,OAAQ9B,GAAawO,KAEnFO,IAAeL,EAAAA,EAAAA,IAAQnV,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,SAAeI,EAAAA,EAAAA,IAAOqG,GAAa,CAAE,MAASwO,GAAQ,KAAQA,GAAQ,IAAOA,GAAQ,MAASA,GAAQ,KAAQA,IAAUhO,EAAAA,KAEpKlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD7C,SAAU,CACRF,OAAQ,CACN8R,WAAAA,GACAE,UAAAA,GACAI,aAAAA,GACAH,SAAAA,GACAC,WAAAA,GACAC,UAAAA,OAKArO,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACLa,KAAMd,GACNkB,KAAMpB,GAAI,wBACVmP,SAASN,EAAAA,EAAAA,IAAQnV,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,QAAe,GACrDsD,UAAU,EACViE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACN+N,MAAO,CACLhO,MAAM,UAAC,KAAD,CAAWiO,MAAM,QAAjB,UAA0BtN,EAAAA,EAAAA,IAAI,oBACpCR,OAAQ,CAAC,CACPC,KAAMoN,IACL,CACDpN,KAAM0N,IACL,CACDC,QAAS,SAAC1U,GAAD,OAAUA,EAAKyI,IAAIxJ,EAAAA,GAAAA,eAAqBN,QAAUqB,EAAKyI,IAAIxJ,EAAAA,GAAAA,SAAeN,OACnF0I,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,OAGVoU,KAAM,CACJlO,MAAM,UAAC,KAAD,CAAWiO,MAAM,eAAjB,UAAiCtN,EAAAA,EAAAA,IAAI,2BAC3CR,OAAQ,CAAC,CACPC,KAAMsN,IACL,CACDtN,KAAM0N,IACL,CACDC,QAAS,SAAC1U,GAAD,OAAUA,EAAKyI,IAAIxJ,EAAAA,GAAAA,eAAqBN,QAAUqB,EAAKyI,IAAIxJ,EAAAA,GAAAA,SAAeN,OACnF0I,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,OAGVqU,IAAK,CACHnO,MAAM,UAAC,KAAD,CAAWiO,MAAM,cAAjB,UAAgCtN,EAAAA,EAAAA,IAAI,0BAC1CR,OAAQ,CAAC,CACPC,KAAMuN,IACL,CACDvN,KAAM0N,IACL,CACDC,QAAS,SAAC1U,GAAD,OAAUA,EAAKyI,IAAIxJ,EAAAA,GAAAA,eAAqBN,QAAUqB,EAAKyI,IAAIxJ,EAAAA,GAAAA,SAAeN,OACnF0I,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,OAGVsU,KAAM,CACJpO,MAAM,UAAC,KAAD,CAAWiO,MAAM,WAAjB,UAA6BtN,EAAAA,EAAAA,IAAI,yBACvCR,OAAQ,CAAC,CACPC,KAAMyN,IACL,CACDzN,KAAM0N,IACL,CACDC,QAAS,SAAC1U,GAAD,OAAUA,EAAKyI,IAAIxJ,EAAAA,GAAAA,eAAqBN,QAAUqB,EAAKyI,IAAIxJ,EAAAA,GAAAA,SAAeN,OACnF0I,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,OAGVuU,MAAO,CACLrO,MAAM,UAAC,KAAD,CAAWiO,MAAM,iBAAjB,UAAmCtN,EAAAA,EAAAA,IAAI,6BAC7CR,OAAQ,CAAC,CACPC,KAAMwN,IACL,CACDxN,KAAM0N,IACL,CACDC,QAAS,SAAC1U,GAAD,OAAUA,EAAKyI,IAAIxJ,EAAAA,GAAAA,eAAqBN,QAAUqB,EAAKyI,IAAIxJ,EAAAA,GAAAA,SAAeN,OACnF0I,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,WAMlB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,6bC5G/ChB,GAAiB,gBACjBoG,GAAWC,GAEjB,IAA6BG,EAAAA,EAAAA,IAAKxG,GAAK,eAAvC,iBAAOqK,GAAP,MAAiBC,GAAjB,MACM2L,IAASrP,EAAAA,EAAAA,IAAM,EAAG,GAClBsC,GAAO,CAAC,IAAM,IAAM,IAAM,IAAM,KAChCgN,GAAcD,GAAO5R,KAAI,SAAAwC,GAAC,OAAI2B,EAAAA,EAAAA,IAAM8B,GAAUzD,EAAEgB,YAAY9F,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BiJ,GAAK7E,KAAI,SAAA8R,GAAC,OAAIA,EAAItP,MAAK,CAAE7G,IAAK,kBAC9HoW,GAAYxW,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAI,CAACA,GAAKoH,EAAAA,EAAAA,IAAM8B,GAAU,KAAKvI,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BiJ,UAE9GlI,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,QAAO,QACLuF,WAAYpH,EAAAA,GAAAA,WAAA,UAAO0U,MAChBtW,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAI,CAAC,GAAD,OAAIA,EAAJ,SAAgBgV,GAAUhV,WAGrE+F,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO2K,GACP/C,KAAM8C,GACN7C,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,kBACTE,OACEhI,OAAOuF,YAAY8Q,GAAO5R,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CACrCc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAO,CAAE,CACPC,KAAMmO,GAAYrP,EAAI,KADlB,eAGH8F,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAK,CAAE2G,KAAMqO,GAAUhV,kBAIrD,OAAmB4G,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,8bCjC/ChB,GAAiB,6BACjBoG,GAAWC,GAGjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,qBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAEM2G,IAAWrL,EAAAA,EAAAA,IAAQ,IACnBqU,IAAYtU,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YALV,CAAC,IAAM,GAAM,IAAM,IAAM,KAKsB,CAAED,IAAK,MAClEsW,GAAe1W,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAI,CAACA,GAAKf,EAAAA,EAAAA,IAAOqG,IAAD,WACtE3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,IAAK8U,GAAWxP,OACjDK,EAAAA,SAEUlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,QAAO,QACLgK,SAAAA,IACGzN,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAI,CAAC,GAAD,OAAIA,EAAJ,SAAgBkV,GAAalV,WAGxE+F,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CAAEC,KAAMsF,MAChB,CACD1N,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,mBACTE,QAAQ7H,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACtCc,MAAMD,EAAAA,EAAAA,IAAG,UAAW,CAAEU,MAAW,EAAJvB,IAC7BiB,OAAQ6E,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAK,CAAE2G,KAAMuO,GAAalV,cAI3D,OAAmB4G,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCpC/ChB,GAAiB,aACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAGA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,sBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM6B,IAAWC,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFrC,CAAC,IAAM,IAAM,IAAM,IAAM,OAGlCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNkF,SAAAA,MAIEpB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACViB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMQ,UAMhB,OAAmBP,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbC7B/ChB,GAAiB,YACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAhC,iBAASuG,GAAT,MAEA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,kBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAGM6P,IAAYxU,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YADX,CAAC,IAAM,GAAK,IAAM,IAAM,MAEnCuW,IAAUC,EAAAA,EAAAA,IAAkB9J,GAAAA,GAAa,SAAA2C,GAAC,MAAI,CAAC,GAAD,OAAIA,EAAJ,UAAcjP,EAAAA,EAAAA,IAAOqG,IAAD,WACnE3G,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,IAAKgV,GAAW1P,OACjDK,EAAAA,QAEGlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQmT,KAGJrP,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,KAAMpB,GAAI,YACVqB,QAAQ7H,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,MAAK,CACtCc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAO,GAAD,eAAMlI,OAAOC,OAAO2W,IAASnS,KAAI,SAAA0D,GAAI,MAAK,CAAEA,KAAAA,OAA5C,CAAsD,CAC1DM,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,cAKd,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,moBClC/ChB,GAAiB,eACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAvBuG,IAAT,gBAIA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,iBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMyD,IAAUpI,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJR,CAAC,GAAK,IAAM,GAAK,IAAM,KAMzC,IAA6CuG,EAAAA,EAAAA,IAAKxG,GAAK,cAAvD,iBAAOgK,GAAP,MAA2BC,GAA3B,MAEMlB,IAAShH,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAPV,CAAC,IAAM,IAAM,IAAM,IAAM,MAQlCmK,IAAY7I,EAAAA,EAAAA,KAChBC,EAAAA,EAAAA,IAAI,GAAGgH,EAAAA,EAAAA,IAAMyB,GAAgB,YAAa,KAC1C5J,EAAAA,EAAAA,IAAOqG,GAAa9G,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MACtD,CAACA,GAAGtF,EAAAA,EAAAA,IAAKwH,GAAQlC,QAAOK,EAAAA,KAGtBlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN8G,QAAAA,GACAjC,KAAMkC,MAIJjD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,KAAMoC,MAEP,CACDxK,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,QACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAC1C,CAACA,EAAG,CACFc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CACPC,KAAMqC,IACL,CACD/B,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,aAIX,CACD9B,MAAOsK,GACP1C,KAAMyC,GACNxC,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,qBACTE,OAAQ,CACNsC,UAAW,CACTpC,OAAQ,CAAC,CACPO,KAAM9B,GAAI,aACV5G,MAAO,IACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCnE/ChB,GAAiB,eACjBoG,GAAWC,GAIjB,IAA6CG,EAAAA,EAAAA,IAAKxG,GAAK,WAAvD,iBAAO0W,GAAP,MAA2BC,GAA3B,MACMC,IAAY7U,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHL,CAAC,IAAM,GAAM,IAAM,IAAM,MAI1CwP,IAAYjH,EAAAA,EAAAA,IAAM,aAAcmO,GAAgBC,IAEhD5V,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNoM,UAAAA,MAIEtI,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOgX,GACPpP,KAAMmP,GACNlP,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,kBACTE,OAAQ,CACNiP,WAAY,CACV/O,OAAQ,CAAC,CACPC,KAAM0H,UAMhB,OAAmBzH,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bC/B/ChB,GAAiB,oBACjBoG,GAAWC,GAGXkE,IAAO7I,EAAAA,GAAAA,KAAeH,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAD1B,CAAC,IAAM,MAAQ,KAAO,MAAQ,KACgC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KACjFe,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAAEiK,KAAAA,KAChEpD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQgI,GAAM,CAAEvK,IAAK,oBAAqBwC,QAAS,iBAI/D,OAAmBwF,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,yRCpB/ChB,GAAiB,iBACjBoG,GAAWC,GACXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,IAEZ,OAAmBU,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,sbCL/ChB,GAAiB,iBACjBoG,GAAWC,GAEjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,WAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MAGM6D,IAAO7I,EAAAA,GAAAA,KAAeH,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAF1B,CAAC,IAAM,KAAO,IAAM,KAAO,KAEmC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KACjFe,GAAOsE,EAAsBtF,GAAKoG,QAAU9F,EAAW,CAAEiK,KAAAA,KAChEpD,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,MAAMD,EAAAA,EAAAA,IAAG,kBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CAAEC,MAAMxF,EAAAA,EAAAA,IAAQgI,GAAM,CAAEvK,IAAK,oBAAqBwC,QAAS,mBAK5E,OAAmBwF,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCvB/ChB,GAAiB,gBACjBoG,GAAWC,GAGjB,IAAmCG,EAAAA,EAAAA,IAAKxG,GAAK,SAA7C,iBAAO6I,GAAP,MAAsBC,GAAtB,MACMQ,GAAQ,CAAC,IAAM,GAAK,IAAM,IAAM,KAChCL,IAAY5I,EAAAA,EAAAA,IAAOyI,IAAW/I,EAAAA,EAAAA,IAAa6G,EAAAA,EAAAA,IAAM,EAAG,IAAI,SAAAC,GAAC,OAAItF,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BqJ,GAAO,CAAEtJ,IAAK,MAAQ6G,MAAKK,EAAAA,IAC1HlG,GAAOsE,EAAsBtF,GAAKoG,GAAU,CACvD/C,OAAQ,CACN4F,UAAAA,MAGE9B,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAOmJ,GACPvB,KAAMsB,GACNrB,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,WACjDC,MAAMD,EAAAA,EAAAA,IAAG,oBACTE,OAAQhI,OAAOuF,aAAYyB,EAAAA,EAAAA,IAAM,EAAG,GAAGvC,KAAI,SAAAwC,GAAC,MAAI,CAACA,EAAG,CAClDc,MAAMD,EAAAA,EAAAA,IAAG,QAAS,CAAEU,MAAOvB,IAC3BiB,OAAQ,CAAC,CAAEC,KAAMkB,cAIvB,OAAmBjB,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubC9B/ChB,GAAiB,uBACjBoG,GAAWC,GAGXrF,GAAOsE,EAAsBtF,GAAKoG,IAElCe,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CAAEE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAaS,OAAQ,MAEtE,OAAmBE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,wbCP/ChB,GAAiB,eACjBoG,GAAWC,GAEXyQ,GAAW,CAAC,IAAM,IAAM,IAAM,IAAM,KACpCC,GAAYnX,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAI,CAACA,GAAKW,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0B6W,SAGhGpO,IAAM7H,EAAAA,GAAAA,KAAcU,EAAAA,EAAAA,KAAKQ,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAFzB,CAAC,IAAK,EAAG,IAAK,IAAK,KAEyC,CAAED,IAAK,MAAQC,EAAAA,GAAAA,MAAAA,KAAkB,YAAa,CACxHiB,IAAK,CAAEE,KAAKD,EAAAA,EAAAA,IAAS,eAEjBH,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,QAAO,UACFzD,OAAOuF,YAAYwH,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAI,CAAC,GAAD,OAAIA,EAAJ,SAAgB2V,GAAU3V,UAExE,CAAEsH,IAAAA,KAECvB,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACTE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,SACjDI,OAAO,GAAD,eACD6E,GAAAA,EAAAA,KAAgB,SAAAvL,GAAG,MAAK,CAAE2G,KAAMgP,GAAU3V,QADzC,CAEJ,CACE2G,MAAMxF,EAAAA,EAAAA,IAAQmG,GAAK,CAAE1I,IAAK,oBAIlC,OAAmBgI,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bC7B/ChB,GAAiB,aACjBoG,GAAWC,GAIjB,IAAqCG,EAAAA,EAAAA,IAAKxG,GAAK,oBAA/C,iBAAOoS,GAAP,MAAuBC,GAAvB,MACA,IAA6C7L,EAAAA,EAAAA,IAAKxG,GAAK,wBAAvD,iBAAO0W,GAAP,MAA2BC,GAA3B,MACMC,IAAY7U,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAJL,CAAC,GAAM,IAAM,GAAM,IAAM,KAK1C2I,IAAaJ,EAAAA,EAAAA,IAAM,SAAU6J,GAAYuE,IACzC5P,IAAU,UAAQ4B,IAClB0D,IAAc9D,EAAAA,EAAAA,IAAM,aAAcmO,GAAgBC,IAElD5V,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACNuF,WAAAA,GACA5B,WAAAA,GACAsF,YAAAA,MAIEnF,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO0S,GACP9K,KAAM6K,GACN5K,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,gBACTE,OAAQ,CACNoP,OAAQ,CACNlP,OAAQ,CAAC,CACPC,KAAMa,IACL,CACDb,KAAMf,QAIX,CACDrH,MAAOgX,GACPpP,KAAMmP,GACNlP,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,MAAMD,EAAAA,EAAAA,IAAG,sBACTE,OAAQ,CACNiP,WAAY,CACV/O,OAAQ,CAAC,CACPC,KAAMuE,UAMhB,OAAmBtE,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,2bCpD/ChB,GAAiB,aACjBoG,GAAWC,GACjB,IAAkBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAlC,iBAAOoP,GAAP,MAAW7I,GAAX,MAGM0Q,GAAuB,CAAC,IAAM,GAAK,IAAM,IAAM,KAGrD,IAAuCzQ,EAAAA,EAAAA,IAAKxG,GAAK,SAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOM,EAAAA,EAAAA,IAAM,aAAc9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAL9B,CAAC,GAAK,IAAM,GAAK,KAAM,OAM3CkV,IAAa3M,EAAAA,EAAAA,IAAM,OAAQ9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BgX,KAC5E5B,IAAY7M,EAAAA,EAAAA,IAAM,OAAQ9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BgX,KAC3ExB,IAAejN,EAAAA,EAAAA,IAAM,OAAQ9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BgX,KAC9E3B,IAAW9M,EAAAA,EAAAA,IAAM,OAAQ9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BgX,KAC1E1B,IAAa/M,EAAAA,EAAAA,IAAM,OAAQ9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BgX,KAC5EzB,IAAYhN,EAAAA,EAAAA,IAAM,OAAQ9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BgX,KAC3EvF,IAASlJ,EAAAA,EAAAA,IAAM,YAAa9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAV5B,CAAC,IAAK,IAAK,IAAK,IAAK,OAY5Ce,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,GACAiN,WAAAA,GACAE,UAAAA,GACAI,aAAAA,GACAH,SAAAA,GACAC,WAAAA,GACAC,UAAAA,GACA9D,OAAAA,MAIEvK,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNe,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDC,KAAMyH,GAAG,eACTxH,OAAQ,CACNsP,KAAM,CACJvP,KAAMpB,GAAI,QACVuB,OAAQ,CAAC,CACPC,KAAMoN,IACL,CACDpN,KAAMsN,IACL,CACDtN,KAAM0N,IACL,CACD1N,KAAMuN,IACL,CACDvN,KAAMwN,IACL,CACDxN,KAAMyN,IACL,CACDnN,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,OAGV0V,UAAW,CACTxP,KAAMpB,GAAI,aACVuB,OAAQ,CAAC,CACPC,KAAM2J,IACL,CACDrJ,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,OAGV2V,WAAY,CACVzP,KAAMpB,GAAI,cACVuB,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,ubClF/ChB,GAAiB,gCACjBoG,GAAWC,GACjB,IAAgBC,EAAAA,EAAAA,IAAM,SAAUtG,IAAvBuG,IAAT,gBAIA,IAAuCC,EAAAA,EAAAA,IAAKxG,GAAK,YAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACM2Q,IAAW7O,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHrC,CAAC,IAAM,GAAK,IAAM,IAAM,OAMjCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD7C,SAAU,CACRF,OAAQ,CACN6E,MALOM,EAAAA,EAAAA,IAAMvI,EAAAA,GAAAA,cAAqBqX,EAAAA,GAAAA,QAAgBD,QAUlDlQ,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,KAAMpB,GAAI,YACVmP,SAASN,EAAAA,EAAAA,IAAQnV,EAAAA,GAAAA,cAAqBA,EAAAA,GAAAA,QAAe,GACrDsD,UAAU,EACViE,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,MAAMxF,EAAAA,EAAAA,IAAQ8U,GAAU,CAAErX,IAAK,UAC9B,CACDqI,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,4bCzC/ChB,GAAiB,eACjBoG,GAAWC,GAEXkR,GAAY,CAAC,IAAM,IAAM,IAAM,IAAM,IAE3C,IAAuC/Q,EAAAA,EAAAA,IAAKxG,GAAK,mBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOM,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BsX,KACpElK,IAAW7E,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAA0BsX,KAExEvW,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,GACAmF,SAAAA,MAIElG,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,MAAMD,EAAAA,EAAAA,IAAG,oBACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDH,KAAMsF,IACL,CACDhF,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,GACP8B,KAAM,WAMhB,OAAmBuG,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,I,icCvC/ChB,GAAiB,cACjBoG,GAAWC,GAIjB,IAAuCG,EAAAA,EAAAA,IAAKxG,GAAK,gBAAjD,iBAAOyG,GAAP,MAAwBC,GAAxB,MACMwB,IAAOM,EAAAA,EAAAA,IAAM,KAAM9B,IAAa3E,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,OAAAA,YAHjC,CAAC,GAAK,IAAM,GAAK,IAAM,MAKhCe,GAAOsE,EAAsBtF,GAAKoG,GAAU,CAChD/C,OAAQ,CACN6E,KAAAA,MAIEf,GAAsB,CAC1BC,KAAAA,GACAC,WAAAA,GACAC,SAAU,CAAC,CACT3H,MAAO+G,GACPa,KAAMd,GACNkB,MAAMD,EAAAA,EAAAA,IAAG,eACTF,QAAQC,EAAAA,EAAAA,GAAezH,GAAKoH,GAAMC,IAAYK,EAAAA,EAAAA,IAAG,gBACjDE,OAAQ,CACNa,GAAI,CACFX,OAAQ,CAAC,CACPC,KAAMG,IACL,CACDG,MAAMC,EAAAA,EAAAA,IAAI,YACV3I,MAAO,EACP8B,KAAM,WCgBhB,GA5ByD,CACvD+V,iBAAAA,GACAC,gBAAAA,GACAC,YAAAA,GACAC,WAAAA,GACAC,oBAAAA,GACAC,gBAAAA,GACAC,cAAAA,GACAC,YAAAA,GACAC,aAAAA,GACAC,cAAAA,GACAC,2BAAAA,GACAC,WAAAA,GACAC,UAAAA,GACAC,aAAAA,GACAC,aAAAA,GACAC,kBAAAA,GACAC,eAAAA,GACAC,eAAAA,GACAC,cAAAA,GACAC,qBAAAA,GACAC,aAAAA,GACAC,WAAAA,GACAC,WAAAA,GACAC,8BAAAA,GACAC,aAAAA,GACAC,YDRF,IAAmBjR,EAAAA,EAAYhI,GAAKmH,GAAOf,GAAUpF,KE/BrD,IAPgD,0CAC3CT,IACAC,IACAC,IACA0S,IACAzS,K,uICOCwY,GAAoBnX,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,IANO,EAAE,EAC3C,QAAS,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,QAAS,UAAW,UAAW,SAAU,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,MAAO,SAAU,UAAW,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAAW,SAAU,UAAW,UAAW,SAAU,SAAU,QAAS,SAAU,SAAU,UAAW,SAAU,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAMx6BkZ,GAAoB5X,EAAAA,EAAAA,IAAK,GAAK,GAAG6X,EAAAA,EAAAA,IAAKnZ,EAAAA,GAAAA,MAAAA,OAAoB,OAC1DoZ,GAAiB9W,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KAAKC,EAAAA,EAAAA,IAAIC,EAAAA,GAAiC0X,GAAoBD,GAAoB,CAAElZ,IAAK,cAAewC,QAAS,QAE1I8W,GAAcvX,EAAAA,EAAAA,IAAU9B,EAAAA,GAAAA,IAbwB,EAAE,EACtD,UAAW,UAAW,UAAW,UAAW,QAAS,UAAW,UAAW,UAAW,SAAU,UAAW,OAAQ,MAAO,UAAW,SAAU,SAAU,UAAW,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,WAAY,UAAW,UAAW,WAAY,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,UAAW,SAAU,SAAU,UAAW,SAAU,SAAU,UAAW,SAAU,UAAW,QAAS,UAAW,UAAW,SAAU,UAAW,SAAU,UAAW,UAAW,SAAU,UAAW,SAAU,UAAW,UAAW,UAAW,SAAU,UAAW,SAAU,UAAW,SAAU,UAAW,SAAU,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAa56BsZ,GAAchY,EAAAA,EAAAA,IAAK,IAAI6X,EAAAA,EAAAA,IAAKnZ,EAAAA,GAAAA,MAAAA,OAAoB,MAChDqG,GAAK,mBACNvG,EAAAA,EAAAA,GAAa,CAAC,aAAc,iBAAkB,eAAgB,cAAuB,SAAA0D,GACtF,MAAmC+V,EAAAA,GAAwB/V,GAAnDgW,EAAR,EAAQA,MAAkBrY,GAA1B,SAAesY,SAAf,MACA,OAAOnX,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KACbgB,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,IAAKkY,EAAOH,GAAc,CAAE5U,QAZ1B,QAaVlD,EAAAA,EAAAA,IAAIC,EAAAA,GAAM8X,EAAatZ,EAAAA,GAAAA,MAAA,UAAewD,EAAf,WACvBxD,EAAAA,GAAAA,MAAA,UAAemB,EAAf,eACA,CAAEpB,IAAI,GAAD,OAAKyD,EAAL,QAAqBjB,QAASiB,QAP9B,IASTkW,OAAO5Z,EAAAA,EAAAA,GAAayZ,EAAAA,GAAAA,MAAAA,UAAwC,SAAApY,GAAG,OAAImB,EAAAA,EAAAA,KACjEhB,EAAAA,EAAAA,KACEgB,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,IAAKiY,EAAAA,GAAAA,MAAAA,MAAqCF,GAAc,CAAE5U,QAnBxD,QAoBVlD,EAAAA,EAAAA,IAAIC,EAAAA,GAAM8X,EAAatZ,EAAAA,GAAAA,MAAAA,YACvBA,EAAAA,GAAAA,MAAA,UAAemB,EAAf,eACF,CAAEpB,IAAI,GAAD,OAAKoB,EAAL,cAAsBoB,QAASpB,SAE3BsC,EAAY,CACvBiS,MAAO,CACLiE,aAActT,EAAMqT,MAAME,QAC1BC,UAAWxT,EAAMqT,MAAM5D,KACvBgE,UAAWzT,EAAMqT,MAAM9D,KACvBmE,WAAY1T,EAAMqT,MAAM3D,MACxBiE,UAAW3T,EAAM2T,WAEnBnE,KAAI,gBACFoE,YAAab,GACVzZ,OAAOuF,YAAYgV,EAAAA,GAAAA,KAAkB,SAAA7K,GAAC,MAAI,CAAC,GAAD,OAAIA,EAAJ,gBAC7C/M,EAAAA,EAAAA,KAAQhB,EAAAA,EAAAA,KAAKS,EAAAA,EAAAA,IAAQ,KAAMqX,GAAiB,CAAErZ,IAAI,GAAD,OAAKsP,EAAL,gBAAsB9M,QAAS8M,UAH/E,IAID2K,UAAW3T,EAAM2T,YAEnBJ,QAAS,CACPO,WAAY9T,EAAM8T,WAClBC,eAAgB/T,EAAM+T,eACtBC,aAAchU,EAAMgU,aACpBL,UAAW3T,EAAM2T,WAEnBjE,MAAO,CACLqE,eAAgB/T,EAAM+T,eACtBJ,UAAW3T,EAAM2T,WAEnBlE,KAAM,CACJqE,WAAY9T,EAAM8T,WAClBH,UAAW3T,EAAM2T,WAEnBpE,KAAM,CACJyE,aAAchU,EAAMgU,aACpBL,UAAW3T,EAAM2T,a","sources":["Data/Characters/dataUtil.tsx","Data/Weapons/util.ts","Data/Weapons/Claymore/Akuoumaru/index.tsx","Data/Weapons/Claymore/BlackcliffSlasher/index.tsx","Data/Weapons/Claymore/BloodtaintedGreatsword/index.tsx","Data/Weapons/Claymore/DebateClub/index.tsx","Data/Weapons/Claymore/FavoniusGreatsword/index.tsx","Data/Weapons/Claymore/FerrousShadow/index.tsx","Data/Weapons/Claymore/KatsuragikiriNagamasa/index.tsx","Data/Weapons/Claymore/LithicBlade/index.tsx","Data/Weapons/Claymore/LuxuriousSeaLord/index.tsx","Data/Weapons/Claymore/OldMercsPal/index.tsx","Data/Weapons/Claymore/PrototypeArchaic/index.tsx","Data/Weapons/Claymore/Rainslasher/index.tsx","Data/Weapons/Claymore/RedhornStonethresher/index.tsx","Data/Weapons/Claymore/RoyalGreatsword/index.tsx","Data/Weapons/Claymore/SacrificialGreatsword/index.tsx","Data/Weapons/Claymore/SerpentSpine/index.tsx","Data/Weapons/Claymore/SkyriderGreatsword/index.tsx","Data/Weapons/Claymore/SkywardPride/index.tsx","Data/Weapons/Claymore/SnowTombedStarsilver/index.tsx","Data/Weapons/Claymore/SongOfBrokenPines/index.tsx","Data/Weapons/Claymore/TheBell/index.tsx","Data/Weapons/Claymore/TheUnforged/index.tsx","Data/Weapons/Claymore/WasterGreatsword/index.tsx","Data/Weapons/Claymore/Whiteblind/index.tsx","Data/Weapons/Claymore/WhiteIronGreatsword/index.tsx","Data/Weapons/Claymore/WolfsGravestone/index.tsx","Data/Weapons/Claymore/index.ts","Data/Weapons/Sword/AmenomaKageuchi/index.tsx","Data/Weapons/Sword/AquilaFavonia/index.tsx","Data/Weapons/Sword/BlackcliffLongsword/index.tsx","Data/Weapons/Sword/CinnabarSpindle/index.tsx","Data/Weapons/Sword/CoolSteel/index.tsx","Data/Weapons/Sword/DarkIronSword/index.tsx","Data/Weapons/Sword/DullBlade/index.tsx","Data/Weapons/Sword/FavoniusSword/index.tsx","Data/Weapons/Sword/FesteringDesire/index.tsx","Data/Weapons/Sword/FilletBlade/index.tsx","Data/Weapons/Sword/FreedomSworn/index.tsx","Data/Weapons/Sword/HaranGeppakuFutsu/index.tsx","Data/Weapons/Sword/HarbingerOfDawn/index.tsx","Data/Weapons/Sword/IronSting/index.tsx","Data/Weapons/Sword/LionsRoar/index.tsx","Data/Weapons/Sword/MistsplitterReforged/index.tsx","Data/Weapons/Sword/PrimordialJadeCutter/index.tsx","Data/Weapons/Sword/PrototypeRancour/index.tsx","Data/Weapons/Sword/RoyalLongsword/index.tsx","Data/Weapons/Sword/SacrificialSword/index.tsx","Data/Weapons/Sword/SilverSword/index.tsx","Data/Weapons/Sword/SkyriderSword/index.tsx","Data/Weapons/Sword/SkywardBlade/index.tsx","Data/Weapons/Sword/SummitShaper/index.tsx","Data/Weapons/Sword/SwordOfDescension/index.tsx","Data/Weapons/Sword/TheAlleyFlash/index.tsx","Data/Weapons/Sword/TheBlackSword/index.tsx","Data/Weapons/Sword/TheFlute/index.tsx","Data/Weapons/Sword/TravelersHandySword/index.tsx","Data/Weapons/Sword/index.ts","Data/Weapons/Polearm/BeginnersProtector/index.tsx","Data/Weapons/Polearm/BlackcliffPole/index.tsx","Data/Weapons/Polearm/BlackTassel/index.tsx","Data/Weapons/Polearm/CalamityQueller/index.tsx","Data/Weapons/Polearm/CrescentPike/index.tsx","Data/Weapons/Polearm/Deathmatch/index.tsx","Data/Weapons/Polearm/DragonsBane/index.tsx","Data/Weapons/Polearm/DragonspineSpear/index.tsx","Data/Weapons/Polearm/EngulfingLightning/index.tsx","Data/Weapons/Polearm/FavoniusLance/index.tsx","Data/Weapons/Polearm/Halberd/index.tsx","Data/Weapons/Polearm/IronPoint/index.tsx","Data/Weapons/Polearm/KitainCrossSpear/index.tsx","Data/Weapons/Polearm/LithicSpear/index.tsx","Data/Weapons/Polearm/PrimordialJadeWingedSpear/index.tsx","Data/Weapons/Polearm/PrototypeStarglitter/index.tsx","Data/Weapons/Polearm/RoyalSpear/index.tsx","Data/Weapons/Polearm/SkywardSpine/index.tsx","Data/Weapons/Polearm/StaffOfHoma/index.tsx","Data/Weapons/Polearm/TheCatch/index.tsx","Data/Weapons/Polearm/VortexVanquisher/index.tsx","Data/Weapons/Polearm/WavebreakersFin/index.tsx","Data/Weapons/Polearm/WhiteTassel/index.tsx","Data/Weapons/Polearm/index.ts","Data/Weapons/Bow/AlleyHunter/index.tsx","Data/Weapons/Bow/AmosBow/index.tsx","Data/Weapons/Bow/BlackcliffWarbow/index.tsx","Data/Weapons/Bow/CompoundBow/index.tsx","Data/Weapons/Bow/ElegyForTheEnd/index.tsx","Data/Weapons/Bow/FavoniusWarbow/index.tsx","Data/Weapons/Bow/Hamayumi/index.tsx","Data/Weapons/Bow/HuntersBow/index.tsx","Data/Weapons/Bow/Messenger/index.tsx","Data/Weapons/Bow/MitternachtsWaltz/index.tsx","Data/Weapons/Bow/MouunsMoon/index.tsx","Data/Weapons/Bow/PolarStar/index.tsx","Data/Weapons/Bow/Predator/index.tsx","Data/Weapons/Bow/PrototypeCrescent/index.tsx","Data/Weapons/Bow/RavenBow/index.tsx","Data/Weapons/Bow/RecurveBow/index.tsx","Data/Weapons/Bow/RoyalBow/index.tsx","Data/Weapons/Bow/Rust/index.tsx","Data/Weapons/Bow/SacrificialBow/index.tsx","Data/Weapons/Bow/SeasonedHuntersBow/index.tsx","Data/Weapons/Bow/SharpshootersOath/index.tsx","Data/Weapons/Bow/SkywardHarp/index.tsx","Data/Weapons/Bow/Slingshot/index.tsx","Data/Weapons/Bow/TheStringless/index.tsx","Data/Weapons/Bow/TheViridescentHunt/index.tsx","Data/Weapons/Bow/ThunderingPulse/index.tsx","Data/Weapons/Bow/WindblumeOde/index.tsx","Data/Weapons/Bow/index.ts","Data/Weapons/Catalyst/ApprenticesNotes/index.tsx","Data/Weapons/Catalyst/BlackcliffAgate/index.tsx","Data/Weapons/Catalyst/DodocoTales/index.tsx","Data/Weapons/Catalyst/EmeraldOrb/index.tsx","Data/Weapons/Catalyst/EverlastingMoonglow/index.tsx","Data/Weapons/Catalyst/EyeOfPerception/index.tsx","Data/Weapons/Catalyst/FavoniusCodex/index.tsx","Data/Weapons/Catalyst/Frostbearer/index.tsx","Data/Weapons/Catalyst/HakushinRing/index.tsx","Data/Weapons/Catalyst/KagurasVerity/index.tsx","Data/Weapons/Catalyst/LostPrayerToTheSacredWinds/index.tsx","Data/Weapons/Catalyst/MagicGuide/index.tsx","Data/Weapons/Catalyst/MappaMare/index.tsx","Data/Weapons/Catalyst/MemoryOfDust/index.tsx","Data/Weapons/Catalyst/OathswornEye/index.tsx","Data/Weapons/Catalyst/OtherworldlyStory/index.tsx","Data/Weapons/Catalyst/PocketGrimoire/index.tsx","Data/Weapons/Catalyst/PrototypeAmber/index.tsx","Data/Weapons/Catalyst/RoyalGrimoire/index.tsx","Data/Weapons/Catalyst/SacrificialFragments/index.tsx","Data/Weapons/Catalyst/SkywardAtlas/index.tsx","Data/Weapons/Catalyst/SolarPearl/index.tsx","Data/Weapons/Catalyst/TheWidsith/index.tsx","Data/Weapons/Catalyst/ThrillingTalesOfDragonSlayers/index.tsx","Data/Weapons/Catalyst/TwinNephrite/index.tsx","Data/Weapons/Catalyst/WineAndSong/index.tsx","Data/Weapons/Catalyst/index.ts","Data/Weapons/index.ts","Formula/reaction.ts"],"sourcesContent":["import { SubstatKey } from \"pipeline\";\r\nimport { input } from \"../../Formula\";\r\nimport { inferInfoMut, mergeData } from \"../../Formula/api\";\r\nimport { reactions } from \"../../Formula/reaction\";\r\nimport { Data, DisplaySub, NumNode } from \"../../Formula/type\";\r\nimport { constant, data, infoMut, lookup, percent, prod, stringPrio, subscript, sum, unit } from \"../../Formula/utils\";\r\nimport { allMainStatKeys, MainStatKey } from \"../../Types/artifact\";\r\nimport { CharacterKey, ElementKey, Region } from \"../../Types/consts\";\r\nimport { layeredAssignment, objectKeyMap, objectMap } from \"../../Util/Util\";\r\nimport _charCurves from \"./expCurve_gen.json\";\r\n\r\n// TODO: Remove this conversion after changing the file format\r\nconst charCurves = objectMap(_charCurves, value => [0, ...Object.values(value)])\r\n\r\nconst commonBasic = objectKeyMap([\"hp\", \"atk\", \"def\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"heal_\"], key => input.total[key])\r\n\r\nexport const infusionNode = stringPrio(\r\n  input.infusion.nonOverridableSelf,\r\n  input.infusion.team,\r\n  input.infusion.overridableSelf)\r\nconst inferredHitEle = stringPrio(\r\n  lookup(input.hit.move, {\r\n    \"skill\": input.charEle, \"burst\": input.charEle,\r\n  }, undefined),\r\n  lookup(input.weaponType, {\r\n    sword: infusionNode, claymore: infusionNode, polearm: infusionNode,\r\n    catalyst: input.charEle,\r\n  }, undefined),\r\n  \"physical\"\r\n)\r\n\r\nfunction getTalentType(move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\") {\r\n  switch (move) {\r\n    case \"normal\": case \"charged\": case \"plunging\": return \"auto\";\r\n    case \"skill\": return \"skill\";\r\n    case \"burst\": return \"burst\";\r\n  }\r\n}\r\n\r\n/** Note: `additional` applies only to this formula */\r\nexport function customDmgNode(base: NumNode, move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\" | \"elemental\", additional: Data = {}): NumNode {\r\n  return data(input.hit.dmg, mergeData([{\r\n    hit: { base, move: constant(move), ele: additional?.hit?.ele ? undefined : inferredHitEle },\r\n  }, additional]))\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customShieldNode(base: NumNode, additional?: Data): NumNode {\r\n  const shieldNode = prod(base, sum(unit, input.total.shield_))\r\n  return additional ? data(shieldNode, additional) : shieldNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customHealNode(base: NumNode, additional?: Data): NumNode {\r\n  const healNode = prod(base, sum(unit, input.total.heal_, input.total.incHeal_))\r\n  return additional ? data(healNode, additional) : healNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function dmgNode(base: MainStatKey | SubstatKey, lvlMultiplier: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional: Data = {}): NumNode {\r\n  const talentType = getTalentType(move)\r\n  return customDmgNode(prod(subscript(input.total[`${talentType}Index`], lvlMultiplier, { key: '_' }), input.total[base]), move, additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customShieldNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customHealNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customShieldNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function shieldElement(element: \"electro\" | \"cryo\" | \"hydro\" | \"pyro\" | \"geo\", shieldNode: NumNode) {\r\n  return infoMut(prod(percent(element === \"geo\" ? 1.5 : 2.5), shieldNode), { variant: element })\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customHealNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function dataObjForCharacterSheet(\r\n  key: CharacterKey,\r\n  element: ElementKey | undefined,\r\n  region: Region | undefined,\r\n  gen: {\r\n    weaponTypeKey: string,\r\n    base: { hp: number, atk: number, def: number },\r\n    curves: { [key in string]?: string },\r\n    ascensions: { props: { [key in string]?: number } }[]\r\n  },\r\n  display: { [key: string]: DisplaySub },\r\n  additional: Data = {},\r\n): Data {\r\n  function curve(base: number, lvlCurve: string): NumNode {\r\n    return prod(base, subscript(input.lvl, charCurves[lvlCurve]))\r\n  }\r\n  display.basic = { ...commonBasic }\r\n  const data: Data = {\r\n    charKey: constant(key),\r\n    base: {},\r\n    weaponType: constant(gen.weaponTypeKey),\r\n    premod: {},\r\n    display,\r\n  }\r\n  if (element) {\r\n    data.charEle = constant(element)\r\n    data.teamBuff = { tally: { [element]: constant(1) } }\r\n    data.display!.basic[`${element}_dmg_`] = input.total[`${element}_dmg_`]\r\n    data.display!.reaction = reactions[element]\r\n  }\r\n  if (region)\r\n    layeredAssignment(data, [\"teamBuff\", \"tally\", region], constant(1))\r\n  if (gen.weaponTypeKey !== \"catalyst\") {\r\n    if (!data.display!.basic) data.display!.basic = {}\r\n    data.display!.basic!.physical_dmg_ = input.total.physical_dmg_\r\n  }\r\n\r\n  let foundSpecial: boolean | undefined\r\n  for (const stat of [...allMainStatKeys, \"def\" as const]) {\r\n    const list: NumNode[] = []\r\n    if (gen.curves[stat])\r\n      list.push(curve(gen.base[stat], gen.curves[stat]!))\r\n    const asc = gen.ascensions.some(x => x.props[stat])\r\n    if (asc)\r\n      list.push(subscript(input.asc, gen.ascensions.map(x => x.props[stat] ?? NaN)))\r\n\r\n    if (!list.length) continue\r\n\r\n    const result = infoMut(list.length === 1 ? list[0] : sum(...list), { key: stat, prefix: \"char\", asConst: true })\r\n    if (stat.endsWith(\"_dmg_\")) result.info!.variant = stat.slice(0, -5) as any\r\n    if (stat === \"atk\" || stat === \"def\" || stat === \"hp\")\r\n      data.base![stat] = result\r\n    else {\r\n      if (foundSpecial) throw new Error(\"Duplicated Char Special\")\r\n      foundSpecial = true\r\n      data.special = result\r\n      data.premod![stat] = input.special\r\n    }\r\n  }\r\n\r\n  return mergeData([data, inferInfoMut(additional)])\r\n}\r\n","import type { WeaponData } from \"pipeline\";\r\nimport { inferInfoMut, mergeData } from \"../../Formula/api\";\r\nimport { WeaponKey } from \"../../Types/consts\";\r\nimport _weaponCurves from \"./expCurve_gen.json\";\r\nimport { input } from \"../../Formula\";\r\nimport { Data, DisplaySub } from \"../../Formula/type\";\r\nimport { infoMut, prod, constant, subscript, sum } from \"../../Formula/utils\";\r\n\r\n// TODO: Remove this conversion after changing the file format\r\nconst weaponCurves = Object.fromEntries(Object.entries(_weaponCurves).map(([key, value]) => [key, [0, ...Object.values(value)]]))\r\n\r\nexport function dataObjForWeaponSheet(\r\n  key: WeaponKey,\r\n  gen: WeaponData,\r\n  additional: Data = {},\r\n  displayWeapon: DisplaySub = {},\r\n): Data {\r\n  const result: Data = {\r\n    base: {},\r\n    premod: {},\r\n    total: {},\r\n    weapon: {\r\n      key: constant(key), type: constant(gen.weaponType),\r\n    },\r\n    display: {\r\n      [`weapon:${key}`]: displayWeapon\r\n    },\r\n  }\r\n\r\n  const { mainStat, subStat } = gen\r\n  const merging = [result]\r\n\r\n  if (mainStat.type !== \"atk\" && mainStat.type !== \"def\" && mainStat.type !== \"hp\") throw new Error(\"Main stat type must be `atk`\")\r\n  const mainStatNode = infoMut(sum(prod(mainStat.base, subscript(input.weapon.lvl, weaponCurves[mainStat.curve])), subscript(input.weapon.asc, gen.ascension.map(x => x.addStats[mainStat.type] ?? 0))), { key: mainStat.type })\r\n  merging.push({ base: { [mainStat.type]: input.weapon.main }, weapon: { main: mainStatNode } })\r\n\r\n  if (subStat) {\r\n    if (subStat.type === \"atk\" || subStat.type === \"def\" || subStat.type === \"hp\") throw new Error(\"SubStat cannot be `atk`, `def`, or `hp`\")\r\n    const substatNode = infoMut(prod(subStat.base, subscript(input.weapon.lvl, weaponCurves[subStat.curve])), { key: subStat.type })\r\n    merging.push({\r\n      premod: { [subStat.type]: input.weapon.sub },\r\n      weapon: { sub: substatNode },\r\n    })\r\n  }\r\n  return mergeData([...merging, inferInfoMut(additional, key)])\r\n}\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, min, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Akuoumaru\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"WatatsumiWavewalker\")\r\nconst energyRange = range(4, 36).map(i => i * 10)\r\nconst ratio = [0.0012, 0.0015, 0.0018, 0.0021, 0.0024]\r\nconst max = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst burst_dmg_ = lookup(condPassive, Object.fromEntries(energyRange.map(i => [i, min(prod(subscript(input.weapon.refineIndex, ratio, { key: \"_\" }), i), subscript(input.weapon.refineIndex, max, { key: \"_\" }))])), naught)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: trm(\"party\"),\r\n    states: Object.fromEntries(energyRange.map(i => [i, {\r\n      name: i.toString(),\r\n      fields: [{ node: burst_dmg_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackcliffSlasher\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst opponentsDefeated = range(1, 3)\r\nconst atkInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = prod(lookup(condPassive, objectKeyMap(opponentsDefeated, i => constant(i)), 0),\r\n  subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"afterDefeatEnemy\"),\r\n    states:\r\n      Object.fromEntries(opponentsDefeated.map(c => [c, {\r\n        name: st(\"stack\", { count: c }),\r\n        fields: [{\r\n          node: atk_,\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 30,\r\n          unit: \"s\"\r\n        }]\r\n      }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BloodtaintedGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfFireAndThunder\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_,\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DebateClub\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgPerc = [0.6, 0.75, 0.9, 1.05, 1.2]\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FerrousShadow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\n// const hpThreshold = [0.7, 0.75, 0.8, 0.85, 0.9]\r\nconst bonusInc = [0.3, 0.35, 0.4, 0.45, 0.5]\r\nconst [condPassivePath, condPassive] = cond(key, \"Unbending\")\r\nconst charged_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, bonusInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    charged_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    // TODO: need st(\"lessPercentHP\", { percent: xx }) to change depending on the weapon refine index.\r\n    // Probably need to change IConditional.name to have (data:Data)=>Displayable as well.\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: charged_dmg_,\r\n        }, {\r\n          text: trm(\"resistance\")\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"KatsuragikiriNagamasa\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst skill_dmg_Src = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, skill_dmg_Src)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: skill_dmg_ }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LithicBlade\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst atkInc = [0.07, 0.08, 0.09, 0.1, 0.11]\r\nconst critInc = [0.03, 0.04, 0.05, 0.06, 0.07]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), i)), naught)\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, critInc, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: trm(\"condName\"),\r\n    states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n      name: st(\"member\", { count: i }),\r\n      fields: [{\r\n        node: atk_\r\n      }, {\r\n        node: critRate_\r\n      }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LuxuriousSeaLord\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst burst_dmg_Src = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst dmg_Src = [1, 1.25, 1.5, 1.75, 2]\r\nconst burst_dmg_ = subscript(input.weapon.refineIndex, burst_dmg_Src)\r\nconst [condPassivePath, condPassive] = cond(key, \"OceanicVictory\")\r\nconst dmg_ = equal(condPassive, 'on',\r\n  customDmgNode(prod(\r\n    subscript(\r\n      input.weapon.refineIndex, dmg_Src, { key: \"_\" }),\r\n      input.total.atk\r\n    ),\r\n    \"elemental\",\r\n    { hit: { ele: constant(\"physical\") }\r\n}))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: burst_dmg_ }],\r\n  }, {\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: st('hitOp.burst'),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: infoMut(dmg_, { key: \"sheet:dmg\" })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: 15,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"OldMercsPal\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeArchaic\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmg_Src = [2.4, 3, 3.6, 4.2, 4.8]\r\nconst dmg_ = customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_Src, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: infoMut(dmg_, { key: \"sheet:dmg\" }) }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Rainslasher\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.2, 0.24, 0.28, 0.32, 0.36]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfStormAndTide\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_,\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RedhornStonethresher\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst def_Src = [0.28, 0.35, 0.42, 0.49, 0.56]\r\nconst normal_dmg_Src = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst charged_dmg_Src = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst def_ = subscript(input.weapon.refineIndex, def_Src)\r\nconst normal_dmgInc = prod(subscript(input.weapon.refineIndex, normal_dmg_Src, { key: \"_\" }), input.premod.def)\r\nconst charged_dmgInc = prod(subscript(input.weapon.refineIndex, charged_dmg_Src, { key: \"_\" }), input.premod.def)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    def_,\r\n    normal_dmgInc, // TODO: technically should be in \"total\", but should be fine as premod\r\n    charged_dmgInc, // TODO: technically should be in \"total\", but should be fine as premod\r\n  }\r\n}, {\r\n  normal_dmgInc,\r\n  charged_dmgInc,\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: def_\r\n    }, {\r\n      node: normal_dmgInc\r\n    }, {\r\n      node: charged_dmgInc\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst crit_ = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, crit_, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    name: st(\"opponentsDamaged\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{ node: critRate_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SacrificialGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SerpentSpine\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst all_dmg_s = [0.06, 0.07, 0.08, 0.09, 0.1]\r\nconst takeDMG_s = [3, 2.7, 2.4, 2.2, 2]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Wavesplitter\")\r\nconst all_dmg_ = subscript(input.weapon.refineIndex, all_dmg_s, { key: \"_\" })\r\nconst all_dmg_stack = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 5), i => prod(all_dmg_, i)),\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_: all_dmg_stack\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"activeCharField\"),\r\n    states: {\r\n      ...objectKeyMap(range(1, 5), i => ({\r\n        name: st(\"seconds\", { count: i * 4 }),\r\n        fields: [{\r\n          node: all_dmg_stack\r\n        }, {\r\n          text: trm(\"takeMoreDmg\"),\r\n          value: data => takeDMG_s[data.get(input.weapon.refineIndex).value] * i,\r\n          unit: \"%\"\r\n        }]\r\n      })),\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkyriderGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst bonusInc = [0.06, 0.07, 0.08, 0.09, 0.1]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    name: st(\"hitOp.normalOrCharged\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{\r\n        node: atk_\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 6,\r\n        unit: \"s\"\r\n      }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardPride\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgInc = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst dmgPerc = [0.8, 1, 1.2, 1.4, 1.6]\r\nconst all_dmg_ = subscript(input.weapon.refineIndex, dmgInc)\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: all_dmg_,\r\n    }, {\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SnowTombedStarsilver\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgAoePerc = [0.8, 0.95, 1.1, 1.25, 1.4]\r\nconst dmgCryoPerc = [2, 2.4, 2.8, 3.2, 3.6]\r\nconst dmgAoe = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgAoePerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst dmgOnCryoOp = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgCryoPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmgAoe, { key: `weapon_${key}:aoeDmg` }),\r\n    }, {\r\n      node: infoMut(dmgOnCryoOp, { key: `weapon_${key}:cryoAffectedDmg` }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SongOfBrokenPines\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst atk_Src = [0.16, 0.20, 0.24, 0.28, 0.32]\r\nconst atkTeam_Src = [0.20, 0.25, 0.30, 0.35, 0.40]\r\nconst atkSPD_Src = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"RebelsBannerHymn\")\r\nconst atk_ = subscript(input.weapon.refineIndex, atk_Src, { key: \"_\" })\r\nconst atkTeam_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkTeam_Src, { key: \"atk_\" }))\r\nconst atkSPD_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkSPD_Src))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: atkTeam_,\r\n      atkSPD_,\r\n    }\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: atk_ }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    teamBuff: true,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"name\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atkTeam_\r\n        }, {\r\n          node: atkSPD_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 12,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customShieldNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheBell\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst shieldSrc = [0.2, 0.23, 0.26, 0.29, 0.32]\r\nconst allDmgSrc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"RebelliousGuardian\")\r\nconst shield = customShieldNode(prod(subscript(input.weapon.refineIndex, shieldSrc, { key: \"_\" }), input.total.hp))\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\nconst all_dmg_ = subscript(input.weapon.refineIndex, allDmgSrc, { key: \"_\" })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n}, {\r\n  shield\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"takeDmg\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: infoMut(shield, { key: `sheet_gen:dmgAbsorption` })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: 45,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }, {\r\n    value: condWithShield,\r\n    path: condWithShieldPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"protectedByShield\"),\r\n    states: {\r\n      protected: {\r\n        fields: [{\r\n          node: all_dmg_\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheUnforged\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst shieldSrc = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atkSrc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\nconst shield_ = subscript(input.weapon.refineIndex, shieldSrc)\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\nconst atkInc = subscript(input.weapon.refineIndex, atkSrc)\r\nconst atkStacks = prod(\r\n  sum(1, equal(condWithShield, \"protected\", 1)),\r\n  lookup(condPassive, Object.fromEntries(range(1, 5).map(i =>\r\n    [i, prod(atkInc, i)])), naught)\r\n)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    shield_,\r\n    atk_: atkStacks\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: shield_\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"hits\"),\r\n    states: Object.fromEntries(range(1, 5).map(i =>\r\n      [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: atkStacks\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 8,\r\n          unit: \"s\"\r\n        }]\r\n      }]\r\n    )),\r\n  }, {\r\n    value: condWithShield,\r\n    path: condWithShieldPath,\r\n    header: headerTemplate(key, icon, iconAwaken, trm(\"shield\")),\r\n    name: st(\"protectedByShield\"),\r\n    states: {\r\n      protected: {\r\n        fields: [{\r\n          text: trm(\"atkEffInc\"),\r\n          value: 100,\r\n          unit: \"%\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"WasterGreatsword\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Whiteblind\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst bonusInc = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\nconst def_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    def_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    name: st(\"hitOp.normalOrCharged\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{\r\n        node: atk_\r\n      }, {\r\n        node: def_\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 6,\r\n        unit: \"s\"\r\n      }]\r\n    }]))\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WhiteIronGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst hpRegen = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst [condPath, condNode] = cond(key, \"CullTheWeak\")\r\nconst heal = equal(condNode, 'on', customHealNode(prod(subscript(input.weapon.refineIndex, hpRegen, { key: \"_\" }), input.total.hp)))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, undefined, { heal })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condNode,\r\n    path: condPath,\r\n    name: st('afterDefeatEnemy'),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n        }]\r\n      }\r\n    }\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WolfsGravestone\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atk_Src = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst atkTeam_Src = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst [condPassivePath, condPassive] = cond(key, \"WolfishTracker\")\r\nconst atk_ = subscript(input.weapon.refineIndex, atk_Src)\r\nconst atkTeam_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkTeam_Src, { key: \"atk_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: atkTeam_,\r\n    }\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: atk_ }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    teamBuff: true,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"enemyLessPercentHP\", { percent: 50 }),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atkTeam_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 12,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponClaymoreKey } from \"../../../Types/consts\"\r\nimport WeaponSheet from \"../WeaponSheet\"\r\nimport Akuoumaru from \"./Akuoumaru\"\r\nimport BlackcliffSlasher from \"./BlackcliffSlasher\"\r\nimport BloodtaintedGreatsword from \"./BloodtaintedGreatsword\"\r\nimport DebateClub from \"./DebateClub\"\r\nimport FavoniusGreatsword from \"./FavoniusGreatsword\"\r\nimport FerrousShadow from \"./FerrousShadow\"\r\nimport KatsuragikiriNagamasa from \"./KatsuragikiriNagamasa\"\r\nimport LithicBlade from \"./LithicBlade\"\r\nimport LuxuriousSeaLord from \"./LuxuriousSeaLord\"\r\nimport OldMercsPal from \"./OldMercsPal\"\r\nimport PrototypeArchaic from \"./PrototypeArchaic\"\r\nimport Rainslasher from \"./Rainslasher\"\r\nimport RedhornStonethresher from \"./RedhornStonethresher\"\r\nimport RoyalGreatsword from \"./RoyalGreatsword\"\r\nimport SacrificialGreatsword from \"./SacrificialGreatsword\"\r\nimport SerpentSpine from \"./SerpentSpine\"\r\nimport SkyriderGreatsword from \"./SkyriderGreatsword\"\r\nimport SkywardPride from \"./SkywardPride\"\r\nimport SnowTombedStarsilver from \"./SnowTombedStarsilver\"\r\nimport SongOfBrokenPines from \"./SongOfBrokenPines\"\r\nimport TheBell from \"./TheBell\"\r\nimport TheUnforged from \"./TheUnforged\"\r\nimport WasterGreatsword from \"./WasterGreatsword\"\r\nimport Whiteblind from \"./Whiteblind\"\r\nimport WhiteIronGreatsword from \"./WhiteIronGreatsword\"\r\nimport WolfsGravestone from \"./WolfsGravestone\"\r\nconst claymore: Record<WeaponClaymoreKey, WeaponSheet> = {\r\n  Akuoumaru,\r\n  BlackcliffSlasher,\r\n  BloodtaintedGreatsword,\r\n  DebateClub,\r\n  FavoniusGreatsword,\r\n  FerrousShadow,\r\n  KatsuragikiriNagamasa,\r\n  LithicBlade,\r\n  LuxuriousSeaLord,\r\n  OldMercsPal,\r\n  PrototypeArchaic,\r\n  Rainslasher,\r\n  RedhornStonethresher,\r\n  RoyalGreatsword,\r\n  SacrificialGreatsword,\r\n  SerpentSpine,\r\n  SkyriderGreatsword,\r\n  SkywardPride,\r\n  SnowTombedStarsilver,\r\n  SongOfBrokenPines,\r\n  TheBell,\r\n  TheUnforged,\r\n  WasterGreatsword,\r\n  Whiteblind,\r\n  WhiteIronGreatsword,\r\n  WolfsGravestone,\r\n} as const\r\nexport default claymore\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"AmenomaKageuchi\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"AquilaFavonia\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atkDealt = [2, 2.3, 2.6, 2.9, 3.2]\r\nconst hpRegen = [1, 1.15, 1.3, 1.45, 1.6]\r\nconst [condPath, condNode] = cond(key, \"FalconOfTheWest\")\r\nconst atk_ = subscript(input.weapon.refineIndex, data_gen.addProps.map(x => x.atk_ ?? NaN))\r\nconst heal = equal(condNode, 'on', prod(subscript(input.weapon.refineIndex, hpRegen, { key: \"_\" }), input.premod.atk))\r\nconst dmg = equal(condNode, 'on', customDmgNode(prod(subscript(input.weapon.refineIndex, atkDealt, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n}))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n  },\r\n}, {\r\n  heal, dmg\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: atk_,\r\n    }],\r\n  }, {\r\n    value: condNode,\r\n    path: condPath,\r\n    name: st('takeDmg'),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n        }, {\r\n          node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: 15,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackcliffLongsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst opponentsDefeated = range(1, 3)\r\nconst atkInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = prod(lookup(condPassive, objectKeyMap(opponentsDefeated, i => constant(i)), 0),\r\n  subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"afterDefeatEnemy\"),\r\n    states:\r\n      Object.fromEntries(opponentsDefeated.map(c => [c, {\r\n        name: st(\"stack\", { count: c }),\r\n        fields: [{\r\n          node: atk_,\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 30,\r\n          unit: \"s\"\r\n        }]\r\n      }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CinnabarSpindle\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst eleDmgIncSrc = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst [condPassivePath, condPassive] = cond(key, \"SpotlessHeart\")\r\nconst skill_dmgInc = equal(\"on\", condPassive, prod(subscript(input.weapon.refineIndex, eleDmgIncSrc, { key: \"_\" }), input.premod.def))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: { // TODO: should be total\r\n    skill_dmgInc\r\n  }\r\n}, {\r\n  skill_dmgInc\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n      path: condPassivePath,\r\n      header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n      name: trm(\"name\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: skill_dmgInc\r\n          }]\r\n        }\r\n      }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CoolSteel\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfWaterAndIce\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_,\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DarkIronSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst atkInc = [0.2, 0.25, 0.3, 0.35, 0.5]\r\nconst [condPassivePath, condPassive] = cond(key, \"Overloaded\")\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_,\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 12,\r\n          unit: 's'\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"DullBlade\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FesteringDesire\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst skill_dmgInc = [0.16, 0.2, 0.24, 0.28, 0.32]\r\nconst skill_critInc = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, skill_dmgInc, { key: '_' })\r\nconst skill_critRate_ = subscript(input.weapon.refineIndex, skill_critInc, { key: '_' })\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    skill_critRate_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: skill_dmg_\r\n    }, {\r\n      node: skill_critRate_\r\n    }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FilletBlade\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmg_Src = [2.4, 2.8, 3.2, 3.6, 4]\r\nconst cd_Src = [15, 14, 13, 12, 11]\r\nconst dmg_ = customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_Src, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  dmg_\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg_, { key: \"sheet:dmg\" })\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: (data) => cd_Src[data.get(input.weapon.refineIndex).value],\r\n      unit: \"s\"\r\n    }]\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FreedomSworn\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"MillennialMovement\")\r\nconst autoSrc = [0.16, 0.20, 0.24, 0.28, 0.32]\r\nconst atk_Src = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst dmg_ = subscript(input.weapon.refineIndex, data_gen.addProps.map(x => x.dmg_ ?? NaN))\r\n// TODO: These should not stack, similar to NO. But I don't want to copy NO's\r\n// solution, since then these nodes won't show in the team buff panel. And it's\r\n// a bit unlikely people will try to stack this buff\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atk_Src))\r\nconst normal_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, autoSrc))\r\nconst charged_dmg_ = { ...normal_dmg_ }\r\nconst plunging_dmg_ = { ...normal_dmg_ }\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_: dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_,\r\n      normal_dmg_,\r\n      charged_dmg_,\r\n      plunging_dmg_,\r\n    }\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: dmg_ }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    teamBuff: true,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"sigilsConsumed\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          node: normal_dmg_\r\n        }, {\r\n          node: charged_dmg_\r\n        }, {\r\n          node: plunging_dmg_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 12,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"HaranGeppakuFutsu\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst passiveRefine = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst stack_normal_dmg_ = [0.2, 0.25, 0.3, 0.35, 0.4]\r\n\r\nconst [condPath, condNode] = cond(key, \"HonedFlow\")\r\nconst passive_dmg_ = Object.fromEntries(allElements.map(ele =>\r\n  [`${ele}_dmg_`,\r\n  subscript(input.weapon.refineIndex, passiveRefine, { key: `${ele}_dmg_`, variant: ele })]\r\n))\r\nconst normal_dmg_ = lookup(condNode,\r\n  objectKeyMap(range(1, 2), i => prod(i, subscript(input.weapon.refineIndex, stack_normal_dmg_)))\r\n  , naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    ...passive_dmg_,\r\n    normal_dmg_,\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [ // Passive\r\n      ...allElements.map((ele) => {\r\n        return { node: passive_dmg_[`${ele}_dmg_`] }\r\n      })\r\n    ],\r\n  }, {\r\n    value: condNode,\r\n    path: condPath,\r\n    name: trm(\"consumed\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: objectKeyMap(range(1, 2), i => ({\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{ node: normal_dmg_ }]\r\n    }))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"HarbingerOfDawn\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"SkyPiercingMight\")\r\nconst critRateSrc_ = [0.14, 0.175, 0.21, 0.245, 0.28]\r\nconst critRate_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, critRateSrc_))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_,\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"greaterPercentHP\", { percent: 90 }),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: critRate_\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"IronSting\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"InfusionStinger\")\r\nconst eleDmgDealtStack = range(1, 2)\r\nconst allDmgInc = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst all_dmg_ = prod(lookup(condPassive, objectKeyMap(eleDmgDealtStack, i => constant(i)), naught),\r\n  subscript(input.weapon.refineIndex, allDmgInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: trm(\"condName\"),\r\n    states: Object.fromEntries(eleDmgDealtStack.map(c => [c, {\r\n      name: st(\"stack\", { count: c }),\r\n      fields: [{\r\n        node: all_dmg_,\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 6,\r\n        unit: \"s\"\r\n      }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LionsRoar\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfFireAndThunder\")\r\nconst dmgInc = [0.2, 0.24, 0.28, 0.32, 0.36]\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_,\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, subscript, sum } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MistsplitterReforged\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst stacks = [\"1\", \"2\", \"3\"] as const\r\nconst passiveRefine = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst stacksRefine = {\r\n  \"1\": [0.08, 0.1, 0.12, 0.14, 0.16],\r\n  \"2\": [0.16, 0.2, 0.24, 0.28, 0.32],\r\n  \"3\": [0.28, 0.35, 0.42, 0.49, 0.56]\r\n}\r\nconst [condPath, condNode] = cond(key, \"MistsplittersEmblem\")\r\nconst passive_dmg_ = Object.fromEntries(allElements.map(ele =>\r\n  [`${ele}_dmg_`,\r\n  subscript(input.weapon.refineIndex, passiveRefine, { key: `${ele}_dmg_`, variant: ele })]\r\n))\r\nconst stacks_dmg_ = Object.fromEntries(allElements.map(ele =>\r\n  [`${ele}_dmg_`,\r\n  equal(input.charEle, ele,\r\n    lookup(condNode, objectKeyMap(stacks, stack =>\r\n      subscript(input.weapon.refineIndex, stacksRefine[stack])), naught, { key: `${ele}_dmg_`, variant: ele })\r\n  )]\r\n))\r\nconst allEle_dmg_ = Object.fromEntries(allElements.map(ele =>\r\n  [`${ele}_dmg_`,\r\n  sum(passive_dmg_[`${ele}_dmg_`], stacks_dmg_[`${ele}_dmg_`])]\r\n))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    ...allEle_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: allElements.map(ele => (\r\n      { node: passive_dmg_[`${ele}_dmg_`] }\r\n    ))\r\n  }, {\r\n    value: condNode,\r\n    path: condPath,\r\n    name: trm(\"emblem\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    states: Object.fromEntries(\r\n      stacks.map(stack => [stack, {\r\n        name: st(\"stack\", { count: parseInt(stack) }),\r\n        fields: allElements.map(ele => ({\r\n          node: stacks_dmg_[`${ele}_dmg_`]\r\n        }))\r\n      }])\r\n    )\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrimordialJadeCutter\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst hpSrc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst atkSrc = [0.012, 0.015, 0.018, 0.021, 0.024]\r\nconst hp_ = subscript(input.weapon.refineIndex, hpSrc)\r\nconst atk = prod(subscript(input.weapon.refineIndex, atkSrc, { key: \"_\" }), input.premod.hp)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    hp_,\r\n  },\r\n  total: {\r\n    atk\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: hp_ }, { node: atk }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeRancour\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst bonusInc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\nconst def_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    def_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"onHit\"),\r\n    states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{\r\n        node: atk_\r\n      }, {\r\n        node: def_\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 6,\r\n        unit: \"s\"\r\n      }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalLongsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst crit_ = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, crit_, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"opponentsDamaged\"),\r\n    states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{ node: critRate_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SacrificialSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"SilverSword\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkyriderSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Determination\")\r\nconst bonusInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = equal(condPassive, 'on', subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }))\r\nconst moveSPD_ = equal(condPassive, 'on', subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    moveSPD_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"afterUse.burst\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          node: moveSPD_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 15,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, percent, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardBlade\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"SkyPiercingMight\")\r\nconst atkSrc_ = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst moveSPD_ = equal(\"on\", condPassive, percent(0.1))\r\nconst atkSPD_ = equal(\"on\", condPassive, percent(0.1))\r\nconst dmg = equal(\"on\", condPassive, customDmgNode(prod(subscript(input.weapon.refineIndex, atkSrc_, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n}))\r\nconst critRate_ = subscript(input.weapon.refineIndex, data_gen.addProps.map(x => x.critRate_ ?? NaN))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_,\r\n    moveSPD_,\r\n    atkSPD_,\r\n  }\r\n}, { dmg })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: critRate_ }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st('afterUse.burst'),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: moveSPD_\r\n        }, {\r\n          node: atkSPD_\r\n        }, {\r\n          node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 12,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SummitShaper\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\nconst shieldSrc = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atkSrc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\nconst shield_ = subscript(input.weapon.refineIndex, shieldSrc)\r\nconst atkInc = subscript(input.weapon.refineIndex, atkSrc)\r\nconst atkStacks = prod(\r\n  sum(1, equal(condWithShield, \"protected\", 1)),\r\n  lookup(condPassive, Object.fromEntries(range(1, 5).map(i =>\r\n    [i, prod(atkInc, i)])), naught)\r\n)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    shield_,\r\n    atk_: atkStacks\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: shield_\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"hits\"),\r\n    states: Object.fromEntries(range(1, 5).map(i =>\r\n      [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: atkStacks\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 8,\r\n          unit: \"s\"\r\n        }]\r\n      }]\r\n    )),\r\n  }, {\r\n    value: condWithShield,\r\n    path: condWithShieldPath,\r\n    header: headerTemplate(key, icon, iconAwaken, trm(\"shield\")),\r\n    name: st(\"protectedByShield\"),\r\n    states: {\r\n      protected: {\r\n        fields: [{\r\n          text: trm(\"atkEffInc\"),\r\n          value: 100,\r\n          unit: \"%\"\r\n        }]\r\n      }\r\n    }\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, percent, prod } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SwordOfDescension\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atk = equal(\"Traveler\", input.charKey, constant(66))\r\nconst dmg_ = customDmgNode(prod(percent(2), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk\r\n  }\r\n}, {\r\n  dmg_\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: atk\r\n    }, {\r\n      node: infoMut(dmg_, { key: \"sheet:dmg\" })\r\n    }]\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheAlleyFlash\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"ItinerantHero\")\r\nconst bonusInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst all_dmg_ = equal(condPassive, 'on', subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheBlackSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst autoSrc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst hpRegenSrc = [0.6, 0.7, 0.8, 0.9, 1]\r\nconst normal_dmg_ = subscript(input.weapon.refineIndex, autoSrc)\r\nconst charged_dmg_ = subscript(input.weapon.refineIndex, autoSrc)\r\nconst heal = customHealNode(prod(subscript(input.weapon.refineIndex, hpRegenSrc, { key: \"_\" }), input.total.atk))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_\r\n  }\r\n}, { heal })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_dmg_\r\n    }, {\r\n      node: charged_dmg_\r\n    }, {\r\n      node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, percent, prod } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheFlute\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmg_ = customDmgNode(prod(percent(2), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  dmg_\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: infoMut(dmg_, { key: \"sheet:dmg\" }) }]\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TravelersHandySword\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst hpRegenSrc = [0.01, 0.0125, 0.015, 0.0175, 0.02]\r\nconst heal = customHealNode(prod(subscript(input.weapon.refineIndex, hpRegenSrc, { key: \"_\" }), input.total.hp))\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, { heal })\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [\r\n      { node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" }) }\r\n    ]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponSwordKey } from \"../../../Types/consts\"\r\nimport WeaponSheet from \"../WeaponSheet\"\r\nimport AmenomaKageuchi from \"./AmenomaKageuchi\"\r\nimport AquilaFavonia from \"./AquilaFavonia\"\r\nimport BlackcliffLongsword from \"./BlackcliffLongsword\"\r\nimport CinnabarSpindle from \"./CinnabarSpindle\"\r\nimport CoolSteel from \"./CoolSteel\"\r\nimport DarkIronSword from \"./DarkIronSword\"\r\nimport DullBlade from \"./DullBlade\"\r\nimport FavoniusSword from \"./FavoniusSword\"\r\nimport FesteringDesire from \"./FesteringDesire\"\r\nimport FilletBlade from \"./FilletBlade\"\r\nimport FreedomSworn from \"./FreedomSworn\"\r\nimport HaranGeppakuFutsu from \"./HaranGeppakuFutsu\"\r\nimport HarbingerOfDawn from \"./HarbingerOfDawn\"\r\nimport IronSting from \"./IronSting\"\r\nimport LionsRoar from \"./LionsRoar\"\r\nimport MistsplitterReforged from \"./MistsplitterReforged\"\r\nimport PrimordialJadeCutter from \"./PrimordialJadeCutter\"\r\nimport PrototypeRancour from \"./PrototypeRancour\"\r\nimport RoyalLongsword from \"./RoyalLongsword\"\r\nimport SacrificialSword from \"./SacrificialSword\"\r\nimport SilverSword from \"./SilverSword\"\r\nimport SkyriderSword from \"./SkyriderSword\"\r\nimport SkywardBlade from \"./SkywardBlade\"\r\nimport SummitShaper from \"./SummitShaper\"\r\nimport SwordOfDescension from \"./SwordOfDescension\"\r\nimport TheAlleyFlash from \"./TheAlleyFlash\"\r\nimport TheBlackSword from \"./TheBlackSword\"\r\nimport TheFlute from \"./TheFlute\"\r\nimport TravelersHandySword from \"./TravelersHandySword\"\r\nconst sword: Record<WeaponSwordKey, WeaponSheet> = {\r\n  AmenomaKageuchi,\r\n  AquilaFavonia,\r\n  BlackcliffLongsword,\r\n  CinnabarSpindle,\r\n  CoolSteel,\r\n  DarkIronSword,\r\n  DullBlade,\r\n  FavoniusSword,\r\n  FesteringDesire,\r\n  FilletBlade,\r\n  FreedomSworn,\r\n  HaranGeppakuFutsu,\r\n  HarbingerOfDawn,\r\n  IronSting,\r\n  LionsRoar,\r\n  MistsplitterReforged,\r\n  PrimordialJadeCutter,\r\n  PrototypeRancour,\r\n  RoyalLongsword,\r\n  SacrificialSword,\r\n  SilverSword,\r\n  SkyriderSword,\r\n  SkywardBlade,\r\n  SummitShaper,\r\n  SwordOfDescension,\r\n  TheAlleyFlash,\r\n  TheBlackSword,\r\n  TheFlute,\r\n  TravelersHandySword,\r\n} as const\r\nexport default sword\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\n\r\nconst key: WeaponKey = \"BeginnersProtector\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\nconst key: WeaponKey = \"BlackcliffPole\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst opponentsDefeated = range(1, 3)\r\nconst atkInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = prod(lookup(condPassive, objectKeyMap(opponentsDefeated, i => constant(i)), 0),\r\n  subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"afterDefeatEnemy\"),\r\n    states:\r\n      Object.fromEntries(opponentsDefeated.map(c => [c, {\r\n        name: st(\"stack\", { count: c }),\r\n        fields: [{\r\n          node: atk_,\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 30,\r\n          unit: \"s\"\r\n        }]\r\n      }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackTassel\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_,\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, matchFull, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CalamityQueller\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\n// const [condActivePath, condActive] = cond(key, \"active\")\r\n\r\nconst dmg_ = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = [0.032, 0.04, 0.048, 0.056, 0.064]\r\n\r\nconst dmg_Nodes = Object.fromEntries(allElements.map(e => [`${e}_dmg_`, subscript(input.weapon.refineIndex, dmg_)]))\r\nconst atkInc = prod(\r\n  matchFull(input.activeCharKey, input.charKey,\r\n    constant(1, { /* TODO: Add key for active char */ }),\r\n    constant(2, { /* TODO: Add key for inactive char */ })),\r\n  lookup(condStack, objectKeyMap(range(1, 6), i => constant(i)), 0), // TODO: Add key for stack\r\n  subscript(input.weapon.refineIndex, atk_, { key: '_' }),\r\n)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    ...dmg_Nodes,\r\n    atk_: atkInc,\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: Object.values(dmg_Nodes).map(node => ({ node })),\r\n  }, {\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: tr(\"passiveName\"),\r\n    states: Object.fromEntries(range(1, 6).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{ node: atkInc }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CrescentPike\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst atkInc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst [condPassivePath, condPassive] = cond(key, \"InfusionNeedle\")\r\nconst hit = equal(condPassive, 'on', customDmgNode(prod(input.total.atk, subscript(input.weapon.refineIndex, atkInc, { key: \"_\" })), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n}))\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  hit\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: infoMut(hit, { key: `weapon_${key}:hitName` })\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Deathmatch\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst atkDefInc = [0.16, 0.2, 0.24, 0.28, 0.32]\r\nconst atkInc = [0.24, 0.3, 0.36, 0.42, 0.48]\r\nconst atk_ = lookup(condStack, { \"oneOrNone\": subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), \"moreThanOne\": subscript(input.weapon.refineIndex, atkDefInc, { key: \"_\" }) }, naught)\r\nconst def_ = equal(condStack, \"moreThanOne\", subscript(input.weapon.refineIndex, atkDefInc, { key: \"_\" }))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    def_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      \"oneOrNone\": {\r\n        name: trm(\"opponents.oneOrNone\"),\r\n        fields: [{ node: atk_ }, { node: def_ }]\r\n      },\r\n      \"moreThanOne\": {\r\n        name: trm(\"opponents.moreThanOne\"),\r\n        fields: [{ node: atk_ }, { node: def_ }]\r\n      },\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DragonsBane\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.2, 0.24, 0.28, 0.32, 0.36]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfFlameAndWater\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_,\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DragonspineSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgAoePerc = [0.8, 0.95, 1.1, 1.25, 1.4]\r\nconst dmgCryoPerc = [2, 2.4, 2.8, 3.2, 3.6]\r\nconst dmgAoe = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgAoePerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst dmgOnCryoOp = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgCryoPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmgAoe, { key: `weapon_${key}:aoeDmg` }),\r\n    }, {\r\n      node: infoMut(dmgOnCryoOp, { key: `weapon_${key}:cryoAffectedDmg` }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, min, percent, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"EngulfingLightning\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atk = [0.28, 0.35, 0.42, 0.49, 0.56]\r\nconst atkMax = [0.8, 0.9, 1, 1.1, 1.2]\r\nconst atk_ = min(prod(subscript(input.weapon.refineIndex, atk), sum(input.premod.enerRech_, percent(-1))), subscript(input.weapon.refineIndex, atkMax))\r\n\r\nconst enerRech = [0.3, 0.35, 0.40, 0.45, 0.5, 0.55]\r\nconst [condPassivePath, condPassive] = cond(key, \"TimelessDream\")\r\nconst enerRech_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, enerRech))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    enerRech_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: atk_,\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"afterUse.burst\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: enerRech_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 12,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusLance\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Halberd\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgPerc = [1.6, 2, 2.4, 2.8, 3.2]\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\n\r\nconst key: WeaponKey = \"IronPoint\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"KitainCrossSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst skill_dmgInc = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, skill_dmgInc)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: skill_dmg_,\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LithicSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst atkInc = [0.07, 0.08, 0.09, 0.1, 0.11]\r\nconst critInc = [0.03, 0.04, 0.05, 0.06, 0.07]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), i)), naught)\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, critInc, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n      name: st(\"member\", { count: i }),\r\n      fields: [{ node: atk_ }, { node: critRate_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrimordialJadeWingedSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst atkInc = [0.032, 0.039, 0.046, 0.053, 0.06]\r\nconst allDmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 7), i => prod(subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), i)), naught)\r\nconst all_dmg_ = equal(condStack, \"7\", subscript(input.weapon.refineIndex, allDmgInc, { key: \"_\" }))\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    all_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"hitOp.none\"),\r\n    states: Object.fromEntries(range(1, 7).map(i => [i, {\r\n      name: st(\"hits\", { count: i }),\r\n      fields: [{ node: atk_ }, { node: all_dmg_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeStarglitter\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst dmgInc = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst normal_dmg_ = lookup(condStack, objectKeyMap(range(1, 2), i => prod(subscript(input.weapon.refineIndex, dmgInc, { key: \"_\" }), i)), naught)\r\nconst charged_dmg_ = lookup(condStack, objectKeyMap(range(1, 2), i => prod(subscript(input.weapon.refineIndex, dmgInc, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"afterUse.skill\"),\r\n    states: Object.fromEntries(range(1, 2).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{ node: normal_dmg_ }, { node: charged_dmg_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst crit_ = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, crit_, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"opponentsDamaged\"),\r\n    states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{ node: critRate_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, percent, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardSpine\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst critRateInc = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst dmgPerc = [0.4, 0.55, 0.7, 0.85, 1]\r\nconst atkSPD_ = percent(0.12)\r\nconst critRate_ = subscript(input.weapon.refineIndex, critRateInc)\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_,\r\n    atkSPD_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: critRate_,\r\n    }, {\r\n      node: atkSPD_,\r\n    }, {\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, infoMut, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"StaffOfHoma\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst hpInc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst atkInc = [0.008, 0.01, 0.012, 0.014, 0.016]\r\nconst lowHpAtkInc = [0.01, 0.012, 0.014, 0.016, 0.018]\r\nconst hp_ = subscript(input.weapon.refineIndex, hpInc, { key: \"_\" })\r\nconst [condPassivePath, condPassive] = cond(key, \"RecklessCinnabar\")\r\nconst atk1_ = prod(subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), input.premod.hp)\r\nconst atk2_ = equal(\"on\", condPassive, prod(subscript(input.weapon.refineIndex, lowHpAtkInc, { key: \"_\" }), input.premod.hp), { key: \"atk\" })\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    hp_,\r\n  },\r\n  total: {\r\n    atk: sum(atk1_, atk2_)\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: hp_\r\n    }, {\r\n      node: infoMut(atk1_, { key: \"atk\" })\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken),\r\n    name: st(\"lessPercentHP\", { percent: 50 }),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk2_,\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheCatch\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst burstDmgSrc_ = [0.16, 0.2, 0.24, 0.28, 0.32]\r\nconst burstCritSrc_ = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst burst_dmg_ = subscript(input.weapon.refineIndex, burstDmgSrc_)\r\nconst burst_critRate_ = subscript(input.weapon.refineIndex, burstCritSrc_)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_,\r\n    burst_critRate_,\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: burst_dmg_ }, { node: burst_critRate_ }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"VortexVanquisher\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst shieldSrc = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atkSrc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\nconst shield_ = subscript(input.weapon.refineIndex, shieldSrc)\r\n\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\n\r\nconst atkInc = subscript(input.weapon.refineIndex, atkSrc)\r\nconst atkStacks = prod(\r\n  sum(1, equal(condWithShield, \"protected\", 1)),\r\n  lookup(condPassive, Object.fromEntries(range(1, 5).map(i =>\r\n    [i, prod(atkInc, i)])), naught)\r\n)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    shield_,\r\n    atk_: atkStacks\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: shield_\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"hits\"),\r\n    states: Object.fromEntries(range(1, 5).map(i =>\r\n      [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: atkStacks\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 8,\r\n          unit: \"s\"\r\n        }]\r\n      }]\r\n    )),\r\n  }, {\r\n    value: condWithShield,\r\n    path: condWithShieldPath,\r\n    header: headerTemplate(key, icon, iconAwaken, trm(\"shield\")),\r\n    name: st(\"protectedByShield\"),\r\n    states: {\r\n      protected: {\r\n        fields: [{\r\n          text: trm(\"atkEffInc\"),\r\n          value: 100,\r\n          unit: \"%\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, min, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WavebreakersFin\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"WatatsumiWavewalker\")\r\nconst energyRange = range(4, 36).map(i => i * 10)\r\nconst ratio = [0.0012, 0.0015, 0.0018, 0.0021, 0.0024]\r\nconst max = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst burst_dmg_ = lookup(condPassive, Object.fromEntries(energyRange.map(i => [i, min(prod(subscript(input.weapon.refineIndex, ratio, { key: \"_\" }), i), subscript(input.weapon.refineIndex, max, { key: \"_\" }))])), naught)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken),\r\n    name: trm(\"party\"),\r\n    states: Object.fromEntries(energyRange.map(i => [i, {\r\n      name: i.toString(),\r\n      fields: [{ node: burst_dmg_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WhiteTassel\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgInc = [0.24, 0.30, 0.36, 0.42, 0.48]\r\nconst normal_dmg_ = subscript(input.weapon.refineIndex, dmgInc)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_dmg_,\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponPoleArmKey } from '../../../Types/consts'\r\nimport WeaponSheet from '../WeaponSheet'\r\nimport BeginnersProtector from './BeginnersProtector'\r\nimport BlackcliffPole from './BlackcliffPole'\r\nimport BlackTassel from './BlackTassel'\r\nimport CalamityQueller from './CalamityQueller'\r\nimport CrescentPike from './CrescentPike'\r\nimport Deathmatch from './Deathmatch'\r\nimport DragonsBane from './DragonsBane'\r\nimport DragonspineSpear from './DragonspineSpear'\r\nimport EngulfingLightning from './EngulfingLightning'\r\nimport FavoniusLance from './FavoniusLance'\r\nimport Halberd from './Halberd'\r\nimport IronPoint from './IronPoint'\r\nimport KitainCrossSpear from './KitainCrossSpear'\r\nimport LithicSpear from './LithicSpear'\r\nimport PrimordialJadeWingedSpear from './PrimordialJadeWingedSpear'\r\nimport PrototypeStarglitter from './PrototypeStarglitter'\r\nimport RoyalSpear from './RoyalSpear'\r\nimport SkywardSpine from './SkywardSpine'\r\nimport StaffOfHoma from './StaffOfHoma'\r\nimport TheCatch from './TheCatch'\r\nimport VortexVanquisher from './VortexVanquisher'\r\nimport WavebreakersFin from './WavebreakersFin'\r\nimport WhiteTassel from './WhiteTassel'\r\nconst polearm: Record<WeaponPoleArmKey, WeaponSheet> = {\r\n  BeginnersProtector,\r\n  BlackcliffPole,\r\n  BlackTassel,\r\n  CalamityQueller,\r\n  CrescentPike,\r\n  Deathmatch,\r\n  DragonsBane,\r\n  DragonspineSpear,\r\n  EngulfingLightning,\r\n  FavoniusLance,\r\n  Halberd,\r\n  IronPoint,\r\n  KitainCrossSpear,\r\n  LithicSpear,\r\n  PrimordialJadeWingedSpear,\r\n  PrototypeStarglitter,\r\n  RoyalSpear,\r\n  SkywardSpine,\r\n  StaffOfHoma,\r\n  TheCatch,\r\n  VortexVanquisher,\r\n  WavebreakersFin,\r\n  WhiteTassel,\r\n} as const\r\nexport default polearm\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"AlleyHunter\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst dmgInc = [.02, .025, .03, .035, .04]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"OppidanAmbush\")\r\nconst all_dmg_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 10), i => prod(subscript(input.weapon.refineIndex, dmgInc), i))\r\n}, naught)\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: Object.fromEntries(range(1, 10).map(c => [c, {\r\n      name: st(\"seconds\", { count: c }),\r\n      fields: [{\r\n        node: all_dmg_\r\n      }],\r\n    }]))\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"AmosBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst autoDmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst arrowDmgInc = [0.08, 0.10, 0.12, 0.14, 0.16]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"StrongWilled\")\r\nconst normal_dmg_ = subscript(input.weapon.refineIndex, autoDmgInc, { key: \"normal_dmg_\" })\r\nconst charged_dmg_ = subscript(input.weapon.refineIndex, autoDmgInc, { key: \"charged_dmg_\" })\r\n\r\nconst dmgInc = subscript(input.weapon.refineIndex, arrowDmgInc)\r\nconst normal_dmg_arrow_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 5), i => prod(dmgInc, i)),\r\n}, naught, { key: \"normal_dmg_\" })\r\nconst charged_dmg_arrow_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 5), i => prod(dmgInc, i)),\r\n}, naught, { key: \"charged_dmg_\" })\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_: sum(normal_dmg_, normal_dmg_arrow_),\r\n    charged_dmg_: sum(charged_dmg_, charged_dmg_arrow_),\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_dmg_\r\n    }, {\r\n      node: charged_dmg_\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: trm(\"condName\"),\r\n    states: objectKeyMap(range(1, 5), i => ({\r\n      name: st(\"seconds\", { count: i / 10 }),\r\n      fields: [{\r\n        node: normal_dmg_arrow_\r\n      }, {\r\n        node: charged_dmg_arrow_\r\n      }]\r\n    })),\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackcliffWarbow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst atkInc = [.12, .15, .18, .21, .24]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst atk_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 3), i => prod(subscript(input.weapon.refineIndex, atkInc), i))\r\n}, naught)\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"afterDefeatEnemy\"),\r\n    states: Object.fromEntries(range(1, 3).map(c => [c, {\r\n      name: st(\"stack\", { count: c }),\r\n      fields: [{\r\n        node: atk_\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 30,\r\n        unit: 's'\r\n      }],\r\n    }]))\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CompoundBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atk_s = [.04, .05, .06, .07, .08]\r\nconst atkSPD_s = [0.012, 0.015, 0.018, 0.021, 0.024]\r\nconst [condPassivePath, condPassive] = cond(key, \"InfusionArrow\")\r\nconst atk_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, atk_s), i))\r\n}, naught)\r\nconst atkSPD_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, atkSPD_s), i))\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    atkSPD_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"hitOp.normalOrCharged\"),\r\n    states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n      name: st(\"hits\", { count: i }),\r\n      fields: [{\r\n        node: atk_\r\n      }, {\r\n        node: atkSPD_\r\n      }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"ElegyForTheEnd\"\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst data_gen = data_gen_json as WeaponData\r\nconst eleMasInc = [60, 75, 90, 105, 120]\r\nconst eleMasInc2 = [100, 125, 150, 175, 200]\r\nconst atk_s = [0.20, 0.25, 0.30, 0.35, 0.40]\r\n\r\nconst [condPath, condNode] = cond(key, \"ThePartingRefrain\")\r\nconst eleMas = subscript(input.weapon.refineIndex, eleMasInc, { key: \"eleMas\" })\r\n// TODO: These should not stack, similar to NO. But I don't want to copy NO's\r\n// solution, since then these nodes won't show in the team buff panel. And it's\r\n// a bit unlikely people will try to stack this buff\r\nconst eleMas2 = equal(condNode, 'on', subscript(input.weapon.refineIndex, eleMasInc2, { key: \"eleMas\" }))\r\nconst atk_ = equal(condNode, 'on', subscript(input.weapon.refineIndex, atk_s,))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    eleMas,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_,\r\n      eleMas: eleMas2\r\n    }\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: eleMas,\r\n    }],\r\n  }, {\r\n    value: condNode,\r\n    path: condPath,\r\n    teamBuff: true,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: eleMas2\r\n        }, {\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 12,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusWarbow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Hamayumi\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst normal_dmg_s = [.16, .20, .24, .28, .32]\r\nconst charged_dmg_s = [.12, .15, .18, .21, .24]\r\n\r\nconst normal_dmg = subscript(input.weapon.refineIndex, normal_dmg_s, { key: \"normal_dmg_\" })\r\nconst charged_dmg = subscript(input.weapon.refineIndex, charged_dmg_s, { key: \"charged_dmg_\" })\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"FullDraw\")\r\nconst normal_passive = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, normal_dmg_s, { key: \"normal_dmg_\" }))\r\nconst charged_passive = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, charged_dmg_s, { key: \"charged_dmg_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_: sum(normal_dmg, normal_passive),\r\n    charged_dmg_: sum(charged_dmg, charged_passive)\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_dmg\r\n    }, {\r\n      node: charged_dmg\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: normal_passive\r\n        }, {\r\n          node: charged_passive\r\n        }]\r\n      }\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"HuntersBow\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Messenger\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmg_s = [1, 1.25, 1.5, 1.75, 2]\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_s), input.total.atk), \"elemental\", { hit: { ele: constant(\"physical\") } })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n    }]\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MitternachtsWaltz\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst skill_dmg_s = [.20, .25, .30, .35, .40]\r\nconst normal_dmg_s = [.20, .25, .30, .35, .40]\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"EvernightDuetSkill\")\r\nconst [condNormalPath, condNormal] = cond(key, \"EvernightDuetNormal\")\r\n\r\nconst skill_dmg_ = equal(condSkill, \"on\", subscript(input.weapon.refineIndex, skill_dmg_s))\r\nconst normal_dmg_ = equal(condNormal, \"on\", subscript(input.weapon.refineIndex, normal_dmg_s))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    normal_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condNormal,\r\n    path: condNormalPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"hitOp.skill\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: normal_dmg_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 5,\r\n          unit: 's'\r\n        }]\r\n      }\r\n    }\r\n  }, {\r\n    value: condSkill,\r\n    path: condSkillPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"hitOp.normal\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: skill_dmg_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 5,\r\n          unit: 's'\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, min, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MouunsMoon\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"WatatsumiWavewalker\")\r\nconst energyRange = range(4, 36).map(i => i * 10)\r\nconst ratio = [0.0012, 0.0015, 0.0018, 0.0021, 0.0024]\r\nconst max = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst burst_dmg_ = lookup(condPassive, Object.fromEntries(energyRange.map(i => [i, min(prod(subscript(input.weapon.refineIndex, ratio, { key: \"_\" }), i), subscript(input.weapon.refineIndex, max, { key: \"_\" }))])), naught)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"party\"),\r\n    states: Object.fromEntries(energyRange.map(i => [i, {\r\n      name: i.toString(),\r\n      fields: [{ node: burst_dmg_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PolarStar\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst eleSrc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst ashenStack1 = [0.1, 0.125, 0.15, 0.175, 0.2]\r\nconst ashenStack2 = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst ashenStack3 = [0.3, 0.375, 0.45, 0.528, 0.6]\r\nconst ashenStack4 = [0.48, 0.6, 0.72, 0.84, 0.96]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\n\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, eleSrc)\r\nconst burst_dmg_ = subscript(input.weapon.refineIndex, eleSrc)\r\nconst atk_ = lookup(condPassive, {\r\n  \"1\": subscript(input.weapon.refineIndex, ashenStack1), \"2\": subscript(input.weapon.refineIndex, ashenStack2),\r\n  \"3\": subscript(input.weapon.refineIndex, ashenStack3), \"4\": subscript(input.weapon.refineIndex, ashenStack4),\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    burst_dmg_,\r\n    atk_\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: skill_dmg_,\r\n    }, {\r\n      node: burst_dmg_,\r\n    }]\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: trm(\"condName\"),\r\n    states: objectKeyMap(range(1, 4), i => ({\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{\r\n        node: atk_\r\n      }]\r\n    }))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, lookup, naught, percent, prod } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Predator\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst normalInc = percent(.1)\r\nconst chargedInc = percent(.1)\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst normal_dmg_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 2), i => prod(normalInc, i))\r\n}, naught)\r\nconst charged_dmg_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 2), i => prod(chargedInc, i))\r\n}, naught)\r\nconst atk = equal(input.activeCharKey, \"Aloy\", constant(66))\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_,\r\n    atk\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"hitOp.cryo\"),\r\n    states: Object.fromEntries(range(1, 2).map(c => [c, {\r\n      name: st(\"stack\", { count: c }),\r\n      fields: [{\r\n        node: normal_dmg_\r\n      }, {\r\n        node: charged_dmg_\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 6,\r\n        unit: 's'\r\n      }],\r\n    }]))\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, percent, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeCrescent\"\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atk_s = [.36, .45, .54, .63, .72]\r\nconst [condPassivePath, condPassive] = cond(key, \"Unreturning\")\r\nconst atk_ = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, atk_s))\r\nconst moveSPD_ = equal(condPassive, \"on\", percent(.1))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    moveSPD_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          node: moveSPD_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 10,\r\n          unit: 's'\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RavenBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst all_dmg_s = [.12, .15, .18, .21, .24]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfFlameAndWater\")\r\nconst all_dmg_ = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, all_dmg_s))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_\r\n        }]\r\n      }\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RecurveBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst healing_s = [.08, .10, .12, .14, .16]\r\nconst healing = customHealNode(prod(input.total.hp, subscript(input.weapon.refineIndex, healing_s)))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(healing, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n    }]\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst critRate_s = [.08, .10, .12, .14, .16]\r\nconst [condPassivePath, condPassive] = cond(key, \"Focus\")\r\nconst critRate_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, critRate_s), i))\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"opponentsDamaged\"),\r\n    states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{\r\n        node: critRate_\r\n      }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Rust\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst normal_dmg_s = [.4, .5, .6, .7, .8]\r\n\r\nconst normal_dmg_ = subscript(input.weapon.refineIndex, normal_dmg_s)\r\nconst charged_dmg_ = constant(-0.1)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_dmg_\r\n    }, {\r\n      node: charged_dmg_\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SacrificialBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"SeasonedHuntersBow\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SharpshootersOath\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst weakspotDMG_s = [.24, .30, .36, .42, .48]\r\nconst weakspotDMG_ = subscript(input.weapon.refineIndex, weakspotDMG_s)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    weakspotDMG_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: weakspotDMG_\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, percent, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardHarp\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst critd_s = [.20, .25, .30, .35, .40]\r\nconst dmgPerc = percent(1.25)\r\nconst critDMG_ = subscript(input.weapon.refineIndex, critd_s)\r\nconst dmg = customDmgNode(prod(dmgPerc, input.total.atk), \"elemental\", { hit: { ele: constant(\"physical\") } })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critDMG_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: critDMG_\r\n    }, {\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n    }]\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, percent, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Slingshot\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst normal_atk_increase_s = [.46, .52, .58, .64, .70] // Increased by 10% to counteract the decrease\r\nconst charged_atk_increase_s = [.46, .52, .58, .64, .70]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Slingshot\")\r\nconst normal_atk_increase = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, normal_atk_increase_s), { key: \"normal_dmg_\" })\r\nconst charged_atk_increase = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, charged_atk_increase_s), { key: \"charged_dmg_\" })\r\nconst normal_atk_decrease = percent(-0.1, { key: \"normal_dmg_\" })\r\nconst charged_atk_decrease = percent(-0.1, { key: \"charged_dmg_\" })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_: sum(normal_atk_increase, normal_atk_decrease),\r\n    charged_dmg_: sum(charged_atk_increase, normal_atk_decrease)\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_atk_decrease\r\n    }, {\r\n      node: charged_atk_decrease\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: trm(\"condName\"),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: normal_atk_increase\r\n        }, {\r\n          node: charged_atk_increase\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheStringless\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst refinementVals = [0.24, 0.30, 0.36, 0.42, 0.48]\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, refinementVals)\r\nconst burst_dmg_ = subscript(input.weapon.refineIndex, refinementVals)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    burst_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: skill_dmg_,\r\n    }, {\r\n      node: burst_dmg_,\r\n    }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheViridescentHunt\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgPerc_s = [.4, .5, .6, .7, .8]\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc_s), input.total.atk), \"elemental\", { hit: { ele: constant(\"physical\") } })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n    }]\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"ThunderingPulse\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst atkSrc = [0.20, 0.25, 0.30, 0.35, 0.40]\r\nconst naStack1 = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst naStack2 = [0.24, 0.3, 0.36, 0.42, 0.48]\r\nconst naStack3 = [0.4, 0.5, 0.6, 0.7, 0.8]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"RuleByThunder\")\r\nconst atk_ = subscript(input.weapon.refineIndex, atkSrc)\r\nconst normal_dmg_ = lookup(condPassive, {\r\n  \"1\": subscript(input.weapon.refineIndex, naStack1), \"2\": subscript(input.weapon.refineIndex, naStack2), \"3\": subscript(input.weapon.refineIndex, naStack3)\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    normal_dmg_\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: atk_,\r\n    }]\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: trm(\"condName\"),\r\n    states: objectKeyMap(range(1, 3), i => ({\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{\r\n        node: normal_dmg_\r\n      }]\r\n    })),\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WindblumeOde\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atk_s = [.16, .20, .24, .28, .32]\r\nconst [condPassivePath, condPassive] = cond(key, \"WindblumeWish\")\r\nconst atk_ = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, atk_s))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: st(\"afterUse.skill\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 6,\r\n          unit: 's'\r\n        }]\r\n      }\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponBowKey } from '../../../Types/consts'\r\nimport WeaponSheet from '../WeaponSheet'\r\nimport AlleyHunter from './AlleyHunter'\r\nimport AmosBow from \"./AmosBow\"\r\nimport BlackcliffWarbow from './BlackcliffWarbow'\r\nimport CompoundBow from './CompoundBow'\r\nimport ElegyForTheEnd from \"./ElegyForTheEnd\"\r\nimport FavoniusWarbow from './FavoniusWarbow'\r\nimport Hamayumi from './Hamayumi'\r\nimport HuntersBow from \"./HuntersBow\"\r\nimport Messenger from './Messenger'\r\nimport MitternachtsWaltz from './MitternachtsWaltz'\r\nimport MouunsMoon from './MouunsMoon'\r\nimport PolarStar from './PolarStar'\r\nimport Predator from './Predator'\r\nimport PrototypeCrescent from './PrototypeCrescent'\r\nimport RavenBow from './RavenBow'\r\nimport RecurveBow from './RecurveBow'\r\nimport RoyalBow from './RoyalBow'\r\nimport Rust from './Rust'\r\nimport SacrificialBow from \"./SacrificialBow\"\r\nimport SeasonedHuntersBow from './SeasonedHuntersBow'\r\nimport SharpshootersOath from './SharpshootersOath'\r\nimport SkywardHarp from './SkywardHarp'\r\nimport Slingshot from './Slingshot'\r\nimport TheStringless from './TheStringless'\r\nimport TheViridescentHunt from './TheViridescentHunt'\r\nimport ThunderingPulse from './ThunderingPulse'\r\nimport WindblumeOde from './WindblumeOde'\r\nconst bow: Record<WeaponBowKey, WeaponSheet> = {\r\n  AlleyHunter,\r\n  AmosBow,\r\n  BlackcliffWarbow,\r\n  CompoundBow,\r\n  ElegyForTheEnd,\r\n  FavoniusWarbow,\r\n  Hamayumi,\r\n  HuntersBow,\r\n  Messenger,\r\n  MitternachtsWaltz,\r\n  MouunsMoon,\r\n  PolarStar,\r\n  Predator,\r\n  PrototypeCrescent,\r\n  RavenBow,\r\n  RecurveBow,\r\n  RoyalBow,\r\n  Rust,\r\n  SacrificialBow,\r\n  SeasonedHuntersBow,\r\n  SharpshootersOath,\r\n  SkywardHarp,\r\n  Slingshot,\r\n  TheStringless,\r\n  TheViridescentHunt,\r\n  ThunderingPulse,\r\n  WindblumeOde,\r\n} as const\r\nexport default bow\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"ApprenticesNotes\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackcliffAgate\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst opponentsDefeated = range(1, 3)\r\nconst atkInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = prod(lookup(condPassive, objectKeyMap(opponentsDefeated, i => constant(i)), 0),\r\n  subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"afterDefeatEnemy\"),\r\n    states: Object.fromEntries(opponentsDefeated.map(c => [c, {\r\n      name: st(\"stack\", { count: c }),\r\n      fields: [{\r\n        node: atk_,\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 30,\r\n        unit: \"s\"\r\n      }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DodocoTales\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst chargedDmgInc = [0.16, 0.2, 0.24, 0.28, 0.32]\r\nconst atkInc = [0.8, 0.10, 0.12, 0.14, 0.16]\r\n\r\nconst [condNormalPath, condNormal] = cond(key, \"DodoventureNormal\")\r\nconst [condChargedPath, condCharged] = cond(key, \"DodoventureCharged\")\r\nconst charged_dmg_ = equal(\"on\", condNormal, subscript(input.weapon.refineIndex, chargedDmgInc))\r\nconst atk_ = equal(\"on\", condCharged, subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    charged_dmg_,\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condNormal,\r\n    path: condNormalPath,\r\n    name: st(\"hitOp.normal\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: charged_dmg_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 6,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }, {\r\n    value: condCharged,\r\n    path: condChargedPath,\r\n    name: st(\"hitOp.charged\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 6,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"EmeraldOrb\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst atkInc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Rapids\")\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 12,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"EverlastingMoonglow\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst hp_conv = [0.01, 0.015, 0.02, 0.025, 0.03]\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst normal_dmgInc = prod(subscript(input.weapon.refineIndex, hp_conv, { key: '_' }), input.premod.hp)\r\nconst heal_ = subscript(input.weapon.refineIndex, data_gen.addProps.map(x => x.heal_ ?? NaN))\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmgInc, // TODO: technically should be in \"total\", but should be fine as premod\r\n    heal_\r\n  }\r\n}, {\r\n  normal_dmgInc\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: heal_\r\n    }, {\r\n      text: trm(\"name\"),\r\n      node: normal_dmgInc,\r\n    }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"EyeOfPerception\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmg_Src = [2.4, 2.7, 3, 3.3, 3.6]\r\nconst dmg_ = customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_Src, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  dmg_\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: infoMut(dmg_, { key: \"sheet:dmg\" }) }],\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusCodex\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Frostbearer\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgAoePerc = [0.8, 0.95, 1.1, 1.25, 1.4]\r\nconst dmgCryoPerc = [2, 2.4, 2.8, 3.2, 3.6]\r\nconst dmgAoe = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgAoePerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst dmgOnCryoOp = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgCryoPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  dmgAoe,\r\n  dmgOnCryoOp\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmgAoe, { key: `weapon_${key}:aoeDmg` }),\r\n    }, {\r\n      node: infoMut(dmgOnCryoOp, { key: `weapon_${key}:cryoAffectedDmg` }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport ColorText from '../../../../Components/ColoredText'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, subscript, unequal } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"HakushinRing\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst refinementEleBonusSrc = [0.1, 0.125, 0.15, 0.175, 0.2]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"SakuraSaiguu\")\r\nconst eleDmg = subscript(input.weapon.refineIndex, refinementEleBonusSrc)\r\nconst anemo_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"anemo\", condPassive, eleDmg))\r\nconst cryo_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"cryo\", condPassive, eleDmg))\r\nconst geo_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"geo\", condPassive, eleDmg))\r\nconst hydro_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"hydro\", condPassive, eleDmg))\r\nconst pyro_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"pyro\", condPassive, eleDmg))\r\n\r\nconst electro_dmg_ = unequal(input.activeCharKey, input.charKey, lookup(condPassive, { \"anemo\": eleDmg, \"cryo\": eleDmg, \"geo\": eleDmg, \"hydro\": eleDmg, \"pyro\": eleDmg }, naught))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  teamBuff: {\r\n    premod: {\r\n      anemo_dmg_,\r\n      cryo_dmg_,\r\n      electro_dmg_,\r\n      geo_dmg_,\r\n      hydro_dmg_,\r\n      pyro_dmg_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"afterElectroReaction\"),\r\n      canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n      teamBuff: true,\r\n      header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n      states: {\r\n        anemo: {\r\n          name: <ColorText color=\"swirl\">{sgt(\"reaction.swirl\")}</ColorText>,\r\n          fields: [{\r\n            node: anemo_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        cryo: {\r\n          name: <ColorText color=\"superconduct\">{sgt(\"reaction.Superconduct\")}</ColorText>,\r\n          fields: [{\r\n            node: cryo_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        geo: {\r\n          name: <ColorText color=\"crystallize\">{sgt(\"reaction.crystallize\")}</ColorText>,\r\n          fields: [{\r\n            node: geo_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        pyro: {\r\n          name: <ColorText color=\"overload\">{sgt(\"reaction.overloaded\")}</ColorText>,\r\n          fields: [{\r\n            node: pyro_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        hydro: {\r\n          name: <ColorText color=\"electrocharged\">{sgt(\"reaction.electrocharged\")}</ColorText>,\r\n          fields: [{\r\n            node: hydro_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript, sum } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"KagurasVerity\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPath, condNode] = cond(key, \"KaguraDance\")\r\nconst totems = range(1, 3)\r\nconst dmg_ = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst skill_dmg_s = totems.map(i => equal(condNode, i.toString(), subscript(input.weapon.refineIndex, dmg_.map(d => d * i)), { key: \"skill_dmg_\" }))\r\nconst ele_dmg_s = Object.fromEntries(allElements.map(ele => [ele, equal(condNode, \"3\", subscript(input.weapon.refineIndex, dmg_))]))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_: sum(...skill_dmg_s),\r\n    ...Object.fromEntries(allElements.map(ele => [`${ele}_dmg_`, ele_dmg_s[ele]]))\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condNode,\r\n    path: condPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"afterUse.skill\"),\r\n    states:\r\n      Object.fromEntries(totems.map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: skill_dmg_s[i - 1]\r\n        },\r\n        ...allElements.map(ele => ({ node: ele_dmg_s[ele] }))]\r\n      }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, percent, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LostPrayerToTheSacredWinds\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst ele_dmg_s = [0.08, 0.10, 0.12, 0.14, 0.16]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"BoundlessBlessing\")\r\n\r\nconst moveSPD_ = percent(0.1)\r\nconst eleDmgInc = subscript(input.weapon.refineIndex, ele_dmg_s, { key: \"_\" })\r\nconst eleDmgStacks = Object.fromEntries(allElements.map(ele => [ele, lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 4), i => prod(eleDmgInc, i)),\r\n}, naught)]))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    moveSPD_,\r\n    ...Object.fromEntries(allElements.map(ele => [`${ele}_dmg_`, eleDmgStacks[ele]])),\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: moveSPD_ }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"activeCharField\"),\r\n    states: objectKeyMap(range(1, 4), i => ({\r\n      name: st(\"seconds\", { count: i * 4 }),\r\n      fields: allElements.map(ele => ({ node: eleDmgStacks[ele] }))\r\n    }))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MagicGuide\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfStormAndTide\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm(\"condName\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: all_dmg_,\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, objectKeyValueMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MappaMare\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"InfusionScroll\")\r\n\r\nconst dmgBonus = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst allDmgInc = subscript(input.weapon.refineIndex, dmgBonus)\r\nconst eleDmgs = objectKeyValueMap(allElements, e => [`${e}_dmg_`, lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 2), i => prod(allDmgInc, i))\r\n}, naught)])\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: eleDmgs\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: trm(\"condName\"),\r\n    states: objectKeyMap(range(1, 2), i => ({\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [...Object.values(eleDmgs).map(node => ({ node })), {\r\n        text: sgt(\"duration\"),\r\n        value: 10,\r\n        unit: \"s\"\r\n      }]\r\n    }))\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MemoryOfDust\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst shieldSrc = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atkSrc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\nconst shield_ = subscript(input.weapon.refineIndex, shieldSrc)\r\n\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\n\r\nconst atkInc = subscript(input.weapon.refineIndex, atkSrc)\r\nconst atkStacks = prod(\r\n  sum(1, equal(condWithShield, \"protected\", 1)),\r\n  lookup(condPassive, Object.fromEntries(range(1, 5).map(i =>\r\n    [i, prod(atkInc, i)])), naught)\r\n)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    shield_,\r\n    atk_: atkStacks\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: shield_\r\n    }],\r\n  }, {\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"hits\"),\r\n    states: Object.fromEntries(range(1, 5).map(i =>\r\n      [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: atkStacks\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 8,\r\n          unit: \"s\"\r\n        }]\r\n      }]\r\n    )),\r\n  }, {\r\n    value: condWithShield,\r\n    path: condWithShieldPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"protectedByShield\"),\r\n    states: {\r\n      protected: {\r\n        fields: [{\r\n          text: trm(\"atkEffInc\"),\r\n          value: 100,\r\n          unit: \"%\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"OathswornEye\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst refinementVals = [0.24, 0.30, 0.36, 0.42, 0.48]\r\n\r\nconst [condSkillBurstPath, condSkillBurst] = cond(key, \"faLight\")\r\nconst refineVal = subscript(input.weapon.refineIndex, refinementVals)\r\nconst enerRech_ = equal(\"skillBurst\", condSkillBurst, refineVal)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    enerRech_,\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condSkillBurst,\r\n    path: condSkillBurstPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"afterUse.skill\"),\r\n    states: {\r\n      skillBurst: {\r\n        fields: [{\r\n          node: enerRech_\r\n        }]\r\n      },\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"OtherworldlyStory\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst healPerc = [0.01, 0.0125, 0.015, 0.0175, 0.02]\r\nconst heal = customHealNode(prod(subscript(input.weapon.refineIndex, healPerc, { key: \"_\" }), input.total.hp))\r\nexport const data = dataObjForWeaponSheet(key, data_gen, undefined, { heal })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n    }]\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PocketGrimoire\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeAmber\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Gliding\")\r\nconst healPerc = [0.04, 0.045, 0.05, 0.055, 0.06]\r\n\r\nconst heal = customHealNode(prod(subscript(input.weapon.refineIndex, healPerc, { key: \"_\" }), input.total.hp))\r\nexport const data = dataObjForWeaponSheet(key, data_gen, undefined, { heal })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: st(\"afterUse.burst\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{ node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" }) }]\r\n      }\r\n    }\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalGrimoire\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst crit_ = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, crit_, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condStack,\r\n    path: condStackPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"stacks\")),\r\n    name: st(\"opponentsDamaged\"),\r\n    states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n      name: st(\"stack\", { count: i }),\r\n      fields: [{ node: critRate_ }]\r\n    }]))\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SacrificialFragments\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{ header: headerTemplate(key, icon, iconAwaken), fields: [] }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from \"../../WeaponSheet\"\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardAtlas\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst dmgBonus = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst eleBonus_ = Object.fromEntries(allElements.map(ele => [ele, subscript(input.weapon.refineIndex, dmgBonus)]))\r\nconst dmgPerc = [1.6, 2, 2.4, 2.8, 3.2]\r\n\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    ...Object.fromEntries(allElements.map(ele => [`${ele}_dmg_`, eleBonus_[ele]])),\r\n  }\r\n}, { dmg })\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"base\")),\r\n    fields: [\r\n      ...allElements.map(ele => ({ node: eleBonus_[ele] })),\r\n      {\r\n        node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n      }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SolarPearl\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst refinementVals = [0.20, 0.25, 0.30, 0.35, 0.40]\r\n\r\nconst [condNormalPath, condNormal] = cond(key, \"solarShineNormal\")\r\nconst [condSkillBurstPath, condSkillBurst] = cond(key, \"solarShineSkillBurst\")\r\nconst refineVal = subscript(input.weapon.refineIndex, refinementVals)\r\nconst skill_dmg_ = equal(\"normal\", condNormal, refineVal)\r\nconst burst_dmg_ = { ...skill_dmg_ }\r\nconst normal_dmg_ = equal(\"skillBurst\", condSkillBurst, refineVal)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    burst_dmg_,\r\n    normal_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condNormal,\r\n    path: condNormalPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"hitOp.normal\"),\r\n    states: {\r\n      normal: {\r\n        fields: [{\r\n          node: skill_dmg_\r\n        }, {\r\n          node: burst_dmg_\r\n        }]\r\n      }\r\n    }\r\n  }, {\r\n    value: condSkillBurst,\r\n    path: condSkillBurstPath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: st(\"hitOp.skillOrBurst\"),\r\n    states: {\r\n      skillBurst: {\r\n        fields: [{\r\n          node: normal_dmg_\r\n        }]\r\n      },\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\nconst key: WeaponKey = \"TheWidsith\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst refinementAtkVals = [0.6, 0.75, 0.9, 1.05, 1.2]\r\nconst refinementEleDmgVals = [0.48, 0.6, 0.72, 0.84, 0.96]\r\nconst refinementEleMasVals = [240, 300, 360, 420, 480]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Debut\")\r\nconst atk_ = equal(\"recitative\", condPassive, subscript(input.weapon.refineIndex, refinementAtkVals))\r\nconst anemo_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst cryo_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst electro_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst geo_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst hydro_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst pyro_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst eleMas = equal(\"interlude\", condPassive, subscript(input.weapon.refineIndex, refinementEleMasVals))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    anemo_dmg_,\r\n    cryo_dmg_,\r\n    electro_dmg_,\r\n    geo_dmg_,\r\n    hydro_dmg_,\r\n    pyro_dmg_,\r\n    eleMas\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    name: tr(\"passiveName\"),\r\n    states: {\r\n      aria: {\r\n        name: trm(\"aria\"),\r\n        fields: [{\r\n          node: anemo_dmg_\r\n        }, {\r\n          node: cryo_dmg_\r\n        }, {\r\n          node: electro_dmg_\r\n        }, {\r\n          node: geo_dmg_\r\n        }, {\r\n          node: hydro_dmg_\r\n        }, {\r\n          node: pyro_dmg_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 10,\r\n          unit: \"s\"\r\n        }]\r\n      },\r\n      interlude: {\r\n        name: trm(\"interlude\"),\r\n        fields: [{\r\n          node: eleMas\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 10,\r\n          unit: \"s\"\r\n        }]\r\n      },\r\n      recitative: {\r\n        name: trm(\"recitative\"),\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 10,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input, target } from '../../../../Formula'\r\nimport { equal, infoMut, subscript, unequal } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"ThrillingTalesOfDragonSlayers\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [, trm] = trans(\"weapon\", key)\r\n\r\nconst atkSrc = [0.24, 0.3, 0.36, 0.42, 0.48]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Heritage\")\r\nconst atk_Disp = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkSrc))\r\nconst atk_ = equal(input.activeCharKey, target.charKey, atk_Disp)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  teamBuff: {\r\n    premod: {\r\n      atk_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: trm('condName'),\r\n    canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n    teamBuff: true,\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: infoMut(atk_Disp, { key: \"atk_\" })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 10,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TwinNephrite\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst refineInc = [0.12, 0.14, 0.16, 0.18, 0.2]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GuerillaTactics\")\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, refineInc))\r\nconst moveSPD_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, refineInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    moveSPD_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: st(\"afterDefeatEnemy\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          node: moveSPD_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 15,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { headerTemplate, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WineAndSong\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atkInc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"EverChanging\")\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    value: condPassive,\r\n    path: condPassivePath,\r\n    name: st(\"afterSprint\"),\r\n    header: headerTemplate(key, icon, iconAwaken, st(\"conditional\")),\r\n    states: {\r\n      on: {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 5,\r\n          unit: \"s\"\r\n        }]\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponCatalystKey } from '../../../Types/consts'\r\nimport WeaponSheet from '../WeaponSheet'\r\nimport ApprenticesNotes from './ApprenticesNotes'\r\nimport BlackcliffAgate from './BlackcliffAgate'\r\nimport DodocoTales from './DodocoTales'\r\nimport EmeraldOrb from './EmeraldOrb'\r\nimport EverlastingMoonglow from './EverlastingMoonglow'\r\nimport EyeOfPerception from './EyeOfPerception'\r\nimport FavoniusCodex from './FavoniusCodex'\r\nimport Frostbearer from './Frostbearer'\r\nimport HakushinRing from './HakushinRing'\r\nimport KagurasVerity from './KagurasVerity'\r\nimport LostPrayerToTheSacredWinds from './LostPrayerToTheSacredWinds'\r\nimport MagicGuide from './MagicGuide'\r\nimport MappaMare from './MappaMare'\r\nimport MemoryOfDust from './MemoryOfDust'\r\nimport OathswornEye from './OathswornEye'\r\nimport OtherworldlyStory from './OtherworldlyStory'\r\nimport PocketGrimoire from './PocketGrimoire'\r\nimport PrototypeAmber from './PrototypeAmber'\r\nimport RoyalGrimoire from './RoyalGrimoire'\r\nimport SacrificialFragments from './SacrificialFragments'\r\nimport SkywardAtlas from './SkywardAtlas'\r\nimport SolarPearl from './SolarPearl'\r\nimport TheWidsith from './TheWidsith'\r\nimport ThrillingTalesOfDragonSlayers from './ThrillingTalesOfDragonSlayers'\r\nimport TwinNephrite from './TwinNephrite'\r\nimport WineAndSong from './WineAndSong'\r\nconst catalyst: Record<WeaponCatalystKey, WeaponSheet> = {\r\n  ApprenticesNotes,\r\n  BlackcliffAgate,\r\n  DodocoTales,\r\n  EmeraldOrb,\r\n  EverlastingMoonglow,\r\n  EyeOfPerception,\r\n  FavoniusCodex,\r\n  Frostbearer,\r\n  HakushinRing,\r\n  KagurasVerity,\r\n  LostPrayerToTheSacredWinds,\r\n  MagicGuide,\r\n  MappaMare,\r\n  MemoryOfDust,\r\n  OathswornEye,\r\n  OtherworldlyStory,\r\n  PocketGrimoire,\r\n  PrototypeAmber,\r\n  RoyalGrimoire,\r\n  SacrificialFragments,\r\n  SkywardAtlas,\r\n  SolarPearl,\r\n  TheWidsith,\r\n  ThrillingTalesOfDragonSlayers,\r\n  TwinNephrite,\r\n  WineAndSong,\r\n} as const\r\nexport default catalyst\r\n","import claymore from './Claymore'\r\nimport sword from './Sword'\r\nimport polearm from './Polearm'\r\nimport bow from './Bow'\r\nimport { WeaponKey } from '../../Types/consts'\r\nimport catalyst from './Catalyst'\r\nimport WeaponSheet from './WeaponSheet'\r\n\r\nconst WeaponData: Record<WeaponKey, WeaponSheet> = {\r\n  ...sword,\r\n  ...claymore,\r\n  ...polearm,\r\n  ...bow,\r\n  ...catalyst\r\n} as const\r\nexport default WeaponData\r\n","import { transformativeReactions } from \"../KeyMap/StatConstants\";\r\nimport { absorbableEle } from \"../Types/consts\";\r\nimport { objectKeyMap } from \"../Util/Util\";\r\nimport { input } from \"./index\";\r\nimport { frac, infoMut, percent, prod, subscript, sum, unit } from \"./utils\";\r\n\r\n// https://github.com/Dimbreath/GenshinData/blob/72c9112a7c5e8e5014f61009a1a2764e266aeab7/ExcelBinOutput/ElementCoeffExcelConfigData.json\r\n//   or if the permalink is dead,\r\n// https://github.com/Dimbreath/GenshinData/blob/master/ExcelBinOutput/ElementCoeffExcelConfigData.json\r\n//\r\n// PlayerElementLevelCo\r\nexport const transformativeReactionLevelMultipliers = [-1.0, // lvl 0\r\n  17.165606, 18.535048, 19.904854, 21.274902, 22.6454, 24.649612, 26.640642, 28.868587, 31.36768, 34.143345, 37.201, 40.66, 44.446667, 48.56352, 53.74848, 59.081898, 64.420044, 69.72446, 75.12314, 80.58478, 86.11203, 91.70374, 97.24463, 102.812645, 108.40956, 113.20169, 118.102905, 122.97932, 129.72733, 136.29291, 142.67085, 149.02902, 155.41699, 161.8255, 169.10631, 176.51808, 184.07274, 191.70952, 199.55692, 207.38205, 215.3989, 224.16566, 233.50217, 243.35057, 256.06308, 268.5435, 281.52606, 295.01364, 309.0672, 323.6016, 336.75754, 350.5303, 364.4827, 378.61917, 398.6004, 416.39825, 434.387, 452.95105, 472.60623, 492.8849, 513.56854, 539.1032, 565.51056, 592.53876, 624.4434, 651.47015, 679.4968, 707.79407, 736.67145, 765.64026, 794.7734, 824.67737, 851.1578, 877.74207, 914.2291, 946.74677, 979.4114, 1011.223, 1044.7917, 1077.4437, 1109.9976, 1142.9766, 1176.3695, 1210.1844, 1253.8357, 1288.9528, 1325.4841, 1363.4569, 1405.0974, 1446.8535]\r\n// PlayerShieldLevelCo\r\nexport const crystallizeLevelMultipliers = [-1.0, // lvl 0\r\n  91.1791, 98.707664, 106.23622, 113.76477, 121.29332, 128.82188, 136.35042, 143.87898, 151.40752, 158.93608, 169.99149, 181.07625, 192.19037, 204.0482, 215.939, 227.86275, 247.68594, 267.5421, 287.4312, 303.82642, 320.22522, 336.62762, 352.31927, 368.01093, 383.70255, 394.43237, 405.18146, 415.94992, 426.73764, 437.5447, 450.6, 463.7003, 476.84558, 491.1275, 502.55457, 514.0121, 531.4096, 549.9796, 568.5849, 584.9965, 605.67035, 626.3862, 646.0523, 665.7556, 685.4961, 700.8394, 723.3331, 745.8653, 768.4357, 786.79193, 809.5388, 832.32904, 855.16266, 878.0396, 899.4848, 919.362, 946.0396, 974.7642, 1003.5786, 1030.077, 1056.635, 1085.2463, 1113.9244, 1149.2587, 1178.0648, 1200.2238, 1227.6603, 1257.243, 1284.9174, 1314.7529, 1342.6652, 1372.7524, 1396.321, 1427.3124, 1458.3745, 1482.3358, 1511.9109, 1541.5493, 1569.1537, 1596.8143, 1622.4197, 1648.074, 1666.3761, 1684.6782, 1702.9803, 1726.1047, 1754.6715, 1785.8666, 1817.1375, 1851.0603]\r\n\r\n\r\nconst asConst = true as const\r\n\r\nconst crystallizeMulti1 = subscript(input.lvl, crystallizeLevelMultipliers)\r\nconst crystallizeElemas = prod(40 / 9, frac(input.total.eleMas, 1400))\r\nconst crystallizeHit = infoMut(prod(sum(unit, /** + Crystallize bonus */ crystallizeElemas), crystallizeMulti1), { key: \"crystallize\", variant: \"geo\" })\r\n\r\nconst transMulti1 = subscript(input.lvl, transformativeReactionLevelMultipliers)\r\nconst transMulti2 = prod(16, frac(input.total.eleMas, 2000))\r\nconst trans = {\r\n  ...objectKeyMap([\"overloaded\", \"electrocharged\", \"superconduct\", \"shattered\"] as const, reaction => {\r\n    const { multi, variants: [ele] } = transformativeReactions[reaction]\r\n    return infoMut(prod(\r\n      infoMut(prod(multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total[`${reaction}_dmg_`]),\r\n      input.enemy[`${ele}_resMulti`]),\r\n      { key: `${reaction}_hit`, variant: reaction })\r\n  }),\r\n  swirl: objectKeyMap(transformativeReactions.swirl.variants, ele => infoMut(\r\n    prod(\r\n      infoMut(prod(transformativeReactions.swirl.multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total.swirl_dmg_),\r\n      input.enemy[`${ele}_resMulti`]),\r\n    { key: `${ele}_swirl_hit`, variant: ele }))\r\n}\r\nexport const reactions = {\r\n  anemo: {\r\n    electroSwirl: trans.swirl.electro,\r\n    pyroSwirl: trans.swirl.pyro,\r\n    cryoSwirl: trans.swirl.cryo,\r\n    hydroSwirl: trans.swirl.hydro,\r\n    shattered: trans.shattered,\r\n  },\r\n  geo: {\r\n    crystallize: crystallizeHit,\r\n    ...Object.fromEntries(absorbableEle.map(e => [`${e}Crystallize`,\r\n    infoMut(prod(percent(2.5), crystallizeHit), { key: `${e}_crystallize`, variant: e })])),\r\n    shattered: trans.shattered,\r\n  },\r\n  electro: {\r\n    overloaded: trans.overloaded,\r\n    electrocharged: trans.electrocharged,\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n  hydro: {\r\n    electrocharged: trans.electrocharged,\r\n    shattered: trans.shattered,\r\n  },\r\n  pyro: {\r\n    overloaded: trans.overloaded,\r\n    shattered: trans.shattered,\r\n  },\r\n  cryo: {\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n}\r\n"],"names":["charCurves","objectMap","_charCurves","value","Object","values","commonBasic","objectKeyMap","key","input","infusionNode","stringPrio","inferredHitEle","lookup","undefined","sword","claymore","polearm","catalyst","getTalentType","move","customDmgNode","base","additional","data","mergeData","hit","constant","ele","customShieldNode","shieldNode","prod","sum","unit","customHealNode","healNode","dmgNode","lvlMultiplier","talentType","subscript","percent","flat","shieldNodeTalent","baseMultiplier","talentIndex","shieldElement","element","infoMut","variant","healNodeTalent","dataObjForCharacterSheet","region","gen","display","curve","lvlCurve","basic","foundSpecial","charKey","weaponType","weaponTypeKey","premod","charEle","teamBuff","tally","reaction","reactions","layeredAssignment","physical_dmg_","stat","list","curves","push","ascensions","some","x","props","map","NaN","length","result","prefix","asConst","endsWith","info","slice","Error","special","allMainStatKeys","inferInfoMut","weaponCurves","fromEntries","entries","_weaponCurves","dataObjForWeaponSheet","displayWeapon","total","weapon","type","mainStat","subStat","merging","mainStatNode","ascension","addStats","main","substatNode","sub","data_gen","data_gen_json","trans","trm","cond","condPassivePath","condPassive","energyRange","range","i","ratio","max","burst_dmg_","min","naught","sheet","icon","iconAwaken","document","path","header","headerTemplate","st","name","states","toString","fields","node","WeaponSheet","opponentsDefeated","atk_","c","count","text","sgt","all_dmg_","equal","on","dmg","charged_dmg_","skill_dmg_","condStackPath","condStack","atkInc","critInc","critRate_","dmg_","def_","normal_dmgInc","charged_dmgInc","crit_","takeDMG_s","all_dmg_stack","get","bonusInc","dmgAoe","dmgOnCryoOp","atkTeam_","atkSPD_","shield","condWithShieldPath","condWithShield","protected","shield_","atkStacks","condPath","condNode","heal","Akuoumaru","BlackcliffSlasher","BloodtaintedGreatsword","DebateClub","FavoniusGreatsword","FerrousShadow","KatsuragikiriNagamasa","LithicBlade","LuxuriousSeaLord","OldMercsPal","PrototypeArchaic","Rainslasher","RedhornStonethresher","RoyalGreatsword","SacrificialGreatsword","SerpentSpine","SkyriderGreatsword","SkywardPride","SnowTombedStarsilver","SongOfBrokenPines","TheBell","TheUnforged","WasterGreatsword","Whiteblind","WhiteIronGreatsword","WolfsGravestone","addProps","skill_dmgInc","skill_critRate_","cd_Src","normal_dmg_","plunging_dmg_","passiveRefine","stack_normal_dmg_","passive_dmg_","allElements","eleDmgDealtStack","stacks","stacksRefine","stacks_dmg_","stack","allEle_dmg_","parseInt","hp_","atk","moveSPD_","autoSrc","AmenomaKageuchi","AquilaFavonia","BlackcliffLongsword","CinnabarSpindle","CoolSteel","DarkIronSword","DullBlade","FavoniusSword","FesteringDesire","FilletBlade","FreedomSworn","HaranGeppakuFutsu","HarbingerOfDawn","IronSting","LionsRoar","MistsplitterReforged","PrimordialJadeCutter","PrototypeRancour","RoyalLongsword","SacrificialSword","SilverSword","SkyriderSword","SkywardBlade","SummitShaper","SwordOfDescension","TheAlleyFlash","TheBlackSword","TheFlute","TravelersHandySword","tr","dmg_Nodes","e","matchFull","atkDefInc","enerRech_","dmgInc","atk1_","atk2_","burst_critRate_","BeginnersProtector","BlackcliffPole","BlackTassel","CalamityQueller","CrescentPike","Deathmatch","DragonsBane","DragonspineSpear","EngulfingLightning","FavoniusLance","Halberd","IronPoint","KitainCrossSpear","LithicSpear","PrimordialJadeWingedSpear","PrototypeStarglitter","RoyalSpear","SkywardSpine","StaffOfHoma","TheCatch","VortexVanquisher","WavebreakersFin","WhiteTassel","autoDmgInc","normal_dmg_arrow_","charged_dmg_arrow_","atk_s","atkSPD_s","eleMas","eleMas2","normal_dmg_s","charged_dmg_s","normal_dmg","charged_dmg","normal_passive","charged_passive","condSkillPath","condSkill","condNormalPath","condNormal","eleSrc","normalInc","chargedInc","healing","critRate_s","weakspotDMG_","dmgPerc","critDMG_","normal_atk_increase","charged_atk_increase","normal_atk_decrease","charged_atk_decrease","refinementVals","bow","AlleyHunter","AmosBow","BlackcliffWarbow","CompoundBow","ElegyForTheEnd","FavoniusWarbow","Hamayumi","HuntersBow","Messenger","MitternachtsWaltz","MouunsMoon","PolarStar","Predator","PrototypeCrescent","RavenBow","RecurveBow","RoyalBow","Rust","SacrificialBow","SeasonedHuntersBow","SharpshootersOath","SkywardHarp","Slingshot","TheStringless","TheViridescentHunt","ThunderingPulse","WindblumeOde","condChargedPath","condCharged","heal_","eleDmg","anemo_dmg_","unequal","cryo_dmg_","geo_dmg_","hydro_dmg_","pyro_dmg_","electro_dmg_","canShow","anemo","color","cryo","geo","pyro","hydro","totems","skill_dmg_s","d","ele_dmg_s","eleDmgInc","eleDmgStacks","allDmgInc","eleDmgs","objectKeyValueMap","condSkillBurstPath","condSkillBurst","refineVal","skillBurst","dmgBonus","eleBonus_","normal","refinementEleDmgVals","aria","interlude","recitative","atk_Disp","target","refineInc","ApprenticesNotes","BlackcliffAgate","DodocoTales","EmeraldOrb","EverlastingMoonglow","EyeOfPerception","FavoniusCodex","Frostbearer","HakushinRing","KagurasVerity","LostPrayerToTheSacredWinds","MagicGuide","MappaMare","MemoryOfDust","OathswornEye","OtherworldlyStory","PocketGrimoire","PrototypeAmber","RoyalGrimoire","SacrificialFragments","SkywardAtlas","SolarPearl","TheWidsith","ThrillingTalesOfDragonSlayers","TwinNephrite","WineAndSong","crystallizeMulti1","crystallizeElemas","frac","crystallizeHit","transMulti1","transMulti2","transformativeReactions","multi","variants","swirl","electroSwirl","electro","pyroSwirl","cryoSwirl","hydroSwirl","shattered","crystallize","absorbableEle","overloaded","electrocharged","superconduct"],"sourceRoot":""}