"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[923],{44361:function(e,n,i){i.d(n,{Z:function(){return C}});var t=i(93433),s=i(29439),r=i(39504),l=i(61889),o=i(94721),c=i(66647),a=i(68870),d=i(20890),u=i(72791),x=i(9350),p=i(42320),Z=i(24351),h=i(66218),j=i(3992),v=i(71310),f=i(68198),m=i(55942),g=i(9321),y=i(10157),w=i(73578),k=i(80184);function C(e){var n=e.show,i=e.onHide,C=e.onSelect,b=e.filter,P=void 0===b?function(){return!0}:b,S=e.weaponFilter,W=(0,p.Z)(h.Z.getAll,[]),L=(0,u.useState)(null!==S&&void 0!==S?S:""),T=(0,s.Z)(L,2),J=T[0],R=T[1];(0,u.useEffect)((function(){return S&&R(S)}),[S]);var A=W?(0,t.Z)(new Set(Z.fG)).filter((function(e){return P(W[e])})).filter((function(e){var n;return!J||J===(null===W||void 0===W||null===(n=W[e])||void 0===n?void 0:n.weaponType)})).sort((function(e,n){var i,t,s,r;return(null!==(i=null===W||void 0===W||null===(t=W[n])||void 0===t?void 0:t.rarity)&&void 0!==i?i:0)-(null!==(s=null===W||void 0===W||null===(r=W[e])||void 0===r?void 0:r.rarity)&&void 0!==s?s:0)})):[];return W?(0,k.jsx)(g.Z,{open:n,onClose:i,children:(0,k.jsxs)(j.Z,{children:[(0,k.jsx)(r.Z,{sx:{py:1},children:(0,k.jsxs)(l.ZP,{container:!0,children:[(0,k.jsx)(l.ZP,{item:!0,flexGrow:1,children:(0,k.jsx)(w.Z,{value:J,onChange:R,disabled:!!S,size:"small"})}),(0,k.jsx)(l.ZP,{item:!0,children:(0,k.jsx)(f.Z,{onClick:i})})]})}),(0,k.jsx)(o.Z,{}),(0,k.jsx)(r.Z,{children:(0,k.jsx)(l.ZP,{container:!0,spacing:1,children:A.map((function(e){var n,t=W[e];return(0,k.jsx)(l.ZP,{item:!0,lg:3,md:4,children:(0,k.jsx)(v.Z,{sx:{height:"100%"},children:(0,k.jsxs)(c.Z,{onClick:function(){i(),C(e)},sx:{display:"flex"},children:[(0,k.jsx)(a.Z,{component:"img",src:t.img,sx:{width:100,height:"auto"},className:" grad-".concat(t.rarity,"star")}),(0,k.jsxs)(a.Z,{sx:{flexGrow:1,px:1},children:[(0,k.jsx)(d.Z,{variant:"subtitle1",children:t.name}),(0,k.jsxs)(d.Z,{children:[(0,k.jsx)(m.Z,{src:null===(n=x.Z.weaponTypes)||void 0===n?void 0:n[t.weaponType]})," ",(0,k.jsx)(y.t,{stars:t.rarity,colored:!0})]})]})]})})},e)}))})}),(0,k.jsx)(o.Z,{}),(0,k.jsx)(r.Z,{sx:{py:1},children:(0,k.jsx)(f.Z,{large:!0,onClick:i})})]})}):null}},74476:function(e,n,i){i.r(n),i.d(n,{default:function(){return K}});var t=i(93433),s=i(29439),r=i(40117),l=i(62002),o=i(39504),c=i(61889),a=i(68870),d=i(20890),u=i(2199),x=i(24518),p=i(23786),Z=i(94721),h=i(9585),j=i(15021),v=i(72791),f=i(3992),m=i(71310),g=i(36944),y=i(68198),w=i(10600),k=i(37503),C=i(33890),b=i(88034),P=i(9321),S=i(10157),W=i(44361),L=i(947),T=i(2139),J=i(66218),R=i(56928),A=i(2693),I=i(26138),D=i(73036),G=i(42320),N=i(74480),z=i(60393),E=i(80184);function K(e){var n,i=e.weaponId,K=e.footer,B=void 0!==K&&K,F=e.onClose,H=e.extraButtons,M=(0,v.useContext)(A.R).data,U=(0,v.useContext)(R.t).database,_=(0,N.Z)(i),X=null!==_&&void 0!==_?_:{},q=X.key,O=void 0===q?"":q,Q=X.level,V=void 0===Q?0:Q,Y=X.refinement,$=void 0===Y?0:Y,ee=X.ascension,ne=void 0===ee?0:ee,ie=X.lock,te=X.location,se=void 0===te?"":te,re=X.id,le=(0,G.Z)(J.Z.get(O),[O]),oe=(0,v.useCallback)((function(e){U.updateWeapon(e,i)}),[i,U]),ce=(0,v.useCallback)((function(e){e=(0,z.uZ)(e,1,90);var n=T.SJ.findIndex((function(n){return e<=n}));oe({level:e,ascension:n})}),[oe]),ae=(0,v.useCallback)((function(){var e=T.SJ.findIndex((function(e){return 90!==V&&V===e}));oe(ne===e?{ascension:ne+1}:{ascension:e})}),[oe,ne,V]),de=(0,G.Z)(se?L.Z.get(se):void 0,[se]),ue=de?function(e){return e.weaponType===de.weaponTypeKey}:void 0,xe=de&&de.weaponTypeKey,pe=(0,v.useCallback)((function(e){return re&&U.setWeaponLocation(re,e)}),[U,re]),Ze=(0,v.useCallback)((function(e){return e.weaponTypeKey===(null===le||void 0===le?void 0:le.weaponType)}),[le]),he=(0,v.useState)(!1),je=(0,s.Z)(he,2),ve=je[0],fe=je[1],me=ne<2?null===le||void 0===le?void 0:le.img:null===le||void 0===le?void 0:le.imgAwaken;(0,v.useEffect)((function(){if(le&&oe&&le.key===(null===_||void 0===_?void 0:_.key)&&le.rarity<=2&&(V>70||ne>4)){var e=(0,s.Z)(T.Xu[0],2),n=e[0],i=e[1];oe({level:n,ascension:i})}}),[le,_,oe,V,ne]);var ge=(0,v.useMemo)((function(){return le&&_&&(0,D.mP)([le.data,(0,D.v0)(_)])}),[le,_]);return(0,E.jsx)(P.Z,{open:!!i,onClose:F,containerProps:{maxWidth:"md"},children:(0,E.jsxs)(m.Z,{children:[(0,E.jsx)(W.Z,{show:ve,onHide:function(){return fe(!1)},onSelect:function(e){return oe({key:e})},filter:ue,weaponFilter:xe}),(0,E.jsx)(o.Z,{children:le&&ge&&(0,E.jsxs)(c.ZP,{container:!0,spacing:1.5,children:[(0,E.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,E.jsxs)(c.ZP,{container:!0,spacing:1.5,children:[(0,E.jsx)(c.ZP,{item:!0,xs:6,sm:12,children:(0,E.jsx)(a.Z,{component:"img",src:me,className:"grad-".concat(le.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,E.jsx)(c.ZP,{item:!0,xs:6,sm:12,children:(0,E.jsx)(d.Z,{children:(0,E.jsx)("small",{children:le.description})})})]})}),(0,E.jsxs)(c.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,E.jsx)(a.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,E.jsxs)(u.Z,{children:[(0,E.jsx)(x.Z,{onClick:function(){return fe(!0)},children:null!==(n=null===le||void 0===le?void 0:le.name)&&void 0!==n?n:"Select a Weapon"}),(null===le||void 0===le?void 0:le.hasRefinement)&&(0,E.jsxs)(C.Z,{title:"Refinement ".concat($),children:[(0,E.jsx)(p.Z,{children:"Select Weapon Refinement"}),(0,E.jsx)(Z.Z,{}),(0,t.Z)(Array(5).keys()).map((function(e){return(0,E.jsx)(p.Z,{onClick:function(){return oe({refinement:e+1})},selected:$===e+1,disabled:$===e+1,children:"Refinement ".concat(e+1)},e)}))]}),H]})}),(0,E.jsxs)(a.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[(0,E.jsxs)(u.Z,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[(0,E.jsx)(w.CC,{children:(0,E.jsx)(w.ZP,{onChange:ce,value:V,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),le&&(0,E.jsx)(x.Z,{sx:{pl:1},disabled:!le.ambiguousLevel(V),onClick:ae,children:(0,E.jsxs)("strong",{children:["/ ",T.SJ[ne]]})}),le&&(0,E.jsx)(C.Z,{title:"Select Level",children:le.milestoneLevels.map((function(e){var n=(0,s.Z)(e,2),i=n[0],t=n[1],r=i===T.SJ[t]?"Lv. ".concat(i):"Lv. ".concat(i,"/").concat(T.SJ[t]),l=i===V&&t===ne;return(0,E.jsx)(p.Z,{selected:l,disabled:l,onClick:function(){return oe({level:i,ascension:t})},children:r},"".concat(i,"/").concat(t))}))})]}),(0,E.jsx)(x.Z,{color:"error",onClick:function(){return re&&U.updateWeapon({lock:!ie},re)},startIcon:ie?(0,E.jsx)(r.Z,{}):(0,E.jsx)(l.Z,{}),children:ie?"Locked":"Unlocked"})]}),(0,E.jsx)(d.Z,{children:(0,E.jsx)(S.t,{stars:le.rarity})}),(0,E.jsx)(d.Z,{variant:"subtitle1",children:(0,E.jsx)("strong",{children:le.passiveName})}),(0,E.jsx)(d.Z,{gutterBottom:!0,children:le.passiveName&&le.passiveDescription(ge.get(I.ri.weapon.refineIndex).value)}),(0,E.jsxs)(a.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(h.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,E.jsx)(Z.Z,{}),(0,E.jsx)(b.lD,{children:[I.ri.weapon.main,I.ri.weapon.sub,I.ri.weapon.sub2].map((function(e,n){var i=ge.get(e);return i.isEmpty||!i.value?null:(0,E.jsx)(b.JW,{node:i,component:j.ZP},i.info.key)}))})]}),M&&le.document&&(0,E.jsx)(k.Z,{sections:le.document})]})]})]})}),B&&re&&(0,E.jsx)(o.Z,{sx:{py:1},children:(0,E.jsxs)(c.ZP,{container:!0,children:[(0,E.jsx)(c.ZP,{item:!0,flexGrow:1,children:(0,E.jsx)(g.Z,{noUnselect:!0,inventory:!0,value:se,onChange:pe,filter:Ze})}),!!F&&(0,E.jsx)(c.ZP,{item:!0,children:(0,E.jsx)(y.Z,{large:!0,onClick:F})})]})})]})})}}}]);
//# sourceMappingURL=923.c16a1be5.chunk.js.map