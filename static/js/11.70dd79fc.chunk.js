(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[11],{163:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(170);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(64);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,c=function(){};return{s:c,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}},170:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},175:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return a}))},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=function(e){var t=Object(r.useRef)(e);return t.current=e,t}(e);Object(r.useEffect)((function(){return function(){return t.current()}}),[])}},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(62),a=n(0),c=function(e){var t;return"undefined"===typeof document?null:null==e?Object(r.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function o(e,t){var n=Object(a.useState)((function(){return c(e)})),r=n[0],o=n[1];if(!r){var i=c(e);i&&o(i)}return Object(a.useEffect)((function(){t&&r&&t(r)}),[t,r]),Object(a.useEffect)((function(){var t=c(e);t!==r&&o(t)}),[e,r]),r}},182:function(e,t,n){"use strict";var r=n(2),a=n(4),c=n(5),o=n.n(c),i=n(0),u=n.n(i),s=n(7),l=u.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.size,i=e.toggle,l=e.vertical,f=e.className,d=e.as,h=void 0===d?"div":d,b=Object(a.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),v=Object(s.a)(n,"btn-group"),p=v;return l&&(p=v+"-vertical"),u.a.createElement(h,Object(r.a)({},b,{ref:t,className:o()(f,p,c&&v+"-"+c,i&&v+"-toggle")}))}));l.displayName="ButtonGroup",l.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=l},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r);function c(e,t){var n=0;return a.a.Children.map(e,(function(e){return a.a.isValidElement(e)?t(e,n++):e}))}},188:function(e,t,n){"use strict";var r=n(2),a=n(4),c=n(5),o=n.n(c),i=n(0),u=n.n(i),s=n(6),l=n.n(s),f=n(7),d=(l.a.string,l.a.bool,l.a.bool,l.a.bool,l.a.bool,u.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.className,i=e.fluid,s=e.rounded,l=e.roundedCircle,d=e.thumbnail,h=Object(a.a)(e,["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"]);n=Object(f.a)(n,"img");var b=o()(i&&n+"-fluid",s&&"rounded",l&&"rounded-circle",d&&n+"-thumbnail");return u.a.createElement("img",Object(r.a)({ref:t},h,{className:o()(c,b)}))})));d.displayName="Image",d.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},t.a=d},200:function(e,t,n){"use strict";var r=n(2),a=n(4),c=n(5),o=n.n(c),i=n(0),u=n.n(i),s=n(44),l=function(){},f=u.a.forwardRef((function(e,t){var n=e.children,c=e.name,f=e.className,d=e.checked,h=e.type,b=e.onChange,v=e.value,p=e.disabled,m=e.inputRef,j=Object(a.a)(e,["children","name","className","checked","type","onChange","value","disabled","inputRef"]),y=Object(i.useState)(!1),O=y[0],g=y[1],w=Object(i.useCallback)((function(e){"INPUT"===e.target.tagName&&g(!0)}),[]),x=Object(i.useCallback)((function(e){"INPUT"===e.target.tagName&&g(!1)}),[]);return u.a.createElement(s.a,Object(r.a)({},j,{ref:t,className:o()(f,O&&"focus",p&&"disabled"),type:void 0,active:!!d,as:"label"}),u.a.createElement("input",{name:c,type:h,value:v,ref:m,autoComplete:"off",checked:!!d,disabled:!!p,onFocus:w,onBlur:x,onChange:b||l}),n)}));f.displayName="ToggleButton",t.a=f},229:function(e,t,n){"use strict";var r=n(2),a=n(4),c=n(0),o=n.n(c),i=n(52),u=n.n(i),s=n(28),l=n(37),f=n(185),d=n(182),h=n(200),b=o.a.forwardRef((function(e,t){var n=Object(s.a)(e,{value:"onChange"}),c=n.children,i=n.type,h=n.name,b=n.value,v=n.onChange,p=Object(a.a)(n,["children","type","name","value","onChange"]),m=function(){return null==b?[]:[].concat(b)};return"radio"!==i||h||u()(!1),o.a.createElement(d.a,Object(r.a)({},p,{ref:t,toggle:!0}),Object(f.a)(c,(function(e){var t=m(),n=e.props,r=n.value,a=n.onChange;return o.a.cloneElement(e,{type:i,name:e.name||h,checked:-1!==t.indexOf(r),onChange:Object(l.a)(a,(function(e){return function(e,t){if(v){var n=m(),r=-1!==n.indexOf(e);"radio"!==i?v(r?n.filter((function(t){return t!==e})):[].concat(n,[e]),t):!r&&v&&v(e,t)}}(r,e)}))})})))}));b.defaultProps={type:"radio",vertical:!1},b.Button=h.a,t.a=b},312:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return we}));var r=n(16),a=n(147),c=n(2),o=n(4),i=n(0),u=n.n(i),s=n(5),l=n.n(s),f=n(169),d=n(79),h=n(13),b=n(7),v=n(107),p=u.a.createContext({onClose:function(){}}),m=u.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.closeLabel,a=e.closeButton,s=e.className,f=e.children,d=Object(o.a)(e,["bsPrefix","closeLabel","closeButton","className","children"]);n=Object(b.a)(n,"toast-header");var m=Object(i.useContext)(p),j=Object(h.a)((function(e){m&&m.onClose&&m.onClose(e)}));return u.a.createElement("div",Object(c.a)({ref:t},d,{className:l()(n,s)}),f,a&&u.a.createElement(v.a,{label:r,onClick:j,className:"ml-2 mb-1","data-dismiss":"toast"}))}));m.displayName="ToastHeader",m.defaultProps={closeLabel:"Close",closeButton:!0};var j=m,y=n(11),O=Object(y.a)("toast-body"),g=u.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.children,s=e.transition,h=void 0===s?d.a:s,v=e.show,m=void 0===v||v,j=e.animation,y=void 0===j||j,O=e.delay,g=void 0===O?3e3:O,w=e.autohide,x=void 0!==w&&w,C=e.onClose,k=Object(o.a)(e,["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"]);n=Object(b.a)(n,"toast");var E=Object(i.useRef)(g),_=Object(i.useRef)(C);Object(i.useEffect)((function(){E.current=g,_.current=C}),[g,C]);var N=Object(f.a)(),S=!(!x||!m),P=Object(i.useCallback)((function(){S&&(null==_.current||_.current())}),[S]);Object(i.useEffect)((function(){N.set(P,E.current)}),[N,P]);var K=Object(i.useMemo)((function(){return{onClose:C}}),[C]),R=!(!h||!y),V=u.a.createElement("div",Object(c.a)({},k,{ref:t,className:l()(n,r,!R&&(m?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),a);return u.a.createElement(p.Provider,{value:K},R&&h?u.a.createElement(h,{in:m,unmountOnExit:!0},V):V)}));g.displayName="Toast";var w=Object.assign(g,{Body:O,Header:j}),x=n(19),C=n(212),k=n(44),E=n(154),_=n(153),N=n(10),S=n(208),P=n(39),K=(n(202),n(163)),R=n(29),V=n(26),L=n(60),I=n(61),T=n(76);function A(e,t,n){try{switch(t.encode&&(e=t.encode(e)),t.type){case"uint":return function(e,t){var n=z(e,t.length);return t.length?n:M(n.length)+n}(e,t);case"string":return function(e,t){if(!e.match(/^[a-z0-9\-_]+$/i))throw new Error("Cannot encode string ".concat(e,": not alphanumeric or -_"));return M(e.length)+e}(e);case"array":return function(e,t){var n=t.schemas,r=void 0===n?[]:n,a=t.defaultSchema;return M(e.length)+e.map((function(e,t){var n;return A(e,null!==(n=r[t])&&void 0!==n?n:a,t)})).join("")}(e,t);case"object":return function(e,t){var n=t.schemas,a=void 0===n?[]:n;return Object.entries(a).map((function(t){var n=Object(r.a)(t,2),a=n[0],c=n[1];return A(a in e?e[a]:c.default,c,a)})).join("")}(e,t);case"sparse":return function(e,t){var n=t.keySchema,a=t.keys,c=t.valueSchema,o=Object.entries(e).filter((function(e){var t,n=Object(r.a)(e,1)[0];return null===(t=null===a||void 0===a?void 0:a.includes(n))||void 0===t||t}));return M(o.length)+o.map((function(e){var t=Object(r.a)(e,2),a=t[0],o=t[1];return A(a,n,a)+A(o,c,a)})).join("")}(e,t);default:throw new Error("Unsupported schema type ".concat(t.type," on array"))}}catch(c){var a;throw c.path=null!==(a=c.path)&&void 0!==a?a:[],c.path.push(n),c}}function B(e,t,n){try{var a;switch(t.type){case"uint":a=function(e,t){var n=t.length||U(e);return D(e.take(n))}(e,t);break;case"string":a=function(e,t){var n=e.take(U(e));if(!n.match(/^[a-z0-9\-_]+$/i))throw new Error("Cannot decode string ".concat(n,": not alphanumeric or -_"));return n}(e);break;case"array":a=function(e,t){var n=t.schemas,r=void 0===n?[]:n,a=t.defaultSchema,c=U(e);return Object(T.a)(new Array(c)).map((function(t,n){var c;return B(e,null!==(c=r[n])&&void 0!==c?c:a,n)}))}(e,t);break;case"object":a=function(e,t){var n=t.schemas,a=void 0===n?[]:n;return Object.fromEntries(Object.entries(a).map((function(t){var n=Object(r.a)(t,2),a=n[0],c=n[1];return[a,B(e,c,a)]})))}(e,t);break;case"sparse":a=function(e,t){var n=t.keys,a=t.keySchema,c=t.valueSchema,o=U(e);return Object.fromEntries(Object(T.a)(new Array(o)).map((function(){var t=B(e,a,null);return[t,B(e,c,t)]})).filter((function(e){var t,a=Object(r.a)(e,1)[0];return null===(t=null===n||void 0===n?void 0:n.includes(a))||void 0===t||t})))}(e,t);break;default:throw new Error("Unsupported schema type ".concat(t.type," on array"))}return t.decode?t.decode(a):a}catch(o){var c;throw o.path=null!==(c=o.path)&&void 0!==c?c:[],o.path.push(n),o}}function M(e){if(e>=32)throw new Error("Length (".concat(e,") too large"));return z(e,1)}function U(e){var t=D(e.take(1));if(t>=32)throw new Error("Length (".concat(t,") too large"));return t}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0)throw new Error("Cannot encode negative number ".concat(e));for(var n="";e>0;){var r=e%64;e=Math.floor(e/64),r<10?n+=String.fromCharCode(r+48-0):r<36?n+=String.fromCharCode(r+97-10):r<62?n+=String.fromCharCode(r+65-36):62===r?n+="-":63===r&&(n+="_")}if(!t)return n;if(n.length>t)throw new Error("Cannot encode uint ".concat(e,": value too large"));return n.padEnd(t,"0")}function D(e){for(var t=0,n=1,r=0;r<e.length;r++){var a=e.charCodeAt(r);if(48<=a&&a<58)t+=n*(a-48+0);else if(97<=a&&a<123)t+=n*(a-97+10);else if(65<=a&&a<91)t+=n*(a-65+36);else if("-"===e[r])t+=62*n;else{if("_"!==e[r])throw new Error('Cannot parse UInt from "'.concat(e,'", which contains "').concat(String.fromCharCode(a),'"'));t+=63*n}n*=64}return t}var F=function(){function e(t){Object(L.a)(this,e),this.string=void 0,this.offset=void 0,this.string=t,this.offset=0}return Object(I.a)(e,[{key:"take",value:function(e){if(this.offset+e>this.string.length)throw new Error("Cannot take ".concat(e," items from ").concat(this.string.slice(this.offset)));var t=this.string.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"end",value:function(){if(this.string.length!==this.offset)throw new Error("Unused string ".concat(this.string.slice(this.offset)))}}]),e}(),G=n(166),H=n(90),J=n(9),W=[""].concat(Object(T.a)(H.d)),$=["","hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","heal_","physical_dmg_","anemo_dmg_","cryo_dmg_","dendro_dmg_","electro_dmg_","geo_dmg_","hydro_dmg_","pyro_dmg_"],q=function(e){return{type:"uint",length:e}},Q={type:"string",encode:function(e){return e.toString().replace(/\./g,"_")},decode:function(e){return parseFloat(e.replace(/_/g,"."))}},X={type:"string"},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(K.a)({type:"array",defaultSchema:e},t)},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(K.a)({type:"object",schemas:e},t)},ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"sparse",keys:n,keySchema:e,valueSchema:t}},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"uint",length:t,encode:function(t){return e.indexOf(t)},decode:function(t){return e[t]}}},ne=te($),re=te(H.b),ae=te(H.h),ce=te(H.c),oe=te(H.e),ie=te([null].concat(Object(T.a)(H.g))),ue=te(W),se=Z({setKey:re,numStars:q(1),level:q(2),mainStatKey:ne,slotKey:ae,substats:Y(Z({key:ne,value:q(2)},{encode:function(e){var t=e.key,n=e.value,r=t.endsWith("_")?10:1;return{key:t,value:n*r}},decode:function(e){var t=e.key,n=e.value,r=t.endsWith("_")?10:1;return{key:t,value:n/r}}}))}),le=Y(Z({path:Y(X),value:Y(X)}),{encode:function(e){var t=[];return Object(J.e)(e,[],(function(e){return Array.isArray(e)}),(function(e,n){t.push({path:n,value:e.map((function(e){return e.toString()}))})})),t.filter((function(e){var t=e.path;switch(t[0]){case"character":t[0]="c",t[1]=z(H.c.indexOf(t[1]));break;case"weapon":t[0]="w";break;case"artifact":t[0]="a",t[1]=z(H.b.indexOf(t[1]));break;default:return!1}return!0})),t},decode:function(e){var t,n={weapon:{},artifact:{},character:{}},r=Object(G.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,c=a.path,o=a.value;switch(c[0]){case"c":c[0]="character",c[1]=H.c[D(c[1])];break;case"w":c[0]="weapon";break;case"a":c[0]="artifact",c[1]=H.b[D(c[1])];break;default:continue}var i,u=c.pop(),s=n,l=Object(G.a)(c);try{for(l.s();!(i=l.n()).done;){var f,d=i.value,h=null!==(f=s[d])&&void 0!==f?f:{};s[d]=h,s=h}}catch(b){l.e(b)}finally{l.f()}s[u]=o.map((function(e){return isNaN(parseFloat(e))?e:parseFloat(e)}))}}catch(b){r.e(b)}finally{r.f()}return n}}),fe=Y(Z({srcKey:X,srcKey2:X,conditionalNum:q(1)})),de=Z({key:X,levelKey:X,refineIndex:q(1),overrideMainVal:Q,overrideSubVal:Q,conditionalNum:q(1)}),he=Z({key:X,levelKey:X,refineIndex:q(1),overrideMainVal:Q,overrideSubVal:Q}),be=Z({characterKey:ce,hitMode:oe,reactionMode:ie,constellation:q(1),overrideLevel:q(2),levelKey:X,autoInfused:{type:"uint",length:1,encode:function(e){return e?1:0},decode:function(e){return 0!==e}},talentLevelKeys:Z({auto:q(1),skill:q(1),burst:q(1)}),artifactConditionals:fe,baseStatOverrides:ee(X,Q),talentConditionals:fe,weapon:de},{decode:function(e){return delete e.artifactConditionals,delete e.talentConditionals,delete e.weapon.conditionalNum,delete e.autoInfused,e.infusionAura="",e.conditionalValues={weapon:{},artifact:{},character:{}},e}}),ve=Z({characterKey:ce,hitMode:oe,reactionMode:ie,constellation:q(1),overrideLevel:q(2),levelKey:X,infusionAura:ue,talentLevelKeys:Z({auto:q(1),skill:q(1),burst:q(1)}),baseStatOverrides:ee(X,Q),weapon:he,conditionalValues:le,reserved:Y(q(1))},{encode:function(e){return"traveler"===e.characterKey?e.reserved=[W.indexOf(e.elementKey)]:e.reserved=[],e},decode:function(e){var t;"traveler"===e.characterKey&&(e.elementKey=null!==(t=W[e.reserved[0]])&&void 0!==t?t:"anemo");return delete e.reserved,e}}),pe={flexV1:Z({artifacts:Y(se),character:be}),flexV2:Z({artifacts:Y(se),character:ve})};[null].concat(Object(T.a)(H.g));function me(e,t){try{return"v=2&d="+A({character:e,artifacts:t},pe.flexV2,null)}catch(n){return null}}function je(e,t){var n=function(e,t){var n=new F(e),r=B(n,t,null);return n.end(),r}(e,t),r=n.character,a=n.artifacts;return a.forEach((function(e){e.location=r.characterKey})),Object(K.a)({databaseVersion:P.a,artifacts:a},r)}var ye=n(51),Oe=n(89),ge=n(1);function we(){var e=Object(N.h)(),t=e.search;if(t){var n=function(e){var t=Object.fromEntries(e.split("&").map((function(e){return e.split("=")})));try{switch(parseInt(t.v)){case 2:return[je(t.d,pe.flexV2),2];case 1:return[je(t.d,pe.flexV1),1];default:return[null]}}catch(n){return[null]}}(t.substring(1)),a=Object(r.a)(n,2),c=a[0],o=a[1];return c?2!==o?Object(ge.jsx)(N.a,{to:"/flex?".concat(me(c,c.artifacts))}):Object(ge.jsx)(xe,{character:c}):Object(ge.jsx)(N.a,{to:"/"})}var i=e.characterKey;if(!i)return Object(ge.jsx)(N.a,{to:"/"});var u=function(e){var t=V.a.get(e);return t?me(t,Object.values(t.equippedArtifacts).filter((function(e){return e})).map((function(e){return R.a.get(e)}))):null}(i);return u?(window.scrollTo(0,0),Object(ge.jsx)(N.a,{to:"/flex?".concat(u)})):Object(ge.jsx)(N.a,{to:"/"})}function xe(e){var t=e.character,n=Object(i.useState)(!1),c=Object(r.a)(n,2),o=c[0],u=c[1],s=window.location.href,l=t.databaseVersion,f=(void 0===l?0:l)<P.a;return Object(ge.jsxs)(a.a,{className:"my-2",children:[Object(ge.jsxs)(w,{onClose:function(){return u(!1)},show:o,delay:3e3,autohide:!0,style:{position:"absolute",top:50,right:50},children:[Object(ge.jsx)(w.Header,{children:Object(ge.jsx)("b",{className:"mr-auto",children:"Genshin Optimizer"})}),Object(ge.jsx)(w.Body,{children:"URL copied to clipboard."})]}),Object(ge.jsx)(x.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(ge.jsxs)(x.a.Body,{className:"p-2",children:[Object(ge.jsxs)(C.a,{className:"mb-0",children:[Object(ge.jsx)(C.a.Prepend,{children:Object(ge.jsx)(k.a,{onClick:function(){navigator.clipboard.writeText(s),u(!0)},children:Object(ge.jsxs)("span",{children:[Object(ge.jsx)(ye.a,{icon:Oe.n})," Copy URL to clipboard"]})})}),Object(ge.jsx)(E.a.Control,{readOnly:!0,value:window.location.href,onClick:function(e){return e.target.select()}})]}),f&&Object(ge.jsx)(_.a,{variant:"warning",className:"py-2 mt-2 mb-0",children:"This URL is generated on an older database version of Genshin Optimizer. The character data below might not be displayed as intended."})]})}),Object(ge.jsx)(S.default,{character:t})]})}}}]);
//# sourceMappingURL=11.70dd79fc.chunk.js.map