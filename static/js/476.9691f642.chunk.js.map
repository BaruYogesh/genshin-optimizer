{"version":3,"file":"static/js/476.9691f642.chunk.js","mappings":"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","sources":["CharacterContext.tsx","Components/BootstrapTooltip.tsx","Components/CustomNumberInput.tsx","Components/Conditional/ConditionalSelector.tsx","Components/Conditional/ConditionalDisplay.tsx","Components/DocumentDisplay.tsx","Components/QuestionTooltip.tsx","Components/FieldDisplay.tsx","Components/InfoTooltip.tsx","DataContext.tsx","PageWeapon/WeaponEditor.tsx","../node_modules/@mui/icons-material/esm/CheckBox.js","../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","../node_modules/@mui/material/CardHeader/cardHeaderClasses.js","../node_modules/@mui/material/CardHeader/CardHeader.js"],"sourcesContent":["import { createContext } from \"react\"\r\nimport CharacterSheet from \"./Data/Characters/CharacterSheet\"\r\nimport { characterReducerAction } from \"./ReactHooks/useCharacterReducer\"\r\nimport { ICachedCharacter } from \"./Types/character\"\r\nexport type CharacterContextObj = {\r\n  character: ICachedCharacter\r\n  characterSheet: CharacterSheet\r\n  characterDispatch: (action: characterReducerAction) => void\r\n}\r\n\r\n// If using this context without a Provider, then stuff will crash...\r\n// In theory, none of the components that uses this context should work without a provider...\r\nexport const CharacterContext = createContext({} as CharacterContextObj)\r\n","import { styled, Tooltip, tooltipClasses, TooltipProps } from \"@mui/material\";\r\n\r\nconst BootstrapTooltip = styled(({ className, ...props }: TooltipProps) => (\r\n  <Tooltip {...props} arrow classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.arrow}`]: {\r\n    color: theme.palette.common.black,\r\n  },\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    backgroundColor: theme.palette.common.black,\r\n    maxWidth: 500,\r\n  },\r\n}));\r\nexport default BootstrapTooltip\r\n","import { Button, ButtonProps, InputBase, InputProps, styled } from '@mui/material'\r\nimport { useCallback, useEffect, useMemo, useState } from 'react'\r\ntype props = Omit<InputProps, \"onChange\"> & {\r\n  value?: number | undefined,\r\n  onChange: (newValue: number | undefined) => void,\r\n  disabled?: boolean\r\n  float?: boolean,\r\n  allowEmpty?: boolean,\r\n}\r\n\r\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  transition: \"all 0.5s ease\",\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  \"&.Mui-focused\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  \"&.Mui-disabled\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n}))\r\n\r\nconst Wrapper = styled(Button)(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  padding: 0,\r\n  overflow: \"hidden\",\r\n  \"div\": {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n}))\r\n\r\n// wrap the Input with this when using the input in a buttongroup\r\nexport function CustomNumberInputButtonGroupWrapper({ children, disableRipple, disableFocusRipple, disableTouchRipple, ...props }: ButtonProps) {\r\n  return <Wrapper disableRipple disableFocusRipple disableTouchRipple {...props}>{children}</Wrapper>\r\n}\r\n\r\nexport default function CustomNumberInput({ value = 0, onChange, disabled = false, float = false, ...props }: props) {\r\n  const [number, setNumber] = useState(value)\r\n  const [focused, setFocus] = useState(false)\r\n  const parseFunc = useMemo(() => float ? parseFloat : parseInt, [float],)\r\n  const onBlur = useCallback(\r\n    () => {\r\n      onChange(number)\r\n      setFocus(false)\r\n    },\r\n    [onChange, number, setFocus],\r\n  )\r\n  const onFocus = useCallback(\r\n    () => {\r\n      setFocus(true)\r\n    },\r\n    [setFocus],\r\n  )\r\n  useEffect(() => setNumber(value), [value, setNumber]) // update value on value change\r\n  const onInputChange = useCallback(e => setNumber(parseFunc(e.target.value) || 0), [setNumber, parseFunc],)\r\n  const onKeyDOwn = useCallback(e => e.key === \"Enter\" && onBlur(), [onBlur],)\r\n  return <StyledInputBase\r\n    value={(focused && !number) ? \"\" : number}\r\n    aria-label=\"custom-input\"\r\n    type=\"number\"\r\n    inputProps={{ step: float ? 0.1 : 1 }}\r\n    onChange={onInputChange}\r\n    onBlur={onBlur}\r\n    onFocus={onFocus}\r\n    disabled={disabled}\r\n    onKeyDown={onKeyDOwn}\r\n    {...props}\r\n  />\r\n}\r\n","import { CheckBox, CheckBoxOutlineBlank } from '@mui/icons-material';\r\nimport { Button, ButtonGroup, Divider, MenuItem } from '@mui/material';\r\nimport React, { useCallback, useContext } from 'react';\r\nimport { CharacterContext } from '../../CharacterContext';\r\nimport { DataContext } from '../../DataContext';\r\nimport { DocumentConditional, IDocumentConditionalExclusive, IDocumentConditionalMultiple } from '../../Types/sheet';\r\nimport { deepClone, deletePropPath, layeredAssignment } from '../../Util/Util';\r\nimport DropdownButton from '../DropdownMenu/DropdownButton';\r\nimport SqBadge from '../SqBadge';\r\nimport { Translate } from '../Translate';\r\n\r\ninterface ConditionalSelectorProps {\r\n  conditional: DocumentConditional,\r\n  disabled?: boolean,\r\n}\r\nexport default function ConditionalSelector({ conditional, disabled = false, }: ConditionalSelectorProps) {\r\n  if (Object.keys(conditional.states).length === 1 && \"path\" in conditional) {\r\n    return <SimpleConditionalSelector conditional={conditional} disabled={disabled} />\r\n  } else if (\"path\" in conditional) {\r\n    return <ExclusiveConditionalSelector conditional={conditional} disabled={disabled} />\r\n  } else /*if (\"path\" in Object.entries(conditional.states)[0]) */ {\r\n    return <MultipleConditionalSelector conditional={conditional} disabled={disabled} />\r\n  }\r\n}\r\n\r\ninterface SimpleConditionalSelectorProps extends ConditionalSelectorProps {\r\n  conditional: IDocumentConditionalExclusive\r\n}\r\nfunction SimpleConditionalSelector({ conditional, disabled }: SimpleConditionalSelectorProps) {\r\n  const { character, characterDispatch } = useContext(CharacterContext)\r\n  const { data } = useContext(DataContext)\r\n  const setConditional = useCallback((v?: string) => {\r\n    const conditionalValues = deepClone(character.conditional)\r\n    if (v) {\r\n      layeredAssignment(conditionalValues, conditional.path, v)\r\n    } else {\r\n      deletePropPath(conditionalValues, conditional.path)\r\n    }\r\n    characterDispatch({ conditional: conditionalValues })\r\n  }, [conditional, character, characterDispatch])\r\n\r\n  const conditionalValue = data.get(conditional.value).value\r\n  const [stateKey, st] = Object.entries(conditional.states)[0]\r\n  const badge = getStateBadge(st.name)\r\n  const condName = getCondName(conditional.name)\r\n\r\n  return <Button fullWidth size=\"small\" sx={{ borderRadius: 0 }} color={conditionalValue ? \"success\" : \"primary\"} onClick={() => setConditional(conditionalValue ? undefined : stateKey)} disabled={disabled} startIcon={conditionalValue ? <CheckBox /> : <CheckBoxOutlineBlank />}>\r\n    {condName} {badge}\r\n  </Button>\r\n}\r\n\r\ninterface ExclusiveConditionalSelectorProps extends ConditionalSelectorProps {\r\n  conditional: IDocumentConditionalExclusive\r\n}\r\nfunction ExclusiveConditionalSelector({ conditional, disabled }: ExclusiveConditionalSelectorProps) {\r\n  const { character, characterDispatch } = useContext(CharacterContext)\r\n  const { data } = useContext(DataContext)\r\n  const setConditional = useCallback((v?: string) => {\r\n    const conditionalValues = deepClone(character.conditional)\r\n    if (v) {\r\n      layeredAssignment(conditionalValues, conditional.path, v)\r\n    } else {\r\n      deletePropPath(conditionalValues, conditional.path)\r\n    }\r\n    characterDispatch({ conditional: conditionalValues })\r\n  }, [conditional, character, characterDispatch])\r\n\r\n  const conditionalValue = data.get(conditional.value).value\r\n  const state = conditionalValue ? conditional.states[conditionalValue] : undefined\r\n  const badge = state ? getStateBadge(state.name) : <SqBadge color=\"secondary\">Not Active</SqBadge>\r\n  const condName = getCondName(conditional.name)\r\n\r\n  return <DropdownButton fullWidth size=\"small\" sx={{ borderRadius: 0 }} color={conditionalValue ? \"success\" : \"primary\"} title={<span>{condName} {badge}</span>} disabled={disabled}>\r\n    <MenuItem onClick={() => setConditional()} selected={!state} disabled={!state}>\r\n      <span>Not Active</span>\r\n    </MenuItem>\r\n    <Divider />\r\n    {Object.entries(conditional.states).map(([stateKey, st]) =>\r\n      <MenuItem key={stateKey} onClick={() => setConditional(stateKey)} selected={conditionalValue === stateKey} disabled={conditionalValue === stateKey} >{st.name}</MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n\r\ninterface MultipleConditionalSelectorProps extends ConditionalSelectorProps {\r\n  conditional: IDocumentConditionalMultiple\r\n}\r\nfunction MultipleConditionalSelector({ conditional, disabled }: MultipleConditionalSelectorProps) {\r\n  const { character, characterDispatch } = useContext(CharacterContext)\r\n  const { data } = useContext(DataContext)\r\n  const setConditional = useCallback((path: readonly string[], v?: string) => {\r\n    const conditionalValues = deepClone(character.conditional)\r\n    if (v) {\r\n      layeredAssignment(conditionalValues, path, v)\r\n    } else {\r\n      deletePropPath(conditionalValues, path)\r\n    }\r\n    characterDispatch({ conditional: conditionalValues })\r\n  }, [character, characterDispatch])\r\n\r\n  return <ButtonGroup fullWidth orientation=\"vertical\" disableElevation color=\"secondary\" >\r\n    {Object.entries(conditional.states).map(([stateKey, st]) => {\r\n      const conditionalValue = data.get(st.value).value\r\n      const isSelected = conditionalValue === stateKey\r\n      return <Button\r\n        color={isSelected ? \"success\" : \"primary\"}\r\n        disabled={disabled}\r\n        fullWidth\r\n        key={stateKey}\r\n        onClick={() => setConditional(st.path, conditionalValue ? undefined : stateKey)}\r\n        size=\"small\"\r\n        startIcon={isSelected ? <CheckBox /> : <CheckBoxOutlineBlank />}\r\n        sx={{ borderRadius: 0 }}\r\n      >\r\n        {getCondName(st.name)}\r\n      </Button>\r\n    })}\r\n  </ButtonGroup>\r\n}\r\n\r\nfunction isElement(disp: Displayable): disp is JSX.Element {\r\n  return (typeof disp !== \"string\")\r\n}\r\n\r\n// Use colored badges instead of colored text inside these buttons\r\nfunction getStateBadge(stateName: Displayable | undefined): Displayable {\r\n  if (!stateName) return \"\"\r\n\r\n  let badgeColor = \"primary\"\r\n  let badgeText = stateName\r\n  if (stateName && isElement(stateName)) {\r\n    if (stateName.props.color) {\r\n      badgeColor = stateName.props.color\r\n      badgeText = <span>{stateName.props.children}</span>\r\n    }\r\n  }\r\n  return <SqBadge sx={{ ml: 0.5 }} color={badgeColor}>{badgeText}</SqBadge>\r\n}\r\n\r\n// Use colored badges instead of colored text inside these buttons\r\nfunction getCondName(condName: Displayable): Displayable {\r\n  if (isElement(condName)) {\r\n    const key = condName.props.key18\r\n    const ns = condName.props.ns\r\n    const values = condName.props.values\r\n    return <Translate ns={ns} key18={key} values={values} useBadge />\r\n  }\r\n  return condName\r\n}\r\n","import { CardContent } from \"@mui/material\"\r\nimport { useContext } from \"react\"\r\nimport { DataContext } from \"../../DataContext\"\r\nimport { DocumentConditional, DocumentSection } from \"../../Types/sheet\"\r\nimport { evalIfFunc } from \"../../Util/Util\"\r\nimport CardDark from \"../Card/CardDark\"\r\nimport { HeaderDisplay } from \"../DocumentDisplay\"\r\nimport FieldsDisplay from \"../FieldDisplay\"\r\nimport ConditionalSelector from \"./ConditionalSelector\"\r\n\r\ntype ConditionalDisplayProps = {\r\n  conditional: DocumentConditional,\r\n  hideHeader?: boolean | ((section: DocumentSection) => boolean),\r\n  hideDesc?: boolean,\r\n}\r\n\r\nexport default function ConditionalDisplay({ conditional, hideHeader = false, hideDesc = false }: ConditionalDisplayProps) {\r\n  const { data } = useContext(DataContext)\r\n  let fields\r\n  if (\"path\" in conditional) {\r\n    const condVal = data.get(conditional.value).value\r\n    fields = condVal && conditional.states[condVal]?.fields\r\n  } else /* if (\"path\" in Object.entries(conditional.states)[0]) */ {\r\n    fields = Object.values(conditional.states).flatMap(state => {\r\n      const stateVal = data.get(state.value).value\r\n      return stateVal ? state.fields : []\r\n    })\r\n  }\r\n  return <CardDark>\r\n    {!evalIfFunc(hideHeader, conditional) && <HeaderDisplay header={conditional.header} hideDesc={hideDesc} />}\r\n    <CardContent sx={{ p: 0, \"&:last-child\": { pb: 0 } }}>\r\n      <ConditionalSelector conditional={conditional} />\r\n    </CardContent>\r\n    {fields && <FieldsDisplay fields={fields} />}\r\n  </CardDark>\r\n}\r\n","import { Box, CardHeader, Divider, Typography } from \"@mui/material\"\r\nimport { useContext } from \"react\"\r\nimport { DataContext } from \"../DataContext\"\r\nimport { DocumentSection, IDocumentFields, IDocumentHeader, IDocumentText } from \"../Types/sheet\"\r\nimport { evalIfFunc } from \"../Util/Util\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport ConditionalDisplay from \"./Conditional/ConditionalDisplay\"\r\nimport FieldsDisplay from \"./FieldDisplay\"\r\nimport InfoTooltip from \"./InfoTooltip\"\r\n\r\ntype DocumentDisplayProps = {\r\n  sections: DocumentSection[],\r\n  teamBuffOnly?: boolean,\r\n  hideDesc?: boolean,\r\n  hideHeader?: boolean | ((section: DocumentSection) => boolean),\r\n}\r\n\r\nexport default function DocumentDisplay({ sections, teamBuffOnly, hideDesc = false, hideHeader = false }: DocumentDisplayProps) {\r\n  const { data } = useContext(DataContext)\r\n  if (!sections.length) return null\r\n  const sectionDisplays = sections.map((s, i) => {\r\n    // If we can't show this section, return null\r\n    if (s.canShow && !data.get(s.canShow).value ) return null\r\n    // If we are showing only teambuffs, and this section is not a teambuff, return null\r\n    if (teamBuffOnly && !s.teamBuff) return null\r\n    return <SectionDisplay section={s} key={i} hideDesc={hideDesc} hideHeader={hideHeader} />\r\n  }).filter(s => s)\r\n  if (!sectionDisplays.length) return null\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1}>{sectionDisplays}</Box>\r\n}\r\n\r\nfunction SectionDisplay({ section, hideDesc = false, hideHeader = false }: { section: DocumentSection, hideDesc?: boolean, hideHeader?: boolean | ((section: DocumentSection) => boolean) }) {\r\n  if (\"fields\" in section) {\r\n    return <FieldsSectionDisplay section={section} hideDesc={hideDesc} hideHeader={hideHeader} />\r\n  } else if (\"states\" in section) {\r\n    return <ConditionalDisplay conditional={section} hideDesc={hideDesc} hideHeader={hideHeader} />\r\n  } else /* if (\"text\" in section) */ {\r\n    return <TextSectionDisplay section={section} />\r\n  }\r\n}\r\n\r\nfunction FieldsSectionDisplay({ section, hideDesc, hideHeader }: { section: IDocumentFields, hideDesc?: boolean, hideHeader?: boolean | ((section: DocumentSection) => boolean) }) {\r\n  return <CardDark>\r\n    {!evalIfFunc(hideHeader, section) && section.header &&\r\n      <HeaderDisplay header={section.header} hideDesc={hideDesc} hideDivider={section.fields.length === 0} />\r\n    }\r\n    <FieldsDisplay fields={section.fields} />\r\n  </CardDark>\r\n}\r\n\r\nfunction TextSectionDisplay({ section }: { section: IDocumentText }) {\r\n  const { data } = useContext(DataContext)\r\n  return <div>\r\n    {evalIfFunc(section.text, data)}\r\n  </div>\r\n}\r\n\r\nexport function HeaderDisplay({ header, hideDesc, hideDivider }: { header: IDocumentHeader, hideDesc?: boolean, hideDivider?: boolean | ((section: DocumentSection) => boolean) }) {\r\n  const { data } = useContext(DataContext)\r\n  let { icon, title, action } = header\r\n  icon = evalIfFunc(icon, data)\r\n  const description = !hideDesc && evalIfFunc(header.description, data)\r\n  const displayTitle = hideDesc ? title : <span>{title} <InfoTooltip title={<Typography>{description}</Typography>} /></span>\r\n  return <>\r\n    <CardHeader avatar={icon} title={displayTitle} action={action} titleTypographyProps={{ variant: \"subtitle2\" }} />\r\n    {!hideDivider && <Divider />}\r\n  </>\r\n}\r\n","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Box, TooltipProps } from \"@mui/material\";\r\nimport BootstrapTooltip from \"./BootstrapTooltip\";\r\n\r\ninterface ITooltipProps extends Omit<TooltipProps, \"children\"> {\r\n  className?: string,\r\n}\r\nconst QuestionTooltip = ({ className, ...props }: ITooltipProps) =>\r\n  <BootstrapTooltip placement=\"top\" {...props} className={className}>\r\n    <Box component=\"span\" sx={{ cursor: \"help\" }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\r\n  </BootstrapTooltip>\r\n\r\nexport default QuestionTooltip\r\n","import { Groups } from \"@mui/icons-material\";\r\nimport { Box, List, ListItem, Skeleton, styled, Typography } from \"@mui/material\";\r\nimport React, { Suspense, useContext, useMemo } from 'react';\r\nimport { DataContext } from \"../DataContext\";\r\nimport { NodeDisplay } from \"../Formula/api\";\r\nimport KeyMap, { valueString } from \"../KeyMap\";\r\nimport { IBasicFieldDisplay, IFieldDisplay } from \"../Types/IFieldDisplay\";\r\nimport { evalIfFunc } from \"../Util/Util\";\r\nimport ColorText from \"./ColoredText\";\r\nimport QuestionTooltip from \"./QuestionTooltip\";\r\nimport StatIcon from \"./StatIcon\";\r\n\r\nexport default function FieldsDisplay({ fields }: { fields: IFieldDisplay[] }) {\r\n  return <FieldDisplayList sx={{ m: 0 }}>\r\n    {fields.map((field, i) => <FieldDisplay key={i} field={field} component={ListItem} />)}\r\n  </FieldDisplayList>\r\n}\r\n\r\nfunction FieldDisplay({ field, component }: { field: IFieldDisplay, component?: React.ElementType }) {\r\n  const { data, oldData } = useContext(DataContext)\r\n  const canShow = useMemo(() => field?.canShow?.(data) ?? true, [field, data])\r\n  if (!canShow) return null\r\n  if (\"node\" in field) {\r\n    const node = data.get(field.node)\r\n    if (node.isEmpty) return null\r\n    if (oldData) {\r\n      const oldNode = oldData.get(field.node)\r\n      const oldValue = oldNode.isEmpty ? 0 : oldNode.value\r\n      return <NodeFieldDisplay node={node} oldValue={oldValue} suffix={field.textSuffix} component={component} />\r\n    }\r\n    else return <NodeFieldDisplay node={node} suffix={field.textSuffix} component={component} />\r\n  }\r\n  return <BasicFieldDisplay field={field} component={component} />\r\n}\r\n\r\nfunction BasicFieldDisplay({ field, component }: { field: IBasicFieldDisplay, component?: React.ElementType }) {\r\n  const { data } = useContext(DataContext)\r\n  const v = evalIfFunc(field.value, data)\r\n  const variant = evalIfFunc(field.variant, data)\r\n  const text = field.text && <span>{field.text}</span>\r\n  const suffix = field.textSuffix && <span>{field.textSuffix}</span>\r\n  return <Box width=\"100%\" sx={{ display: \"flex\", justifyContent: \"space-between\", gap: 1 }} component={component} >\r\n    <Typography color={`${variant}.main`} sx={{ display: \"flex\", gap: 1, alignItems: \"center\" }}>{text}{suffix}</Typography>\r\n    <Typography >{typeof v === \"number\" ? v.toFixed?.(field.fixed) : v}{field.unit}</Typography>\r\n  </Box>\r\n}\r\n\r\nexport function NodeFieldDisplay({ node, oldValue, suffix, component }: { node: NodeDisplay, oldValue?: number, suffix?: Displayable, component?: React.ElementType }) {\r\n  if (node.isEmpty) return null\r\n\r\n  suffix = suffix && <span>{suffix}</span>\r\n  const icon = node.info.key && StatIcon[node.info.key]\r\n  const fieldText = node.info.key ? KeyMap.get(node.info.key) : \"\"\r\n  const isTeamBuff = node.info.isTeamBuff\r\n  const fieldFormulaText = node.formula\r\n  let fieldVal = \"\" as Displayable\r\n  if (oldValue) {\r\n    const diff = node.value - oldValue\r\n    fieldVal = <span>{valueString(oldValue, node.unit)}{diff > 0.0001 || diff < -0.0001 ? <ColorText color={diff > 0 ? \"success\" : \"error\"}> {diff > 0 ? \"+\" : \"\"}{valueString(diff, node.unit)}</ColorText> : \"\"}</span>\r\n  } else fieldVal = valueString(node.value, node.unit)\r\n  const formulaTextOverlay = !!node.formula && <QuestionTooltip title={<Typography><Suspense fallback={<Skeleton variant=\"rectangular\" width={300} height={30} />}>{fieldFormulaText}</Suspense></Typography>} />\r\n  return <Box width=\"100%\" sx={{ display: \"flex\", justifyContent: \"space-between\", gap: 1 }} component={component} >\r\n    <Typography color={`${node.info.variant}.main`} sx={{ display: \"flex\", gap: 1, alignItems: \"center\" }}>{!!isTeamBuff && <Groups />}{icon}{fieldText}{suffix}</Typography>\r\n    <Box sx={{ display: \"flex\", gap: 1, alignItems: \"center\" }}>\r\n      <Typography noWrap>{fieldVal}</Typography>\r\n      {formulaTextOverlay}\r\n    </Box>\r\n  </Box>\r\n}\r\n\r\nexport const FieldDisplayList = styled(List)(({ theme }) => ({\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: \"hidden\",\r\n  margin: 0,\r\n  '> .MuiListItem-root:nth-of-type(even)': {\r\n    backgroundColor: theme.palette.contentDark.main\r\n  },\r\n  '> .MuiListItem-root:nth-of-type(odd)': {\r\n    backgroundColor: theme.palette.contentDarker.main\r\n  },\r\n}));\r\n","\r\nimport { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Box, TooltipProps } from \"@mui/material\";\r\nimport BootstrapTooltip from \"./BootstrapTooltip\";\r\n\r\ninterface ITooltipProps extends Omit<TooltipProps, \"children\"> {\r\n  className?: string,\r\n}\r\nconst InfoTooltip = ({ className, ...props }: ITooltipProps) =>\r\n  <BootstrapTooltip placement=\"top\" {...props} className={className}>\r\n    <Box component=\"span\" sx={{ cursor: \"help\" }}><FontAwesomeIcon icon={faInfoCircle} /></Box>\r\n  </BootstrapTooltip>\r\n\r\nexport default InfoTooltip\r\n","import { createContext } from \"react\"\r\nimport CharacterSheet from \"./Data/Characters/CharacterSheet\"\r\nimport WeaponSheet from \"./Data/Weapons/WeaponSheet\"\r\nimport { UIData } from \"./Formula/uiData\"\r\nimport { ICachedCharacter } from \"./Types/character\"\r\nimport { CharacterKey } from \"./Types/consts\"\r\nimport { ICachedWeapon } from \"./Types/weapon\"\r\nexport type TeamData = Partial<Record<CharacterKey, {\r\n  target: UIData\r\n  buffs: Dict<CharacterKey, UIData>\r\n  character: ICachedCharacter\r\n  weapon: ICachedWeapon\r\n  characterSheet: CharacterSheet\r\n  weaponSheet: WeaponSheet,\r\n}>>\r\nexport type dataContextObj = {\r\n  data: UIData\r\n  oldData?: UIData\r\n  teamData: TeamData\r\n}\r\n\r\n// If using this context without a Provider, then stuff will crash...\r\n// In theory, none of the components that uses this context should work without a provider...\r\nexport const DataContext = createContext({} as dataContextObj)\r\n","import { BusinessCenter, Lock, LockOpen } from \"@mui/icons-material\"\r\nimport { Box, Button, ButtonGroup, CardContent, CardHeader, Divider, Grid, ListItem, MenuItem, Typography } from \"@mui/material\"\r\nimport { useCallback, useContext, useEffect, useMemo, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport CardDark from \"../Components/Card/CardDark\"\r\nimport CardLight from \"../Components/Card/CardLight\"\r\nimport CharacterAutocomplete from \"../Components/Character/CharacterAutocomplete\"\r\nimport CloseButton from \"../Components/CloseButton\"\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from \"../Components/CustomNumberInput\"\r\nimport DocumentDisplay from \"../Components/DocumentDisplay\"\r\nimport DropdownButton from \"../Components/DropdownMenu/DropdownButton\"\r\nimport { FieldDisplayList, NodeFieldDisplay } from \"../Components/FieldDisplay\"\r\nimport ModalWrapper from \"../Components/ModalWrapper\"\r\nimport { Stars } from \"../Components/StarDisplay\"\r\nimport WeaponSelectionModal from \"../Components/Weapon/WeaponSelectionModal\"\r\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\"\r\nimport { ascensionMaxLevel, lowRarityMilestoneLevels } from \"../Data/LevelData\"\r\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\"\r\nimport { DatabaseContext } from \"../Database/Database\"\r\nimport { DataContext } from \"../DataContext\"\r\nimport { uiInput as input } from \"../Formula\"\r\nimport { computeUIData, dataObjForWeapon } from \"../Formula/api\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport useWeapon from \"../ReactHooks/useWeapon\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport { ICachedWeapon } from \"../Types/weapon\"\r\nimport { clamp } from \"../Util/Util\"\r\n\r\ntype WeaponStatsEditorCardProps = {\r\n  weaponId: string\r\n  footer?: boolean\r\n  onClose?: () => void\r\n  extraButtons?: JSX.Element\r\n}\r\nexport default function WeaponEditor({\r\n  weaponId: propWeaponId,\r\n  footer = false,\r\n  onClose,\r\n  extraButtons\r\n}: WeaponStatsEditorCardProps) {\r\n  const { t } = useTranslation(\"ui\")\r\n  const { data } = useContext(DataContext)\r\n\r\n  const { database } = useContext(DatabaseContext)\r\n  const weapon = useWeapon(propWeaponId)\r\n  const { key = \"\", level = 0, refinement = 0, ascension = 0, lock, location = \"\", id } = weapon ?? {}\r\n  const weaponSheet = usePromise(WeaponSheet.get(key), [key])\r\n\r\n  const weaponDispatch = useCallback((newWeapon: Partial<ICachedWeapon>) => {\r\n    database.updateWeapon(newWeapon, propWeaponId)\r\n  }, [propWeaponId, database])\r\n\r\n  const setLevel = useCallback(level => {\r\n    level = clamp(level, 1, 90)\r\n    const ascension = ascensionMaxLevel.findIndex(ascenML => level <= ascenML)\r\n    weaponDispatch({ level, ascension })\r\n  }, [weaponDispatch])\r\n\r\n  const setAscension = useCallback(() => {\r\n    const lowerAscension = ascensionMaxLevel.findIndex(ascenML => level !== 90 && level === ascenML)\r\n    if (ascension === lowerAscension) weaponDispatch({ ascension: ascension + 1 })\r\n    else weaponDispatch({ ascension: lowerAscension })\r\n  }, [weaponDispatch, ascension, level])\r\n\r\n  const characterSheet = usePromise(location ? CharacterSheet.get(location) : undefined, [location])\r\n  const weaponFilter = characterSheet ? (ws) => ws.weaponType === characterSheet.weaponTypeKey : undefined\r\n  const initialWeaponFilter = characterSheet && characterSheet.weaponTypeKey\r\n\r\n  const equipOnChar = useCallback((charKey: CharacterKey | \"\") => id && database.setWeaponLocation(id, charKey), [database, id])\r\n  const filter = useCallback(\r\n    (cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType,\r\n    [weaponSheet],\r\n  )\r\n\r\n  const [showModal, setshowModal] = useState(false)\r\n  const img = weaponSheet?.getImg(ascension)\r\n\r\n  //check the levels when switching from a 5* to a 1*, for example.\r\n  useEffect(() => {\r\n    if (!weaponSheet || !weaponDispatch || weaponSheet.key !== weapon?.key) return\r\n    if (weaponSheet.rarity <= 2 && (level > 70 || ascension > 4)) {\r\n      const [level, ascension] = lowRarityMilestoneLevels[0]\r\n      weaponDispatch({ level, ascension })\r\n    }\r\n  }, [weaponSheet, weapon, weaponDispatch, level, ascension])\r\n\r\n\r\n  const weaponUIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\r\n  return <ModalWrapper open={!!propWeaponId} onClose={onClose} containerProps={{ maxWidth: \"md\" }}><CardLight>\r\n    <WeaponSelectionModal ascension={ascension} show={showModal} onHide={() => setshowModal(false)} onSelect={k => weaponDispatch({ key: k })} filter={weaponFilter} weaponFilter={initialWeaponFilter} />\r\n    <CardContent >\r\n      {weaponSheet && weaponUIData && <Grid container spacing={1.5}>\r\n        <Grid item xs={12} sm={3}>\r\n          <Grid container spacing={1.5}>\r\n            <Grid item xs={6} sm={12}>\r\n              <Box component=\"img\" src={img} className={`grad-${weaponSheet.rarity}star`} sx={{ maxWidth: 256, width: \"100%\", height: \"auto\", borderRadius: 1 }} />\r\n            </Grid>\r\n            <Grid item xs={6} sm={12}>\r\n              <Typography><small>{weaponSheet.description}</small></Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item xs={12} sm={9} sx={{ display: \"flex\", flexDirection: \"column\", gap: 1 }}>\r\n          <Box display=\"flex\" gap={1} flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <ButtonGroup>\r\n              <Button onClick={() => setshowModal(true)} >{weaponSheet?.name ?? \"Select a Weapon\"}</Button>\r\n              {weaponSheet?.hasRefinement && <DropdownButton title={`Refinement ${refinement}`}>\r\n                <MenuItem>Select Weapon Refinement</MenuItem>\r\n                <Divider />\r\n                {[...Array(5).keys()].map(key =>\r\n                  <MenuItem key={key} onClick={() => weaponDispatch({ refinement: key + 1 })} selected={refinement === (key + 1)} disabled={refinement === (key + 1)}>\r\n                    {`Refinement ${key + 1}`}\r\n                  </MenuItem>)}\r\n              </DropdownButton>}\r\n              {extraButtons}\r\n            </ButtonGroup>\r\n          </Box>\r\n          <Box display=\"flex\" gap={1} flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <ButtonGroup sx={{ bgcolor: t => t.palette.contentLight.main }} >\r\n              <CustomNumberInputButtonGroupWrapper >\r\n                <CustomNumberInput onChange={setLevel} value={level}\r\n                  startAdornment=\"Lv. \"\r\n                  inputProps={{ min: 1, max: 90, sx: { textAlign: \"center\" } }}\r\n                  sx={{ width: \"100%\", height: \"100%\", pl: 2 }}\r\n                />\r\n              </CustomNumberInputButtonGroupWrapper>\r\n              {weaponSheet && <Button sx={{ pl: 1 }} disabled={!weaponSheet.ambiguousLevel(level)} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>}\r\n              {weaponSheet && <DropdownButton title={\"Select Level\"} >\r\n                {weaponSheet.milestoneLevels.map(([lv, as]) => {\r\n                  const sameLevel = lv === ascensionMaxLevel[as]\r\n                  const lvlstr = sameLevel ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevel[as]}`\r\n                  const selected = lv === level && as === ascension\r\n                  return <MenuItem key={`${lv}/${as}`} selected={selected} disabled={selected} onClick={() => weaponDispatch({ level: lv, ascension: as })}>{lvlstr}</MenuItem>\r\n                })}\r\n              </DropdownButton>}\r\n            </ButtonGroup>\r\n\r\n            <Button color=\"error\" onClick={() => id && database.updateWeapon({ lock: !lock }, id)} startIcon={lock ? <Lock /> : <LockOpen />}>\r\n              {lock ? \"Locked\" : \"Unlocked\"}\r\n            </Button>\r\n          </Box>\r\n          <Typography><Stars stars={weaponSheet.rarity} /></Typography>\r\n          <Typography variant=\"subtitle1\"><strong>{weaponSheet.passiveName}</strong></Typography>\r\n          <Typography gutterBottom>{weaponSheet.passiveName && weaponSheet.passiveDescription(weaponUIData.get(input.weapon.refineIndex).value)}</Typography>\r\n          <Box display=\"flex\" flexDirection=\"column\" gap={1}>\r\n            <CardDark >\r\n              <CardHeader title={\"Main Stats\"} titleTypographyProps={{ variant: \"subtitle2\" }} />\r\n              <Divider />\r\n              <FieldDisplayList>\r\n                {[input.weapon.main, input.weapon.sub, input.weapon.sub2].map((node, i) => {\r\n                  const n = weaponUIData.get(node)\r\n                  if (n.isEmpty || !n.value) return null\r\n                  return <NodeFieldDisplay key={n.info.key} node={n} component={ListItem} />\r\n                })}\r\n              </FieldDisplayList>\r\n            </CardDark>\r\n            {data && weaponSheet.document && <DocumentDisplay sections={weaponSheet.document} />}\r\n          </Box>\r\n        </Grid>\r\n      </Grid>}\r\n    </CardContent>\r\n    {footer && id && <CardContent sx={{ py: 1 }}>\r\n      <Grid container spacing={1}>\r\n        <Grid item flexGrow={1}>\r\n          <CharacterAutocomplete showDefault size=\"small\" defaultIcon={<BusinessCenter />} defaultText={t(\"inventory\")} value={location} onChange={equipOnChar} filter={filter} disable={(v: any) => v === \"\"} disableClearable />\r\n        </Grid>\r\n        <Grid item flexGrow={2} />\r\n        {!!onClose && <Grid item><CloseButton sx={{ height: \"100%\" }} large onClick={onClose} /></Grid>}\r\n      </Grid>\r\n    </CardContent>}\r\n  </CardLight ></ModalWrapper>\r\n}\r\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardHeaderUtilityClass(slot) {\n  return generateUtilityClass('MuiCardHeader', slot);\n}\nconst cardHeaderClasses = generateUtilityClasses('MuiCardHeader', ['root', 'avatar', 'action', 'content', 'title', 'subheader']);\nexport default cardHeaderClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"action\", \"avatar\", \"className\", \"component\", \"disableTypography\", \"subheader\", \"subheaderTypographyProps\", \"title\", \"titleTypographyProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport Typography from '../Typography';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardHeaderClasses, { getCardHeaderUtilityClass } from './cardHeaderClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    avatar: ['avatar'],\n    action: ['action'],\n    content: ['content'],\n    title: ['title'],\n    subheader: ['subheader']\n  };\n  return composeClasses(slots, getCardHeaderUtilityClass, classes);\n};\n\nconst CardHeaderRoot = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Root',\n  overridesResolver: (props, styles) => _extends({\n    [`& .${cardHeaderClasses.title}`]: styles.title,\n    [`& .${cardHeaderClasses.subheader}`]: styles.subheader\n  }, styles.root)\n})({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 16\n});\nconst CardHeaderAvatar = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Avatar',\n  overridesResolver: (props, styles) => styles.avatar\n})({\n  display: 'flex',\n  flex: '0 0 auto',\n  marginRight: 16\n});\nconst CardHeaderAction = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  flex: '0 0 auto',\n  alignSelf: 'flex-start',\n  marginTop: -4,\n  marginRight: -8,\n  marginBottom: -4\n});\nconst CardHeaderContent = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Content',\n  overridesResolver: (props, styles) => styles.content\n})({\n  flex: '1 1 auto'\n});\nconst CardHeader = /*#__PURE__*/React.forwardRef(function CardHeader(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardHeader'\n  });\n\n  const {\n    action,\n    avatar,\n    className,\n    component = 'div',\n    disableTypography = false,\n    subheader: subheaderProp,\n    subheaderTypographyProps,\n    title: titleProp,\n    titleTypographyProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    component,\n    disableTypography\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  let title = titleProp;\n\n  if (title != null && title.type !== Typography && !disableTypography) {\n    title = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: avatar ? 'body2' : 'h5',\n      className: classes.title,\n      component: \"span\",\n      display: \"block\"\n    }, titleTypographyProps, {\n      children: title\n    }));\n  }\n\n  let subheader = subheaderProp;\n\n  if (subheader != null && subheader.type !== Typography && !disableTypography) {\n    subheader = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: avatar ? 'body2' : 'body1',\n      className: classes.subheader,\n      color: \"text.secondary\",\n      component: \"span\",\n      display: \"block\"\n    }, subheaderTypographyProps, {\n      children: subheader\n    }));\n  }\n\n  return /*#__PURE__*/_jsxs(CardHeaderRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [avatar && /*#__PURE__*/_jsx(CardHeaderAvatar, {\n      className: classes.avatar,\n      ownerState: ownerState,\n      children: avatar\n    }), /*#__PURE__*/_jsxs(CardHeaderContent, {\n      className: classes.content,\n      ownerState: ownerState,\n      children: [title, subheader]\n    }), action && /*#__PURE__*/_jsx(CardHeaderAction, {\n      className: classes.action,\n      ownerState: ownerState,\n      children: action\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardHeader.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display in the card header.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, `subheader` and `title` won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `title` text, and optional `subheader` text\n   * with the Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  subheader: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the subheader\n   * (as long as disableTypography is not `true`).\n   */\n  subheaderTypographyProps: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The content of the component.\n   */\n  title: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the title\n   * (as long as disableTypography is not `true`).\n   */\n  titleTypographyProps: PropTypes.object\n} : void 0;\nexport default CardHeader;"],"names":["CharacterContext","createContext","BootstrapTooltip","styled","className","props","arrow","classes","popper","theme","tooltipClasses","color","palette","common","black","backgroundColor","maxWidth","StyledInputBase","InputBase","primary","main","transition","dark","Wrapper","Button","padding","overflow","width","height","CustomNumberInputButtonGroupWrapper","children","disableRipple","disableFocusRipple","disableTouchRipple","CustomNumberInput","value","onChange","disabled","float","useState","number","setNumber","focused","setFocus","parseFunc","useMemo","parseFloat","parseInt","onBlur","useCallback","onFocus","useEffect","onInputChange","e","target","onKeyDOwn","key","type","inputProps","step","onKeyDown","ConditionalSelector","conditional","Object","keys","states","length","SimpleConditionalSelector","ExclusiveConditionalSelector","MultipleConditionalSelector","useContext","character","characterDispatch","data","DataContext","setConditional","v","conditionalValues","deepClone","layeredAssignment","path","deletePropPath","conditionalValue","get","entries","stateKey","badge","getStateBadge","name","condName","getCondName","fullWidth","size","sx","borderRadius","onClick","undefined","startIcon","CheckBox","CheckBoxOutlineBlank","state","SqBadge","DropdownButton","title","MenuItem","selected","Divider","map","st","ButtonGroup","orientation","disableElevation","isSelected","isElement","disp","stateName","badgeColor","badgeText","ml","key18","ns","values","Translate","useBadge","ConditionalDisplay","fields","hideHeader","hideDesc","condVal","flatMap","CardDark","evalIfFunc","HeaderDisplay","header","CardContent","p","pb","DocumentDisplay","sections","teamBuffOnly","sectionDisplays","s","i","canShow","teamBuff","SectionDisplay","section","filter","Box","display","flexDirection","gap","FieldsSectionDisplay","TextSectionDisplay","hideDivider","text","icon","action","description","displayTitle","InfoTooltip","Typography","CardHeader","avatar","titleTypographyProps","variant","placement","component","cursor","faQuestionCircle","FieldsDisplay","FieldDisplayList","m","field","FieldDisplay","ListItem","oldData","node","isEmpty","oldNode","oldValue","NodeFieldDisplay","suffix","textSuffix","BasicFieldDisplay","justifyContent","alignItems","toFixed","fixed","unit","info","StatIcon","fieldText","KeyMap","isTeamBuff","fieldFormulaText","formula","fieldVal","diff","valueString","formulaTextOverlay","Suspense","fallback","Skeleton","Groups","noWrap","List","shape","margin","contentDark","contentDarker","faInfoCircle","WeaponEditor","propWeaponId","weaponId","footer","onClose","extraButtons","t","useTranslation","database","DatabaseContext","weapon","useWeapon","level","refinement","ascension","lock","location","id","weaponSheet","usePromise","WeaponSheet","weaponDispatch","newWeapon","updateWeapon","setLevel","clamp","ascensionMaxLevel","ascenML","setAscension","lowerAscension","characterSheet","CharacterSheet","weaponFilter","ws","weaponType","weaponTypeKey","initialWeaponFilter","equipOnChar","charKey","setWeaponLocation","cs","showModal","setshowModal","img","getImg","rarity","lowRarityMilestoneLevels","weaponUIData","computeUIData","dataObjForWeapon","open","containerProps","show","onHide","onSelect","k","container","spacing","item","xs","sm","src","flexWrap","hasRefinement","Array","bgcolor","contentLight","startAdornment","min","max","textAlign","pl","ambiguousLevel","milestoneLevels","lv","as","lvlstr","stars","passiveName","gutterBottom","passiveDescription","input","n","document","py","flexGrow","showDefault","defaultIcon","defaultText","disable","disableClearable","large","createSvgIcon","_jsx","d","getCardHeaderUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardHeaderRoot","overridesResolver","styles","_extends","cardHeaderClasses","subheader","root","CardHeaderAvatar","flex","marginRight","CardHeaderAction","alignSelf","marginTop","marginBottom","CardHeaderContent","content","React","inProps","ref","useThemeProps","disableTypography","subheaderProp","subheaderTypographyProps","titleProp","other","_objectWithoutPropertiesLoose","ownerState","composeClasses","useUtilityClasses","_jsxs","clsx"],"sourceRoot":""}