{"version":3,"sources":["Components/Card/CardLight.tsx","Components/Card/CardDark.tsx","Components/DropdownMenu/DropdownButton.tsx","Components/SqBadge.tsx","Components/StarDisplay.tsx","Character/Character.ts","Components/CloseButton.tsx","ReactHooks/useCharacterReducer.tsx","Components/FieldDisplay.tsx","Components/ModalWrapper.tsx","Components/SolidToggleButtonGroup.tsx","ReactHooks/useForceUpdate.tsx","Components/CustomNumberInput.tsx","Components/Character/CharacterDropdownButton.tsx","Components/BootstrapTooltip.tsx","Character/CharacterUtil.tsx","Conditional/ConditionalSelector.tsx","Components/ConditionalDisplay.tsx","Components/DocumentDisplay.tsx","Components/ExpandButton.tsx","Components/ConditionalWrapper.tsx","StatDependency.ts","Components/TextButton.tsx","Components/StatDisplay.tsx","Character/StatInput.tsx","Artifact/Component/SetEffectDisplay.tsx","Character/CharacterDisplay/StatDisplayComponent.tsx","Components/EnemyEditor.tsx","Components/HitModeEditor.tsx","../node_modules/@mui/icons-material/esm/ExpandMore.js","Components/InfoComponent.tsx","../node_modules/@mui/utils/esm/useControlled.js","../node_modules/@mui/icons-material/esm/BusinessCenter.js","../node_modules/@mui/icons-material/esm/Replay.js","../node_modules/@mui/material/Alert/alertClasses.js","../node_modules/@mui/material/Alert/Alert.js","../node_modules/@mui/material/internal/svg-icons/SuccessOutlined.js","../node_modules/@mui/material/internal/svg-icons/ReportProblemOutlined.js","../node_modules/@mui/material/internal/svg-icons/ErrorOutline.js","../node_modules/@mui/material/internal/svg-icons/InfoOutlined.js","../node_modules/@mui/material/internal/svg-icons/Close.js","../node_modules/@mui/material/Collapse/collapseClasses.js","../node_modules/@mui/material/Collapse/Collapse.js","Components/Artifact/ArtifactSetDropdown.tsx","../node_modules/@mui/icons-material/esm/CheckBox.js","../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","Util/TimeUtil.ts","../node_modules/@mui/material/ListItem/listItemClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/listItemSecondaryActionClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js","../node_modules/@mui/material/ListItem/ListItem.js","../node_modules/@mui/material/internal/svg-icons/Cancel.js","../node_modules/@mui/material/Chip/chipClasses.js","../node_modules/@mui/material/Chip/Chip.js","../node_modules/@mui/material/CardActionArea/cardActionAreaClasses.js","../node_modules/@mui/material/CardActionArea/CardActionArea.js","Character/CharacterCard.tsx","../node_modules/@mui/material/Link/linkClasses.js","../node_modules/@mui/material/Link/Link.js","Build/BuildWorker.ts","Build/Components/ArtifactBuildDisplayItem.tsx","Build/Components/ArtifactConditionalCard.tsx","Build/Components/ArtifactSetPicker.tsx","Build/Components/BonusStatsCard.tsx","../node_modules/@mui/material/LinearProgress/linearProgressClasses.js","../node_modules/@mui/material/LinearProgress/LinearProgress.js","Build/Components/BuildAlert.tsx","Build/Components/CharacterSelectionCard.tsx","Build/Components/EnemyEditorCard.tsx","Build/Components/HitModeCard.tsx","../node_modules/@mui/icons-material/esm/Info.js","Build/Components/MainStatSelectionCard.tsx","Build/Components/OptimizationTargetSelector.tsx","Build/Components/StatFilterCard.tsx","Build/BuildDisplay.tsx"],"names":["CardLight","styled","Card","backgroundColor","theme","palette","contentLight","main","CardDark","contentDark","DropdownButton","title","children","id","props","useState","anchorEl","setAnchorEl","open","Boolean","handleClick","useCallback","event","currentTarget","handleClose","fallback","endIcon","width","aria-controls","aria-haspopup","aria-expanded","undefined","onClick","onClose","MenuListProps","height","SqBadge","name","slot","color","display","padding","fontSize","fontWeight","lineHeight","textAlign","whiteSpace","verticalAlign","borderRadius","contrastText","StarIcon","icon","faStar","Stars","stars","colored","component","Array","keys","map","_","i","Character","this","Error","getElementalName","elementalKey","ElementalData","getLevelString","character","level","ascensionMaxLevel","ascension","getTalentFieldValue","field","key","stats","defVal","evalIfFunc","hasBonusStats","statKey","bonusStats","getStatValueWithBonus","characterBaseStats","calculateBuild","database","characterSheet","weaponSheet","artifactSheets","mainStatAssumptionLevel","artifacts","Object","fromEntries","entries","equippedArtifacts","artid","_getArt","initialStats","createInitialStats","calculateBuildwithArtifact","setToSlots","Artifact","artifactSetEffectsStats","ArtifactSheet","setEffectsStats","deepClone","values","forEach","art","mainStatKey","mainStatValue","rarity","Math","max","min","substats","substat","value","mergeStats","Conditional","parseConditionalValues","artifact","conditionalValues","conditional","conditionalValue","setKey","setNumKey","parseInt","length","condStats","resolve","val","dependencies","GetDependencies","modifiers","PreprocessFormulas","preprocessedStats","formula","characterKey","elementKey","hitMode","infusionAura","reactionMode","talent","constellation","equippedWeapon","weapon","_getWeapon","defaultInitialWeapon","weaponTypeKey","UIOverrideStatkeys","characterLevel","characterHP","getBase","characterDEF","characterATK","characterEle","weaponType","tlvl","refineIndex","refinement","specialStatKey","getSpecializedStat","specializedStatVal","getSpecializedStatVal","getTalentStatsAll","s","weaponATK","getMainStatValue","weaponSubKey","getSubStatKey","getSubStatValue","weaponCond","otherCond","canShow","getDisplayStatKeys","eleKey","basicKeys","isAutoElemental","push","transReactions","ElementToReactionKeys","includes","charFormulas","talentSheet","getTalent","addFormula","fields","parseSection","section","sheets","talentKey","sections","formKey","document","num","artifactSheet","setEffects","setNum","CloseButton","large","t","useTranslation","startIcon","sx","p","minWidth","useCharacterReducer","useContext","DatabaseContext","action","type","setWeaponLocation","_getChar","updateChar","FieldDisplay","buildContext","newBuild","equippedBuild","compareBuild","build","useMemo","fixedVal","fixed","fieldVal","retVal","fieldEquippedVal","toFixed","diff","fieldText","fieldVariant","formulaTextOverlay","fieldFormulaText","placement","cursor","ml","faQuestionCircle","unit","justifyContent","FieldDisplayList","List","shape","overflow","margin","contentDarker","ScrollModal","Modal","paddingTop","spacing","paddingBottom","ModalContainer","Container","minHeight","flexDirection","pointerEvents","ModalWrapper","containerProps","variant","SolidToggleButtonGroup","ToggleButtonGroup","shouldForwardProp","prop","baseColor","selectedColor","dark","useForceUpdate","stateDirty","update","StyledInputBase","InputBase","primary","transition","CustomNumberInputButtonGroupWrapper","border","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","CustomNumberInput","onChange","disabled","float","state","setState","sendChange","parseFunc","parseFloat","useEffect","toString","onInputChange","e","target","onKeyDOwn","aria-label","onBlur","onKeyDown","CharacterDropdownButton","inventory","noUnselect","filter","characterSheets","usePromise","CharacterSheet","getAll","get","characterKeys","_getCharKeys","ck","sort","thumbImg","src","selected","noWrap","CharacterMenuItemArray","selectedCharacterKey","BootstrapTooltip","className","arrow","classes","popper","tooltipClasses","common","black","tooltip","getFormulaTargetsDisplayHeading","startsWith","subkey","split","getTalentOfKey","initialCharacter","objectFromKeyMap","allSlotKeys","buildSettings","initialBuildSettings","auto","skill","burst","ConditionalSelector","setConditional","conditionalNum","conditionalStateKey","states","text","maxStack","badge","size","MenuItem","Divider","flatMap","stateKey","condial","v","stack","Button","CheckBox","CheckBoxOutlineBlank","ConditionalDisplay","characterDispatch","conditionalStats","conditionalFields","displayFields","statsToFields","condV","layeredAssignment","deletePropPath","objClearEmpties","CardContent","m","DocumentDisplay","talentText","Box","pb","mb","ExpandButton","expand","other","transform","marginLeft","transitions","create","duration","shortest","ConditionalWrapper","condition","wrapper","GetFormulaDependency","dependency","Set","Proxy","receiver","add","formulaKeyDependency","freeze","Formulas","baseStat","StatData","found","numStages","InsertDependencies","dep","has","k","path","Formula","getCurrent","getStage","DisabledButton","secondary","TextButton","DisplayStatDiff","label","oldVal","hasBonus","oldText","diffText","valueText","StatDisplay","isArray","Stat","getStatUnit","fixedUnit","StatIcon","getStatName","labelVariant","FlexButtonGroup","ButtonGroup","StatInput","placeholder","defaultValue","onValueChange","percent","restProps","flexBasis","flexGrow","px","inputProps","endAdornment","SetEffectDisplay","sheet","setEffectText","setEffectDesc","setStats","setNumStats","setStatsFields","setEffectDocument","mt","StatDisplayComponent","statsDisplayKeys","container","sectionKey","sectionValues","header","item","xs","sm","md","lg","gutterBottom","mx","JSON","stringify","EnemyExpandCard","expanded","setexpanded","toggle","alignItems","allElements","element","EnemyResText","in","timeout","unmountOnExit","pt","EnemyEditor","immune","resKey","content","uncoloredEleIcons","bsProps","charBaseStats","fullWidth","href","rel","bgcolor","getStatNameRaw","enemyLevel","immunityStatKey","elementImmunity","faCheckSquare","faSquare","infusionVals","pyro","cryo","InfusionAuraDropdown","isMelee","ReactionToggle","charEleKey","exclusive","hydro","HitModeToggle","DamageOptionsCard","createSvgIcon","_jsx","d","InfoComponent","pageKey","modalTitle","dbStorage","showInfoModal","setshowInfoModal","getRandomElementFromArray","displayText","closeModal","infoShown","set","pl","ns","key18","maxWidth","py","useControlled","controlled","defaultProp","default","isControlled","React","current","valueState","setValue","newValue","getAlertUtilityClass","generateUtilityClass","_CloseIcon","alertClasses","generateUtilityClasses","_excluded","AlertRoot","Paper","overridesResolver","styles","ownerState","root","capitalize","severity","getColor","mode","darken","lighten","getBackgroundColor","_extends","typography","body2","light","fontWeightMedium","AlertIcon","marginRight","opacity","AlertMessage","message","AlertAction","defaultIconMapping","success","SuccessOutlinedIcon","warning","ReportProblemOutlinedIcon","error","ErrorOutlineIcon","info","InfoOutlinedIcon","Alert","inProps","ref","useThemeProps","closeText","iconMapping","role","_objectWithoutPropertiesLoose","slots","composeClasses","useUtilityClasses","_jsxs","square","elevation","clsx","IconButton","CloseIcon","getCollapseUtilityClass","CollapseRoot","orientation","entered","collapsedSize","hidden","visibility","CollapseWrapper","CollapseWrapperInner","wrapperInner","Collapse","addEndListener","collapsedSizeProp","easing","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","standard","TransitionComponent","Transition","useTheme","timer","wrapperRef","autoTransitionDuration","isHorizontal","clearTimeout","nodeRef","handleRef","useForkRef","normalizedTransitionCallback","callback","maybeIsAppearing","node","getWrapperSize","handleEnter","isAppearing","position","handleEntering","wrapperSize","getTransitionProps","transitionDuration","transitionTimingFunction","duration2","getAutoHeightDuration","handleEntered","handleExit","handleExited","handleExiting","next","setTimeout","childProps","as","muiSupportAuto","ArtifactSetDropdown","selectedSetKey","artifactSetsByRarity","hasUnselect","displaySets","setKeysByRarities","defIconSrc","i18nKey","reverse","star","sets","SECOND_MS","MINUTE_MS","HOUR_MS","DAY_MS","msToUnits","ms","milliseconds","seconds","floor","minutes","hours","timeString","timeText","strPadLeft","timeStringMs","getListItemUtilityClass","listItemClasses","getListItemSecondaryActionClassesUtilityClass","ListItemSecondaryActionRoot","disableGutters","right","top","ListItemSecondaryAction","context","ListContext","muiName","_excluded2","ListItemRoot","dense","alignItemsFlexStart","divider","gutters","disablePadding","button","hasSecondaryAction","secondaryAction","textDecoration","boxSizing","paddingLeft","paddingRight","listItemButtonClasses","focusVisible","focus","alpha","selectedOpacity","focusOpacity","disabledOpacity","borderBottom","backgroundClip","hover","hoverOpacity","ListItemContainer","ListItem","autoFocus","childrenProp","componentProp","components","componentsProps","ContainerComponent","ContainerProps","ContainerClassName","focusVisibleClassName","childContext","listItemRef","useEnhancedEffect","toArray","isMuiElement","Root","rootProps","componentProps","Component","ButtonBase","Provider","isHostComponent","pop","getChipUtilityClass","chipClasses","ChipRoot","clickable","onDelete","avatar","deleteIcon","deletable","deleteIconColor","fontFamily","pxToRem","outline","grey","avatarColorPrimary","avatarColorSecondary","avatarSmall","WebkitTapHighlightColor","userSelect","boxShadow","shadows","iconSmall","deleteIconSmall","ChipLabel","textOverflow","isDeleteKeyboardEvent","keyboardEvent","Chip","avatarProp","clickableProp","ComponentProp","deleteIconProp","iconProp","onKeyUp","chipRef","handleDeleteIconClick","stopPropagation","small","moreProps","disableRipple","customClasses","CancelIcon","preventDefault","blur","getCardActionAreaUtilityClass","cardActionAreaClasses","CardActionAreaRoot","focusHighlight","CardActionAreaFocusHighlight","bottom","left","short","CardActionArea","CharacterCard","onEdit","footer","databaseCharacter","updateDatabaseCharacter","followChar","WeaponSheet","actionWrapperFunc","deleteChar","weaponLevel","weaponAscension","weaponName","weaponMainVal","weaponSubVal","weaponLevelName","weaponPassiveName","passiveName","flexWrap","titleTypographyProps","skillBoost","burstBoost","alignContent","img","mr","arr","artifactSetName","highestNum","statVal","Link","to","pathname","faCalculator","faLink","faTrash","getLinkUtilityClass","linkClasses","colorTransformations","textPrimary","textSecondary","LinkRoot","Typography","underline","getPath","transformDeprecatedColors","textDecorationColor","MozAppearance","WebkitAppearance","borderStyle","onFocus","TypographyClasses","useIsFocusVisible","isFocusVisibleRef","handleBlurVisible","handleFocusVisible","focusVisibleRef","setFocusVisible","handlerRef","Worker_fn","Worker","ArtifactBuildDisplayItem","index","currentlyEquipped","every","slotKey","Skeleton","Grid","slotarr1","slotarr","artifactSlotIcon","ArtifactConditionalCard","setOpen","onOpen","artifactCondCount","count","crawlObject","ArtConditionalModal","artSetKeyList","Replay","slotIcons","rarities","editable","ArtifactSetPicker","setFilters","some","setsNumArr","artsAccountedOther","reduce","accu","cur","ind","artsAccounted","setNKey","setNkey","BonusStatsCard","endsWith","my","getLinearProgressUtilityClass","_t","_t2","_t3","_t4","_t5","_t6","indeterminate1Keyframe","keyframes","indeterminate2Keyframe","bufferKeyframe","getColorShade","LinearProgressRoot","zIndex","colorAdjust","LinearProgressDashed","dashed","marginTop","backgroundImage","backgroundSize","backgroundPosition","css","LinearProgressBar1","bar","bar1Indeterminate","bar1Determinate","bar1Buffer","transformOrigin","LinearProgressBar2","bar2Indeterminate","bar2Buffer","LinearProgress","valueBuffer","bar1","bar2","inlineStyles","round","direction","process","warningBuildNumber","Monospace","BorderLinearProgress","BuildAlert","totBuildNumber","generatingBuilds","generationSkipped","generationProgress","generationDuration","characterName","maxBuildsToShow","totalBuildNumberString","toLocaleString","totalUnskipped","generationProgressString","generationSkippedString","totalUnskippedString","generationSkippedText","subtitle","progress","CharacterDisplayCard","lazy","CharacterSelectionCard","selectCharacter","setCharacterKey","EnemyEditorCard","setExpanded","CardHeader","ExpandMore","HitModeCard","artifactsSlotsToSelectMainStats","MainStatSelectionCard","mainStatKeys","onChangeMainStatKey","onChangeAssLevel","Info","AssumeFullLevelToggle","setmainStatAssumptionLevel","numSel","slotMainStats","getStatNameWithPercent","levels","0","4","8","12","16","20","WhiteButton","OptimizationTargetSelector","optimizationTarget","setTarget","setTargetHandler","sortByText","getStatVariant","MenuList","TargetSelectorMenuItem","talentField","StatFilterCard","statKeys","statFilters","setStatFilters","remainingKeys","setFilter","sKey","StatFilterItem","close","isFloat","faTrashAlt","InfoDisplay","BuildDisplay","propCharacterKey","location","setcharacterKey","modalBuild","setmodalBuild","showCharacterModal","setshowCharacterModal","setgeneratingBuilds","setgenerationProgress","setgenerationDuration","setgenerationSkipped","charDirty","setCharDirty","artsDirty","setArtsDirty","isMounted","useRef","worker","setCharacterData","useExcludedArts","useEquippedArts","builds","buildDate","buildStats","arts","noCharacter","noArtifact","_getArts","buildSettingsDispatch","buildSettingsReducer","ReactGA","pageview","cKey","a","followAnyArt","terminate","artifactDatabase","exclude","splitArtifactsBySlot","calculateTotalBuildNumber","generateBuilds","artifactSetEffects","setEffectsObjs","splitArtifacts","artArr","mainStatVal","data","minFilters","onmessage","timing","skipped","category","variable","b","Date","now","postMessage","closeBuildModal","gap","BuildModal","RouterLink","sFs","maxBuildsToShowList","Close","join"],"mappings":"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","file":"static/js/15.745798a2.chunk.js","sourcesContent":["import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardLight = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentLight.main\r\n}));\r\n\r\nexport default CardLight","import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardDark = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentDark.main\r\n}));\r\n\r\nexport default CardDark","import { KeyboardArrowDown } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps, Menu, Skeleton } from \"@mui/material\";\r\nimport { Suspense, useCallback, useState } from \"react\";\r\n\r\nexport type DropdownButtonProps = Omit<ButtonProps, \"title\"> & {\r\n  title: React.ReactNode,\r\n  id?: string,\r\n  children: React.ReactNode\r\n}\r\nexport default function DropdownButton({ title, children, id = \"dropdownbtn\", ...props }: DropdownButtonProps) {\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLButtonElement>) => setAnchorEl(event.currentTarget),\r\n    [setAnchorEl],\r\n  )\r\n  const handleClose = useCallback(\r\n    () => setAnchorEl(null),\r\n    [setAnchorEl],\r\n  )\r\n\r\n  return <Suspense fallback={<Button endIcon={<KeyboardArrowDown />}{...props}><Skeleton width={50} /></Button>} >\r\n    <Button\r\n      {...props}\r\n      id={id}\r\n      aria-controls=\"basic-menu\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded={open ? 'true' : undefined}\r\n      onClick={handleClick}\r\n      endIcon={<KeyboardArrowDown />}\r\n    >\r\n      {title}\r\n    </Button>\r\n    <Menu\r\n      id=\"basic-menu\"\r\n      anchorEl={anchorEl}\r\n      open={open}\r\n      onClose={handleClose}\r\n      MenuListProps={{\r\n        'aria-labelledby': id,\r\n      }}\r\n      onClick={handleClose}\r\n    >\r\n      {/* set Skeleton to be really high so the taller dropdowns can still be placed properly... */}\r\n      <Suspense fallback={<Skeleton width=\"100%\" height=\"1000\" />}>\r\n        {children}\r\n      </Suspense>\r\n    </Menu>\r\n  </Suspense>\r\n}","import { styled } from \"@mui/material\";\r\n\r\nconst SqBadge = styled(\"span\", {\r\n  name: 'SqBadge',\r\n  slot: 'Root',\r\n})(({ theme, color = \"primary\" }) => ({\r\n  display: \"inline-block\",\r\n  padding: \".25em .4em\",\r\n  fontSize: \"75%\",\r\n  fontWeight: 700,\r\n  lineHeight: 1,\r\n  textAlign: \"center\",\r\n  whiteSpace: \"nowrap\",\r\n  verticalAlign: \"baseline\",\r\n  borderRadius: \".25em\",\r\n  backgroundColor: theme.palette[color]?.main,\r\n  color: theme.palette[color]?.contrastText\r\n}))\r\nexport default SqBadge","import { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Typography } from '@mui/material'\r\nimport { Rarity } from '../Types/consts'\r\n\r\nconst StarIcon = () => <FontAwesomeIcon icon={faStar} />\r\nconst Stars = ({ stars, colored = false }: { stars: Rarity, colored?: boolean }) =>\r\n  <Typography color={colored ? \"warning.main\" : undefined} component=\"span\">\r\n    {stars ? [...Array(stars).keys()].map((_, i) => <StarIcon key={i} />) : null}\r\n  </Typography>\r\n\r\nexport {\r\n  StarIcon,\r\n  Stars\r\n}\r\n","import Artifact from \"../Artifact/Artifact\";\r\nimport { ArtifactSheet } from \"../Artifact/ArtifactSheet\";\r\nimport Conditional from \"../Conditional/Conditional\";\r\nimport { ascensionMaxLevel } from \"../Data/LevelData\";\r\nimport ElementalData from \"../Data/ElementalData\";\r\nimport { ArtCharDatabase } from \"../Database/Database\";\r\nimport { ElementToReactionKeys, PreprocessFormulas } from \"../StatData\";\r\nimport { GetDependencies } from \"../StatDependency\";\r\nimport { ICachedArtifact } from \"../Types/artifact\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { ArtifactSetKey, ElementKey, SlotKey } from \"../Types/consts\";\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\";\r\nimport { ICalculatedStats } from \"../Types/stats\";\r\nimport { characterBaseStats, UIOverrideStatkeys, mergeStats } from \"../Util/StatUtil\";\r\nimport { deepClone, evalIfFunc } from \"../Util/Util\";\r\nimport WeaponSheet from \"../Weapon/WeaponSheet\";\r\nimport { defaultInitialWeapon } from \"../Weapon/WeaponUtil\";\r\nimport CharacterSheet from \"./CharacterSheet\";\r\n\r\nexport default class Character {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Character) throw Error('A static class cannot be instantiated.'); }\r\n\r\n  static getElementalName = (elementalKey: ElementKey | \"physical\"): string =>\r\n    ElementalData[elementalKey].name\r\n  static getLevelString = (character: ICachedCharacter): string =>\r\n    `${character.level}/${ascensionMaxLevel[character.ascension]}`\r\n\r\n  static getTalentFieldValue = (field: IFieldDisplay, key: keyof IFieldDisplay, stats = {}, defVal = \"\"): any => {\r\n    if (!field[key]) return defVal\r\n    return evalIfFunc(field[key] as any, stats!)\r\n  }\r\n\r\n  static hasBonusStats = (character: ICachedCharacter, statKey): boolean => {\r\n    if (statKey === \"finalHP\")\r\n      return Character.hasBonusStats(character, \"hp\") || Character.hasBonusStats(character, \"hp_\") || Character.hasBonusStats(character, \"characterHP\")\r\n    if (statKey === \"finalDEF\")\r\n      return Character.hasBonusStats(character, \"def\") || Character.hasBonusStats(character, \"def_\") || Character.hasBonusStats(character, \"characterDEF\")\r\n    if (statKey === \"finalATK\")\r\n      return Character.hasBonusStats(character, \"atk\") || Character.hasBonusStats(character, \"atk_\") || Character.hasBonusStats(character, \"characterATK\")\r\n    return character?.bonusStats ? (statKey in character.bonusStats) : false;\r\n  }\r\n\r\n  static getStatValueWithBonus = (character: ICachedCharacter, statKey: string) => {\r\n    return character.bonusStats?.[statKey] ?? characterBaseStats(character)[statKey] ?? 0\r\n  }\r\n\r\n  static calculateBuild = (character: ICachedCharacter, database: ArtCharDatabase, characterSheet: CharacterSheet, weaponSheet: WeaponSheet, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet>, mainStatAssumptionLevel = 0): ICalculatedStats => {\r\n    const artifacts = Object.fromEntries(Object.entries(character.equippedArtifacts).map(([key, artid]) => [key, database._getArt(artid)]))\r\n    const initialStats = Character.createInitialStats(character, database, characterSheet, weaponSheet)\r\n    initialStats.mainStatAssumptionLevel = mainStatAssumptionLevel\r\n    return Character.calculateBuildwithArtifact(initialStats, artifacts, artifactSheets)\r\n  }\r\n\r\n  static calculateBuildwithArtifact = (initialStats: ICalculatedStats, artifacts: Dict<SlotKey, ICachedArtifact>, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet>): ICalculatedStats => {\r\n    const setToSlots = Artifact.setToSlots(artifacts)\r\n    const artifactSetEffectsStats = ArtifactSheet.setEffectsStats(artifactSheets, initialStats, setToSlots)\r\n\r\n    let stats = deepClone(initialStats)\r\n    //add artifact and artifactsets\r\n    Object.values(artifacts).forEach(art => {\r\n      if (!art) return\r\n      //main stats\r\n      stats[art.mainStatKey] = (stats[art.mainStatKey] || 0) + Artifact.mainStatValue(art.mainStatKey, art.rarity, Math.max(Math.min(stats.mainStatAssumptionLevel, art.rarity * 4), art.level))\r\n      //substats\r\n      art.substats.forEach((substat) =>\r\n        substat && substat.key && (stats[substat.key] = (stats[substat.key] || 0) + substat.value))\r\n    })\r\n    //setEffects\r\n    mergeStats(stats, artifactSetEffectsStats)\r\n    //setEffects conditionals\r\n    Conditional.parseConditionalValues({ artifact: stats?.conditionalValues?.artifact }, (conditional, conditionalValue, [, setKey, setNumKey]) => {\r\n      if (parseInt(setNumKey) > (setToSlots?.[setKey]?.length ?? 0)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, stats, conditionalValue)\r\n      mergeStats(stats, condStats)\r\n    })\r\n\r\n    stats.equippedArtifacts = Object.fromEntries(Object.entries(artifacts).map(([key, val]: any) => [key, val?.id]))\r\n    stats.setToSlots = setToSlots\r\n    let dependencies = GetDependencies(stats, stats?.modifiers)\r\n    const { initialStats: preprocessedStats, formula } = PreprocessFormulas(dependencies, stats)\r\n    formula(preprocessedStats)\r\n    return { ...stats, ...preprocessedStats }\r\n  }\r\n\r\n  static createInitialStats = (character: ICachedCharacter, database: ArtCharDatabase, characterSheet: CharacterSheet, weaponSheet: WeaponSheet): ICalculatedStats => {\r\n    const { key: characterKey, bonusStats = {}, elementKey, level, ascension, hitMode, infusionAura, reactionMode, talent, constellation, equippedArtifacts, conditionalValues = {}, equippedWeapon } = character\r\n    const weapon = database._getWeapon(equippedWeapon) ?? defaultInitialWeapon(characterSheet.weaponTypeKey) // need to ensure all characters have a weapon\r\n\r\n    //generate the initalStats obj with data from Character \r\n    const initialStats = characterBaseStats(character)\r\n    mergeStats(initialStats, bonusStats, UIOverrideStatkeys)\r\n    initialStats.characterKey = characterKey\r\n    initialStats.characterLevel = level\r\n    initialStats.characterHP = characterSheet.getBase(\"hp\", level, ascension)\r\n    initialStats.characterDEF = characterSheet.getBase(\"def\", level, ascension)\r\n    initialStats.characterATK = characterSheet.getBase(\"atk\", level, ascension)\r\n    initialStats.characterEle = characterSheet.elementKey ?? elementKey ?? \"anemo\";\r\n    initialStats.hitMode = hitMode;\r\n    initialStats.infusionAura = infusionAura\r\n    initialStats.reactionMode = reactionMode;\r\n    initialStats.conditionalValues = conditionalValues\r\n    initialStats.weaponType = characterSheet.weaponTypeKey\r\n    initialStats.tlvl = Object.fromEntries(Object.entries(talent ?? {}).map(([key, value]) => [key, value - 1])) as any;\r\n    initialStats.constellation = constellation\r\n    initialStats.ascension = ascension\r\n    initialStats.weapon = { key: weapon.key, refineIndex: weapon.refinement - 1 }\r\n    initialStats.equippedArtifacts = equippedArtifacts;\r\n\r\n    //add specialized stat\r\n    const specialStatKey = characterSheet.getSpecializedStat(ascension)\r\n    if (specialStatKey) {\r\n      const specializedStatVal = characterSheet.getSpecializedStatVal(ascension)\r\n      mergeStats(initialStats, { [specialStatKey]: specializedStatVal })\r\n    }\r\n\r\n    //add stats from all talents\r\n    characterSheet.getTalentStatsAll(initialStats as ICalculatedStats, initialStats.characterEle).forEach(s => mergeStats(initialStats, s))\r\n\r\n    //add levelBoosts, from Talent stats.\r\n    for (const key in initialStats.tlvl)\r\n      initialStats.tlvl[key] += initialStats[`${key}Boost`] ?? 0\r\n\r\n    //add stats from weapons\r\n    const weaponATK = weaponSheet.getMainStatValue(weapon.level, weapon.ascension)\r\n    initialStats.weaponATK = weaponATK\r\n    const weaponSubKey = weaponSheet.getSubStatKey()\r\n    if (weaponSubKey) mergeStats(initialStats, { [weaponSubKey]: weaponSheet.getSubStatValue(weapon.level, weapon.ascension) })\r\n    mergeStats(initialStats, weaponSheet.stats(initialStats as ICalculatedStats))\r\n\r\n\r\n    //Handle conditionals, without artifact, since the pipeline for that comes later.\r\n    const { artifact: artifactCond, weapon: weaponCond, ...otherCond } = conditionalValues\r\n\r\n    //handle conditionals. only the conditional applicable to the equipped weapon is parsed.\r\n    Conditional.parseConditionalValues({ ...weapon.key && { weapon: { [weapon.key]: weaponCond?.[weapon.key] } }, ...otherCond }, (conditional, conditionalValue, keys) => {\r\n      if (keys[0] === \"character\" && keys[3] === \"talents\" && keys[4] !== elementKey) return //fix for Traveler, make sure conditionals match element.\r\n      if (!Conditional.canShow(conditional, initialStats)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, initialStats, conditionalValue)\r\n      mergeStats(initialStats, condStats)\r\n    })\r\n    return initialStats as ICalculatedStats\r\n  }\r\n\r\n  static getDisplayStatKeys = (stats: ICalculatedStats, { characterSheet, weaponSheet, artifactSheets }: { characterSheet: CharacterSheet, weaponSheet: WeaponSheet, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet> }) => {\r\n    const eleKey = stats.characterEle\r\n    const basicKeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\", \"enerRech_\", `${eleKey}_dmg_`]\r\n    const isAutoElemental = characterSheet.isAutoElemental\r\n    if (!isAutoElemental) basicKeys.push(\"physical_dmg_\")\r\n\r\n    //show elemental interactions\r\n    const transReactions = deepClone(ElementToReactionKeys[eleKey])\r\n    const weaponTypeKey = characterSheet.weaponTypeKey\r\n    if (!transReactions.includes(\"shattered_hit\") && weaponTypeKey === \"claymore\") transReactions.push(\"shattered_hit\")\r\n    const charFormulas = {}\r\n    const talentSheet = characterSheet.getTalent(eleKey)\r\n    const addFormula = (fields, key) => fields.forEach(field => {\r\n      if (!field.formula || !field?.canShow?.(stats)) return\r\n      if (!charFormulas[key]) charFormulas[key] = []\r\n      charFormulas[key].push((field.formula as any).keys)\r\n    })\r\n    const parseSection = (section, key) => {\r\n      //conditional\r\n      if (section.conditional && Conditional.canShow(section.conditional, stats)) {\r\n        const { fields }: { fields?: Array<IFieldDisplay> } = Conditional.resolve(section.conditional, stats, null)\r\n        fields && addFormula(fields, key)\r\n      }\r\n      //fields\r\n      if (section.fields) addFormula(section.fields, key)\r\n    }\r\n    talentSheet && Object.entries(talentSheet.sheets).forEach(([talentKey, { sections }]) => {\r\n      if (talentKey === \"normal\" || talentKey === \"charged\" || talentKey === \"plunging\") talentKey = \"auto\"\r\n      sections.forEach(section => parseSection(section, `talentKey_${talentKey}`))\r\n    })\r\n\r\n    const formKey = `weapon_${stats.weapon.key}`\r\n    weaponSheet.document && weaponSheet.document.map(section => parseSection(section, formKey))\r\n\r\n    stats.setToSlots && Object.entries(stats.setToSlots).map(([setKey, slots]) => [setKey, slots.length]).forEach(([setKey, num]) => {\r\n      const artifactSheet = artifactSheets[setKey] as ArtifactSheet\r\n      if (!artifactSheet) return\r\n      Object.entries(artifactSheet.setEffects).forEach(([setNum, { document }]) => {\r\n        if (num < parseInt(setNum)) return\r\n        document && document.map(section => parseSection(section, `artifact_${setKey}_${setNum}`))\r\n      })\r\n    })\r\n\r\n    return { basicKeys, ...charFormulas, transReactions }\r\n  }\r\n}","import { Close } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps } from \"@mui/material\";\r\nimport { useTranslation } from \"react-i18next\";\r\ntype CloseButtonProps = ButtonProps & {\r\n  large?: boolean\r\n}\r\nexport default function CloseButton({ large = false, ...props }: CloseButtonProps) {\r\n  const { t } = useTranslation(\"ui\")\r\n  if (large)\r\n    return <Button color=\"error\" startIcon={<Close />} {...props} >{t`close`}</Button>\r\n  return <Button color=\"error\" sx={{ p: 1, minWidth: 0 }} {...props} >\r\n    <Close />\r\n  </Button>\r\n}","import { useCallback, useContext } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\nimport { characterBaseStats } from \"../Util/StatUtil\";\r\n\r\ntype characterEquipWeapon = {\r\n  type: \"weapon\", id: string\r\n}\r\ntype characterReducerBonusStatsAction = {\r\n  type: \"bonusStats\",\r\n  statKey: string\r\n  value: any | undefined\r\n}\r\nexport type characterReducerAction = characterEquipWeapon | characterReducerBonusStatsAction | Partial<ICachedCharacter>\r\n\r\nexport default function useCharacterReducer(characterKey: CharacterKey) {\r\n  const database = useContext(DatabaseContext)\r\n\r\n  return useCallback((action: characterReducerAction): void => {\r\n    if (!characterKey) return\r\n\r\n    if (\"type\" in action) switch (action.type) {\r\n      case \"weapon\":\r\n        database.setWeaponLocation(action.id, characterKey)\r\n        break\r\n      case \"bonusStats\": {\r\n        const character = database._getChar(characterKey)!\r\n        const { statKey, value } = action\r\n        const bonusStats = character.bonusStats\r\n        if (bonusStats[statKey] === value) return\r\n\r\n        bonusStats[statKey] = value\r\n        if ((characterBaseStats(character)[statKey] ?? 0) === value)\r\n          delete bonusStats[statKey]\r\n\r\n        database.updateChar({ ...character, bonusStats })\r\n        break\r\n      }\r\n    } else\r\n      database.updateChar({ ...database._getChar(characterKey)!, ...action })\r\n  }, [characterKey, database])\r\n\r\n}","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Box, List, ListItem, styled, Typography } from \"@mui/material\";\r\nimport React, { useContext, useMemo } from 'react';\r\nimport { buildContext } from \"../Build/Build\";\r\nimport Character from \"../Character/Character\";\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\";\r\nimport BootstrapTooltip from \"./BootstrapTooltip\";\r\nimport ColorText from \"./ColoredText\";\r\n\r\nexport default function FieldDisplay({ field }: { field: IFieldDisplay }) {\r\n  const { newBuild, equippedBuild, compareBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild)\r\n  const canShow = useMemo(() => build ? field?.canShow?.(build) : false, [field, build])\r\n  const fixedVal = field?.fixed || 0\r\n  const fieldVal = useMemo(() => {\r\n    if (field.value) return Character.getTalentFieldValue(field, \"value\", build)\r\n    else if (field.formula) {\r\n      let retVal = Character.getTalentFieldValue(field, \"formula\", build)?.[0]?.(build)\r\n      //compareAgainstEquipped\r\n      if (compareBuild && equippedBuild && typeof retVal === \"number\") {\r\n        let fieldEquippedVal = field.value ? field.value : field.formula?.(equippedBuild)?.[0]?.(equippedBuild)\r\n        if (typeof fieldEquippedVal === \"function\")\r\n          fieldEquippedVal = parseInt(fieldEquippedVal?.(equippedBuild)?.toFixed?.(fixedVal))\r\n        let diff = retVal - fieldEquippedVal\r\n        retVal = <span>{fieldEquippedVal?.toFixed(fixedVal) ?? fieldEquippedVal}{diff ? <ColorText color={diff > 0 ? \"success\" : \"error\"}> ({diff > 0 ? \"+\" : \"\"}{diff?.toFixed?.(fixedVal) || diff})</ColorText> : \"\"}</span>\r\n      }\r\n      return retVal\r\n    }\r\n  }, [compareBuild, fixedVal, equippedBuild, field, build])\r\n\r\n  const fieldText = useMemo(() => Character.getTalentFieldValue(field, \"text\", build), [field, build])\r\n  const fieldVariant = useMemo(() => Character.getTalentFieldValue(field, \"variant\", build), [field, build])\r\n\r\n  const formulaTextOverlay = useMemo(() => {\r\n    const fieldFormulaText = Character.getTalentFieldValue(field, \"formulaText\", build)\r\n    return fieldFormulaText ? <BootstrapTooltip placement=\"top\" title={<Typography>{fieldFormulaText}</Typography>}>\r\n      <Box component=\"span\" sx={{ cursor: \"help\", ml: 1 }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\r\n    </BootstrapTooltip> : null\r\n  }, [field, build])\r\n\r\n  const unit = useMemo(() => Character.getTalentFieldValue(field, \"unit\", build), [field, build])\r\n\r\n  if (!canShow) return null\r\n  return <ListItem sx={{ display: \"flex\", justifyContent: \"space-between\" }}  >\r\n    <span><b>{fieldText}</b>{formulaTextOverlay}</span>\r\n    <Typography color={`${fieldVariant}.main`}>{fieldVal?.toFixed?.(fixedVal) ?? fieldVal}{unit}</Typography>\r\n  </ListItem>\r\n}\r\nexport const FieldDisplayList = styled(List)(({ theme }) => ({\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: \"hidden\",\r\n  margin: 0,\r\n  '> .MuiListItem-root:nth-of-type(even)': {\r\n    backgroundColor: theme.palette.contentDark.main\r\n  },\r\n  '> .MuiListItem-root:nth-of-type(odd)': {\r\n    backgroundColor: theme.palette.contentDarker.main\r\n  },\r\n}));","import { CardContent, Container, ContainerProps, Modal, ModalProps, Skeleton, styled } from \"@mui/material\"\r\nimport { Suspense } from \"react\"\r\nimport CardLight from \"./Card/CardLight\"\r\n\r\nconst ScrollModal = styled(Modal)(({ theme }) => ({\r\n  overflow: \"scroll\",\r\n  paddingTop: theme.spacing(2),\r\n  paddingBottom: theme.spacing(2),\r\n\r\n}))\r\nconst ModalContainer = styled(Container)(({ theme }) => ({\r\n  padding: 0,\r\n  minHeight: \"100%\",\r\n  display: \"flex\", flexDirection: \"column\", justifyContent: \"center\",\r\n  pointerEvents: \"none\",\r\n  \"& > *\": {\r\n    pointerEvents: \"auto\"\r\n  }\r\n}))\r\n\r\ntype ModalWrapperProps = ModalProps & {\r\n  containerProps?: ContainerProps\r\n}\r\nexport default function ModalWrapper({ children, containerProps, ...props }: ModalWrapperProps) {\r\n  return <ScrollModal {...props}>\r\n    <ModalContainer {...containerProps}>\r\n      <Suspense fallback={<CardLight><CardContent><Skeleton variant=\"rectangular\" width=\"100%\" height={300} /></CardContent></CardLight>}>\r\n        {children}\r\n      </Suspense>\r\n    </ModalContainer>\r\n  </ScrollModal>\r\n}","import { ButtonProps, styled, ToggleButtonGroup, ToggleButtonGroupProps } from \"@mui/material\";\r\n\r\nexport type SolidToggleButtonGroupProps = SolidToggleButtonGroupPropsPartial & ToggleButtonGroupProps\r\ntype SolidToggleButtonGroupPropsPartial = {\r\n  baseColor?: ButtonProps[\"color\"];\r\n  selectedColor?: ButtonProps[\"color\"];\r\n}\r\n\r\nconst SolidToggleButtonGroup = styled(ToggleButtonGroup, {\r\n  shouldForwardProp: (prop) => prop !== \"baseColor\"\r\n})<SolidToggleButtonGroupPropsPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\r\n  '& .MuiToggleButtonGroup-grouped': {\r\n    '&': {\r\n      backgroundColor: theme.palette[baseColor].main,\r\n      color: theme.palette[baseColor].contrastText,\r\n    },\r\n    '&:hover': {\r\n      backgroundColor: theme.palette[baseColor].dark,\r\n    },\r\n    '&.Mui-selected': {\r\n      backgroundColor: theme.palette[selectedColor].main,\r\n      color: theme.palette[selectedColor].contrastText,\r\n    },\r\n    '&.Mui-selected:hover': {\r\n      backgroundColor: theme.palette[selectedColor].dark,\r\n    },\r\n    '&.Mui-disabled': {\r\n      backgroundColor: theme.palette[baseColor].dark,\r\n    },\r\n    '&.Mui-selected.Mui-disabled': {\r\n      backgroundColor: theme.palette[selectedColor].dark,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default SolidToggleButtonGroup","import { useCallback, useState } from \"react\"\r\n\r\nexport default function useForceUpdate(): [object, () => void] {\r\n  const [stateDirty, update] = useState({})\r\n  const forceUpdateHook = useCallback(() => update({}), [])\r\n  return [stateDirty, forceUpdateHook]\r\n}","import { InputBase, InputProps, styled } from '@mui/material'\r\nimport { useCallback, useEffect, useState } from 'react'\r\ntype props = Omit<InputProps, \"onChange\"> & {\r\n  value?: number | undefined,\r\n  onChange: (newValue: number | undefined) => void,\r\n  disabled?: boolean\r\n  float?: boolean,\r\n  allowEmpty?: boolean,\r\n}\r\n\r\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  transition: \"all 0.5s ease\",\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  \"&.Mui-focused\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  \"&.Mui-disabled\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n}))\r\n\r\n// wrap the Input with this when using the input in a buttongroup\r\nexport const CustomNumberInputButtonGroupWrapper = styled(\"button\", {\r\n  shouldForwardProp: (prop) => ![\"fullWidth\", \"disableRipple\", \"disableFocusRipple\", \"disableElevation\"].includes(prop as string)\r\n})(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  padding: 0,\r\n  overflow: \"hidden\",\r\n  border: \"none\",\r\n  borderRadius: theme.shape.borderRadius,\r\n  \"& div\": {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  \"&.MuiButtonGroup-grouped:not(:last-of-type)\": {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n  },\r\n  \"&.MuiButtonGroup-grouped:not(:first-of-type)\": {\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n  },\r\n}))\r\n\r\nexport default function CustomNumberInput({ value, onChange, disabled = false, float = false, ...props }: props) {\r\n  const [state, setState] = useState(\"\")\r\n  const sendChange = useCallback(\r\n    () => {\r\n      if (state === \"\") return onChange(0)\r\n      const parseFunc = float ? parseFloat : parseInt\r\n      onChange(parseFunc(state))\r\n    },\r\n    [onChange, state, float],\r\n  )\r\n  useEffect(() => setState(value?.toString() ?? \"\"), [value, setState]) // update value on value change\r\n  const onInputChange = useCallback(e => setState(e.target.value), [setState],)\r\n  const onKeyDOwn = useCallback(e => e.key === \"Enter\" && sendChange(), [sendChange],)\r\n  return <StyledInputBase\r\n    value={state}\r\n    aria-label=\"custom-input\"\r\n    type=\"number\"\r\n    onChange={onInputChange}\r\n    onBlur={sendChange}\r\n    disabled={disabled}\r\n    onKeyDown={onKeyDOwn}\r\n    {...props}\r\n  />\r\n}","import { BusinessCenter, Replay } from \"@mui/icons-material\";\r\nimport { Divider, ListItemIcon, MenuItem, Typography } from \"@mui/material\";\r\nimport { useContext } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CharacterSheet from \"../../Character/CharacterSheet\";\r\nimport { DatabaseContext } from \"../../Database/Database\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\nimport { CharacterKey } from \"../../Types/consts\";\r\nimport DropdownButton, { DropdownButtonProps } from \"../DropdownMenu/DropdownButton\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\n\r\nexport type CharacterDropdownButtonProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\"> & {\r\n  value: CharacterKey | \"\"\r\n  onChange: (ck: CharacterKey | \"\") => void\r\n  filter?: (cs: CharacterSheet) => boolean\r\n  inventory?: boolean\r\n  noUnselect?: boolean\r\n}\r\n\r\nexport default function CharacterDropdownButton({ value, onChange, inventory = false, noUnselect = false, filter = () => true, ...props }: CharacterDropdownButtonProps) {\r\n  const { t } = useTranslation(\"ui\");\r\n  const database = useContext(DatabaseContext)\r\n  const characterSheets = usePromise(CharacterSheet.getAll(), [])\r\n  const characterSheet = usePromise(CharacterSheet.get(value), [value])\r\n  const characterKeys = database._getCharKeys().filter(ck => characterSheets?.[ck] && filter(characterSheets[ck])).sort()\r\n  return <DropdownButton\r\n    {...props}\r\n    title={characterSheet?.name ?? (inventory ? t`inventory` : t`unselect`)}\r\n    color={value ? \"success\" : \"primary\"}\r\n    startIcon={characterSheet?.thumbImg ? <ImgIcon src={characterSheet.thumbImg} /> : (inventory ? <BusinessCenter /> : <Replay />)}>\r\n    {!noUnselect && (inventory ? <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\r\n      <ListItemIcon>\r\n        <BusinessCenter />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {t`inventory`}\r\n      </Typography>\r\n    </MenuItem> : <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\r\n      <ListItemIcon>\r\n        <Replay />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {t`unselect`}\r\n      </Typography>\r\n    </MenuItem>)}\r\n    {!noUnselect && <Divider key=\"div\" />}\r\n    {!!characterSheets && CharacterMenuItemArray(characterSheets, characterKeys, onChange, value)}\r\n  </DropdownButton >\r\n}\r\n\r\n// Returning an array instead of Fragment because MUI Menu doesn't like fragments.\r\nexport function CharacterMenuItemArray(characterSheets: StrictDict<CharacterKey, CharacterSheet>, characterKeys: CharacterKey[], onChange: (ck: CharacterKey) => void, selectedCharacterKey: CharacterKey | \"\" = \"\") {\r\n  return characterKeys.map(characterKey =>\r\n    <MenuItem onClick={() => onChange(characterKey)} key={characterKey} selected={selectedCharacterKey === characterKey} disabled={selectedCharacterKey === characterKey} >\r\n      <ListItemIcon>\r\n        <ImgIcon src={characterSheets[characterKey].thumbImg} />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {characterSheets?.[characterKey]?.name}\r\n      </Typography>\r\n    </MenuItem>)\r\n}","import { styled, Tooltip, tooltipClasses, TooltipProps } from \"@mui/material\";\r\n\r\nconst BootstrapTooltip = styled(({ className, ...props }: TooltipProps) => (\r\n  <Tooltip {...props} arrow classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.arrow}`]: {\r\n    color: theme.palette.common.black,\r\n  },\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    backgroundColor: theme.palette.common.black,\r\n  },\r\n}));\r\nexport default BootstrapTooltip","import { ArtifactSheet } from \"../Artifact/ArtifactSheet\"\r\nimport { initialBuildSettings } from \"../Build/BuildSetting\"\r\nimport SqBadge from \"../Components/SqBadge\"\r\nimport { ICachedCharacter } from \"../Types/character\"\r\nimport { allSlotKeys, ArtifactSetKey, CharacterKey, ElementKey } from \"../Types/consts\"\r\nimport { objectFromKeyMap } from \"../Util/Util\"\r\nimport WeaponSheet from \"../Weapon/WeaponSheet\"\r\nimport CharacterSheet from \"./CharacterSheet\"\r\n\r\nexport function getFormulaTargetsDisplayHeading(key: string, { characterSheet, weaponSheet, artifactSheets }: { characterSheet: CharacterSheet, weaponSheet: WeaponSheet, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet> }, eleKey: ElementKey = \"anemo\") {\r\n  if (key === \"basicKeys\") return \"Basic Stats\"\r\n  else if (key === \"genericAvgHit\") return \"Generic Optimization Values\"\r\n  else if (key === \"transReactions\") return \"Transformation Reaction\"\r\n  else if (key.startsWith(\"talentKey_\")) {\r\n    const subkey = key.split(\"talentKey_\")[1]\r\n    return (characterSheet?.getTalentOfKey(subkey, eleKey)?.name ?? subkey)\r\n  } else if (key.startsWith(\"weapon_\")) {\r\n    const subkey = key.split(\"weapon_\")[1]\r\n    return (weaponSheet?.name ?? subkey)\r\n  } else if (key.startsWith(\"artifact_\")) {\r\n    const [, setKey, num] = key.split('_')\r\n    return <span>{artifactSheets[setKey]?.name} <SqBadge color=\"success\">{num}-Set</SqBadge></span>\r\n  }\r\n  return \"\"\r\n}\r\n\r\nexport function initialCharacter(key: CharacterKey): ICachedCharacter {\r\n  return {\r\n    key, // the game character this is based off\r\n    level: 1,\r\n    ascension: 0,\r\n    hitMode: \"avgHit\",\r\n    reactionMode: \"\",\r\n    equippedArtifacts: objectFromKeyMap(allSlotKeys, () => \"\"),\r\n    equippedWeapon: \"\",\r\n    conditionalValues: {},\r\n    bonusStats: {},\r\n    buildSettings: initialBuildSettings(),\r\n    talent: {\r\n      auto: 1,\r\n      skill: 1,\r\n      burst: 1,\r\n    },\r\n    infusionAura: \"\",\r\n    constellation: 0,\r\n  }\r\n}","import { CheckBox, CheckBoxOutlineBlank } from '@mui/icons-material';\r\nimport { Button, Divider, MenuItem } from '@mui/material';\r\nimport React from 'react';\r\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport IConditional, { IConditionalValue } from '../Types/IConditional';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport { evalIfFunc } from '../Util/Util';\r\n\r\nexport default function ConditionalSelector({ conditional, conditionalValue, setConditional, name, disabled = false, stats }:\r\n  { conditional: IConditional, conditionalValue: IConditionalValue, setConditional: (newCond: IConditionalValue) => void, name: Displayable, disabled?: boolean, stats: ICalculatedStats }) {\r\n  const [conditionalNum = 0, conditionalStateKey] = conditionalValue\r\n  if (!conditional) return name as JSX.Element\r\n  if (\"states\" in conditional) {//complex conditional\r\n    const state = conditionalStateKey ? conditional.states[conditionalStateKey] : Object.values(conditional.states)[0]\r\n    const text = conditionalNum === 0 ? \"Not Active\" : <span>{state.name} {(evalIfFunc(state!.maxStack, stats) as number > 1 ? (`: ${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}`) : \"\")}</span>\r\n    const badge = <SqBadge color={conditionalNum === 0 ? \"secondary\" : \"success\"}>{text}</SqBadge>\r\n    return <DropdownButton size=\"small\" title={<span>{name} {badge}</span>} disabled={disabled}>\r\n      <MenuItem onClick={() => setConditional([0])} selected={conditionalNum === 0} disabled={conditionalNum === 0}>\r\n        <span>Not Active</span>\r\n      </MenuItem>\r\n      <Divider />\r\n      {Object.entries(conditional.states).flatMap(([stateKey, condial]: any, i) =>\r\n        [...Array(condial.maxStack).keys()].map(v => v + 1).map((stack, i) =>\r\n          <MenuItem key={stateKey + i} onClick={() => setConditional([stack, stateKey])} selected={conditionalStateKey === stateKey && conditionalNum === stack} disabled={conditionalStateKey === stateKey && conditionalNum === stack} >\r\n            {condial.name}{condial.maxStack > 1 ? `: ${stack} stack${stack > 1 ? \"s\" : \"\"}` : \"\"}\r\n          </MenuItem>)\r\n      )}\r\n    </DropdownButton>\r\n  } else {\r\n    const maxStack = evalIfFunc(conditional!.maxStack, stats) as number\r\n    if (maxStack > 1) {\r\n      //stacking conditional\r\n      const badge = <SqBadge color={conditionalNum === 0 ? \"secondary\" : \"success\"}>{conditionalNum > 0 ? `${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}` : \"Not Active\"}</SqBadge>\r\n      return <DropdownButton size=\"small\" title={<span>{name} {badge}</span>} disabled={disabled}>\r\n        <MenuItem onClick={() => setConditional([0])} selected={conditionalNum === 0} disabled={conditionalNum === 0}>\r\n          <span>Not Active</span>\r\n        </MenuItem>\r\n        <Divider />\r\n        {[...Array(maxStack).keys()].map(v => v + 1).map(stack =>\r\n          <MenuItem key={stack} onClick={() => setConditional([stack])} selected={conditionalNum === stack} disabled={conditionalNum === stack}>\r\n            {`${stack} stack${stack > 1 ? \"s\" : \"\"}`}\r\n          </MenuItem>)}\r\n      </DropdownButton>\r\n    } else if (maxStack === 1) {//single boolean conditional\r\n      return <Button size=\"small\" onClick={() => setConditional([conditionalNum ? 0 : 1])} disabled={disabled} startIcon={conditionalNum ? <CheckBox /> : <CheckBoxOutlineBlank />}>\r\n        {name}\r\n      </Button>\r\n    }\r\n  }\r\n  return null\r\n}","import { CardContent } from \"@mui/material\"\r\nimport { useCallback, useContext, useMemo } from \"react\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport Conditional from \"../Conditional/Conditional\"\r\nimport ConditionalSelector from \"../Conditional/ConditionalSelector\"\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport IConditional from \"../Types/IConditional\"\r\nimport statsToFields from \"../Util/FieldUtil\"\r\nimport { deletePropPath, layeredAssignment, objClearEmpties } from \"../Util/Util\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport FieldDisplay, { FieldDisplayList } from \"./FieldDisplay\"\r\n\r\ntype ConditionalDisplayProps = {\r\n  conditional: IConditional,\r\n  characterKey: CharacterKey\r\n}\r\n\r\nexport default function ConditionalDisplay({ conditional, characterKey }: ConditionalDisplayProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const stats = newBuild ? newBuild : equippedBuild\r\n  const canShow = useMemo(() => Conditional.canShow(conditional, stats), [conditional, stats])\r\n  const { stats: conditionalStats = {}, fields: conditionalFields = [], conditionalValue } = useMemo(() => canShow && Conditional.resolve(conditional, stats, undefined), [canShow, conditional, stats])\r\n  const displayFields = useMemo(() => canShow && [...statsToFields(conditionalStats, stats), ...conditionalFields], [canShow, conditionalStats, stats, conditionalFields])\r\n  const setConditional = useCallback(condV => {\r\n    if (!stats) return\r\n    const [conditionalNum = 0] = condV\r\n    if (!conditionalNum) {\r\n      deletePropPath(stats.conditionalValues, conditional!.keys)\r\n      objClearEmpties(stats.conditionalValues)\r\n    } else if (conditional.keys)\r\n      layeredAssignment(stats.conditionalValues, conditional!.keys, condV)\r\n    characterDispatch({ conditionalValues: stats.conditionalValues })\r\n  }, [conditional, stats, characterDispatch])\r\n\r\n  if (!canShow || !stats) return null\r\n  return <CardDark>\r\n    <CardContent>\r\n      <ConditionalSelector\r\n        conditional={conditional}\r\n        conditionalValue={conditionalValue}\r\n        setConditional={setConditional}\r\n        name={conditional.name}\r\n        stats={stats} />\r\n    </CardContent>\r\n    <FieldDisplayList sx={{ m: 0 }}>\r\n      {displayFields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n    </FieldDisplayList>\r\n  </CardDark>\r\n}","import { Box } from \"@mui/material\"\r\nimport { useContext } from \"react\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport { DocumentSection } from \"../Types/character\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport { evalIfFunc } from \"../Util/Util\"\r\nimport ConditionalDisplay from \"./ConditionalDisplay\"\r\nimport FieldDisplay, { FieldDisplayList } from \"./FieldDisplay\"\r\n\r\ntype SkillDisplayCardProps = {\r\n  sections: DocumentSection[],\r\n  characterKey: CharacterKey,\r\n}\r\nexport default function DocumentDisplay({ sections, characterKey }: SkillDisplayCardProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  if (!build) return null\r\n  return <div>{sections?.map((section, i) => {\r\n    if (!section.canShow!(build)) return null\r\n    const talentText = evalIfFunc(section.text, build)\r\n    const fields = section.fields ?? []\r\n    return <Box key={\"section\" + i} sx={{\r\n      pb: -1,\r\n      \"& > *\": {\r\n        mb: 1\r\n      }\r\n    }}>\r\n      <div>{talentText}</div>\r\n      {fields.length > 0 && <FieldDisplayList>\r\n        {fields?.map?.((field, i) => <FieldDisplay key={i} field={field} />)}\r\n      </FieldDisplayList>}\r\n      {!!section.conditional && <ConditionalDisplay conditional={section.conditional} characterKey={characterKey} />}\r\n    </Box>\r\n  })}</div>\r\n}\r\n","import { IconButton, IconButtonProps, styled } from \"@mui/material\";\r\n\r\ninterface ExpandMoreProps extends IconButtonProps {\r\n  expand: boolean;\r\n}\r\nconst ExpandButton = styled((props: ExpandMoreProps) => {\r\n  const { expand, ...other } = props;\r\n  return <IconButton {...other} />;\r\n})(({ theme, expand }) => ({\r\n  transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n  marginLeft: 'auto',\r\n  transition: (theme as any).transitions.create('transform', {\r\n    duration: (theme as any).transitions.duration.shortest,\r\n  }),\r\n}));\r\n\r\nexport default ExpandButton","import { ReactNode } from \"react\";\r\n\r\ntype Prop = {\r\n  condition: boolean,\r\n  wrapper: (children: ReactNode) => ReactNode\r\n  children: ReactNode\r\n}\r\n// Wrap children with element provided by wrapper func when condition is true.\r\nexport default function ConditionalWrapper({ condition, wrapper, children }: Prop) {\r\n  return (condition ? wrapper(children) : children) as JSX.Element;\r\n}","import Formula from \"./Formula\"\r\nimport { Formulas, getStage, numStages, StatData } from \"./StatData\"\r\nimport { IBaseStat } from \"./Types/character\"\r\nimport { Modifier } from \"./Types/stats\"\r\n\r\n// Generate a statKey dependency, to reduce build generation calculation on a single stat.\r\nfunction GetFormulaDependency(formula: (s) => number) {\r\n  const dependency: Set<string> = new Set()\r\n  formula(new Proxy({}, { get: (target, prop, receiver) => { dependency.add(prop.toString()) } }))\r\n  return [...dependency]\r\n}\r\nconst formulaKeyDependency = Object.freeze(Object.fromEntries(\r\n  Object.entries(Formulas).map(([key, value]) => [key, GetFormulaDependency(value)])\r\n)) as Dict<string, string[]>\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  let statKeys = Object.keys(StatData)\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    dependencies.forEach(key =>\r\n      !statKeys.includes(key as any) &&\r\n      console.error(`Formula ${formulaKey} depends key ${key} that does not Exist in StatData.`))\r\n  )\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    StatData[formulaKey]?.const && dependencies.forEach(key =>\r\n      !StatData[key as any]?.const &&\r\n      console.error(`Constant formula ${formulaKey} depends on dynamic key ${key}.`)\r\n    )\r\n  )\r\n}\r\n\r\nfunction GetDependencies(baseStat: IBaseStat, modifiers: Modifier = {}, keys = Object.keys(StatData)): Dependencies {\r\n  const found = new Set<string>()\r\n  const dependencies = [...Array(numStages)].map(_ => new Set<string>())\r\n  keys.forEach(key => InsertDependencies(baseStat, key, modifiers, dependencies, found))\r\n  return dependencies.flatMap(dep => [...dep])\r\n}\r\nfunction InsertDependencies(baseStat: IBaseStat, key: string, modifiers: Modifier, dependencies: Set<string>[], found: Set<string>) {\r\n  if (found.has(key)) return\r\n  found.add(key)\r\n\r\n  formulaKeyDependency[key]?.forEach(k => InsertDependencies(baseStat, k, modifiers, dependencies, found));\r\n  (modifiers[key] ?? []).forEach(path => Formula.getCurrent(path, baseStat)[1].forEach(k =>\r\n    InsertDependencies(baseStat, k, modifiers, dependencies, found)))\r\n  dependencies[getStage(key)].add(key)\r\n}\r\n\r\ntype Dependencies = string[]\r\n\r\nexport {\r\n  GetFormulaDependency,\r\n  GetDependencies,\r\n}\r\n","import { Button, ButtonProps, styled } from \"@mui/material\";\r\n\r\nconst DisabledButton = styled(Button)(({ theme }) => ({\r\n  \"&.Mui-disabled\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n    color: theme.palette.text.secondary,\r\n  }\r\n}))\r\n\r\nexport default function TextButton({ children, disabled, ...props }: ButtonProps) {\r\n  return <DisabledButton {...props} disabled  >\r\n    {children}\r\n  </DisabledButton>\r\n}\r\n","import { Box, Typography } from \"@mui/material\"\r\nimport { useMemo } from \"react\"\r\nimport Character from \"../Character/Character\"\r\nimport Formula from \"../Formula\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport Stat from \"../Stat\"\r\nimport { ICachedCharacter } from \"../Types/character\"\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { characterBaseStats } from \"../Util/StatUtil\"\r\nimport ColorText from \"./ColoredText\"\r\nimport StatIcon from \"./StatIcon\"\r\n\r\nfunction DisplayStatDiff({ label = \"\", val, oldVal, fixed = 0, unit = \"\", hasBonus = false }) {\r\n  if (typeof oldVal === \"undefined\" && typeof val === \"number\") {//if only one value is filled, display that one.\r\n    oldVal = val\r\n    val = undefined\r\n  }\r\n  const diff = val !== undefined ? val - oldVal : 0;\r\n  let oldText: Displayable = \"\", diffText: Displayable = \"\"\r\n  if (oldVal || diff === 0) oldText = oldVal?.toFixed(fixed)\r\n  else if (oldVal === undefined) oldText = val?.toFixed(fixed)//if oldval isnt defined, just display val.\r\n  if (oldText) oldText = <span>{oldText}{unit}</span>\r\n  if (diff !== 0) diffText = <ColorText color={diff > 0 ? \"success\" : \"error\"}>{diff > 0 ? \"+\" : \"\"}{diff?.toFixed(fixed)}{unit}</ColorText>\r\n  const valueText = <>{oldText}{diffText}</>\r\n  return <Box display=\"flex\" justifyContent=\"space-between\" >\r\n    <Typography>{label}</Typography>\r\n    <Typography>\r\n      {hasBonus ? <strong>{valueText}</strong> : valueText}\r\n    </Typography>\r\n  </Box>\r\n}\r\ntype StatDisplayProps = {\r\n  character: ICachedCharacter,\r\n  equippedBuild?: ICalculatedStats,\r\n  newBuild?: ICalculatedStats,\r\n  statKey: string\r\n}\r\nexport default function StatDisplay({ character, equippedBuild, newBuild, statKey }: StatDisplayProps) {\r\n  const formula = usePromise(Array.isArray(statKey) ? Formula.get(statKey) : undefined, [statKey])\r\n\r\n  const { val, oldVal, fixed, unit, label, hasBonus } = useMemo(() => {\r\n    let val, oldVal, fixed, unit, label: Displayable = \"\"\r\n    if (typeof statKey === \"string\") {//basic statKey\r\n      if (newBuild && equippedBuild) {//comparable\r\n        //newbuild -> val\r\n        //equippedbuild ->old\r\n        val = newBuild?.[statKey] ?? 0\r\n        oldVal = equippedBuild?.[statKey] ?? 0\r\n      } else {\r\n        const build = newBuild ? newBuild : equippedBuild\r\n        //build ->val\r\n        val = build?.[statKey] ?? 0\r\n        //statvaluewith override -> old\r\n        oldVal = characterBaseStats(character)[statKey] as number | undefined\r\n        if (build) {\r\n          if (statKey === \"finalHP\")\r\n            oldVal = build.characterHP\r\n          else if (statKey === \"finalDEF\")\r\n            oldVal = build.characterDEF\r\n          else if (statKey === \"finalATK\")\r\n            oldVal = build.characterATK + build.weaponATK\r\n        }\r\n      }\r\n      unit = Stat.getStatUnit(statKey)\r\n      fixed = Stat.fixedUnit(statKey)\r\n      label = <span>{StatIcon[statKey]} {Stat.getStatName(statKey)}</span>\r\n    } else if (formula) {//Formula\r\n      const build = newBuild ? newBuild : equippedBuild\r\n      const field = (formula as any).field as IFieldDisplay //assume it is attached in post-processing\r\n      const labelVariant = Character.getTalentFieldValue(field, \"variant\", build)\r\n      label = <ColorText color={labelVariant} >{Character.getTalentFieldValue(field, \"text\", build)}</ColorText>\r\n      fixed = Character.getTalentFieldValue(field, \"fixed\", build, 0 as any)\r\n      unit = Character.getTalentFieldValue(field, \"unit\", build, \"\")\r\n      val = Character.getTalentFieldValue(field, \"formula\", build)?.[0]?.(build)\r\n      if (newBuild && equippedBuild) {//comparable\r\n        oldVal = Character.getTalentFieldValue(field, \"formula\", equippedBuild)?.[0]?.(equippedBuild)\r\n      }\r\n    }\r\n    return { val, oldVal, fixed, unit, label, hasBonus: Character.hasBonusStats(character, statKey) }\r\n  }, [character, equippedBuild, newBuild, statKey, formula])\r\n\r\n  return <DisplayStatDiff {...{ val, oldVal, fixed, unit, label: label as any, hasBonus }} />\r\n}","import { Replay } from \"@mui/icons-material\"\r\nimport { Button, ButtonGroup, ButtonGroupProps, styled } from \"@mui/material\"\r\nimport { ReactNode } from \"react\"\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from \"../Components/CustomNumberInput\"\r\nimport TextButton from \"../Components/TextButton\"\r\n\r\ntype StatInputInput = ButtonGroupProps & {\r\n  name: Displayable,\r\n  children?: ReactNode,\r\n  value: number,\r\n  placeholder?: string,\r\n  defaultValue?: number,\r\n  onValueChange: (newValue: number | undefined) => void,\r\n  percent?: boolean,\r\n  disabled?: boolean,\r\n}\r\nconst FlexButtonGroup = styled(ButtonGroup)({\r\n  display: \"flex\"\r\n})\r\n\r\nexport default function StatInput({ name, children, value, placeholder, defaultValue = 0, onValueChange, percent = false, disabled = false, ...restProps }: StatInputInput) {\r\n  return <FlexButtonGroup {...restProps} disabled={disabled}>\r\n    {children}\r\n    <TextButton sx={{ whiteSpace: \"nowrap\" }} >\r\n      {name}\r\n    </TextButton>\r\n    <CustomNumberInputButtonGroupWrapper sx={{ flexBasis: 30, flexGrow: 1 }} >\r\n      <CustomNumberInput\r\n        sx={{ px: 1 }}\r\n        inputProps={{\r\n          sx: { textAlign: \"right\" }\r\n        }}\r\n        float={percent}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onValueChange}\r\n        disabled={disabled}\r\n        endAdornment={percent ? \"%\" : undefined}\r\n      />\r\n    </CustomNumberInputButtonGroupWrapper>\r\n    <Button onClick={() => onValueChange(defaultValue)} disabled={disabled || value === defaultValue} >\r\n      <Replay />\r\n    </Button>\r\n  </FlexButtonGroup>\r\n}","import { Box, CardContent, Typography } from \"@mui/material\"\r\nimport CardDark from \"../../Components/Card/CardDark\"\r\nimport DocumentDisplay from \"../../Components/DocumentDisplay\"\r\nimport FieldDisplay, { FieldDisplayList } from \"../../Components/FieldDisplay\"\r\nimport SqBadge from \"../../Components/SqBadge\"\r\nimport usePromise from \"../../ReactHooks/usePromise\"\r\nimport { ArtifactSetKey, SetNum } from \"../../Types/consts\"\r\nimport { ICalculatedStats } from \"../../Types/stats\"\r\nimport statsToFields from \"../../Util/FieldUtil\"\r\nimport { ArtifactSheet } from \"../ArtifactSheet\"\r\n\r\ntype Data = {\r\n  setKey: ArtifactSetKey,\r\n  setNumKey: SetNum,\r\n  newBuild?: ICalculatedStats,\r\n  equippedBuild?: ICalculatedStats\r\n}\r\n\r\nexport default function SetEffectDisplay({ setKey, setNumKey, equippedBuild, newBuild }: Data) {\r\n  const sheet = usePromise(ArtifactSheet.get(setKey), [setKey])\r\n  if (!sheet) return null\r\n\r\n  const stats = newBuild ?? equippedBuild!\r\n  const setEffectText = sheet.setEffectDesc(setNumKey)\r\n  const setStats = sheet.setNumStats(setNumKey, stats)\r\n  const setStatsFields = statsToFields(setStats, stats)\r\n  const document = sheet.setEffectDocument(setNumKey)\r\n  return <Box sx={{\r\n    mt: 1,\r\n    \"> div\": { mb: 1 },\r\n  }}>\r\n    <CardDark>\r\n      <CardContent>\r\n        <Typography><SqBadge color=\"success\">{setNumKey}-Set</SqBadge> {setEffectText}</Typography>\r\n      </CardContent>\r\n      <FieldDisplayList sx={{ m: 0 }}>\r\n        {setStatsFields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n      </FieldDisplayList>\r\n    </CardDark>\r\n    {document ? <DocumentDisplay sections={document} characterKey={stats.characterKey} /> : null}\r\n  </Box>\r\n}\r\n","import { CardContent, Divider, Grid, Typography } from \"@mui/material\"\r\nimport { ArtifactSheet } from \"../../Artifact/ArtifactSheet\"\r\nimport CardDark from \"../../Components/Card/CardDark\"\r\nimport StatDisplay from \"../../Components/StatDisplay\"\r\nimport { ICachedCharacter } from \"../../Types/character\"\r\nimport { ArtifactSetKey } from \"../../Types/consts\"\r\nimport { ICalculatedStats } from \"../../Types/stats\"\r\nimport WeaponSheet from \"../../Weapon/WeaponSheet\"\r\nimport CharacterSheet from \"../CharacterSheet\"\r\nimport { getFormulaTargetsDisplayHeading } from \"../CharacterUtil\"\r\n\r\ntype StatDisplayComponentProps = {\r\n  sheets: {\r\n    characterSheet: CharacterSheet\r\n    weaponSheet: WeaponSheet,\r\n    artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet>\r\n  },\r\n  character: ICachedCharacter\r\n  statsDisplayKeys: any,\r\n  equippedBuild?: ICalculatedStats\r\n  newBuild?: ICalculatedStats\r\n}\r\n\r\nexport default function StatDisplayComponent({ sheets, sheets: { characterSheet, weaponSheet }, character, equippedBuild, newBuild, statsDisplayKeys }: StatDisplayComponentProps) {\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  return <Grid container spacing={1}>{Object.entries(statsDisplayKeys).map(([sectionKey, sectionValues]: any) => {\r\n    const header = getFormulaTargetsDisplayHeading(sectionKey, sheets, build?.characterEle)\r\n    return <Grid item key={sectionKey} xs={12} sm={6} md={4} lg={4}>\r\n      <CardDark sx={{ height: \"100%\", }}>\r\n        <CardContent>\r\n          <Typography variant=\"subtitle1\" gutterBottom>{header}</Typography>\r\n          <Divider sx={{ mb: 1, mx: -2 }} />\r\n          {sectionValues.map(statKey => <StatDisplay key={JSON.stringify(statKey)} {...{ characterSheet, weaponSheet, character, equippedBuild, newBuild, statKey }} />)}\r\n        </CardContent>\r\n      </CardDark>\r\n    </Grid>\r\n  })}</Grid>\r\n}","import { faCheckSquare, faSquare } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { ExpandMore } from \"@mui/icons-material\";\r\nimport { Button, CardContent, Chip, Collapse, Grid, Typography } from \"@mui/material\";\r\nimport { useCallback, useState } from 'react';\r\nimport Character from \"../Character/Character\";\r\nimport StatInput from \"../Character/StatInput\";\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\";\r\nimport Stat from \"../Stat\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { allElements, ElementKey } from \"../Types/consts\";\r\nimport { characterBaseStats } from \"../Util/StatUtil\";\r\nimport CardLight from \"./Card/CardLight\";\r\nimport ColorText from \"./ColoredText\";\r\nimport ExpandButton from \"./ExpandButton\";\r\nimport { uncoloredEleIcons } from \"./StatIcon\";\r\n\r\nexport function EnemyExpandCard({ character }) {\r\n  const [expanded, setexpanded] = useState(false)\r\n  const toggle = useCallback(() => setexpanded(!expanded), [setexpanded, expanded])\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Grid container>\r\n        <Grid item flexGrow={1} alignItems=\"center\">\r\n          <Grid container spacing={1}>\r\n            <Grid item>\r\n              <Chip size=\"small\" color=\"success\" label={<span>{Stat.getStatName(\"enemyLevel\")} <strong>{Character.getStatValueWithBonus(character, \"enemyLevel\")}</strong></span>} />\r\n            </Grid>\r\n            {[\"physical\", ...allElements].map(element => <Grid item key={element}>\r\n              <Typography key={element} ><EnemyResText element={element} character={character} /></Typography>\r\n            </Grid>)}\r\n            <Grid item>\r\n              <Typography>DEF Reduction {Character.getStatValueWithBonus(character, \"enemyDEFRed_\")}%</Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>\r\n          <ExpandButton\r\n            expand={expanded}\r\n            onClick={toggle}\r\n            aria-expanded={expanded}\r\n            aria-label=\"show more\"\r\n            size=\"small\"\r\n            sx={{ p: 0 }}\r\n          >\r\n            <ExpandMore />\r\n          </ExpandButton>\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <CardContent sx={{ pt: 0 }}>\r\n        <EnemyEditor character={character} />\r\n      </CardContent>\r\n    </Collapse>\r\n  </CardLight>\r\n}\r\n\r\nexport function EnemyResText({ character, element }: { character: ICachedCharacter, element: string }) {\r\n  const immune = !!Character.getStatValueWithBonus(character, `${element}_enemyImmunity`)\r\n  const resKey = `${element}_enemyRes_`\r\n  const content = immune ? <span >{uncoloredEleIcons[element]} IMMUNE</span> :\r\n    <span >{uncoloredEleIcons[element]}RES <strong>{Character.getStatValueWithBonus(character, resKey)}%</strong></span>\r\n  return <ColorText color={element}>{content}</ColorText>\r\n}\r\n\r\n\r\nexport function EnemyEditor({ character, character: { key: characterKey, }, bsProps = { xs: 12, md: 6 } }: { character: ICachedCharacter, bsProps?: object }) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const charBaseStats = characterBaseStats(character)\r\n  return <Grid container spacing={1}>\r\n    <Grid item {...bsProps}>\r\n      <Button fullWidth sx={{ height: \"100%\" }} size=\"small\" component=\"a\" color=\"warning\" href=\"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances\" target=\"_blank\" rel=\"noreferrer\">\r\n        To get the specific resistance values of enemies, please visit the wiki.\r\n      </Button>\r\n    </Grid>\r\n    <Grid item {...bsProps}>\r\n      <StatInput\r\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n        name={<b>Enemy Level</b>}\r\n        value={Character.getStatValueWithBonus(character, \"enemyLevel\")}\r\n        placeholder={Stat.getStatNameRaw(\"enemyLevel\")}\r\n        defaultValue={charBaseStats.enemyLevel}\r\n        onValueChange={value => characterDispatch({ type: \"bonusStats\", statKey: \"enemyLevel\", value })}\r\n      />\r\n    </Grid>\r\n    {([\"physical\", ...allElements] as Array<ElementKey | \"physical\">).map(eleKey => {\r\n      let statKey = `${eleKey}_enemyRes_`\r\n      let immunityStatKey = `${eleKey}_enemyImmunity`\r\n      let elementImmunity = Character.getStatValueWithBonus(character, immunityStatKey)\r\n      return <Grid item key={eleKey} {...bsProps}>\r\n        <StatInput\r\n          sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n          name={<b>{Stat.getStatName(statKey)}</b>}\r\n          value={Character.getStatValueWithBonus(character, statKey)}\r\n          placeholder={Stat.getStatNameRaw(statKey)}\r\n          defaultValue={charBaseStats[statKey]}\r\n          onValueChange={value => characterDispatch({ type: \"bonusStats\", statKey, value })}\r\n          disabled={elementImmunity}\r\n          percent\r\n        >\r\n          <Button color={eleKey} onClick={() => characterDispatch({ type: \"bonusStats\", statKey: immunityStatKey, value: !elementImmunity })} >\r\n            <FontAwesomeIcon icon={elementImmunity ? faCheckSquare : faSquare} className=\"fa-fw\" /> Immunity\r\n          </Button>\r\n        </StatInput>\r\n      </Grid>\r\n    })}\r\n    <Grid item {...bsProps}>\r\n      <StatInput\r\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n        name={<b>{Stat.getStatName(\"enemyDEFRed_\")}</b>}\r\n        value={Character.getStatValueWithBonus(character, \"enemyDEFRed_\")}\r\n        placeholder={Stat.getStatNameRaw(\"enemyDEFRed_\")}\r\n        defaultValue={charBaseStats[\"enemyDEFRed_\"]}\r\n        onValueChange={value => characterDispatch({ type: \"bonusStats\", statKey: \"enemyDEFRed_\", value })}\r\n        percent\r\n      />\r\n    </Grid>\r\n    <Grid item xs={12}>\r\n      <small>Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)</small>\r\n    </Grid>\r\n  </Grid>\r\n}","import { CardContent, Grid, MenuItem, ToggleButton, ToggleButtonGroupProps } from \"@mui/material\";\r\nimport { useContext } from 'react';\r\nimport { buildContext } from \"../Build/Build\";\r\nimport CharacterSheet from \"../Character/CharacterSheet\";\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\";\r\nimport usePromise from \"../ReactHooks/usePromise\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { ICalculatedStats } from \"../Types/stats\";\r\nimport CardLight from \"./Card/CardLight\";\r\nimport ColorText from \"./ColoredText\";\r\nimport DropdownButton, { DropdownButtonProps } from \"./DropdownMenu/DropdownButton\";\r\nimport SolidToggleButtonGroup from \"./SolidToggleButtonGroup\";\r\nimport StatIcon, { uncoloredEleIcons } from \"./StatIcon\";\r\nconst infusionVals = {\r\n  \"\": <span>No External Infusion</span>,\r\n  \"pyro\": <span >{uncoloredEleIcons.pyro} Pyro Infusion</span>,\r\n  \"cryo\": <span >{uncoloredEleIcons.cryo} Cryo Infusion</span>,\r\n}\r\ntype InfusionAuraDropdownProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\"> & {\r\n  character: ICachedCharacter,\r\n}\r\nexport function InfusionAuraDropdown({ character: { infusionAura = \"\", key: characterKey }, ...props }: InfusionAuraDropdownProps) {\r\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  if (!characterSheet?.isMelee()) return null\r\n  return <DropdownButton title={infusionVals[infusionAura]} color={infusionAura || \"secondary\"} {...props}>\r\n    {Object.entries(infusionVals).map(([key, text]) =>\r\n      <MenuItem key={key} sx={key ? { color: `${key}.main` } : undefined}\r\n        selected={key === infusionAura} disabled={key === infusionAura}\r\n        onClick={() => characterDispatch({ infusionAura: key })}>{text}</MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n\r\ntype ReactionToggleProps = Omit<ToggleButtonGroupProps, \"color\"> & {\r\n  character: ICachedCharacter,\r\n  build: ICalculatedStats,\r\n}\r\nexport function ReactionToggle({ character: { reactionMode = \"\", infusionAura, key: characterKey }, build, ...props }: ReactionToggleProps) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  if (!build) return null\r\n  const charEleKey = build.characterEle\r\n  if (![\"pyro\", \"hydro\", \"cryo\"].includes(charEleKey) && ![\"pyro\", \"hydro\", \"cryo\"].includes(infusionAura)) return null\r\n  return <SolidToggleButtonGroup exclusive baseColor=\"secondary\"\r\n    value={reactionMode} onChange={(e, reactionMode) => characterDispatch({ reactionMode })} {...props}>\r\n    <ToggleButton value=\"\" >No Reactions</ToggleButton >\r\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value=\"pyro_vaporize\"  >\r\n      <ColorText color=\"vaporize\">Vaporize(Pyro){StatIcon.hydro}+{StatIcon.pyro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value={\"pyro_melt\"}  >\r\n      <ColorText color=\"melt\">Melt(Pyro) {StatIcon.cryo}+{StatIcon.pyro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"hydro\" || infusionAura === \"hydro\") && <ToggleButton value={\"hydro_vaporize\"}  >\r\n      <ColorText color=\"vaporize\">Vaporize(Hydro) {StatIcon.pyro}+{StatIcon.hydro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"cryo\" || infusionAura === \"cryo\") && <ToggleButton value={\"cryo_melt\"}  >\r\n      <ColorText color=\"melt\">Melt(Cryo) {StatIcon.pyro}+{StatIcon.cryo}</ColorText>\r\n    </ToggleButton >}\r\n  </SolidToggleButtonGroup>\r\n}\r\ntype HitModeToggleProps = Omit<ToggleButtonGroupProps, \"color\"> & {\r\n  character: ICachedCharacter\r\n}\r\nexport function HitModeToggle({ character: { hitMode = \"avgHit\", key: characterKey }, ...props }: HitModeToggleProps) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  return <SolidToggleButtonGroup exclusive baseColor=\"secondary\"\r\n    value={hitMode} onChange={(e, hitMode) => characterDispatch({ hitMode })} {...props} >\r\n    <ToggleButton value=\"avgHit\">Avg. DMG</ToggleButton>\r\n    <ToggleButton value=\"hit\">Non Crit DMG</ToggleButton>\r\n    <ToggleButton value=\"critHit\">Crit Hit DMG</ToggleButton>\r\n  </SolidToggleButtonGroup>\r\n}\r\n\r\n\r\nexport function DamageOptionsCard({ character }: { character: ICachedCharacter }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  //choose which one to display stats for\r\n  const build = newBuild ? newBuild : equippedBuild!\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        <Grid item><HitModeToggle character={character} size=\"small\" /></Grid>\r\n        <Grid item><InfusionAuraDropdown character={character} /></Grid>\r\n        <Grid item><ReactionToggle character={character} build={build} size=\"small\" /></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { Button, CardContent, Divider, Grid, Skeleton, Typography } from \"@mui/material\"\r\nimport { Suspense, useState } from \"react\"\r\nimport { dbStorage } from \"../Database/DBStorage\"\r\nimport { getRandomElementFromArray } from \"../Util/Util\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport CloseButton from \"./CloseButton\"\r\nimport ModalWrapper from \"./ModalWrapper\"\r\nimport { TransWrapper } from \"./Translate\"\r\n\r\nexport default function InfoComponent({ pageKey = \"\", text = \"\", modalTitle = \"\", children }: { pageKey: string, text: Displayable | Displayable[], modalTitle: Displayable, children: JSX.Element }) {\r\n  const [showInfoModal, setshowInfoModal] = useState(dbStorage.get(\"infoShown\")?.[pageKey] ?? true)\r\n  const [displayText,] = useState(Array.isArray(text) ? getRandomElementFromArray(text) : text)\r\n  const closeModal = () => {\r\n    const infoShown = dbStorage.get(\"infoShown\") ?? {}\r\n    infoShown[pageKey] = false\r\n    dbStorage.set(\"infoShown\", infoShown)\r\n    setshowInfoModal(false)\r\n  }\r\n  return <CardDark >\r\n    <Grid container>\r\n      <Grid item flexGrow={1}>\r\n        <Typography variant=\"caption\" pl={1} >\r\n          {displayText}\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs=\"auto\">\r\n        <Button size=\"small\" color=\"info\" variant=\"contained\" onClick={() => setshowInfoModal(true)} startIcon={<FontAwesomeIcon icon={faQuestionCircle} />}>\r\n          <TransWrapper ns=\"ui\" key18=\"info\" />\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n    <ModalWrapper containerProps={{ maxWidth: \"xl\" }} open={showInfoModal} onClose={() => closeModal()} >\r\n      <CardDark >\r\n        <CardContent sx={{ py: 1 }}>\r\n          <Grid container>\r\n            <Grid item flexGrow={1}>\r\n              <Typography variant=\"h6\">{modalTitle}</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <CloseButton onClick={closeModal} />\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardContent>\r\n          <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={500} />}>\r\n            {children}\r\n          </Suspense>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardContent sx={{ py: 1 }}>\r\n          <CloseButton large onClick={closeModal} />\r\n        </CardContent>\r\n      </CardDark>\r\n    </ModalWrapper >\r\n  </CardDark>\r\n}","/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport default function useControlled({\n  controlled,\n  default: defaultProp,\n  name,\n  state = 'value'\n}) {\n  // isControlled is ignored in the hook dependency lists as it should never change.\n  const {\n    current: isControlled\n  } = React.useRef(controlled !== undefined);\n  const [valueState, setValue] = React.useState(defaultProp);\n  const value = isControlled ? controlled : valueState;\n\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(() => {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([`MUI: A component is changing the ${isControlled ? '' : 'un'}controlled ${state} state of ${name} to be ${isControlled ? 'un' : ''}controlled.`, 'Elements should not switch from uncontrolled to controlled (or vice versa).', `Decide between using a controlled or uncontrolled ${name} ` + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [state, name, controlled]);\n    const {\n      current: defaultValue\n    } = React.useRef(defaultProp);\n    React.useEffect(() => {\n      if (!isControlled && defaultValue !== defaultProp) {\n        console.error([`MUI: A component is changing the default ${state} state of an uncontrolled ${name} after being initialized. ` + `To suppress this warning opt to use a controlled ${name}.`].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n\n  const setValueIfUncontrolled = React.useCallback(newValue => {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z\"\n}), 'BusinessCenter');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"\n}), 'Replay');","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getAlertUtilityClass(slot) {\n  return generateUtilityClass('MuiAlert', slot);\n}\nconst alertClasses = generateUtilityClasses('MuiAlert', ['root', 'action', 'icon', 'message', 'filled', 'filledSuccess', 'filledInfo', 'filledWarning', 'filledError', 'outlined', 'outlinedSuccess', 'outlinedInfo', 'outlinedWarning', 'outlinedError', 'standard', 'standardSuccess', 'standardInfo', 'standardWarning', 'standardError']);\nexport default alertClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _CloseIcon;\n\nconst _excluded = [\"action\", \"children\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { darken, lighten } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nimport alertClasses, { getAlertUtilityClass } from './alertClasses';\nimport IconButton from '../IconButton';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    variant,\n    color,\n    severity,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${variant}${capitalize(color || severity)}`, `${variant}`],\n    icon: ['icon'],\n    message: ['message'],\n    action: ['action']\n  };\n  return composeClasses(slots, getAlertUtilityClass, classes);\n};\n\nconst AlertRoot = styled(Paper, {\n  name: 'MuiAlert',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`${ownerState.variant}${capitalize(ownerState.color || ownerState.severity)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const getColor = theme.palette.mode === 'light' ? darken : lighten;\n  const getBackgroundColor = theme.palette.mode === 'light' ? lighten : darken;\n  const color = ownerState.color || ownerState.severity;\n  return _extends({}, theme.typography.body2, {\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: 'transparent',\n    display: 'flex',\n    padding: '6px 16px'\n  }, color && ownerState.variant === 'standard' && {\n    color: getColor(theme.palette[color].light, 0.6),\n    backgroundColor: getBackgroundColor(theme.palette[color].light, 0.9),\n    [`& .${alertClasses.icon}`]: {\n      color: theme.palette.mode === 'dark' ? theme.palette[color].main : theme.palette[color].light\n    }\n  }, color && ownerState.variant === 'outlined' && {\n    color: getColor(theme.palette[color].light, 0.6),\n    border: `1px solid ${theme.palette[color].light}`,\n    [`& .${alertClasses.icon}`]: {\n      color: theme.palette.mode === 'dark' ? theme.palette[color].main : theme.palette[color].light\n    }\n  }, color && ownerState.variant === 'filled' && {\n    color: '#fff',\n    fontWeight: theme.typography.fontWeightMedium,\n    backgroundColor: theme.palette.mode === 'dark' ? theme.palette[color].dark : theme.palette[color].main\n  });\n});\nconst AlertIcon = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => styles.icon\n})({\n  marginRight: 12,\n  padding: '7px 0',\n  display: 'flex',\n  fontSize: 22,\n  opacity: 0.9\n});\nconst AlertMessage = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Message',\n  overridesResolver: (props, styles) => styles.message\n})({\n  padding: '8px 0'\n});\nconst AlertAction = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  display: 'flex',\n  alignItems: 'flex-start',\n  padding: '4px 0 0 16px',\n  marginLeft: 'auto',\n  marginRight: -8\n});\nconst defaultIconMapping = {\n  success: /*#__PURE__*/_jsx(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/_jsx(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/_jsx(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/_jsx(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\nconst Alert = /*#__PURE__*/React.forwardRef(function Alert(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAlert'\n  });\n\n  const {\n    action,\n    children,\n    className,\n    closeText = 'Close',\n    color,\n    icon,\n    iconMapping = defaultIconMapping,\n    onClose,\n    role = 'alert',\n    severity = 'success',\n    variant = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    color,\n    severity,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AlertRoot, _extends({\n    role: role,\n    square: true,\n    elevation: 0,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other, {\n    children: [icon !== false ? /*#__PURE__*/_jsx(AlertIcon, {\n      ownerState: ownerState,\n      className: classes.icon,\n      children: icon || iconMapping[severity] || defaultIconMapping[severity]\n    }) : null, /*#__PURE__*/_jsx(AlertMessage, {\n      ownerState: ownerState,\n      className: classes.message,\n      children: children\n    }), action != null ? /*#__PURE__*/_jsx(AlertAction, {\n      className: classes.action,\n      children: action\n    }) : null, action == null && onClose ? /*#__PURE__*/_jsx(AlertAction, {\n      ownerState: ownerState,\n      className: classes.action,\n      children: /*#__PURE__*/_jsx(IconButton, {\n        size: \"small\",\n        \"aria-label\": closeText,\n        title: closeText,\n        color: \"inherit\",\n        onClick: onClose,\n        children: _CloseIcon || (_CloseIcon = /*#__PURE__*/_jsx(CloseIcon, {\n          fontSize: \"small\"\n        }))\n      })\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Alert.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the alert.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Override the default label for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   * @default 'Close'\n   */\n  closeText: PropTypes.string,\n\n  /**\n   * The main color for the alert. Unless provided, the value is taken from the `severity` prop.\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * Override the icon displayed before the children.\n   * Unless provided, the icon is mapped to the value of the `severity` prop.\n   * Set to `false` to remove the `icon`.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The component maps the `severity` prop to a range of different icons,\n   * for instance success to `<SuccessOutlined>`.\n   * If you wish to change this mapping, you can provide your own.\n   * Alternatively, you can use the `icon` prop to override the icon displayed.\n   */\n  iconMapping: PropTypes.shape({\n    error: PropTypes.node,\n    info: PropTypes.node,\n    success: PropTypes.node,\n    warning: PropTypes.node\n  }),\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * When provided and no `action` prop is set, a close icon button is displayed that triggers the callback when clicked.\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * The ARIA role attribute of the element.\n   * @default 'alert'\n   */\n  role: PropTypes.string,\n\n  /**\n   * The severity of the alert. This defines the color and icon used.\n   * @default 'success'\n   */\n  severity: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined', 'standard']), PropTypes.string])\n} : void 0;\nexport default Alert;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n *\n * Alias to `Clear`.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getCollapseUtilityClass(slot) {\n  return generateUtilityClass('MuiCollapse', slot);\n}\nconst collapseClasses = generateUtilityClasses('MuiCollapse', ['root', 'horizontal', 'vertical', 'entered', 'hidden', 'wrapper', 'wrapperInner']);\nexport default collapseClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"addEndListener\", \"children\", \"className\", \"collapsedSize\", \"component\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"orientation\", \"style\", \"timeout\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { elementTypeAcceptingRef } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { duration } from '../styles/createTransitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nimport { getCollapseUtilityClass } from './collapseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${orientation}`],\n    entered: ['entered'],\n    hidden: ['hidden'],\n    wrapper: ['wrapper', `${orientation}`],\n    wrapperInner: ['wrapperInner', `${orientation}`]\n  };\n  return composeClasses(slots, getCollapseUtilityClass, classes);\n};\n\nconst CollapseRoot = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.state === 'entered' && styles.entered, ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && styles.hidden];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  height: 0,\n  overflow: 'hidden',\n  transition: theme.transitions.create('height')\n}, ownerState.orientation === 'horizontal' && {\n  height: 'auto',\n  width: 0,\n  transition: theme.transitions.create('width')\n}, ownerState.state === 'entered' && _extends({\n  height: 'auto',\n  overflow: 'visible'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto'\n}), ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && {\n  visibility: 'hidden'\n}));\nconst CollapseWrapper = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Wrapper',\n  overridesResolver: (props, styles) => styles.wrapper\n})(({\n  ownerState\n}) => _extends({\n  // Hack to get children with a negative margin to not falsify the height computation.\n  display: 'flex',\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\nconst CollapseWrapperInner = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'WrapperInner',\n  overridesResolver: (props, styles) => styles.wrapperInner\n})(({\n  ownerState\n}) => _extends({\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nconst Collapse = /*#__PURE__*/React.forwardRef(function Collapse(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCollapse'\n  });\n\n  const {\n    addEndListener,\n    children,\n    className,\n    collapsedSize: collapsedSizeProp = '0px',\n    component,\n    easing,\n    in: inProp,\n    onEnter,\n    onEntered,\n    onEntering,\n    onExit,\n    onExited,\n    onExiting,\n    orientation = 'vertical',\n    style,\n    timeout = duration.standard,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Transition\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    orientation,\n    collapsedSize: collapsedSizeProp\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const theme = useTheme();\n  const timer = React.useRef();\n  const wrapperRef = React.useRef(null);\n  const autoTransitionDuration = React.useRef();\n  const collapsedSize = typeof collapsedSizeProp === 'number' ? `${collapsedSizeProp}px` : collapsedSizeProp;\n  const isHorizontal = orientation === 'horizontal';\n  const size = isHorizontal ? 'width' : 'height';\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  const nodeRef = React.useRef(null);\n  const handleRef = useForkRef(ref, nodeRef);\n\n  const normalizedTransitionCallback = callback => maybeIsAppearing => {\n    if (callback) {\n      const node = nodeRef.current; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n      if (maybeIsAppearing === undefined) {\n        callback(node);\n      } else {\n        callback(node, maybeIsAppearing);\n      }\n    }\n  };\n\n  const getWrapperSize = () => wrapperRef.current ? wrapperRef.current[isHorizontal ? 'clientWidth' : 'clientHeight'] : 0;\n\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    if (wrapperRef.current && isHorizontal) {\n      // Set absolute position to get the size of collapsed content\n      wrapperRef.current.style.position = 'absolute';\n    }\n\n    node.style[size] = collapsedSize;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n    const wrapperSize = getWrapperSize();\n\n    if (wrapperRef.current && isHorizontal) {\n      // After the size is read reset the position back to default\n      wrapperRef.current.style.position = '';\n    }\n\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'enter'\n    });\n\n    if (timeout === 'auto') {\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n\n    node.style[size] = `${wrapperSize}px`;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback((node, isAppearing) => {\n    node.style[size] = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  const handleExit = normalizedTransitionCallback(node => {\n    node.style[size] = `${getWrapperSize()}px`;\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(onExited);\n  const handleExiting = normalizedTransitionCallback(node => {\n    const wrapperSize = getWrapperSize();\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'exit'\n    });\n\n    if (timeout === 'auto') {\n      // TODO: rename getAutoHeightDuration to something more generic (width support)\n      // Actually it just calculates animation duration based on size\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n\n    node.style[size] = collapsedSize;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  const handleAddEndListener = next => {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(nodeRef.current, next);\n    }\n  };\n\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    nodeRef: nodeRef,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other, {\n    children: (state, childProps) => /*#__PURE__*/_jsx(CollapseRoot, _extends({\n      as: component,\n      className: clsx(classes.root, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedSize === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        [isHorizontal ? 'minWidth' : 'minHeight']: collapsedSize\n      }, style),\n      ownerState: _extends({}, ownerState, {\n        state\n      }),\n      ref: handleRef\n    }, childProps, {\n      children: /*#__PURE__*/_jsx(CollapseWrapper, {\n        ownerState: _extends({}, ownerState, {\n          state\n        }),\n        className: classes.wrapper,\n        ref: wrapperRef,\n        children: /*#__PURE__*/_jsx(CollapseWrapperInner, {\n          ownerState: _extends({}, ownerState, {\n            state\n          }),\n          className: classes.wrapperInner,\n          children: children\n        })\n      })\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning DOM\n   * node and a done callback. Allows for more fine grained transition end\n   * logic. Note: Timeouts are still used as a fallback if provided.\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The width (horizontal) or height (vertical) of the container when collapsed.\n   * @default '0px'\n   */\n  collapsedSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n\n  /**\n   * The transition timing function.\n   * You may specify a single easing or a object containing enter and exit values.\n   */\n  easing: PropTypes.oneOfType([PropTypes.shape({\n    enter: PropTypes.string,\n    exit: PropTypes.string\n  }), PropTypes.string]),\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * The transition orientation.\n   * @default 'vertical'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   * @default duration.standard\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default Collapse;","import { Replay } from \"@mui/icons-material\";\r\nimport { ButtonProps, Divider, ListItemIcon, ListItemText, MenuItem, Typography } from \"@mui/material\";\r\nimport React, { useMemo } from \"react\";\r\nimport { Trans, useTranslation } from \"react-i18next\";\r\nimport { ArtifactSheet } from \"../../Artifact/ArtifactSheet\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\nimport { ArtifactRarity, ArtifactSetKey, Rarity } from \"../../Types/consts\";\r\nimport DropdownButton from \"../DropdownMenu/DropdownButton\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\nimport { Stars } from \"../StarDisplay\";\r\n\r\ntype props = Omit<ButtonProps, \"onChange\"> & {\r\n  selectedSetKey?: ArtifactSetKey | \"\"\r\n  onChange: (setKey: ArtifactSetKey | \"\") => void\r\n  hasUnselect?: boolean\r\n  artifactSetsByRarity?: { [rarity in ArtifactRarity]: ArtifactSetKey[] }\r\n}\r\nexport default function ArtifactSetDropdown({ selectedSetKey = \"\", onChange, artifactSetsByRarity, hasUnselect = false, ...props }: props) {\r\n  const { t } = useTranslation(\"artifact\")\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n  const sheet = artifactSheets?.[selectedSetKey]\r\n  const displaySets = useMemo(() => {\r\n    if (artifactSetsByRarity) return artifactSetsByRarity\r\n    if (!artifactSheets) return {}\r\n    return ArtifactSheet.setKeysByRarities(artifactSheets)\r\n  }, [artifactSheets, artifactSetsByRarity])\r\n  return <DropdownButton\r\n    {...props}\r\n    title={sheet?.name ?? t`editor.set.artifactSet`}\r\n    startIcon={sheet?.defIconSrc && <ImgIcon src={sheet?.defIconSrc} />}\r\n    color={sheet ? \"success\" : \"primary\"}\r\n  >\r\n    {hasUnselect && <MenuItem onClick={() => onChange(\"\")} selected={selectedSetKey === \"\"} disabled={selectedSetKey === \"\"}>\r\n      <ListItemIcon>\r\n        <Replay />\r\n      </ListItemIcon>\r\n      <ListItemText>\r\n        <Trans t={t} i18nKey=\"ui:unselect\" >Unselect</Trans>\r\n      </ListItemText>\r\n    </MenuItem >}\r\n    {!!Object.keys(displaySets).length && Object.entries(displaySets).reverse().flatMap(([star, sets], i) => [\r\n      ...(((i > 0) || hasUnselect) && sets.length ? [<Divider key={`${star}divi`} />] : []),\r\n      ...(sets.length ? [<MenuItem key={`${star}header`} >\r\n        <Typography>\r\n          <Trans t={t} i18nKey=\"editor.set.maxRarity\">Max Rarity <Stars stars={parseInt(star) as Rarity} /></Trans>\r\n        </Typography>\r\n      </MenuItem>] : []),\r\n      ...sets.map(setKey => <MenuItem key={setKey} onClick={() => onChange(setKey)} selected={selectedSetKey === setKey} disabled={selectedSetKey === setKey}>\r\n        <ListItemIcon>\r\n          <ImgIcon src={artifactSheets?.[setKey]?.defIconSrc} sx={{ fontSize: \"1.5em\" }} />\r\n        </ListItemIcon>\r\n        <ListItemText>\r\n          {artifactSheets?.[setKey]?.name}\r\n        </ListItemText>\r\n      </MenuItem >)\r\n    ])}\r\n  </DropdownButton>\r\n}","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import { strPadLeft } from \"./Util\"\r\n\r\nexport const SECOND_MS = 1000\r\nexport const MINUTE_MS = 60 * SECOND_MS\r\nexport const HOUR_MS = 60 * MINUTE_MS\r\nexport const DAY_MS = 24 * HOUR_MS\r\n\r\nexport function msToUnits(ms: number) {\r\n  let milliseconds = ms % 1000\r\n  let seconds = Math.floor((ms / 1000) % 60)\r\n  let minutes = Math.floor((ms / (1000 * 60)) % 60)\r\n  let hours = Math.floor((ms / (1000 * 60 * 60)))\r\n  return { hours, minutes, seconds, milliseconds }\r\n}\r\nexport function timeString(ms: number) {\r\n  //shows only in terms of hours/minutes. there are better calculations for days using Date functions.\r\n  let { hours, minutes, seconds } = msToUnits(ms)\r\n  let timeText = \"Minutes\"\r\n  if (hours) timeText = \"Hours\"\r\n  return `${hours ? `${hours}:` : \"\"}${strPadLeft(minutes, '0', 2)}:${strPadLeft(seconds, '0', 2)} ${timeText}`;\r\n}\r\nexport function timeStringMs(ms: number) {\r\n  //shows only in terms of hours/minutes. there are better calculations for days using Date functions.\r\n  let { hours, minutes, seconds, milliseconds } = msToUnits(ms)\r\n  let timeText = \"Minutes\"\r\n  if (hours) timeText = \"Hours\"\r\n  return `${hours ? `${hours}:` : \"\"}${strPadLeft(minutes, '0', 2)}:${strPadLeft(seconds, '0', 2)}.${strPadLeft(milliseconds, '0', 3)} ${timeText}`;\r\n}\r\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getListItemUtilityClass(slot) {\n  return generateUtilityClass('MuiListItem', slot);\n}\nconst listItemClasses = generateUtilityClasses('MuiListItem', ['root', 'container', 'focusVisible', 'dense', 'alignItemsFlexStart', 'disabled', 'divider', 'gutters', 'padding', 'button', 'secondaryAction', 'selected']);\nexport default listItemClasses;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getListItemSecondaryActionClassesUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemSecondaryAction', slot);\n}\nconst listItemSecondaryActionClasses = generateUtilityClasses('MuiListItemSecondaryAction', ['root', 'disableGutters']);\nexport default listItemSecondaryActionClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ListContext from '../List/ListContext';\nimport { getListItemSecondaryActionClassesUtilityClass } from './listItemSecondaryActionClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    disableGutters,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', disableGutters && 'disableGutters']\n  };\n  return composeClasses(slots, getListItemSecondaryActionClassesUtilityClass, classes);\n};\n\nconst ListItemSecondaryActionRoot = styled('div', {\n  name: 'MuiListItemSecondaryAction',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.disableGutters && styles.disableGutters];\n  }\n})(({\n  ownerState\n}) => _extends({\n  position: 'absolute',\n  right: 16,\n  top: '50%',\n  transform: 'translateY(-50%)'\n}, ownerState.disableGutters && {\n  right: 0\n}));\n/**\n * Must be used as the last child of ListItem to function properly.\n */\n\nconst ListItemSecondaryAction = /*#__PURE__*/React.forwardRef(function ListItemSecondaryAction(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemSecondaryAction'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const context = React.useContext(ListContext);\n\n  const ownerState = _extends({}, props, {\n    disableGutters: context.disableGutters\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemSecondaryActionRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default ListItemSecondaryAction;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"],\n      _excluded2 = [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"className\", \"component\", \"components\", \"componentsProps\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"disablePadding\", \"divider\", \"focusVisibleClassName\", \"secondaryAction\", \"selected\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses, isHostComponent } from '@mui/core';\nimport { chainPropTypes, elementTypeAcceptingRef } from '@mui/utils';\nimport { alpha } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useEnhancedEffect from '../utils/useEnhancedEffect';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport listItemClasses, { getListItemUtilityClass } from './listItemClasses';\nimport { listItemButtonClasses } from '../ListItemButton';\nimport ListItemSecondaryAction from '../ListItemSecondaryAction';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters, !ownerState.disablePadding && styles.padding, ownerState.button && styles.button, ownerState.hasSecondaryAction && styles.secondaryAction];\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    button,\n    classes,\n    dense,\n    disabled,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction,\n    selected\n  } = ownerState;\n  const slots = {\n    root: ['root', dense && 'dense', !disableGutters && 'gutters', !disablePadding && 'padding', divider && 'divider', disabled && 'disabled', button && 'button', alignItems === 'flex-start' && 'alignItemsFlexStart', hasSecondaryAction && 'secondaryAction', selected && 'selected'],\n    container: ['container']\n  };\n  return composeClasses(slots, getListItemUtilityClass, classes);\n};\n\nexport const ListItemRoot = styled('div', {\n  name: 'MuiListItem',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  position: 'relative',\n  textDecoration: 'none',\n  width: '100%',\n  boxSizing: 'border-box',\n  textAlign: 'left'\n}, !ownerState.disablePadding && _extends({\n  paddingTop: 8,\n  paddingBottom: 8\n}, ownerState.dense && {\n  paddingTop: 4,\n  paddingBottom: 4\n}, !ownerState.disableGutters && {\n  paddingLeft: 16,\n  paddingRight: 16\n}, !!ownerState.secondaryAction && {\n  // Add some space to avoid collision as `ListItemSecondaryAction`\n  // is absolutely positioned.\n  paddingRight: 48\n}), !!ownerState.secondaryAction && {\n  [`& > .${listItemButtonClasses.root}`]: {\n    paddingRight: 48\n  }\n}, {\n  [`&.${listItemClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`&.${listItemClasses.selected}`]: {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n    [`&.${listItemClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  },\n  [`&.${listItemClasses.disabled}`]: {\n    opacity: theme.palette.action.disabledOpacity\n  }\n}, ownerState.alignItems === 'flex-start' && {\n  alignItems: 'flex-start'\n}, ownerState.divider && {\n  borderBottom: `1px solid ${theme.palette.divider}`,\n  backgroundClip: 'padding-box'\n}, ownerState.button && {\n  transition: theme.transitions.create('background-color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  '&:hover': {\n    textDecoration: 'none',\n    backgroundColor: theme.palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${listItemClasses.selected}:hover`]: {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n    }\n  }\n}, ownerState.hasSecondaryAction && {\n  // Add some space to avoid collision as `ListItemSecondaryAction`\n  // is absolutely positioned.\n  paddingRight: 48\n}));\nconst ListItemContainer = styled('li', {\n  name: 'MuiListItem',\n  slot: 'Container',\n  overridesResolver: (props, styles) => styles.container\n})({\n  position: 'relative'\n});\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nconst ListItem = /*#__PURE__*/React.forwardRef(function ListItem(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItem'\n  });\n\n  const {\n    alignItems = 'center',\n    autoFocus = false,\n    button = false,\n    children: childrenProp,\n    className,\n    component: componentProp,\n    components = {},\n    componentsProps = {},\n    ContainerComponent = 'li',\n    ContainerProps: {\n      className: ContainerClassName\n    } = {},\n    dense = false,\n    disabled = false,\n    disableGutters = false,\n    disablePadding = false,\n    divider = false,\n    focusVisibleClassName,\n    secondaryAction,\n    selected = false\n  } = props,\n        ContainerProps = _objectWithoutPropertiesLoose(props.ContainerProps, _excluded),\n        other = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const context = React.useContext(ListContext);\n  const childContext = {\n    dense: dense || context.dense || false,\n    alignItems,\n    disableGutters\n  };\n  const listItemRef = React.useRef(null);\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('MUI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  const children = React.Children.toArray(childrenProp); // v4 implementation, deprecated in v5, will be removed in v6\n\n  const hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n\n  const ownerState = _extends({}, props, {\n    alignItems,\n    autoFocus,\n    button,\n    dense: childContext.dense,\n    disabled,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction,\n    selected\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const handleRef = useForkRef(listItemRef, ref);\n  const Root = components.Root || ListItemRoot;\n  const rootProps = componentsProps.root || {};\n\n  const componentProps = _extends({\n    className: clsx(classes.root, rootProps.className, className),\n    disabled\n  }, other);\n\n  let Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(listItemClasses.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  } // v4 implementation, deprecated in v5, will be removed in v6\n\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/_jsx(ListContext.Provider, {\n      value: childContext,\n      children: /*#__PURE__*/_jsxs(ListItemContainer, _extends({\n        as: ContainerComponent,\n        className: clsx(classes.container, ContainerClassName),\n        ref: handleRef,\n        ownerState: ownerState\n      }, ContainerProps, {\n        children: [/*#__PURE__*/_jsx(Root, _extends({}, rootProps, !isHostComponent(Root) && {\n          as: Component,\n          ownerState: _extends({}, ownerState, rootProps.ownerState)\n        }, componentProps, {\n          children: children\n        })), children.pop()]\n      }))\n    });\n  }\n\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsxs(Root, _extends({}, rootProps, {\n      as: Component,\n      ref: handleRef,\n      ownerState: ownerState\n    }, !isHostComponent(Root) && {\n      ownerState: _extends({}, ownerState, rootProps.ownerState)\n    }, componentProps, {\n      children: [children, secondaryAction && /*#__PURE__*/_jsx(ListItemSecondaryAction, {\n        children: secondaryAction\n      })]\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItem.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Defines the `align-items` style property.\n   * @default 'center'\n   */\n  alignItems: PropTypes.oneOf(['center', 'flex-start']),\n\n  /**\n   * If `true`, the list item is focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the list item is a button (using `ButtonBase`). Props intended\n   * for `ButtonBase` can then be applied to `ListItem`.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  button: PropTypes.bool,\n\n  /**\n   * The content of the component if a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    const children = React.Children.toArray(props.children); // React.Children.toArray(props.children).findLastIndex(isListItemSecondaryAction)\n\n    let secondaryActionIndex = -1;\n\n    for (let i = children.length - 1; i >= 0; i -= 1) {\n      const child = children[i];\n\n      if (isMuiElement(child, ['ListItemSecondaryAction'])) {\n        secondaryActionIndex = i;\n        break;\n      }\n    } //  is ListItemSecondaryAction the last child of ListItem\n\n\n    if (secondaryActionIndex !== -1 && secondaryActionIndex !== children.length - 1) {\n      return new Error('MUI: You used an element after ListItemSecondaryAction. ' + 'For ListItem to detect that it has a secondary action ' + 'you must pass it as the last child to ListItem.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The components used for each slot inside the InputBase.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Input.\n   * @default {}\n   */\n  componentsProps: PropTypes.object,\n\n  /**\n   * The container component used when a `ListItemSecondaryAction` is the last child.\n   * @default 'li'\n   * @deprecated\n   */\n  ContainerComponent: elementTypeAcceptingRef,\n\n  /**\n   * Props applied to the container component if used.\n   * @default {}\n   * @deprecated\n   */\n  ContainerProps: PropTypes.object,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used.\n   * The prop defaults to the value inherited from the parent List component.\n   * @default false\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, all padding is removed.\n   * @default false\n   */\n  disablePadding: PropTypes.bool,\n\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   * @default false\n   */\n  divider: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The element to display at the end of ListItem.\n   */\n  secondaryAction: PropTypes.node,\n\n  /**\n   * Use to apply selected styling.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default ListItem;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getChipUtilityClass(slot) {\n  return generateUtilityClass('MuiChip', slot);\n}\nconst chipClasses = generateUtilityClasses('MuiChip', ['root', 'sizeSmall', 'sizeMedium', 'colorPrimary', 'colorSecondary', 'disabled', 'clickable', 'clickableColorPrimary', 'clickableColorSecondary', 'deletable', 'deletableColorPrimary', 'deletableColorSecondary', 'outlined', 'filled', 'outlinedPrimary', 'outlinedSecondary', 'avatar', 'avatarSmall', 'avatarMedium', 'avatarColorPrimary', 'avatarColorSecondary', 'icon', 'iconSmall', 'iconMedium', 'iconColorPrimary', 'iconColorSecondary', 'label', 'labelSmall', 'labelMedium', 'deleteIcon', 'deleteIconSmall', 'deleteIconMedium', 'deleteIconColorPrimary', 'deleteIconColorSecondary', 'deleteIconOutlinedColorPrimary', 'deleteIconOutlinedColorSecondary', 'focusVisible']);\nexport default chipClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"avatar\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { alpha } from '@mui/system';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport chipClasses, { getChipUtilityClass } from './chipClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disabled,\n    size,\n    color,\n    onDelete,\n    clickable,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, disabled && 'disabled', `size${capitalize(size)}`, `color${capitalize(color)}`, clickable && 'clickable', clickable && `clickableColor${capitalize(color)}`, onDelete && 'deletable', onDelete && `deletableColor${capitalize(color)}`, `${variant}${capitalize(color)}`],\n    label: ['label', `label${capitalize(size)}`],\n    avatar: ['avatar', `avatar${capitalize(size)}`, `avatarColor${capitalize(color)}`],\n    icon: ['icon', `icon${capitalize(size)}`, `iconColor${capitalize(color)}`],\n    deleteIcon: ['deleteIcon', `deleteIcon${capitalize(size)}`, `deleteIconColor${capitalize(color)}`, `deleteIconOutlinedColor${capitalize(color)}`]\n  };\n  return composeClasses(slots, getChipUtilityClass, classes);\n};\n\nconst ChipRoot = styled('div', {\n  name: 'MuiChip',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      color,\n      clickable,\n      onDelete,\n      size,\n      variant\n    } = ownerState;\n    return [{\n      [`& .${chipClasses.avatar}`]: styles.avatar\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatar${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatarColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles.icon\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`icon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`iconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles.deleteIcon\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIcon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconOutlinedColor${capitalize(color)}`]\n    }, styles.root, styles[`size${capitalize(size)}`], styles[`color${capitalize(color)}`], clickable && styles.clickable, clickable && color !== 'default' && styles[`clickableColor${capitalize(color)})`], onDelete && styles.deletable, onDelete && color !== 'default' && styles[`deletableColor${capitalize(color)}`], styles[variant], variant === 'outlined' && styles[`outlined${capitalize(color)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const deleteIconColor = alpha(theme.palette.text.primary, 0.26);\n  return _extends({\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.pxToRem(13),\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 32,\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.action.selected,\n    borderRadius: 32 / 2,\n    whiteSpace: 'nowrap',\n    transition: theme.transitions.create(['background-color', 'box-shadow']),\n    // label will inherit this from root, then `clickable` class overrides this for both\n    cursor: 'default',\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    textDecoration: 'none',\n    border: 0,\n    // Remove `button` border\n    padding: 0,\n    // Remove `button` padding\n    verticalAlign: 'middle',\n    boxSizing: 'border-box',\n    [`&.${chipClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`& .${chipClasses.avatar}`]: {\n      marginLeft: 5,\n      marginRight: -6,\n      width: 24,\n      height: 24,\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      fontSize: theme.typography.pxToRem(12)\n    },\n    [`& .${chipClasses.avatarColorPrimary}`]: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.dark\n    },\n    [`& .${chipClasses.avatarColorSecondary}`]: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.dark\n    },\n    [`& .${chipClasses.avatarSmall}`]: {\n      marginLeft: 4,\n      marginRight: -4,\n      width: 18,\n      height: 18,\n      fontSize: theme.typography.pxToRem(10)\n    },\n    [`& .${chipClasses.icon}`]: _extends({\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    }, ownerState.size === 'small' && {\n      fontSize: 18,\n      marginLeft: 4,\n      marginRight: -4\n    }, ownerState.color !== 'default' && {\n      color: 'inherit'\n    }),\n    [`& .${chipClasses.deleteIcon}`]: _extends({\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      fontSize: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: alpha(deleteIconColor, 0.4)\n      }\n    }, ownerState.size === 'small' && {\n      fontSize: 16,\n      marginRight: 4,\n      marginLeft: -4\n    }, ownerState.color !== 'default' && {\n      color: alpha(theme.palette[ownerState.color].contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette[ownerState.color].contrastText\n      }\n    })\n  }, ownerState.size === 'small' && {\n    height: 24\n  }, ownerState.color !== 'default' && {\n    backgroundColor: theme.palette[ownerState.color].main,\n    color: theme.palette[ownerState.color].contrastText\n  }, ownerState.onDelete && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, ownerState.onDelete && ownerState.color !== 'default' && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: theme.palette[ownerState.color].dark\n    }\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.clickable && {\n  userSelect: 'none',\n  WebkitTapHighlightColor: 'transparent',\n  cursor: 'pointer',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n  },\n  '&:active': {\n    boxShadow: theme.shadows[1]\n  }\n}, ownerState.clickable && ownerState.color !== 'default' && {\n  [`&:hover, &.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette[ownerState.color].dark\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'outlined' && {\n  backgroundColor: 'transparent',\n  border: `1px solid ${theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[700]}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: theme.palette.action.hover\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`& .${chipClasses.avatar}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.avatarSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.icon}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.iconSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    marginRight: 5\n  },\n  [`& .${chipClasses.deleteIconSmall}`]: {\n    marginRight: 3\n  }\n}, ownerState.variant === 'outlined' && ownerState.color !== 'default' && {\n  color: theme.palette[ownerState.color].main,\n  border: `1px solid ${alpha(theme.palette[ownerState.color].main, 0.7)}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.focusOpacity)\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    color: alpha(theme.palette[ownerState.color].main, 0.7),\n    '&:hover, &:active': {\n      color: theme.palette[ownerState.color].main\n    }\n  }\n}));\nconst ChipLabel = styled('span', {\n  name: 'MuiChip',\n  slot: 'Label',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      size\n    } = ownerState;\n    return [styles.label, styles[`label${capitalize(size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  paddingLeft: 12,\n  paddingRight: 12,\n  whiteSpace: 'nowrap'\n}, ownerState.size === 'small' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}));\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nconst Chip = /*#__PURE__*/React.forwardRef(function Chip(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiChip'\n  });\n\n  const {\n    avatar: avatarProp,\n    className,\n    clickable: clickableProp,\n    color = 'default',\n    component: ComponentProp,\n    deleteIcon: deleteIconProp,\n    disabled = false,\n    icon: iconProp,\n    label,\n    onClick,\n    onDelete,\n    onKeyDown,\n    onKeyUp,\n    size = 'medium',\n    variant = 'filled'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const chipRef = React.useRef(null);\n  const handleRef = useForkRef(chipRef, ref);\n\n  const handleDeleteIconClick = event => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  const handleKeyDown = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // Will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const handleKeyUp = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  const clickable = clickableProp !== false && onClick ? true : clickableProp;\n  const small = size === 'small';\n  const component = clickable || onDelete ? ButtonBase : ComponentProp || 'div';\n\n  const ownerState = _extends({}, props, {\n    component,\n    disabled,\n    size,\n    color,\n    onDelete: !!onDelete,\n    clickable,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const moreProps = component === ButtonBase ? _extends({\n    component: ComponentProp || 'div',\n    focusVisibleClassName: classes.focusVisible\n  }, onDelete && {\n    disableRipple: true\n  }) : {};\n  let deleteIcon = null;\n\n  if (onDelete) {\n    const customClasses = clsx(color !== 'default' && (variant === 'outlined' ? classes[`deleteIconOutlinedColor${capitalize(color)}`] : classes[`deleteIconColor${capitalize(color)}`]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/_jsx(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  let avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className)\n    });\n  }\n\n  let icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className)\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('MUI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(ChipRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    disabled: clickable && disabled ? true : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef,\n    ownerState: ownerState\n  }, moreProps, other, {\n    children: [avatar || icon, /*#__PURE__*/_jsx(ChipLabel, {\n      className: clsx(classes.label),\n      ownerState: ownerState,\n      children: label\n    }), deleteIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.element,\n\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If `false`, the chip will not appear clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   * Note: this controls the UI and does not affect the onClick event.\n   */\n  clickable: PropTypes.bool,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n\n  /**\n   * The content of the component.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The variant to use.\n   * @default 'filled'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string])\n} : void 0;\nexport default Chip;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getCardActionAreaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActionArea', slot);\n}\nconst cardActionAreaClasses = generateUtilityClasses('MuiCardActionArea', ['root', 'focusVisible', 'focusHighlight']);\nexport default cardActionAreaClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"focusVisibleClassName\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardActionAreaClasses, { getCardActionAreaUtilityClass } from './cardActionAreaClasses';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    focusHighlight: ['focusHighlight']\n  };\n  return composeClasses(slots, getCardActionAreaUtilityClass, classes);\n};\n\nconst CardActionAreaRoot = styled(ButtonBase, {\n  name: 'MuiCardActionArea',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  textAlign: 'inherit',\n  width: '100%',\n  [`&:hover .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.hoverOpacity,\n    '@media (hover: none)': {\n      opacity: 0\n    }\n  },\n  [`&.${cardActionAreaClasses.focusVisible} .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.focusOpacity\n  }\n}));\nconst CardActionAreaFocusHighlight = styled('span', {\n  name: 'MuiCardActionArea',\n  slot: 'FocusHighlight',\n  overridesResolver: (props, styles) => styles.focusHighlight\n})(({\n  theme\n}) => ({\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  borderRadius: 'inherit',\n  opacity: 0,\n  backgroundColor: 'currentcolor',\n  transition: theme.transitions.create('opacity', {\n    duration: theme.transitions.duration.short\n  })\n}));\nconst CardActionArea = /*#__PURE__*/React.forwardRef(function CardActionArea(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActionArea'\n  });\n\n  const {\n    children,\n    className,\n    focusVisibleClassName\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(CardActionAreaRoot, _extends({\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(focusVisibleClassName, classes.focusVisible),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [children, /*#__PURE__*/_jsx(CardActionAreaFocusHighlight, {\n      className: classes.focusHighlight,\n      ownerState: ownerState\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActionArea.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default CardActionArea;","import { faCalculator, faLink, faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Box, Button, CardActionArea, CardContent, CardHeader, Chip, Grid, Skeleton, Typography } from '@mui/material';\r\nimport { Suspense, useCallback, useContext, useEffect, useMemo, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ArtifactSheet } from '../Artifact/ArtifactSheet';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport ConditionalWrapper from '../Components/ConditionalWrapper';\r\nimport ImgIcon from '../Components/Image/ImgIcon';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport StatIcon from '../Components/StatIcon';\r\nimport { ascensionMaxLevel } from '../Data/LevelData';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport Stat from '../Stat';\r\nimport { ICachedCharacter } from '../Types/character';\r\nimport { CharacterKey } from '../Types/consts';\r\nimport { ICachedWeapon } from '../Types/weapon';\r\nimport WeaponSheet from '../Weapon/WeaponSheet';\r\nimport Character from './Character';\r\nimport CharacterSheet from './CharacterSheet';\r\n\r\ntype CharacterCardProps = { characterKey: CharacterKey | \"\", onEdit?: (any) => void, onDelete?: (any) => void, footer?: boolean }\r\nexport default function CharacterCard({ characterKey, onEdit, onDelete, footer = false }: CharacterCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const [databaseCharacter, updateDatabaseCharacter] = useState(undefined as ICachedCharacter | undefined)\r\n  useEffect(() =>\r\n    characterKey ? database.followChar(characterKey, updateDatabaseCharacter) : undefined,\r\n    [characterKey, updateDatabaseCharacter, database])\r\n\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n  const character = databaseCharacter\r\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\r\n  const weapon = character?.equippedWeapon ? database._getWeapon(character.equippedWeapon) : undefined\r\n  const weaponSheet = usePromise(weapon ? WeaponSheet.get(weapon.key) : undefined, [weapon?.key])\r\n  const stats = useMemo(() => character && characterSheet && weaponSheet && artifactSheets && Character.calculateBuild(character, database, characterSheet, weaponSheet, artifactSheets), [character, characterSheet, weaponSheet, artifactSheets, database])\r\n  const actionWrapperFunc = useCallback(\r\n    children => <CardActionArea onClick={() => onEdit?.(characterKey)} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\r\n    [onEdit, characterKey],\r\n  )\r\n  const deleteChar = useCallback(() => onDelete?.(characterKey), [onDelete, characterKey])\r\n\r\n  if (!character || !weapon || !characterSheet || !weaponSheet || !stats) return null;\r\n  const { constellation } = character\r\n  const { level: weaponLevel, ascension: weaponAscension } = weapon\r\n  const { tlvl, characterLevel, ascension } = stats\r\n\r\n  const elementKey = stats.characterEle\r\n  const weaponName = weaponSheet?.name\r\n  const weaponMainVal = weaponSheet.getMainStatValue(weaponLevel, weaponAscension).toFixed(Stat.fixedUnit(\"atk\"))\r\n  const weaponSubKey = weaponSheet.getSubStatKey()\r\n  const weaponSubVal = weaponSheet.getSubStatValue(weaponLevel, weaponAscension).toFixed(Stat.fixedUnit(weaponSubKey))\r\n  const weaponLevelName = WeaponSheet.getLevelString(weapon as ICachedWeapon)\r\n  const weaponPassiveName = weaponSheet?.passiveName\r\n  const statkeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\",]\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\r\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n      <ConditionalWrapper condition={!!onEdit} wrapper={actionWrapperFunc}>\r\n        <Box className={`grad-${characterSheet.star}star`} width=\"100%\" >\r\n          <Grid container sx={{ flexWrap: \"nowrap\" }}>\r\n            <Grid item flexGrow={1} sx={{ px: 2, pt: 1 }}>\r\n              <CardHeader title={characterSheet.name} titleTypographyProps={{ variant: \"subtitle1\" }} sx={{ p: 0 }}\r\n                avatar={<Typography variant=\"h5\">{StatIcon[elementKey]}</Typography>} />\r\n              <Grid container spacing={1}>\r\n                <Grid item>\r\n                  <Typography component=\"span\" variant=\"h6\">Lv. {characterLevel}</Typography>\r\n                  <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography variant=\"h6\"><SqBadge>C{constellation}</SqBadge></Typography>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Grid container spacing={1}>\r\n                <Grid item>\r\n                  <Chip color=\"secondary\" label={<strong >{tlvl.auto + 1}</strong>} />\r\n                </Grid>\r\n                <Grid item>\r\n                  <Chip color={stats.skillBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.skill + 1}</strong>} />\r\n                </Grid>\r\n                <Grid item>\r\n                  <Chip color={stats.burstBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.burst + 1}</strong>} />\r\n                </Grid>\r\n              </Grid>\r\n              {/* <Typography variant=\"h5\">Refinement <strong>{refinement}</strong></Typography> */}\r\n              <Typography><Stars stars={characterSheet.star} colored /></Typography>\r\n            </Grid>\r\n            {/* use flex-end here to align the image to the bottom. */}\r\n            <Grid item container xs={3} md={4} alignContent=\"flex-end\">\r\n              <Box\r\n                component=\"img\"\r\n                src={characterSheet.thumbImg}\r\n                width=\"100%\"\r\n                height=\"auto\"\r\n                sx={{ mt: \"auto\" }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n        <CardContent sx={{ pb: 0, width: \"100%\" }}>\r\n          <CardDark sx={{ mb: 1 }}>\r\n            <Grid container sx={{ flexWrap: \"nowrap\" }}>\r\n              <Grid item container xs={3} md={4} alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`} >\r\n                <Box\r\n                  component=\"img\"\r\n                  src={weaponSheet.img}\r\n                  width=\"100%\"\r\n                  height=\"auto\"\r\n                  sx={{ mt: \"auto\" }}\r\n                />\r\n              </Grid>\r\n              <Grid item flexGrow={1} sx={{ p: 1 }}>\r\n                <Typography><strong>{weaponName}</strong></Typography>\r\n                <Typography>\r\n                  <SqBadge color=\"primary\" sx={{ mr: 1 }}>Lv. {weaponLevelName}</SqBadge>\r\n                  {weaponPassiveName && <SqBadge color=\"info\"> Refinement {weapon.refinement}</SqBadge>}\r\n                </Typography>\r\n                <Typography variant=\"subtitle2\">ATK: {weaponMainVal}</Typography>\r\n                {weaponPassiveName && <Typography variant=\"subtitle2\">{Stat.getStatName(weaponSubKey)}: {weaponSubVal}{Stat.getStatUnit(weaponSubKey)}</Typography>}\r\n              </Grid>\r\n            </Grid>\r\n          </CardDark>\r\n          <Grid container spacing={1} justifyContent=\"space-around\">\r\n            {artifactSheets && Object.entries(ArtifactSheet.setEffects(artifactSheets, stats.setToSlots)).map(([key, arr]) => {\r\n              let artifactSetName = artifactSheets?.[key].name ?? \"\"\r\n              let highestNum = Math.max(...arr)\r\n              return <Grid item key={key} flexGrow={1}>\r\n                <Chip color=\"secondary\" sx={{ width: \"100%\" }} icon={<ImgIcon src={artifactSheets?.[key].defIconSrc} size={2.5} />}\r\n                  label={<span>{artifactSetName} <SqBadge color=\"success\">{highestNum}</SqBadge></span>} />\r\n              </Grid>\r\n            })}\r\n          </Grid>\r\n        </CardContent>\r\n        {/* grow to fill the 100% heigh */}\r\n        <Box flexGrow={1} />\r\n        <CardContent sx={{ py: 1, width: \"100%\" }} >\r\n          {statkeys.map(statKey => {\r\n            let unit = Stat.getStatUnit(statKey)\r\n            let statVal = stats[statKey]\r\n            return <Box sx={{ display: \"flex\" }} key={statKey}>\r\n              <Typography flexGrow={1}><strong>{StatIcon[statKey]} {Stat.getStatName(statKey)}</strong></Typography>\r\n              <Typography>\r\n                {statVal?.toFixed(Stat.fixedUnit(statKey)) + unit}\r\n              </Typography>\r\n            </Box>\r\n          })}\r\n        </CardContent>\r\n      </ConditionalWrapper>\r\n      {footer && <Grid container spacing={1} sx={{ py: 1, px: 2 }}>\r\n        <Grid item>\r\n          <Button size=\"small\" component={Link} to={{\r\n            pathname: \"/build\",\r\n            characterKey\r\n          } as any} startIcon={<FontAwesomeIcon icon={faCalculator} />}>Build</Button>\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <Button size=\"small\" color=\"info\" component={Link} to={{ pathname: \"/flex\", characterKey } as any}\r\n            startIcon={<FontAwesomeIcon icon={faLink} />}>Share</Button>\r\n        </Grid>\r\n        {!!onDelete && <Grid item>\r\n          <Button size=\"small\" color=\"error\" startIcon={<FontAwesomeIcon icon={faTrash} />} onClick={deleteChar}>Delete</Button>\r\n        </Grid>}\r\n      </Grid>}\r\n    </CardLight>\r\n  </Suspense>\r\n}\r\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getLinkUtilityClass(slot) {\n  return generateUtilityClass('MuiLink', slot);\n}\nconst linkClasses = generateUtilityClasses('MuiLink', ['root', 'underlineNone', 'underlineHover', 'underlineAlways', 'button', 'focusVisible']);\nexport default linkClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"component\", \"onBlur\", \"onFocus\", \"TypographyClasses\", \"underline\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { elementTypeAcceptingRef } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { alpha, getPath } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport useForkRef from '../utils/useForkRef';\nimport Typography from '../Typography';\nimport linkClasses, { getLinkUtilityClass } from './linkClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst colorTransformations = {\n  primary: 'primary.main',\n  textPrimary: 'text.primary',\n  secondary: 'secondary.main',\n  textSecondary: 'text.secondary',\n  error: 'error.main'\n};\n\nconst transformDeprecatedColors = color => {\n  return colorTransformations[color] || color;\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    component,\n    focusVisible,\n    underline\n  } = ownerState;\n  const slots = {\n    root: ['root', `underline${capitalize(underline)}`, component === 'button' && 'button', focusVisible && 'focusVisible']\n  };\n  return composeClasses(slots, getLinkUtilityClass, classes);\n};\n\nconst LinkRoot = styled(Typography, {\n  name: 'MuiLink',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`underline${capitalize(ownerState.underline)}`], ownerState.component === 'button' && styles.button];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const color = getPath(theme, `palette.${transformDeprecatedColors(ownerState.color)}`) || ownerState.color;\n  return _extends({}, ownerState.underline === 'none' && {\n    textDecoration: 'none'\n  }, ownerState.underline === 'hover' && {\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  }, ownerState.underline === 'always' && {\n    textDecoration: 'underline',\n    textDecorationColor: color !== 'inherit' ? alpha(color, 0.4) : undefined,\n    '&:hover': {\n      textDecorationColor: 'inherit'\n    }\n  }, ownerState.component === 'button' && {\n    position: 'relative',\n    WebkitTapHighlightColor: 'transparent',\n    backgroundColor: 'transparent',\n    // Reset default value\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    border: 0,\n    margin: 0,\n    // Remove the margin in Safari\n    borderRadius: 0,\n    padding: 0,\n    // Remove the padding in Firefox\n    cursor: 'pointer',\n    userSelect: 'none',\n    verticalAlign: 'middle',\n    MozAppearance: 'none',\n    // Reset\n    WebkitAppearance: 'none',\n    // Reset\n    '&::-moz-focus-inner': {\n      borderStyle: 'none' // Remove Firefox dotted outline.\n\n    },\n    [`&.${linkClasses.focusVisible}`]: {\n      outline: 'auto'\n    }\n  });\n});\nconst Link = /*#__PURE__*/React.forwardRef(function Link(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiLink'\n  });\n\n  const {\n    className,\n    color = 'primary',\n    component = 'a',\n    onBlur,\n    onFocus,\n    TypographyClasses,\n    underline = 'always',\n    variant = 'inherit'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    isFocusVisibleRef,\n    onBlur: handleBlurVisible,\n    onFocus: handleFocusVisible,\n    ref: focusVisibleRef\n  } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(false);\n  const handlerRef = useForkRef(ref, focusVisibleRef);\n\n  const handleBlur = event => {\n    handleBlurVisible(event);\n\n    if (isFocusVisibleRef.current === false) {\n      setFocusVisible(false);\n    }\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n\n  const handleFocus = event => {\n    handleFocusVisible(event);\n\n    if (isFocusVisibleRef.current === true) {\n      setFocusVisible(true);\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    focusVisible,\n    underline,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(LinkRoot, _extends({\n    className: clsx(classes.root, className),\n    classes: TypographyClasses,\n    color: color,\n    component: component,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    ref: handlerRef,\n    ownerState: ownerState,\n    variant: variant\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Link.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the link.\n   * @default 'primary'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .any,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * `classes` prop applied to the [`Typography`](/api/typography/) element.\n   */\n  TypographyClasses: PropTypes.object,\n\n  /**\n   * Controls when the link should have an underline.\n   * @default 'always'\n   */\n  underline: PropTypes.oneOf(['always', 'hover', 'none']),\n\n  /**\n   * Applies the theme typography styles.\n   * @default 'inherit'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['body1', 'body2', 'button', 'caption', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'inherit', 'overline', 'subtitle1', 'subtitle2']), PropTypes.string])\n} : void 0;\nexport default Link;","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/BuildWorker.2e6d8b69.worker.js\");\n}\n","import { CardActionArea, CardContent, Grid, Skeleton, Typography } from '@mui/material';\r\nimport React, { Suspense, useContext } from 'react';\r\nimport { ArtifactSheet } from '../../Artifact/ArtifactSheet';\r\nimport { artifactSlotIcon } from '../../Artifact/Component/SlotNameWIthIcon';\r\nimport StatDisplayComponent from '../../Character/CharacterDisplay/StatDisplayComponent';\r\nimport CharacterSheet from '../../Character/CharacterSheet';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport SqBadge from '../../Components/SqBadge';\r\nimport { DatabaseContext } from '../../Database/Database';\r\nimport { allSlotKeys, ArtifactSetKey, CharacterKey, SlotKey } from '../../Types/consts';\r\nimport { ICalculatedStats } from '../../Types/stats';\r\nimport WeaponSheet from '../../Weapon/WeaponSheet';\r\n\r\ntype ArtifactBuildDisplayItemProps = {\r\n  sheets: {\r\n    characterSheet: CharacterSheet\r\n    weaponSheet: WeaponSheet,\r\n    artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet>\r\n  },\r\n  index: number,\r\n  characterKey: CharacterKey,\r\n  build: ICalculatedStats,\r\n  statsDisplayKeys: any,\r\n  onClick: () => void\r\n}\r\n//for displaying each artifact build\r\nexport default function ArtifactBuildDisplayItem({ sheets, sheets: { artifactSheets }, index, characterKey, build, statsDisplayKeys, onClick }: ArtifactBuildDisplayItemProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const character = database._getChar(characterKey)\r\n  if (!character) return null\r\n  const { equippedArtifacts } = character\r\n  const currentlyEquipped = allSlotKeys.every(slotKey => equippedArtifacts[slotKey] === build.equippedArtifacts?.[slotKey])\r\n  return <CardLight>\r\n    <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={600} />}>\r\n      <CardActionArea onClick={onClick}>\r\n        <CardContent>\r\n          <Grid container spacing={1} sx={{ pb: 1 }}>\r\n            <Grid item>\r\n              <Typography variant=\"h6\"><SqBadge color=\"info\"><strong>#{index + 1}{currentlyEquipped ? \" (Equipped)\" : \"\"}</strong></SqBadge></Typography>\r\n            </Grid>\r\n            {(Object.entries(build.setToSlots) as [ArtifactSetKey, SlotKey[]][]).sort(([key1, slotarr1], [key2, slotarr2]) => slotarr2.length - slotarr1.length).map(([key, slotarr]) =>\r\n              <Grid item key={key}><Typography variant=\"h6\"><SqBadge color={currentlyEquipped ? \"success\" : \"primary\"} >\r\n                {slotarr.map(slotKey => artifactSlotIcon(slotKey))} {artifactSheets?.[key].name ?? \"\"}\r\n              </SqBadge></Typography></Grid>\r\n            )}\r\n          </Grid>\r\n          <StatDisplayComponent {...{ sheets, character, equippedBuild: build, statsDisplayKeys }} />\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Suspense>\r\n  </CardLight>\r\n}","import { Replay } from '@mui/icons-material';\r\nimport { Box, Button, CardContent, Divider, Grid, Typography } from '@mui/material';\r\nimport React, { useCallback, useMemo, useState } from 'react';\r\nimport { ArtifactSheet } from '../../Artifact/ArtifactSheet';\r\nimport SetEffectDisplay from '../../Artifact/Component/SetEffectDisplay';\r\nimport CardDark from '../../Components/Card/CardDark';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport CloseButton from '../../Components/CloseButton';\r\nimport ModalWrapper from '../../Components/ModalWrapper';\r\nimport SqBadge from '../../Components/SqBadge';\r\nimport { Stars } from '../../Components/StarDisplay';\r\nimport useCharacterReducer from '../../ReactHooks/useCharacterReducer';\r\nimport usePromise from '../../ReactHooks/usePromise';\r\nimport { SetNum } from '../../Types/consts';\r\nimport { ICalculatedStats } from '../../Types/stats';\r\nimport { crawlObject } from '../../Util/Util';\r\n\r\nexport default function ArtifactConditionalCard({ disabled, initialStats }: { disabled?: boolean, initialStats: ICalculatedStats }) {\r\n  const [open, setOpen] = useState(false)\r\n  const onOpen = useCallback(() => setOpen(true), [setOpen])\r\n  const onClose = useCallback(() => setOpen(false), [setOpen])\r\n  const artifactCondCount = useMemo(() => {\r\n    let count = 0;\r\n    crawlObject(initialStats?.conditionalValues?.artifact, [], v => Array.isArray(v), () => count++)\r\n    return count\r\n  }, [initialStats])\r\n  return <CardLight><CardContent>\r\n    <Button fullWidth onClick={onOpen} disabled={disabled}>\r\n      <span>Default Artifact Set Effects {!!artifactCondCount && <SqBadge color=\"success\">{artifactCondCount} Selected</SqBadge>}</span>\r\n    </Button>\r\n    {!!initialStats && <ArtConditionalModal open={open} onClose={onClose} initialStats={initialStats} artifactCondCount={artifactCondCount} />}\r\n  </CardContent></CardLight>\r\n}\r\n\r\nfunction ArtConditionalModal({ open, onClose, initialStats, artifactCondCount }: {\r\n  open: boolean, onClose: () => void, initialStats: ICalculatedStats, artifactCondCount: number\r\n}) {\r\n  const { characterKey } = initialStats\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  if (!artifactSheets) return null\r\n  const artSetKeyList = Object.entries(ArtifactSheet.setKeysByRarities(artifactSheets)).reverse().flatMap(([, sets]) => sets)\r\n  return <ModalWrapper open={open} onClose={onClose} ><CardDark>\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        <Grid item flexGrow={1}>\r\n          <Typography variant=\"h6\">Default Artifact Set Effects {!!artifactCondCount && <SqBadge color=\"success\">{artifactCondCount} Selected</SqBadge>}</Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Button onClick={() => {\r\n            if (initialStats.conditionalValues.artifact) initialStats.conditionalValues.artifact = {}\r\n            characterDispatch({ conditionalValues: initialStats.conditionalValues })\r\n          }} startIcon={<Replay />}>Reset All</Button>\r\n        </Grid>\r\n        <Grid item>\r\n          <CloseButton onClick={onClose} />\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        {artSetKeyList.map(setKey => {\r\n          const sheet = artifactSheets[setKey]\r\n          let icon = Object.values(sheet.slotIcons)[0]\r\n          const rarities = sheet.rarity\r\n          const rarity = rarities[0]\r\n          return <Grid item key={setKey} xs={6} lg={4}>\r\n            <CardLight sx={{ height: \"100%\" }}>\r\n              <Box className={`grad-${rarity}star`} width=\"100%\" sx={{ display: \"flex\" }} >\r\n                <Box component=\"img\" src={icon} sx={{ height: 100, width: \"auto\" }} />\r\n                <Box sx={{ flexGrow: 1, px: 1, display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }}>\r\n                  <Typography variant=\"h6\">{artifactSheets?.[setKey].name ?? \"\"}</Typography>\r\n                  <Typography variant=\"subtitle1\">{rarities.map((ns, i) => <span key={ns}>{ns}<Stars stars={1} /> {i < (rarities.length - 1) ? \"/ \" : null}</span>)}</Typography>\r\n                </Box>\r\n              </Box>\r\n              <CardContent>\r\n                {!!setKey && Object.keys(sheet.setEffects).map(key => parseInt(key) as SetNum).map(setNumKey =>\r\n                  <SetEffectDisplay newBuild={undefined} key={setKey + setNumKey} {...{ setKey, setNumKey, equippedBuild: initialStats, editable: true, characterKey }} />)}\r\n              </CardContent>\r\n            </CardLight>\r\n          </Grid>\r\n        })}\r\n      </Grid>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent sx={{ py: 1 }}>\r\n      <CloseButton large onClick={onClose} />\r\n    </CardContent>\r\n  </CardDark></ModalWrapper>\r\n}\r\n","import { ButtonGroup, CardContent, Divider, MenuItem } from '@mui/material';\r\nimport React, { useMemo } from 'react';\r\nimport { ArtifactSheet } from '../../Artifact/ArtifactSheet';\r\nimport SetEffectDisplay from '../../Artifact/Component/SetEffectDisplay';\r\nimport ArtifactSetDropdown from '../../Components/Artifact/ArtifactSetDropdown';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport DropdownButton from '../../Components/DropdownMenu/DropdownButton';\r\nimport usePromise from '../../ReactHooks/usePromise';\r\nimport { BuildSetting } from '../../Types/Build';\r\nimport { ArtifactRarity, ArtifactSetKey, SetNum } from '../../Types/consts';\r\nimport { ICalculatedStats } from '../../Types/stats';\r\n\r\ntype PickerProps = {\r\n  index: number\r\n  setFilters: BuildSetting[\"setFilters\"],\r\n  disabled?: boolean,\r\n  initialStats: ICalculatedStats,\r\n  onChange: (index: number, key: ArtifactSetKey | \"\", num: number) => void,\r\n}\r\n\r\nexport default function ArtifactSetPicker({ index, setFilters, onChange, initialStats, disabled = false }: PickerProps) {\r\n  const { key: setKey, num: setNum } = setFilters[index]\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n  const artifactSetsByRarity = useMemo(() => {\r\n    if (!artifactSheets) return undefined\r\n    const artifactSetsByRarity = Object.fromEntries(Object.entries(ArtifactSheet.setKeysByRarities(artifactSheets)).map(([rarity, sets]) => [rarity, sets.filter(setKey => {\r\n      if (setFilters.some(filter => filter.key === setKey)) return false;\r\n      const setsNumArr = Object.keys(artifactSheets?.[setKey]?.setEffects ?? {})\r\n      const artsAccountedOther = setFilters.reduce((accu, cur, ind) => (cur.key && ind !== index) ? accu + cur.num : accu, 0)\r\n      if (setsNumArr.every((num: any) => parseInt(num) + artsAccountedOther > 5)) return false;\r\n      return true\r\n    })])) as Dict<ArtifactRarity, ArtifactSetKey[]>\r\n    return artifactSetsByRarity\r\n  }, [artifactSheets, setFilters, index])\r\n\r\n  const artsAccounted = setFilters.reduce((accu, cur) => cur.key ? accu + cur.num : accu, 0)\r\n\r\n  return <CardLight key={index}>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <ButtonGroup>\r\n        {/* Artifact set */}\r\n        {artifactSheets && <ArtifactSetDropdown hasUnselect selectedSetKey={setKey} artifactSetsByRarity={artifactSetsByRarity as any}\r\n          onChange={setKey => onChange(index, setKey as ArtifactSetKey, parseInt(Object.keys(artifactSheets[setKey]?.setEffects ?? {})[0] as string) as number)} />}\r\n        {/* set number */}\r\n        <DropdownButton title={`${setNum}-set`}\r\n          disabled={disabled || !setKey || artsAccounted >= 5}\r\n        >\r\n          {!!initialStats && Object.keys(artifactSheets?.[setKey]?.setEffects ?? {}).map((num: any) => {\r\n            let artsAccountedOther = setFilters.reduce((accu, cur) => (cur.key && cur.key !== setKey) ? accu + cur.num : accu, 0)\r\n            return (parseInt(num) + artsAccountedOther <= 5) &&\r\n              (<MenuItem key={num} onClick={() => onChange(index, setFilters[index].key, parseInt(num))} >\r\n                {`${num}-set`}\r\n              </MenuItem>)\r\n          })}\r\n        </DropdownButton>\r\n      </ButtonGroup>\r\n    </CardContent>\r\n    {!!setKey && <Divider />}\r\n    {!!setKey && <CardContent>\r\n      {!!initialStats && Object.keys(artifactSheets?.[setKey].setEffects ?? {}).map(setNKey => parseInt(setNKey as string) as SetNum).filter(setNkey => setNkey <= setNum).map(setNumKey =>\r\n        <SetEffectDisplay newBuild={undefined} key={setKey + setNumKey} {...{ setKey, setNumKey, equippedBuild: initialStats, editable: true }} />)}\r\n    </CardContent>}\r\n  </CardLight>\r\n}","import { CardContent, Divider, Typography } from '@mui/material';\r\nimport React from 'react';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport FieldDisplay, { FieldDisplayList } from '../../Components/FieldDisplay';\r\nimport { ICachedCharacter } from '../../Types/character';\r\nimport statsToFields from '../../Util/FieldUtil';\r\nexport default function BonusStatsCard({ character }: { character: ICachedCharacter }) {\r\n  const bonusStats = Object.fromEntries(Object.entries(character?.bonusStats).filter(([key]) =>\r\n    !((key as string).endsWith(\"enemyImmunity\") || (key as string).endsWith(\"enemyRes_\") || key === \"enemyLevel\")))\r\n  if (!Object.keys(bonusStats).length) return null\r\n  const setStatsFields = statsToFields(bonusStats)\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography>Bonus Stats</Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent><FieldDisplayList sx={{ my: 0 }} >\r\n      {setStatsFields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n    </FieldDisplayList></CardContent>\r\n  </CardLight>\r\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getLinearProgressUtilityClass(slot) {\n  return generateUtilityClass('MuiLinearProgress', slot);\n}\nconst linearProgressClasses = generateUtilityClasses('MuiLinearProgress', ['root', 'colorPrimary', 'colorSecondary', 'determinate', 'indeterminate', 'buffer', 'query', 'dashed', 'dashedColorPrimary', 'dashedColorSecondary', 'bar', 'barColorPrimary', 'barColorSecondary', 'bar1Indeterminate', 'bar1Determinate', 'bar1Buffer', 'bar2Indeterminate', 'bar2Buffer']);\nexport default linearProgressClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"value\", \"valueBuffer\", \"variant\"];\n\nlet _ = t => t,\n    _t,\n    _t2,\n    _t3,\n    _t4,\n    _t5,\n    _t6;\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { keyframes, css, darken, lighten } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport useTheme from '../styles/useTheme';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getLinearProgressUtilityClass } from './linearProgressClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst TRANSITION_DURATION = 4; // seconds\n\nconst indeterminate1Keyframe = keyframes(_t || (_t = _`\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n`));\nconst indeterminate2Keyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n`));\nconst bufferKeyframe = keyframes(_t3 || (_t3 = _`\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n`));\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    color\n  } = ownerState;\n  const slots = {\n    root: ['root', `color${capitalize(color)}`, variant],\n    dashed: ['dashed', `dashedColor${capitalize(color)}`],\n    bar1: ['bar', `barColor${capitalize(color)}`, (variant === 'indeterminate' || variant === 'query') && 'bar1Indeterminate', variant === 'determinate' && 'bar1Determinate', variant === 'buffer' && 'bar1Buffer'],\n    bar2: ['bar', variant !== 'buffer' && `barColor${capitalize(color)}`, variant === 'buffer' && `color${capitalize(color)}`, (variant === 'indeterminate' || variant === 'query') && 'bar2Indeterminate', variant === 'buffer' && 'bar2Buffer']\n  };\n  return composeClasses(slots, getLinearProgressUtilityClass, classes);\n};\n\nconst getColorShade = (theme, color) => {\n  if (color === 'inherit') {\n    return 'currentColor';\n  }\n\n  return theme.palette.mode === 'light' ? lighten(theme.palette[color].main, 0.62) : darken(theme.palette[color].main, 0.5);\n};\n\nconst LinearProgressRoot = styled('span', {\n  name: 'MuiLinearProgress',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`color${capitalize(ownerState.color)}`], styles[ownerState.variant]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  position: 'relative',\n  overflow: 'hidden',\n  display: 'block',\n  height: 4,\n  zIndex: 0,\n  // Fix Safari's bug during composition of different paint.\n  '@media print': {\n    colorAdjust: 'exact'\n  },\n  backgroundColor: getColorShade(theme, ownerState.color)\n}, ownerState.color === 'inherit' && ownerState.variant !== 'buffer' && {\n  backgroundColor: 'none',\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'currentColor',\n    opacity: 0.3\n  }\n}, ownerState.variant === 'buffer' && {\n  backgroundColor: 'transparent'\n}, ownerState.variant === 'query' && {\n  transform: 'rotate(180deg)'\n}));\nconst LinearProgressDashed = styled('span', {\n  name: 'MuiLinearProgress',\n  slot: 'Dashed',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.dashed, styles[`dashedColor${capitalize(ownerState.color)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => {\n  const backgroundColor = getColorShade(theme, ownerState.color);\n  return _extends({\n    position: 'absolute',\n    marginTop: 0,\n    height: '100%',\n    width: '100%'\n  }, ownerState.color === 'inherit' && {\n    opacity: 0.3\n  }, {\n    backgroundImage: `radial-gradient(${backgroundColor} 0%, ${backgroundColor} 16%, transparent 42%)`,\n    backgroundSize: '10px 10px',\n    backgroundPosition: '0 -23px'\n  });\n}, css(_t4 || (_t4 = _`\n    animation: ${0} 3s infinite linear;\n  `), bufferKeyframe));\nconst LinearProgressBar1 = styled('span', {\n  name: 'MuiLinearProgress',\n  slot: 'Bar1',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.bar, styles[`barColor${capitalize(ownerState.color)}`], (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && styles.bar1Indeterminate, ownerState.variant === 'determinate' && styles.bar1Determinate, ownerState.variant === 'buffer' && styles.bar1Buffer];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  width: '100%',\n  position: 'absolute',\n  left: 0,\n  bottom: 0,\n  top: 0,\n  transition: 'transform 0.2s linear',\n  transformOrigin: 'left',\n  backgroundColor: ownerState.color === 'inherit' ? 'currentColor' : theme.palette[ownerState.color].main\n}, ownerState.variant === 'determinate' && {\n  transition: `transform .${TRANSITION_DURATION}s linear`\n}, ownerState.variant === 'buffer' && {\n  zIndex: 1,\n  transition: `transform .${TRANSITION_DURATION}s linear`\n}), ({\n  ownerState\n}) => (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && css(_t5 || (_t5 = _`\n      width: auto;\n      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    `), indeterminate1Keyframe));\nconst LinearProgressBar2 = styled('span', {\n  name: 'MuiLinearProgress',\n  slot: 'Bar2',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.bar, styles[`barColor${capitalize(ownerState.color)}`], (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && styles.bar2Indeterminate, ownerState.variant === 'buffer' && styles.bar2Buffer];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  width: '100%',\n  position: 'absolute',\n  left: 0,\n  bottom: 0,\n  top: 0,\n  transition: 'transform 0.2s linear',\n  transformOrigin: 'left'\n}, ownerState.variant !== 'buffer' && {\n  backgroundColor: ownerState.color === 'inherit' ? 'currentColor' : theme.palette[ownerState.color].main\n}, ownerState.color === 'inherit' && {\n  opacity: 0.3\n}, ownerState.variant === 'buffer' && {\n  backgroundColor: getColorShade(theme, ownerState.color),\n  transition: `transform .${TRANSITION_DURATION}s linear`\n}), ({\n  ownerState\n}) => (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && css(_t6 || (_t6 = _`\n      width: auto;\n      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    `), indeterminate2Keyframe));\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nconst LinearProgress = /*#__PURE__*/React.forwardRef(function LinearProgress(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiLinearProgress'\n  });\n\n  const {\n    className,\n    color = 'primary',\n    value,\n    valueBuffer,\n    variant = 'indeterminate'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    color,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const theme = useTheme();\n  const rootProps = {};\n  const inlineStyles = {\n    bar1: {},\n    bar2: {}\n  };\n\n  if (variant === 'determinate' || variant === 'buffer') {\n    if (value !== undefined) {\n      rootProps['aria-valuenow'] = Math.round(value);\n      rootProps['aria-valuemin'] = 0;\n      rootProps['aria-valuemax'] = 100;\n      let transform = value - 100;\n\n      if (theme.direction === 'rtl') {\n        transform = -transform;\n      }\n\n      inlineStyles.bar1.transform = `translateX(${transform}%)`;\n    } else if (process.env.NODE_ENV !== 'production') {\n      console.error('MUI: You need to provide a value prop ' + 'when using the determinate or buffer variant of LinearProgress .');\n    }\n  }\n\n  if (variant === 'buffer') {\n    if (valueBuffer !== undefined) {\n      let transform = (valueBuffer || 0) - 100;\n\n      if (theme.direction === 'rtl') {\n        transform = -transform;\n      }\n\n      inlineStyles.bar2.transform = `translateX(${transform}%)`;\n    } else if (process.env.NODE_ENV !== 'production') {\n      console.error('MUI: You need to provide a valueBuffer prop ' + 'when using the buffer variant of LinearProgress.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(LinearProgressRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    role: \"progressbar\"\n  }, rootProps, {\n    ref: ref\n  }, other, {\n    children: [variant === 'buffer' ? /*#__PURE__*/_jsx(LinearProgressDashed, {\n      className: classes.dashed,\n      ownerState: ownerState\n    }) : null, /*#__PURE__*/_jsx(LinearProgressBar1, {\n      className: classes.bar1,\n      ownerState: ownerState,\n      style: inlineStyles.bar1\n    }), variant === 'determinate' ? null : /*#__PURE__*/_jsx(LinearProgressBar2, {\n      className: classes.bar2,\n      ownerState: ownerState,\n      style: inlineStyles.bar2\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? LinearProgress.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'primary'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary']), PropTypes.string]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The value of the progress indicator for the determinate and buffer variants.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number,\n\n  /**\n   * The value for the buffer variant.\n   * Value between 0 and 100.\n   */\n  valueBuffer: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate or query when there is no progress value.\n   * @default 'indeterminate'\n   */\n  variant: PropTypes.oneOf(['buffer', 'determinate', 'indeterminate', 'query'])\n} : void 0;\nexport default LinearProgress;","import { Alert, Grid, LinearProgress, styled, Typography } from '@mui/material';\r\nimport React, { ReactNode } from 'react';\r\nimport { timeStringMs } from '../../Util/TimeUtil';\r\n\r\nexport const warningBuildNumber = 10000000\r\n\r\nconst Monospace = styled(\"strong\")({\r\n  fontFamily: \"monospace\"\r\n})\r\n\r\nconst BorderLinearProgress = styled(LinearProgress)(({ theme }) => ({\r\n  height: 10,\r\n  borderRadius: 5,\r\n}));\r\nexport default function BuildAlert({ totBuildNumber, generatingBuilds, generationSkipped, generationProgress, generationDuration, characterName, maxBuildsToShow }) {\r\n  const totalBuildNumberString = totBuildNumber?.toLocaleString() ?? totBuildNumber\r\n  const totalUnskipped = totBuildNumber - generationSkipped\r\n  const generationProgressString = generationProgress?.toLocaleString() ?? generationProgress\r\n  const generationSkippedString = generationSkipped?.toLocaleString() ?? generationSkipped\r\n  const totalUnskippedString = totalUnskipped?.toLocaleString() ?? totalUnskipped\r\n  const generationSkippedText = !!generationSkipped && <span>(<b>{generationSkippedString}</b> skipped)</span>\r\n\r\n  let color = \"success\" as \"success\" | \"warning\" | \"error\"\r\n  let title = \"\" as ReactNode\r\n  let subtitle = \"\" as ReactNode\r\n  let progress = undefined as undefined | number\r\n\r\n  if (generatingBuilds) {\r\n    progress = generationProgress * 100 / (totalUnskipped)\r\n    title = <Typography>Generating and testing <Monospace>{generationProgressString}/{totalUnskippedString}</Monospace> build configurations against the criteria for <b>{characterName}</b>. {generationSkippedText}</Typography>\r\n    subtitle = <Typography>Time elapsed: <Monospace>{timeStringMs(generationDuration)}</Monospace></Typography>\r\n  } else if (!generatingBuilds && generationProgress) {//done\r\n    progress = 100\r\n    title = <Typography>Generated and tested <Monospace>{totalUnskippedString}</Monospace> Build configurations against the criteria for <b>{characterName}</b>. {generationSkippedText}</Typography>\r\n    subtitle = <Typography>Total duration: <Monospace>{timeStringMs(generationDuration)}</Monospace></Typography>\r\n  } else {\r\n    if (totBuildNumber === 0) {\r\n      title = <Typography>Current configuration will not generate any builds for <b>{characterName}</b>. Please change your Artifact configurations, or add/include more Artifacts.</Typography>\r\n      color = \"error\"\r\n    } else if (totBuildNumber > warningBuildNumber) {\r\n      title = <Typography>Current configuration will generate <Monospace>{totalBuildNumberString}</Monospace> potential builds for <b>{characterName}</b>. This might take quite a while to generate...</Typography>\r\n      color = \"warning\"\r\n    } else\r\n      title = <Typography>Current configuration {totBuildNumber <= maxBuildsToShow ? \"generated\" : \"will generate\"} <Monospace>{totalBuildNumberString}</Monospace> builds for <b>{characterName}</b>.</Typography>\r\n  }\r\n\r\n  return <Alert severity={color} variant=\"filled\" sx={{\r\n    \"& .MuiAlert-message\": {\r\n      flexGrow: 1\r\n    }\r\n  }}>\r\n    {title && title}\r\n    {subtitle && subtitle}\r\n    {progress !== undefined && <Grid container spacing={1} alignItems=\"center\">\r\n      <Grid item>\r\n        <Typography>{`${progress.toFixed(1)}%`}</Typography>\r\n      </Grid>\r\n      <Grid item flexGrow={1} >\r\n        <BorderLinearProgress variant=\"determinate\" value={progress} color=\"primary\" />\r\n      </Grid>\r\n    </Grid>}\r\n  </Alert>\r\n}\r\n\r\n","import { Box } from '@mui/material';\r\nimport React, { lazy, useCallback, useState } from 'react';\r\nimport CharacterCard from '../../Character/CharacterCard';\r\nimport CloseButton from '../../Components/CloseButton';\r\nimport ModalWrapper from '../../Components/ModalWrapper';\r\n\r\n//lazy load the character display\r\nconst CharacterDisplayCard = lazy(() => import('../../Character/CharacterDisplayCard'))\r\n\r\nexport default function CharacterSelectionCard({ characterKey, disabled, selectCharacter }) {\r\n  const [open, setOpen] = useState(false)\r\n  const onOpen = useCallback(() => !disabled && setOpen(true), [setOpen, disabled])\r\n  const onClose = useCallback(() => setOpen(false), [setOpen])\r\n  return <Box>\r\n    <CharacterCard characterKey={characterKey} onEdit={onOpen} />\r\n    <ModalWrapper open={open} onClose={onClose} containerProps={{ maxWidth: \"xl\" }}>\r\n      <CharacterDisplayCard\r\n        characterKey={characterKey}\r\n        setCharacterKey={selectCharacter}\r\n        onClose={onClose}\r\n        footer={<CloseButton large onClick={onClose} />} />\r\n    </ModalWrapper>\r\n  </Box>\r\n}","import { ExpandMore } from '@mui/icons-material';\r\nimport { CardContent, CardHeader, Collapse, Divider, Grid, Typography } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport Character from '../../Character/Character';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport { EnemyEditor, EnemyResText } from '../../Components/EnemyEditor';\r\nimport ExpandButton from '../../Components/ExpandButton';\r\nimport Stat from '../../Stat';\r\nimport { ICachedCharacter } from '../../Types/character';\r\nimport { allElements } from '../../Types/consts';\r\n\r\nexport default function EnemyEditorCard({ character }: {\r\n  character: ICachedCharacter\r\n}) {\r\n  const [expanded, setExpanded] = useState(false);\r\n  return <CardLight>\r\n    <CardHeader\r\n      action={\r\n        <ExpandButton\r\n          expand={expanded}\r\n          onClick={() => setExpanded(!expanded)}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n          size=\"small\"\r\n        >\r\n          <ExpandMore />\r\n        </ExpandButton>\r\n      }\r\n      title={<Typography>\r\n        {Stat.getStatName(\"enemyLevel\")} <strong>{Character.getStatValueWithBonus(character, \"enemyLevel\")}</strong>\r\n      </Typography>}\r\n    />\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        {[\"physical\", ...allElements].map(element => <Grid item xs={3} key={element}><EnemyResText element={element} character={character} /></Grid>)}\r\n        <Grid item xs={4} ><Typography>DEF Reduction {Character.getStatValueWithBonus(character, \"enemyDEFRed_\")}%</Typography></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <CardContent sx={{ pt: 0 }}>\r\n        <EnemyEditor character={character} bsProps={{ xs: 12 }} />\r\n      </CardContent>\r\n    </Collapse>\r\n  </CardLight>\r\n}","import { CardContent, Divider, Grid, Typography } from '@mui/material';\r\nimport React from 'react';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport { HitModeToggle, InfusionAuraDropdown, ReactionToggle } from '../../Components/HitModeEditor';\r\nimport { ICachedCharacter } from '../../Types/character';\r\nimport { ICalculatedStats } from '../../Types/stats';\r\nexport default function HitModeCard({ character, build, disabled }: { character: ICachedCharacter, build: ICalculatedStats, disabled: boolean }) {\r\n  if (!character) return null\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Grid container>\r\n        <Grid item flexGrow={1}><Typography>Hit Mode Options</Typography></Grid>\r\n        <Grid item ><InfusionAuraDropdown size=\"small\" character={character} disabled={disabled} /></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent >\r\n      <HitModeToggle fullWidth size=\"small\" character={character} disabled={disabled} />\r\n      <ReactionToggle fullWidth size=\"small\" build={build} character={character} disabled={disabled} sx={{ mt: 1 }} />\r\n    </CardContent>\r\n  </CardLight >\r\n}","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');","import { Info, Replay } from '@mui/icons-material';\r\nimport { Button, CardContent, Divider, Grid, MenuItem, Typography } from '@mui/material';\r\nimport React from 'react';\r\nimport Artifact from '../../Artifact/Artifact';\r\nimport SlotNameWithIcon from '../../Artifact/Component/SlotNameWIthIcon';\r\nimport BootstrapTooltip from '../../Components/BootstrapTooltip';\r\nimport CardDark from '../../Components/Card/CardDark';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport DropdownButton from '../../Components/DropdownMenu/DropdownButton';\r\nimport SqBadge from '../../Components/SqBadge';\r\nimport StatIcon from '../../Components/StatIcon';\r\nimport Stat from '../../Stat';\r\nimport { MainStatKey } from '../../Types/artifact';\r\nimport { BuildSetting } from '../../Types/Build';\r\nimport { SlotKey } from '../../Types/consts';\r\n\r\nexport const artifactsSlotsToSelectMainStats = [\"sands\", \"goblet\", \"circlet\"] as const\r\n\r\nexport default function MainStatSelectionCard({ mainStatAssumptionLevel, mainStatKeys, onChangeMainStatKey, onChangeAssLevel, disabled = false, }: {\r\n  mainStatAssumptionLevel: number\r\n  mainStatKeys: BuildSetting[\"mainStatKeys\"]\r\n  onChangeMainStatKey: (slotKey: SlotKey, mainStatKey?: MainStatKey) => void\r\n  onChangeAssLevel: (level: number) => void\r\n  disabled?: boolean\r\n}) {\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }} >\r\n      <Grid container alignItems=\"center\" spacing={2}>\r\n        <Grid item flexGrow={1}>\r\n          <Typography>Artifact Main Stat</Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <BootstrapTooltip placement=\"top\" title={<Typography><strong>Level Assumption</strong> changes mainstat value to be at least a specific level. Does not change substats.</Typography>}>\r\n            <Info />\r\n          </BootstrapTooltip>\r\n        </Grid>\r\n        <Grid item>\r\n          <AssumeFullLevelToggle mainStatAssumptionLevel={mainStatAssumptionLevel} setmainStatAssumptionLevel={v => onChangeAssLevel(v)} disabled={disabled} />\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent sx={{\r\n      // select all excluding last\r\n      \"> div:nth-last-of-type(n+2)\": { mb: 1 }\r\n    }}>\r\n      {artifactsSlotsToSelectMainStats.map(slotKey => {\r\n        const numSel = mainStatKeys[slotKey].length\r\n        return <CardDark key={slotKey}>\r\n          <CardContent sx={{ py: 1 }}><Grid container spacing={1}>\r\n            <Grid item ><SlotNameWithIcon slotKey={slotKey} /></Grid>\r\n            <Grid item flexGrow={1}>\r\n              <SqBadge color=\"info\">{numSel ? `${numSel} Selected` : `Any`}</SqBadge>\r\n            </Grid>\r\n            <Grid item>\r\n              <Button color=\"error\" size=\"small\" disabled={!mainStatKeys[slotKey].length}\r\n                onClick={() => onChangeMainStatKey(slotKey)}>\r\n                <Replay />\r\n              </Button>\r\n            </Grid>\r\n          </Grid></CardContent>\r\n          <Divider />\r\n          <CardContent>\r\n            <Grid container spacing={1}>\r\n              {Artifact.slotMainStats(slotKey).map((mainStatKey, i) => {\r\n                const selected = mainStatKeys[slotKey].includes(mainStatKey)\r\n                return <Grid item xs={i < 3 ? 4 : 6} key={mainStatKey} >\r\n                  <Button fullWidth size=\"small\" color={selected ? \"success\" : \"secondary\"} disabled={disabled} sx={{ height: \"100%\" }}\r\n                    onClick={() => onChangeMainStatKey(slotKey, mainStatKey)} startIcon={StatIcon[mainStatKey]}>\r\n                    {Stat.getStatNameWithPercent(mainStatKey, \"\", false)}\r\n                  </Button>\r\n                </Grid>\r\n              })}\r\n            </Grid>\r\n          </CardContent>\r\n        </CardDark>\r\n      })}\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\nconst levels = {\r\n  0: <span>No level assumption</span>,\r\n  4: <span>Assume at least level 4</span>,\r\n  8: <span>Assume at least level 8</span>,\r\n  12: <span>Assume at least level 12</span>,\r\n  16: <span>Assume at least level 16</span>,\r\n  20: <span>Assume at least level 20</span>\r\n} as const\r\nfunction AssumeFullLevelToggle({ mainStatAssumptionLevel = 0, setmainStatAssumptionLevel, disabled }) {\r\n  return <DropdownButton color={mainStatAssumptionLevel ? \"warning\" : \"primary\"} disabled={disabled} title={levels[mainStatAssumptionLevel]}>\r\n    {Object.entries(levels).map(([key, text]) => <MenuItem key={key} onClick={() => setmainStatAssumptionLevel(parseInt(key))}>{text}</MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n","import { Button, CardContent, Divider, Grid, MenuItem, MenuList, styled, Typography } from '@mui/material';\r\nimport React, { useCallback, useMemo, useState } from 'react';\r\nimport Character from '../../Character/Character';\r\nimport CharacterSheet from '../../Character/CharacterSheet';\r\nimport { getFormulaTargetsDisplayHeading } from '../../Character/CharacterUtil';\r\nimport CardDark from '../../Components/Card/CardDark';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport ColorText from '../../Components/ColoredText';\r\nimport ModalWrapper from '../../Components/ModalWrapper';\r\nimport Formula from '../../Formula';\r\nimport usePromise from '../../ReactHooks/usePromise';\r\nimport Stat from '../../Stat';\r\nimport { IFieldDisplay } from '../../Types/IFieldDisplay';\r\nimport { ICalculatedStats } from '../../Types/stats';\r\nimport WeaponSheet from '../../Weapon/WeaponSheet';\r\n\r\nconst WhiteButton = styled(Button)({\r\n  color: \"black\",\r\n  backgroundColor: \"white\",\r\n  \"&:hover\": {\r\n    backgroundColor: \"#e1e1e1\",\r\n  }\r\n})\r\nexport default function OptimizationTargetSelector({ optimizationTarget, setTarget, initialStats, characterSheet, weaponSheet, artifactSheets, statsDisplayKeys, disabled = false }: {\r\n  optimizationTarget: string | string[], setTarget: (target: string | string[]) => void, initialStats: ICalculatedStats, characterSheet: CharacterSheet, weaponSheet: WeaponSheet, artifactSheets, statsDisplayKeys: { basicKeys: any, [key: string]: any }, disabled\r\n}) {\r\n  const [open, setOpen] = useState(false)\r\n  const onOpen = useCallback(() => !disabled && setOpen(true), [setOpen, disabled])\r\n  const onClose = useCallback(() => setOpen(false), [setOpen])\r\n  const formula = usePromise(Array.isArray(optimizationTarget) ? Formula.get(optimizationTarget) : undefined, [optimizationTarget])\r\n\r\n  const setTargetHandler = useCallback(\r\n    (target) => {\r\n      onClose()\r\n      setTarget(target)\r\n    },\r\n    [onClose, setTarget],\r\n  )\r\n  const sortByText = useMemo(() => {\r\n    if (Array.isArray(optimizationTarget)) {\r\n      if (!formula) return null\r\n      let [type, , talentKey] = (formula as any).keys as string[]\r\n      const field = (formula as any).field as IFieldDisplay\r\n      const variant = Character.getTalentFieldValue(field, \"variant\", initialStats)\r\n      const text = Character.getTalentFieldValue(field, \"text\", initialStats)\r\n      if (type === \"character\") {\r\n        if (talentKey === \"normal\" || talentKey === \"charged\" || talentKey === \"plunging\") talentKey = \"auto\"\r\n        return <b>{characterSheet?.getTalentOfKey(talentKey, initialStats?.characterEle)?.name}: <ColorText color={variant} >{text}</ColorText></b>\r\n      } else if (type === \"weapon\") {\r\n        return <b>{weaponSheet?.name}: <ColorText color={variant} >{text}</ColorText></b>\r\n      }\r\n    } else return <b>Basic Stat: <span className={`text-${Stat.getStatVariant(optimizationTarget)}`}>{Stat.getStatNameWithPercent(optimizationTarget)}</span></b>\r\n  }, [optimizationTarget, formula, initialStats, characterSheet, weaponSheet])\r\n\r\n  return <><WhiteButton onClick={onOpen} disabled={disabled} >\r\n    <span>Optimization Target: {sortByText}</span>\r\n  </WhiteButton>\r\n    <ModalWrapper open={open} onClose={onClose}>\r\n      <CardDark >\r\n        <CardContent>\r\n          <Grid container spacing={1}>\r\n            {!!statsDisplayKeys && Object.entries(statsDisplayKeys).map(([sectionKey, fields]) => {\r\n              const header = (characterSheet && weaponSheet && artifactSheets) ? getFormulaTargetsDisplayHeading(sectionKey as string, { characterSheet, weaponSheet, artifactSheets }, initialStats?.characterEle) : sectionKey\r\n              return <Grid item xs={6} md={4} key={sectionKey as string}>\r\n                <CardLight sx={{ height: \"100%\" }}>\r\n                  <CardContent sx={{ py: 1 }}>\r\n                    <Typography>\r\n                      <b>{header as string}</b>\r\n                    </Typography>\r\n\r\n                  </CardContent>\r\n                  <Divider />\r\n                  <MenuList>\r\n                    {fields.map((target, i) => {\r\n                      if (Array.isArray(target))\r\n                        return <TargetSelectorMenuItem key={i} {...{ target, setTarget: setTargetHandler, initialStats }} />\r\n                      else if (typeof target === \"string\")\r\n                        return <MenuItem key={i} onClick={() => setTargetHandler(target)}>{Stat.getStatNameWithPercent(target)}</MenuItem>\r\n                      return null\r\n                    })}\r\n                  </MenuList>\r\n                </CardLight>\r\n              </Grid>\r\n            })}\r\n          </Grid>\r\n        </CardContent>\r\n      </CardDark>\r\n    </ModalWrapper>\r\n  </>\r\n}\r\nfunction TargetSelectorMenuItem({ target, setTarget, initialStats }) {\r\n  const formula = usePromise(Formula.get(target), [target])\r\n  if (!formula) return null\r\n  const talentField = (formula as any).field as IFieldDisplay\r\n  return <MenuItem onClick={() => setTarget(target)} style={{ overflow: \"hidden\", textOverflow: \"ellipsis\" }}>\r\n    <ColorText color={Character.getTalentFieldValue(talentField, \"variant\", initialStats)} >{Character.getTalentFieldValue(talentField, \"text\", initialStats)}</ColorText>\r\n  </MenuItem>\r\n}","import { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Button, ButtonGroup, CardContent, Divider, Grid, MenuItem, Typography } from '@mui/material';\r\nimport React, { useCallback } from 'react';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from '../../Components/CustomNumberInput';\r\nimport DropdownButton from '../../Components/DropdownMenu/DropdownButton';\r\nimport Stat from '../../Stat';\r\nimport { StatKey } from '../../Types/artifact';\r\nexport default function StatFilterCard({ statKeys = [], statFilters = {}, setStatFilters, disabled }: { statKeys: StatKey[], statFilters: Dict<StatKey, number>, setStatFilters: (object) => void, disabled?: boolean }) {\r\n  const remainingKeys = statKeys.filter(key => !(Object.keys(statFilters) as any).some(k => k === key))\r\n  const setFilter = (sKey, min) => setStatFilters({ ...statFilters, [sKey]: min })\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography>Minimum Final Stat Filter</Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        {Object.entries(statFilters).map(([statKey, min]) => {\r\n          return <Grid item xs={12} key={statKey} ><StatFilterItem statKey={statKey} statKeys={remainingKeys} setFilter={setFilter} disabled={disabled} value={min} close={() => {\r\n            delete statFilters[statKey]\r\n            setStatFilters({ ...statFilters })\r\n          }} /></Grid>\r\n        })}\r\n        <Grid item xs={12}>\r\n          <StatFilterItem value={undefined} close={undefined} statKeys={remainingKeys} setFilter={setFilter} disabled={disabled} />\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\nfunction StatFilterItem({ statKey, statKeys = [], value, close, setFilter, disabled = false }: {\r\n  statKey?: string, statKeys: string[], value?: number, close?: () => void, setFilter: (statKey: string, value?: number) => void, disabled?: boolean\r\n}) {\r\n  const isFloat = Stat.getStatUnit(statKey) === \"%\"\r\n  const onChange = useCallback(s => statKey && setFilter(statKey, s), [setFilter, statKey])\r\n  return <ButtonGroup sx={{ width: \"100%\" }}>\r\n    <DropdownButton\r\n      title={Stat.getStatNameWithPercent(statKey, \"New Stat\")}\r\n      disabled={disabled}\r\n    >\r\n      {statKeys.map(sKey => <MenuItem key={sKey} onClick={() => { close?.(); setFilter(sKey, value) }}>{Stat.getStatNameWithPercent(sKey)}</MenuItem>)}\r\n    </DropdownButton>\r\n    <CustomNumberInputButtonGroupWrapper sx={{ flexBasis: 30, flexGrow: 1 }}>\r\n      <CustomNumberInput\r\n        disabled={!statKey}\r\n        float={isFloat}\r\n        value={value}\r\n        placeholder=\"Min Value\"\r\n        onChange={onChange}\r\n        sx={{\r\n          px: 2,\r\n        }}\r\n      />\r\n    </CustomNumberInputButtonGroupWrapper>\r\n    {!!close && <Button color=\"error\" onClick={close} disabled={disabled}><FontAwesomeIcon icon={faTrashAlt} /></Button>}\r\n  </ButtonGroup>\r\n}","import { faCalculator, faCheckSquare, faSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Close } from '@mui/icons-material';\r\nimport { Alert, Box, Button, ButtonGroup, CardContent, Divider, Grid, Link, MenuItem, Skeleton, Typography } from '@mui/material';\r\nimport React, { lazy, Suspense, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\r\nimport ReactGA from 'react-ga';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n// eslint-disable-next-line\r\nimport Worker from \"worker-loader!./BuildWorker\";\r\nimport Artifact from '../Artifact/Artifact';\r\nimport { ArtifactSheet } from '../Artifact/ArtifactSheet';\r\nimport Character from '../Character/Character';\r\nimport CharacterSheet from '../Character/CharacterSheet';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport CharacterDropdownButton from '../Components/Character/CharacterDropdownButton';\r\nimport CloseButton from '../Components/CloseButton';\r\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton';\r\nimport InfoComponent from '../Components/InfoComponent';\r\nimport ModalWrapper from '../Components/ModalWrapper';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport { dbStorage } from '../Database/DBStorage';\r\nimport useForceUpdate from '../ReactHooks/useForceUpdate';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport { ArtifactsBySlot, Build, BuildSetting } from '../Types/Build';\r\nimport { ICachedCharacter } from '../Types/character';\r\nimport { allSlotKeys, CharacterKey } from '../Types/consts';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport { deepClone, objectFromKeyMap } from '../Util/Util';\r\nimport WeaponSheet from '../Weapon/WeaponSheet';\r\nimport { buildContext, calculateTotalBuildNumber, maxBuildsToShowList } from './Build';\r\nimport { initialBuildSettings } from './BuildSetting';\r\nimport ArtifactBuildDisplayItem from './Components/ArtifactBuildDisplayItem';\r\nimport ArtifactConditionalCard from './Components/ArtifactConditionalCard';\r\nimport ArtifactSetPicker from './Components/ArtifactSetPicker';\r\nimport BonusStatsCard from './Components/BonusStatsCard';\r\nimport BuildAlert, { warningBuildNumber } from './Components/BuildAlert';\r\nimport CharacterSelectionCard from './Components/CharacterSelectionCard';\r\nimport EnemyEditorCard from './Components/EnemyEditorCard';\r\nimport HitModeCard from './Components/HitModeCard';\r\nimport MainStatSelectionCard, { artifactsSlotsToSelectMainStats } from './Components/MainStatSelectionCard';\r\nimport OptimizationTargetSelector from './Components/OptimizationTargetSelector';\r\nimport StatFilterCard from './Components/StatFilterCard';\r\nconst InfoDisplay = React.lazy(() => import('./InfoDisplay'));\r\n\r\n//lazy load the character display\r\nconst CharacterDisplayCard = lazy(() => import('../Character/CharacterDisplayCard'))\r\n\r\nfunction buildSettingsReducer(state: BuildSetting, action): BuildSetting {\r\n  switch (action.type) {\r\n    case 'mainStatKey': {\r\n      const { slotKey, mainStatKey } = action\r\n      const mainStatKeys = { ...state.mainStatKeys }//create a new object to update react dependencies\r\n\r\n      if (state.mainStatKeys[slotKey].includes(mainStatKey))\r\n        mainStatKeys[slotKey] = mainStatKeys[slotKey].filter(k => k !== mainStatKey)\r\n      else\r\n        mainStatKeys[slotKey].push(mainStatKey)\r\n      return { ...state, mainStatKeys }\r\n    }\r\n    case 'mainStatKeyReset': {\r\n      const { slotKey } = action\r\n      const mainStatKeys = { ...state.mainStatKeys }//create a new object to update react dependencies\r\n      mainStatKeys[slotKey] = []\r\n      return { ...state, mainStatKeys }\r\n    }\r\n    case `setFilter`: {\r\n      const { index, key, num = 0 } = action\r\n      state.setFilters[index] = { key, num }\r\n      return { ...state, setFilters: [...state.setFilters] }//do this because this is a dependency, so needs to be a \"new\" array\r\n    }\r\n    default:\r\n      break;\r\n  }\r\n  return { ...state, ...action }\r\n}\r\n\r\nexport default function BuildDisplay({ location: { characterKey: propCharacterKey } }) {\r\n  const database = useContext(DatabaseContext)\r\n  const [characterKey, setcharacterKey] = useState(() => {\r\n    const { characterKey = \"\" } = dbStorage.get(\"BuildsDisplay.state\") ?? {}\r\n    //NOTE that propCharacterKey can override the selected character.\r\n    return (propCharacterKey ?? characterKey) as CharacterKey | \"\"\r\n  })\r\n\r\n  const [modalBuild, setmodalBuild] = useState(-1) // the index of the newBuild that is being displayed in the character modal,\r\n\r\n  const [showCharacterModal, setshowCharacterModal] = useState(false)\r\n\r\n  const [generatingBuilds, setgeneratingBuilds] = useState(false)\r\n  const [generationProgress, setgenerationProgress] = useState(0)\r\n  const [generationDuration, setgenerationDuration] = useState(0)//in ms\r\n  const [generationSkipped, setgenerationSkipped] = useState(0)\r\n\r\n  const [charDirty, setCharDirty] = useForceUpdate()\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n\r\n  const [artsDirty, setArtsDirty] = useForceUpdate()\r\n\r\n  const isMounted = useRef(false)\r\n\r\n  const worker = useRef(null as Worker | null)\r\n\r\n  type characterDataType = { character?: ICachedCharacter, characterSheet?: CharacterSheet, weaponSheet?: WeaponSheet, initialStats?: ICalculatedStats, statsDisplayKeys?: { basicKeys: any, [key: string]: any } }\r\n  const [{ character, characterSheet, weaponSheet, initialStats, statsDisplayKeys }, setCharacterData] = useState({} as characterDataType)\r\n  const buildSettings = useMemo(() => character?.buildSettings ?? initialBuildSettings(), [character])\r\n  const { setFilters, statFilters, mainStatKeys, optimizationTarget, mainStatAssumptionLevel, useExcludedArts, useEquippedArts, builds, buildDate, maxBuildsToShow } = buildSettings\r\n\r\n  if (initialStats)\r\n    initialStats.mainStatAssumptionLevel = mainStatAssumptionLevel\r\n\r\n  const buildStats = useMemo(() => {\r\n    if (!initialStats || !artifactSheets) return []\r\n    return builds.map(build => {\r\n      const arts = Object.fromEntries(build.map(id => database._getArt(id)).map(art => [art?.slotKey, art]))\r\n      return Character.calculateBuildwithArtifact(initialStats, arts, artifactSheets)\r\n    }).filter(build => build)\r\n  }, [builds, database, initialStats, artifactSheets])\r\n\r\n  const noCharacter = useMemo(() => !database._getCharKeys().length, [database])\r\n  const noArtifact = useMemo(() => !database._getArts().length, [database])\r\n\r\n  const buildSettingsDispatch = useCallback((action) => {\r\n    if (!character) return\r\n    character.buildSettings = buildSettingsReducer(buildSettings, action)\r\n    database.updateChar(character)\r\n  }, [character, buildSettings, database])\r\n\r\n  useEffect(() => ReactGA.pageview('/build'), [])\r\n\r\n  //select a new character Key\r\n  const selectCharacter = useCallback((cKey = \"\") => {\r\n    if (characterKey === cKey) return\r\n    setcharacterKey(cKey)\r\n    setCharDirty()\r\n    setCharacterData({})\r\n  }, [setCharDirty, setcharacterKey, characterKey])\r\n\r\n  //load the character data as a whole\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!characterKey || !artifactSheets) return\r\n      const character = database._getChar(characterKey)\r\n      if (!character) return selectCharacter(\"\")// character is prob deleted.\r\n      const characterSheet = await CharacterSheet.get(characterKey)\r\n      const weapon = database._getWeapon(character.equippedWeapon)\r\n      if (!weapon) return\r\n      const weaponSheet = await WeaponSheet.get(weapon.key)\r\n      if (!characterSheet || !weaponSheet) return\r\n      const initialStats = Character.createInitialStats(character, database, characterSheet, weaponSheet)\r\n      //NOTE: since initialStats are used, there are no inclusion of artifact formulas here.\r\n      const statsDisplayKeys = Character.getDisplayStatKeys(initialStats, { characterSheet, weaponSheet, artifactSheets })\r\n      setCharacterData({ character, characterSheet, weaponSheet, initialStats, statsDisplayKeys })\r\n    })()\r\n  }, [charDirty, characterKey, artifactSheets, database, selectCharacter])\r\n\r\n  //register changes in artifact database\r\n  useEffect(() =>\r\n    database.followAnyArt(setArtsDirty),\r\n    [setArtsDirty, database])\r\n\r\n  //register changes in character in db\r\n  useEffect(() =>\r\n    characterKey ? database.followChar(characterKey, setCharDirty) : undefined,\r\n    [characterKey, setCharDirty, database])\r\n\r\n  //terminate worker when component unmounts\r\n  useEffect(() => () => worker.current?.terminate(), [])\r\n\r\n  //save to BuildsDisplay.state on change\r\n  useEffect(() => {\r\n    if (isMounted.current) dbStorage.set(\"BuildsDisplay.state\", { characterKey })\r\n    else isMounted.current = true\r\n  }, [characterKey])\r\n\r\n  //validate optimizationTarget \r\n  useEffect(() => {\r\n    if (!statsDisplayKeys) return\r\n    if (!Array.isArray(optimizationTarget)) return\r\n    for (const sectionKey in statsDisplayKeys) {\r\n      const section = statsDisplayKeys[sectionKey]\r\n      for (const keys of section)\r\n        if (JSON.stringify(keys) === JSON.stringify(optimizationTarget)) return\r\n    }\r\n    buildSettingsDispatch({ optimizationTarget: initialBuildSettings().optimizationTarget })\r\n  }, [optimizationTarget, statsDisplayKeys, buildSettingsDispatch])\r\n\r\n  const { split, totBuildNumber } = useMemo(() => {\r\n    if (!characterKey) // Make sure we have all slotKeys\r\n      return { split: objectFromKeyMap(allSlotKeys, () => []) as ArtifactsBySlot, totBuildNumber: 0 }\r\n    const artifactDatabase = database._getArts().filter(art => {\r\n      //if its equipped on the selected character, bypass the check\r\n      if (art.location === characterKey) return true\r\n\r\n      if (art.exclude && !useExcludedArts) return false\r\n      if (art.location && !useEquippedArts) return false\r\n      return true\r\n    })\r\n    const split = Artifact.splitArtifactsBySlot(artifactDatabase);\r\n    //filter the split slots on the mainstats selected.\r\n    artifactsSlotsToSelectMainStats.forEach(slotKey =>\r\n      mainStatKeys[slotKey].length && (split[slotKey] = split[slotKey]?.filter((art) => mainStatKeys[slotKey].includes(art.mainStatKey))))\r\n    const totBuildNumber = calculateTotalBuildNumber(split, setFilters)\r\n    return artsDirty && { split, totBuildNumber }\r\n  }, [characterKey, useExcludedArts, useEquippedArts, mainStatKeys, setFilters, artsDirty, database])\r\n\r\n  //reset the Alert by setting progress to zero.\r\n  useEffect(() => {\r\n    setgenerationProgress(0)\r\n  }, [totBuildNumber])\r\n\r\n  const generateBuilds = useCallback(() => {\r\n    if (!initialStats || !artifactSheets) return\r\n    setgeneratingBuilds(true)\r\n    setgenerationDuration(0)\r\n    setgenerationProgress(0)\r\n    setgenerationSkipped(0)\r\n    //get the formula for this target\r\n\r\n    const artifactSetEffects = Artifact.setEffectsObjs(artifactSheets, initialStats)\r\n    const splitArtifacts = deepClone(split) as ArtifactsBySlot\r\n    //add mainStatVal to each artifact\r\n    Object.values(splitArtifacts).forEach(artArr => {\r\n      artArr!.forEach(art => {\r\n        art.mainStatVal = Artifact.mainStatValue(art.mainStatKey, art.rarity, Math.max(Math.min(mainStatAssumptionLevel, art.rarity * 4), art.level)) ?? 0;\r\n      })\r\n    })\r\n    //create an obj with app the artifact set effects to pass to buildworker.\r\n    const data = {\r\n      splitArtifacts, initialStats, artifactSetEffects,\r\n      setFilters, minFilters: statFilters, maxBuildsToShow, optimizationTarget\r\n    };\r\n    worker.current?.terminate()\r\n    worker.current = new Worker()\r\n    worker.current.onmessage = (e) => {\r\n      if (typeof e.data.progress === \"number\") {\r\n        const { progress, timing = 0, skipped = 0 } = e.data\r\n        setgenerationProgress(progress)\r\n        setgenerationDuration(timing)\r\n        setgenerationSkipped(skipped)\r\n        return\r\n      }\r\n      ReactGA.timing({\r\n        category: \"Build Generation\",\r\n        variable: \"timing\",\r\n        value: e.data.timing,\r\n        label: totBuildNumber.toString()\r\n      })\r\n      const builds = (e.data.builds as Build[]).map(b => Object.values(b.artifacts).map(a => a.id))\r\n      buildSettingsDispatch({ builds, buildDate: Date.now() })\r\n\r\n      setgeneratingBuilds(false)\r\n      worker.current?.terminate()\r\n      worker.current = null\r\n    };\r\n    worker.current.postMessage(data)\r\n  }, [artifactSheets, split, totBuildNumber, mainStatAssumptionLevel, initialStats, maxBuildsToShow, optimizationTarget, setFilters, statFilters, buildSettingsDispatch])\r\n\r\n  const characterName = characterSheet?.name ?? \"Character Name\"\r\n\r\n  const closeBuildModal = useCallback(\r\n    () => {\r\n      setmodalBuild(-1)\r\n      setshowCharacterModal(false)\r\n    },\r\n    [setmodalBuild, setshowCharacterModal],\r\n  )\r\n\r\n  return <buildContext.Provider value={{ equippedBuild: initialStats }}>\r\n    <Box display=\"flex\" flexDirection=\"column\" gap={1} sx={{ my: 1 }}>\r\n      <InfoComponent\r\n        pageKey=\"buildPage\"\r\n        modalTitle=\"Character Management Page Guide\"\r\n        text={[\"For self-infused attacks, like Noelle's Sweeping Time, enable the skill in the character talent page.\",\r\n          \"You can compare the difference between equipped artifacts and generated builds.\",\r\n          \"The more complex the formula, the longer the generation time.\",]}\r\n      ><InfoDisplay /></InfoComponent>\r\n      <BuildModal {...{ build: buildStats[modalBuild], showCharacterModal, characterKey, selectCharacter, onClose: closeBuildModal }} />\r\n      {noCharacter && <Alert severity=\"error\" variant=\"filled\"> Opps! It looks like you haven't added a character to GO yet! You should go to the <Link component={RouterLink} to=\"/character\">Characters</Link> page and add some!</Alert>}\r\n      {noArtifact && <Alert severity=\"warning\" variant=\"filled\"> Opps! It looks like you haven't added any artifacts to GO yet! You should go to the <Link component={RouterLink} to=\"/artifact\">Artifacts</Link> page and add some!</Alert>}\r\n      {/* Build Generator Editor */}\r\n      <CardDark>\r\n        <CardContent sx={{ py: 1 }}>\r\n          <Typography variant=\"h6\">Build Generator</Typography>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardContent>\r\n          <Grid container spacing={1} >\r\n            {/* Left half */}\r\n            <Grid item xs={12} md={6} lg={5} sx={{\r\n              // select all excluding last\r\n              \"> div:nth-last-of-type(n+2)\": { mb: 1 }\r\n            }}>\r\n              <CardLight>\r\n                <CardContent>\r\n                  <CharacterDropdownButton fullWidth value={characterKey} onChange={selectCharacter} disabled={generatingBuilds} />\r\n                </CardContent>\r\n              </CardLight>\r\n              {/* character selection */}\r\n              <CharacterSelectionCard characterKey={characterKey} disabled={generatingBuilds} selectCharacter={selectCharacter} />\r\n              {!!character && <BonusStatsCard character={character} />}\r\n              {/* Enemy Editor */}\r\n              {!!character && <EnemyEditorCard character={character} />}\r\n              {/*Minimum Final Stat Filter */}\r\n              {!!statsDisplayKeys && <StatFilterCard statFilters={statFilters} statKeys={statsDisplayKeys?.basicKeys as any}\r\n                setStatFilters={sFs => buildSettingsDispatch({ statFilters: sFs })} disabled={generatingBuilds} />}\r\n              {/* Hit mode options */}\r\n              {characterSheet && character && initialStats && <HitModeCard build={initialStats} character={character} disabled={generatingBuilds} />}\r\n            </Grid>\r\n\r\n            {/* Right half */}\r\n            <Grid item xs={12} md={6} lg={7} sx={{\r\n              // select all excluding last\r\n              \"> div:nth-last-of-type(n+2)\": { mb: 1 }\r\n            }}>\r\n              {!!initialStats && <ArtifactConditionalCard disabled={generatingBuilds} initialStats={initialStats} />}\r\n\r\n              {/* Artifact set pickers */}\r\n              {!!initialStats && setFilters.map((setFilter, index) => (index <= setFilters.filter(s => s.key).length) && <ArtifactSetPicker key={index} index={index} setFilters={setFilters}\r\n                disabled={generatingBuilds} initialStats={initialStats} onChange={(index, key, num) => buildSettingsDispatch({ type: 'setFilter', index, key, num })} />)}\r\n\r\n              {/* use equipped/excluded */}\r\n              {characterKey && <CardLight><CardContent>\r\n                <Grid container spacing={1}>\r\n                  <Grid item flexGrow={1}>\r\n                    <Button fullWidth onClick={() => buildSettingsDispatch({ useEquippedArts: !useEquippedArts })} disabled={generatingBuilds}>\r\n                      <span><FontAwesomeIcon icon={useEquippedArts ? faCheckSquare : faSquare} /> Use Equipped Artifacts</span>\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid item flexGrow={1}>\r\n                    <Button fullWidth onClick={() => buildSettingsDispatch({ useExcludedArts: !useExcludedArts })} disabled={generatingBuilds}>\r\n                      <span><FontAwesomeIcon icon={useExcludedArts ? faCheckSquare : faSquare} /> Use Excluded Artifacts</span>\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </CardContent></CardLight>}\r\n\r\n              {/* main stat selector */}\r\n              {characterKey && <MainStatSelectionCard\r\n                mainStatAssumptionLevel={mainStatAssumptionLevel}\r\n                mainStatKeys={mainStatKeys}\r\n                onChangeMainStatKey={(slotKey, mainStatKey = undefined) => {\r\n                  if (mainStatKey === undefined)\r\n                    buildSettingsDispatch({ type: \"mainStatKeyReset\", slotKey })\r\n                  else\r\n                    buildSettingsDispatch({ type: \"mainStatKey\", slotKey, mainStatKey })\r\n                }}\r\n                onChangeAssLevel={mainStatAssumptionLevel => buildSettingsDispatch({ mainStatAssumptionLevel })}\r\n                disabled={generatingBuilds}\r\n              />}\r\n            </Grid>\r\n          </Grid>\r\n          {/* Footer */}\r\n          <Grid container spacing={1} sx={{ mt: 1 }}>\r\n            <Grid item flexGrow={1} >\r\n              <ButtonGroup>\r\n                <Button\r\n                  disabled={!characterKey || generatingBuilds}\r\n                  color={(characterKey && totBuildNumber <= warningBuildNumber) ? \"success\" : \"warning\"}\r\n                  onClick={generateBuilds}\r\n                  startIcon={<FontAwesomeIcon icon={faCalculator} />}\r\n                >Generate</Button>\r\n                {/* <Tooltip title={<Typography></Typography>} placement=\"top\" arrow> */}\r\n                <DropdownButton disabled={generatingBuilds || !characterKey} title={<span><b>{maxBuildsToShow}</b> {maxBuildsToShow === 1 ? \"Build\" : \"Builds\"}</span>}>\r\n                  <MenuItem>\r\n                    <Typography variant=\"caption\" color=\"info.main\">\r\n                      Decreasing the number of generated build will decrease build calculation time for large number of builds.\r\n                    </Typography>\r\n                  </MenuItem>\r\n                  <Divider />\r\n                  {maxBuildsToShowList.map(v => <MenuItem key={v} onClick={() => buildSettingsDispatch({ maxBuildsToShow: v })}>{v} {v === 1 ? \"Build\" : \"Builds\"}</MenuItem>)}\r\n                </DropdownButton>\r\n                {/* </Tooltip> */}\r\n                <Button\r\n                  disabled={!generatingBuilds}\r\n                  color=\"error\"\r\n                  onClick={() => {\r\n                    if (!worker.current) return;\r\n                    worker.current.terminate();\r\n                    worker.current = null\r\n                    setgeneratingBuilds(false)\r\n                    setgenerationDuration(0)\r\n                    setgenerationProgress(0)\r\n                    setgenerationSkipped(0)\r\n                  }}\r\n                  startIcon={<Close />}\r\n                >Cancel</Button>\r\n              </ButtonGroup>\r\n            </Grid>\r\n            <Grid item>\r\n              {statsDisplayKeys && characterSheet && weaponSheet && initialStats && <OptimizationTargetSelector {...{ optimizationTarget, setTarget: target => buildSettingsDispatch({ optimizationTarget: target }), initialStats, characterSheet, weaponSheet, artifactSheets, statsDisplayKeys, disabled: !!generatingBuilds }} />}\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {!!characterKey && <Box sx={{ mt: 1 }} >\r\n            <BuildAlert {...{ totBuildNumber, generatingBuilds, generationSkipped, generationProgress, generationDuration, characterName, maxBuildsToShow }} />\r\n          </Box>}\r\n\r\n        </CardContent>\r\n      </CardDark>\r\n      <CardDark>\r\n        <CardContent>\r\n          <Typography>\r\n            {buildStats ? <span>Showing <strong>{buildStats.length}</strong> Builds generated for {characterName}. {!!buildDate && <span>Build generated on: <strong>{(new Date(buildDate)).toLocaleString()}</strong></span>}</span>\r\n              : <span>Select a character to generate builds.</span>}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardDark>\r\n      <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={600} />}>\r\n        {/* Build List */}\r\n        {buildStats?.map((build, index) =>\r\n          characterSheet && weaponSheet && artifactSheets && <ArtifactBuildDisplayItem sheets={{ characterSheet, weaponSheet, artifactSheets }} build={build} characterKey={characterKey as CharacterKey} index={index} key={Object.values(build.equippedArtifacts ?? {}).join()} statsDisplayKeys={statsDisplayKeys} onClick={() => setmodalBuild(index)} />\r\n        )}\r\n      </Suspense>\r\n    </Box>\r\n  </buildContext.Provider>\r\n}\r\n\r\nfunction BuildModal({ build, showCharacterModal, characterKey, selectCharacter, onClose }) {\r\n  return <ModalWrapper open={!!(showCharacterModal || build)} onClose={onClose} containerProps={{ maxWidth: \"xl\" }}>\r\n    <CharacterDisplayCard\r\n      characterKey={characterKey}\r\n      setCharacterKey={selectCharacter}\r\n      newBuild={build}\r\n      onClose={onClose}\r\n      footer={<CloseButton large onClick={onClose} />} />\r\n  </ModalWrapper>\r\n}\r\n"],"sourceRoot":""}