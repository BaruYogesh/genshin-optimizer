(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[12,16],{200:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(29),c=a(10),i=a(0),r=a(215),s=a(211),l=a(331),o=a(97),d=a(201),j=a(1);function u(e){var t,a,u=e.field,b=e.index,h=e.className,O=void 0===h?"p-2":h,x=Object(i.useContext)(o.a),m=x.newBuild,v=x.equippedBuild,f=x.compareBuild,p=m||v,g=Object(i.useMemo)((function(){var e;return!!p&&(null===u||void 0===u||null===(e=u.canShow)||void 0===e?void 0:e.call(u,p))}),[u,p]),y=(null===u||void 0===u?void 0:u.fixed)||0,N=Object(i.useMemo)((function(){if(u.value)return d.a.getTalentFieldValue(u,"value",p);if(u.formula){var e,t,a=null===(e=d.a.getTalentFieldValue(u,"formula",p))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.call(e,p);if(f&&v&&"number"===typeof a){var n,c,i,r,s,l,o,b,h,O=u.value?u.value:null===(n=u.formula)||void 0===n||null===(c=n.call(u,v))||void 0===c||null===(i=c[0])||void 0===i?void 0:i.call(c,v);"function"===typeof O&&(O=parseInt(null===(r=O)||void 0===r||null===(s=r(v))||void 0===s||null===(l=s.toFixed)||void 0===l?void 0:l.call(s,y)));var x=a-O;a=Object(j.jsxs)("span",{children:[null!==(o=null===(b=O)||void 0===b?void 0:b.toFixed(y))&&void 0!==o?o:O,x?Object(j.jsxs)("span",{className:x>0?"text-success":"text-danger",children:[" (",x>0?"+":"",(null===x||void 0===x||null===(h=x.toFixed)||void 0===h?void 0:h.call(x,y))||x,")"]}):""]})}return a}}),[f,y,v,u,p]),S=Object(i.useMemo)((function(){return d.a.getTalentFieldValue(u,"text",p)}),[u,p]),k=Object(i.useMemo)((function(){return d.a.getTalentFieldValue(u,"variant",p)}),[u,p]),C=Object(i.useMemo)((function(){var e=d.a.getTalentFieldValue(u,"formulaText",p);return e?Object(j.jsx)(r.a,{placement:"top",overlay:Object(j.jsx)(s.a,{id:"field-formula",children:e}),children:Object(j.jsx)(c.a,{icon:n.v,className:"ml-2",style:{cursor:"help"}})}):null}),[u,p]),w=Object(i.useMemo)((function(){return d.a.getTalentFieldValue(u,"unit",p)}),[u,p]);return g?Object(j.jsxs)(l.a.Item,{variant:b%2?"customdark":"customdarker",className:O,children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("b",{children:S}),C]}),Object(j.jsxs)("span",{className:"float-right text-right text-".concat(k),children:[null!==(t=null===N||void 0===N||null===(a=N.toFixed)||void 0===a?void 0:a.call(N,y))&&void 0!==t?t:N,w]})]}):null}},203:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2),c=a(0),i=a(117),r=a(1);function s(e){var t=e.value,a=e.onChange,s=e.className,l=void 0===s?"":s,o=e.disabled,d=void 0!==o&&o,j=e.float,u=void 0!==j&&j,b=e.placeholder,h=e.allowEmpty,O=void 0!==h&&h,x=e.max,m=e.min,v=Object(c.useState)(""),f=Object(n.a)(v,2),p=f[0],g=f[1],y=Object(c.useCallback)((function(){if(O&&""===p)return a(void 0);if(""===p)return a(0);var e=u?parseFloat:parseInt;a(e(p))}),[a,p,u,O]);return Object(c.useEffect)((function(){var e;return g(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,g]),Object(r.jsx)(i.a,{value:p,"aria-label":"custom-input",className:"hide-appearance ".concat(l),type:"number",placeholder:b,onChange:function(e){return g(e.target.value)},onBlur:y,disabled:d,onKeyDown:function(e){return"Enter"===e.key&&y()},max:x,min:m})}},205:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return d}));var n=a(2),c=a(185),i=a(59),r=a(16),s=a(11),l=a(1);function o(e,t){var a=t.characterSheet,i=t.weaponSheet,r=t.artifactSheets,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"anemo";if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var o,d,j=e.split("talentKey_")[1];return null!==(o=null===a||void 0===a||null===(d=a.getTalentOfKey(j,s))||void 0===d?void 0:d.name)&&void 0!==o?o:j}if(e.startsWith("weapon_")){var u,b=e.split("weapon_")[1];return null!==(u=null===i||void 0===i?void 0:i.name)&&void 0!==u?u:b}if(e.startsWith("artifact_")){var h,O=e.split("_"),x=Object(n.a)(O,3),m=x[1],v=x[2];return Object(l.jsxs)("span",{children:[null===(h=r[m])||void 0===h?void 0:h.name," ",Object(l.jsxs)(c.a,{variant:"success",children:[v,"-Set"]})]})}return""}function d(e){return{key:e,level:1,ascension:0,hitMode:"avgHit",reactionMode:null,equippedArtifacts:Object(s.o)(r.h,(function(){return""})),equippedWeapon:"",conditionalValues:{},baseStatOverrides:{},buildSettings:Object(i.a)(),talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0}}},207:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(0),c=a.n(n),i=a(331),r=a(97),s=a(11),l=a(2),o=a(14),d=a(186),j=a(100),u=a(29),b=a(10),h=a(185),O=a(113),x=a(184),m=a(1);function v(e){var t=e.conditional,a=e.conditionalValue,n=e.setConditional,i=e.name,r=e.disabled,d=e.stats,j=Object(l.a)(a,2),v=j[0],f=void 0===v?0:v,p=j[1];if(!t)return i;if("states"in t){var g=p?t.states[p]:Object.values(t.states)[0],y=0===f?"Not Active":Object(m.jsxs)("span",{children:[g.name," ",Object(s.f)(g.maxStack,d)>1?": ".concat(f," stack").concat(f>1?"s":""):""]}),N=Object(m.jsx)(h.a,{variant:0===f?"secondary":"success",children:y});return Object(m.jsxs)(x.a,{children:[Object(m.jsx)(x.a.Toggle,{size:"sm",disabled:r,children:Object(m.jsxs)("h6",{className:"mb-0 d-inline",style:{whiteSpace:"normal"},children:[i," ",N]})}),Object(m.jsxs)(x.a.Menu,{children:[Object(m.jsx)(x.a.Item,{onClick:function(){return n([0])},children:Object(m.jsx)("span",{children:"Not Active"})}),Object.entries(t.states).map((function(e,t){var a=Object(l.a)(e,2),i=a[0],r=a[1];return Object(m.jsx)(c.a.Fragment,{children:Object(o.a)(Array(r.maxStack).keys()).map((function(e){return e+1})).map((function(e,t){return Object(m.jsxs)(x.a.Item,{onClick:function(){return n([e,i])},children:[r.name,r.maxStack>1?": ".concat(e," stack").concat(e>1?"s":""):""]},i+t)}))},t)}))]})]})}var S=Object(s.f)(t.maxStack,d);if(S>1){var k=Object(m.jsx)(h.a,{variant:0===f?"secondary":"success",children:f>0?"".concat(f," stack").concat(f>1?"s":""):"Not Active"});return Object(m.jsxs)(x.a,{children:[Object(m.jsx)(x.a.Toggle,{size:"sm",disabled:r,children:Object(m.jsxs)("h6",{className:"mb-0 d-inline",style:{whiteSpace:"normal"},children:[i," ",k]})}),Object(m.jsxs)(x.a.Menu,{children:[Object(m.jsx)(x.a.Item,{onClick:function(){return n([0])},children:Object(m.jsx)("span",{children:"Not Active"})}),Object(o.a)(Array(S).keys()).map((function(e){return e+1})).map((function(e){return Object(m.jsx)(x.a.Item,{onClick:function(){return n([e])},children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})]})}return 1===S?Object(m.jsx)(O.a,{size:"sm",onClick:function(){return n([f?0:1])},disabled:r,children:Object(m.jsxs)("h6",{className:"mb-0",children:[Object(m.jsx)(b.a,{icon:f?u.f:u.z})," ",i]})}):null}var f=a(98),p=a(200);function g(e){var t=e.conditional,a=e.characterDispatch,c=e.fieldClassName,u=Object(n.useContext)(r.a),b=u.newBuild,h=u.equippedBuild,O=b||h,x=Object(n.useMemo)((function(){return j.a.canShow(t,O)}),[t,O]),g=Object(n.useMemo)((function(){return x&&j.a.resolve(t,O,void 0)}),[x,t,O]),y=g.stats,N=void 0===y?{}:y,S=g.fields,k=void 0===S?[]:S,C=g.conditionalValue,w=Object(n.useMemo)((function(){return x&&[].concat(Object(o.a)(Object(f.a)(N,O)),Object(o.a)(k))}),[x,N,O,k]),B=Object(n.useCallback)((function(e){if(O){var n=Object(l.a)(e,1)[0];(void 0===n?0:n)?t.keys&&Object(s.k)(O.conditionalValues,t.keys,e):(Object(s.e)(O.conditionalValues,t.keys),Object(s.l)(O.conditionalValues)),a({conditionalValues:O.conditionalValues})}}),[t,O,a]);return x&&O?Object(m.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2 w-100",children:[Object(m.jsx)(d.a.Header,{className:"p-2",children:Object(m.jsx)(v,{conditional:t,conditionalValue:C,setConditional:B,name:t.name,stats:O})}),Object(m.jsx)(i.a,{className:"text-white",variant:"flush",children:w.map((function(e,t){return Object(m.jsx)(p.a,{index:t,field:e,className:c},t)}))})]}):null}function y(e){var t=e.sections,a=e.characterDispatch,c=Object(n.useContext)(r.a),l=c.newBuild,o=c.equippedBuild,d=l||o;return d?Object(m.jsx)("div",{className:"w-100",children:null===t||void 0===t?void 0:t.map((function(e,t){var n,c;if(!e.canShow(d))return null;var r=Object(s.f)(e.text,d),l=null!==(n=e.fields)&&void 0!==n?n:[];return Object(m.jsxs)("div",{className:"my-2",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"mb-2",children:r}),l.length>0&&Object(m.jsx)(i.a,{className:"text-white mb-2",children:null===l||void 0===l||null===(c=l.map)||void 0===c?void 0:c.call(l,(function(e,t){return Object(m.jsx)(p.a,{index:t,field:e},t)}))})]}),!!e.conditional&&Object(m.jsx)(g,{conditional:e.conditional,characterDispatch:a})]},"section"+t)}))}):null}},212:function(e,t,a){"use strict";var n=a(8),c=a(122),i=a(29),r=a(10),s=a(113),l=a(216),o=a(215),d=a(211),j=a(203),u=a(1);t.a=function(e){var t=e.name,a=e.prependEle,b=e.value,h=e.placeholder,O=e.defaultValue,x=e.onValueChange,m=e.percent,v=void 0!==m&&m,f=e.disabled,p=void 0!==f&&f,g=Object(c.a)(e,["name","prependEle","value","placeholder","defaultValue","onValueChange","percent","disabled"]);return Object(u.jsxs)(l.a,Object(n.a)(Object(n.a)({},g),{},{children:[a?Object(u.jsx)(l.a.Prepend,{children:a}):null,Object(u.jsx)(l.a.Prepend,{children:Object(u.jsx)(l.a.Text,{children:t})}),Object(u.jsx)(j.a,{float:v,placeholder:h,value:b,onChange:x,disabled:p}),Object(u.jsxs)(l.a.Append,{children:[Boolean(v)&&Object(u.jsx)(l.a.Text,{children:"%"}),void 0!==O&&Object(u.jsx)(o.a,{placement:"top",overlay:Object(u.jsx)(d.a,{id:"reset-tooltip",children:"Reset this override to the default value."}),children:Object(u.jsx)("span",{className:"d-inline-block",children:Object(u.jsx)(s.a,{onClick:function(){return x(O)},disabled:p||b===O,style:b===O?{pointerEvents:"none"}:{},children:Object(u.jsx)(r.a,{icon:i.F})})})})]})]}))}},213:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),c=a(70),i=a(119),r=a(201),s=a(67),l=a(33),o=a(82),d=a(112),j=a(1);function u(e){var t,a,n=e.label,r=void 0===n?"":n,s=e.val,l=e.oldVal,o=e.fixed,d=void 0===o?0:o,u=e.unit,b=void 0===u?"":u,h=e.variant,O=void 0===h?"":h;"undefined"===typeof l&&"number"===typeof s&&(l=s,s=void 0);var x=void 0!==s?s-l:0,m="",v="";return l||0===x?m=null===(t=l)||void 0===t?void 0:t.toFixed(d):void 0===l&&(m=null===(a=s)||void 0===a?void 0:a.toFixed(d)),m&&(m=Object(j.jsxs)("span",{className:"text-".concat(O),children:[m,b]})),0!==x&&(v=Object(j.jsxs)("span",{className:"text-".concat(x>0?"success":"danger"),children:[x>0?"+":"",null===x||void 0===x?void 0:x.toFixed(d),b]})),Object(j.jsx)(c.a,{xs:"12",children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(c.a,{children:Object(j.jsx)("b",{children:r})}),Object(j.jsxs)(c.a,{xs:"auto",children:[m,x?" ":"",v]})]})})}function b(e){var t=e.characterSheet,a=e.weaponSheet,c=e.character,i=e.equippedBuild,b=e.newBuild,h=e.statKey,O=Object(o.b)(Array.isArray(h)?s.a.get(h):void 0,[h]),x=Object(n.useMemo)((function(){var e,n,s,o,u,x="";if("string"===typeof h){if(b&&i){var m,v;e=null!==(m=null===b||void 0===b?void 0:b[h])&&void 0!==m?m:0,n=null!==(v=null===i||void 0===i?void 0:i[h])&&void 0!==v?v:0}else{var f,p,g=b||i;e=null!==(f=null===g||void 0===g?void 0:g[h])&&void 0!==f?f:0;var y="invalid";(n=null!==(p=r.a.getStatValueWithOverride(c,t,a,h))&&void 0!==p?p:y)===y&&(n=void 0),g&&("finalHP"===h?n=g.characterHP:"finalDEF"===h?n=g.characterDEF:"finalATK"===h&&(n=g.characterATK+g.weaponATK))}o=l.b.getStatUnit(h),s=l.b.fixedUnit(h),x=Object(j.jsxs)("span",{children:[d.a[h]," ",l.b.getStatName(h)]})}else if(O){var N,S,k,C,w=b||i,B=O.field,K=r.a.getTalentFieldValue(B,"variant",w);if(x=Object(j.jsx)("span",{className:"text-".concat(K),children:r.a.getTalentFieldValue(B,"text",w)}),s=r.a.getTalentFieldValue(B,"fixed",w,0),o=r.a.getTalentFieldValue(B,"unit",w,""),e=null===(N=r.a.getTalentFieldValue(B,"formula",w))||void 0===N||null===(S=N[0])||void 0===S?void 0:S.call(N,w),b&&i)n=null===(k=r.a.getTalentFieldValue(B,"formula",i))||void 0===k||null===(C=k[0])||void 0===C?void 0:C.call(k,i)}return r.a.hasOverride(c,h)&&(u="warning"),{val:e,oldVal:n,fixed:s,unit:o,variant:u,label:x}}),[c,t,a,i,b,h,O]),m=x.val,v=x.oldVal,f=x.fixed,p=x.unit,g=x.variant,y=x.label;return Object(j.jsx)(u,{val:m,oldVal:v,fixed:f,unit:p,variant:g,label:y})}},220:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(2),c=a(29),i=a(10),r=a(0),s=a(545),l=a(186),o=a(119),d=a(70),j=a(113),u=a(195),b=a(34),h=a(11),O=a(80),x=a(1);function m(e){var t,a,m=e.pageKey,v=void 0===m?"":m,f=e.text,p=void 0===f?"":f,g=e.modalTitle,y=void 0===g?"":g,N=e.children,S=Object(r.useState)(null===(t=null===(a=b.b.get("infoShown"))||void 0===a?void 0:a[v])||void 0===t||t),k=Object(n.a)(S,2),C=k[0],w=k[1],B=Object(r.useState)(Array.isArray(p)?Object(h.g)(p):p),K=Object(n.a)(B,1)[0],A=function(){var e,t=null!==(e=b.b.get("infoShown"))&&void 0!==e?e:{};t[v]=!1,b.b.set("infoShown",t),w(!1)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(s.a,{show:C,onHide:function(){return A()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(x.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(x.jsx)(l.a.Header,{children:Object(x.jsxs)(o.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(l.a.Title,{children:y})}),Object(x.jsx)(d.a,{xs:"auto",children:Object(x.jsx)(j.a,{variant:"danger",onClick:function(){return A()},children:Object(x.jsx)(i.a,{icon:c.B})})})]})}),Object(x.jsx)(l.a.Body,{children:Object(x.jsx)(r.Suspense,{fallback:Object(x.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(x.jsx)(u.a,{animation:"border",variant:"primary"})]}),children:N})}),Object(x.jsx)(l.a.Footer,{children:Object(x.jsx)(j.a,{variant:"danger",onClick:function(){return A()},children:Object(x.jsx)("span",{children:"Close"})})})]})}),Object(x.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(x.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(x.jsxs)(o.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)("small",{children:K})}),Object(x.jsx)(d.a,{xs:"auto",children:Object(x.jsxs)(j.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return w(!0)},children:[Object(x.jsx)(O.a,{ns:"ui",key18:"info"})," ",Object(x.jsx)(i.a,{icon:c.v})]})})]})})})]})}},223:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(186),c=a(185),i=a(331),r=a(207),s=a(200),l=a(98),o=a(82),d=a(111),j=a(1);function u(e){var t=e.setKey,a=e.setNumKey,u=e.equippedBuild,b=e.newBuild,h=e.characterDispatch,O=Object(o.b)(d.a.get(t),[t]);if(!O)return null;var x=null!==b&&void 0!==b?b:u,m=O.setEffectDesc(a),v=O.setNumStats(a,x),f=Object(l.a)(v,x),p=O.setEffectDocument(a);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(n.a,{bg:"darkcontent",text:"lightfont",className:"mb-2 w-100",children:[Object(j.jsxs)(n.a.Header,{className:"p-2",children:[Object(j.jsxs)(c.a,{variant:"success",children:[a,"-Set"]})," ",m]}),Object(j.jsx)(i.a,{className:"text-white",variant:"flush",children:f.map((function(e,t){return Object(j.jsx)(s.a,{index:t,field:e},t)}))})]}),p?Object(j.jsx)(r.a,{sections:p,characterDispatch:h}):null]})}},224:function(e,t,a){"use strict";a.d(t,"b",(function(){return A})),a.d(t,"c",(function(){return M})),a.d(t,"a",(function(){return F})),a.d(t,"d",(function(){return D}));var n=a(14),c=a(2),i=a(29),r=a(10),s=a(0),l=a(184),o=a(538),d=a(332),j=a(186),u=a(554),b=a(242),h=a(113),O=a(119),x=a(70),m=a(225),v=a(97),f=a(112),p=a(67),g=a(33),y=a(218),N=a(16),S=a(82),k=a(201),C=a(205),w=a(212),B=a(1),K={"":Object(B.jsx)("span",{children:"No External Infusion"}),pyro:Object(B.jsxs)("span",{children:[f.b.pyro," Pyro Infusion"]}),cryo:Object(B.jsxs)("span",{children:[f.b.cryo," Cryo Infusion"]})};function A(e){var t=e.characterSheet,a=e.character.infusionAura,n=void 0===a?"":a,i=e.characterDispatch,r=e.className,s=e.disabled,o=void 0!==s&&s;return t.isMelee()?Object(B.jsxs)(l.a,{className:r,children:[Object(B.jsx)(l.a.Toggle,{variant:n||"secondary",disabled:o,children:K[n]}),Object(B.jsx)(l.a.Menu,{children:Object.entries(K).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(B.jsx)(l.a.Item,{className:"text-".concat(a),onClick:function(){return i({infusionAura:a})},children:n},a)}))})]}):null}function M(e){var t=e.character,a=t.reactionMode,n=void 0===a?null:a,c=t.infusionAura,i=e.build,r=e.characterDispatch,s=e.className,l=e.disabled,j=void 0!==l&&l;if(!i)return null;var u=i.characterEle;if(!["pyro","hydro","cryo"].includes(u)&&!["pyro","hydro","cryo"].includes(c))return null;var b=function(e){return e?"success":"secondary"};return Object(B.jsxs)(o.a,{className:s,type:"radio",name:"reactionMode",value:n,onChange:function(e){return r({reactionMode:"none"===e?null:e})},children:[Object(B.jsx)(d.a,{value:"none",variant:b(!n),disabled:j,children:"No Reactions"}),("pyro"===u||"pyro"===c)&&Object(B.jsx)(d.a,{value:"pyro_vaporize",variant:b("pyro_vaporize"===n),disabled:j,children:Object(B.jsxs)("span",{className:"text-vaporize",children:["Vaporize(Pyro) ",f.a.hydro,"+",f.a.pyro]})}),("pyro"===u||"pyro"===c)&&Object(B.jsx)(d.a,{value:"pyro_melt",variant:b("pyro_melt"===n),disabled:j,children:Object(B.jsxs)("span",{className:"text-melt",children:["Melt(Pyro) ",f.a.cryo,"+",f.a.pyro]})}),("hydro"===u||"hydro"===c)&&Object(B.jsx)(d.a,{value:"hydro_vaporize",variant:b("hydro_vaporize"===n),disabled:j,children:Object(B.jsxs)("span",{className:"text-vaporize",children:["Vaporize(Hydro) ",f.a.pyro,"+",f.a.hydro]})}),("cryo"===u||"cryo"===c)&&Object(B.jsx)(d.a,{value:"cryo_melt",variant:b("cryo_melt"===n),disabled:j,children:Object(B.jsxs)("span",{className:"text-melt",children:["Melt(Cryo) ",f.a.pyro,"+",f.a.cryo]})})]})}function F(e){var t=e.hitMode,a=e.characterDispatch,n=e.className,c=e.disabled,i=void 0!==c&&c,r=function(e){return e?"success":"secondary"};return Object(B.jsxs)(o.a,{type:"radio",value:t,name:"hitOptions",onChange:function(e){return a({hitMode:e})},className:n,children:[Object(B.jsx)(d.a,{value:"avgHit",variant:r("avgHit"===t),disabled:i,children:"Avg. DMG"}),Object(B.jsx)(d.a,{value:"hit",variant:r("hit"===t),disabled:i,children:"Non Crit DMG"}),Object(B.jsx)(d.a,{value:"critHit",variant:r("critHit"===t),disabled:i,children:"Crit Hit DMG"})]})}function T(e){var t=e.sheets,a=e.build,n=Object(s.useMemo)((function(){return a&&k.a.getDisplayStatKeys(a,t)}),[a,t]);return a?Object(B.jsx)("div",{children:Object.entries(n).map((function(e){var n=Object(c.a)(e,2),i=n[0],r=n[1],s=Object(C.a)(i,t,a.characterEle);return Object(B.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",className:"w-100 mb-2",children:[Object(B.jsx)(j.a.Header,{children:s}),Object(B.jsx)(j.a.Body,{className:"p-2",children:Object(B.jsx)(u.a,{className:"mb-n2",children:r.map((function(e,t){if(Array.isArray(e))return Object(B.jsx)(V,{fieldKeys:e,build:a,fieldIndex:t},t);if("string"===typeof e){var n=g.b.getPrintableFormulaStatKeyList(Object(y.a)(a,null===a||void 0===a?void 0:a.modifiers,[e]),null===a||void 0===a?void 0:a.modifiers).reverse();return Boolean(n.length)&&Object(B.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(B.jsx)(u.a.Toggle,{as:j.a.Header,className:"p-2 cursor-pointer",variant:"link",eventKey:"field".concat(t),children:g.b.printStat(e,a)}),Object(B.jsx)(u.a.Collapse,{eventKey:"field".concat(t),children:Object(B.jsx)(j.a.Body,{className:"p-2",children:Object(B.jsx)("div",{className:"mb-n2",children:n.map((function(e){return Object(B.jsxs)("p",{className:"mb-2",children:[g.b.printStat(e,a)," = ",Object(B.jsx)("small",{children:Object(B.jsx)(g.a,{statKey:e,stats:a,modifiers:a.modifiers,expand:!1})})]},e)}))})})})]},t)}return null}))})})]},i)}))}):null}function V(e){var t,a,n,i,r=e.fieldKeys,s=e.build,l=e.fieldIndex,o=Object(S.b)(p.a.get(r),[r]);if(!o)return null;var d=o.field,b=k.a.getTalentFieldValue(d,"text",s),h=k.a.getTalentFieldValue(d,"variant",s),O=k.a.getTalentFieldValue(d,"formulaText",s),x=null!==(t=k.a.getTalentFieldValue(d,"fixed",s))&&void 0!==t?t:0,m=null!==(a=k.a.getTalentFieldValue(d,"unit",s))&&void 0!==a?a:"",v=k.a.getTalentFieldValue(d,"formula",s,[]),f=Object(c.a)(v,2),N=f[0],C=f[1];if(!N||!C)return null;var w=null===N||void 0===N||null===(n=N(s))||void 0===n||null===(i=n.toFixed)||void 0===i?void 0:i.call(n,x),K=g.b.getPrintableFormulaStatKeyList(Object(y.a)(s,null===s||void 0===s?void 0:s.modifiers,C),null===s||void 0===s?void 0:s.modifiers).reverse();return Object(B.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(B.jsxs)(u.a.Toggle,{as:j.a.Header,className:"p-2 cursor-pointer",variant:"link",eventKey:"field".concat(l),children:[Object(B.jsx)("b",{className:"text-".concat(h),children:b})," ",Object(B.jsxs)("span",{className:"text-info",children:[w,m]})]}),Object(B.jsx)(u.a.Collapse,{eventKey:"field".concat(l),children:Object(B.jsx)(j.a.Body,{className:"p-2",children:Object(B.jsxs)("div",{className:"mb-n2",children:[Object(B.jsxs)("p",{className:"mb-2",children:[Object(B.jsx)("b",{className:"text-".concat(h),children:b})," ",Object(B.jsx)("span",{className:"text-info",children:w})," = ",Object(B.jsx)("small",{children:O})]}),K.map((function(e){return Object(B.jsxs)("p",{className:"mb-2",children:[g.b.printStat(e,s)," = ",Object(B.jsx)("small",{children:Object(B.jsx)(g.a,{statKey:e,stats:s,modifiers:s.modifiers,expand:!1})})]},e)}))]})})})]})}var E=function(e){var t=e.eventKey,a=e.callback,n=Object(s.useContext)(b.a),c=Object(m.b)(t,(function(){return a&&a(t)})),l=n===t;return Object(B.jsxs)(h.a,{onClick:c,variant:"info",children:[Object(B.jsx)(r.a,{icon:l?i.J:i.I,className:"fa-fw ".concat(l?"fa-rotate-180":"")}),Object(B.jsx)("span",{children:" "}),l?"Retract":"Expand"]})};function D(e){var t=e.sheets,a=e.sheets,c=a.characterSheet,l=a.weaponSheet,o=e.character,d=e.character.hitMode,b=e.characterDispatch,m=e.className,f=Object(s.useContext)(v.a),p=f.newBuild,y=f.equippedBuild,S=p||y;return Object(B.jsxs)("div",{className:m,children:[Object(B.jsx)(j.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(B.jsx)(j.a.Header,{children:Object(B.jsxs)(O.a,{className:"mb-n2",children:[Object(B.jsx)(x.a,{xs:"auto",children:Object(B.jsx)(A,{characterSheet:c,character:o,characterDispatch:b,className:"mb-2"})}),Object(B.jsx)(x.a,{xs:"auto",children:Object(B.jsx)(F,{hitMode:d,characterDispatch:b,className:"mb-2"})}),Object(B.jsx)(x.a,{xs:"auto",children:Object(B.jsx)(M,{character:o,build:S,characterDispatch:b,className:"mb-2"})})]})})}),Object(B.jsx)(u.a,{children:Object(B.jsxs)(j.a,{bg:"lightcontent",text:"lightfont",children:[Object(B.jsx)(j.a.Header,{children:Object(B.jsxs)(O.a,{children:[Object(B.jsxs)(x.a,{children:[Object(B.jsx)("span",{className:"d-block",children:"Damage Calculation Options & Formulas"}),Object(B.jsx)("small",{children:"Expand below to edit enemy details and view calculation details."})]}),Object(B.jsx)(x.a,{xs:"auto",children:Object(B.jsx)(E,{callback:void 0,as:h.a,eventKey:"details"})})]})}),Object(B.jsx)(u.a.Collapse,{eventKey:"details",children:Object(B.jsxs)(j.a.Body,{className:"p-2",children:[Object(B.jsxs)(j.a,{className:"mb-2",bg:"darkcontent",text:"lightfont",children:[Object(B.jsx)(j.a.Header,{children:Object(B.jsxs)(O.a,{children:[Object(B.jsx)(x.a,{children:"Enemy Editor"}),Object(B.jsx)(x.a,{xs:"auto",children:Object(B.jsx)(h.a,{variant:"warning",size:"sm",children:Object(B.jsx)("a",{href:"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})})]})}),Object(B.jsx)(j.a.Body,{className:"p-2",children:Object(B.jsxs)(O.a,{children:[Object(B.jsx)(x.a,{xs:12,xl:6,className:"mb-2",children:Object(B.jsx)(w.a,{name:Object(B.jsx)("b",{children:"Enemy Level"}),value:k.a.getStatValueWithOverride(o,c,l,"enemyLevel"),placeholder:g.b.getStatNameRaw("enemyLevel"),defaultValue:k.a.getBaseStatValue(o,c,l,"enemyLevel"),onValueChange:function(e){return b({type:"statOverride",statKey:"enemyLevel",value:e})}})}),["physical"].concat(Object(n.a)(N.d)).map((function(e){var t="".concat(e,"_enemyRes_"),a="".concat(e,"_enemyImmunity"),n=k.a.getStatValueWithOverride(o,c,l,a);return Object(B.jsx)(x.a,{xs:12,xl:6,className:"mb-2",children:Object(B.jsx)(w.a,{prependEle:Object(B.jsxs)(h.a,{variant:e,onClick:function(){return b({type:"statOverride",statKey:a,value:!n})},className:"text-darkcontent",children:[Object(B.jsx)(r.a,{icon:n?i.f:i.z,className:"fa-fw"})," Immunity"]}),name:Object(B.jsx)("b",{children:g.b.getStatName(t)}),value:k.a.getStatValueWithOverride(o,c,l,t),placeholder:g.b.getStatNameRaw(t),defaultValue:k.a.getBaseStatValue(o,c,l,t),onValueChange:function(e){return b({type:"statOverride",statKey:t,value:e})},disabled:n,percent:!0})},e)})),Object(B.jsx)(x.a,{xs:12,children:Object(B.jsx)("small",{children:"Note: for negative resistances due to resistance shred like Zhongli's shield (e.g. -10%), enter the RAW value (-10). GO will half the value for you in the calculations."})})]})})]}),Object(B.jsx)(T,{sheets:t,build:S})]})})]})})]})}},226:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(2),c=a(119),i=a(70),r=a(186),s=a(213),l=a(205),o=a(1);function d(e){var t=e.sheets,a=e.sheets,d=a.characterSheet,j=a.weaponSheet,u=e.character,b=e.equippedBuild,h=e.newBuild,O=e.statsDisplayKeys,x=e.cardbg,m=void 0===x?"darkcontent":x,v=h||b;return Object(o.jsx)(c.a,{className:"mb-n2",children:Object.entries(O).map((function(e){var a=Object(n.a)(e,2),O=a[0],x=a[1],f=Object(l.a)(O,t,null===v||void 0===v?void 0:v.characterEle);return Object(o.jsx)(i.a,{className:"mb-2",xs:12,md:6,xl:4,children:Object(o.jsxs)(r.a,{bg:m,text:"lightfont",className:"h-100",children:[Object(o.jsx)(r.a.Header,{children:f}),Object(o.jsx)(r.a.Body,{children:Object(o.jsx)(c.a,{children:x.map((function(e){return Object(o.jsx)(s.a,{characterSheet:d,weaponSheet:j,character:u,equippedBuild:b,newBuild:h,statKey:e},JSON.stringify(e))}))})})]})},O)}))})}},241:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(14),c=a(2),i=a(29),r=a(10),s=a(0),l=a(140),o=a(185),d=a(113),j=a(186),u=a(70),b=a(119),h=a(40),O=a(111),x=a(206),m=a(202),v=a(112),f=a(45),p=a(33),g=a(82),y=a(116),N=a(201),S=a(114),k=a(1);function C(e){var t,a=e.characterKey,C=e.onEdit,w=e.onDelete,B=e.cardClassName,K=void 0===B?"":B,A=e.bg,M=void 0===A?"":A,F=e.header,T=e.footer,V=void 0!==T&&T,E=Object(s.useContext)(f.b),D=Object(s.useState)(void 0),I=Object(c.a)(D,2),H=I[0],z=I[1];Object(s.useEffect)((function(){return a?E.followChar(a,z):void 0}),[a,z,E]);var P=Object(g.b)(O.a.getAll(),[]),_=H,q=Object(g.b)(S.b.get(a),[a]),L=(null===_||void 0===_?void 0:_.equippedWeapon)?E._getWeapon(_.equippedWeapon):void 0,W=Object(g.b)(L?y.a.get(L.key):void 0,[null===L||void 0===L?void 0:L.key]),R=Object(s.useMemo)((function(){return _&&q&&W&&P&&N.a.calculateBuild(_,E,q,W,P)}),[_,q,W,P,E]);if(!_||!L||!q||!W||!R)return null;var G=_.constellation,U=L.level,J=L.ascension,Y=R.tlvl,Z=q.name,Q=R.characterEle,X=q.weaponTypeKey,$=null===W||void 0===W?void 0:W.name,ee=W.getMainStatValue(U,J).toFixed(p.b.fixedUnit("atk")),te=W.getSubStatKey(),ae=W.getSubStatValue(U,J).toFixed(p.b.fixedUnit(te)),ne=y.a.getLevelString(L),ce=null===W||void 0===W?void 0:W.passiveName;return Object(k.jsxs)(j.a,{className:K,bg:M||"darkcontent",text:"lightfont",children:[Object(k.jsx)(j.a.Header,{className:"pr-2",children:Object(k.jsxs)(b.a,{className:"no-gutters",children:[Object(k.jsx)(u.a,{children:F||Object(k.jsx)("h5",{children:Object(k.jsx)("b",{children:Z})})}),Object(k.jsx)(u.a,{xs:"auto",children:Object(k.jsxs)("span",{className:"float-right align-top ml-1",children:[C&&Object(k.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return C(a)},children:Object(k.jsx)(r.a,{icon:i.k})}),w&&Object(k.jsx)(d.a,{variant:"danger",size:"sm",onClick:function(){return w(a)},children:Object(k.jsx)(r.a,{icon:i.E})})]})})]})}),Object(k.jsxs)(j.a.Body,{onClick:function(){return null===C||void 0===C?void 0:C(a)},className:C?"cursor-pointer":"",children:[Object(k.jsxs)(b.a,{children:[Object(k.jsx)(u.a,{xs:"auto",className:"pr-0",children:Object(k.jsx)(l.a,{src:q.thumbImg,className:"thumb-big grad-".concat(q.star,"star p-0"),thumbnail:!0})}),Object(k.jsxs)(u.a,{children:[Object(k.jsxs)("h5",{className:"mb-0",children:["Lv. ",N.a.getLevelString(_)," ","C".concat(G)]}),Object(k.jsxs)("h6",{className:"mb-0",children:[Object(k.jsx)(o.a,{variant:"secondary",children:Object(k.jsx)("strong",{className:"mx-1",children:Y.auto+1})})," ",Object(k.jsx)(o.a,{variant:"secondary",children:Object(k.jsx)("strong",{className:"mx-1",children:Y.skill+1})})," ",Object(k.jsx)(o.a,{variant:"secondary",children:Object(k.jsx)("strong",{className:"mx-1",children:Y.burst+1})})]}),Object(k.jsx)("h6",{className:"mb-0",children:Object(k.jsx)(m.a,{stars:q.star,colored:!0})}),Object(k.jsxs)("h3",{className:"mb-0",children:[v.a[Q]," ",Object(k.jsx)(l.a,{src:null===(t=x.a.weaponTypes)||void 0===t?void 0:t[X],className:"inline-icon"})]})]})]}),Object(k.jsx)(b.a,{className:"mb-2",children:Object(k.jsxs)(u.a,{children:[Object(k.jsxs)("h6",{className:"mb-0",children:[$,ce&&Object(k.jsx)(o.a,{variant:"info",className:"ml-1",children:L.refine})," ",ne]}),Object(k.jsxs)("span",{children:["ATK: ",ee,"  ",ce&&Object(k.jsxs)("span",{children:[p.b.getStatName(te),": ",ae,p.b.getStatUnit(te)]})]})]})}),Object(k.jsx)(b.a,{children:Object(k.jsx)(u.a,{children:P&&Object.entries(O.a.setEffects(P,R.setToSlots)).map((function(e){var t,a=Object(c.a)(e,2),i=a[0],r=a[1],s=null!==(t=null===P||void 0===P?void 0:P[i].name)&&void 0!==t?t:"",l=Math.max.apply(Math,Object(n.a)(r));return Object(k.jsx)("h5",{children:Object(k.jsxs)(o.a,{variant:"secondary",children:[s," ",Object(k.jsx)(o.a,{variant:"success",children:l})]})},i)}))})}),Object(k.jsx)(b.a,{children:["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","enerRech_"].map((function(e){var t=p.b.getStatUnit(e),a=R[e];return Object(k.jsxs)(u.a,{xs:12,children:[Object(k.jsxs)("h6",{className:"d-inline",children:[v.a[e]," ",p.b.getStatName(e)]}),Object(k.jsx)("span",{className:"float-right",children:(null===a||void 0===a?void 0:a.toFixed(p.b.fixedUnit(e)))+t})]},e)}))})]}),V&&Object(k.jsx)(j.a.Footer,{children:Object(k.jsxs)(b.a,{children:[Object(k.jsx)(u.a,{children:Object(k.jsxs)(d.a,{as:h.b,to:{pathname:"/build",characterKey:a},children:[Object(k.jsx)(r.a,{icon:i.d})," Generate Builds"]})}),Object(k.jsx)(u.a,{children:Object(k.jsxs)(d.a,{variant:"info",as:h.b,to:{pathname:"/flex",characterKey:a},children:[Object(k.jsx)(r.a,{icon:i.r})," Share Character"]})})]})})]})}},243:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=a(11);function c(e){var t=e%1e3,a=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:n,seconds:a,milliseconds:t}}function i(e){var t=c(e),a=t.hours,i=t.minutes,r=t.seconds,s="Minutes";return a&&(s="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.p)(i,"0",2),":").concat(Object(n.p)(r,"0",2)," ").concat(s)}function r(e){var t=c(e),a=t.hours,i=t.minutes,r=t.seconds,s=t.milliseconds,l="Minutes";return a&&(l="Hours"),"".concat(a?"".concat(a,":"):"").concat(Object(n.p)(i,"0",2),":").concat(Object(n.p)(r,"0",2),".").concat(Object(n.p)(s,"0",3)," ").concat(l)}},364:function(e,t,a){"use strict";var n=a(3),c=a(5),i=a(7),r=a.n(i),s=a(0),l=a.n(s),o=a(9),d=a(237),j=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],u=["isChild"],b=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"];function h(e,t,a){var n=(e-t)/(a-t)*100;return Math.round(1e3*n)/1e3}function O(e,t){var a,i=e.min,s=e.now,o=e.max,d=e.label,u=e.srOnly,b=e.striped,O=e.animated,x=e.className,m=e.style,v=e.variant,f=e.bsPrefix,p=Object(c.a)(e,j);return l.a.createElement("div",Object(n.a)({ref:t},p,{role:"progressbar",className:r()(x,f+"-bar",(a={},a["bg-"+v]=v,a[f+"-bar-animated"]=O,a[f+"-bar-striped"]=O||b,a)),style:Object(n.a)({width:h(s,i,o)+"%"},m),"aria-valuenow":s,"aria-valuemin":i,"aria-valuemax":o}),u?l.a.createElement("span",{className:"sr-only"},d):d)}var x=l.a.forwardRef((function(e,t){var a=e.isChild,i=Object(c.a)(e,u);if(i.bsPrefix=Object(o.a)(i.bsPrefix,"progress"),a)return O(i,t);var j=i.min,h=i.now,x=i.max,m=i.label,v=i.srOnly,f=i.striped,p=i.animated,g=i.bsPrefix,y=i.variant,N=i.className,S=i.children,k=Object(c.a)(i,b);return l.a.createElement("div",Object(n.a)({ref:t},k,{className:r()(N,g)}),S?Object(d.a)(S,(function(e){return Object(s.cloneElement)(e,{isChild:!0})})):O({min:j,now:h,max:x,label:m,srOnly:v,striped:f,animated:p,bsPrefix:g,variant:y},t))}));x.displayName="ProgressBar",x.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},t.a=x},553:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return je}));var n=a(68),c=a(13),i=a(46),r=a.n(i),s=a(57),l=a(2),o=a(14),d=a(8),j=a(29),u=a(10),b=a(0),h=a.n(b),O=a(184),x=a(288),m=a(187),v=a(119),f=a(70),p=a(186),g=a(113),y=a(185),N=a(231),S=a(215),k=a(211),C=a(331),w=a(545),B=a(140),K=a(216),A=a(196),M=a(364),F=a(48);function T(){return new Worker(a.p+"static/js/BuildWorker.61169781.worker.js")}var V=a(69),E=a(111),D=a(223),I=a(120),H=a(201),z=a(241),P=a(224),_=a(226),q=a(114),L=a(205),W=a(210),R=a(203),G=a(220),U=a(202),J=a(112),Y=a(45),Z=a(34),Q=a(67),X=a(33),$=a(16),ee=a(82),te=a(243),ae=a(11),ne=a(116),ce=a(97),ie=a(59),re=a(1),se=h.a.lazy((function(){return a.e(25).then(a.bind(null,552))})),le=Object(b.lazy)((function(){return a.e(3).then(a.bind(null,278))})),oe=1e7,de=["sands","goblet","circlet"];function je(e){var t,a=e.location.characterKey,n=Object(b.useContext)(Y.b),i=Object(b.useState)((function(){var e,t=(null!==(e=Z.b.get("BuildsDisplay.state"))&&void 0!==e?e:{}).characterKey;return null!==a&&void 0!==a?a:void 0===t?"":t})),h=Object(l.a)(i,2),w=h[0],B=h[1],K=Object(b.useState)(-1),A=Object(l.a)(K,2),M=A[0],P=A[1],_=Object(b.useState)(!1),R=Object(l.a)(_,2),U=R[0],te=R[1],le=Object(b.useState)(!1),je=Object(l.a)(le,2),Oe=je[0],pe=je[1],ye=Object(b.useState)(!1),Ne=Object(l.a)(ye,2),Se=Ne[0],ke=Ne[1],Ce=Object(b.useState)(0),we=Object(l.a)(Ce,2),Be=we[0],Ke=we[1],Ae=Object(b.useState)(0),Me=Object(l.a)(Ae,2),Fe=Me[0],Te=Me[1],Ve=Object(b.useState)(0),Ee=Object(l.a)(Ve,2),De=Ee[0],Ie=Ee[1],He=Object(ee.a)(),ze=Object(l.a)(He,2),Pe=ze[0],_e=ze[1],qe=Object(ee.b)(E.a.getAll(),[]),Le=Object(ee.a)(),We=Object(l.a)(Le,2),Re=We[0],Ge=We[1],Ue=Object(b.useRef)(!1),Je=Object(b.useRef)(null),Ye=Object(b.useState)({}),Ze=Object(l.a)(Ye,2),Qe=Ze[0],Xe=Qe.character,$e=Qe.characterSheet,et=Qe.weaponSheet,tt=Qe.initialStats,at=Qe.statsDisplayKeys,nt=Ze[1],ct=Object(b.useMemo)((function(){var e;return null!==(e=null===Xe||void 0===Xe?void 0:Xe.buildSettings)&&void 0!==e?e:Object(ie.a)()}),[Xe]),it=ct.setFilters,rt=ct.statFilters,st=ct.mainStatKeys,lt=ct.optimizationTarget,ot=ct.mainStatAssumptionLevel,dt=ct.useExcludedArts,jt=ct.useEquippedArts,ut=ct.builds,bt=ct.buildDate,ht=ct.maxBuildsToShow;tt&&(tt.mainStatAssumptionLevel=ot);var Ot=Object(b.useMemo)((function(){return tt&&qe?ut.map((function(e){var t=Object.fromEntries(e.map((function(e){return n._getArt(e)})).map((function(e){return[null===e||void 0===e?void 0:e.slotKey,e]})));return H.a.calculateBuildwithArtifact(tt,t,qe)})).filter((function(e){return e})):[]}),[ut,n,tt,qe]),xt=Object(b.useCallback)((function(e){Xe&&(Xe.buildSettings=function(e,t){switch(t.type){case"mainStatKey":var a=t.slotKey,n=t.mainStatKey,c=Object(d.a)({},e.mainStatKeys);return e.mainStatKeys[a].includes(n)?c[a]=c[a].filter((function(e){return e!==n})):c[a].push(n),Object(d.a)(Object(d.a)({},e),{},{mainStatKeys:c});case"mainStatKeyReset":var i=t.slotKey,r=Object(d.a)({},e.mainStatKeys);return r[i]=[],Object(d.a)(Object(d.a)({},e),{},{mainStatKeys:r});case"setFilter":var s=t.index,l=t.key,j=t.num,u=void 0===j?0:j;return e.setFilters[s]={key:l,num:u},Object(d.a)(Object(d.a)({},e),{},{setFilters:Object(o.a)(e.setFilters)})}return Object(d.a)(Object(d.a)({},e),t)}(ct,e),n.updateChar(Xe))}),[Xe,ct,n]);Object(b.useEffect)((function(){return F.a.pageview("/build")}),[]);var mt=Object(b.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";w!==e&&(B(e),_e(),nt({}))}),[_e,B,w]);Object(b.useEffect)((function(){Object(s.a)(r.a.mark((function e(){var t,a,c,i,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w&&qe){e.next=2;break}return e.abrupt("return");case 2:if(t=n._getChar(w)){e.next=5;break}return e.abrupt("return",mt(""));case 5:return e.next=7,q.b.get(w);case 7:if(a=e.sent,c=n._getWeapon(t.equippedWeapon)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,ne.a.get(c.key);case 13:if(i=e.sent,a&&i){e.next=16;break}return e.abrupt("return");case 16:s=H.a.createInitialStats(t,n,a,i),l=H.a.getDisplayStatKeys(s,{characterSheet:a,weaponSheet:i,artifactSheets:qe}),nt({character:t,characterSheet:a,weaponSheet:i,initialStats:s,statsDisplayKeys:l});case 19:case"end":return e.stop()}}),e)})))()}),[Pe,w,qe,n,mt]),Object(b.useEffect)((function(){return n.followAnyArt(Ge)}),[Ge,n]),Object(b.useEffect)((function(){return w?n.followChar(w,_e):void 0}),[w,_e,n]),Object(b.useEffect)((function(){return function(){var e;return null===(e=Je.current)||void 0===e?void 0:e.terminate()}}),[]),Object(b.useEffect)((function(){Ue.current?Z.b.set("BuildsDisplay.state",{characterKey:w}):Ue.current=!0}),[w]),Object(b.useEffect)((function(){if(at&&Array.isArray(lt)){for(var e in at){var t,a=at[e],n=Object(c.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(JSON.stringify(i)===JSON.stringify(lt))return}}catch(r){n.e(r)}finally{n.f()}}xt({optimizationTarget:Object(ie.a)().optimizationTarget})}}),[lt,at,xt]);var vt=Object(b.useMemo)((function(){if(!w)return{split:Object(ae.o)($.h,(function(){return[]})),totBuildNumber:0};var e=n._getArts().filter((function(e){return e.location===w||!(e.exclude&&!dt)&&!(e.location&&!jt)})),t=V.a.splitArtifactsBySlot(e);de.forEach((function(e){var a;return st[e].length&&(t[e]=null===(a=t[e])||void 0===a?void 0:a.filter((function(t){return st[e].includes(t.mainStatKey)})))}));var a=Object(ce.b)(t,it);return Re&&{split:t,totBuildNumber:a}}),[w,dt,jt,st,it,Re,n]),ft=vt.split,pt=vt.totBuildNumber,gt=Object(b.useCallback)((function(){var e;if(tt&&qe){ke(!0),Te(0),Ke(0),Ie(0);var t=V.a.setEffectsObjs(qe,tt),a=Object(ae.d)(ft);Object.values(a).forEach((function(e){e.forEach((function(e){var t;e.mainStatVal=null!==(t=V.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(ot,4*e.rarity),e.level)))&&void 0!==t?t:0}))}));var n={splitArtifacts:a,initialStats:tt,artifactSetEffects:t,setFilters:it,minFilters:rt,maxBuildsToShow:ht,optimizationTarget:lt};null===(e=Je.current)||void 0===e||e.terminate(),Je.current=new T,Je.current.onmessage=function(e){var t;if("number"===typeof e.data.progress){var a=e.data,n=a.progress,c=a.timing,i=void 0===c?0:c,r=a.skipped,s=void 0===r?0:r;return Ke(n),Te(i),void Ie(s)}F.a.timing({category:"Build Generation",variable:"timing",value:e.data.timing,label:pt.toString()});var l=e.data.builds.map((function(e){return Object.values(e.artifacts).map((function(e){return e.id}))}));xt({builds:l,buildDate:Date.now()}),ke(!1),null===(t=Je.current)||void 0===t||t.terminate(),Je.current=null},Je.current.postMessage(n)}}),[qe,ft,pt,ot,tt,ht,lt,it,rt,xt]),yt=Object(b.useCallback)((function(e,t){return qe&&E.a.setsWithMaxRarity(qe,e).map((function(e){var a,n,c=Object(l.a)(e,2),i=c[0],r=c[1];if(it.some((function(e){return e.key===i})))return!1;var s=Object.keys(null!==(a=null===qe||void 0===qe||null===(n=qe[i])||void 0===n?void 0:n.setEffects)&&void 0!==a?a:{}),o=it.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!s.every((function(e){return parseInt(e)+o>5}))&&Object(re.jsx)(O.a.Item,{onClick:function(){var e;return xt({type:"setFilter",index:t,key:i,num:null!==(e=parseInt(s[0]))&&void 0!==e?e:0})},children:r.nameWithIcon},i)}))}),[it,xt,qe]),Nt=null!==(t=null===$e||void 0===$e?void 0:$e.name)&&void 0!==t?t:"Character Name",St=Object(b.useMemo)((function(){return Object(re.jsxs)(x.a,{title:Nt,disabled:Se,children:[Object(re.jsx)(O.a.Item,{onClick:function(){return mt("")},children:"Unselect Character"}),Object(re.jsx)(O.a.Divider,{}),Object(re.jsx)(W.b,{onSelect:function(e){return mt(e)}})]})}),[Nt,Se,mt]),kt=Object(ee.b)(Array.isArray(lt)?Q.a.get(lt):void 0,[lt]),Ct=Object(b.useMemo)((function(){if(!Array.isArray(lt))return Object(re.jsxs)("b",{children:["Basic Stat: ",Object(re.jsx)("span",{className:"text-".concat(X.b.getStatVariant(lt)),children:X.b.getStatNameWithPercent(lt)})]});if(!kt)return null;var e,t=kt.keys,a=Object(l.a)(t,3),n=a[0],c=a[2],i=kt.field,r=H.a.getTalentFieldValue(i,"variant",tt),s=H.a.getTalentFieldValue(i,"text",tt);return"character"===n?("normal"!==c&&"charged"!==c&&"plunging"!==c||(c="auto"),Object(re.jsxs)("b",{children:[null===$e||void 0===$e||null===(e=$e.getTalentOfKey(c,null===tt||void 0===tt?void 0:tt.characterEle))||void 0===e?void 0:e.name,": ",Object(re.jsx)("span",{className:"text-".concat(r),children:s})]})):"weapon"===n?Object(re.jsxs)("b",{children:[null===et||void 0===et?void 0:et.name,": ",Object(re.jsx)("span",{className:"text-".concat(r),children:s})]}):void 0}),[lt,kt,tt,$e,et]),wt=it.reduce((function(e,t){return t.key?e+t.num:e}),0),Bt=Object(b.useMemo)((function(){var e,t=0;return Object(ae.c)(null===tt||void 0===tt||null===(e=tt.conditionalValues)||void 0===e?void 0:e.artifact,[],(function(e){return Array.isArray(e)}),(function(){return t++})),t}),[null===tt||void 0===tt?void 0:tt.conditionalValues]),Kt=Object(b.useCallback)((function(e){return n.updateChar(Object(d.a)(Object(d.a)({},Xe),e))}),[Xe,n]);return Object(re.jsxs)(m.a,{className:"mt-2",children:[" ",Object(re.jsxs)(ce.a.Provider,{value:{equippedBuild:tt},children:[Object(re.jsx)(G.a,{pageKey:"buildPage",modalTitle:"Character Management Page Guide",text:["For self-infused attacks, like Noelle's Sweeping Time, enable the skill in the talent page.","You can compare the difference between equipped artifacts and generated builds.","The more complex the formula, the longer the generation time."],children:Object(re.jsx)(se,{})}),Object(re.jsx)(be,{build:Ot[M],showCharacterModal:Oe,characterKey:w,selectCharacter:mt,close:function(){P(-1),pe(!1)}}),!!tt&&Object(re.jsx)(he,{showArtCondModal:U,setshowArtCondModal:te,initialStats:tt,characterDispatch:Kt,artifactCondCount:Bt}),Object(re.jsx)(v.a,{className:"mt-2 mb-2",children:Object(re.jsx)(f.a,{children:Object(re.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:"Build Generator"}),Object(re.jsxs)(p.a.Body,{children:[Object(re.jsxs)(v.a,{children:[Object(re.jsxs)(f.a,{xs:12,lg:6,children:[w?Object(re.jsx)(z.a,{header:St,characterKey:w,bg:"lightcontent",cardClassName:"mb-2",onEdit:Se?void 0:function(){return pe(!0)}}):Object(re.jsx)(p.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(re.jsx)(p.a.Header,{children:St})}),$e&&Xe&&tt&&Object(re.jsx)(xe,{build:tt,characterSheet:$e,className:"mb-2",character:Xe,disabled:Se}),!!at&&Object(re.jsx)(me,{className:"mb-2",statFilters:rt,statKeys:null===at||void 0===at?void 0:at.basicKeys,setStatFilters:function(e){return xt({statFilters:e})},disabled:Se})]}),Object(re.jsx)(f.a,{xs:12,lg:6,children:Object(re.jsxs)(v.a,{children:[Object(re.jsx)(f.a,{className:"mb-2",xs:12,children:Object(re.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(re.jsx)(p.a.Body,{children:Object(re.jsx)(g.a,{className:"w-100",onClick:function(){return te(!0)},disabled:Se,children:Object(re.jsxs)("span",{children:["Default Artifact Set Effects ",Boolean(Bt)&&Object(re.jsxs)(y.a,{variant:"success",children:[Bt," Selected"]})]})})})})}),it.map((function(e,t){var a,n,c,i,r,s=e.key,l=e.num;return Object(re.jsx)(f.a,{className:"mb-2",xs:12,children:Object(re.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(N.a,{children:[Object(re.jsxs)(x.a,{as:N.a,title:null!==(a=null===qe||void 0===qe||null===(n=qe[s])||void 0===n?void 0:n.nameWithIcon)&&void 0!==a?a:"Artifact Set Filter",disabled:Se,children:[Object(re.jsx)(O.a.Item,{onClick:function(){return xt({type:"setFilter",index:t,key:""})},children:"Unselect Artifact"}),Object(re.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),yt(5,t),Object(re.jsx)(O.a.Divider,{}),Object(re.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),yt(4,t),Object(re.jsx)(O.a.Divider,{}),Object(re.jsx)(O.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),yt(3,t)]}),Object(re.jsx)(x.a,{as:N.a,title:"".concat(l,"-set"),disabled:Se||!s||wt>=5,children:!!tt&&Object.keys(null!==(c=null===qe||void 0===qe||null===(i=qe[s])||void 0===i?void 0:i.setEffects)&&void 0!==c?c:{}).map((function(e){var a=it.reduce((function(e,t){return t.key&&t.key!==s?e+t.num:e}),0);return parseInt(e)+a<=5&&Object(re.jsx)(O.a.Item,{onClick:function(){return xt({type:"setFilter",index:t,key:it[t].key,num:parseInt(e)})},children:"".concat(e,"-set")},e)}))})]})}),s?Object(re.jsx)(p.a.Body,{children:Object(re.jsx)(v.a,{className:"mb-n2",children:!!tt&&Object.keys(null!==(r=null===qe||void 0===qe?void 0:qe[s].setEffects)&&void 0!==r?r:{}).map((function(e){return parseInt(e)})).filter((function(e){return e<=l})).map((function(e){return Object(re.jsx)(D.a,{newBuild:void 0,setKey:s,setNumKey:e,equippedBuild:tt,characterDispatch:Kt,editable:!0},s+e)}))})}):null]})},t)})),Object(re.jsx)(f.a,{className:"mb-2",xs:12,children:Object(re.jsx)(p.a,{bg:"lightcontent",text:"lightfont",children:Object(re.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(re.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return xt({useEquippedArts:!jt})},disabled:Se,children:Object(re.jsxs)("span",{children:[Object(re.jsx)(u.a,{icon:jt?j.f:j.z})," Use Equipped Artifacts"]})}),Object(re.jsx)(g.a,{className:"w-100 mb-2",onClick:function(){return xt({useExcludedArts:!dt})},disabled:Se,children:Object(re.jsxs)("span",{children:[Object(re.jsx)(u.a,{icon:dt?j.f:j.z})," Use Excluded Artifacts"]})})]})})}),Object(re.jsx)(f.a,{className:"mb-2",xs:12,children:Object(re.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(v.a,{children:[Object(re.jsx)(f.a,{children:"Artifact Main Stat"}),Object(re.jsx)(f.a,{xs:"auto",children:Object(re.jsx)(ge,{mainStatAssumptionLevel:ot,setmainStatAssumptionLevel:function(e){return xt({mainStatAssumptionLevel:e})},disabled:Se})})]})}),Object(re.jsx)(p.a.Body,{className:"mb-n2",children:de.map((function(e){var t=st[e].length;return Object(re.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:[Object(re.jsx)(p.a.Header,{className:"p-2",children:Object(re.jsxs)(v.a,{children:[Object(re.jsx)(f.a,{className:"ml-2",children:Object(re.jsx)(I.b,{slotKey:e})}),Object(re.jsxs)(f.a,{xs:"auto",children:[Object(re.jsx)(y.a,{variant:"info",children:t?"".concat(t," Selected"):"Any"}),Object(re.jsx)(g.a,{variant:"danger",size:"sm",className:"py-0 px-1 ml-2",disabled:!st[e].length,onClick:function(){return xt({type:"mainStatKeyReset",slotKey:e})},children:Object(re.jsx)(u.a,{icon:j.F})})]})]})}),Object(re.jsx)(p.a.Body,{className:"p-0",children:Object(re.jsx)(v.a,{className:"no-gutters",children:V.a.slotMainStats(e).map((function(t,a){var n=st[e].includes(t);return Object(re.jsx)(f.a,{xs:a<3?4:6,children:Object(re.jsxs)(g.a,{className:"w-100 rounded-0",size:"sm",variant:n?"success":"secondary",disabled:Se,onClick:function(){return xt({type:"mainStatKey",slotKey:e,mainStatKey:t})},children:[J.a[t]," ",X.b.getStatNameWithPercent(t,"",!1)]})},t)}))})})]},e)}))})]})})]})})]}),Object(re.jsxs)(v.a,{className:"d-flex justify-content-between mb-2",children:[Object(re.jsx)(f.a,{xs:"auto",children:Object(re.jsxs)(N.a,{children:[Object(re.jsx)(g.a,{className:"h-100",disabled:!w||Se,variant:w&&pt<=oe?"success":"warning",onClick:gt,children:Object(re.jsx)("span",{children:"Generate"})}),Object(re.jsxs)(O.a,{as:N.a,children:[Object(re.jsx)(S.a,{overlay:Object(re.jsx)(k.a,{id:"max-build-tooltip",children:"Decreasing the number of generated build will decrease build calculation time for large number of builds."}),children:Object(re.jsxs)(O.a.Toggle,{disabled:Se,children:[Object(re.jsx)("b",{children:ht})," ",1===ht?"Build":"Builds"]})}),Object(re.jsx)(O.a.Menu,{children:ce.f.map((function(e){return Object(re.jsxs)(O.a.Item,{onClick:function(){return xt({maxBuildsToShow:e})},children:[e," ",1===e?"Build":"Builds"]},e)}))})]}),Object(re.jsx)(g.a,{className:"h-100",disabled:!Se,variant:"danger",onClick:function(){Je.current&&(Je.current.terminate(),Je.current=null,ke(!1),Te(0),Ke(0),Ie(0))},children:Object(re.jsx)("span",{children:"Cancel"})})]})}),Object(re.jsx)(f.a,{xs:"auto",children:Object(re.jsxs)(O.a,{as:N.a,drop:"up",children:[Object(re.jsx)(O.a.Toggle,{disabled:Se,variant:"light",children:Object(re.jsxs)("span",{children:["Optimization Target: ",Ct]})}),Object(re.jsx)(O.a.Menu,{align:"right",style:{minWidth:"40rem"},children:Object(re.jsx)(v.a,{children:!!at&&Object.entries(at).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],c=$e&&et&&qe?Object(L.a)(a,{characterSheet:$e,weaponSheet:et,artifactSheets:qe},null===tt||void 0===tt?void 0:tt.characterEle):a;return Object(re.jsxs)(f.a,{xs:12,md:6,children:[Object(re.jsx)(O.a.Header,{style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(re.jsx)("b",{children:c})}),n.map((function(e,t){return Array.isArray(e)?Object(re.jsx)(ue,{target:e,buildSettingsDispatch:xt,initialStats:tt},t):"string"===typeof e?Object(re.jsx)(O.a.Item,{onClick:function(){return xt({optimizationTarget:e})},children:X.b.getStatNameWithPercent(e)},t):null}))]},a)}))})})]})})]}),Object(re.jsx)(v.a,{className:"",children:Object(re.jsx)(f.a,{children:!!w&&Object(re.jsx)(fe,{totBuildNumber:pt,generatingBuilds:Se,generationSkipped:De,generationProgress:Be,generationDuration:Fe,characterName:Nt,maxBuildsToShow:ht})})})]})]})})}),Object(re.jsx)(v.a,{className:"mb-2",children:Object(re.jsx)(f.a,{children:Object(re.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsx)(v.a,{children:Object(re.jsx)(f.a,{children:Ot?Object(re.jsxs)("span",{children:["Showing ",Object(re.jsx)("strong",{children:Ot.length})," Builds generated for ",Nt,". ",!!bt&&Object(re.jsxs)("span",{children:["Build generated on: ",Object(re.jsx)("strong",{children:new Date(bt).toLocaleString()})]})]}):Object(re.jsx)("span",{children:"Select a character to generate builds."})})})}),Object(re.jsx)(C.a,{children:null===Ot||void 0===Ot?void 0:Ot.map((function(e,t){return $e&&et&&qe&&Object(re.jsx)(ve,{sheets:{characterSheet:$e,weaponSheet:et,artifactSheets:qe},build:e,characterKey:w,index:t,statsDisplayKeys:at,onClick:function(){return P(t)}},t)}))})]})})})]})]})}function ue(e){var t=e.target,a=e.buildSettingsDispatch,n=e.initialStats,c=Object(ee.b)(Q.a.get(t),[t]);if(!c)return null;var i=c.field;return Object(re.jsx)(O.a.Item,{onClick:function(){return a({optimizationTarget:t})},style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(re.jsx)("span",{className:"text-".concat(H.a.getTalentFieldValue(i,"variant",n)),children:H.a.getTalentFieldValue(i,"text",n)})})}function be(e){var t=e.build,a=e.showCharacterModal,n=e.characterKey,c=e.selectCharacter,i=e.close;return Object(re.jsx)(w.a,{show:Boolean(a||t),onHide:i,size:"xl",contentClassName:"bg-transparent",children:Object(re.jsx)(h.a.Suspense,{fallback:Object(re.jsx)("span",{children:"Loading..."}),children:Object(re.jsx)(le,{tabName:void 0,characterKey:n,setCharacterKey:function(e){return c(e)},newBuild:t,onClose:i,footer:Object(re.jsx)(g.a,{variant:"danger",onClick:i,children:"Close"})})})})}function he(e){var t=e.showArtCondModal,a=e.setshowArtCondModal,n=e.initialStats,c=e.characterDispatch,i=e.artifactCondCount,r=Object(b.useCallback)((function(){return a(!1)}),[a]),s=Object(ee.b)(E.a.getAll(),[]);if(!s)return null;var o=Object.entries(E.a.setKeysByRarities(s)).reverse().flatMap((function(e){return Object(l.a)(e,2)[1]}));return Object(re.jsx)(w.a,{show:t,onHide:r,size:"xl",contentClassName:"bg-transparent",children:Object(re.jsxs)(p.a,{bg:"darkcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(v.a,{children:[Object(re.jsx)(f.a,{children:Object(re.jsxs)("h5",{children:["Default Artifact Set Effects  ",Boolean(i)&&Object(re.jsxs)(y.a,{variant:"success",children:[i," Selected"]})]})}),Object(re.jsx)(f.a,{xs:"auto",children:Object(re.jsx)(g.a,{onClick:function(){n.conditionalValues.artifact&&(n.conditionalValues.artifact={}),c({conditionalValues:n.conditionalValues})},children:Object(re.jsxs)("span",{children:[Object(re.jsx)(u.a,{icon:j.F})," Reset All"]})})}),Object(re.jsx)(f.a,{xs:"auto",children:Object(re.jsx)(g.a,{variant:"danger",onClick:r,children:Object(re.jsx)(u.a,{icon:j.B})})})]})}),Object(re.jsx)(p.a.Body,{children:Object(re.jsx)(v.a,{children:o.map((function(e){var t,a=s[e],i=Object.values(a.slotIcons)[0],r=a.rarity,l=r[0];return Object(re.jsx)(f.a,{className:"mb-2",xs:12,lg:6,xl:4,children:Object(re.jsxs)(p.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(v.a,{children:[Object(re.jsx)(f.a,{xs:"auto",className:"ml-n3 my-n2",children:Object(re.jsx)(B.a,{src:i,className:"thumb-mid grad-".concat(l,"star m-1"),thumbnail:!0})}),Object(re.jsxs)(f.a,{children:[Object(re.jsx)("h6",{children:Object(re.jsx)("b",{children:null!==(t=null===s||void 0===s?void 0:s[e].name)&&void 0!==t?t:""})}),Object(re.jsx)("span",{children:r.map((function(e,t){return Object(re.jsxs)("span",{children:[e,Object(re.jsx)(U.a,{stars:1})," ",t<r.length-1?"/ ":null]},e)}))})]})]})}),Object(re.jsx)(p.a.Body,{children:Object(re.jsx)(v.a,{className:"mb-n2",children:Boolean(e)&&Object.keys(a.setEffects).map((function(e){return parseInt(e)})).map((function(t){return Object(re.jsx)(D.a,{newBuild:void 0,setKey:e,setNumKey:t,equippedBuild:n,editable:!0,characterDispatch:c},e+t)}))})})]})},e)}))})}),Object(re.jsx)(p.a.Footer,{children:Object(re.jsxs)(g.a,{variant:"danger",onClick:r,children:[Object(re.jsx)(u.a,{icon:j.B})," CLOSE"]})})]})})}function Oe(e){var t=e.statKey,a=e.statKeys,n=void 0===a?[]:a,c=e.min,i=e.close,r=e.setFilter,s=e.disabled,l="%"===X.b.getStatUnit(t),o={disabled:!t,allowEmpty:!0,float:l},b=Object(d.a)(Object(d.a)({},o),{},{placeholder:"MIN",value:c,onChange:function(e){return r(t,e)}});return Object(re.jsxs)(K.a,{className:"mb-2",children:[Object(re.jsx)(x.a,{as:K.a.Prepend,title:X.b.getStatNameWithPercent(t,"New Stat"),id:"input-group-dropdown-1",disabled:s,children:n.map((function(e){return Object(re.jsx)(O.a.Item,{onClick:function(){null===i||void 0===i||i(),r(e,c)},children:X.b.getStatNameWithPercent(e)},e)}))}),Object(re.jsx)(R.a,Object(d.a)({},b)),Boolean(i)&&Object(re.jsx)(K.a.Append,{children:Object(re.jsx)(g.a,{variant:"danger",onClick:i,disabled:s,children:Object(re.jsx)(u.a,{icon:j.D})})})]})}function xe(e){var t=e.characterSheet,a=e.character,n=e.build,c=e.className,i=e.disabled,r=Object(b.useContext)(Y.b),s=Object(b.useCallback)((function(e){var t=e.hitMode;return r.updateChar(Object(d.a)(Object(d.a)({},a),{},{hitMode:t}))}),[a,r]),l=Object(b.useCallback)((function(e){var t=e.reactionMode;return r.updateChar(Object(d.a)(Object(d.a)({},a),{},{reactionMode:t}))}),[a,r]),o=Object(b.useCallback)((function(e){var t=e.infusionAura;return r.updateChar(Object(d.a)(Object(d.a)({},a),{},{infusionAura:t}))}),[a,r]);return a?Object(re.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:c,children:[Object(re.jsx)(p.a.Header,{children:Object(re.jsxs)(v.a,{children:[Object(re.jsx)(f.a,{children:"Hit Mode Options"}),Object(re.jsx)(f.a,{xs:"auto",children:Object(re.jsx)(P.b,{characterSheet:t,character:a,characterDispatch:o,disabled:i})})]})}),Object(re.jsxs)(p.a.Body,{className:"mb-n2",children:[Object(re.jsx)(P.a,{hitMode:a.hitMode,characterDispatch:s,className:"w-100 mb-2",disabled:i}),Object(re.jsx)(P.c,{build:n,character:a,characterDispatch:l,className:"w-100 mb-2",disabled:i})]})]}):null}function me(e){var t=e.statKeys,a=void 0===t?[]:t,c=e.statFilters,i=void 0===c?{}:c,r=e.setStatFilters,s=e.className,o=e.disabled,j=a.filter((function(e){return!Object.keys(i).some((function(t){return t===e}))})),u=function(e,t){return r(Object(d.a)(Object(d.a)({},i),{},Object(n.a)({},e,t)))};return Object(re.jsxs)(p.a,{bg:"lightcontent",text:"lightfont",className:s,children:[Object(re.jsx)(p.a.Header,{children:"Minimum Final Stat Filter"}),Object(re.jsx)(p.a.Body,{children:Object(re.jsxs)(v.a,{className:"mb-n2",children:[Object.entries(i).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(re.jsx)(f.a,{xs:12,children:Object(re.jsx)(Oe,{statKey:a,statKeys:j,setFilter:u,disabled:o,min:n,close:function(){delete i[a],r(Object(d.a)({},i))}})},a)})),Object(re.jsx)(f.a,{xs:12,children:Object(re.jsx)(Oe,{min:void 0,close:void 0,statKeys:j,setFilter:u,disabled:o})})]})})]})}function ve(e){var t=e.sheets,a=e.sheets.artifactSheets,n=e.index,c=e.characterKey,i=e.build,r=e.statsDisplayKeys,s=e.onClick,o=Object(b.useContext)(Y.b)._getChar(c);if(!o)return null;var d=o.equippedArtifacts,j=$.h.every((function(e){var t;return d[e]===(null===(t=i.equippedArtifacts)||void 0===t?void 0:t[e])}));return Object(re.jsx)("div",{children:Object(re.jsxs)(C.a.Item,{variant:n%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:s,children:[Object(re.jsx)("h5",{className:"mb-2",children:Object(re.jsxs)(v.a,{children:[Object(re.jsx)(f.a,{xs:"auto",children:Object(re.jsx)(y.a,{variant:"info",children:Object(re.jsxs)("strong",{children:[n+1,j?" (Equipped)":""]})})}),Object(re.jsx)(f.a,{xs:"auto",children:Object.entries(i.setToSlots).sort((function(e,t){var a=Object(l.a)(e,2),n=(a[0],a[1]),c=Object(l.a)(t,2);c[0];return c[1].length-n.length})).map((function(e){var t,n=Object(l.a)(e,2),c=n[0],i=n[1];return Object(re.jsxs)(y.a,{variant:j?"success":"primary",className:"mr-2",children:[i.map((function(e){return Object(I.a)(e)}))," ",null!==(t=null===a||void 0===a?void 0:a[c].name)&&void 0!==t?t:""]},c)}))})]})}),Object(re.jsx)(_.a,{sheets:t,character:o,equippedBuild:i,statsDisplayKeys:r,cardbg:n%2?"lightcontent":"darkcontent"})]})})}function fe(e){var t,a,n,c,i=e.totBuildNumber,r=e.generatingBuilds,s=e.generationSkipped,l=e.generationProgress,o=e.generationDuration,d=e.characterName,j=e.maxBuildsToShow,u=null!==(t=null===i||void 0===i?void 0:i.toLocaleString())&&void 0!==t?t:i,b=i-s,h=null!==(a=null===l||void 0===l?void 0:l.toLocaleString())&&void 0!==a?a:l,O=null!==(n=null===s||void 0===s?void 0:s.toLocaleString())&&void 0!==n?n:s,x=null!==(c=null===b||void 0===b?void 0:b.toLocaleString())&&void 0!==c?c:b,m=Boolean(s)&&Object(re.jsxs)("span",{children:["(",Object(re.jsx)("b",{children:O})," skipped)"]});if(r){var v=100*l/b;return Object(re.jsxs)(A.a,{variant:"success",children:[Object(re.jsxs)("span",{children:["Generating and testing ",Object(re.jsxs)("b",{className:"text-monospace",children:[h,"/",x]})," build configurations against the criteria for ",Object(re.jsx)("b",{children:d}),". ",m]}),Object(re.jsx)("br",{}),Object(re.jsxs)("h6",{children:["Time elapsed: ",Object(re.jsx)("strong",{className:"text-monospace",children:Object(te.b)(o)})]}),Object(re.jsx)(M.a,{now:v,label:"".concat(v.toFixed(1),"%")})]})}return!r&&l?Object(re.jsxs)(A.a,{variant:"success",children:[Object(re.jsxs)("span",{children:["Generated and tested ",Object(re.jsx)("b",{className:"text-monospace",children:x})," Build configurations against the criteria for ",Object(re.jsx)("b",{children:d}),". ",m]}),Object(re.jsxs)("h6",{children:["Total duration: ",Object(re.jsx)("strong",{className:"text-monospace",children:Object(te.b)(o)})]}),Object(re.jsx)(M.a,{now:100,variant:"success",label:"100%"})]}):0===i?Object(re.jsx)(A.a,{variant:"warning",className:"mb-0",children:Object(re.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(re.jsx)("b",{children:d}),". Please change your Artifact configurations, or add/include more Artifacts."]})}):i>oe?Object(re.jsx)(A.a,{variant:"warning",className:"mb-0",children:Object(re.jsxs)("span",{children:["Current configuration will generate ",Object(re.jsx)("b",{children:u})," builds for ",Object(re.jsx)("b",{children:d}),". This might take quite a while to generate..."]})}):Object(re.jsx)(A.a,{variant:"success",className:"mb-0",children:Object(re.jsxs)("span",{children:["Current configuration ",i<=j?"generated":"will generate"," ",Object(re.jsx)("b",{children:u})," builds for ",Object(re.jsx)("b",{children:d}),"."]})})}var pe={0:Object(re.jsx)("span",{children:"No level assumption"}),4:Object(re.jsx)("span",{children:"Assume at least level 4"}),8:Object(re.jsx)("span",{children:"Assume at least level 8"}),12:Object(re.jsx)("span",{children:"Assume at least level 12"}),16:Object(re.jsx)("span",{children:"Assume at least level 16"}),20:Object(re.jsx)("span",{children:"Assume at least level 20"})};function ge(e){var t=e.mainStatAssumptionLevel,a=void 0===t?0:t,n=e.setmainStatAssumptionLevel,c=e.disabled;return Object(re.jsx)(S.a,{overlay:Object(re.jsx)(k.a,{id:"assume-level-tooltip",children:"Change Main Stat value to be at least a specific level. Does not change substats."}),children:Object(re.jsxs)(O.a,{children:[Object(re.jsx)(O.a.Toggle,{variant:a?"orange":"primary",disabled:c,children:pe[a]}),Object(re.jsx)(O.a.Menu,{children:Object.entries(pe).map((function(e){var t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(re.jsx)(O.a.Item,{onClick:function(){return n(parseInt(a))},children:c},a)}))})]})})}}}]);
//# sourceMappingURL=12.6693e48f.chunk.js.map