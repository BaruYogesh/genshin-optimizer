"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[611],{21977:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(29439),i=n(57621),s=n(10889),a=n(72791),c=n(60393),l=n(10600),o=n(80184);function u(e){var t=e.levelLow,n=e.levelHigh,u=e.setLow,d=e.setHigh,f=e.setBoth,h=e.dark,x=void 0!==h&&h,Z=e.disabled,v=void 0!==Z&&Z,p=(0,a.useState)(t),y=(0,r.Z)(p,2),j=y[0],m=y[1],g=(0,a.useState)(n),b=(0,r.Z)(g,2),w=b[0],S=b[1],k=(0,a.useCallback)((function(e,t){var n=(0,r.Z)(t,2),i=n[0],s=n[1];m(i),S(s)}),[m,S]);return(0,a.useEffect)((function(){return m(t)}),[m,t]),(0,a.useEffect)((function(){return S(n)}),[S,n]),(0,o.jsxs)(i.Z,{sx:{width:"100%",display:"flex",alignItems:"center",bgcolor:x?"contentDark.main":"contentLight.main"},children:[(0,o.jsx)(l.ZP,{value:j,onChange:function(e){return u((0,c.uZ)(e,0,n))},sx:{pl:2,width:100},inputProps:{sx:{textAlign:"center"}},startAdornment:"Level: ",disabled:v}),(0,o.jsx)(s.ZP,{sx:{width:100,flexGrow:1,mx:2},getAriaLabel:function(){return"Arifact Level Range"},value:[j,w],onChange:k,onChangeCommitted:function(e,t){return f(t[0],t[1])},valueLabelDisplay:"auto",min:0,max:20,step:1,marks:!0,disabled:v}),(0,o.jsx)(l.ZP,{value:w,onChange:function(e){return d((0,c.uZ)(e,t,20))},sx:{px:1,width:50},inputProps:{sx:{textAlign:"center"}},disabled:v})]})}},8375:function(e,t,n){n.d(t,{Z:function(){return k}});var r,i=n(1413),s=n(93433),a=n(29439),c=n(30168),l=n(45987),o=n(49670),u=n(23786),d=n(57064),f=n(49900),h=n(94721),x=n(20890),Z=n(72791),v=n(22020),p=n(76899),y=n(31148),j=n(42320),m=n(33890),g=n(55942),b=n(10157),w=n(80184),S=["selectedSetKey","onChange","artifactSetsByRarity","hasUnselect"];function k(e){var t,n=e.selectedSetKey,k=void 0===n?"":n,P=e.onChange,C=e.artifactSetsByRarity,K=e.hasUnselect,A=void 0!==K&&K,I=(0,l.Z)(e,S),E=(0,v.$)("artifact").t,F=(0,j.Z)(y.y.getAll,[]),W=null===F||void 0===F?void 0:F[k],M=(0,Z.useMemo)((function(){return C||(F?y.y.setKeysByRarities(F):{})}),[F,C]);return(0,w.jsxs)(m.Z,(0,i.Z)((0,i.Z)({},I),{},{title:null!==(t=null===W||void 0===W?void 0:W.name)&&void 0!==t?t:E(r||(r=(0,c.Z)(["editor.set.artifactSet"]))),startIcon:(null===W||void 0===W?void 0:W.defIconSrc)&&(0,w.jsx)(g.Z,{src:null===W||void 0===W?void 0:W.defIconSrc}),color:W?"success":"primary",children:[A&&(0,w.jsxs)(u.Z,{onClick:function(){return P("")},selected:""===k,disabled:""===k,children:[(0,w.jsx)(d.Z,{children:(0,w.jsx)(o.Z,{})}),(0,w.jsx)(f.Z,{children:(0,w.jsx)(p.c,{t:E,i18nKey:"ui:unselect",children:"Unselect"})})]}),!!Object.keys(M).length&&Object.entries(M).reverse().flatMap((function(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1];return[].concat((0,s.Z)((t>0||A)&&i.length?[(0,w.jsx)(h.Z,{},"".concat(r,"divi"))]:[]),(0,s.Z)(i.length?[(0,w.jsx)(u.Z,{children:(0,w.jsx)(x.Z,{children:(0,w.jsxs)(p.c,{t:E,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",(0,w.jsx)(b.t,{stars:parseInt(r)})]})})},"".concat(r,"header"))]:[]),(0,s.Z)(i.map((function(e){var t,n;return(0,w.jsxs)(u.Z,{onClick:function(){return P(e)},selected:k===e,disabled:k===e,children:[(0,w.jsx)(d.Z,{children:(0,w.jsx)(g.Z,{src:null===F||void 0===F||null===(t=F[e])||void 0===t?void 0:t.defIconSrc,sx:{fontSize:"1.5em"}})}),(0,w.jsx)(f.Z,{children:null===F||void 0===F||null===(n=F[e])||void 0===n?void 0:n.name})]},e)}))))}))]}))}},96106:function(e,t,n){var r=n(4942),i=n(1413),s=n(45987),a=n(66934),c=n(18455),l=n(69293),o=n(80184),u=["className"],d=(0,a.ZP)((function(e){var t=e.className,n=(0,s.Z)(e,u);return(0,o.jsx)(c.Z,(0,i.Z)((0,i.Z)({},n),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,n=e.theme;return t={},(0,r.Z)(t,"& .".concat(l.Z.arrow),{color:n.palette.common.black}),(0,r.Z)(t,"& .".concat(l.Z.tooltip),{backgroundColor:n.palette.common.black,maxWidth:500}),t}));t.Z=d},43568:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(4942),i=n(29439),s=n(53174),a=n(54483),c=n(61889),l=n(20890),o=n(24518),u=n(39504),d=n(94721),f=n(47047),h=n(72791),x=n(17278),Z=n(60393),v=n(3992),p=n(68198),y=n(9321),j=n(66624),m=n(80184);function g(){return{artifactPage:!0,buildPage:!0,characterPage:!0}}function b(e){var t=e.pageKey,n=e.text,b=void 0===n?"":n,w=e.modalTitle,S=void 0===w?"":w,k=e.children,P=(0,x.Z)("InfoShown",g),C=(0,i.Z)(P,2),K=C[0],A=C[1],I=K[t],E=(0,h.useCallback)((function(e){return A((0,r.Z)({},t,e))}),[A,t]),F=(0,h.useState)(Array.isArray(b)?(0,Z.F_)(b):b),W=(0,i.Z)(F,1)[0],M=function(){return E(!1)};return(0,m.jsxs)(v.Z,{children:[(0,m.jsxs)(c.ZP,{container:!0,children:[(0,m.jsx)(c.ZP,{item:!0,flexGrow:1,children:(0,m.jsx)(l.Z,{variant:"caption",pl:1,children:W})}),(0,m.jsx)(c.ZP,{item:!0,xs:"auto",children:(0,m.jsx)(o.Z,{size:"small",color:"info",variant:"contained",onClick:function(){return E(!0)},startIcon:(0,m.jsx)(a.G,{icon:s.sph}),children:(0,m.jsx)(j.v,{ns:"ui",key18:"info"})})})]}),(0,m.jsx)(y.Z,{containerProps:{maxWidth:"xl"},open:I,onClose:function(){return M()},children:(0,m.jsxs)(v.Z,{children:[(0,m.jsx)(u.Z,{sx:{py:1},children:(0,m.jsxs)(c.ZP,{container:!0,children:[(0,m.jsx)(c.ZP,{item:!0,flexGrow:1,children:(0,m.jsx)(l.Z,{variant:"h6",children:S})}),(0,m.jsx)(c.ZP,{item:!0,children:(0,m.jsx)(p.Z,{onClick:M})})]})}),(0,m.jsx)(d.Z,{}),(0,m.jsx)(u.Z,{children:(0,m.jsx)(h.Suspense,{fallback:(0,m.jsx)(f.Z,{variant:"rectangular",width:"100%",height:500}),children:k})}),(0,m.jsx)(d.Z,{}),(0,m.jsx)(u.Z,{sx:{py:1},children:(0,m.jsx)(p.Z,{large:!0,onClick:M})})]})})]})}},59215:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(1413),i=n(45987),s=n(53174),a=n(54483),c=n(2199),l=n(23786),o=n(24518),u=n(22020),d=n(76899),f=n(33890),h=n(80184),x=["sortKeys","value","onChange","ascending","onChangeAsc"];function Z(e){var t=e.sortKeys,n=e.value,Z=e.onChange,v=e.ascending,p=e.onChangeAsc,y=(0,i.Z)(e,x),j=(0,u.$)("ui").t;return(0,h.jsxs)(c.Z,(0,r.Z)((0,r.Z)({},y),{},{children:[(0,h.jsx)(f.Z,{title:(0,h.jsxs)(d.c,{t:j,i18nKey:"sortByFormat",value:j("sortMap.".concat(n)),children:["Sort By: ",{value:j("sortMap.".concat(n))}]}),children:t.map((function(e){return(0,h.jsx)(l.Z,{selected:n===e,disabled:n===e,onClick:function(){return Z(e)},children:j("sortMap.".concat(e))},e)}))}),(0,h.jsx)(o.Z,{onClick:function(){return p(!v)},startIcon:(0,h.jsx)(a.G,{icon:v?s.Pa6:s.xrW,className:"fa-fw"}),children:v?(0,h.jsx)(d.c,{t:j,i18nKey:"ascending",children:"Ascending"}):(0,h.jsx)(d.c,{t:j,i18nKey:"descending",children:"Descending"})})]}))}},14525:function(e,t,n){n.d(t,{Z:function(){return w},b:function(){return S}});var r=n(29439),i=n(4942),s=n(1413),a=n(53174),c=n(54483),l=n(39504),o=n(20890),u=n(94721),d=n(61889),f=n(2199),h=n(23786),x=n(24518),Z=n(72791),v=n(71310),p=n(10600),y=n(33890),j=n(2693),m=n(26138),g=n(79406),b=n(80184);function w(e){var t=e.statFilters,n=void 0===t?{}:t,a=e.setStatFilters,c=e.disabled,f=void 0!==c&&c,h=(0,Z.useContext)(j.R).data,x=["atk","hp","def","eleMas","critRate_","critDMG_","heal_","enerRech_"];"catalyst"!==h.get(m.ri.weaponType).value&&x.push("physical_dmg_");var p=h.get(m.ri.charEle).value;x.push("".concat(p,"_dmg_"));var y=x.filter((function(e){return!Object.keys(n).some((function(t){return t===e}))})),g=(0,Z.useCallback)((function(e,t){return a((0,s.Z)((0,s.Z)({},n),{},(0,i.Z)({},e,t)))}),[n,a]);return(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(l.Z,{sx:{py:1},children:(0,b.jsx)(o.Z,{children:"Minimum Final Stat Filter"})}),(0,b.jsx)(u.Z,{}),(0,b.jsx)(l.Z,{children:(0,b.jsxs)(d.ZP,{container:!0,spacing:1,children:[Object.entries(n).map((function(e){var t=(0,r.Z)(e,2),i=t[0],c=t[1];return(0,b.jsx)(d.ZP,{item:!0,xs:12,children:(0,b.jsx)(S,{statKey:i,statKeys:y,setFilter:g,disabled:f,value:c,close:function(){delete n[i],a((0,s.Z)({},n))}})},i)})),(0,b.jsx)(d.ZP,{item:!0,xs:12,children:(0,b.jsx)(S,{value:void 0,close:void 0,statKeys:y,setFilter:g,disabled:f})})]})})]})}function S(e){var t=e.statKey,n=e.statKeys,r=void 0===n?[]:n,i=e.value,s=void 0===i?0:i,l=e.close,o=e.setFilter,u=e.disabled,d=void 0!==u&&u,v="%"===g.ZP.unit(t),j=(0,Z.useCallback)((function(e){return t&&o(t,e)}),[o,t]);return(0,b.jsxs)(f.Z,{sx:{width:"100%"},children:[(0,b.jsx)(y.Z,{title:t?g.ZP.get(t):"New Stat",disabled:d,children:r.map((function(e){return(0,b.jsx)(h.Z,{onClick:function(){null===l||void 0===l||l(),o(e,s)},children:g.ZP.get(e)},e)}))}),(0,b.jsx)(p.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,b.jsx)(p.ZP,{disabled:!t,float:v,value:s,placeholder:"Min Value",onChange:j,sx:{px:2}})}),!!l&&(0,b.jsx)(x.Z,{color:"error",onClick:l,disabled:d,children:(0,b.jsx)(c.G,{icon:a.I7k})})]})}},2693:function(e,t,n){n.d(t,{R:function(){return r}});var r=(0,n(72791).createContext)({})},31148:function(e,t,n){n.d(t,{y:function(){return p},u:function(){return y}});var r=n(29439),i=n(93433),s=n(15671),a=n(43144),c=n(55942),l=n(66624),o=n(87234),u=n(24351),d=n(26138),f=n(25617),h=n(80184),x=n.e(159).then(n.bind(n,22159)).then((function(e){return e.default})),Z=function(e,t){return(0,h.jsx)(l.v,{ns:"artifact_".concat(e,"_gen"),key18:t})},v=x.then((function(e){return(0,o.b3)(Object.values(e).map((function(e){return e.data})))})),p=function(){function e(t,n,r){var i=this;(0,s.Z)(this,e),this.sheet=void 0,this.key=void 0,this.data=void 0,this.getSlotName=function(e){return Z(i.key,"pieces.".concat(e,".name"))},this.getSlotDesc=function(e){return Z(i.key,"pieces.".concat(e,".desc"))},this.setEffectDesc=function(e){return Z(i.key,"setEffects.".concat(e))},this.setEffectDocument=function(e){var t;return null===(t=i.sheet.setEffects[e])||void 0===t?void 0:t.document},this.hasEnough=function(e,t){var n;return(null!==(n=t.get(d.qH.artSet[i.key]).value)&&void 0!==n?n:0)>=e},this.sheet=n,this.key=t,this.data=r}return(0,a.Z)(e,[{key:"name",get:function(){return Z(this.key,"setName")}},{key:"defIconSrc",get:function(){var e=this.slots[0];if(this.slotIcons[e])return this.slotIcons[e]}},{key:"defIcon",get:function(){return(0,h.jsx)(c.Z,{src:this.defIconSrc,sx:{fontSize:"1.5em"}})}},{key:"nameWithIcon",get:function(){var e=this.slots[0];return(0,h.jsxs)("span",{children:[(0,h.jsx)(c.Z,{src:this.slotIcons[e]})," ",Z(this.key,"setName")]})}},{key:"nameRaw",get:function(){return this.sheet.name}},{key:"rarity",get:function(){return this.sheet.rarity}},{key:"slots",get:function(){switch(this.key){case"PrayersForDestiny":case"PrayersForIllumination":case"PrayersForWisdom":case"PrayersToSpringtime":return["circlet"];default:return(0,i.Z)(u.eV)}}},{key:"slotIcons",get:function(){return this.sheet.icons}},{key:"setEffects",get:function(){return this.sheet.setEffects}}],[{key:"get",value:function(e){return e?x.then((function(t){return t[e]})):void 0}},{key:"getAll",get:function(){return x}},{key:"getAllData",get:function(){return v}},{key:"setKeysByRarities",value:function(e){var t={};return Object.entries(e).forEach((function(e){var n=(0,r.Z)(e,2),s=n[0],a=n[1],c=Math.max.apply(Math,(0,i.Z)(a.rarity));t[c]?t[c].push(s):t[c]=[s]})),t}},{key:"setEffects",value:function(e,t){var n={};return Object.entries(e).forEach((function(e){var i=(0,r.Z)(e,2),s=i[0],a=i[1],c=Object.keys(a.setEffects).map((function(e){return parseInt(e)})).filter((function(e){return a.hasEnough(e,t)}));c.length&&(n[s]=c)})),n}}]),e}(),y=function(e,t){return{title:e("setName"),icon:(0,h.jsx)(c.Z,{size:2,sx:{m:-1},src:t}),action:(0,h.jsx)(f.Z,{color:"success",children:"4-set"})}}},20323:function(e,t,n){function r(){return{tcMode:!1}}n.d(t,{c:function(){return r}})},12611:function(e,t,n){n.r(t),n.d(t,{default:function(){return fn}});var r,i=n(30168),s=n(29439),a=n(93433),c=n(1413),l=n(53174),o=n(54483),u=n(49670),d=n(68870),f=n(19658),h=n(23060),x=n(39504),Z=n(61889),v=n(24518),p=n(57246),y=n(47047),j=n(20890),m=n(90388),g=n(72791),b=n(16129),w=n(22020),S=n(76899),k=n(91523),P=n(79271),C=n(3992),K=n(43568),A=n(91839),I=n(59215),E=n(75545),F=n(56928),W=n(20323),M=n(79406),L=n(17278),R=n(68544),G=n(50765),O=n(46956),D=n(60393),T=n(72838),U=n(87757),V=n.n(U),N=n(43245),B=n(68087),_=n(54091),z=n(66934),q=n(9585),H=n(2199),$=n(23786),X=n(57064),Y=n(49900),J=n(13239),Q=n(45987),ee=n(24351),te=n(33890),ne=n(10157),re=n(80184),ie=["rarity","onChange","filter"];function se(e){var t=e.rarity,n=e.onChange,s=e.filter,a=(0,Q.Z)(e,ie),l=(0,w.$)("artifact").t;return(0,re.jsx)(te.Z,(0,c.Z)((0,c.Z)({},a),{},{title:t?(0,re.jsx)(ne.t,{stars:t}):l(r||(r=(0,i.Z)(["editor.rarity"]))),color:t?"success":"primary",children:[5,4,3].map((function(e){return(0,re.jsx)($.Z,{disabled:!s(e),onClick:function(){return n(e)},children:(0,re.jsx)(ne.t,{stars:e})},e)}))}))}var ae,ce=n(8375),le=n(94721),oe=n(95614),ue=["slotKey","onChange","hasUnselect"];function de(e){var t=e.slotKey,n=void 0===t?"":t,r=e.onChange,s=e.hasUnselect,a=void 0!==s&&s,l=(0,Q.Z)(e,ue),o=(0,w.$)(["artifact","ui"]).t;return(0,re.jsxs)(te.Z,(0,c.Z)((0,c.Z)({title:o(n?"artifact:slotName:".concat(n):"artifact:slot"),color:n?"success":"primary",startIcon:n?(0,oe.Ir)(n):void 0},l),{},{children:[a&&(0,re.jsxs)($.Z,{selected:""===n,disabled:""===n,onClick:function(){return r("")},children:[(0,re.jsx)(X.Z,{children:(0,re.jsx)(u.Z,{})}),(0,re.jsx)(Y.Z,{children:o(ae||(ae=(0,i.Z)(["ui:unselect"])))})]}),a&&(0,re.jsx)(le.Z,{}),ee.eV.map((function(e){return(0,re.jsxs)($.Z,{selected:n===e,disabled:n===e,onClick:function(){return r(e)},children:[(0,re.jsx)(X.Z,{children:(0,oe.Ir)(e)}),(0,re.jsx)(Y.Z,{children:o("artifact:slotName:".concat(e))})]},e)}))]}))}var fe=n(71310),he=n(68198),xe=n(27391),Ze=["value","onChange","disabled","float"];function ve(e){var t=e.value,n=e.onChange,r=e.disabled,i=void 0!==r&&r,a=e.float,l=void 0!==a&&a,o=(0,Q.Z)(e,Ze),u=(0,g.useState)(""),d=(0,s.Z)(u,2),f=d[0],h=d[1],x=(0,g.useCallback)((function(){if(""===f)return n(0);var e=l?parseFloat:parseInt;n(e(f))}),[n,f,l]);return(0,g.useEffect)((function(){var e;return h(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,h]),(0,re.jsx)(xe.Z,(0,c.Z)({value:f,"aria-label":"custom-input",type:"number",onChange:function(e){return h(e.target.value)},onBlur:x,disabled:i,onKeyDown:function(e){return"Enter"===e.key&&x()}},o))}var pe=n(55942),ye=n(9321),je=n(19272),me=n(31148),ge=n(45748),be=n(92830),we=n(42320),Se=JSON.parse('{"5":{"def_":{"24.0":"24.1","36.5":"36.4"},"critRate_":{"8.5":"8.6"}}}');var ke=n(96106),Pe=n(46797);function Ce(e){var t=e.efficiency,n=e.max,r=void 0!==n&&n,i=e.t,s=e.valid,a=r?"maxSubEff":"curSubEff";return(0,re.jsx)(fe.Z,{sx:{py:1,px:2},children:(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,re.jsx)(Z.ZP,{item:!0,children:i("editor.".concat(a))}),(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsx)(ke.Z,{placement:"top",title:(0,re.jsxs)("span",{children:[(0,re.jsx)(j.Z,{variant:"h6",children:i("editor.".concat(a))}),(0,re.jsx)(j.Z,{children:(0,re.jsx)(S.c,{t:i,i18nKey:"editor.".concat(a,"Desc")})})]}),children:(0,re.jsx)("span",{children:(0,re.jsx)(d.Z,{component:o.G,icon:l.sph,sx:{cursor:"help"}})})})}),(0,re.jsx)(Z.ZP,{item:!0,xs:"auto",children:(0,re.jsx)(Pe.Z,{valid:s,max:900,value:s?t:"ERR"})})]})})}var Ke,Ae,Ie,Ee,Fe,We,Me,Le=n(10600),Re=n(25617),Ge=n(92443);function Oe(e){var t,n=e.index,r=e.artifact,s=e.setSubstat,c=(0,w.$)("artifact").t,l=null!==r&&void 0!==r?r:{},o=l.mainStatKey,u=void 0===o?"":o,f=l.rarity,h=void 0===f?5:f,x=null!==(t=null===r||void 0===r?void 0:r.substats[n])&&void 0!==t?t:{},p=x.key,y=void 0===p?"":p,m=x.value,g=void 0===m?0:m,b=x.rolls,k=void 0===b?[]:b,P=x.efficiency,C=void 0===P?0:P,K=k.reduce((function(e,t){return e+t}),0),A=M.ZP.unit(y),I=k.length,F="",W=[],L=0;if(r){var R=r.rarity,O=je.Z.rollInfo(R),T=O.numUpgrades,U=O.high;L=T+U-3-I,W=y?je.Z.getSubstatRollData(y,R):[]}var V=7-W.length;return!I&&y&&g&&(F=F||c(Ke||(Ke=(0,i.Z)(["editor.substat.error.noCalc"])))),L<0&&(F=F||c("editor.substat.error.noOverRoll",{value:L+I})),(0,re.jsxs)(fe.Z,{children:[(0,re.jsx)(d.Z,{sx:{display:"flex"},children:(0,re.jsxs)(H.Z,{size:"small",sx:{width:"100%",display:"flex"},children:[(0,re.jsxs)(te.Z,{startIcon:y?E.Z[y]:void 0,title:y?M.ZP.getArtStr(y):c("editor.substat.substatFormat",{value:n+1}),disabled:!r,color:y?"success":"primary",sx:{whiteSpace:"nowrap"},children:[y&&(0,re.jsx)($.Z,{onClick:function(){return s(n,{key:"",value:0})},children:c(Ae||(Ae=(0,i.Z)(["editor.substat.noSubstat"])))}),G.L.filter((function(e){return u!==e})).map((function(e){return(0,re.jsxs)($.Z,{selected:y===e,disabled:y===e,onClick:function(){return s(n,{key:e,value:0})},children:[(0,re.jsx)(X.Z,{children:E.Z[e]}),(0,re.jsx)(Y.Z,{children:M.ZP.getArtStr(e)})]},e)}))]}),(0,re.jsx)(Le.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,re.jsx)(Le.ZP,{float:"%"===A,placeholder:c(Ie||(Ie=(0,i.Z)(["editor.substat.selectSub"]))),value:y?g:void 0,onChange:function(e){return s(n,{key:y,value:null!==e&&void 0!==e?e:0})},disabled:!y,error:!!F,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!W.length&&(0,re.jsx)(Ge.Z,{children:c(Ee||(Ee=(0,i.Z)(["editor.substat.nextRolls"])))}),W.map((function(e,t){var r,i,a,c=(0,M.qs)(K+e,A);return c=null!==(r=null===(i=Se[h])||void 0===i||null===(a=i[y])||void 0===a?void 0:a[c])&&void 0!==r?r:c,(0,re.jsx)(v.Z,{color:"roll".concat((0,D.uZ)(V+t,1,6)),disabled:g&&!I||L<=0,onClick:function(){return s(n,{key:y,value:parseFloat(c)})},children:c},t)}))]})}),(0,re.jsx)(d.Z,{sx:{p:1},children:F?(0,re.jsx)(Re.Z,{color:"error",children:c(Fe||(Fe=(0,i.Z)(["ui:error"])))}):(0,re.jsxs)(Z.ZP,{container:!0,children:[(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(Re.Z,{color:0===I?"secondary":"roll".concat((0,D.uZ)(I,1,6)),children:I?c("editor.substat.RollCount",{count:I}):c(We||(We=(0,i.Z)(["editor.substat.noRoll"])))})}),(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:!!k.length&&(0,a.Z)(k).sort().map((function(e,t){return(0,re.jsx)(j.Z,{component:"span",color:"roll".concat((0,D.uZ)(V+W.indexOf(e),1,6),".main"),sx:{ml:1},children:(0,M.qs)(e,A)},"".concat(t,".").concat(e))}))}),(0,re.jsx)(Z.ZP,{item:!0,xs:"auto",flexShrink:1,children:(0,re.jsx)(j.Z,{children:(0,re.jsxs)(S.c,{t:c,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",(0,re.jsx)(Pe.Z,{valid:!0,max:100*I,value:C||c(Me||(Me=(0,i.Z)(["editor.substat.noStat"])))})]})})})]})})]})}var De=n(57641),Te=n(82554);function Ue(e){var t=e.modalShow,n=e.hide;return(0,re.jsx)(ye.Z,{open:t,onClose:n,children:(0,re.jsxs)(C.Z,{children:[(0,re.jsx)(x.Z,{sx:{py:1},children:(0,re.jsxs)(Z.ZP,{container:!0,children:[(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsx)(j.Z,{variant:"subtitle1",children:"How do Upload Screenshots for parsing"})}),(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(he.Z,{onClick:n})})]})}),(0,re.jsx)(le.Z,{}),(0,re.jsxs)(x.Z,{children:[(0,re.jsxs)(f.Z,{variant:"outlined",severity:"warning",children:["NOTE: Artifact Scanning currently only work for ",(0,re.jsx)("strong",{children:"ENGLISH"})," artifacts."]}),(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,mt:1,children:[(0,re.jsx)(Z.ZP,{item:!0,xs:8,md:4,children:(0,re.jsx)(d.Z,{component:"img",alt:"snippet of the screen to take",src:Te,width:"100%",height:"auto"})}),(0,re.jsxs)(Z.ZP,{item:!0,xs:12,md:8,children:[(0,re.jsx)(j.Z,{gutterBottom:!0,children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),(0,re.jsx)(j.Z,{variant:"h5",children:"Where to snip the screenshot."}),(0,re.jsxs)(j.Z,{gutterBottom:!0,children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",(0,re.jsx)("b",{children:"Only artifact from this screen can be scanned."})]}),(0,re.jsx)(j.Z,{variant:"h6",children:"Single artifact"}),(0,re.jsxs)(j.Z,{gutterBottom:!0,children:["To take a screenshot, in Windows, the shortcut is ",(0,re.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),(0,re.jsx)(j.Z,{variant:"h6",children:"Multiple artifacts"}),(0,re.jsxs)(j.Z,{gutterBottom:!0,children:["To take advantage of batch uploads, you can use a tool like ",(0,re.jsx)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),(0,re.jsx)(j.Z,{variant:"h5",children:"What to include in the screenshot."}),(0,re.jsx)(j.Z,{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]}),(0,re.jsxs)(Z.ZP,{item:!0,xs:12,md:7,children:[(0,re.jsx)(j.Z,{variant:"h5",children:"Adding Screenshot to Genshin Optimizer"}),(0,re.jsx)(j.Z,{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),(0,re.jsx)(j.Z,{gutterBottom:!0,children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),(0,re.jsxs)(j.Z,{children:["For single screenshots from the snippets, just press ",(0,re.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),(0,re.jsxs)(j.Z,{gutterBottom:!0,children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",(0,re.jsx)("b",{children:"Artifact Editor"}),"."]}),(0,re.jsx)(j.Z,{variant:"h5",children:"Finishing the Artifact"}),(0,re.jsxs)(j.Z,{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",(0,re.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]})]}),(0,re.jsx)(Z.ZP,{item:!0,xs:8,md:5,children:(0,re.jsx)(d.Z,{component:"img",alt:"main screen after importing stats",src:De,width:"100%",height:"auto"})})]})]}),(0,re.jsx)(le.Z,{}),(0,re.jsx)(x.Z,{sx:{py:1},children:(0,re.jsx)(he.Z,{large:!0,onClick:n})})]})})}var Ve=n(37762),Ne=n(15861),Be=n(31362),_e=n(91702),ze=n(15671),qe=n(43144),He=function(){function e(t,n){(0,ze.Z)(this,e),this.data={},this.init=void 0,this.deinit=void 0,this.init=t,this.deinit=n}return(0,qe.Z)(e,[{key:"borrow",value:function(){var e=(0,Ne.Z)(V().mark((function e(t,n){var r,i;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data[t]||(this.data[t]={value:this.init(t),refCount:0}),(r=this.data[t]).refCount+=1,e.next=5,n(r.value);case 5:return i=e.sent,r.refCount-=1,r.refCount||(delete this.data[t],this.deinit(t,r.value)),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),$e={r:255,g:204,b:50},Xe=new He(function(){var e=(0,Ne.Z)(V().mark((function e(t){var n,r;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Be.createScheduler)(),r=Array(2).fill(0).map(function(){var e=(0,Ne.Z)(V().mark((function e(r){var i;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,Be.createWorker)({errorHandler:console.error}),e.next=3,i.load();case 3:return e.next=5,i.loadLanguage(t);case 5:return e.next=7,i.initialize(t);case 7:n.addWorker(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.any(r);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t){t.then((function(e){return e.terminate()}))})),Ye=function(e,t){switch(t.type){case"upload":return{processed:e.processed,outstanding:[].concat((0,a.Z)(e.outstanding),(0,a.Z)(t.files))};case"processing":return{processed:e.processed,outstanding:(0,a.Z)(e.outstanding)};case"processed":return e.outstanding[0].file===t.file?{processed:[].concat((0,a.Z)(e.processed),[t.result]),outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function Je(e){if(!e.result){var t=e.file,n=e.fileName;e.imageURL=dt(t),e.result=e.imageURL.then(function(){var e=(0,Ne.Z)(V().mark((function e(r){var i,a,c,l,o,u;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.y.getAll;case 2:return i=e.sent,e.next=5,xt(r);case 5:return a=e.sent,c=yt(i,a.rarities,jt(a.artifactSetTexts,i),bt(a.whiteTexts),kt(a.substatTexts),wt(a.whiteTexts),St(a.whiteTexts)),l=(0,s.Z)(c,2),o=l[0],u=l[1],e.abrupt("return",{file:t,result:{fileName:n,imageURL:r,artifact:o,texts:u}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}var Qe,et,tt,nt,rt,it,st,at,ct,lt,ot,ut,dt=function(e){return new Promise((function(t){var n=new FileReader;n.onloadend=function(e){var n=e.target;return t(n.result)},n.readAsDataURL(e)}))},ft=function(e){return new Promise((function(t){var n=new Image;n.onload=function(e){var n=e.target;return t(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)}(n))},n.src=e}))};function ht(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}function xt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,Ne.Z)(V().mark((function e(t){var n,r,i,a,c,l,o,u,d,f,h;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(t);case 2:return n=e.sent,r=n.width,i=Math.floor(n.height/2),a={rectangle:{top:i,left:0,width:r,height:i}},c=[vt(Pt(n,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),vt(Pt(n,[30,50,80],[160,160,160],{region:"bot"}),a),vt(Pt(n,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),a)],l=mt(n.data,n.width,n.height),e.next=9,Promise.all(c);case 9:return o=e.sent,u=(0,s.Z)(o,3),d=u[0],f=u[1],h=u[2],e.abrupt("return",{whiteTexts:d,substatTexts:f,artifactSetTexts:h,rarities:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return pt.apply(this,arguments)}function pt(){return pt=(0,Ne.Z)(V().mark((function e(t){var n,r,i,s=arguments;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:void 0,r=ht(t),e.next=4,Xe.borrow("eng",function(){var e=(0,Ne.Z)(V().mark((function e(t){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,e.sent.addJob("recognize",r,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return i=e.sent,e.abrupt("return",i.data.lines.map((function(e){return e.text})));case 6:case"end":return e.stop()}}),e)}))),pt.apply(this,arguments)}function yt(e,t,n,r,i,c,l){var o,u=(0,a.Z)(new Set([].concat((0,a.Z)(n),["EmblemOfSeveredFate"]))),d=-1,f=[{setKey:"EmblemOfSeveredFate",rarity:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1,exclude:!1}],h=(0,D.O)(ee.En,(function(t){var r=0;n.size&&(r+=(0,a.Z)(n).reduce((function(n,r){return n+(e[r].rarity.includes(t)?1:0)}),0)/n.size);if(i.length){var s=i.reduce((function(e,n){return e+(je.Z.getSubstatRolls(n.key,n.value,t).length?1:0)}),0);r+=s/i.length*2}return r})),x=(0,Ve.Z)(ee.eV);try{for(x.s();!(o=x.n()).done;){var Z,v=o.value,p=(0,Ve.Z)(je.Z.slotMainStats(v));try{var y=function(){for(var t=Z.value,i=(r.has(v)?1:0)+(c.has(t)?1:0),a=l.filter((function(e){return"%"!==e.unit||"%"===M.ZP.unit(t)})).map((function(e){return e.mainStatValue})),o=function(){var r=(0,s.Z)(p[x],2),c=r[0],l=r[1],o=parseInt(c),h=u.filter((function(t){return e[t].rarity.includes(o)})),Z=i+l;if(Z+2<d)return"continue";var y,j=(0,Ve.Z)(a);try{var m=function(){var e,r=y.value,i=je.Z.mainStatValues(o,t),s=Math.max(0,i.findIndex((function(e){return e>=r}))),a=i[s],c=Z+(a===r?1:0),l=(0,Ve.Z)(h);try{for(l.s();!(e=l.n()).done;){var u=e.value,x=c+(n.has(u)?1:0);x>=d&&(x>d&&(f=[]),d=x,f.push({setKey:u,rarity:o,level:s,slotKey:v,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1}))}}catch(p){l.e(p)}finally{l.f()}};for(j.s();!(y=j.n()).done;)m()}catch(k){j.e(k)}finally{j.f()}if(Z>=d){var g,b=(0,Ve.Z)(h);try{for(b.s();!(g=b.n()).done;){var w=g.value,S=Z+(n.has(w)?1:0);S>d&&(f=[]),d=S,f.push({setKey:w,rarity:o,level:0,slotKey:v,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1})}}catch(k){b.e(k)}finally{b.f()}}},x=0,p=Object.entries(h);x<p.length;x++)o()};for(p.s();!(Z=p.n()).done;)y()}catch(F){p.e(F)}finally{p.f()}}}catch(F){x.e(F)}finally{x.f()}var j={},m={setKey:new Set,rarity:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},g=f[0],b=je.Z.mainStatValue(g.mainStatKey,g.rarity,g.level);g.substats=i.filter((function(e,t){return e.key!==g.mainStatKey&&i.slice(0,t).every((function(t){return t.key!==e.key}))}));for(var w=g.substats.length;w<4;w++)g.substats.push({key:"",value:0});for(var S=0,k=f;S<k.length;S++){var P=k[S];m.setKey.add(P.setKey),m.rarity.add(P.rarity),m.level.add(P.level),m.slotKey.add(P.slotKey),m.mainStatKey.add(P.mainStatKey)}function C(e,t,n){return(0,re.jsxs)(re.Fragment,{children:["Unknown ",t," : Set to ",(0,re.jsx)(_e.Z,{color:"error",children:n(e)})]})}function K(e,t,n){return(0,re.jsxs)(re.Fragment,{children:["Detected ",t," ",(0,re.jsx)(_e.Z,{color:"success",children:n(e)})]})}function A(e,t,n){return(0,re.jsxs)(re.Fragment,{children:["Inferred ",t," ",(0,re.jsx)(_e.Z,{color:"warning",children:n(e)})]})}function I(e,t,n,r){var i=new Set((0,a.Z)(m[e]).filter((function(e){return t.has(e)})));i.size>1?j[e]=function(e,t,n,r){return(0,re.jsxs)(re.Fragment,{children:["Ambiguous ",n," ",(0,re.jsx)(_e.Z,{color:"error",children:r(e)})," : May also be ",t.filter((function(t){return t!==e})).map((function(e,t){return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)("b",{children:t>0?"/":""}),(0,re.jsx)(_e.Z,{color:"warning",children:r(e)})]})}))]})}(g[e],(0,a.Z)(t),n,r):1===i.size?j[e]=K(g[e],n,r):m[e].size>1?j[e]=C(g[e],n,r):j[e]=A(g[e],n,r)}I("setKey",n,"Set",(function(t){return e[t].name})),I("rarity",t,"Rarity",(function(e){return(0,re.jsxs)(re.Fragment,{children:[e," ",1!==e?"Stars":"Star"]})})),I("slotKey",r,"Slot",(function(e){return(0,re.jsx)(re.Fragment,{children:je.Z.slotName(e)})})),I("mainStatKey",c,"Main Stat",(function(e){return(0,re.jsx)(re.Fragment,{children:M.ZP.getStr(e)})})),j.substats=(0,re.jsx)(re.Fragment,{children:g.substats.filter((function(e){return""!==e.key})).map((function(e,t){return(0,re.jsx)("div",{children:K(e,"Sub Stat",(function(e){return(0,re.jsxs)(re.Fragment,{children:[M.ZP.getStr(e.key),"+",(0,M.qs)(e.value,M.ZP.unit(e.key)),M.ZP.unit(e.key)]})}))},t)}))});var E=function(e){return(0,re.jsxs)(re.Fragment,{children:[(0,M.qs)(e,M.ZP.unit(g.mainStatKey)),M.ZP.unit(g.mainStatKey)]})};return l.find((function(e){return e.mainStatValue===b}))?c.has(g.mainStatKey)?(j.level=K(g.level,"Level",(function(e){return"+"+e})),j.mainStatVal=K(b,"Main Stat value",E)):(j.level=A(g.level,"Level",(function(e){return"+"+e})),j.mainStatVal=A(b,"Main Stat value",E)):(j.level=C(g.level,"Level",(function(e){return"+"+e})),j.mainStatVal=C(b,"Main Stat value",E)),[g,j]}function jt(e,t){var n,r=new Set([]),i=(0,Ve.Z)(e);try{for(i.s();!(n=i.n()).done;){var s,a=n.value,c=(0,Ve.Z)(ee.q2);try{for(c.s();!(s=c.n()).done;){var l=s.value;(0,D.UX)(a.replace(/\W/g,""),t[l].nameRaw.replace(/\W/g,""))<=2&&r.add(l)}}catch(o){c.e(o)}finally{c.f()}}}catch(o){i.e(o)}finally{i.f()}return r}function mt(e,t,n){for(var r=e,i=0,s=0,a=new Set([]),c=0;c<n;c++){for(var l=0,o=!1,u=0;u<t;u++){var d=4*(c*t+u);gt({r:r[d],g:r[d+1],b:r[d+2]},$e)?o||(o=!0,l++):o=!1}i!==l?(i=l,s=1):i&&++s>=10&&a.add((0,D.uZ)(i,3,5))}return a}function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=function(e,t){return Math.abs(e-t)<=n};return r(e.r,t.r)&&r(e.g,t.g)&&r(e.b,t.b)}function bt(e){var t,n=new Set,r=(0,Ve.Z)(e);try{for(r.s();!(t=r.n()).done;){var i,s=t.value,a=(0,Ve.Z)(ee.eV);try{for(a.s();!(i=a.n()).done;){var c=i.value;(0,D.UX)(s.replace(/\W/g,""),je.Z.slotName(c).replace(/\W/g,""))<=2&&n.add(c)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){r.e(l)}finally{r.f()}return n}function wt(e){var t,n=new Set([]),r=(0,Ve.Z)(e);try{for(r.s();!(t=r.n()).done;){var i,s=t.value,a=(0,Ve.Z)(G.r);try{for(a.s();!(i=a.n()).done;){var c,l,o,u=i.value;s.toLowerCase().includes(null!==(c=null===(l=M.ZP.getStr(u))||void 0===l?void 0:l.toLowerCase())&&void 0!==c?c:"")&&n.add(u),u.includes("_bonu")&&(0,D.UX)(s.replace(/\W/g,""),(null!==(o=M.ZP.getStr(u))&&void 0!==o?o:"").replace(/\W/g,""))<=1&&n.add(u)}}catch(d){a.e(d)}finally{a.f()}}}catch(d){r.e(d)}finally{r.f()}return n}function St(e){var t,n=[],r=(0,Ve.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,s=/(\d+[,|\\.]+\d)%/,a=s.exec(i);a&&n.push({mainStatValue:parseFloat(a[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),(a=(s=/(\d+[,|\\.]\d{3}|\d{2,3})/).exec(i))&&n.push({mainStatValue:parseInt(a[1].replace(/[,|\\.]+/g,""))})}}catch(c){r.e(c)}finally{r.f()}return n}function kt(e){var t,n=[],r=(0,Ve.Z)(e);try{var i=function(){var e=t.value;e=e.replace(/^[\W]+/,"").replace(/\n/,""),G.L.forEach((function(t){var r=M.ZP.getStr(t),i=("%"===M.ZP.unit(t)?new RegExp(r+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(r+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);i&&n.push({key:t,value:parseFloat(i[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}))};for(r.s();!(t=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}return n.slice(0,4)}function Pt(e,t,n,r){for(var i=r.region,s=void 0===i?"all":i,a=r.mode,c=void 0===a?"color":a,l=Uint8ClampedArray.from(e.data),o="top"===s,u="bot"===s,d="all"===s,f="bw"===c,h="invert"===c,x=Math.floor(e.width*(e.height/2)*4),Z=0;Z<l.length;Z+=4){var v=l[Z],p=l[Z+1],y=l[Z+2];(d||o&&Z<x||u&&Z>x)&&v>=t[0]&&v<=n[0]&&p>=t[1]&&p<=n[1]&&y>=t[2]&&y<=n[2]?f?l[Z]=l[Z+1]=l[Z+2]=0:h&&(l[Z]=255-v,l[Z+1]=255-p,l[Z+2]=255-y):l[Z]=l[Z+1]=l[Z+2]=255}return new ImageData(l,e.width,e.height)}var Ct=new Set(G.L);function Kt(e,t){switch(t.type){case"reset":return;case"substat":var n=t.index,r=t.substat,i=r.key?e.substats.findIndex((function(e){return e.key===r.key})):-1;if(-1===i||i===n)e.substats[n]=r;else{var s=[e.substats[i],e.substats[n]];e.substats[n]=s[0],e.substats[i]=s[1]}return(0,c.Z)({},e);case"overwrite":return t.artifact;case"update":return(0,c.Z)((0,c.Z)({},e),t.artifact)}}var At=(0,z.ZP)("input")({display:"none"});function It(e){var t,n=e.artifactIdToEdit,r=void 0===n?"":n,h=e.cancelEdit,p=(0,w.$)("artifact").t,m=(0,we.Z)(me.y.getAll,[]),k=(0,g.useContext)(F.t).database,P=(0,g.useState)(!1),K=(0,s.Z)(P,2),A=K[0],I=K[1],W=(0,R.Z)(),L=(0,s.Z)(W,2),G=L[0],O=L[1];(0,g.useEffect)((function(){return k.followAnyArt(O)}),[k,O]);var U=(0,g.useReducer)(Kt,void 0),V=(0,s.Z)(U,2),z=V[0],Q=V[1],ee=(0,g.useMemo)((function(){return z&&(0,ge.R$)(z)}),[z]),ne=(0,g.useState)(!1),ie=(0,s.Z)(ne,2),ae=ie[0],le=ie[1],oe=(0,g.useReducer)(Ye,{processed:[],outstanding:[]}),ue=(0,s.Z)(oe,2),xe=ue[0],Ze=xe.processed,Se=xe.outstanding,ke=ue[1],Pe=Ze[0],Ke=Se[0],Ae=(0,we.Z)(null===Ke||void 0===Ke?void 0:Ke.imageURL,[null===Ke||void 0===Ke?void 0:Ke.imageURL]),Ie=(0,we.Z)(null===Ke||void 0===Ke?void 0:Ke.result,[null===Ke||void 0===Ke?void 0:Ke.result]),Ee=Ze.length+Se.length,Fe=null!==(t=null===Pe||void 0===Pe?void 0:Pe.imageURL)&&void 0!==t?t:Ae,We=null!==Pe&&void 0!==Pe?Pe:{},Me=We.artifact,Le=We.texts;(0,g.useEffect)((function(){!ee&&Me&&Q({type:"overwrite",artifact:Me})}),[ee,Me,Q]),(0,g.useEffect)((function(){var e=Math.min(16-Ze.length,3,Se.length),t=e&&!Se[0].result;Se.slice(0,e).forEach(Je),t&&ke({type:"processing"})}),[Ze.length,Se]),(0,g.useEffect)((function(){Ie&&ke((0,c.Z)({type:"processed"},Ie))}),[Ie,ke]);var Re=(0,g.useCallback)((function(e){I(!0),ke({type:"upload",files:(0,a.Z)(e).map((function(e){return{file:e,fileName:e.name}}))})}),[ke,I]),Ge=(0,g.useCallback)((function(){return ke({type:"clear"})}),[ke]);(0,g.useEffect)((function(){var e=function(e){return Re(e.clipboardData.files)};return window.addEventListener("paste",e),function(){return window.removeEventListener("paste",e)}}),[Re]);var De=(0,g.useCallback)((function(e){Re(e.target.files),e.target.value=null}),[Re]),Te=(0,g.useMemo)((function(){var e,t=G&&r&&k._getArt(r);if(t)return{old:t,oldType:"edit"};if(void 0===ee)return{old:void 0,oldType:""};var n=G&&k.findDuplicates(ee),i=n.duplicated,s=n.upgraded;return{old:null!==(e=i[0])&&void 0!==e?e:s[0],oldType:0!==i.length?"duplicate":"upgrade"}}),[ee,r,k,G]),Ve=Te.old,Ne=Te.oldType,Be=(0,g.useMemo)((function(){if(!ee)return{artifact:void 0,errors:[]};var e=(0,be.BG)(ee,r);return Ve&&(e.artifact.location=Ve.location,e.artifact.exclude=Ve.exclude),e}),[ee,r,Ve]),_e=Be.artifact,ze=Be.errors;(0,g.useEffect)((function(){"new"===r&&(I(!0),Q({type:"reset"}));var e=r&&G&&k._getArt(r);e&&(I(!0),Q({type:"overwrite",artifact:(0,D.I8)(e)}))}),[r,k,G]);var qe=ee?null===m||void 0===m?void 0:m[ee.setKey]:void 0,He=(0,g.useCallback)((function(){null===h||void 0===h||h(),ke({type:"pop"}),Q({type:"reset"})}),[h,Q]),$e=(0,g.useCallback)((function(e){var t,n,r=e.setKey?m[e.setKey]:qe;function i(e,t,n){return e&&t.includes(e)?e:null!==n&&void 0!==n?n:t[0]}e.setKey&&(e.rarity=i(null===ee||void 0===ee?void 0:ee.rarity,r.rarity,Math.max.apply(Math,(0,a.Z)(r.rarity))),e.slotKey=i(null===ee||void 0===ee?void 0:ee.slotKey,r.slots)),e.rarity&&(e.level=null!==(t=null===ee||void 0===ee?void 0:ee.level)&&void 0!==t?t:0),e.level&&(e.level=(0,D.uZ)(e.level,0,4*(null!==(n=e.rarity)&&void 0!==n?n:ee.rarity))),e.slotKey&&(e.mainStatKey=i(null===ee||void 0===ee?void 0:ee.mainStatKey,je.Z.slotMainStats(e.slotKey))),e.mainStatKey&&(e.substats=[0,1,2,3].map((function(t){return ee&&ee.substats[t].key!==e.mainStatKey?ee.substats[t]:{key:"",value:0}}))),Q({type:"update",artifact:e})}),[ee,m,qe,Q]),Xe=(0,g.useCallback)((function(e,t){Q({type:"substat",index:e,substat:t})}),[Q]),dt=!ze.length,ft=null!==ee&&void 0!==ee?ee:{},ht=ft.rarity,xt=void 0===ht?5:ht,Zt=ft.level,vt=void 0===Zt?0:Zt,pt=ft.slotKey,yt=void 0===pt?"flower":pt,jt=_e?je.Z.getArtifactEfficiency(_e,Ct):{},mt=jt.currentEfficiency,gt=void 0===mt?0:mt,bt=jt.maxEfficiency,wt=void 0===bt?0:bt,St=Ze.length||Se.length,kt=(0,g.useCallback)((function(e){St&&e.preventDefault(),I(!1),h()}),[St,I,h]);return(0,re.jsx)(ye.Z,{open:A,onClose:kt,children:(0,re.jsx)(g.Suspense,{fallback:(0,re.jsx)(y.Z,{variant:"rectangular",sx:{width:"100%",height:A?"100%":64}}),children:(0,re.jsxs)(C.Z,{children:[(0,re.jsx)(Ue,{modalShow:ae,hide:function(){return le(!1)}}),(0,re.jsx)(q.Z,{title:(0,re.jsx)(S.c,{t:p,i18nKey:"editor.title",children:"Artifact Editor"}),action:(0,re.jsx)(he.Z,{disabled:!!St,onClick:kt})}),(0,re.jsxs)(x.Z,{sx:{pt:0},children:[(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,sx:{mb:1},children:[(0,re.jsxs)(Z.ZP,{item:!0,xs:12,md:6,lg:6,sx:{"> div:nth-last-of-type(n+2)":{mb:1}},children:[(0,re.jsxs)(H.Z,{sx:{display:"flex",mb:1},children:[(0,re.jsx)(ce.Z,{selectedSetKey:null===ee||void 0===ee?void 0:ee.setKey,onChange:function(e){return $e({setKey:e})},sx:{flexGrow:1}}),(0,re.jsx)(se,{rarity:ee?xt:void 0,onChange:function(e){return $e({rarity:e})},filter:function(e){var t,n;return!(null===qe||void 0===qe||null===(t=qe.rarity)||void 0===t||null===(n=t.includes)||void 0===n||!n.call(t,e))},disabled:!qe})]}),(0,re.jsxs)(d.Z,{component:"div",display:"flex",children:[(0,re.jsx)(ve,{id:"filled-basic",label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:vt,disabled:!qe,placeholder:"0~".concat(4*xt),onChange:function(e){return $e({level:e})}}),(0,re.jsxs)(H.Z,{children:[(0,re.jsx)(v.Z,{onClick:function(){return $e({level:vt-1})},disabled:!qe||0===vt,children:"-"}),xt?(0,a.Z)(Array(xt+1).keys()).map((function(e){return 4*e})).map((function(e){return(0,re.jsx)(v.Z,{onClick:function(){return $e({level:e})},disabled:!qe||vt===e,children:e},e)})):null,(0,re.jsx)(v.Z,{onClick:function(){return $e({level:vt+1})},disabled:!qe||vt===4*xt,children:"+"})]})]}),(0,re.jsxs)(d.Z,{component:"div",display:"flex",children:[(0,re.jsx)(de,{disabled:!qe,slotKey:yt,onChange:function(e){return $e({slotKey:e})}}),(0,re.jsx)(fe.Z,{sx:{p:1,ml:1,flexGrow:1},children:(0,re.jsx)(g.Suspense,{fallback:(0,re.jsx)(y.Z,{width:"60%"}),children:(0,re.jsx)(j.Z,{color:"text.secondary",children:null!==qe&&void 0!==qe&&qe.getSlotName(ee.slotKey)?(0,re.jsxs)("span",{children:[(0,re.jsx)(pe.Z,{src:qe.slotIcons[ee.slotKey]})," ",null===qe||void 0===qe?void 0:qe.getSlotName(ee.slotKey)]}):p(et||(et=(0,i.Z)(["editor.unknownPieceName"])))})})})]}),(0,re.jsxs)(d.Z,{component:"div",display:"flex",children:[(0,re.jsx)(te.Z,{startIcon:null!==ee&&void 0!==ee&&ee.mainStatKey?E.Z[ee.mainStatKey]:void 0,title:(0,re.jsx)("b",{children:ee?M.ZP.getArtStr(ee.mainStatKey):p(tt||(tt=(0,i.Z)(["mainStat"])))}),disabled:!qe,color:ee?"success":"primary",children:je.Z.slotMainStats(yt).map((function(e){return(0,re.jsxs)($.Z,{selected:(null===ee||void 0===ee?void 0:ee.mainStatKey)===e,disabled:(null===ee||void 0===ee?void 0:ee.mainStatKey)===e,onClick:function(){return $e({mainStatKey:e})},children:[(0,re.jsx)(X.Z,{children:E.Z[e]}),(0,re.jsx)(Y.Z,{children:M.ZP.getArtStr(e)})]},e)}))}),(0,re.jsx)(fe.Z,{sx:{p:1,ml:1,flexGrow:1},children:(0,re.jsx)(j.Z,{color:"text.secondary",children:ee?"".concat((0,M.qs)(je.Z.mainStatValue(ee.mainStatKey,xt,vt),M.ZP.unit(ee.mainStatKey))).concat(M.ZP.unit(ee.mainStatKey)):p(nt||(nt=(0,i.Z)(["mainStat"])))})})]}),(0,re.jsx)(Ce,{valid:dt,efficiency:gt,t:p}),gt!==wt&&(0,re.jsx)(Ce,{max:!0,valid:dt,efficiency:wt,t:p}),(0,re.jsx)(fe.Z,{children:(0,re.jsx)(x.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:(0,re.jsxs)(g.Suspense,{fallback:(0,re.jsx)(y.Z,{width:"100%",height:"100"}),children:[(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsxs)("label",{htmlFor:"contained-button-file",children:[(0,re.jsx)(At,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:De}),(0,re.jsx)(v.Z,{component:"span",startIcon:(0,re.jsx)(N.Z,{}),children:"Upload Screenshot (or Ctrl-V)"})]})}),(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(v.Z,{color:"info",sx:{px:2,minWidth:0},onClick:function(){le(!0),b.ZP.modalview("/artifact/how-to-upload")},children:(0,re.jsx)(j.Z,{children:(0,re.jsx)(o.G,{icon:l.sph})})})})]}),Fe&&(0,re.jsx)(d.Z,{display:"flex",justifyContent:"center",children:(0,re.jsx)(d.Z,{component:"img",src:Fe,width:"100%",maxWidth:350,height:"auto",alt:"Screenshot to parse for artifact values"})}),Ee>0&&(0,re.jsx)(C.Z,{sx:{pl:2},children:(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,alignItems:"center",children:[!Pe&&Ke&&(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(J.Z,{size:"1em"})}),(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsx)(j.Z,{children:(0,re.jsxs)("span",{children:["Screenshots in file-queue: ",(0,re.jsx)("b",{children:Ee})]})})}),(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(v.Z,{size:"small",color:"error",onClick:Ge,children:"Clear file-queue"})})]})})]})})})]}),(0,re.jsxs)(Z.ZP,{item:!0,xs:12,md:6,lg:6,display:"flex",flexDirection:"column",gap:1,children:[[0,1,2,3].map((function(e){return(0,re.jsx)(Oe,{index:e,artifact:_e,setSubstat:Xe},e)})),Le&&(0,re.jsx)(fe.Z,{children:(0,re.jsxs)(x.Z,{children:[(0,re.jsx)("div",{children:Le.slotKey}),(0,re.jsx)("div",{children:Le.mainStatKey}),(0,re.jsx)("div",{children:Le.mainStatVal}),(0,re.jsx)("div",{children:Le.rarity}),(0,re.jsx)("div",{children:Le.level}),(0,re.jsx)("div",{children:Le.substats}),(0,re.jsx)("div",{children:Le.setKey})]})})]})]}),Ve&&(0,re.jsxs)(Z.ZP,{container:!0,sx:{justifyContent:"space-around",mb:1},spacing:1,children:[(0,re.jsx)(Z.ZP,{item:!0,lg:4,md:6,children:(0,re.jsxs)(fe.Z,{children:[(0,re.jsx)(j.Z,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:p(rt||(rt=(0,i.Z)(["editor.preview"])))}),(0,re.jsx)(T.Z,{artifactObj:_e})]})}),(0,re.jsx)(Z.ZP,{item:!0,lg:4,md:6,children:(0,re.jsxs)(fe.Z,{children:[(0,re.jsx)(j.Z,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:p("edit"!==Ne?"duplicate"===Ne?it||(it=(0,i.Z)(["editor.dupArt"])):st||(st=(0,i.Z)(["editor.upArt"])):at||(at=(0,i.Z)(["editor.beforeEdit"])))}),(0,re.jsx)(T.Z,{artifactObj:Ve})]})})]}),!dt&&(0,re.jsx)(f.Z,{variant:"filled",severity:"error",sx:{mb:1},children:ze.map((function(e,t){return(0,re.jsx)("div",{children:e},t)}))}),(0,re.jsxs)(Z.ZP,{container:!0,spacing:2,children:[(0,re.jsx)(Z.ZP,{item:!0,children:"edit"===Ne?(0,re.jsx)(v.Z,{startIcon:(0,re.jsx)(B.Z,{}),onClick:function(){k.updateArt(z,Ve.id),He()},disabled:!z||!dt,color:"primary",children:p(ct||(ct=(0,i.Z)(["editor.btnSave"])))}):(0,re.jsx)(v.Z,{startIcon:(0,re.jsx)(B.Z,{}),onClick:function(){k.createArt(ee),He()},disabled:!ee||!dt,color:"duplicate"===Ne?"warning":"primary",children:p(lt||(lt=(0,i.Z)(["editor.btnAdd"])))})}),(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsx)(v.Z,{startIcon:(0,re.jsx)(u.Z,{}),disabled:!ee,onClick:function(){window.confirm(p(Qe||(Qe=(0,i.Z)(["editor.clearPrompt"]))))&&He()},color:"error",children:p(ot||(ot=(0,i.Z)(["editor.btnClear"])))})}),(0,re.jsx)(Z.ZP,{item:!0,children:!1}),Ve&&"edit"!==Ne&&(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(v.Z,{startIcon:(0,re.jsx)(_.Z,{}),onClick:function(){k.updateArt(z,Ve.id),He()},disabled:!z||!dt,color:"success",children:p(ut||(ut=(0,i.Z)(["editor.btnUpdate"])))})})]})]})]})})})}var Et=n(63204),Ft=n(62002),Wt=n(40117),Mt=n(52791),Lt=n(21977),Rt=n(81918),Gt=n(68096),Ot=n(94925),Dt=n(28029),Tt=n(99321),Ut=n(13967);function Vt(e,t,n){return{fontWeight:t.includes(e)?n.typography.fontWeightMedium:n.typography.fontWeightRegular}}function Nt(e){var t=e.mainStatKeys,n=e.setMainStatKeys,r=(0,Ut.Z)();return(0,re.jsx)("div",{children:(0,re.jsxs)(Gt.Z,{fullWidth:!0,children:[(0,re.jsx)(Ot.Z,{id:"main-stat-multiple-chip-label",children:"Main Stats"}),(0,re.jsx)(Tt.Z,{labelId:"main-stat-multiple-chip-label",id:"main-stat-multiple-chip",multiple:!0,value:t,onChange:function(e){var t=e.target.value;n("string"===typeof t?t.split(","):t)},input:(0,re.jsx)(Dt.Z,{id:"main-stat-select-multiple-chip",label:"Main Stats"}),renderValue:function(e){return(0,re.jsx)(d.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return(0,re.jsx)(Rt.Z,{icon:E.Z[e],label:M.ZP.getArtStr(e)},e)}))})},children:G.r.map((function(e){return(0,re.jsxs)($.Z,{value:e,children:[(0,re.jsx)(X.Z,{children:E.Z[e]}),(0,re.jsx)(Y.Z,{primaryTypographyProps:{style:Vt(e,t,r)},children:M.ZP.getArtStr(e)})]},e)}))})]})})}function Bt(e,t,n){return{fontWeight:t.includes(e)?n.typography.fontWeightMedium:n.typography.fontWeightRegular}}function _t(e){var t=e.artSetKeys,n=e.setArtSetKeys,r=(0,w.$)("artifact").t,i=(0,we.Z)(me.y.getAll,[]),c=(0,Ut.Z)(),l=(0,g.useMemo)((function(){return i?me.y.setKeysByRarities(i):{}}),[i]);return i?(0,re.jsx)("div",{children:(0,re.jsxs)(Gt.Z,{fullWidth:!0,children:[(0,re.jsx)(Ot.Z,{id:"artifact-set-multiple-chip-label",children:"Artifact Sets"}),(0,re.jsx)(Tt.Z,{labelId:"artifact-set-multiple-chip-label",id:"artifact-set-multiple-chip",multiple:!0,value:t,onChange:function(e){var t=e.target.value;n("string"===typeof t?t.split(","):t)},input:(0,re.jsx)(Dt.Z,{id:"artifact-set-select-multiple-chip",label:"Artifact Sets"}),renderValue:function(e){return(0,re.jsx)(d.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){var t;return(0,re.jsx)(Rt.Z,{icon:null===(t=i[e])||void 0===t?void 0:t.defIcon,label:i[e].name},e)}))})},children:!!Object.keys(l).length&&Object.entries(l).reverse().flatMap((function(e,n){var l=(0,s.Z)(e,2),o=l[0],u=l[1];return[].concat((0,a.Z)(n>0&&u.length?[(0,re.jsx)(le.Z,{},"".concat(o,"divi"))]:[]),(0,a.Z)(u.length?[(0,re.jsx)($.Z,{style:{pointerEvents:"none"},children:(0,re.jsx)(j.Z,{children:(0,re.jsxs)(S.c,{t:r,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",(0,re.jsx)(ne.t,{stars:parseInt(o)})]})})},"".concat(o,"header"))]:[]),(0,a.Z)(u.map((function(e){var n,r;return(0,re.jsxs)($.Z,{value:e,children:[(0,re.jsx)(X.Z,{children:null===(n=i[e])||void 0===n?void 0:n.defIcon}),(0,re.jsx)(Y.Z,{primaryTypographyProps:{style:Bt(e,t,c)},children:null===(r=i[e])||void 0===r?void 0:r.name})]},e)}))))}))})]})}):null}function zt(e,t,n){return{fontWeight:t.includes(e)?n.typography.fontWeightMedium:n.typography.fontWeightRegular}}function qt(e){var t=e.subStatKeys,n=e.setSubStatKeys,r=(0,Ut.Z)();return(0,re.jsx)("div",{children:(0,re.jsxs)(Gt.Z,{fullWidth:!0,children:[(0,re.jsx)(Ot.Z,{id:"sub-stat-multiple-chip-label",children:"Sub Stats"}),(0,re.jsx)(Tt.Z,{labelId:"sub-stat-multiple-chip-label",id:"sub-stat-multiple-chip",multiple:!0,value:t,onChange:function(e){var t=e.target.value;n("string"===typeof t?t.split(","):t)},input:(0,re.jsx)(Dt.Z,{id:"sub-stat-select-multiple-chip",label:"Sub Stats"}),renderValue:function(e){return(0,re.jsx)(d.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return(0,re.jsx)(Rt.Z,{icon:E.Z[e],label:M.ZP.getArtStr(e)},e)}))})},children:G.L.map((function(e){return(0,re.jsxs)($.Z,{value:e,children:[(0,re.jsx)(X.Z,{children:E.Z[e]}),(0,re.jsx)(Y.Z,{primaryTypographyProps:{style:zt(e,t,r)},children:M.ZP.getArtStr(e)})]},e)}))})]})})}var Ht,$t,Xt=n(36944),Yt=n(947);function Jt(e){var t,n,r=e.filterOption,s=e.filterOptionDispatch,a=e.filterDispatch,c=e.numShowing,d=e.total,f=(0,w.$)(["artifact","ui"]).t,h=r.artSetKeys,p=void 0===h?[]:h,b=r.mainStatKeys,k=void 0===b?[]:b,P=r.rarity,K=void 0===P?[]:P,I=r.slotKeys,E=void 0===I?[]:I,F=r.levelLow,W=r.levelHigh,M=r.substats,L=void 0===M?[]:M,R=r.location,G=void 0===R?"":R,O=r.excluded,D=void 0===O?"":O,T=(0,we.Z)(Yt.ZP.get(G),[G]);return t=G?"Inventory"===G?(0,re.jsxs)("span",{children:[(0,re.jsx)(Et.Z,{})," ",f("filterLocation.inventory")]}):"Equipped"===G?(0,re.jsxs)("span",{children:[(0,re.jsx)(o.G,{icon:l.caW})," ",f("filterLocation.currentlyEquipped")]}):(0,re.jsx)("b",{children:null===T||void 0===T?void 0:T.nameWIthIcon}):f("filterLocation.any"),n="excluded"===D?(0,re.jsxs)("span",{children:[(0,re.jsx)(o.G,{icon:l.gPx})," ",f(Ht||(Ht=(0,i.Z)(["exclusion.excluded"])))]}):"included"===D?(0,re.jsxs)("span",{children:[(0,re.jsx)(o.G,{icon:l.Stf})," ",f($t||($t=(0,i.Z)(["exclusion.included"])))]}):f("exclusionDisplay",{value:f("exclusion.any")}),(0,re.jsx)(g.Suspense,{fallback:(0,re.jsx)(y.Z,{variant:"rectangular",width:"100%",height:300}),children:(0,re.jsx)(C.Z,{children:(0,re.jsxs)(x.Z,{children:[(0,re.jsxs)(Z.ZP,{container:!0,children:[(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(j.Z,{variant:"h6",children:(0,re.jsx)(S.c,{t:f,i18nKey:"artifactFilter",children:"Artifact Filter"})})}),(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center",children:c!==d&&(0,re.jsxs)(j.Z,{children:["Filtered ",c," / ",d]})}),(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(v.Z,{size:"small",color:"error",onClick:function(){return a({type:"reset"})},startIcon:(0,re.jsx)(u.Z,{}),children:(0,re.jsx)(S.c,{t:f,i18nKey:"ui:reset"})})})]}),(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,mt:1,children:[(0,re.jsxs)(Z.ZP,{item:!0,xs:12,md:6,display:"flex",flexDirection:"column",gap:1,children:[(0,re.jsx)(A.Z,{fullWidth:!0,onChange:function(e,t){return s({rarity:t})},value:K,size:"small",children:ee.En.map((function(e){return(0,re.jsx)(m.Z,{value:e,children:(0,re.jsx)(ne.t,{stars:e})},e)}))}),(0,re.jsx)(A.Z,{fullWidth:!0,onChange:function(e,t){return s({slotKeys:t})},value:E,size:"small",children:ee.eV.map((function(e){return(0,re.jsx)(m.Z,{value:e,children:(0,oe.Ir)(e)},e)}))}),(0,re.jsx)(Lt.Z,{levelLow:F,levelHigh:W,setLow:function(e){return s({levelLow:e})},setHigh:function(e){return s({levelHigh:e})},setBoth:function(e,t){return s({levelLow:e,levelHigh:t})}}),(0,re.jsxs)(Mt.Z,{display:"flex",gap:1,children:[(0,re.jsx)(Qt,{dropdownProps:{color:G?"success":"primary"},title:t,onChange:function(e){return s({location:e})},selectedCharacterKey:G}),(0,re.jsxs)(te.Z,{fullWidth:!0,title:n,color:D?"included"===D?"success":"error":"primary",children:[(0,re.jsx)($.Z,{selected:""===D,disabled:""===D,onClick:function(){return s({excluded:""})},children:(0,re.jsx)(S.c,{t:f,i18nKey:"exclusion.any",children:"Any"})}),(0,re.jsxs)($.Z,{selected:"excluded"===D,disabled:"excluded"===D,onClick:function(){return s({excluded:"excluded"})},children:[(0,re.jsx)(X.Z,{children:(0,re.jsx)(o.G,{icon:l.gPx})}),(0,re.jsx)(Y.Z,{children:(0,re.jsx)(S.c,{t:f,i18nKey:"exclusion.excluded",children:"Excluded"})})]}),(0,re.jsxs)($.Z,{selected:"included"===D,disabled:"included"===D,onClick:function(){return s({excluded:"included"})},children:[(0,re.jsx)(X.Z,{children:(0,re.jsx)(o.G,{icon:l.Stf})}),(0,re.jsx)(Y.Z,{children:(0,re.jsx)(S.c,{t:f,i18nKey:"exclusion.included",children:"Included"})})]})]})]})]}),(0,re.jsxs)(Z.ZP,{item:!0,xs:12,md:6,display:"flex",flexDirection:"column",gap:1,children:[(0,re.jsx)(_t,{artSetKeys:p,setArtSetKeys:function(e){return s({artSetKeys:e})}}),(0,re.jsx)(Nt,{mainStatKeys:k,setMainStatKeys:function(e){return s({mainStatKeys:e})}}),(0,re.jsx)(qt,{subStatKeys:L,setSubStatKeys:function(e){return s({substats:e})}})]})]})]})})})}function Qt(e){var t=e.title,n=e.onChange,r=e.selectedCharacterKey,i=e.dropdownProps,s=(0,g.useContext)(F.t).database,a=(0,we.Z)(Yt.ZP.getAll,[]),d=(0,w.$)(["artifact","ui"]).t;return(0,re.jsxs)(te.Z,(0,c.Z)((0,c.Z)({fullWidth:!0},i),{},{title:t,children:[(0,re.jsxs)($.Z,{selected:""===r,disabled:""===r,onClick:function(){return n("")},children:[(0,re.jsx)(X.Z,{children:(0,re.jsx)(u.Z,{})}),(0,re.jsx)(Y.Z,{children:(0,re.jsx)(S.c,{t:d,i18nKey:"ui:unselect",children:"Unselect"})})]},"unselect"),(0,re.jsxs)($.Z,{selected:"Inventory"===r,disabled:"Inventory"===r,onClick:function(){return n("Inventory")},children:[(0,re.jsx)(X.Z,{children:(0,re.jsx)(Et.Z,{})}),(0,re.jsx)(Y.Z,{children:(0,re.jsx)(S.c,{t:d,i18nKey:"filterLocation.inventory",children:"Inventory"})})]},"inventory"),(0,re.jsxs)($.Z,{selected:"Equipped"===r,disabled:"Equipped"===r,onClick:function(){return n("Equipped")},children:[(0,re.jsx)(X.Z,{children:(0,re.jsx)(o.G,{icon:l.caW})}),(0,re.jsx)(Y.Z,{children:(0,re.jsx)(S.c,{t:d,i18nKey:"filterLocation.currentlyEquipped",children:"Currently Equipped"})})]},"equipped"),(0,re.jsx)(le.Z,{}),!!a&&(0,Xt.d)(a,s._getCharKeys().sort(),n,r)]}))}function en(e){var t=e.artifactIds,n=(e.filterOption,(0,w.$)(["artifact","ui"]).t),r=(0,g.useContext)(F.t).database,i=(0,g.useMemo)((function(){var e=t.map((function(e){return r._getArt(e)})),n=e.reduce((function(e,t){return e+(t.lock?0:1)}),0),i=e.length-n,s=n,a=e.reduce((function(e,t){return e+(t.location?1:0)}),0),c=e.reduce((function(e,t){return e+(t.exclude?1:0)}),0);return{numDelete:s,numUnequip:a,numExclude:c,numInclude:e.length-c,numUnlock:n,numLock:i}}),[t,r]),s=i.numDelete,a=i.numUnequip,c=i.numExclude,u=i.numInclude,d=i.numUnlock,f=i.numLock;return(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,re.jsxs)(v.Z,{fullWidth:!0,color:"error",disabled:!a,onClick:function(){return window.confirm("Are you sure you want to unequip ".concat(a," artifacts currently equipped on characters?"))&&t.map((function(e){return r.setArtLocation(e,"")}))},startIcon:(0,re.jsx)(o.G,{icon:l.wOQ}),children:[(0,re.jsx)(S.c,{t:n,i18nKey:"button.unequipArtifacts",children:"Unequip Artifacts"}),(0,re.jsx)(Re.Z,{sx:{ml:1},color:a?"success":"secondary",children:a})]})}),(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,re.jsxs)(v.Z,{fullWidth:!0,color:"error",disabled:!s,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(s," artifacts?"))&&t.map((function(e){var t;return!(null!==(t=r._getArt(e))&&void 0!==t&&t.lock)&&r.removeArt(e)}))},startIcon:(0,re.jsx)(o.G,{icon:l.$aW}),children:[(0,re.jsx)(S.c,{t:n,i18nKey:"button.deleteArtifacts",children:"Delete Artifacts"}),(0,re.jsx)(Re.Z,{sx:{ml:1},color:s?"success":"secondary",children:s})]})}),(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,re.jsxs)(v.Z,{fullWidth:!0,color:"error",disabled:!u,onClick:function(){return window.confirm("Are you sure you want to exclude ".concat(u," artifacts from build generations?"))&&t.map((function(e){return r.updateArt({exclude:!0},e)}))},startIcon:(0,re.jsx)(o.G,{icon:l.gPx}),children:[(0,re.jsx)(S.c,{t:n,i18nKey:"button.excludeArtifacts",children:"Exclude Artifacts"}),(0,re.jsx)(Re.Z,{sx:{ml:1},color:u?"success":"secondary",children:u})]})}),(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,re.jsxs)(v.Z,{fullWidth:!0,color:"error",disabled:!c,onClick:function(){return window.confirm("Are you sure you want to include ".concat(c," artifacts in build generations?"))&&t.map((function(e){return r.updateArt({exclude:!1},e)}))},startIcon:(0,re.jsx)(o.G,{icon:l.Stf}),children:[(0,re.jsx)(S.c,{t:n,i18nKey:"button.includeArtifacts",children:"Include Artifacts"}),(0,re.jsx)(Re.Z,{sx:{ml:1},color:c?"success":"secondary",children:c})]})}),(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,re.jsxs)(v.Z,{fullWidth:!0,color:"error",disabled:!f,onClick:function(){return window.confirm("Are you sure you want to unlock ".concat(f," artifacts?"))&&t.map((function(e){return r.updateArt({lock:!1},e)}))},startIcon:(0,re.jsx)(Ft.Z,{}),children:[(0,re.jsx)(S.c,{t:n,i18nKey:"button.unlockrtifacts",children:"Unlock Artifacts"}),(0,re.jsx)(Re.Z,{sx:{ml:1},color:f?"success":"secondary",children:f})]})}),(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,re.jsxs)(v.Z,{fullWidth:!0,color:"error",disabled:!d,onClick:function(){return window.confirm("Are you sure you want to lock ".concat(d," artifacts?"))&&t.map((function(e){return r.updateArt({lock:!0},e)}))},startIcon:(0,re.jsx)(Wt.Z,{}),children:[(0,re.jsx)(S.c,{t:n,i18nKey:"button.lockArtifacts",children:"Lock Artifacts"}),(0,re.jsx)(Re.Z,{sx:{ml:1},color:d?"success":"secondary",children:d})]})}),(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:12,md:6,display:"flex",justifyContent:"space-around",children:(0,re.jsx)(j.Z,{variant:"caption",color:"text.secondary",children:(0,re.jsxs)(S.c,{t:n,i18nKey:"buttonHint",children:["Note: the red buttons above only applies to ",(0,re.jsx)("b",{children:"currently filtered artifacts"})]})})})]})}var tn=n(44217),nn=["rarity","level","artsetkey","efficiency","mefficiency","probability"],rn=["probability"],sn=function(){return{filterOption:{artSetKeys:[],rarity:(0,a.Z)(ee.En),levelLow:0,levelHigh:20,slotKeys:(0,a.Z)(ee.eV),mainStatKeys:[],substats:[],location:"",excluded:""},ascending:!1,sortType:nn[0]}};var an,cn=n(4942),ln=n(14525);function on(e){var t=e.probabilityFilter,n=void 0===t?{}:t,r=e.setProbabilityFilter,i=e.disabled,a=void 0!==i&&i,l=G.L.filter((function(e){return!Object.keys(n).some((function(t){return t===e}))})),o=(0,g.useCallback)((function(e,t){return r((0,c.Z)((0,c.Z)({},n),{},(0,cn.Z)({},e,t)))}),[n,r]);return(0,re.jsxs)(C.Z,{children:[(0,re.jsx)(x.Z,{sx:{py:1},children:(0,re.jsxs)(j.Z,{variant:"h6",children:["Roll Probability Calculator ",(0,re.jsx)(Re.Z,{color:"success",children:"TC Feature"})]})}),(0,re.jsx)(le.Z,{}),(0,re.jsx)(x.Z,{children:(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,re.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,re.jsx)(fe.Z,{children:(0,re.jsx)(x.Z,{children:(0,re.jsxs)(j.Z,{children:['This UI only pops up when "Sort by" ',(0,re.jsx)("strong",{children:"Probability"}),". In conjunction with the Artifact Filters above, this UI allows you to set a criteria for substats values, and it will sort the artifacts by those with the highest probability to roll into those criteria values.",(0,re.jsx)(_e.Z,{color:"warning",children:" Artifacts that already reach the criteria(100%) or are at 0% are hidden."})]})})})}),(0,re.jsxs)(Z.ZP,{item:!0,xs:12,md:6,container:!0,spacing:1,children:[Object.entries(n).map((function(e){var t=(0,s.Z)(e,2),i=t[0],u=t[1];return(0,re.jsx)(Z.ZP,{item:!0,xs:12,children:(0,re.jsx)(ln.b,{statKey:i,statKeys:l,setFilter:o,disabled:a,value:u,close:function(){delete n[i],r((0,c.Z)({},n))}})},i)})),(0,re.jsx)(Z.ZP,{item:!0,xs:12,children:(0,re.jsx)(ln.b,{value:void 0,close:void 0,statKeys:l,setFilter:o,disabled:a})})]})]})})]})}var un=g.lazy((function(){return n.e(400).then(n.bind(n,56400))}));function dn(){return(0,c.Z)((0,c.Z)({},sn()),{},{maxNumArtifactsToDisplay:50,effFilter:(0,a.Z)(G.L),probabilityFilter:{}})}function fn(){var e=(0,L.Z)("GlobalSettings",W.c),t=(0,s.Z)(e,1)[0].tcMode,n=(0,w.$)(["artifact","ui"]).t,r=(0,P.TH)().state,m=(0,g.useContext)(F.t).database,A=(0,L.Z)("ArtifactDisplay",dn),E=(0,s.Z)(A,2),M=E[0],U=E[1],V=(0,g.useCallback)((function(e){"reset"===e.type?U(sn()):U(e)}),[U]),N=M.effFilter,B=M.filterOption,_=M.ascending,z=M.probabilityFilter,q=M.maxNumArtifactsToDisplay,H=M.sortType,$=t&&"probability"===H;"probability"!==H||t||V({sortType:nn[0]});var X=(0,g.useState)(null===r||void 0===r?void 0:r.artToEditId),Y=(0,s.Z)(X,2),J=Y[0],Q=Y[1],ee=(0,g.useState)(0),te=(0,s.Z)(ee,2),ne=te[0],ie=te[1],se=(0,g.useRef)(null),ae=(0,R.Z)(),ce=(0,s.Z)(ae,2),le=ce[0],oe=ce[1],ue=(0,g.useMemo)((function(){return new Set(N)}),[N]),de=(0,g.useCallback)((function(e){return m.removeArt(e)}),[m]),fe=(0,g.useCallback)((function(e){return Q(e)}),[]),he=(0,g.useCallback)((function(){return Q(void 0)}),[]);(0,g.useEffect)((function(){return b.ZP.pageview("/artifact"),m.followAnyArt(oe)}),[m,oe]);var xe=(0,g.useCallback)((function(e){V({filterOption:(0,c.Z)((0,c.Z)({},B),e)})}),[V,B]),Ze=(0,g.useCallback)((function(e){return V({probabilityFilter:e})}),[V]),ve=(0,g.useMemo)((function(){return!m._getArts().length}),[m]),pe=(0,g.useMemo)((function(){return function(e,t){return{rarity:{getValue:function(e){var t;return null!==(t=e.rarity)&&void 0!==t?t:0},tieBreaker:"level"},level:{getValue:function(e){var t;return null!==(t=e.level)&&void 0!==t?t:0},tieBreaker:"artsetkey"},artsetkey:{getValue:function(e){var t;return null!==(t=e.setKey)&&void 0!==t?t:""},tieBreaker:"level"},efficiency:{getValue:function(t){return je.Z.getArtifactEfficiency(t,e).currentEfficiency}},mefficiency:{getValue:function(t){return je.Z.getArtifactEfficiency(t,e).maxEfficiency}},probability:{getValue:function(e){if(!Object.keys(t).length)return 0;var n=e.probability;return void 0===n?(0,tn.B)(e,t):n}}}}(ue,z)}),[ue,z]),ye=(0,g.useMemo)((function(){return{excluded:function(e,t){return!("excluded"===t&&!e.exclude)&&("included"!==t||!e.exclude)},location:function(e,t){return!t||"Inventory"===t&&!e.location||!("Equipped"!==t||!e.location)||t===e.location},artSetKeys:function(e,t){return!t.length||t.includes(e.setKey)},slotKeys:function(e,t){return!t.length||t.includes(e.slotKey)},mainStatKeys:function(e,t){return!t.length||t.includes(e.mainStatKey)},levelLow:function(e,t){return t<=e.level},levelHigh:function(e,t){return t>=e.level},rarity:function(e,t){return t.includes(e.rarity)},substats:function(e,t){var n,r=(0,Ve.Z)(t);try{var i=function(){var t=n.value;if(t&&!e.substats.some((function(e){return e.key===t})))return{v:!1}};for(r.s();!(n=r.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(a){r.e(a)}finally{r.f()}return!0}}}),[]),me=(0,g.useMemo)((function(){var e=M.sortType,t=void 0===e?nn[0]:e,n=M.ascending,r=void 0!==n&&n,i=M.filterOption,s=m._getArts(),a=(0,O.C)(i,ye),l=(0,O.e)(t,r,pe);$&&(s.forEach((function(e){return e.probability=(0,tn.B)(e,z)})),s=s.filter((function(e){return e.probability&&1!==e.probability})));var o=s.filter(a).sort(l).map((function(e){return e.id}));return(0,c.Z)({artifactIds:o,totalArtNum:s.length},le)}),[M,le,m,pe,ye,z,$]),ge=me.artifactIds,be=me.totalArtNum,we=(0,g.useMemo)((function(){var e=Math.ceil(ge.length/q),t=(0,D.uZ)(ne,0,e-1);return{artifactsToShow:ge.slice(t*q,(t+1)*q),numPages:e,currentPageIndex:t}}),[ge,ne,q]),Se=we.artifactsToShow,ke=we.numPages,Pe=we.currentPageIndex,Ce=ge.length!==be?"".concat(ge.length,"/").concat(be):"".concat(be),Ke=(0,g.useCallback)((function(e,t){var n;null===(n=se.current)||void 0===n||n.scrollIntoView({behavior:"smooth"}),ie(t-1)}),[ie,se]);return(0,re.jsxs)(d.Z,{display:"flex",flexDirection:"column",gap:1,my:1,children:[(0,re.jsx)(K.Z,{pageKey:"artifactPage",modalTitle:n(an||(an=(0,i.Z)(["info.title"]))),text:n("tipsOfTheDay",{returnObjects:!0}),children:(0,re.jsx)(un,{})}),ve&&(0,re.jsxs)(f.Z,{severity:"info",variant:"filled",children:["Looks like you haven't added any artifacts yet. If you want, there are ",(0,re.jsx)(h.Z,{color:"warning.main",component:k.rU,to:"/scanner",children:"automatic scanners"})," that can speed up the import process!"]}),(0,re.jsx)(It,{artifactIdToEdit:J,cancelEdit:he}),(0,re.jsx)(Jt,{filterOption:B,filterOptionDispatch:xe,filterDispatch:V,numShowing:ge.length,total:be}),$&&(0,re.jsx)(on,{probabilityFilter:z,setProbabilityFilter:Ze}),(0,re.jsx)(C.Z,{ref:se,children:(0,re.jsxs)(x.Z,{children:[(0,re.jsxs)(Z.ZP,{container:!0,sx:{mb:1},children:[(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsx)("span",{children:(0,re.jsx)(S.c,{t:n,i18nKey:"efficiencyFilter.title",children:"Substats to use in efficiency calculation"})})}),(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(v.Z,{size:"small",color:"error",onClick:function(){return V({effFilter:(0,a.Z)(G.L)})},startIcon:(0,re.jsx)(u.Z,{}),children:(0,re.jsx)(S.c,{t:n,i18nKey:"ui:reset"})})})]}),(0,re.jsx)(xn,{selectedKeys:N,onChange:function(e){return V({effFilter:e})}})]})}),(0,re.jsx)(C.Z,{children:(0,re.jsxs)(x.Z,{children:[(0,re.jsxs)(Z.ZP,{container:!0,alignItems:"center",sx:{pb:2},children:[(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsx)(p.Z,{count:ke,page:Pe+1,onChange:Ke})}),(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsx)(hn,{count:ke,page:Pe+1,onChange:Ke,numShowing:Se.length,total:Ce,t:n})}),(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,lg:4,xl:3,children:(0,re.jsx)(I.Z,{fullWidth:!0,sortKeys:(0,a.Z)(nn.filter((function(e){return!rn.includes(e)||t}))),value:H,onChange:function(e){return V({sortType:e})},ascending:_,onChangeAsc:function(e){return V({ascending:e})}})})]}),(0,re.jsx)(en,{artifactIds:ge,filterOption:B})]})}),(0,re.jsx)(g.Suspense,{fallback:(0,re.jsx)(y.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,lg:4,xl:3,children:(0,re.jsxs)(C.Z,{sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[(0,re.jsx)(x.Z,{children:(0,re.jsx)(j.Z,{sx:{textAlign:"center"},children:"Add New Artifact"})}),(0,re.jsx)(d.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,re.jsx)(v.Z,{onClick:function(){return fe("new")},sx:{borderRadius:"1em"},children:(0,re.jsx)(j.Z,{variant:"h1",children:(0,re.jsx)(o.G,{icon:l.r8p,className:"fa-fw"})})})})]})}),Se.map((function(e){return(0,re.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,lg:4,xl:3,children:(0,re.jsx)(T.Z,{artifactId:e,effFilter:ue,onDelete:de,onEdit:fe,probabilityFilter:$?z:void 0})},e)}))]})}),ke>1&&(0,re.jsx)(C.Z,{children:(0,re.jsx)(x.Z,{children:(0,re.jsxs)(Z.ZP,{container:!0,children:[(0,re.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,re.jsx)(p.Z,{count:ke,page:Pe+1,onChange:Ke})}),(0,re.jsx)(Z.ZP,{item:!0,children:(0,re.jsx)(hn,{count:ke,page:Pe+1,onChange:Ke,numShowing:Se.length,total:Ce,t:n})})]})})})]})}function hn(e){e.count,e.page,e.onChange;var t=e.numShowing,n=e.total,r=e.t;return(0,re.jsx)(j.Z,{color:"text.secondary",children:(0,re.jsxs)(S.c,{t:r,i18nKey:"showingNum",count:t,value:n,children:["Showing ",(0,re.jsx)("b",{children:{count:t}})," out of ",{value:n}," Artifacts"]})})}function xn(e){var t=e.selectedKeys,n=e.onChange,r=G.L.slice(0,6),i=G.L.slice(6),s=t.filter((function(e){return r.includes(e)})),c=t.filter((function(e){return i.includes(e)}));return(0,re.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,re.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,re.jsx)(A.Z,{fullWidth:!0,value:s,onChange:function(e,t){return n([].concat((0,a.Z)(c),(0,a.Z)(t)))},sx:{height:"100%"},children:r.map((function(e){return(0,re.jsx)(m.Z,{size:"small",value:e,children:(0,re.jsxs)(d.Z,{display:"flex",gap:1,alignItems:"center",children:[E.Z[e],M.ZP.getArtStr(e)]})},e)}))})}),(0,re.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,re.jsx)(A.Z,{fullWidth:!0,value:c,onChange:function(e,t){return n([].concat((0,a.Z)(s),(0,a.Z)(t)))},sx:{height:"100%"},children:i.map((function(e){return(0,re.jsx)(m.Z,{size:"small",value:e,children:(0,re.jsxs)(d.Z,{display:"flex",gap:1,alignItems:"center",children:[E.Z[e],M.ZP.getArtStr(e)]})},e)}))})})]})}},17278:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(29439),i=n(72791),s=n(56928);function a(e,t){var n=(0,i.useContext)(s.t).database,a=(0,i.useState)(n._getState(e,t)),c=(0,r.Z)(a,2),l=c[0],o=c[1];return(0,i.useEffect)((function(){return o(n._getState(e,t))}),[n,e,t]),(0,i.useEffect)((function(){return e?n.followState(e,o):void 0}),[e,o,n]),[l,(0,i.useCallback)((function(t){return n.updateState(e,t)}),[n,e])]}},46956:function(e,t,n){n.d(t,{e:function(){return i},C:function(){return s}});var r=n(29439);function i(e,t,n){function r(e,t,n,r){var i=r.getValue(e),s=r.getValue(t);return(n?-1:1)*("string"===typeof i&&"string"===typeof s?i.localeCompare(s):s-i)}return function(i,s){if(!n[e])return 0;var a=n[e],c=r(i,s,t,a);return!c&&a.tieBreaker&&n[a.tieBreaker]&&(c=r(i,s,t,n[a.tieBreaker])),c}}function s(e,t){return function(n){return Object.entries(e).every((function(e){var i=(0,r.Z)(e,2),s=i[0],a=i[1];return t[s]&&t[s](n,a)}))}}},57641:function(e,t,n){e.exports=n.p+"static/media/scan_art_main.66f01e51a69c518e4278.png"},82554:function(e,t,n){e.exports=n.p+"static/media/snippet.d223e79704fd95bcb783.png"}}]);
//# sourceMappingURL=611.7e663688.chunk.js.map