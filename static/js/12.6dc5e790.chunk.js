(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[12],{191:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(16),r=n(14),c=n(52),o=n(1),i=function(){return Object(o.jsx)(c.a,{icon:r.x})},s=function(e){var t=e.stars,n=e.colored,r=void 0!==n&&n;return Object(o.jsx)("span",{className:r?"text-5star":"",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(o.jsx)(i,{},t)})):null})}},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(207),r=n(111),c=n(16),o=n(11),i=n(4),s=n(21),u=n(43),l=n(110),d=n(99),f=n(35),v=n(80),h=n(42),b=n(36),p=n(199),m=n(12),j=n(9),O=n(44),y=function e(){if(Object(s.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};y.getElementalName=function(e){return v.a[e].name},y.getLevelString=function(e){return"".concat(e.level,"/").concat(f.a[e.ascension])},y.getTalentFieldValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[t]?Object(j.f)(e[t],n):a},y.hasOverride=function(e,t){return"finalHP"===t?y.hasOverride(e,"hp")||y.hasOverride(e,"hp_")||y.hasOverride(e,"characterHP"):"finalDEF"===t?y.hasOverride(e,"def")||y.hasOverride(e,"def_")||y.hasOverride(e,"characterDEF"):"finalATK"===t?y.hasOverride(e,"atk")||y.hasOverride(e,"atk_")||y.hasOverride(e,"characterATK"):!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},y.getBaseStatValue=function(e,t,n,a){return"enemyLevel"===a?e.level:a.includes("enemyRes_")?10:a in f.b?f.b[a]:0},y.getStatValueWithOverride=function(e,t,n,a){var r,c;return y.hasOverride(e,a)?null!==(r=null===(c=e.baseStatOverrides)||void 0===c?void 0:c[a])&&void 0!==r?r:0:y.getBaseStatValue(e,t,n,a)},y.calculateBuild=function(e,t,n,a){var r,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.artifacts?r=Object.fromEntries(e.artifacts.map((function(e,t){return[t,e]}))):e.equippedArtifacts&&(r=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return[n,h.a._getArt(a)]}))));var o=y.createInitialStats(e,t,n);return o.mainStatAssumptionLevel=c,y.calculateBuildwithArtifact(o,r,a)},y.calculateBuildwithArtifact=function(e,t,n){var a,r=u.a.setToSlots(t),c=l.a.setEffectsStats(n,e,r),s=Object(j.d)(e);Object.values(t).forEach((function(e){e&&(s[e.mainStatKey]=(s[e.mainStatKey]||0)+u.a.mainStatValue(e.mainStatKey,e.numStars,Math.max(Math.min(s.mainStatAssumptionLevel,4*e.numStars),e.level)),e.substats.forEach((function(e){return e&&e.key&&(s[e.key]=(s[e.key]||0)+e.value)})))})),Object(O.a)(s,c),d.a.parseConditionalValues({artifact:null===s||void 0===s||null===(a=s.conditionalValues)||void 0===a?void 0:a.artifact},(function(e,t,n){var a,c,o=Object(i.a)(n,3),u=o[1],l=o[2];if(!(parseInt(l)>(null!==(a=null===r||void 0===r||null===(c=r[u])||void 0===c?void 0:c.length)&&void 0!==a?a:0))){var f=d.a.resolve(e,s,t).stats;Object(O.a)(s,f)}})),s.equippedArtifacts=Object.fromEntries(Object.entries(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return[n,null===a||void 0===a?void 0:a.id]}))),s.setToSlots=r;var f=Object(p.a)(s,null===s||void 0===s?void 0:s.modifiers),v=Object(b.c)(f,s),h=v.initialStats;return(0,v.formula)(h),Object(o.a)(Object(o.a)({},s),h)},y.createInitialStats=function(e,t,n){var s,u,l,v=e=Object(j.d)(e),h=v.characterKey,b=v.elementKey,p=v.level,g=v.ascension,w=v.hitMode,S=v.infusionAura,x=v.reactionMode,_=v.talentLevelKeys,k=v.constellation,E=v.equippedArtifacts,C=v.conditionalValues,K=void 0===C?{}:C,N=v.weapon,A=["enemyLevel"].concat(Object(c.a)(Object.keys(f.b))),L=Object.fromEntries(A.map((function(a){return[a,y.getStatValueWithOverride(e,t,n,a)]})));L.characterHP=t.getBase("hp",p,g),L.characterDEF=t.getBase("def",p,g),L.characterATK=t.getBase("atk",p,g),L.characterLevel=p,L.characterEle=null!==(s=null!==(u=t.elementKey)&&void 0!==u?u:b)&&void 0!==s?s:"anemo",L.characterKey=h,L.hitMode=w,L.infusionAura=S,L.reactionMode=x,L.conditionalValues=K,L.weaponType=t.weaponTypeKey,L.tlvl=_,L.constellation=k,L.ascension=g,L.weapon=Object(j.d)(N),L.equippedArtifacts=E,["physical"].concat(Object(c.a)(m.d)).forEach((function(a){var r="".concat(a,"_enemyRes_");L[r]=y.getStatValueWithOverride(e,t,n,r),r="".concat(a,"_enemyImmunity"),L[r]=y.getStatValueWithOverride(e,t,n,r)}));var V=(null===(l=e)||void 0===l?void 0:l.baseStatOverrides)||{};Object.entries(V).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];L.hasOwnProperty(n)||(L[n]=a)}));var P=t.getSpecializedStat(g);if(P){var T=t.getSpecializedStatVal(g);Object(O.a)(L,Object(r.a)({},P,T))}for(var R in t.getTalentStatsAll(L,L.characterEle).forEach((function(e){return Object(O.a)(L,e)})),L.tlvl){var I;L.tlvl[R]+=null!==(I=L["".concat(R,"Boost")])&&void 0!==I?I:0}var M=n.getMainStatValue(N.level,N.ascension);L.weaponATK=M;var B=n.getSubStatKey();B&&Object(O.a)(L,Object(r.a)({},B,n.getSubStatValue(N.level,N.ascension))),Object(O.a)(L,n.stats(L));K.artifact;var W=K.weapon,z=Object(a.a)(K,["artifact","weapon"]);return d.a.parseConditionalValues(Object(o.a)(Object(o.a)({},N.key&&{weapon:Object(r.a)({},N.key,null===W||void 0===W?void 0:W[N.key])}),z),(function(e,t,n){if(("character"!==n[0]||"talents"!==n[3]||n[4]===b)&&d.a.canShow(e,L)){var a=d.a.resolve(e,L,t).stats;Object(O.a)(L,a)}})),L},y.getDisplayStatKeys=function(e,t){var n=t.characterSheet,a=t.weaponSheet,r=t.artifactSheets,c=e.characterEle,s=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(c,"_dmg_")];n.isAutoElemental||s.push("physical_dmg_");var u=Object(j.d)(b.a[c]),l=n.weaponTypeKey;u.includes("shattered_hit")||"claymore"!==l||u.push("shattered_hit");var f={},v=n.getTalent(c),h=function(t,n){return t.forEach((function(t){var a;t.formula&&(null===t||void 0===t||null===(a=t.canShow)||void 0===a?void 0:a.call(t,e))&&(f[n]||(f[n]=[]),f[n].push(t.formula.keys))}))},p=function(t,n){if(t.conditional&&d.a.canShow(t.conditional,e)){var a=d.a.resolve(t.conditional,e,null).fields;a&&h(a,n)}t.fields&&h(t.fields,n)};v&&Object.entries(v.sheets).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1].sections;"normal"!==n&&"charged"!==n&&"plunging"!==n||(n="auto"),a.forEach((function(e){return p(e,"talentKey_".concat(n))}))}));var m="weapon_".concat(e.weapon.key);return a.document&&a.document.map((function(e){return p(e,m)})),e.setToSlots&&Object.entries(e.setToSlots).map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1].length]})).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1],c=r[n];c&&Object.entries(c.setEffects).forEach((function(e){var t=Object(i.a)(e,2),r=t[0],c=t[1].document;a<parseInt(r)||c&&c.map((function(e){return p(e,"artifact_".concat(n,"_").concat(r))}))}))})),Object(o.a)(Object(o.a)({basicKeys:s},f),{},{transReactions:u})}},195:function(e,t,n){"use strict";var a=n(2),r=n(5),c=n(6),o=n.n(c),i=n(0),s=n.n(i),u=n(8),l=["bsPrefix","size","toggle","vertical","className","as"],d=s.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.size,i=e.toggle,d=e.vertical,f=e.className,v=e.as,h=void 0===v?"div":v,b=Object(r.a)(e,l),p=Object(u.a)(n,"btn-group"),m=p;return d&&(m=p+"-vertical"),s.a.createElement(h,Object(a.a)({},b,{ref:t,className:o()(f,m,c&&p+"-"+c,i&&p+"-toggle")}))}));d.displayName="ButtonGroup",d.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=d},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return h}));var a=n(52),r=n(54),c=n(1);function o(e){var t=e.noColor,n=void 0!==t&&t;return Object(c.jsx)(a.a,{icon:r.a,className:n?"":"text-anemo"})}function i(e){var t=e.noColor,n=void 0!==t&&t;return Object(c.jsx)(a.a,{icon:r.b,className:n?"":"text-cryo"})}function s(e){var t=e.noColor,n=void 0!==t&&t;return Object(c.jsx)(a.a,{icon:r.c,className:n?"":"text-dendro"})}function u(e){var t=e.noColor,n=void 0!==t&&t;return Object(c.jsx)(a.a,{icon:r.d,className:n?"":"text-electro"})}function l(e){var t=e.noColor,n=void 0!==t&&t;return Object(c.jsx)(a.a,{icon:r.e,className:n?"":"text-geo"})}function d(e){var t=e.noColor,n=void 0!==t&&t;return Object(c.jsx)(a.a,{icon:r.f,className:n?"":"text-hydro"})}function f(e){var t=e.noColor,n=void 0!==t&&t;return Object(c.jsx)(a.a,{icon:r.g,className:n?"":"text-pyro"})}var v={anemo:Object(c.jsx)(o,{}),cryo:Object(c.jsx)(i,{}),dendro:Object(c.jsx)(s,{}),electro:Object(c.jsx)(u,{}),geo:Object(c.jsx)(l,{}),hydro:Object(c.jsx)(d,{}),pyro:Object(c.jsx)(f,{})},h={anemo:o,cryo:i,dendro:s,electro:u,geo:l,hydro:d,pyro:f};t.i=v},198:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a);function c(e,t){var n=0;return r.a.Children.map(e,(function(e){return r.a.isValidElement(e)?t(e,n++):e}))}},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n(16),c=n(69),o=n(36);function i(e){var t=new Set;return e(new Proxy({},{get:function(e,n,a){t.add(n.toString())}})),Object(r.a)(t)}var s=Object.freeze(Object.fromEntries(Object.entries(o.b).map((function(e){var t=Object(a.a)(e,2);return[t[0],i(t[1])]}))));function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(o.d),a=new Set,c=[new Set,new Set];return n.forEach((function(n){return l(e,n,t,c,a)})),c.flatMap((function(e){return Object(r.a)(e)}))}function l(e,t,n,a,r){var i,u;r.has(t)||(r.add(t),null===(i=s[t])||void 0===i||i.forEach((function(t){return l(e,t,n,a,r)})),(null!==(u=n[t])&&void 0!==u?u:[]).forEach((function(t){return c.a.getCurrent(t,e)[1].forEach((function(t){return l(e,t,n,a,r)}))})),a[Object(o.e)(t)].add(t))}},200:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:n.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:n.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:n.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:n.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},202:function(e,t,n){"use strict";var a=n(2),r=n(5),c=n(6),o=n.n(c),i=n(0),s=n.n(i),u=n(7),l=n.n(u),d=n(8),f=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],v=(l.a.string,l.a.bool,l.a.bool,l.a.bool,l.a.bool,s.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.className,i=e.fluid,u=e.rounded,l=e.roundedCircle,v=e.thumbnail,h=Object(r.a)(e,f);n=Object(d.a)(n,"img");var b=o()(i&&n+"-fluid",u&&"rounded",l&&"rounded-circle",v&&n+"-thumbnail");return s.a.createElement("img",Object(a.a)({ref:t},h,{className:o()(c,b)}))})));v.displayName="Image",v.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},t.a=v},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);function r(e){var t=function(e){var t=Object(a.useRef)(e);return t.current=e,t}(e);Object(a.useEffect)((function(){return function(){return t.current()}}),[])}},206:function(e,t,n){"use strict";function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}n.d(t,"a",(function(){return r}))},207:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return a}))},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(82),r=n(0),c=function(e){var t;return"undefined"===typeof document?null:null==e?Object(a.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function o(e,t){var n=Object(r.useState)((function(){return c(e)})),a=n[0],o=n[1];if(!a){var i=c(e);i&&o(i)}return Object(r.useEffect)((function(){t&&a&&t(a)}),[t,a]),Object(r.useEffect)((function(){var t=c(e);t!==a&&o(t)}),[e,a]),a}},212:function(e,t,n){"use strict";var a=n(2),r=n(5),c=n(6),o=n.n(c),i=n(0),s=n.n(i),u=n(58),l=["children","name","className","checked","type","onChange","value","disabled","inputRef"],d=function(){},f=s.a.forwardRef((function(e,t){var n=e.children,c=e.name,f=e.className,v=e.checked,h=e.type,b=e.onChange,p=e.value,m=e.disabled,j=e.inputRef,O=Object(r.a)(e,l),y=Object(i.useState)(!1),g=y[0],w=y[1],S=Object(i.useCallback)((function(e){"INPUT"===e.target.tagName&&w(!0)}),[]),x=Object(i.useCallback)((function(e){"INPUT"===e.target.tagName&&w(!1)}),[]);return s.a.createElement(u.a,Object(a.a)({},O,{ref:t,className:o()(f,g&&"focus",m&&"disabled"),type:void 0,active:!!v,as:"label"}),s.a.createElement("input",{name:c,type:h,value:p,ref:j,autoComplete:"off",checked:!!v,disabled:!!m,onFocus:S,onBlur:x,onChange:b||d}),n)}));f.displayName="ToggleButton",t.a=f},270:function(e,t,n){"use strict";var a=n(2),r=n(5),c=n(0),o=n.n(c),i=n(70),s=n.n(i),u=n(34),l=n(47),d=n(198),f=n(195),v=n(212),h=["children","type","name","value","onChange"],b=o.a.forwardRef((function(e,t){var n=Object(u.a)(e,{value:"onChange"}),c=n.children,i=n.type,v=n.name,b=n.value,p=n.onChange,m=Object(r.a)(n,h),j=function(){return null==b?[]:[].concat(b)};return"radio"!==i||v||s()(!1),o.a.createElement(f.a,Object(a.a)({},m,{ref:t,toggle:!0}),Object(d.a)(c,(function(e){var t=j(),n=e.props,a=n.value,r=n.onChange;return o.a.cloneElement(e,{type:i,name:e.name||v,checked:-1!==t.indexOf(a),onChange:Object(l.a)(r,(function(e){return function(e,t){if(p){var n=j(),a=-1!==n.indexOf(e);"radio"!==i?p(a?n.filter((function(t){return t!==e})):[].concat(n,[e]),t):!a&&p&&p(e,t)}}(a,e)}))})})))}));b.defaultProps={type:"radio",vertical:!1},b.Button=v.a,t.a=b},508:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return je}));var a=n(4),r=n(173),c=n(2),o=n(5),i=n(0),s=n.n(i),u=n(6),l=n.n(u),d=n(218),f=n(98),v=n(20),h=n(8),b=n(126),p=s.a.createContext({onClose:function(){}}),m=["bsPrefix","closeLabel","closeButton","className","children"],j=s.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.closeLabel,r=e.closeButton,u=e.className,d=e.children,f=Object(o.a)(e,m);n=Object(h.a)(n,"toast-header");var j=Object(i.useContext)(p),O=Object(v.a)((function(e){j&&j.onClose&&j.onClose(e)}));return s.a.createElement("div",Object(c.a)({ref:t},f,{className:l()(n,u)}),d,r&&s.a.createElement(b.a,{label:a,onClick:O,className:"ml-2 mb-1","data-dismiss":"toast"}))}));j.displayName="ToastHeader",j.defaultProps={closeLabel:"Close",closeButton:!0};var O=j,y=n(17),g=Object(y.a)("toast-body"),w=["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"],S=s.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,r=e.children,u=e.transition,v=void 0===u?f.a:u,b=e.show,m=void 0===b||b,j=e.animation,O=void 0===j||j,y=e.delay,g=void 0===y?3e3:y,S=e.autohide,x=void 0!==S&&S,_=e.onClose,k=Object(o.a)(e,w);n=Object(h.a)(n,"toast");var E=Object(i.useRef)(g),C=Object(i.useRef)(_);Object(i.useEffect)((function(){E.current=g,C.current=_}),[g,_]);var K=Object(d.a)(),N=!(!x||!m),A=Object(i.useCallback)((function(){N&&(null==C.current||C.current())}),[N]);Object(i.useEffect)((function(){K.set(A,E.current)}),[K,A]);var L=Object(i.useMemo)((function(){return{onClose:_}}),[_]),V=!(!v||!O),P=s.a.createElement("div",Object(c.a)({},k,{ref:t,className:l()(n,a,!V&&(m?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),r);return s.a.createElement(p.Provider,{value:L},V&&v?s.a.createElement(v,{in:m,unmountOnExit:!0},P):P)}));S.displayName="Toast";var x=Object.assign(S,{Body:g,Header:O}),_=n(27),k=n(226),E=n(58),C=n(180),K=(n(179),n(15)),N=n(221),A=(n(199),n(42)),L=n(21),V=n(26),P=n(16);function T(e,t,n){try{switch(t.encode&&(e=t.encode(e)),t.type){case"uint":return function(e,t){var n=B(e,t.length);return t.length?n:I(n.length)+n}(e,t);case"string":return function(e,t){if(!e.match(/^[a-z0-9\-_]*$/i))throw new Error("Cannot encode string ".concat(e,": not alphanumeric or -_"));return I(e.length)+e}(e);case"array":return function(e,t){var n=t.schemas,a=void 0===n?[]:n,r=t.defaultSchema;return I(e.length)+e.map((function(e,t){var n;return T(e,null!==(n=a[t])&&void 0!==n?n:r,t)})).join("")}(e,t);case"object":return function(e,t){var n=t.schemas,r=void 0===n?[]:n;return Object.entries(r).map((function(t){var n=Object(a.a)(t,2),r=n[0],c=n[1];return T(r in e?e[r]:c.default,c,r)})).join("")}(e,t);case"sparse":return function(e,t){var n=t.keySchema,r=t.keys,c=t.valueSchema,o=Object.entries(e).filter((function(e){var t,n=Object(a.a)(e,1)[0];return null===(t=null===r||void 0===r?void 0:r.includes(n))||void 0===t||t}));return I(o.length)+o.map((function(e){var t=Object(a.a)(e,2),r=t[0],o=t[1];return T(r,n,r)+T(o,c,r)})).join("")}(e,t);default:throw new Error("Unsupported schema type ".concat(t.type," on array"))}}catch(c){var r;throw c.path=null!==(r=c.path)&&void 0!==r?r:[],c.path.push(n),c}}function R(e,t,n){try{var r;switch(t.type){case"uint":r=function(e,t){var n=t.length||M(e);return W(e.take(n))}(e,t);break;case"string":r=function(e,t){var n=e.take(M(e));if(!n.match(/^[a-z0-9\-_]*$/i))throw new Error("Cannot decode string ".concat(n,": not alphanumeric or -_"));return n}(e);break;case"array":r=function(e,t){var n=t.schemas,a=void 0===n?[]:n,r=t.defaultSchema,c=M(e);return Object(P.a)(new Array(c)).map((function(t,n){var c;return R(e,null!==(c=a[n])&&void 0!==c?c:r,n)}))}(e,t);break;case"object":r=function(e,t){var n=t.schemas,r=void 0===n?[]:n;return Object.fromEntries(Object.entries(r).map((function(t){var n=Object(a.a)(t,2),r=n[0],c=n[1];return[r,R(e,c,r)]})))}(e,t);break;case"sparse":r=function(e,t){var n=t.keys,r=t.keySchema,c=t.valueSchema,o=M(e);return Object.fromEntries(Object(P.a)(new Array(o)).map((function(){var t=R(e,r,null);return[t,R(e,c,t)]})).filter((function(e){var t,r=Object(a.a)(e,1)[0];return null===(t=null===n||void 0===n?void 0:n.includes(r))||void 0===t||t})))}(e,t);break;default:throw new Error("Unsupported schema type ".concat(t.type," on array"))}return t.decode?t.decode(r):r}catch(o){var c;throw o.path=null!==(c=o.path)&&void 0!==c?c:[],o.path.push(n),o}}function I(e){if(e>=32)throw new Error("Length (".concat(e,") too large"));return B(e,1)}function M(e){var t=W(e.take(1));if(t>=32)throw new Error("Length (".concat(t,") too large"));return t}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0)throw new Error("Cannot encode negative number ".concat(e));for(var n="";e>0;){var a=e%64;e=Math.floor(e/64),a<10?n+=String.fromCharCode(a+48-0):a<36?n+=String.fromCharCode(a+97-10):a<62?n+=String.fromCharCode(a+65-36):62===a?n+="-":63===a&&(n+="_")}if(!t)return n;if(n.length>t)throw new Error("Cannot encode uint ".concat(e,": value too large"));return n.padEnd(t,"0")}function W(e){for(var t=0,n=1,a=0;a<e.length;a++){var r=e.charCodeAt(a);if(48<=r&&r<58)t+=n*(r-48+0);else if(97<=r&&r<123)t+=n*(r-97+10);else if(65<=r&&r<91)t+=n*(r-65+36);else if("-"===e[a])t+=62*n;else{if("_"!==e[a])throw new Error('Cannot parse UInt from "'.concat(e,'", which contains "').concat(String.fromCharCode(r),'"'));t+=63*n}n*=64}return t}var z=function(){function e(t){Object(L.a)(this,e),this.string=void 0,this.offset=void 0,this.string=t,this.offset=0}return Object(V.a)(e,[{key:"take",value:function(e){if(this.offset+e>this.string.length)throw new Error("Cannot take ".concat(e," items from ").concat(this.string.slice(this.offset)));var t=this.string.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"end",value:function(){if(this.string.length!==this.offset)throw new Error("Unused string ".concat(this.string.slice(this.offset)))}}]),e}(),F=n(57),H=n(11),U=n(35),D=n(12),q=n(9),G=[""].concat(Object(P.a)(D.d)),J=["","hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","heal_","physical_dmg_","anemo_dmg_","cryo_dmg_","dendro_dmg_","electro_dmg_","geo_dmg_","hydro_dmg_","pyro_dmg_"],$=function(e){return{type:"uint",length:e}},Q={type:"string",encode:function(e){return e.toString().replace(/\./g,"_")},decode:function(e){return parseFloat(e.replace(/_/g,"."))}},X={type:"string"},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(H.a)({type:"array",defaultSchema:e},t)},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(H.a)({type:"object",schemas:e},t)},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"uint",length:t,encode:function(t){return e.indexOf(t)},decode:function(t){return e[t]}}},te=ee(J),ne=ee(D.b),ae=ee(D.h),re=ee(D.c),ce=ee(D.e),oe=ee([null].concat(Object(P.a)(D.g))),ie=ee(G),se=Z({setKey:ne,numStars:$(1),level:$(2),mainStatKey:te,slotKey:ae,substats:Y(Z({key:te,value:$(2)},{encode:function(e){var t=e.key,n=e.value,a=t.endsWith("_")?10:1;return{key:t,value:n*a}},decode:function(e){var t=e.key,n=e.value,a=t.endsWith("_")?10:1;return{key:t,value:n/a}}}))}),ue=Y(Z({path:Y(X),value:Y(X)}),{encode:function(e){var t=[];return Object(q.c)(e,[],(function(e){return Array.isArray(e)}),(function(e,n){t.push({path:n,value:e.map((function(e){return e.toString()}))})})),t.filter((function(e){var t=e.path;switch(t[0]){case"character":t[0]="c",t[1]=B(D.c.indexOf(t[1]));break;case"weapon":t[0]="w";break;case"artifact":t[0]="a",t[1]=B(D.b.indexOf(t[1]));break;default:return!1}return!0})),t},decode:function(e){var t,n={weapon:{},artifact:{},character:{}},a=Object(F.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,c=r.path,o=r.value;switch(c[0]){case"c":c[0]="character",c[1]=D.c[W(c[1])];break;case"w":c[0]="weapon";break;case"a":c[0]="artifact",c[1]=D.b[W(c[1])];break;default:continue}var i,s=c.pop(),u=n,l=Object(F.a)(c);try{for(l.s();!(i=l.n()).done;){var d,f=i.value,v=null!==(d=u[f])&&void 0!==d?d:{};u[f]=v,u=v}}catch(h){l.e(h)}finally{l.f()}o[0]=parseFloat(o[0]),u[s]=o}}catch(h){a.e(h)}finally{a.f()}return n}}),le=Z({key:X,levelKey:X,refineIndex:$(1),overrideMainVal:Q,overrideSubVal:Q},{encode:function(e){var t=e.level,n=U.a.findIndex((function(e){return t<=e}))<e.ascension?"A":"";return e.levelKey="L".concat(t).concat(n),e.overrideMainVal=0,e.overrideSubVal=0,e},decode:function(e){var t=e.levelKey;delete e.levelKey,delete e.overrideMainVal,delete e.overrideSubVal;var n=t.split("L"),r=Object(a.a)(n,2)[1],c=parseInt(r),o=U.a.findIndex((function(e){return c<=e})),i=r.includes("A");return c<0||c>90||o<0?(e.level=1,e.ascension=0):(e.level=c,e.ascension=o+(i?1:0)),e}}),de=Z({characterKey:re,hitMode:ce,reactionMode:oe,constellation:$(1),overrideLevel:$(2),levelKey:X,infusionAura:ie,talentLevelKeys:Z({auto:$(1),skill:$(1),burst:$(1)}),baseStatOverrides:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"sparse",keys:n,keySchema:e,valueSchema:t}}(X,Q),weapon:le,conditionalValues:ue,reserved:Y($(1))},{encode:function(e){var t=10*Math.round(e.level/10),n=U.a[e.ascension];return e.levelKey="L".concat(t).concat(t===n?"":"A"),t===e.level?e.overrideLevel=0:e.overrideLevel=e.level,"traveler"===e.characterKey?e.reserved=[G.indexOf(e.elementKey)]:e.reserved=[],e},decode:function(e){var t,n="A"===e.levelKey.slice(-1),a=n?e.levelKey.slice(1,-1):e.levelKey.slice(1);switch(e.level=parseInt(a),e.level){case 1:case 20:e.ascension=0;break;case 40:e.ascension=1;break;case 50:e.ascension=2;break;case 60:e.ascension=3;break;case 70:e.ascension=4;break;case 80:e.ascension=5;break;case 90:e.ascension=6}(n&&(e.ascension+=1),e.baseStatOverrides.characterLevel&&(e.level=e.baseStatOverrides.characterLevel,delete e.baseStatOverrides.characterLevel),e.baseStatOverrides.weaponLevel&&(e.weapon.level=e.baseStatOverrides.weaponLevel,delete e.baseStatOverrides.weaponLevel),e.overrideLevel&&(e.level=e.overrideLevel),delete e.overrideLevel,delete e.levelKey,"traveler"===e.characterKey)&&(e.elementKey=null!==(t=G[e.reserved[0]])&&void 0!==t?t:"anemo");return delete e.reserved,e}}),fe={flexV2:Z({artifacts:Y(se),character:de})};[null].concat(Object(P.a)(D.g));function ve(e,t){try{return"v=2&d="+T({character:e,artifacts:t},fe.flexV2,null)}catch(n){return null}}function he(e,t){var n=function(e,t){var n=new z(e),a=R(n,t,null);return n.end(),a}(e,t),a=n.character,r=n.artifacts;return r.forEach((function(e){e.location=a.characterKey})),{artifacts:r,character:a}}var be=n(52),pe=n(14),me=n(1);function je(){var e=Object(K.h)(),t=e.search;if(t){var n=function(e){var t=Object.fromEntries(e.split("&").map((function(e){return e.split("=")})));try{switch(parseInt(t.v)){case 2:return[he(t.d,fe.flexV2),2];default:return}}catch(n){return}}(t.substring(1));if(!n)return Object(me.jsx)(K.a,{to:"/"});var r=Object(a.a)(n,2),c=r[0],o=c.character,i=c.artifacts,s=r[1];return o.artifacts=i,2!==s?Object(me.jsx)(K.a,{to:"/flex?".concat(ve(o,i))}):Object(me.jsx)(Oe,{character:o})}var u=e.characterKey;if(!u)return Object(me.jsx)(K.a,{to:"/"});var l=function(e){var t=A.a._getChar(e);return t?ve(t,Object.values(t.equippedArtifacts).filter((function(e){return e})).map((function(e){return A.a._getArt(e)}))):null}(u);return l?(window.scrollTo(0,0),Object(me.jsx)(K.a,{to:"/flex?".concat(l)})):Object(me.jsx)(K.a,{to:"/"})}function Oe(e){var t=e.character,n=Object(i.useState)(!1),c=Object(a.a)(n,2),o=c[0],s=c[1],u=window.location.href;return Object(me.jsxs)(r.a,{className:"my-2",children:[Object(me.jsxs)(x,{onClose:function(){return s(!1)},show:o,delay:3e3,autohide:!0,style:{position:"absolute",top:50,right:50},children:[Object(me.jsx)(x.Header,{children:Object(me.jsx)("b",{className:"mr-auto",children:"Genshin Optimizer"})}),Object(me.jsx)(x.Body,{children:"URL copied to clipboard."})]}),Object(me.jsx)(_.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(me.jsxs)(_.a.Body,{className:"p-2",children:[Object(me.jsxs)(k.a,{className:"mb-0",children:[Object(me.jsx)(k.a.Prepend,{children:Object(me.jsx)(E.a,{onClick:function(){navigator.clipboard.writeText(u),s(!0)},children:Object(me.jsxs)("span",{children:[Object(me.jsx)(be.a,{icon:pe.m})," Copy URL to clipboard"]})})}),Object(me.jsx)(C.a.Control,{readOnly:!0,value:window.location.href,onClick:function(e){return e.target.select()}})]}),!1]})}),Object(me.jsx)(N.default,{character:t})]})}}}]);
//# sourceMappingURL=12.6dc5e790.chunk.js.map