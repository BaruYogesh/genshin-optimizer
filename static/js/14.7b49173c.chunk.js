(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[14],{194:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(17),c=n(53),r=n(9),i=n(1),s=function(){return Object(i.jsx)(r.a,{icon:c.s})},l=function(e){var t=e.stars,n=e.colored,c=void 0!==n&&n;return Object(i.jsx)("span",{className:c?"text-5star":"",children:t?Object(a.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(s,{},t)})):null})}},198:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),c=n(0),r=n(125),i=n(1);function s(e){var t=e.value,n=e.onChange,s=e.className,l=void 0===s?"":s,o=e.disabled,u=void 0!==o&&o,j=e.float,d=void 0!==j&&j,b=e.placeholder,f=e.allowEmpty,h=void 0!==f&&f,O=e.max,x=e.min,m=Object(c.useState)(""),v=Object(a.a)(m,2),p=v[0],y=v[1],g=Object(c.useCallback)((function(){if(h&&""===p)return n(void 0);if(""===p)return n(0);var e=d?parseFloat:parseInt;n(e(p))}),[n,p,d,h]);return Object(c.useEffect)((function(){var e;return y(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t,y]),Object(i.jsx)(r.a,{value:p,"aria-label":"custom-input",className:"hide-appearance ".concat(l),type:"number",placeholder:b,onChange:function(e){return y(e.target.value)},onBlur:g,disabled:u,onKeyDown:function(e){return"Enter"===e.key&&g()},max:O,min:x})}},204:function(e,t,n){"use strict";function a(e,t){switch(t){case"%":return(Math.round(10*e)/10).toFixed(1)+"%";case"eff":return e.toFixed(2)+"%";default:return Math.round(e).toFixed(0)}}function c(e,t){switch(t){case"%":return(Math.round(10*e)/10).toFixed(1);case"eff":return e.toFixed(2);default:return Math.round(e).toFixed(0)}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}))},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(83),c=n(113),r=n(43),i=n(81),s=n(1);function l(e){var t=e.onSelect;return Object(s.jsx)(s.Fragment,{children:r.a._getCharKeys().sort((function(e,t){return e<t?-1:e>t?1:0})).map((function(e){return Object(s.jsx)(o,{characterKey:e,onSelect:t},e)}))})}function o(e){var t=e.characterKey,n=e.onSelect,r=Object(i.b)(c.b.get(t),[t]);return r?Object(s.jsx)(a.a.Item,{onClick:function(){return n(t)},children:r.nameWIthIcon}):null}},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(3),c=n(53),r=n(9),i=n(0),s=n(512),l=n(27),o=n(60),u=n(31),j=n(56),d=n(191),b=n(10),f=n(78),h=n(1);function O(e){var t,n,O=e.pageKey,x=void 0===O?"":O,m=e.text,v=void 0===m?"":m,p=e.modalTitle,y=void 0===p?"":p,g=e.children,S=Object(i.useState)(null===(t=null===(n=Object(b.l)("infoShown"))||void 0===n?void 0:n[x])||void 0===t||t),k=Object(a.a)(S,2),w=k[0],N=k[1],K=Object(i.useState)(Array.isArray(v)?Object(b.g)(v):v),C=Object(a.a)(K,1)[0],A=function(){var e,t=null!==(e=Object(b.l)("infoShown"))&&void 0!==e?e:{};t[x]=!1,Object(b.p)("infoShown",t),N(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{show:w,onHide:function(){return A()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(h.jsxs)(l.a,{bg:"darkcontent",text:"lightfont",children:[Object(h.jsx)(l.a.Header,{children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(u.a,{children:Object(h.jsx)(l.a.Title,{children:y})}),Object(h.jsx)(u.a,{xs:"auto",children:Object(h.jsx)(j.a,{variant:"danger",onClick:function(){return A()},children:Object(h.jsx)(r.a,{icon:c.t})})})]})}),Object(h.jsx)(l.a.Body,{children:Object(h.jsx)(i.Suspense,{fallback:Object(h.jsxs)("h3",{className:"text-center",children:["Loading... ",Object(h.jsx)(d.a,{animation:"border",variant:"primary"})]}),children:g})}),Object(h.jsx)(l.a.Footer,{children:Object(h.jsx)(j.a,{variant:"danger",onClick:function(){return A()},children:Object(h.jsx)("span",{children:"Close"})})})]})}),Object(h.jsx)(l.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(h.jsx)(l.a.Body,{className:"pl-2 py-0 pr-0",children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(u.a,{children:Object(h.jsx)("small",{children:C})}),Object(h.jsx)(u.a,{xs:"auto",children:Object(h.jsxs)(j.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return N(!0)},children:[Object(h.jsx)(f.a,{ns:"ui",key18:"info"})," ",Object(h.jsx)(r.a,{icon:c.n})]})})]})})})]})}},216:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a,c,r,i,s=n(197),l=n(3),o=n(53),u=n(9),j=n(0),d=n(156),b=n(56),f=n(200),h=n(27),O=n(31),x=n(83),m=n(134),v=n(222),p=n(60),y=n(219),g=n(52),S=n(113),k=n(208),w=n(194),N=n(43),K=n(30),C=n(59),A=n(81),I=n(204),E=n(68),L=n(111),M=n(116),F=n(217),T=n(1),R=new Set(C.b);function P(e){var t,n,C,P,U,D=e.artifactId,z=e.artifactObj,W=e.onEdit,H=e.onDelete,B=e.mainStatAssumptionLevel,q=void 0===B?0:B,V=e.effFilter,_=void 0===V?R:V,G=Object(g.a)(["artifact"]).t,J=Object(j.useState)(void 0),Y=Object(l.a)(J,2),$=Y[0],Q=Y[1];Object(j.useEffect)((function(){return D?N.a.followArt(D,Q):void 0}),[D,Q]);var X=Object(A.b)(L.a.get(null===(t=null!==z&&void 0!==z?z:D?N.a._getArt(D):void 0)||void 0===t?void 0:t.setKey),[z,D]),Z=function(e){return N.a.setLocation(D,e)},ee=!z,te=null!==z&&void 0!==z?z:$,ne=Object(A.b)(S.b.get(null!==(n=null===te||void 0===te?void 0:te.location)&&void 0!==n?n:""),[null===te||void 0===te?void 0:te.location]);if(!te)return null;var ae=te.id,ce=te.slotKey,re=te.numStars,ie=te.level,se=te.mainStatKey,le=te.substats,oe=te.lock,ue=Math.max(Math.min(q,4*re),ie),je=Object(T.jsx)("span",{className:ue!==ie?"text-orange":"",children:Object(I.b)(null!==(C=E.a.mainStatValue(se,re,ue))&&void 0!==C?C:0,K.b.getStatUnit(se))}),de=E.a.getArtifactEfficiency(te,_),be=de.currentEfficiency,fe=de.maxEfficiency,he=0!==fe,Oe=(null===ne||void 0===ne?void 0:ne.name)?ne.nameWIthIcon:Object(T.jsxs)("span",{children:[Object(T.jsx)(u.a,{icon:o.a})," ",G(a||(a=Object(s.a)(["filterLocation.inventory"])))]}),xe=(null===X||void 0===X?void 0:X.getSlotName(ce))||"Unknown Piece Name",me=null===X||void 0===X?void 0:X.getSlotDesc(ce),ve=me?Object(T.jsx)(v.a,{placement:"top",overlay:Object(T.jsx)(y.a,{id:"slotdesc-tooltip",children:me}),children:Object(T.jsx)(u.a,{icon:o.i})}):null,pe=null===X||void 0===X?void 0:X.setEffects,ye=X&&pe&&Object(T.jsx)(y.a,{id:"setdesc-tooltop",children:Object.keys(pe).map((function(e){return Object(T.jsxs)("span",{className:"text-left",children:[Object(T.jsx)("h6",{className:"mb-0",children:Object(T.jsx)(d.a,{variant:"success",children:G("setEffectNum",{setNum:e})})}),Object(T.jsx)("p",{children:X.setEffectDesc(e)})]},e)}))}),ge=ye?Object(T.jsx)(v.a,{placement:"top",overlay:ye,children:Object(T.jsx)(u.a,{icon:o.i})}):null;return Object(T.jsxs)(h.a,{className:"h-100",border:"".concat(re,"star"),bg:"lightcontent",text:"lightfont",children:[Object(T.jsx)(h.a.Header,{className:"p-0",children:Object(T.jsxs)(p.a,{children:[Object(T.jsx)(O.a,{xs:2,md:3,children:Object(T.jsx)(m.a,{src:null!==(P=null===X||void 0===X?void 0:X.slotIcons[ce])&&void 0!==P?P:"",className:"w-100 h-auto grad-".concat(re,"star m-1"),thumbnail:!0})}),Object(T.jsxs)(O.a,{className:"pt-2",children:[Object(T.jsx)("h6",{children:Object(T.jsxs)("strong",{children:[xe," ",ve]})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(M.b,{slotKey:ce}),Object(T.jsx)("strong",{children:" +".concat(ie)})]}),Object(T.jsx)("div",{children:Object(T.jsx)("small",{children:Object(T.jsx)(w.a,{stars:re})})})]})]})}),Object(T.jsxs)(h.a.Body,{className:"d-flex flex-column py-2",children:[Object(T.jsx)(h.a.Title,{children:Object(T.jsxs)("div",{children:[null!==(U=null===X||void 0===X?void 0:X.name)&&void 0!==U?U:"Artifact Set"," ",ge]})}),Object(T.jsx)("h5",{className:"mb-1",children:Object(T.jsxs)("b",{children:[K.b.getStatName(se)," ",je]})}),Object(T.jsx)(p.a,{className:"mb-0",children:le.map((function(e,t){var n,a,c;if(!e.value)return null;var r=null!==(n=null===(a=e.rolls)||void 0===a?void 0:a.length)&&void 0!==n?n:0,i=null!==(c=e.efficiency)&&void 0!==c?c:0,s=.3+.7*i,l=K.b.getStatName(e.key);return Object(T.jsxs)(O.a,{xs:12,children:[Object(T.jsx)(d.a,{variant:r?"".concat(r,"roll"):"danger",className:"text-darkcontent",children:Object(T.jsx)("b",{children:r||"?"})})," ",Object(T.jsxs)("span",{className:"text-".concat(r,"roll"),children:[l,"+".concat(Object(I.b)(e.value,K.b.getStatUnit(e.key)))]}),Object(T.jsx)("span",{className:"float-right",style:{opacity:s},children:e.key&&_.has(e.key)?Object(I.b)(i,"eff"):"-"})]},t)}))}),Object(T.jsxs)("div",{className:"mt-auto",children:[Object(T.jsxs)(p.a,{children:[Object(T.jsx)(O.a,{children:Object(T.jsx)("small",{children:G(c||(c=Object(s.a)(["editor.curSubEff"])))})}),Object(T.jsx)(O.a,{xs:"auto",children:Object(T.jsx)(F.a,{value:be,valid:he})})]}),be!==fe&&Object(T.jsxs)(p.a,{children:[Object(T.jsx)(O.a,{children:Object(T.jsx)("small",{children:G(r||(r=Object(s.a)(["editor.maxSubEff"])))})}),Object(T.jsx)(O.a,{xs:"auto",children:Object(T.jsx)(F.a,{value:fe,valid:he})})]})]})]}),Object(T.jsx)(h.a.Footer,{className:"pr-3",children:Object(T.jsxs)(p.a,{className:"d-flex justify-content-between no-gutters",children:[ee?Object(T.jsx)(O.a,{xs:"auto",children:Object(T.jsxs)(x.a,{children:[Object(T.jsx)(x.a.Toggle,{size:"sm",className:"text-left",children:Oe}),Object(T.jsxs)(x.a.Menu,{children:[Object(T.jsxs)(x.a.Item,{onClick:function(){return Z("")},children:[Object(T.jsx)(u.a,{icon:o.a})," Inventory"]}),Object(T.jsx)(x.a.Divider,{}),Object(T.jsx)(k.a,{onSelect:Z})]})]})}):Object(T.jsx)(O.a,{xs:"auto",children:Object(T.jsx)("b",{children:Oe})}),Object(T.jsx)(O.a,{xs:"auto",children:Object(T.jsxs)(f.a,{children:[ee?Object(T.jsx)(v.a,{placement:"top",overlay:Object(T.jsx)(y.a,{id:"lock-artifact-tip",children:G(i||(i=Object(s.a)(["lockArtifactTip"])))}),children:Object(T.jsx)("span",{className:"d-inline-block",children:Object(T.jsx)(b.a,{size:"sm",onClick:function(){return N.a.lockArtifact(ae,!oe)},children:Object(T.jsx)(u.a,{icon:oe?o.k:o.l,className:"fa-fw"})})})}):null,!!W&&Object(T.jsx)(b.a,{variant:"info",size:"sm",onClick:W,children:Object(T.jsx)(u.a,{icon:o.g,className:"fa-fw"})}),!!H&&Object(T.jsx)(b.a,{variant:"danger",size:"sm",onClick:H,children:Object(T.jsx)(u.a,{icon:o.w,className:"fa-fw"})})]})})]})})]})}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(3),c=n(156),r=n(1);function i(e){var t=e.value,n=e.valid,i="number"===typeof t?["".concat(Math.floor(.05*t)+1,"roll"),t.toFixed(2)+"%"]:["secondary",t],s=Object(a.a)(i,2),l=s[0],o=s[1];return n||(l="danger"),Object(r.jsx)(c.a,{variant:l,className:"secondary"===l?"":"text-darkcontent",children:o})}},514:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return xt}));var a=n(197),c=n(98),r=n(3),i=n(12),s=n(17),l=n(53),o=n(9),u=n(0),j=n.n(u),d=n(27),b=n(200),f=n(56),h=n(83),O=n(226),x=n(270),m=n(212),v=n(508),p=n(31),y=n(176),g=n(60),S=n(45),k=n(52),w=n(20),N=n(113),K=n(208),C=n(198),A=n(215),I=n(194),E=n(43),L=n(30),M=n(59),F=n(14),T=n(81),R=n(10),P=n(68),U=n(216),D=n(41),z=n.n(D),W=n(57),H=n(269),B=n(125),q=n(222),V=n(519),_=n(182),G=n(156),J=n(50),Y=n(111),$=n(204);var Q=n(1);function X(e){var t=e.sheets,n=e.click,a=Object(k.a)("artifact").t;return Object(Q.jsx)(j.a.Fragment,{children:t&&Object.entries(Y.a.setKeysByRarities(t)).reverse().map((function(e,c){var i=Object(r.a)(e,2),s=i[0],l=i[1];return Object(Q.jsxs)(j.a.Fragment,{children:[c>0&&Object(Q.jsx)(h.a.Divider,{}),Object(Q.jsx)(h.a.Header,{children:Object(Q.jsxs)(w.a,{t:a,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",Object(Q.jsx)(I.a,{stars:parseInt(s)})]})}),l.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return n(e)},children:t[e].nameWithIcon},e)}))]},s)}))})}var Z=n(116),ee=n(217),te=n(349),ne=n(183),ae=n(512),ce=n(318),re=n.p+"static/media/scan_art_main.ab1cfe61.png",ie=n.p+"static/media/snippet.d223e797.png",se=n(22),le=n(26),oe={r:255,g:204,b:50},ue=new(function(){function e(t,n){Object(se.a)(this,e),this.data={},this.init=void 0,this.deinit=void 0,this.init=t,this.deinit=n}return Object(le.a)(e,[{key:"borrow",value:function(){var e=Object(W.a)(z.a.mark((function e(t,n){var a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data[t]||(this.data[t]={value:this.init(t),refCount:0}),(a=this.data[t]).refCount+=1,e.next=5,n(a.value);case 5:return c=e.sent,a.refCount-=1,a.refCount||(delete this.data[t],this.deinit(t,a.value)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())(function(){var e=Object(W.a)(z.a.mark((function e(t){var n,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ce.createScheduler)(),a=Array(2).fill(0).map(function(){var e=Object(W.a)(z.a.mark((function e(a){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(ce.createWorker)({errorHandler:console.error}),e.next=3,c.load();case 3:return e.next=5,c.loadLanguage(t);case 5:return e.next=7,c.initialize(t);case 7:n.addWorker(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.any(a);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t){t.then((function(e){return e.terminate()}))}));function je(e){var t,n,a,c=e.setState,l=e.setReset,o=e.artifactInEditor,j=Object(u.useState)(!1),b=Object(r.a)(j,2),h=b[0],O=b[1],x=Object(u.useReducer)(be,{processed:[],outstanding:[]}),m=Object(r.a)(x,2),v=m[0],y=v.processed,k=v.outstanding,w=m[1],N=y[0],K=k[0],C=Object(T.b)(null===K||void 0===K?void 0:K.imageURL,[null===K||void 0===K?void 0:K.imageURL]),A=Object(T.b)(null===K||void 0===K?void 0:K.result,[null===K||void 0===K?void 0:K.result]),I=y.length+k.length,E=null!==(t=null===N||void 0===N?void 0:N.imageURL)&&void 0!==t?t:C,L=null!==N&&void 0!==N?N:{},M=L.artifact,F=L.texts,R=null!==(n=null!==(a=null===N||void 0===N?void 0:N.fileName)&&void 0!==a?a:null===K||void 0===K?void 0:K.fileName)&&void 0!==n?n:"Click here to upload Artifact screenshot files";Object(u.useEffect)((function(){!o&&M&&c(M)}),[o,M,c]),Object(u.useEffect)((function(){var e=Math.min(16-y.length,3,k.length),t=e&&!k[0].result;k.slice(0,e).forEach(fe),t&&w({type:"processing"})}),[y.length,k]),Object(u.useEffect)((function(){A&&w(Object(i.a)({type:"processed"},A))}),[A,w]);var P=Object(u.useCallback)((function(){return w({type:"pop"})}),[w]),U=Object(u.useCallback)((function(e){return w({type:"upload",files:Object(s.a)(e).map((function(e){return{file:e,fileName:e.name}}))})}),[w]),D=Object(u.useCallback)((function(){return w({type:"clear"})}),[w]);Object(u.useEffect)((function(){var e=function(e){return U(e.clipboardData.files)};return window.addEventListener("paste",e),null===l||void 0===l||l(P),function(){return window.removeEventListener("paste",e)}}),[l,P,U]);var z=E&&Object(Q.jsx)("img",{src:E,className:"w-100 h-auto",alt:"Screenshot to parse for artifact values"});return Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(de,{modalShow:h,hide:function(){return O(!1)}}),Object(Q.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)("h6",{className:"mb-0",children:"Parse Artifact by Uploading Image"})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsx)(f.a,{variant:"info",size:"sm",onClick:function(){O(!0),S.a.modalview("/artifact/how-to-upload")},children:"Show Me How!"})})]})}),I>0&&Object(Q.jsx)(p.a,{xs:12,children:Object(Q.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{className:"p-1 ml-2",children:["Screenshots in file-queue: ",Object(Q.jsx)("b",{children:I}),!1]}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsx)(f.a,{size:"sm",variant:"danger",onClick:D,children:"Clear file-queue"})})]})})}),Object(Q.jsx)(p.a,{xs:8,lg:E?4:0,children:z}),Object(Q.jsxs)(p.a,{xs:12,lg:E?8:12,children:[!N&&K&&Object(Q.jsxs)("div",{className:"mb-2",children:[Object(Q.jsx)("h6",{className:"mb-0",children:"Scanning current artifact"}),Object(Q.jsx)(te.a,{animated:!0,now:100})]}),Object(Q.jsx)(ne.a.File,{type:"file",className:"mb-0",label:R,onChange:function(e){U(e.target.files),e.target.value=null},accept:"image/*",custom:!0,multiple:!0}),F&&Object(Q.jsxs)("div",{className:"mb-2",children:[Object(Q.jsx)("div",{children:F.slotKey}),Object(Q.jsx)("div",{children:F.mainStatKey}),Object(Q.jsx)("div",{children:F.mainStatVal}),Object(Q.jsx)("div",{children:F.numStars}),Object(Q.jsx)("div",{children:F.level}),Object(Q.jsx)("div",{children:F.substats}),Object(Q.jsx)("div",{children:F.setKey})]}),Boolean(!E)&&Object(Q.jsx)(ne.a.Label,{className:"mb-0",children:"Please Select an Image, or paste a screenshot here (Ctrl+V)"})]})]})}function de(e){var t=e.modalShow,n=e.hide;return Object(Q.jsx)(ae.a,{show:t,onHide:n,size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(Q.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",children:[Object(Q.jsx)(d.a.Header,{children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)(d.a.Title,{children:"How do Upload Screenshots for parsing"})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsx)(f.a,{variant:"danger",onClick:n,children:Object(Q.jsx)(o.a,{icon:l.t})})})]})}),Object(Q.jsxs)(d.a.Body,{children:[Object(Q.jsx)("h5",{className:"text-warning",children:"NOTE: Artifact Scanning currently only work for ENGLISH artifacts."}),Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{xs:8,md:4,children:Object(Q.jsx)("img",{alt:"snippet of the screen to take",src:ie,className:"w-100 h-auto"})}),Object(Q.jsxs)(p.a,{xs:12,md:8,children:[Object(Q.jsx)("p",{children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(Q.jsx)("h5",{children:"Where to snip the screenshot."}),Object(Q.jsxs)("p",{children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",Object(Q.jsx)("b",{children:"Only artifact from this screen can be scanned."})]}),Object(Q.jsx)("h6",{children:"Single artifact"}),Object(Q.jsxs)("p",{children:["To take a screenshot, in Windows, the shortcut is ",Object(Q.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),Object(Q.jsx)("h6",{children:"Multiple artifacts"}),Object(Q.jsxs)("p",{children:["To take advantage of batch uploads, you can use a tool like ",Object(Q.jsx)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),Object(Q.jsx)("h5",{children:"What to include in the screenshot."}),Object(Q.jsx)("p",{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]})]}),Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{children:[Object(Q.jsx)("h5",{children:"Adding Screenshot to Genshin Optimizer"}),Object(Q.jsx)("p",{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),Object(Q.jsx)("p",{className:"mb-0",children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),Object(Q.jsxs)("p",{children:["For single screenshots from the snippets, just press ",Object(Q.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),Object(Q.jsxs)("p",{children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(Q.jsx)("b",{children:"Artifact Editor"}),"."]})]}),Object(Q.jsxs)(p.a,{xs:12,children:[Object(Q.jsx)("h5",{children:"Finishing the Artifact"}),Object(Q.jsxs)("p",{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",Object(Q.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]}),Object(Q.jsx)("img",{alt:"main screen after importing stats",src:re,className:"w-75 h-auto"})]})]})]}),Object(Q.jsx)(d.a.Footer,{children:Object(Q.jsx)(f.a,{variant:"danger",onClick:n,children:Object(Q.jsx)("span",{children:"Close"})})})]})})}var be=function(e,t){switch(t.type){case"upload":return{processed:e.processed,outstanding:[].concat(Object(s.a)(e.outstanding),Object(s.a)(t.files))};case"processing":return{processed:e.processed,outstanding:Object(s.a)(e.outstanding)};case"processed":return e.outstanding[0].file===t.file?{processed:[].concat(Object(s.a)(e.processed),[t.result]),outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function fe(e){if(!e.result){var t=e.file,n=e.fileName;e.imageURL=We(t),e.result=e.imageURL.then(function(){var e=Object(W.a)(z.a.mark((function e(a){var c,i,s,l,o,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.getAll();case 2:return c=e.sent,e.next=5,qe(a);case 5:return i=e.sent,s=Je(c,i.rarities,Ye(i.artifactSetTexts,c),Xe(i.whiteTexts),tt(i.substatTexts),Ze(i.whiteTexts),et(i.whiteTexts)),l=Object(r.a)(s,2),o=l[0],u=l[1],e.abrupt("return",{file:t,result:{fileName:n,imageURL:a,artifact:o,texts:u}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}var he,Oe,xe,me,ve,pe,ye,ge,Se,ke,we,Ne,Ke,Ce,Ae,Ie,Ee,Le,Me,Fe,Te,Re,Pe,Ue,De,ze,We=function(e){return new Promise((function(t){var n=new FileReader;n.onloadend=function(e){var n=e.target;return t(n.result)},n.readAsDataURL(e)}))},He=function(e){return new Promise((function(t){var n=new Image;n.onload=function(e){var n=e.target;return t(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)}(n))},n.src=e}))};function Be(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}function qe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(W.a)(z.a.mark((function e(t){var n,a,c,i,s,l,o,u,j,d,b;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t);case 2:return n=e.sent,a=n.width,c=Math.floor(n.height/2),i={rectangle:{top:c,left:0,width:a,height:c}},s=[_e(nt(n,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),_e(nt(n,[30,50,80],[160,160,160],{region:"bot"}),i),_e(nt(n,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),i)],l=$e(n.data,n.width,n.height),e.next=9,Promise.all(s);case 9:return o=e.sent,u=Object(r.a)(o,3),j=u[0],d=u[1],b=u[2],e.abrupt("return",{whiteTexts:j,substatTexts:d,artifactSetTexts:b,rarities:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(W.a)(z.a.mark((function e(t){var n,a,c,r=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:void 0,a=Be(t),e.next=4,ue.borrow("eng",function(){var e=Object(W.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,e.sent.addJob("recognize",a,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return c=e.sent,e.abrupt("return",c.data.lines.map((function(e){return e.text})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t,n,a,i,l,o){var u,j=Object(s.a)(new Set([].concat(Object(s.a)(n),["Adventurer","ArchaicPetra"]))),d=-1,b=[{id:"",setKey:"Adventurer",numStars:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1}],f=Object.fromEntries(F.a.map((function(t){var a=0;n.size&&(a+=Object(s.a)(n).reduce((function(n,a){return n+(e[a].rarity.includes(t)?1:0)}),0)/n.size);i.length&&(a+=i.reduce((function(e,n){return e+(P.a.getSubstatRolls(n.key,n.value,t).length?1:0)}),0)/i.length*2);return[t,a]}))),h=Object(c.a)(F.h);try{for(h.s();!(u=h.n()).done;){var O,x=u.value,m=Object(c.a)(P.a.slotMainStats(x));try{var v=function(){for(var t=O.value,i=(a.has(x)?1:0)+(l.has(t)?1:0),s=o.filter((function(e){return"%"!==e.unit||"%"===L.b.getStatUnit(t)})).map((function(e){return e.mainStatValue})),u=function(){var a=Object(r.a)(m[h],2),l=a[0],o=a[1],u=parseInt(l),f=j.filter((function(t){return e[t].rarity.includes(u)})),O=i+o;if(O+2<d)return"continue";var v,p=Object(c.a)(s);try{var y=function(){var e,a=v.value,r=P.a.mainStatValues(u,t),i=Math.max(0,r.findIndex((function(e){return e>=a}))),s=r[i],l=O+(s===a?1:0),o=Object(c.a)(f);try{for(o.s();!(e=o.n()).done;){var j=e.value,h=l+(n.has(j)?1:0);h>=d&&(h>d&&(b=[]),d=h,b.push({id:"",setKey:j,numStars:u,level:i,slotKey:x,mainStatKey:t,substats:[],location:"",lock:!1}))}}catch(m){o.e(m)}finally{o.f()}};for(p.s();!(v=p.n()).done;)y()}catch(N){p.e(N)}finally{p.f()}if(O>=d){var g,S=Object(c.a)(f);try{for(S.s();!(g=S.n()).done;){var k=g.value,w=O+(n.has(k)?1:0);w>d&&(b=[]),d=w,b.push({id:"",setKey:k,numStars:u,level:0,slotKey:x,mainStatKey:t,substats:[],location:"",lock:!1})}}catch(N){S.e(N)}finally{S.f()}}},h=0,m=Object.entries(f);h<m.length;h++)u()};for(m.s();!(O=m.n()).done;)v()}catch(T){m.e(T)}finally{m.f()}}}catch(T){h.e(T)}finally{h.f()}var p={},y={setKey:new Set,numStars:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},g=b[0],S=P.a.mainStatValue(g.mainStatKey,g.numStars,g.level);g.substats=i.filter((function(e,t){return e.key!==g.mainStatKey&&i.slice(0,t).every((function(t){return t.key!==e.key}))}));for(var k=g.substats.length;k<4;k++)g.substats.push({key:"",value:0});for(var w=0,N=b;w<N.length;w++){var K=N[w];y.setKey.add(K.setKey),y.numStars.add(K.numStars),y.level.add(K.level),y.slotKey.add(K.slotKey),y.mainStatKey.add(K.mainStatKey)}function C(e,t,n){return Object(Q.jsxs)(Q.Fragment,{children:["Unknown ",t," : Set to ",Object(Q.jsx)("span",{className:"text-danger",children:n(e)})]})}function A(e,t,n){return Object(Q.jsxs)(Q.Fragment,{children:["Detected ",t," ",Object(Q.jsx)("span",{className:"text-success",children:n(e)})]})}function I(e,t,n){return Object(Q.jsxs)(Q.Fragment,{children:["Inferred ",t," ",Object(Q.jsx)("span",{className:"text-warning",children:n(e)})]})}function E(e,t,n,a){var c=new Set(Object(s.a)(y[e]).filter((function(e){return t.has(e)})));c.size>1?p[e]=function(e,t,n,a){return Object(Q.jsxs)(Q.Fragment,{children:["Ambiguous ",n," ",Object(Q.jsx)("span",{className:"text-danger",children:a(e)})," : May also be ",t.filter((function(t){return t!==e})).map((function(e,t){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("b",{children:t>0?"/":""}),Object(Q.jsx)("span",{className:"text-warning",children:a(e)})]})}))]})}(g[e],Object(s.a)(t),n,a):1===c.size?p[e]=A(g[e],n,a):y[e].size>1?p[e]=C(g[e],n,a):p[e]=I(g[e],n,a)}E("setKey",n,"Set",(function(t){return e[t].name})),E("numStars",t,"Rarity",(function(e){return Object(Q.jsxs)(Q.Fragment,{children:[e," ",1!==e?"Stars":"Star"]})})),E("slotKey",a,"Slot",(function(e){return Object(Q.jsx)(Q.Fragment,{children:P.a.slotName(e)})})),E("mainStatKey",l,"Main Stat",(function(e){return Object(Q.jsx)(Q.Fragment,{children:L.b.getStatNameRaw(e)})})),p.substats=Object(Q.jsx)(Q.Fragment,{children:g.substats.filter((function(e){return""!==e.key})).map((function(e,t){return Object(Q.jsx)("div",{children:A(e,"Sub Stat",(function(e){return Object(Q.jsxs)(Q.Fragment,{children:[L.b.getStatNameRaw(e.key),"+",Object($.b)(e.value,L.b.getStatUnit(e.key))]})}))},t)}))});var M=L.b.getStatUnit(g.mainStatKey);return o.find((function(e){return e.mainStatValue===S}))?l.has(g.mainStatKey)?(p.level=A(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=A(S,"Main Stat value",(function(e){return Object(Q.jsx)(Q.Fragment,{children:Object($.b)(e,M)})}))):(p.level=I(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=I(S,"Main Stat value",(function(e){return Object(Q.jsx)(Q.Fragment,{children:Object($.b)(e,M)})}))):(p.level=C(g.level,"Level",(function(e){return"+"+e})),p.mainStatVal=C(S,"Main Stat value",(function(e){return Object(Q.jsx)(Q.Fragment,{children:Object($.b)(e,M)})}))),[g,p]}function Ye(e,t){var n,a=new Set([]),r=Object(c.a)(e);try{for(r.s();!(n=r.n()).done;){var i,s=n.value,l=Object(c.a)(F.b);try{for(l.s();!(i=l.n()).done;){var o=i.value;Object(R.j)(s.replace(/\W/g,""),t[o].nameRaw.replace(/\W/g,""))<=2&&a.add(o)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return a}function $e(e,t,n){for(var a=e,c=0,r=0,i=new Set([]),s=0;s<n;s++){for(var l=0,o=!1,u=0;u<t;u++){var j=4*(s*t+u);Qe({r:a[j],g:a[j+1],b:a[j+2]},oe)?o||(o=!0,l++):o=!1}c!==l?(c=l,r=1):c&&++r>=10&&i.add(Object(R.a)(c,3,5))}return i}function Qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=function(e,t){return Math.abs(e-t)<=n};return a(e.r,t.r)&&a(e.g,t.g)&&a(e.b,t.b)}function Xe(e){var t,n=new Set,a=Object(c.a)(e);try{for(a.s();!(t=a.n()).done;){var r,i=t.value,s=Object(c.a)(F.h);try{for(s.s();!(r=s.n()).done;){var l=r.value;Object(R.j)(i.replace(/\W/g,""),P.a.slotName(l).replace(/\W/g,""))<=2&&n.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){a.e(o)}finally{a.f()}return n}function Ze(e){var t,n=new Set([]),a=Object(c.a)(e);try{for(a.s();!(t=a.n()).done;){var r,i=t.value,s=Object(c.a)(M.a);try{for(s.s();!(r=s.n()).done;){var l=r.value;i.toLowerCase().includes(L.b.getStatNameRaw(l).toLowerCase())&&n.add(l),l.includes("_bonu")&&Object(R.j)(i.replace(/\W/g,""),L.b.getStatNameRaw(l).replace(/\W/g,""))<=1&&n.add(l)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){a.e(o)}finally{a.f()}return n}function et(e){var t,n=[],a=Object(c.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,i=/(\d+[,|\\.]+\d)%/,s=i.exec(r);s&&n.push({mainStatValue:parseFloat(s[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),(s=(i=/(\d+[,|\\.]\d{3}|\d{2,3})/).exec(r))&&n.push({mainStatValue:parseInt(s[1].replace(/[,|\\.]+/g,""))})}}catch(l){a.e(l)}finally{a.f()}return n}function tt(e){var t,n=[],a=Object(c.a)(e);try{var r=function(){var e=t.value;e=e.replace(/^[\W]+/,"").replace(/\n/,""),M.b.forEach((function(t){var a=L.b.getStatNameRaw(t),c=("%"===L.b.getStatUnit(t)?new RegExp(a+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(a+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);c&&n.push({key:t,value:parseFloat(c[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}))};for(a.s();!(t=a.n()).done;)r()}catch(i){a.e(i)}finally{a.f()}return n}function nt(e,t,n,a){for(var c=a.region,r=void 0===c?"all":c,i=a.mode,s=void 0===i?"color":i,l=Uint8ClampedArray.from(e.data),o="top"===r,u="bot"===r,j="all"===r,d="bw"===s,b="invert"===s,f=Math.floor(e.width*(e.height/2)*4),h=0;h<l.length;h+=4){var O=l[h],x=l[h+1],m=l[h+2];(j||o&&h<f||u&&h>f)&&O>=t[0]&&O<=n[0]&&x>=t[1]&&x<=n[1]&&m>=t[2]&&m<=n[2]?d?l[h]=l[h+1]=l[h+2]=0:b&&(l[h]=255-O,l[h+1]=255-x,l[h+2]=255-m):l[h]=l[h+1]=l[h+2]=255}return new ImageData(l,e.width,e.height)}var at,ct=new Set(M.b);function rt(e){var t,n,c,i=e.artifactIdToEdit,j=e.cancelEdit,b=Object(k.a)("artifact").t,x=Object(u.useReducer)(st,void 0),m=Object(r.a)(x,2),v=m[0],y=m[1],S=Object(T.b)(Y.a.getAll(),[]),N=Object(u.useMemo)((function(){return v?Object(J.e)(v):{artifact:void 0,errors:[]}}),[v]),K=N.artifact,A=N.errors,M=void 0!==K,F=K?null===S||void 0===S?void 0:S[K.setKey]:void 0;Object(u.useEffect)((function(){if(i&&i!==(null===K||void 0===K?void 0:K.id)){var e=E.a._getArt(i);e&&y({type:"overwrite",artifact:Object(R.d)(e)})}}),[i,null===K||void 0===K?void 0:K.id]);var D=Object(u.useCallback)((function(){var e;null===j||void 0===j||j(),null===(e=at)||void 0===e||e(),y({type:"reset"})}),[j,y]),z=Object(u.useCallback)((function(e){var t,n,a=e.setKey?S[e.setKey]:F;function c(e,t,n){return e&&t.includes(e)?e:null!==n&&void 0!==n?n:t[0]}e.setKey&&(e.numStars=c(null===K||void 0===K?void 0:K.numStars,a.rarity,Math.max.apply(Math,Object(s.a)(a.rarity))),e.slotKey=c(null===K||void 0===K?void 0:K.slotKey,a.slots)),e.numStars&&(e.level=null!==(t=null===K||void 0===K?void 0:K.level)&&void 0!==t?t:0),e.level&&(e.level=Object(R.a)(e.level,0,4*(null!==(n=e.numStars)&&void 0!==n?n:K.numStars))),e.slotKey&&(e.mainStatKey=c(null===K||void 0===K?void 0:K.mainStatKey,P.a.slotMainStats(e.slotKey))),e.mainStatKey&&(e.substats=[0,1,2,3].map((function(t){return K&&K.substats[t].key!==e.mainStatKey?K.substats[t]:{key:"",value:0}}))),y({type:"update",artifact:e})}),[K,S,F,y]),W=Object(u.useCallback)((function(e,t){y({type:"substat",index:e,substat:t})}),[y]),G=!A.length,te=Object(u.useMemo)((function(){return function(e){var t,n;if(!e)return{isDup:!1};var a=e.id,c=e.setKey,r=e.numStars,i=e.level,s=e.slotKey,l=e.mainStatKey,o=e.substats;if(a)return{isDup:!1};var u=E.a._getArts().filter((function(e){return c===e.setKey&&r===e.numStars&&s===e.slotKey&&l===e.mainStatKey&&i>=e.level&&o.every((function(t,n){return!e.substats[n].key||t.key===e.substats[n].key&&t.value>=e.substats[n].value}))})),j=u.filter((function(e){return i>e.level&&(Math.floor(i/4)===Math.floor(e.level/4)?o.every((function(t,n){return t.key===e.substats[n].key&&t.value===e.substats[n].value})):o.some((function(t,n){return e.substats[n].key?t.value>e.substats[n].value:t.key})))})),d=u.filter((function(e){return i===e.level&&o.every((function(t){return!t.key||e.substats.some((function(e){return t.key===e.key&&t.value===e.value}))}))}));return d.length||j.length?{dupId:null!==(t=null===(n=d[0])||void 0===n?void 0:n.id)&&void 0!==t?t:j[0].id,isDup:d.length>0}:{isDup:!1}}(K)}),[K]),ne=te.dupId,ae=te.isDup,ce=null!==K&&void 0!==K?K:{},re=ce.numStars,ie=void 0===re?5:re,se=ce.level,le=void 0===se?0:se,oe=ce.slotKey,ue=void 0===oe?"flower":oe,de=K?P.a.getArtifactEfficiency(K,ct):{},be=de.currentEfficiency,fe=void 0===be?0:be,Te=de.maxEfficiency,Re=void 0===Te?0:Te;return Object(Q.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",children:[Object(Q.jsx)(d.a.Header,{children:Object(Q.jsx)(w.a,{t:b,i18nKey:"editor.title",children:"Artifact Editor"})}),Object(Q.jsxs)(d.a.Body,{children:[Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{xs:12,lg:6,children:[Object(Q.jsxs)(O.a,{className:"w-100 d-flex mb-2",children:[Object(Q.jsxs)(h.a,{as:O.a.Prepend,className:"flex-grow-1",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:K?"success":"primary",children:null!==(t=null===F||void 0===F?void 0:F.nameWithIcon)&&void 0!==t?t:b(Oe||(Oe=Object(a.a)(["editor.set.artifactSet"])))}),Object(Q.jsx)(h.a.Menu,{children:Object(Q.jsx)(X,{sheets:S,click:function(e){return z({setKey:e})}})})]}),Object(Q.jsx)(H.a,{as:O.a.Append,title:K?Object(Q.jsx)(I.a,{stars:ie}):b(xe||(xe=Object(a.a)(["editor.rarity"]))),disabled:!F,variant:K?"success":"primary",children:[5,4,3].map((function(e,t){return Object(Q.jsx)(h.a.Item,{disabled:!(null===F||void 0===F?void 0:F.rarity.includes(e)),onClick:function(){return z({numStars:e})},children:Object(Q.jsx)(I.a,{stars:e})},t)}))})]}),Object(Q.jsxs)(O.a,{className:"mb-2",children:[Object(Q.jsx)(O.a.Prepend,{children:Object(Q.jsx)(O.a.Text,{children:b(me||(me=Object(a.a)(["editor.level"])))})}),Object(Q.jsx)(C.a,{value:le,disabled:!F,placeholder:"0~".concat(4*ie),onChange:function(e){return z({level:e})}}),Object(Q.jsxs)(O.a.Append,{children:[Object(Q.jsx)(f.a,{onClick:function(){return z({level:le-1})},disabled:!F||0===le,children:"-"}),ie?Object(s.a)(Array(ie+1).keys()).map((function(e){return 4*e})).map((function(e){return Object(Q.jsx)(f.a,{onClick:function(){return z({level:e})},disabled:!F||le===e,children:e},e)})):null,Object(Q.jsx)(f.a,{onClick:function(){return z({level:le+1})},disabled:!F||le===4*ie,children:"+"})]})]}),Object(Q.jsxs)(O.a,{className:"mb-2 w-100 d-flex flex-row",children:[Object(Q.jsx)(H.a,{title:Object(Q.jsx)(Z.b,{slotKey:ue}),disabled:!F,variant:K?"success":"primary",as:O.a.Prepend,children:null===F||void 0===F||null===(n=F.slots)||void 0===n?void 0:n.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return z({slotKey:e})},children:Object(Q.jsx)(Z.b,{slotKey:e})},e)}))}),Object(Q.jsx)(O.a.Text,{as:O.a.Append,className:"flex-grow-1",children:null!==(c=null===F||void 0===F?void 0:F.getSlotName(K.slotKey))&&void 0!==c?c:b(ve||(ve=Object(a.a)(["editor.unknownPieceName"])))})]}),Object(Q.jsxs)(O.a,{className:"mb-2",children:[Object(Q.jsxs)(H.a,{title:Object(Q.jsx)("b",{children:K?L.b.getStatNameWithPercent(K.mainStatKey):b(pe||(pe=Object(a.a)(["mainStat"])))}),disabled:!F,variant:K?"success":"primary",as:O.a.Prepend,children:[Object(Q.jsx)(h.a.ItemText,{children:b(ye||(ye=Object(a.a)(["editor.mainSelect"])))}),P.a.slotMainStats(ue).map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return z({mainStatKey:e})},children:L.b.getStatNameWithPercent(e)},e)}))]}),Object(Q.jsx)(B.a,{value:K?"".concat(Object($.a)(P.a.mainStatValue(K.mainStatKey,ie,le),L.b.getStatUnit(K.mainStatKey))):b(ge||(ge=Object(a.a)(["mainStat"]))),disabled:!0,readOnly:!0})]}),Object(Q.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Q.jsx)(d.a.Body,{className:"py-1 px-2",children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{className:"text-center",children:b(Se||(Se=Object(a.a)(["editor.curSubEff"])))}),Object(Q.jsxs)(p.a,{xs:"auto",children:[Object(Q.jsx)(ee.a,{valid:G,value:G?fe:"ERR"}),Object(Q.jsx)(q.a,{placement:"bottom",overlay:Object(Q.jsxs)(V.a,{id:"current-efficiency",children:[Object(Q.jsx)(V.a.Title,{as:"h5",children:b(ke||(ke=Object(a.a)(["editor.curSubEff"])))}),Object(Q.jsx)(V.a.Content,{children:Object(Q.jsx)(w.a,{t:b,i18nKey:"editor.curSubEffDesc"})})]}),children:Object(Q.jsx)(o.a,{icon:l.n,className:"ml-2",style:{cursor:"help"}})})]})]})})}),Object(Q.jsx)(d.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(Q.jsx)(d.a.Body,{className:"py-1 px-2",children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{className:"text-center",children:b(we||(we=Object(a.a)(["editor.maxSubEff"])))}),Object(Q.jsxs)(p.a,{xs:"auto",children:[Object(Q.jsx)(ee.a,{valid:G,value:G?Re:"ERR"}),Object(Q.jsx)(q.a,{placement:"bottom",overlay:Object(Q.jsxs)(V.a,{id:"max-efficiency",children:[Object(Q.jsx)(V.a.Title,{as:"h5",children:b(Ne||(Ne=Object(a.a)(["editor.maxSubEff"])))}),Object(Q.jsx)(V.a.Content,{children:Object(Q.jsx)(w.a,{t:b,i18nKey:"editor.maxSubEffDesc"})})]}),children:Object(Q.jsx)(o.a,{icon:l.n,className:"ml-2",style:{cursor:"help"}})})]})]})})})]}),Object(Q.jsx)(p.a,{xs:12,lg:6,children:[0,1,2,3].map((function(e){return Object(Q.jsx)(it,{className:"mb-2",index:e,artifact:K,setSubstat:W},e)}))})]}),Object(Q.jsxs)(g.a,{className:"mb-n2",children:[Object(Q.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Q.jsx)(je,{setState:function(e){return y({type:"overwrite",artifact:e})},setReset:function(e){return at=e},artifactInEditor:M})}),(ne||(null===K||void 0===K?void 0:K.id))&&Object(Q.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Q.jsxs)(g.a,{className:"d-flex justify-content-around mb-n2",children:[Object(Q.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(Q.jsx)("h6",{className:"text-center",children:b(Ke||(Ke=Object(a.a)(["editor.preview"])))}),Object(Q.jsx)("div",{children:Object(Q.jsx)(U.a,{artifactObj:K})})]}),Object(Q.jsxs)(p.a,{lg:4,md:6,className:"mb-2",children:[Object(Q.jsx)("h6",{className:"text-center",children:b(ne?ae?Ce||(Ce=Object(a.a)(["editor.dupArt"])):Ae||(Ae=Object(a.a)(["editor.upArt"])):Ie||(Ie=Object(a.a)(["editor.beforeEdit"])))}),Object(Q.jsx)("div",{children:Object(Q.jsx)(U.a,{artifactId:ne||(null===K||void 0===K?void 0:K.id)})})]})]})}),!G&&Object(Q.jsx)(p.a,{xs:12,className:"mb-2",children:Object(Q.jsx)(_.a,{variant:"danger",className:"py-2 px-3 mb-0 ",children:A.map((function(e,t){return Object(Q.jsx)("div",{children:e},t)}))})})]})]}),Object(Q.jsxs)(d.a.Footer,{children:[Object(Q.jsx)(f.a,{className:"mr-2",onClick:function(){jt(K,K.id),D()},disabled:!G,variant:ne?"warning":"primary",children:(null===K||void 0===K?void 0:K.id)?b(Ee||(Ee=Object(a.a)(["editor.btnSave"]))):b(Le||(Le=Object(a.a)(["editor.btnAdd"])))}),Object(Q.jsx)(f.a,{className:"mr-2",disabled:!M,onClick:function(){window.confirm(b(he||(he=Object(a.a)(["editor.clearPrompt"]))))&&D()},variant:"success",children:b(Me||(Me=Object(a.a)(["editor.btnClear"])))}),!1,Boolean(ne)&&Object(Q.jsx)(f.a,{className:"float-right",onClick:function(){jt(K,ne),D()},disabled:!G,variant:"success",children:b(Fe||(Fe=Object(a.a)(["editor.btnUpdate"])))})]})]})}function it(e){var t,n=e.index,c=e.artifact,r=e.setSubstat,i=e.className,s=Object(k.a)("artifact").t,l=(null!==c&&void 0!==c?c:{}).mainStatKey,o=void 0===l?"":l,u=null!==(t=null===c||void 0===c?void 0:c.substats[n])&&void 0!==t?t:{},j=u.key,x=void 0===j?"":j,m=u.value,v=void 0===m?0:m,y=u.rolls,S=void 0===y?[]:y,N=u.efficiency,K=void 0===N?0:N,A=S.map(Math.fround).reduce((function(e,t){return Math.fround(e+t)}),0),I=L.b.getStatUnit(x),E=S.length,F="",T=[],R=0,U=null;if(c){var D=c.numStars,z=P.a.rollInfo(D),W=z.numUpgrades,B=z.high;R=W+B-3-E,T=x?P.a.getSubstatRollData(x,D):[]}var q=7-T.length;if(!E&&x&&v&&(F=F||s(Te||(Te=Object(a.a)(["editor.substat.error.noCalc"])))),R<0&&(F=F||s("editor.substat.error.noOverRoll",{value:R+E})),!F){var V=Object(Q.jsx)(G.a,{variant:0===E?"secondary":"".concat(E,"roll"),className:"text-darkcontent",children:E?s("editor.substat.RollCount",{count:E}):s(Re||(Re=Object(a.a)(["editor.substat.noRoll"])))}),_=S.map((function(e,t){return Object(Q.jsx)("span",{className:"mr-2 text-".concat(q+T.indexOf(e),"roll"),children:Object($.a)(e,I)},t)}));U=Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{children:[V," ",_]}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsxs)(w.a,{t:s,i18nKey:"editor.substat.eff",children:["Efficiency: ",Object(Q.jsx)(ee.a,{valid:!0,value:K||s(Pe||(Pe=Object(a.a)(["editor.substat.noStat"])))})]})})]})}return Object(Q.jsxs)(d.a,{bg:"lightcontent",text:"lightfont",className:i,children:[Object(Q.jsxs)(O.a,{children:[Object(Q.jsxs)(H.a,{title:x?L.b.getStatNameWithPercent(x):s("editor.substat.substatFormat",{value:n+1}),disabled:!c,variant:x?"success":"primary",as:O.a.Prepend,children:[Boolean(x)&&Object(Q.jsx)(h.a.Item,{onClick:function(){return r(n,{key:"",value:0})},children:s(Ue||(Ue=Object(a.a)(["editor.substat.noSubstat"])))},x),M.b.filter((function(e){return o!==e})).map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return r(n,{key:e,value:0})},children:L.b.getStatNameWithPercent(e)},e)}))]}),Object(Q.jsx)(C.a,{float:"%"===I,placeholder:s(De||(De=Object(a.a)(["editor.substat.selectSub"]))),value:x?v:void 0,onChange:function(e){return r(n,{key:x,value:null!==e&&void 0!==e?e:0})},disabled:!x,allowEmpty:!0}),Object(Q.jsx)(b.a,{size:"sm",as:O.a.Append,children:T.map((function(e,t){var a=Object($.a)(Math.fround(A+Math.fround(e)),I);return Object(Q.jsx)(f.a,{variant:"".concat(q+t,"roll"),className:"py-0 text-darkcontent",disabled:v&&!E||R<=0,onClick:function(){return r(n,{key:x,value:parseFloat(a)})},children:a},t)}))})]}),Object(Q.jsxs)("div",{className:"p-1",children:[F&&Object(Q.jsx)(G.a,{variant:"danger",children:s(ze||(ze=Object(a.a)(["ui:error"])))})," ",F||U]})]})}function st(e,t){switch(t.type){case"reset":return;case"substat":var n=t.index,a=t.substat,c=a.key?e.substats.findIndex((function(e){return e.key===a.key})):-1;if(-1===c||c===n)e.substats[n]=a;else{var r=[e.substats[c],e.substats[n]];e.substats[n]=r[0],e.substats[c]=r[1]}return Object(i.a)({},e);case"overwrite":return t.artifact;case"update":return Object(i.a)(Object(i.a)({},e),t.artifact)}}var lt,ot,ut,jt=function(e,t){e.id=null!==t&&void 0!==t?t:"",E.a.updateArt(e)},dt=j.a.lazy((function(){return n.e(19).then(n.bind(null,518))})),bt=["quality","level","efficiency","mefficiency"],ft=function(){return{filterArtSetKey:"",filterStars:[3,4,5],filterLevelLow:0,filterLevelHigh:20,filterSlotKey:"",filterMainStatKey:"",filterSubstats:["","","",""],filterLocation:"",filterLocked:"",ascending:!1,sortType:bt[0],maxNumArtifactsToDisplay:50,effFilter:Object(s.a)(M.b)}};function ht(e,t){return"reset"===t.type?Object(i.a)(Object(i.a)({},ft()),{},{effFilter:e.effFilter}):Object(i.a)(Object(i.a)({},e),t)}function Ot(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return Object(i.a)(Object(i.a)({},t),null!==(e=Object(R.l)("ArtifactDisplay.state"))&&void 0!==e?e:{})}function xt(e){var t,n,j,D=Object(k.a)(["artifact","ui"]).t,z=Object(u.useReducer)(ht,ft(),Ot),W=Object(r.a)(z,2),H=W[0],B=W[1],q=H.effFilter,V=Object(u.useState)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.artToEditId),_=Object(r.a)(V,2),G=_[0],J=_[1],$=Object(u.useState)(0),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ae=Object(u.useRef)(null),ce=Object(u.useRef)(null),re=Object(T.a)(),ie=Object(r.a)(re,2),se=ie[0],le=ie[1],oe=Object(T.b)(Y.a.getAll(),[]),ue=Object(u.useMemo)((function(){return new Set(q)}),[q]),je=Object(u.useCallback)((function(e){return E.a.removeArt(e)}),[]),de=Object(u.useCallback)((function(e){var t;J(e),null===ae||void 0===ae||null===(t=ae.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[]),be=Object(u.useCallback)((function(){return J(null)}),[]);Object(u.useEffect)((function(){return S.a.pageview("/artifact"),E.a.followAnyArt(le)}),[le]),Object(u.useEffect)((function(){Object(R.p)("ArtifactDisplay.state",H)}),[H]);var fe,he,Oe=Object(u.useMemo)((function(){var e=H.filterArtSetKey,t=H.filterSlotKey,n=H.filterMainStatKey,a=H.filterStars,r=H.filterLevelLow,s=H.filterLevelHigh,l=H.filterSubstats,o=void 0===l?ft().filterSubstats:l,u=H.filterLocation,j=void 0===u?"":u,d=H.filterLocked,b=void 0===d?"":d,f=H.sortType,h=void 0===f?bt[0]:f,O=H.ascending,x=void 0!==O&&O,m=E.a._getArts(),v=m.filter((function(i){if(b){if("locked"===b&&!i.lock)return!1;if("unlocked"===b&&i.lock)return!1}if("Inventory"===j){if(i.location)return!1}else if("Equipped"===j){if(!i.location)return!1}else if(j&&j!==i.location)return!1;if(e&&e!==i.setKey)return!1;if(t&&t!==i.slotKey)return!1;if(n&&n!==i.mainStatKey)return!1;if(i.level<r||i.level>s)return!1;if(!a.includes(i.numStars))return!1;var l,u=Object(c.a)(o);try{var d=function(){var e=l.value;if(e&&!i.substats.some((function(t){return t.key===e})))return{v:!1}};for(u.s();!(l=u.n()).done;){var f=d();if("object"===typeof f)return f.v}}catch(h){u.e(h)}finally{u.f()}return!0})).map((function(e){switch(h){case"quality":return{value:[e.numStars],art:e};case"level":return{value:[e.level,e.numStars],art:e};case"efficiency":return{value:[P.a.getArtifactEfficiency(e,ue).currentEfficiency],art:e};case"mefficiency":return{value:[P.a.getArtifactEfficiency(e,ue).maxEfficiency],art:e}}return{value:[0],art:e}})).sort((function(e,t){for(var n=0;n<e.value.length;n++)if(e.value[n]!==t.value[n])return(e.value[n]-t.value[n])*(x?1:-1);return 0})).map((function(e){return e.art})),p=v.reduce((function(e,t){return e+(t.location?1:0)}),0),y=v.reduce((function(e,t){return e+(t.lock?1:0)}),0),g=v.length-y;return Object(i.a)({artifacts:v,totalArtNum:m.length,numUnequip:p,numUnlock:y,numLock:g},se)}),[H,se,ue]),xe=Oe.artifacts,me=Oe.totalArtNum,ve=Oe.numUnequip,pe=Oe.numUnlock,ye=Oe.numLock,ge=H.filterArtSetKey,Se=H.filterSlotKey,ke=H.filterMainStatKey,we=H.filterStars,Ne=H.filterLevelLow,Ke=H.filterLevelHigh,Ce=H.filterSubstats,Ae=void 0===Ce?ft().filterSubstats:Ce,Ie=H.maxNumArtifactsToDisplay,Ee=H.filterLocation,Le=void 0===Ee?"":Ee,Me=H.filterLocked,Fe=void 0===Me?"":Me,Te=H.sortType,Re=void 0===Te?bt[0]:Te,Pe=H.ascending,Ue=void 0!==Pe&&Pe,De=Object(u.useMemo)((function(){var e=Math.ceil(xe.length/Ie),t=Object(R.a)(te,0,e-1);return{artifactsToShow:xe.slice(t*Ie,(t+1)*Ie),numPages:e,currentPageIndex:t}}),[xe,te,Ie]),ze=De.artifactsToShow,We=De.numPages,He=De.currentPageIndex,Be=Object(T.b)(N.b.get(Le),[Le]);fe=Le?"Inventory"===Le?Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.a})," ",D("filterLocation.inventory")]}):"Equipped"===Le?Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.y})," ",D("filterLocation.currentlyEquipped")]}):Object(Q.jsx)("b",{children:null===Be||void 0===Be?void 0:Be.nameWIthIcon}):D("filterLocation.any"),he="locked"===Fe?Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.k})," ",D(lt||(lt=Object(a.a)(["lock.locked"])))]}):"unlocked"===Fe?Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.l})," ",D(ot||(ot=Object(a.a)(["lock.unlocked"])))]}):D("lockDisplay",{value:D("lock.any")});var qe=Object(u.useMemo)((function(){var e=xe.length!==me?"".concat(xe.length,"/").concat(me):"".concat(me);return Object(Q.jsx)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:Object(Q.jsx)(d.a.Body,{children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)(b.a,{size:"sm",children:Object(s.a)(Array(We).keys()).map((function(e){return Object(Q.jsxs)(f.a,{className:"px-3",variant:He===e?"success":"primary",onClick:function(){var t;ne(e),null===(t=ce.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},children:[0===e?"Page ":"",e+1]},e)}))})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsxs)(w.a,{t:D,i18nKey:"showingNum",count:ze.length,value:e,children:["Showing ",Object(Q.jsx)("b",{children:{count:ze.length}})," out of ",{value:e}," Artifacts"]})})]})})})}),[We,He,ze.length,xe.length,me,D]);return Object(Q.jsxs)(y.a,{className:"mt-2",children:[Object(Q.jsx)(A.a,{pageKey:"artifactPage",modalTitle:D(ut||(ut=Object(a.a)(["info.title"]))),text:D("tipsOfTheDay",{returnObjects:!0}),children:Object(Q.jsx)(dt,{})}),Object(Q.jsx)("div",{className:"mb-2",ref:ae,children:Object(Q.jsx)(rt,{artifactIdToEdit:G,cancelEdit:be})}),Object(Q.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ce,children:[Object(Q.jsx)(d.a.Header,{children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)("span",{children:Object(Q.jsx)(w.a,{t:D,i18nKey:"artifactFilter",children:"Artifact Filter"})})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return B({type:"reset"})},children:[Object(Q.jsx)(o.a,{icon:l.x,className:"fa-fw"})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"resetFilters"})]})})]})}),Object(Q.jsxs)(d.a.Body,{children:[Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{xs:12,lg:6,children:[Object(Q.jsxs)(h.a,{as:O.a.Prepend,className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:ge?"success":"primary",children:null!==(n=null===oe||void 0===oe||null===(j=oe[ge])||void 0===j?void 0:j.name)&&void 0!==n?n:D("editor.set.artifactSet")}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterArtSetKey:""})},children:Object(Q.jsx)(w.a,{t:D,i18nKey:"ui:unselect",children:"Unselect"})}),Object(Q.jsx)(h.a.Divider,{}),Object(Q.jsx)(X,{sheets:oe,click:function(e){return B({filterArtSetKey:e})}})]})]}),Object(Q.jsx)(x.a,{className:"w-100 d-flex mb-2",type:"checkbox",as:O.a.Append,onChange:function(e){return B({filterStars:e})},value:we,children:F.a.map((function(e){var t=we.includes(e);return Object(Q.jsxs)(m.a,{value:e,variant:t?"success":"primary",children:[Object(Q.jsx)(o.a,{icon:t?l.c:l.r})," ",Object(Q.jsx)(I.a,{stars:e})]},e)}))}),Object(Q.jsxs)(O.a,{className:"mb-2",children:[Object(Q.jsx)(O.a.Prepend,{children:Object(Q.jsx)(O.a.Text,{children:Object(Q.jsx)("span",{children:Object(Q.jsxs)(w.a,{t:D,i18nKey:"filterLevelFormat",children:["Level ",Object(Q.jsx)("span",{className:"text-".concat(Ne>0?"success":""),children:"Low"}),"/",Object(Q.jsx)("span",{className:"text-".concat(Ke<20?"success":""),children:"High"})," (Inclusive)"]})})})}),Object(Q.jsx)(C.a,{value:Ne,placeholder:D("ui:game.minLevel"),onChange:function(e){return B({filterLevelLow:Object(R.a)(e,0,Ke)})}}),Object(Q.jsx)(C.a,{value:Ke,placeholder:D("ui:game.maxLevel"),onChange:function(e){return B({filterLevelHigh:Object(R.a)(e,Ne,20)})}})]}),Object(Q.jsxs)(b.a,{className:"w-100 d-flex flex-row mb-2",children:[Object(Q.jsxs)(h.a,{as:b.a,className:"flex-grow-1",children:[Object(Q.jsx)(h.a.Toggle,{children:Object(Q.jsx)("span",{children:Object(Q.jsxs)(w.a,{t:D,i18nKey:"ui:sortByFormat",value:D("sortMap.".concat(Re)),children:["Sort By: ",{value:D("sortMap.".concat(Re))}]})})}),Object(Q.jsx)(h.a.Menu,{children:bt.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return B({sortType:e})},children:D("sortMap.".concat(e))},e)}))})]}),Object(Q.jsxs)(f.a,{onClick:function(){return B({ascending:!Ue})},className:"flex-shrink-1",children:[Object(Q.jsx)(o.a,{icon:Ue?l.p:l.q,className:"fa-fw"}),Object(Q.jsxs)("span",{children:[" ",Ue?Object(Q.jsx)(w.a,{t:D,i18nKey:"ui:ascending",children:"Ascending"}):Object(Q.jsx)(w.a,{t:D,i18nKey:"ui:descending",children:"Descending"})]})]})]})]}),Object(Q.jsx)(p.a,{xs:12,lg:6,children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsxs)(p.a,{children:[Object(Q.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:Se?"success":"primary",children:Se?Object(Q.jsx)(Z.b,{slotKey:Se}):D("slot")}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterSlotKey:""})},children:Object(Q.jsx)(w.a,{t:D,i18nKey:"ui:unselect",children:"Unselect"})}),F.h.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterSlotKey:e})},children:Object(Q.jsx)(Z.b,{slotKey:e})},e)}))]})]}),Object(Q.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:ke?"success":"primary",children:L.b.getStatNameWithPercent(ke,D("mainStat"))}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterMainStatKey:""})},children:Object(Q.jsx)(w.a,{t:D,i18nKey:"ui:unselect",children:"Unselect"})}),M.a.map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterMainStatKey:e})},children:L.b.getStatNameWithPercent(e)},e)}))]})]}),Object(Q.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:Le?"success":"primary",children:fe}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterLocation:""})},children:Object(Q.jsx)(w.a,{t:D,i18nKey:"ui:unselect",children:"Unselect"})}),Object(Q.jsxs)(h.a.Item,{onClick:function(){return B({filterLocation:"Inventory"})},children:[Object(Q.jsx)(o.a,{icon:l.a})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"filterLocation.inventory",children:"Inventory"})]}),Object(Q.jsxs)(h.a.Item,{onClick:function(){return B({filterLocation:"Equipped"})},children:[Object(Q.jsx)(o.a,{icon:l.y})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"filterLocation.currentlyEquipped",children:"Currently Equipped"})]}),Object(Q.jsx)(h.a.Divider,{}),Object(Q.jsx)(K.a,{onSelect:function(e){return B({filterLocation:e})}})]})]}),Object(Q.jsxs)(h.a,{className:"flex-grow-1 mb-2",children:[Object(Q.jsx)(h.a.Toggle,{className:"w-100",variant:Fe?"success":"primary",children:he}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterLocked:""})},children:Object(Q.jsx)(w.a,{t:D,i18nKey:"lock.any",children:"Any"})}),Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterLocked:"locked"})},children:Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.k})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"lock.locked",children:"Locked"})]})}),Object(Q.jsx)(h.a.Item,{onClick:function(){return B({filterLocked:"unlocked"})},children:Object(Q.jsxs)("span",{children:[Object(Q.jsx)(o.a,{icon:l.l})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"lock.unlocked",children:"Unlocked"})]})})]})]})]}),Object(Q.jsx)(p.a,{children:Ae.map((function(e,t){return Object(Q.jsxs)(h.a,{className:"mb-2",children:[Object(Q.jsx)(h.a.Toggle,{id:"dropdown-basic",className:"w-100",variant:e?"success":"primary",children:e?L.b.getStatNameWithPercent(e):D("editor.substat.substatFormat",{value:t+1})}),Object(Q.jsxs)(h.a.Menu,{children:[Object(Q.jsx)(h.a.Item,{onClick:function(){Ae[t]="",B({filterSubstats:Ae})},children:Object(Q.jsx)(w.a,{t:D,i18nKey:"editor.substat.noSubstat",children:"No Substat"})}),P.a.getSubstatKeys().filter((function(e){return!Ae.includes(e)})).map((function(e){return Object(Q.jsx)(h.a.Item,{onClick:function(){Ae[t]=e,B({filterSubstats:Ae})},children:L.b.getStatNameWithPercent(e)},e)}))]})]},t)}))})]})})]}),Object(Q.jsxs)(g.a,{className:"mb-n2",children:[Object(Q.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Q.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ve,onClick:function(){return window.confirm("Are you sure you want to unequip ".concat(ve," artifacts currently equipped on characters?"))&&xe.map((function(e){return E.a.setLocation(e.id,"")}))},children:[Object(Q.jsx)(o.a,{icon:l.z})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"button.unequipArtifacts",children:"Unequip Artifacts"})]})}),Object(Q.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Q.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!xe.length,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(xe.length," artifacts?"))&&xe.map((function(e){return E.a.removeArt(e.id)}))},children:[Object(Q.jsx)(o.a,{icon:l.v})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"button.deleteArtifacts",children:"Delete Artifacts"})]})}),Object(Q.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Q.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!ye,onClick:function(){return window.confirm("Are you sure you want to lock ".concat(ye," artifacts?"))&&xe.map((function(e){return E.a.lockArtifact(e.id)}))},children:[Object(Q.jsx)(o.a,{icon:l.k})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"button.lockArtifacts",children:"Lock Artifacts"})]})}),Object(Q.jsx)(p.a,{xs:6,lg:3,className:"mb-2",children:Object(Q.jsxs)(f.a,{className:"w-100",variant:"danger",disabled:!pe,onClick:function(){return window.confirm("Are you sure you want to unlock ".concat(pe," artifacts?"))&&xe.map((function(e){return E.a.lockArtifact(e.id,!1)}))},children:[Object(Q.jsx)(o.a,{icon:l.l})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"button.unlockArtifacts",children:"Unlock Artifacts"})]})}),Object(Q.jsx)(p.a,{xs:12,className:"mt-n2",children:Object(Q.jsx)("small",{children:Object(Q.jsxs)(w.a,{t:D,i18nKey:"buttonHint",children:["Note: the above buttons only applies to ",Object(Q.jsx)("b",{children:"filtered artifacts"})]})})})]})]})]}),Object(Q.jsxs)(d.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",ref:ce,children:[Object(Q.jsx)(d.a.Header,{children:Object(Q.jsxs)(g.a,{children:[Object(Q.jsx)(p.a,{children:Object(Q.jsx)("span",{children:Object(Q.jsx)(w.a,{t:D,i18nKey:"efficiencyFilter.title",children:"Efficiency Filter"})})}),Object(Q.jsx)(p.a,{xs:"auto",children:Object(Q.jsxs)(f.a,{size:"sm",className:"ml-2",variant:"danger",onClick:function(){return B({effFilter:Object(s.a)(M.b)})},children:[Object(Q.jsx)(o.a,{icon:l.x,className:"fa-fw"})," ",Object(Q.jsx)(w.a,{t:D,i18nKey:"ui:reset"})]})})]})}),Object(Q.jsx)(d.a.Body,{children:Object(Q.jsx)(v.a,{as:g.a,className:"w-100 d-flex flex-row",children:[[0,6],[6]].map((function(e){return Object(Q.jsx)(x.a,{as:p.a,type:"checkbox",value:q,onChange:function(e){return B({effFilter:e})},className:"flex-grow-1 mb-2",children:M.b.slice.apply(M.b,Object(s.a)(e)).map((function(e){return Object(Q.jsx)(m.a,{value:e,variant:q.includes(e)?"success":"primary",children:L.b.getStatNameWithPercent(e)},e)}))},e.toString())}))})})]}),qe,Object(Q.jsx)(g.a,{children:ze.map((function(e,t){return Object(Q.jsx)(p.a,{lg:4,md:6,className:"mb-2",children:Object(Q.jsx)(U.a,{artifactId:e.id,effFilter:ue,onDelete:function(){return je(e.id)},onEdit:function(){return de(e.id)}})},t)}))}),We>1&&qe]})}}}]);
//# sourceMappingURL=14.7b49173c.chunk.js.map