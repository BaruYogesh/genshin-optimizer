{"version":3,"file":"static/js/348.574cf2fb.chunk.js","mappings":"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","sources":["Components/Character/CharacterAutocomplete.tsx","Components/Character/LocationName.tsx","Components/Character/ThumbSide.tsx","Components/MenuItemWithImage.tsx","Components/SolidColoredTextfield.tsx","Components/ToggleButton/WeaponToggle.tsx","Components/Weapon/WeaponSelectionModal.tsx","Data/Weapons/WeaponSheet.tsx","PageWeapon/WeaponCard.tsx","PageWeapon/index.tsx","ReactHooks/useWeapon.tsx","Util/MultiSelect.ts","Util/WeaponSort.ts","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { faUserShield } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { BusinessCenter, Favorite } from \"@mui/icons-material\";\r\nimport { Autocomplete, AutocompleteProps, Box, Skeleton, Typography, useTheme } from \"@mui/material\";\r\nimport { Suspense, useCallback, useContext, useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CharacterSheet from \"../../Data/Characters/CharacterSheet\";\r\nimport { DatabaseContext } from \"../../Database/Database\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\nimport { allCharacterKeys, allElements, allWeaponTypeKeys, CharacterKey } from \"../../Types/consts\";\r\nimport { CharacterFilterConfigs, characterFilterConfigs } from \"../../Util/CharacterSort\";\r\nimport { filterFunction } from \"../../Util/SortByFilters\";\r\nimport MenuItemWithImage from \"../MenuItemWithImage\";\r\nimport SolidColoredTextField from \"../SolidColoredTextfield\";\r\nimport ThumbSide from \"./ThumbSide\";\r\n\r\ntype CharacterAutocompleteValue = CharacterKey | \"\" | \"Inventory\" | \"Equipped\"\r\ntype CharacterAutocompleteOption = {\r\n  value: CharacterAutocompleteValue\r\n  label: string\r\n}\r\ntype CharacterAutocompleteProps = Omit<AutocompleteProps<CharacterAutocompleteOption, false, true, false>, \"onChange\" | \"options\" | \"renderInput\" | \"value\"> & {\r\n  value: CharacterAutocompleteValue\r\n  onChange: (v: any) => void\r\n  filter?: (cs: CharacterSheet, ck: CharacterKey) => boolean\r\n  disable?: (v: any) => boolean\r\n  showDefault?: boolean\r\n  showInventory?: boolean\r\n  showEquipped?: boolean\r\n  defaultText?: string\r\n  defaultIcon?: Displayable\r\n  placeholderText?: string\r\n  labelText?: string\r\n}\r\n\r\nexport default function CharacterAutocomplete({ value, onChange, defaultText = \"\", defaultIcon = \"\", placeholderText = \"\", labelText = \"\", showDefault = false, showInventory = false, showEquipped = false, filter = () => true, disable = () => false, ...props }: CharacterAutocompleteProps) {\r\n  // TODO: #412 We shouldn't be loading all the character translation files. Should have a separate lookup file for character name.\r\n  const { t } = useTranslation([\"ui\", \"artifact\", ...allCharacterKeys.map(k => `char_${k}_gen`)])\r\n  const theme = useTheme()\r\n  const { database } = useContext(DatabaseContext)\r\n  const characterSheets = usePromise(CharacterSheet.getAll, [])\r\n  const filterConfigs = useMemo(() => characterSheets && characterFilterConfigs(database, characterSheets), [database, characterSheets])\r\n  const characterKeys = database._getCharKeys().filter(ck => characterSheets?.[ck] && filter(characterSheets[ck], ck)).sort()\r\n\r\n  const textForValue = useCallback((value: CharacterAutocompleteValue): string => {\r\n    switch (value) {\r\n      case \"Equipped\":\r\n        return t(\"artifact:filterLocation.currentlyEquipped\")\r\n      case \"Inventory\":\r\n        return t(\"artifact:filterLocation.inventory\")\r\n      case \"\":\r\n        return defaultText\r\n      default:\r\n        return t(`char_${value}_gen:name`)\r\n    }\r\n  }, [defaultText, t])\r\n\r\n  const imageForValue = useCallback((value: CharacterAutocompleteValue): Displayable => {\r\n    switch (value) {\r\n      case \"Equipped\":\r\n        return <FontAwesomeIcon icon={faUserShield} />\r\n      case \"Inventory\":\r\n        return <BusinessCenter />\r\n      case \"\":\r\n        return defaultIcon\r\n      default:\r\n        return <ThumbSide src={characterSheets![value]?.thumbImgSide} sx={{ pr: 1 }} />\r\n    }\r\n  }, [defaultIcon, characterSheets])\r\n\r\n  const characterOptions = useMemo(() => filterConfigs && charOptions(characterKeys, filterConfigs, textForValue, showDefault, showInventory, showEquipped),\r\n    [filterConfigs, characterKeys, showDefault, showInventory, showEquipped, textForValue])\r\n\r\n\r\n\r\n  if (!characterSheets || !characterOptions) return <Skeleton height={50} />\r\n\r\n  return <Autocomplete\r\n    autoHighlight\r\n    options={characterOptions}\r\n    clearIcon={value ? undefined : \"\"} // Hide the clear icon if the value is already default\r\n    getOptionLabel={(option) => option.label}\r\n    onChange={(event, newValue, reason) => (event.type !== \"change\" || reason !== \"clear\") && onChange(newValue ? newValue.value : \"\")}\r\n    isOptionEqualToValue={(option, value) => option.value === value.value}\r\n    getOptionDisabled={option => disable(option.value)}\r\n    value={{ value, label: textForValue(value) }}\r\n    renderInput={(props) => <SolidColoredTextField\r\n      {...props}\r\n      label={labelText}\r\n      placeholder={placeholderText}\r\n      startAdornment={imageForValue(value)}\r\n      hasValue={value ? true : false}\r\n    />}\r\n    renderOption={(props, option) => {\r\n      const favorite = option.value !== \"Equipped\" && option.value !== \"Inventory\"\r\n        && option.value !== \"\" && database._getChar(option.value)?.favorite\r\n      return <MenuItemWithImage\r\n        key={option.value ? option.value : \"default\"}\r\n        value={option.value ? option.value : \"default\"}\r\n        image={imageForValue(option.value)}\r\n        text={\r\n          <Suspense fallback={<Skeleton variant=\"text\" width={100} />}>\r\n            <Typography variant=\"inherit\" noWrap>\r\n              {textForValue(option.value)}\r\n            </Typography>\r\n          </Suspense>\r\n        }\r\n        theme={theme}\r\n        isSelected={value === option.value}\r\n        addlElement={<>\r\n          {favorite && <Box display=\"flex\" flexGrow={1} />}\r\n          {favorite && <Favorite sx={{ ml: 1, mr: -0.5 }} />}\r\n        </>}\r\n        props={props}\r\n      />\r\n    }}\r\n    {...props}\r\n  />\r\n}\r\n\r\n\r\nfunction charOptions(characterKeys: CharacterKey[], filterConfigs: CharacterFilterConfigs | undefined, textForValue: (v: CharacterAutocompleteValue) => string, showDefault: boolean, showInventory, showEquipped): CharacterAutocompleteOption[] {\r\n  if (!filterConfigs) return []\r\n  const base: CharacterAutocompleteOption[] = []\r\n  if (showDefault) {\r\n    base.push({ value: \"\", label: textForValue(\"\") })\r\n  }\r\n  if (showInventory) {\r\n    base.push({ value: \"Inventory\", label: textForValue(\"Inventory\") })\r\n  }\r\n  if (showEquipped) {\r\n    base.push({ value: \"Equipped\", label: textForValue(\"Equipped\") })\r\n  }\r\n  const faves = characterKeys\r\n    .filter(filterFunction({ element: [...allElements], weaponType: [...allWeaponTypeKeys], favorite: \"yes\", name: \"\" }, filterConfigs))\r\n    .map(characterKey => ({ value: characterKey, label: textForValue(characterKey) }))\r\n  const nonFaves = characterKeys\r\n    .filter(filterFunction({ element: [...allElements], weaponType: [...allWeaponTypeKeys], favorite: \"no\", name: \"\" }, filterConfigs))\r\n    .map(characterKey => ({ value: characterKey, label: textForValue(characterKey) }))\r\n\r\n  return base.concat(faves).concat(nonFaves)\r\n}\r\n","import { BusinessCenter } from \"@mui/icons-material\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CharacterSheet from \"../../Data/Characters/CharacterSheet\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\n\r\nexport default function LocationName({ location }) {\r\n  const { t } = useTranslation(\"ui\");\r\n  const characterSheet = usePromise(CharacterSheet.get(location ?? \"\"), [location])\r\n  return <Typography component=\"span\">\r\n    {characterSheet?.name ? characterSheet.nameWIthIcon : <span><BusinessCenter sx={{ verticalAlign: \"text-bottom\" }} /> {t<string>(\"inventory\")}</span>}\r\n  </Typography>\r\n\r\n}\r\n","import { styled } from \"@mui/system\";\r\n\r\nconst ThumbSide = styled(\"img\")(({ theme }) => ({\r\n  display: \"inline-block\",\r\n  width: \"auto\",\r\n  height: `2.3em`,\r\n  lineHeight: 1,\r\n  verticalAlign: \"text-bottom\",\r\n  marginTop: theme.spacing(-3),\r\n  marginLeft: theme.spacing(-1.25),\r\n  marginRight: theme.spacing(-1),\r\n  marginBottom: theme.spacing(-1),\r\n}))\r\n\r\nexport default ThumbSide","import { ListItemIcon, ListItemText, MenuItem, Theme } from \"@mui/material\";\r\n\r\ntype MenuItemWithImageProps = {\r\n  value: string\r\n  image?: Displayable\r\n  text: Displayable\r\n  theme: Theme\r\n  isSelected?: boolean\r\n  addlElement?: Displayable\r\n  props?: object\r\n}\r\n\r\nexport default function MenuItemWithImage({ value, image = \"\", text, theme, isSelected, addlElement, props }: MenuItemWithImageProps) {\r\n  return <MenuItem key={value} value={value} {...props}>\r\n    <ListItemIcon>{image}</ListItemIcon>\r\n    <ListItemText primaryTypographyProps={{ style: { fontWeight: isSelected ? theme.typography.fontWeightMedium : theme.typography.fontWeightRegular } }}>\r\n      {text}\r\n    </ListItemText>\r\n    {addlElement && addlElement}\r\n  </MenuItem>\r\n}\r\n","import { TextField, TextFieldProps, useTheme } from \"@mui/material\";\r\n\r\ntype SolidColoredTextFieldProps = Omit<TextFieldProps, \"multiline\" | \"variant\" | \"color\" | \"hiddenLabel\" | \"type\" | \"InputLabelProps\"> & {\r\n  hasValue: boolean\r\n  startAdornment?: Displayable\r\n  flattenCorners?: boolean\r\n}\r\nexport default function SolidColoredTextField({ hasValue, startAdornment, flattenCorners = false, InputProps, sx, ...props }: SolidColoredTextFieldProps) {\r\n  const theme = useTheme()\r\n  return <TextField\r\n    {...props}\r\n    variant=\"filled\"\r\n    color={hasValue ? \"success\" : \"primary\"}\r\n    hiddenLabel={props.label ? false : true}\r\n    type=\"search\"\r\n    InputProps={{\r\n      ...InputProps,\r\n      startAdornment,\r\n    }}\r\n    InputLabelProps={{ style: { color: theme.palette.text.primary } }}\r\n    sx={{\r\n      ...sx,\r\n      // Fill in the background without using the `focused` prop\r\n      \"& .MuiFilledInput-root\": { backgroundColor: hasValue ? theme.palette.success.main : theme.palette.primary.main, borderRadius: flattenCorners ? 0 : 1, paddingTop: props.label ? undefined : 0, paddingBottom: 0 },\r\n      \"& .MuiFilledInput-root.Mui-focused\": { backgroundColor: hasValue ? theme.palette.success.light : theme.palette.primary.light },\r\n      \"& .MuiFilledInput-root:hover\": { backgroundColor: hasValue ? theme.palette.success.dark : theme.palette.primary.dark },\r\n      // Remove the colored bar at the bottom of the input\r\n      \"& .MuiFilledInput-root:before\": { border: \"none\" },\r\n      \"& .MuiFilledInput-root.Mui-disabled:before\": { border: \"none\" },\r\n      \"& .MuiFilledInput-root:after\": { border: \"none\" },\r\n      \"& .MuiFilledInput-root:hover:not(.Mui-disabled):before\": { border: \"none\" },\r\n      // Remove the x at the end of search input for IE\r\n      \"& input[type=search]::-ms-clear\": { display: \"none\", width: 0, height: 0 },\r\n      \"& input[type=search]::-ms-reveal\": { display: \"none\", width: 0, height: 0 },\r\n      // Remove the x at the end of search input for Chrome\r\n      \"& input[type=search]::-webkit-search-decoration\": { display: \"none\" },\r\n      \"& input[type=search]::-webkit-search-cancel-button\": { display: \"none\" },\r\n      \"& input[type=search]::-webkit-search-results-button\": { display: \"none\" },\r\n      \"& input[type=search]::-webkit-search-results-decoration\": { display: \"none\" },\r\n    }}\r\n  />\r\n}\r\n","import { ToggleButton } from \"@mui/material\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport { allWeaponTypeKeys, WeaponTypeKey } from \"../../Types/consts\";\r\nimport { handleMultiSelect } from \"../../Util/MultiSelect\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\nimport SolidToggleButtonGroup, { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\r\ntype WeaponToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\r\n  onChange: (value: WeaponTypeKey[]) => void\r\n  value: WeaponTypeKey[]\r\n}\r\nconst weaponTypeHandler = handleMultiSelect([...allWeaponTypeKeys])\r\nexport default function WeaponToggle({ value, onChange, ...props }: WeaponToggleProps) {\r\n  return <SolidToggleButtonGroup exclusive value={value} {...props}>\r\n    {allWeaponTypeKeys.map(wt => <ToggleButton key={wt} value={wt} onClick={() => onChange(weaponTypeHandler(value, wt))}>\r\n      <ImgIcon src={Assets.weaponTypes?.[wt]} size={2} />\r\n    </ToggleButton>)}\r\n  </SolidToggleButtonGroup>\r\n}\r\n","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\"\r\nimport { useEffect, useState } from \"react\"\r\nimport Assets from \"../../Assets/Assets\"\r\nimport usePromise from \"../../ReactHooks/usePromise\"\r\nimport { allWeaponKeys, allWeaponTypeKeys, WeaponKey, WeaponTypeKey } from \"../../Types/consts\"\r\nimport WeaponSheet from \"../../Data/Weapons/WeaponSheet\"\r\nimport CardDark from \"../Card/CardDark\"\r\nimport CardLight from \"../Card/CardLight\"\r\nimport CloseButton from \"../CloseButton\"\r\nimport ImgIcon from \"../Image/ImgIcon\"\r\nimport ModalWrapper from \"../ModalWrapper\"\r\nimport { Stars } from \"../StarDisplay\"\r\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\"\r\n\r\ntype WeaponSelectionModalProps = {\r\n  show: boolean,\r\n  onHide: () => void,\r\n  onSelect: (wKey: WeaponKey) => void,\r\n  filter?: (sheet: WeaponSheet) => boolean,\r\n  weaponFilter?: WeaponTypeKey,\r\n}\r\n\r\nexport default function WeaponSelectionModal({ show, onHide, onSelect, filter = () => true, weaponFilter: propWeaponFilter }: WeaponSelectionModalProps) {\r\n  const weaponSheets = usePromise(WeaponSheet.getAll, [])\r\n  const [weaponFilter, setWeaponfilter] = useState<WeaponTypeKey[]>(propWeaponFilter ? [propWeaponFilter] : [...allWeaponTypeKeys])\r\n\r\n  useEffect(() => propWeaponFilter && setWeaponfilter([propWeaponFilter]), [propWeaponFilter])\r\n\r\n  const weaponIdList = !weaponSheets ? [] : [...new Set(allWeaponKeys)].filter(wKey => filter(weaponSheets[wKey]))\r\n    .filter(wKey => weaponFilter.includes(weaponSheets?.[wKey]?.weaponType))\r\n    .sort((a, b) => (weaponSheets?.[b]?.rarity ?? 0) - (weaponSheets?.[a]?.rarity ?? 0))\r\n\r\n  if (!weaponSheets) return null\r\n\r\n  return <ModalWrapper open={show} onClose={onHide}>\r\n    <CardDark>\r\n      <CardContent sx={{ py: 1 }}>\r\n        <Grid container>\r\n          <Grid item flexGrow={1}>\r\n            <WeaponToggle value={weaponFilter} onChange={setWeaponfilter} disabled={!!propWeaponFilter} size=\"small\" />\r\n          </Grid >\r\n          <Grid item>\r\n            <CloseButton onClick={onHide} />\r\n          </Grid >\r\n        </Grid>\r\n      </CardContent>\r\n      <Divider />\r\n      <CardContent><Grid container spacing={1}>\r\n        {weaponIdList.map(weaponKey => {\r\n          const weaponSheet = weaponSheets[weaponKey]\r\n          return <Grid item key={weaponKey} lg={3} md={4}>\r\n            <CardLight sx={{ height: \"100%\" }} >\r\n              <CardActionArea onClick={() => { onHide(); onSelect(weaponKey) }} sx={{ display: \"flex\" }}>\r\n                <Box component=\"img\" src={weaponSheet.img} sx={{ width: 100, height: \"auto\" }} className={` grad-${weaponSheet.rarity}star`} />\r\n                <Box sx={{ flexGrow: 1, px: 1 }}>\r\n                  <Typography variant=\"subtitle1\">{weaponSheet.name}</Typography>\r\n                  <Typography><ImgIcon src={Assets.weaponTypes?.[weaponSheet.weaponType]} /> <Stars stars={weaponSheet.rarity} colored /></Typography>\r\n                </Box>\r\n              </CardActionArea>\r\n            </CardLight>\r\n          </Grid>\r\n        })}\r\n      </Grid></CardContent>\r\n      <Divider />\r\n      <CardContent sx={{ py: 1 }}>\r\n        <CloseButton large onClick={onHide} />\r\n      </CardContent>\r\n    </CardDark>\r\n  </ModalWrapper>\r\n}\r\n","import type { WeaponData } from 'pipeline';\r\nimport ImgIcon from '../../Components/Image/ImgIcon';\r\nimport SqBadge from '../../Components/SqBadge';\r\nimport { Translate } from '../../Components/Translate';\r\nimport { input } from '../../Formula';\r\nimport { Data } from '../../Formula/type';\r\nimport { Rarity, WeaponKey, WeaponTypeKey } from '../../Types/consts';\r\nimport { DocumentSection, IDocumentHeader } from '../../Types/sheet';\r\nimport { ICachedWeapon } from '../../Types/weapon';\r\nimport { ambiguousLevel, ambiguousLevelLow, ascensionMaxLevel, lowRarityMilestoneLevels, milestoneLevels } from '../LevelData';\r\n\r\nconst weaponSheets = import('.').then(imp => imp.default)\r\n\r\nexport interface IWeaponSheet {\r\n  icon: string,\r\n  iconAwaken: string,\r\n  document: DocumentSection[],\r\n}\r\n\r\nexport default class WeaponSheet {\r\n  readonly key: WeaponKey;\r\n  readonly sheet: IWeaponSheet;\r\n  readonly data: Data;\r\n  readonly rarity: Rarity;\r\n  readonly weaponType: WeaponTypeKey;\r\n  constructor(key: WeaponKey, weaponSheet: IWeaponSheet, weaponData: WeaponData, data: Data) {\r\n    this.rarity = weaponData.rarity\r\n    this.weaponType = weaponData.weaponType\r\n    this.key = key\r\n    this.sheet = weaponSheet\r\n    this.data = data\r\n  }\r\n  static get = (weaponKey: WeaponKey | \"\"): Promise<WeaponSheet> | undefined => weaponKey ? weaponSheets.then(w => w[weaponKey]) : undefined\r\n  static get getAll() { return weaponSheets }\r\n  static getWeaponsOfType = (sheets: StrictDict<WeaponKey, WeaponSheet>, weaponType: string): Dict<WeaponKey, WeaponSheet> => Object.fromEntries(Object.entries(sheets).filter(([_, sheet]) => (sheet as WeaponSheet).weaponType === weaponType))\r\n  static getLevelString = (weapon: ICachedWeapon): string => `${weapon.level}/${ascensionMaxLevel[weapon.ascension]}`\r\n  tr = (strKey: string) => <Translate ns={`weapon_${this.key}_gen`} key18={strKey} />\r\n  get name() { return this.tr(\"name\") }\r\n  get hasRefinement() { return this.rarity > 2 }\r\n  get passiveName() { return this.hasRefinement ? this.tr(\"passiveName\") : \"\" }\r\n  get description() { return this.tr(\"description\") }\r\n  passiveDescription = (refineIndex: number) => this.hasRefinement ? this.tr(`passiveDescription.${refineIndex}`) : \"\"\r\n  get img() { return this.sheet.icon }\r\n  get imgAwaken() { return this.sheet.iconAwaken }\r\n  get document() { return this.sheet.document }\r\n  get milestoneLevels(): Array<[number, number]> {\r\n    if (this.hasRefinement) return milestoneLevels as any\r\n    else return lowRarityMilestoneLevels as any\r\n  }\r\n  ambiguousLevel(level: number) {\r\n    if (this.hasRefinement) return ambiguousLevel(level)\r\n    else return ambiguousLevelLow(level)\r\n  }\r\n}\r\nexport const headerTemplate = (weaponKey: WeaponKey, img: string, imgAwaken: string, action?: Displayable): IDocumentHeader => {\r\n  const tr = (strKey: string) => <Translate ns={`weapon_${weaponKey}_gen`} key18={strKey} />\r\n  return {\r\n    title: tr(`passiveName`),\r\n    icon: data => <ImgIcon size={2} sx={{ m: -1 }} src={data.get(input.weapon.asc).value < 2 ? img : imgAwaken} />,\r\n    action: action && <SqBadge color=\"success\">{action}</SqBadge>,\r\n    description: data => tr(`passiveDescription.${data.get(input.weapon.refineIndex).value}`)\r\n  }\r\n}\r\n","import { faEdit, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { BusinessCenter, Lock, LockOpen } from \"@mui/icons-material\"\r\nimport { Box, Button, ButtonGroup, CardActionArea, CardContent, IconButton, Skeleton, Tooltip, Typography } from \"@mui/material\"\r\nimport { Suspense, useCallback, useContext, useMemo } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport Assets from \"../Assets/Assets\"\r\nimport CardLight from \"../Components/Card/CardLight\"\r\nimport CharacterAutocomplete from '../Components/Character/CharacterAutocomplete'\r\nimport LocationName from \"../Components/Character/LocationName\"\r\nimport ConditionalWrapper from \"../Components/ConditionalWrapper\"\r\nimport ImgIcon from \"../Components/Image/ImgIcon\"\r\nimport { Stars } from \"../Components/StarDisplay\"\r\nimport StatIcon from \"../Components/StatIcon\"\r\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\"\r\nimport { ascensionMaxLevel } from \"../Data/LevelData\"\r\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\"\r\nimport { DatabaseContext } from \"../Database/Database\"\r\nimport { uiInput as input } from \"../Formula\"\r\nimport { computeUIData, dataObjForWeapon } from \"../Formula/api\"\r\nimport KeyMap, { valueString } from \"../KeyMap\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport useWeapon from \"../ReactHooks/useWeapon\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\n\r\ntype WeaponCardProps = { weaponId: string, onClick?: (weaponId: string) => void, onEdit?: (weaponId: string) => void, onDelete?: (weaponId: string) => void, canEquip?: boolean, extraButtons?: JSX.Element }\r\nexport default function WeaponCard({ weaponId, onClick, onEdit, onDelete, canEquip = false, extraButtons }: WeaponCardProps) {\r\n  const { t } = useTranslation([\"page_weapon\", \"ui\"]);\r\n  const { database } = useContext(DatabaseContext)\r\n  const databaseWeapon = useWeapon(weaponId)\r\n  const weapon = databaseWeapon\r\n  const weaponSheet = usePromise(weapon?.key ? WeaponSheet.get(weapon.key) : undefined, [weapon?.key])\r\n\r\n  const filter = useCallback(\r\n    (cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType,\r\n    [weaponSheet],\r\n  )\r\n\r\n  const wrapperFunc = useCallback(children => <CardActionArea onClick={() => onClick?.(weaponId)} >{children}</CardActionArea>, [onClick, weaponId],)\r\n  const falseWrapperFunc = useCallback(children => <Box >{children}</Box>, [])\r\n\r\n  const equipOnChar = useCallback((charKey: CharacterKey | \"\") => database.setWeaponLocation(weaponId, charKey), [database, weaponId],)\r\n\r\n  const UIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\r\n\r\n  if (!weapon || !weaponSheet || !UIData) return null;\r\n  const { level, ascension, refinement, id, location = \"\", lock } = weapon\r\n  const weaponTypeKey = UIData.get(input.weapon.type).value!\r\n  const stats = [input.weapon.main, input.weapon.sub, input.weapon.sub2].map(x => UIData.get(x))\r\n  const img = ascension < 2 ? weaponSheet?.img : weaponSheet?.imgAwaken\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 300 }} />}>\r\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\" }}>\r\n      <ConditionalWrapper condition={!!onClick} wrapper={wrapperFunc} falseWrapper={falseWrapperFunc}>\r\n        <Box className={`grad-${weaponSheet.rarity}star`} sx={{ position: \"relative\", pt: 2, px: 2, }}>\r\n          {!onClick && <IconButton color=\"primary\" onClick={() => database.updateWeapon({ lock: !lock }, id)} sx={{ position: \"absolute\", right: 0, bottom: 0, zIndex: 2 }}>\r\n            {lock ? <Lock /> : <LockOpen />}\r\n          </IconButton>}\r\n          <Box sx={{ position: \"relative\", zIndex: 1 }}>\r\n            <Box component=\"div\" sx={{ display: \"flex\", alignItems: \"center\", gap: 1, mb: 1 }}>\r\n              <ImgIcon sx={{ fontSize: \"1.5em\" }} src={Assets.weaponTypes?.[weaponTypeKey]} />\r\n              <Typography noWrap sx={{ textAlign: \"center\", backgroundColor: \"rgba(100,100,100,0.35)\", borderRadius: \"1em\", px: 1 }}><strong>{weaponSheet.name}</strong></Typography>\r\n            </Box>\r\n            <Typography component=\"span\" variant=\"h5\">Lv. {level}</Typography>\r\n            <Typography component=\"span\" variant=\"h5\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\r\n            <Typography variant=\"h6\">Refinement <strong>{refinement}</strong></Typography>\r\n            <Typography><Stars stars={weaponSheet.rarity} colored /></Typography>\r\n          </Box>\r\n          <Box sx={{ height: \"100%\", position: \"absolute\", right: 0, top: 0 }}>\r\n            <Box\r\n              component=\"img\"\r\n              src={img ?? \"\"}\r\n              width=\"auto\"\r\n              height=\"100%\"\r\n              sx={{ float: \"right\" }}\r\n            />\r\n          </Box>\r\n        </Box>\r\n        <CardContent>\r\n          {stats.map(node => {\r\n            if (!node.info.key) return null\r\n            const displayVal = valueString(node.value, node.unit, !node.unit ? 0 : undefined)\r\n            return <Box key={node.info.key} sx={{ display: \"flex\" }}>\r\n              <Typography flexGrow={1}>{StatIcon[node.info.key!]} {KeyMap.get(node.info.key)}</Typography>\r\n              <Typography>{displayVal}</Typography>\r\n            </Box>\r\n          })}\r\n        </CardContent>\r\n      </ConditionalWrapper>\r\n      <Box sx={{ p: 1, display: \"flex\", gap: 1, justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n        {canEquip\r\n          ? <CharacterAutocomplete size=\"small\" sx={{ flexGrow: 1 }} disable={(v: any) => v === \"\"}\r\n            showDefault defaultIcon={<BusinessCenter />} defaultText={t(\"ui:inventory\")}\r\n            value={location} onChange={equipOnChar} filter={filter} disableClearable/>\r\n          : <LocationName location={location} />}\r\n        <ButtonGroup>\r\n          {!!onEdit && <Tooltip title={<Typography>{t`page_weapon:edit`}</Typography>} placement=\"top\" arrow>\r\n            <Button color=\"info\" onClick={() => onEdit(id)} >\r\n              <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\r\n            </Button>\r\n          </Tooltip>}\r\n          {!!onDelete && <Button color=\"error\" onClick={() => onDelete(id)} disabled={!!location || lock} >\r\n            <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\r\n          </Button>}\r\n          {extraButtons}\r\n        </ButtonGroup>\r\n      </Box>\r\n    </CardLight>\r\n  </Suspense>\r\n}\r\n","import { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Box, Button, CardContent, Grid, Pagination, Skeleton, ToggleButton, Typography } from '@mui/material';\r\nimport i18next from 'i18next';\r\nimport React, { lazy, Suspense, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\r\nimport ReactGA from 'react-ga4';\r\nimport { Trans, useTranslation } from 'react-i18next';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport SolidToggleButtonGroup from '../Components/SolidToggleButtonGroup';\r\nimport SortByButton from '../Components/SortByButton';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport WeaponToggle from '../Components/ToggleButton/WeaponToggle';\r\nimport WeaponSelectionModal from '../Components/Weapon/WeaponSelectionModal';\r\nimport WeaponSheet from '../Data/Weapons/WeaponSheet';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport useDBState from '../ReactHooks/useDBState';\r\nimport useForceUpdate from '../ReactHooks/useForceUpdate';\r\nimport useMediaQueryUp from '../ReactHooks/useMediaQueryUp';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport { allRarities, allWeaponTypeKeys, WeaponKey } from '../Types/consts';\r\nimport { filterFunction, sortFunction } from '../Util/SortByFilters';\r\nimport { clamp } from '../Util/Util';\r\nimport { weaponFilterConfigs, weaponSortConfigs, weaponSortKeys } from '../Util/WeaponSort';\r\nimport { initialWeapon } from '../Util/WeaponUtil';\r\nimport WeaponCard from './WeaponCard';\r\n\r\n//lazy load the weapon display\r\nconst WeaponEditor = lazy(() => import('./WeaponEditor'))\r\n\r\nconst columns = { xs: 1, sm: 2, md: 3, lg: 3, xl: 4 }\r\nconst numToShowMap = { xs: 10 - 1, sm: 12 - 1, md: 24 - 1, lg: 24 - 1, xl: 24 - 1 }\r\n\r\nconst initialState = () => ({\r\n  editWeaponId: \"\",\r\n  sortType: weaponSortKeys[0],\r\n  ascending: false,\r\n  rarity: [...allRarities],\r\n  weaponType: [...allWeaponTypeKeys],\r\n})\r\n\r\nexport default function PageWeapon() {\r\n  const { t } = useTranslation([\"page_weapon\", \"ui\"]);\r\n  const { database } = useContext(DatabaseContext)\r\n  const [state, stateDisplatch] = useDBState(\"WeaponDisplay\", initialState)\r\n  const [newWeaponModalShow, setnewWeaponModalShow] = useState(false)\r\n  const [dbDirty, forceUpdate] = useForceUpdate()\r\n  const invScrollRef = useRef<HTMLDivElement>(null)\r\n  const [pageIdex, setpageIdex] = useState(0)\r\n  //set follow, should run only once\r\n  useEffect(() => {\r\n    ReactGA.send({ hitType: \"pageview\", page: '/weapon' })\r\n    return database.followAnyWeapon(forceUpdate)\r\n  }, [forceUpdate, database])\r\n\r\n  const brPt = useMediaQueryUp()\r\n  const maxNumToDisplay = numToShowMap[brPt]\r\n\r\n  const weaponSheets = usePromise(WeaponSheet.getAll, [])\r\n\r\n  const deleteWeapon = useCallback(async (key) => {\r\n    const weapon = database._getWeapon(key)\r\n    if (!weapon) return\r\n    const name = i18next.t(`weapon_${weapon.key}_gen:name`)\r\n\r\n    if (!window.confirm(`Are you sure you want to remove ${name}?`)) return\r\n    database.removeWeapon(key)\r\n    if (state.editWeaponId === key)\r\n      stateDisplatch({ editWeaponId: \"\" })\r\n  }, [state.editWeaponId, stateDisplatch, database])\r\n\r\n  const editWeapon = useCallback(key => {\r\n    stateDisplatch({ editWeaponId: key })\r\n  }, [stateDisplatch])\r\n\r\n  const newWeapon = useCallback(\r\n    (weaponKey: WeaponKey) => {\r\n      editWeapon(database.createWeapon(initialWeapon(weaponKey)))\r\n    },\r\n    [database, editWeapon])\r\n\r\n  const { sortType, ascending, weaponType, rarity } = state\r\n  const sortConfigs = useMemo(() => weaponSheets && weaponSortConfigs(weaponSheets), [weaponSheets])\r\n  const filterConfigs = useMemo(() => weaponSheets && weaponFilterConfigs(weaponSheets), [weaponSheets])\r\n  const { weaponIdList, totalWeaponNum } = useMemo(() => {\r\n    const weapons = database._getWeapons()\r\n    const totalWeaponNum = weapons.length\r\n    if (!sortConfigs || !filterConfigs) return { weaponIdList: [], totalWeaponNum }\r\n    const weaponIdList = weapons.filter(filterFunction({ weaponType, rarity }, filterConfigs))\r\n      .sort(sortFunction(sortType, ascending, sortConfigs)).map(weapon => weapon.id);\r\n    return dbDirty && { weaponIdList, totalWeaponNum }\r\n  }, [dbDirty, database, sortConfigs, filterConfigs, sortType, ascending, rarity, weaponType])\r\n\r\n  const { weaponIdsToShow, numPages, currentPageIndex } = useMemo(() => {\r\n    const numPages = Math.ceil(weaponIdList.length / maxNumToDisplay)\r\n    const currentPageIndex = clamp(pageIdex, 0, numPages - 1)\r\n    return { weaponIdsToShow: weaponIdList.slice(currentPageIndex * maxNumToDisplay, (currentPageIndex + 1) * maxNumToDisplay), numPages, currentPageIndex }\r\n  }, [weaponIdList, pageIdex, maxNumToDisplay])\r\n\r\n  //for pagination\r\n  const totalShowing = weaponIdList.length !== totalWeaponNum ? `${weaponIdList.length}/${totalWeaponNum}` : `${totalWeaponNum}`\r\n  const setPage = useCallback(\r\n    (e, value) => {\r\n      invScrollRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n      setpageIdex(value - 1);\r\n    },\r\n    [setpageIdex, invScrollRef],\r\n  )\r\n\r\n  const resetEditWeapon = useCallback(() => stateDisplatch({ editWeaponId: \"\" }), [stateDisplatch])\r\n\r\n  const { editWeaponId } = state\r\n\r\n  // Validate weaponId to be an actual weapon\r\n  useEffect(() => {\r\n    if (!editWeaponId) return\r\n    if (!database._getWeapon(editWeaponId))\r\n      resetEditWeapon()\r\n  }, [database, editWeaponId, resetEditWeapon])\r\n\r\n  return <Box my={1} display=\"flex\" flexDirection=\"column\" gap={1}>\r\n    {/* editor/character detail display */}\r\n    <Suspense fallback={false}>\r\n      <WeaponEditor\r\n        weaponId={editWeaponId}\r\n        footer\r\n        onClose={resetEditWeapon}\r\n      />\r\n    </Suspense>\r\n\r\n    <CardDark ref={invScrollRef} sx={{ p: 2, pb: 1 }}>\r\n      <Grid container spacing={1} sx={{ mb: 1 }}>\r\n        <Grid item>\r\n          <WeaponToggle sx={{ height: \"100%\" }} onChange={weaponType => stateDisplatch({ weaponType })} value={weaponType} size=\"small\" />\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <SolidToggleButtonGroup sx={{ height: \"100%\" }} onChange={(e, newVal) => stateDisplatch({ rarity: newVal })} value={rarity} size=\"small\">\r\n            {allRarities.map(star => <ToggleButton key={star} value={star}><Box display=\"flex\" gap={1}><strong>{star}</strong><Stars stars={1} /></Box></ToggleButton>)}\r\n          </SolidToggleButtonGroup>\r\n        </Grid>\r\n        <Grid item >\r\n          <SortByButton sx={{ height: \"100%\" }} sortKeys={weaponSortKeys}\r\n            value={sortType} onChange={sortType => stateDisplatch({ sortType })}\r\n            ascending={ascending} onChangeAsc={ascending => stateDisplatch({ ascending })}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container alignItems=\"flex-end\">\r\n        <Grid item flexGrow={1}>\r\n          <Pagination count={numPages} page={currentPageIndex + 1} onChange={setPage} />\r\n        </Grid>\r\n        <Grid item>\r\n          <ShowingWeapon numShowing={weaponIdsToShow.length} total={totalShowing} t={t} />\r\n        </Grid>\r\n      </Grid>\r\n    </CardDark>\r\n    <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 500 }} />}>\r\n      <Grid container spacing={1} columns={columns}>\r\n        <Grid item xs={1}>\r\n          <CardDark sx={{ height: \"100%\", width: \"100%\", minHeight: 300, display: \"flex\", flexDirection: \"column\" }}>\r\n            <CardContent>\r\n              <Typography sx={{ textAlign: \"center\" }}>Add New Weapon</Typography>\r\n            </CardContent>\r\n            <WeaponSelectionModal show={newWeaponModalShow} onHide={() => setnewWeaponModalShow(false)} onSelect={newWeapon} />\r\n            <Box sx={{\r\n              flexGrow: 1,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\"\r\n            }}\r\n            >\r\n              <Button onClick={() => setnewWeaponModalShow(true)} color=\"info\" sx={{ borderRadius: \"1em\" }}>\r\n                <Typography variant=\"h1\"><FontAwesomeIcon icon={faPlus} className=\"fa-fw\" /></Typography>\r\n              </Button>\r\n            </Box>\r\n          </CardDark>\r\n        </Grid>\r\n        {weaponIdsToShow.map(weaponId =>\r\n          <Grid item key={weaponId} xs={1} >\r\n            <WeaponCard\r\n              weaponId={weaponId}\r\n              onDelete={deleteWeapon}\r\n              onEdit={editWeapon}\r\n              canEquip\r\n            />\r\n          </Grid>)}\r\n      </Grid>\r\n    </Suspense>\r\n    {numPages > 1 && <CardDark><CardContent>\r\n      <Grid container alignItems=\"flex-end\">\r\n        <Grid item flexGrow={1}>\r\n          <Pagination count={numPages} page={currentPageIndex + 1} onChange={setPage} />\r\n        </Grid>\r\n        <Grid item>\r\n          <ShowingWeapon numShowing={weaponIdsToShow.length} total={totalShowing} t={t} />\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent></CardDark>}\r\n  </Box>\r\n}\r\nfunction ShowingWeapon({ numShowing, total, t }) {\r\n  return <Typography color=\"text.secondary\">\r\n    <Trans t={t} i18nKey=\"showingNum\" count={numShowing} value={total} >\r\n      Showing <b>{{ count: numShowing }}</b> out of {{ value: total }} Weapons\r\n    </Trans>\r\n  </Typography>\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\n\r\nexport default function useWeapon(weaponID: string | undefined = \"\") {\r\n  const { database } = useContext(DatabaseContext)\r\n  const [weapon, setWeapon] = useState(database._getWeapon(weaponID))\r\n  useEffect(() => setWeapon(database._getWeapon(weaponID)), [database, weaponID])\r\n  useEffect(() =>\r\n    weaponID ? database.followWeapon(weaponID, setWeapon) : undefined,\r\n    [weaponID, setWeapon, database])\r\n  return weapon\r\n}\r\n","import { toggleArr } from \"./Util\"\r\n\r\nexport function handleMultiSelect<T>(allKeys: T[]) {\r\n  return (arr: T[], v: T): T[] => {\r\n    const len = arr.length\r\n    if (len === allKeys.length) return [v]\r\n    if (len === 1 && arr[0] === v) return [...allKeys]\r\n    return [...new Set(toggleArr(arr, v))]\r\n  }\r\n}\r\n","import { WeaponKey } from \"../Types/consts\";\r\nimport { ICachedWeapon } from \"../Types/weapon\";\r\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\";\r\nimport { FilterConfigs, SortConfigs } from \"./SortByFilters\";\r\nexport const weaponSortKeys = [\"level\", \"rarity\"]\r\nexport type WeaponSortKey = typeof weaponSortKeys[number]\r\n\r\nexport function weaponSortConfigs(weaponSheets: Record<WeaponKey, WeaponSheet>): SortConfigs<WeaponSortKey, ICachedWeapon> {\r\n  return {\r\n    level: {\r\n      getValue: wp => wp.level ?? 0,\r\n      tieBreaker: \"rarity\"\r\n    },\r\n    rarity: {\r\n      getValue: wp => weaponSheets?.[wp.key]?.rarity,\r\n      tieBreaker: \"level\"\r\n    }\r\n  }\r\n}\r\nexport function weaponFilterConfigs(weaponSheets: Record<WeaponKey, WeaponSheet>): FilterConfigs<\"rarity\" | \"weaponType\", ICachedWeapon> {\r\n  return {\r\n    rarity: (wp, filter) => filter.includes(weaponSheets?.[wp.key]?.rarity),\r\n    weaponType: (wp, filter) => filter.includes(weaponSheets?.[wp.key]?.weaponType),\r\n  }\r\n}\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["CharacterAutocomplete","value","onChange","defaultText","defaultIcon","placeholderText","labelText","showDefault","showInventory","showEquipped","filter","disable","props","t","useTranslation","allCharacterKeys","k","theme","useTheme","database","useContext","DatabaseContext","characterSheets","usePromise","CharacterSheet","filterConfigs","useMemo","characterFilterConfigs","characterKeys","_getCharKeys","ck","sort","textForValue","useCallback","imageForValue","icon","faUserShield","src","thumbImgSide","sx","pr","characterOptions","base","push","label","faves","filterFunction","element","allElements","weaponType","allWeaponTypeKeys","favorite","name","map","characterKey","nonFaves","concat","charOptions","autoHighlight","options","clearIcon","undefined","getOptionLabel","option","event","newValue","reason","type","isOptionEqualToValue","getOptionDisabled","renderInput","placeholder","startAdornment","hasValue","renderOption","_getChar","image","text","Suspense","fallback","variant","width","noWrap","isSelected","addlElement","display","flexGrow","ml","mr","height","LocationName","location","characterSheet","component","nameWIthIcon","verticalAlign","ThumbSide","styled","lineHeight","marginTop","spacing","marginLeft","marginRight","marginBottom","MenuItemWithImage","primaryTypographyProps","style","fontWeight","typography","fontWeightMedium","fontWeightRegular","SolidColoredTextField","flattenCorners","InputProps","color","hiddenLabel","InputLabelProps","palette","primary","backgroundColor","success","main","borderRadius","paddingTop","paddingBottom","light","dark","border","weaponTypeHandler","handleMultiSelect","WeaponToggle","exclusive","wt","onClick","Assets","size","WeaponSelectionModal","show","onHide","onSelect","propWeaponFilter","weaponFilter","weaponSheets","WeaponSheet","useState","setWeaponfilter","useEffect","weaponIdList","Set","allWeaponKeys","wKey","includes","a","b","rarity","open","onClose","py","container","item","disabled","weaponKey","weaponSheet","lg","md","img","className","px","stars","colored","large","then","imp","default","key","weaponData","data","sheet","tr","strKey","ns","key18","passiveDescription","refineIndex","hasRefinement","this","iconAwaken","document","milestoneLevels","lowRarityMilestoneLevels","level","ambiguousLevel","ambiguousLevelLow","get","w","getWeaponsOfType","sheets","Object","fromEntries","entries","getLevelString","weapon","ascensionMaxLevel","ascension","headerTemplate","imgAwaken","action","title","m","input","description","WeaponCard","weaponId","onEdit","onDelete","canEquip","extraButtons","useWeapon","cs","weaponTypeKey","wrapperFunc","children","falseWrapperFunc","equipOnChar","charKey","setWeaponLocation","UIData","computeUIData","dataObjForWeapon","refinement","id","lock","stats","x","minHeight","flexDirection","justifyContent","condition","wrapper","falseWrapper","position","pt","updateWeapon","right","bottom","zIndex","alignItems","gap","mb","fontSize","textAlign","top","float","node","info","displayVal","valueString","unit","StatIcon","KeyMap","p","v","disableClearable","placement","arrow","faEdit","faTrashAlt","WeaponEditor","lazy","columns","xs","sm","xl","numToShowMap","initialState","editWeaponId","sortType","weaponSortKeys","ascending","allRarities","PageWeapon","useDBState","state","stateDisplatch","newWeaponModalShow","setnewWeaponModalShow","useForceUpdate","dbDirty","forceUpdate","invScrollRef","useRef","pageIdex","setpageIdex","ReactGA","hitType","page","followAnyWeapon","brPt","useMediaQueryUp","maxNumToDisplay","deleteWeapon","_getWeapon","i18next","window","confirm","removeWeapon","editWeapon","newWeapon","createWeapon","initialWeapon","sortConfigs","weaponSortConfigs","weaponFilterConfigs","weapons","_getWeapons","totalWeaponNum","length","sortFunction","numPages","Math","ceil","currentPageIndex","clamp","weaponIdsToShow","slice","totalShowing","setPage","e","current","scrollIntoView","behavior","resetEditWeapon","my","footer","ref","pb","newVal","star","sortKeys","onChangeAsc","count","ShowingWeapon","numShowing","total","faPlus","i18nKey","weaponID","setWeapon","followWeapon","allKeys","arr","len","toggleArr","getValue","wp","tieBreaker","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","error","done","Promise","_asyncToGenerator","fn","self","args","arguments","apply","err"],"sourceRoot":""}