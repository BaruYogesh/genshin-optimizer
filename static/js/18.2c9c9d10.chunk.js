(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[18],{105:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(5),r=t.n(s),i=t(0),l=t.n(i),o=t(7),d=t(54),b=l.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.variant,i=e.size,b=e.active,j=e.className,u=e.block,f=e.type,m=e.as,O=Object(c.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),h=Object(o.a)(t,"btn"),p=r()(j,h,b&&"active",s&&h+"-"+s,u&&h+"-block",i&&h+"-"+i);if(O.href)return l.a.createElement(d.a,Object(n.a)({},O,{as:m,ref:a,className:r()(p,O.disabled&&"disabled")}));a&&(O.ref=a),f?O.type=f:m||(O.type="button");var v=m||"button";return l.a.createElement(v,Object(n.a)({},O,{className:p}))}));b.displayName="Button",b.defaultProps={variant:"primary",active:!1,disabled:!1},a.a=b},113:function(e,a,t){"use strict";var n=t(0),c=t.n(n).a.createContext({controlId:void 0});a.a=c},120:function(e,a,t){"use strict";var n,c=t(2),s=t(4),r=t(5),i=t.n(r),l=t(0),o=t.n(l),d=t(26),b=t(57),j=t(56),u=((n={})[d.b]="show",n[d.a]="show",n),f=o.a.forwardRef((function(e,a){var t=e.className,n=e.children,r=Object(s.a)(e,["className","children"]),f=Object(l.useCallback)((function(e){Object(j.a)(e),r.onEnter&&r.onEnter(e)}),[r]);return o.a.createElement(d.e,Object(c.a)({ref:a,addEndListener:b.a},r,{onEnter:f}),(function(e,a){return o.a.cloneElement(n,Object(c.a)({},a,{className:i()("fade",t,n.props.className,u[e])}))}))}));f.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},f.displayName="Fade",a.a=f},150:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(5),r=t.n(s),i=(t(78),t(0)),l=t.n(i),o=(t(77),t(159)),d=t(113),b=t(7),j=l.a.forwardRef((function(e,a){var t,s,o=e.bsPrefix,j=e.bsCustomPrefix,u=e.type,f=e.size,m=e.htmlSize,O=e.id,h=e.className,p=e.isValid,v=void 0!==p&&p,x=e.isInvalid,y=void 0!==x&&x,g=e.plaintext,N=e.readOnly,w=e.custom,C=e.as,k=void 0===C?"input":C,E=Object(c.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),P=Object(i.useContext)(d.a).controlId,R=w?[j,"custom"]:[o,"form-control"],S=R[0],B=R[1];if(o=Object(b.a)(S,B),g)(s={})[o+"-plaintext"]=!0,t=s;else if("file"===u){var I;(I={})[o+"-file"]=!0,t=I}else if("range"===u){var U;(U={})[o+"-range"]=!0,t=U}else if("select"===k&&w){var z;(z={})[o+"-select"]=!0,z[o+"-select-"+f]=f,t=z}else{var D;(D={})[o]=!0,D[o+"-"+f]=f,t=D}return l.a.createElement(k,Object(n.a)({},E,{type:u,size:m,ref:a,readOnly:N,id:O||P,className:r()(h,t,v&&"is-valid",y&&"is-invalid")}))}));j.displayName="FormControl",a.a=Object.assign(j,{Feedback:o.a})},153:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(3),r=t.n(s),i=t(0),l=t.n(i),o=t(5),d=t.n(o),b={label:r.a.string.isRequired,onClick:r.a.func},j=l.a.forwardRef((function(e,a){var t=e.label,s=e.onClick,r=e.className,i=Object(c.a)(e,["label","onClick","className"]);return l.a.createElement("button",Object(n.a)({ref:a,type:"button",className:d()("close",r),onClick:s},i),l.a.createElement("span",{"aria-hidden":"true"},"\xd7"),l.a.createElement("span",{className:"sr-only"},t))}));j.displayName="CloseButton",j.propTypes=b,j.defaultProps={label:"Close"},a.a=j},159:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(5),r=t.n(s),i=t(0),l=t.n(i),o=t(3),d=t.n(o),b={type:d.a.string,tooltip:d.a.bool,as:d.a.elementType},j=l.a.forwardRef((function(e,a){var t=e.as,s=void 0===t?"div":t,i=e.className,o=e.type,d=void 0===o?"valid":o,b=e.tooltip,j=void 0!==b&&b,u=Object(c.a)(e,["as","className","type","tooltip"]);return l.a.createElement(s,Object(n.a)({},u,{ref:a,className:r()(i,d+"-"+(j?"tooltip":"feedback"))}))}));j.displayName="Feedback",j.propTypes=b,a.a=j},262:function(e,a,t){"use strict";var n=t(2),c=t(4),s=t(5),r=t.n(s),i=t(0),l=t.n(i),o=t(32),d=t(33),b=t(7),j=t(120),u=t(153),f=t(44),m=t(15),O=t(54),h=Object(f.a)("h4");h.displayName="DivStyledAsH4";var p=Object(m.a)("alert-heading",{Component:h}),v=Object(m.a)("alert-link",{Component:O.a}),x={show:!0,transition:j.a,closeLabel:"Close alert"},y=l.a.forwardRef((function(e,a){var t=Object(o.a)(e,{show:"onClose"}),s=t.bsPrefix,i=t.show,f=t.closeLabel,m=t.className,O=t.children,h=t.variant,p=t.onClose,v=t.dismissible,x=t.transition,y=Object(c.a)(t,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),g=Object(b.a)(s,"alert"),N=Object(d.a)((function(e){p&&p(!1,e)})),w=!0===x?j.a:x,C=l.a.createElement("div",Object(n.a)({role:"alert"},w?void 0:y,{ref:a,className:r()(m,g,h&&g+"-"+h,v&&g+"-dismissible")}),v&&l.a.createElement(u.a,{onClick:N,label:f}),O);return w?l.a.createElement(w,Object(n.a)({unmountOnExit:!0},y,{ref:void 0,in:i}),C):i?C:null}));y.displayName="Alert",y.defaultProps=x,y.Link=v,y.Heading=p,a.a=y},271:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return x}));var n=t(160),c=t.n(n),s=t(191),r=t(16),i=t(0),l=t(73),o=t(42),d=t(51),b=t(41),j=t(105),u=t(263),f=t(262),m=t(25),O=t(19),h=t(17),p=t(59),v=t(1);function x(){var e=Object(i.useState)(),a=Object(r.a)(e,2)[1],t=Object(i.useCallback)((function(){return a({})}),[]);return m.a.pageview("/setting"),Object(v.jsx)(l.a,{children:Object(v.jsxs)(o.a,{bg:"darkcontent",text:"lightfont",className:"mt-2",children:[Object(v.jsx)(o.a.Header,{children:"Database management"}),Object(v.jsxs)(o.a.Body,{children:[Object(v.jsx)(g,{forceUpdate:t}),Object(v.jsx)(w,{forceUpdate:t})]})]})})}function y(){navigator.clipboard.writeText(JSON.stringify(Object(p.d)())),alert("Copied database to clipboard.")}function g(e){var a=e.forceUpdate,t=h.a.getIdList().length,n=O.a.getIdList().length,c=Boolean(t||n);return Object(v.jsxs)(o.a,{bg:"lightcontent",text:"lightfont",className:"mb-3",children:[Object(v.jsx)(o.a.Header,{children:"Database Download"}),Object(v.jsxs)(o.a.Body,{children:[Object(v.jsxs)(d.a,{className:"mb-2",children:[Object(v.jsx)(b.a,{xs:12,md:6,children:Object(v.jsxs)("h6",{children:["Number of Characters: ",Object(v.jsx)("b",{children:t})]})}),Object(v.jsx)(b.a,{xs:12,md:6,children:Object(v.jsxs)("h6",{children:["Number of artifacts: ",Object(v.jsx)("b",{children:n})]})})]}),Object(v.jsx)("small",{children:'Notes: any data within the "Tools" page, e.g. Resin amount/timer, are not part of the downloaded database.'})]}),Object(v.jsx)(o.a.Footer,{children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)(b.a,{xs:"auto",children:Object(v.jsx)(j.a,{disabled:!c,onClick:function(){return function(e){var a,t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",c="application/json;charset=utf-8";if(null===(a=window)||void 0===a||null===(t=a.navigator)||void 0===t?void 0:t.msSaveOrOpenBlob){var s=new Blob([decodeURIComponent(encodeURI(e))],{type:c});navigator.msSaveOrOpenBlob(s,n)}else{var r=document.createElement("a");r.download=n,r.href="data:".concat(c,",").concat(encodeURIComponent(e)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}(JSON.stringify(Object(p.d)()))},children:"Download"})}),Object(v.jsx)(b.a,{children:Object(v.jsx)(j.a,{disabled:!c,variant:"info",onClick:y,children:"Copy to clipboard"})}),Object(v.jsx)(b.a,{xs:"auto",children:Object(v.jsx)(j.a,{disabled:!c,variant:"danger",onClick:function(){window.confirm("Are you sure you want to delete your database? All existing characters and artifacts will be deleted.")&&Object(p.c)(),a()},children:"Delete database"})})]})})]})}function N(){return(N=Object(s.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:(n=new FileReader).onload=function(){t(n.result)},n.readAsText(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var a,t,n,c=e.forceUpdate,s=Object(i.useState)(""),l=Object(r.a)(s,2),m=l[0],O=l[1],h=Object(i.useState)(""),x=Object(r.a)(h,2),y=x[0],g=x[1],w="";if(m)try{var C=n=JSON.parse(m),k=C.characterDatabase,E=C.artifactDatabase;a=Object.keys(k).length,t=Object.keys(E).length}catch(R){w="Invalid JSON: ".concat(R)}var P=Boolean(a||t);return Object(v.jsxs)(o.a,{bg:"lightcontent",text:"lightfont",children:[Object(v.jsx)(o.a.Header,{children:"Database Upload"}),Object(v.jsxs)(o.a.Body,{children:[Object(v.jsxs)(d.a,{className:"mb-2",children:[Object(v.jsx)(u.a.File,{className:"mb-2",label:y||"Upload your JSON file here",onChange:function(e){var a=e.target.files[0];e.target.value=null,a&&g(a.name),function(e,a){N.apply(this,arguments)}(a,O)},custom:!0,accept:".json"}),Object(v.jsx)("h6",{children:"...or Paste your data below..."}),Object(v.jsx)("textarea",{className:"w-100 text-monospace",value:m,onChange:function(e){return O(e.target.value)},style:{minHeight:"10em"}})]}),P&&Object(v.jsxs)(d.a,{children:[Object(v.jsx)(b.a,{xs:12,md:6,children:Object(v.jsxs)("h6",{children:["Number of Characters: ",Object(v.jsx)("b",{children:a})]})}),Object(v.jsx)(b.a,{xs:12,md:6,children:Object(v.jsxs)("h6",{children:["Number of artifacts: ",Object(v.jsx)("b",{children:t})]})})]}),Boolean(m&&(w||!P))&&Object(v.jsx)(f.a,{variant:"danger",children:w||"Unable to parse character & artifact data from file."})]}),Object(v.jsx)(o.a.Footer,{children:Object(v.jsx)(j.a,{variant:P?"success":"danger",disabled:!P,onClick:function(){!function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};window.confirm("Are you sure you want to replace your database? All existing characters and artifacts will be deleted before replacement.")&&(Object(p.e)(e),a())}(n),O(""),g(""),c()},children:"Replace database"})})]})}Object(p.b)()}}]);
//# sourceMappingURL=18.2c9c9d10.chunk.js.map