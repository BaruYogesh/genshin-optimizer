(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[7],{283:function(e,t,c){"use strict";var a={weaponTypes:{bow:c.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:c.p+"static/media/icon_catalyst.db078b7b.png",claymore:c.p+"static/media/icon_claymore.63b1abb8.png",polearm:c.p+"static/media/icon_polearm.e5f4a2a1.png",sword:c.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:c.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:c.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:c.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:c.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:c.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},297:function(e,t,c){"use strict";c.d(t,"a",(function(){return d}));var a,n=c(46),i=c(332),r=c(79),s=c(129),l=c(134),o=c(131),j=c(0);function d(e){var t=e.location,c=Object(s.a)("ui").t,d=Object(o.a)(l.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(j.jsx)(r.a,{component:"span",children:(null===d||void 0===d?void 0:d.name)?d.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(i.a,{sx:{verticalAlign:"text-bottom"}})," ",c(a||(a=Object(n.a)(["inventory"])))]})})}},298:function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var a=c(5),n=c(130),i=c(720),r=c(1),s=c(283),l=c(20),o=c(97),j=c(288),d=c(0);function u(e){var t=e.value,c=e.onChange,u=Object(n.a)(e,["value","onChange"]),b=Object(r.useCallback)((function(e,t){return c(t||"")}),[c]);return Object(d.jsx)(j.a,Object(a.a)(Object(a.a)({exclusive:!0,onChange:b,value:t||l.j},u),{},{children:l.j.map((function(e){var t;return Object(d.jsx)(i.a,{value:e,children:Object(d.jsx)(o.a,{src:null===(t=s.a.weaponTypes)||void 0===t?void 0:t[e],size:2})},e)}))}))}},301:function(e,t,c){"use strict";c.d(t,"a",(function(){return x}));var a=c(5),n=c(130),i=c(51),r=c(17),s=c(675),l=c(719),o=c(271),j=c(129),d=c(94),u=c(278),b=c(0);function x(e){var t=e.sortKeys,c=e.value,x=e.onChange,h=e.ascending,O=e.onChangeAsc,p=Object(n.a)(e,["sortKeys","value","onChange","ascending","onChangeAsc"]),v=Object(j.a)("ui").t;return Object(b.jsxs)(s.a,Object(a.a)(Object(a.a)({},p),{},{children:[Object(b.jsx)(u.a,{title:Object(b.jsxs)(d.a,{t:v,i18nKey:"sortByFormat",value:v("sortMap.".concat(c)),children:["Sort By: ",{value:v("sortMap.".concat(c))}]}),children:t.map((function(e){return Object(b.jsx)(l.a,{selected:c===e,disabled:c===e,onClick:function(){return x(e)},children:v("sortMap.".concat(e))},e)}))}),Object(b.jsx)(o.a,{onClick:function(){return O(!h)},startIcon:Object(b.jsx)(r.a,{icon:h?i.x:i.y,className:"fa-fw"}),children:h?Object(b.jsx)(d.a,{t:v,i18nKey:"ascending",children:"Ascending"}):Object(b.jsx)(d.a,{t:v,i18nKey:"descending",children:"Descending"})})]}))}},305:function(e,t,c){"use strict";c.d(t,"a",(function(){return R}));var a,n,i,r=c(46),s=c(3),l=c(51),o=c(17),j=c(343),d=c(344),u=c(79),b=c(169),x=c(397),h=c(220),O=c(351),p=c(272),v=c(264),f=c(352),m=c(399),g=c(675),y=c(271),w=c(705),S=c(1),k=c(129),C=c(292),_=c(276),K=c(291),B=c(297),A=c(32),T=c(280),N=c(281),E=c(173),q=c(131),W=c(40),F=c(70),D=c(138),z=c(15),I=c(81),L=c(132),M=c(139),G=c(306),V=c(0),U=new Set(F.b);function R(e){var t,c,F,R,P=e.artifactId,H=e.artifactObj,J=e.onEdit,X=e.onDelete,Q=e.mainStatAssumptionLevel,Y=void 0===Q?0:Q,Z=e.effFilter,$=void 0===Z?U:Z,ee=Object(k.a)(["artifact"]).t,te=Object(S.useContext)(E.b),ce=Object(S.useState)(void 0),ae=Object(s.a)(ce,2),ne=ae[0],ie=ae[1];Object(S.useEffect)((function(){return P?te.followArt(P,ie):void 0}),[P,ie,te]);var re=Object(q.a)(L.a.get(null===(t=null!==H&&void 0!==H?H:P?te._getArt(P):void 0)||void 0===t?void 0:t.setKey),[H,P]),se=!H&&te===E.c,le=null!==H&&void 0!==H?H:ne;if(!le)return null;var oe=le.id,je=le.lock,de=le.slotKey,ue=le.rarity,be=le.level,xe=le.mainStatKey,he=le.substats,Oe=le.exclude,pe=le.location,ve=void 0===pe?"":pe,fe=Math.max(Math.min(Y,4*ue),be),me="roll"+(Math.floor(Math.max(be,0)/4)+1),ge=Object(V.jsx)(A.a,{color:fe!==be?"warning":void 0,children:Object(D.b)(null!==(c=I.a.mainStatValue(xe,ue,fe))&&void 0!==c?c:0,W.b.getStatUnit(xe))}),ye=I.a.getArtifactEfficiency(le,$),we=ye.currentEfficiency,Se=ye.maxEfficiency,ke=0!==Se,Ce=(null===re||void 0===re?void 0:re.getSlotName(de))||"Unknown Piece Name",_e=null===re||void 0===re?void 0:re.getSlotDesc(de),Ke=_e&&Object(V.jsx)(C.a,{placement:"top",title:Object(V.jsx)(u.a,{children:_e}),children:Object(V.jsx)("span",{children:Object(V.jsx)(o.a,{icon:l.s})})}),Be=null===re||void 0===re?void 0:re.setEffects,Ae=re&&Be&&Object(V.jsx)(C.a,{placement:"top",title:Object(V.jsx)("span",{children:Object.keys(Be).map((function(e){return Object(V.jsxs)("span",{children:[Object(V.jsx)(u.a,{variant:"h6",children:Object(V.jsx)(T.a,{color:"success",children:ee("setEffectNum",{setNum:e})})}),Object(V.jsx)(u.a,{children:re.setEffectDesc(e)})]},e)}))}),children:Object(V.jsx)("span",{children:Object(V.jsx)(o.a,{icon:l.s})})});return Object(V.jsx)(S.Suspense,{fallback:Object(V.jsx)(b.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(V.jsxs)(_.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(V.jsxs)(x.a,{className:"grad-".concat(ue,"star"),sx:{py:1},children:[Object(V.jsxs)(h.a,{component:"div",sx:{display:"flex",alignItems:"center"},children:[Object(V.jsx)(O.a,{size:"small",label:Object(V.jsx)("strong",{children:" +".concat(be)}),color:me}),Object(V.jsxs)(u.a,{sx:{pl:1,flexGrow:1},children:[Ce," ",Ke]}),Object(V.jsx)(p.a,{color:"primary",disabled:!se,onClick:function(){return te.updateArt({lock:!je},oe)},children:je?Object(V.jsx)(j.a,{}):Object(V.jsx)(d.a,{})})]}),Object(V.jsxs)(v.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(V.jsxs)(v.a,{item:!0,flexGrow:1,children:[Object(V.jsx)(u.a,{color:"text.secondary",variant:"body2",children:Object(V.jsx)(M.c,{slotKey:de})}),Object(V.jsx)(u.a,{variant:"h6",children:W.b.getStatName(xe)}),Object(V.jsx)(u.a,{variant:"h5",children:Object(V.jsx)("strong",{children:ge})}),Object(V.jsx)(N.a,{stars:ue,colored:!0})]}),Object(V.jsx)(v.a,{item:!0,xs:3,md:4,children:Object(V.jsx)(f.a,{component:"img",image:null!==(F=null===re||void 0===re?void 0:re.slotIcons[de])&&void 0!==F?F:"",width:"100%",height:"auto"})})]})]}),Object(V.jsxs)(x.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[he.map((function(e,t){var c,a,n;if(!e.value)return null;var i=null!==(c=null===(a=e.rolls)||void 0===a?void 0:a.length)&&void 0!==c?c:0,r="roll".concat(Object(z.a)(i,1,6)),s=null!==(n=e.efficiency)&&void 0!==n?n:0,l=.3+s/100*.7,o=W.b.getStatName(e.key);return Object(V.jsxs)(h.a,{sx:{display:"flex"},children:[Object(V.jsxs)(h.a,{sx:{flexGrow:1},children:[Object(V.jsx)(T.a,{color:i?r:"error",sx:{mr:1},children:Object(V.jsx)("strong",{children:i||"?"})}),Object(V.jsxs)(u.a,{color:i?"".concat(r,".main"):"error.main",component:"span",children:[o,"+".concat(Object(D.b)(e.value,W.b.getStatUnit(e.key)))]})]}),Object(V.jsx)(u.a,{sx:{opacity:l},children:e.key&&$.has(e.key)?Object(D.b)(s,"eff"):"-"})]},t)})),Object(V.jsxs)(h.a,{sx:{display:"flex",my:1},children:[Object(V.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ee(a||(a=Object(r.a)(["editor.curSubEff"])))}),Object(V.jsx)(G.a,{value:we,valid:ke})]}),we!==Se&&Object(V.jsxs)(h.a,{sx:{display:"flex",mb:1},children:[Object(V.jsx)(u.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ee(n||(n=Object(r.a)(["editor.maxSubEff"])))}),Object(V.jsx)(G.a,{value:Se,valid:ke})]}),Object(V.jsx)(h.a,{flexGrow:1}),Object(V.jsxs)(u.a,{color:"success.main",children:[null!==(R=null===re||void 0===re?void 0:re.name)&&void 0!==R?R:"Artifact Set"," ",Ae]})]}),Object(V.jsx)(m.a,{children:Object(V.jsxs)(v.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(V.jsx)(v.a,{item:!0,xs:"auto",flexShrink:1,children:se?Object(V.jsx)(K.b,{size:"small",inventory:!0,value:ve,onChange:function(e){return te.setArtLocation(P,e)}}):Object(V.jsx)(B.a,{location:ve})}),Object(V.jsx)(v.a,{item:!0,flexGrow:1,sx:{mr:1}}),se&&Object(V.jsx)(v.a,{item:!0,xs:"auto",children:Object(V.jsxs)(g.a,{sx:{height:"100%"},children:[!!J&&Object(V.jsx)(y.a,{color:"info",onClick:function(){return J(oe)},size:"small",children:Object(V.jsx)(o.a,{icon:l.m,className:"fa-fw"})}),Object(V.jsx)(w.a,{title:Object(V.jsx)(u.a,{children:ee(i||(i=Object(r.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(V.jsx)(y.a,{onClick:function(){return te.updateArt({exclude:!Oe},oe)},color:Oe?"error":"success",size:"small",children:Object(V.jsx)(o.a,{icon:Oe?l.b:l.e,className:"fa-fw"})})}),!!X&&Object(V.jsx)(y.a,{color:"error",size:"small",onClick:function(){return X(oe)},disabled:je,children:Object(V.jsx)(o.a,{icon:l.D,className:"fa-fw"})})]})})]})})]})})}},306:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var a=c(3),n=c(280),i=c(15),r=c(0);function s(e){var t=e.value,c=e.valid,s="number"===typeof t?["roll".concat(Object(i.a)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],l=Object(a.a)(s,2),o=l[0],j=l[1];return c||(o="error"),Object(r.jsx)(n.a,{color:o,children:j})}},307:function(e,t,c){"use strict";function a(e,t,c){function a(e,t,c,a){var n=a.getValue(e),i=a.getValue(t);return(c?-1:1)*("string"===typeof n&&"string"===typeof n?e.localeCompare(t):i-n)}return function(n,i){var r=c[e],s=a(n,i,t,r);return!s&&r.tieBreaker&&(s=a(n,i,t,c[r.tieBreaker])),s}}c.d(t,"a",(function(){return a}))},308:function(e,t,c){"use strict";c.d(t,"a",(function(){return S}));var a=c(11),n=c(3),i=c(397),r=c(264),s=c(253),l=c(353),o=c(220),j=c(79),d=c(1),u=c(283),b=c(131),x=c(20),h=c(135),O=c(277),p=c(276),v=c(284),f=c(97),m=c(287),g=c(281),y=c(298),w=c(0);function S(e){var t=e.show,c=e.onHide,S=e.onSelect,k=e.filter,C=void 0===k?function(){return!0}:k,_=e.weaponFilter,K=Object(b.a)(h.a.getAll(),[]),B=Object(d.useState)(null!==_&&void 0!==_?_:""),A=Object(n.a)(B,2),T=A[0],N=A[1];Object(d.useEffect)((function(){return _&&N(_)}),[_]);var E=K?Object(a.a)(new Set(x.i)).filter((function(e){return C(K[e])})).filter((function(e){var t;return!T||T===(null===K||void 0===K||null===(t=K[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var c,a,n,i;return(null!==(c=null===K||void 0===K||null===(a=K[t])||void 0===a?void 0:a.rarity)&&void 0!==c?c:0)-(null!==(n=null===K||void 0===K||null===(i=K[e])||void 0===i?void 0:i.rarity)&&void 0!==n?n:0)})):[];return K?Object(w.jsx)(m.a,{open:t,onClose:c,children:Object(w.jsxs)(O.a,{children:[Object(w.jsx)(i.a,{sx:{py:1},children:Object(w.jsxs)(r.a,{container:!0,children:[Object(w.jsx)(r.a,{item:!0,flexGrow:1,children:Object(w.jsx)(y.a,{value:T,onChange:N,disabled:!!_,size:"small"})}),Object(w.jsx)(r.a,{item:!0,children:Object(w.jsx)(v.a,{onClick:c})})]})}),Object(w.jsx)(s.a,{}),Object(w.jsx)(i.a,{children:Object(w.jsx)(r.a,{container:!0,spacing:1,children:E.map((function(e){var t,a=K[e];return Object(w.jsx)(r.a,{item:!0,lg:3,md:4,children:Object(w.jsx)(p.a,{sx:{height:"100%"},children:Object(w.jsxs)(l.a,{onClick:function(){c(),S(e)},sx:{display:"flex"},children:[Object(w.jsx)(o.a,{component:"img",src:a.img,sx:{width:100,height:"auto"},className:" grad-".concat(a.rarity,"star")}),Object(w.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(w.jsx)(j.a,{variant:"subtitle1",children:a.name}),Object(w.jsxs)(j.a,{children:[Object(w.jsx)(f.a,{src:null===(t=u.a.weaponTypes)||void 0===t?void 0:t[a.weaponType]})," ",Object(w.jsx)(g.a,{stars:a.rarity,colored:!0})]})]})]})})},e)}))})}),Object(w.jsx)(s.a,{}),Object(w.jsx)(i.a,{sx:{py:1},children:Object(w.jsx)(v.a,{large:!0,onClick:c})})]})}):null}},309:function(e,t,c){"use strict";c.d(t,"a",(function(){return E}));var a=c(3),n=c(51),i=c(17),r=c(343),s=c(344),l=c(353),o=c(169),j=c(324),d=c(272),u=c(264),b=c(79),x=c(220),h=c(397),O=c(675),p=c(271),v=c(1),f=c(283),m=c(276),g=c(291),y=c(297),w=c(299),S=c(97),k=c(281),C=c(133),_=c(47),K=c(173),B=c(131),A=c(40),T=c(135),N=c(0);function E(e){var t,c=e.weaponId,E=e.onClick,q=e.onEdit,W=e.onDelete,F=e.canEquip,D=void 0!==F&&F,z=Object(v.useContext)(K.b),I=Object(v.useState)(void 0),L=Object(a.a)(I,2),M=L[0],G=L[1];Object(v.useEffect)((function(){return c?z.followWeapon(c,G):void 0}),[c,G,z]);var V=M,U=Object(B.a)((null===V||void 0===V?void 0:V.key)&&T.a.get(V.key),[null===V||void 0===V?void 0:V.key]),R=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===U||void 0===U?void 0:U.weaponType)}),[U]),P=Object(v.useCallback)((function(e){return Object(N.jsx)(l.a,{onClick:function(){return null===E||void 0===E?void 0:E(c)},sx:{height:"100%"},children:e})}),[E,c]),H=Object(v.useCallback)((function(e){return z.setWeaponLocation(c,e)}),[z,c]);if(!V||!U)return null;var J=V.level,X=V.ascension,Q=V.refinement,Y=V.id,Z=V.location,$=void 0===Z?"":Z,ee=V.lock,te=U.weaponType,ce=U.getMainStatValue(J,X).toFixed(A.b.fixedUnit("atk")),ae=U.getSubStatKey(),ne=U.getSubStatValue(J,X).toFixed(A.b.fixedUnit(ae)),ie=[["weaponATK",ce]];(null===U||void 0===U?void 0:U.passiveName)&&ie.push([ae,ne]);var re=X<2?null===U||void 0===U?void 0:U.img:null===U||void 0===U?void 0:U.imgAwaken;return Object(N.jsx)(v.Suspense,{fallback:Object(N.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(N.jsx)(w.a,{condition:!!E,wrapper:P,children:Object(N.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(N.jsxs)("div",{className:"grad-".concat(U.rarity,"star"),children:[Object(N.jsx)(j.a,{title:U.name,avatar:Object(N.jsx)(S.a,{sx:{fontSize:"2em"},src:null===(t=f.a.weaponTypes)||void 0===t?void 0:t[te]}),titleTypographyProps:{variant:"h6"},action:!E&&Object(N.jsx)(d.a,{color:"primary",onClick:function(){return z.updateWeapon({lock:!ee},Y)},children:ee?Object(N.jsx)(r.a,{}):Object(N.jsx)(s.a,{})})}),Object(N.jsxs)(u.a,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[Object(N.jsxs)(u.a,{item:!0,flexGrow:1,children:[Object(N.jsxs)(b.a,{component:"span",variant:"h4",children:["Lv. ",J]}),Object(N.jsxs)(b.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",_.b[X]]}),Object(N.jsxs)(b.a,{variant:"h6",children:["Refinement ",Object(N.jsx)("strong",{children:Q})]}),Object(N.jsx)(b.a,{children:Object(N.jsx)(k.a,{stars:U.rarity,colored:!0})})]}),Object(N.jsx)(u.a,{item:!0,container:!0,xs:4,alignContent:"flex-end",children:Object(N.jsx)(x.a,{component:"img",src:re,width:"100%",height:"auto",sx:{mt:"auto"}})})]})]}),Object(N.jsx)(h.a,{children:ie.map((function(e){var t=Object(a.a)(e,2),c=t[0],n=t[1],i=A.b.getStatUnit(c);return Object(N.jsxs)(x.a,{sx:{display:"flex"},children:[Object(N.jsxs)(b.a,{flexGrow:1,children:[C.a[c]," ",A.b.getStatName(c)]}),Object(N.jsx)(b.a,{children:n+i})]},c)}))}),Object(N.jsx)(x.a,{flexGrow:1}),Object(N.jsx)(h.a,{sx:{py:1},children:Object(N.jsxs)(u.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(N.jsx)(u.a,{item:!0,xs:"auto",flexShrink:1,children:D?Object(N.jsx)(g.b,{size:"small",noUnselect:!0,inventory:!0,value:$,onChange:H,filter:R}):Object(N.jsx)(y.a,{location:$})}),Object(N.jsx)(u.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(N.jsx)(u.a,{item:!0,xs:"auto",children:Object(N.jsxs)(O.a,{sx:{height:"100%"},children:[!!q&&Object(N.jsx)(p.a,{color:"info",size:"small",onClick:function(){return q(Y)},children:Object(N.jsx)(i.a,{icon:n.m,className:"fa-fw"})}),!!W&&Object(N.jsx)(p.a,{color:"error",size:"small",onClick:function(){return W(Y)},disabled:!!$||ee,children:Object(N.jsx)(i.a,{icon:n.D,className:"fa-fw"})})]})})]})})]})})})}},315:function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var a=c(5),n=c(130),i=c(720),r=c(220),s=c(1),l=c(20),o=c(288),j=c(133),d=c(0);function u(e){var t=e.value,c=e.onChange,u=Object(n.a)(e,["value","onChange"]),b=Object(s.useCallback)((function(e,t){return c(t||"")}),[c]);return Object(d.jsx)(o.a,Object(a.a)(Object(a.a)({exclusive:!0,onChange:b,value:t||l.d},u),{},{children:l.d.map((function(e){return Object(d.jsx)(i.a,{value:e,children:Object(d.jsx)(r.a,{sx:{fontSize:"2em",lineHeight:1},children:j.b[e]})},e)}))}))}},316:function(e,t,c){"use strict";c.d(t,"b",(function(){return a})),c.d(t,"a",(function(){return n}));var a=["level","rarity","name"];function n(e,t){return{new:{getValue:function(t){return e._getChar(t)?0:1},tieBreaker:"name"},name:{getValue:function(e){return e}},level:{getValue:function(t){var c,a;return null!==(c=null===(a=e._getChar(t))||void 0===a?void 0:a.level)&&void 0!==c?c:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var c;return null===t||void 0===t||null===(c=t[e])||void 0===c?void 0:c.star},tieBreaker:"level"}}}},317:function(e,t,c){"use strict";c.d(t,"a",(function(){return W}));var a=c(11),n=c(3),i=c(397),r=c(264),s=c(253),l=c(353),o=c(220),j=c(79),d=c(1),u=c(132),b=c(283),x=c(282),h=c(134),O=c(173),p=c(131),v=c(20),f=c(316),m=c(307),g=c(135),y=c(277),w=c(276),S=c(284),k=c(97),C=c(287),_=c(301),K=c(280),B=c(281),A=c(133),T=c(315),N=c(298),E=c(0),q=["level","rarity","name"];function W(e){var t=e.show,c=e.onHide,l=e.onSelect,o=e.filter,j=void 0===o?function(){return!0}:o,u=e.newFirst,b=void 0!==u&&u,x=Object(d.useMemo)((function(){return b?["new"].concat(q):q}),[b]),g=Object(d.useContext)(O.b),w=Object(d.useState)(x[0]),k=Object(n.a)(w,2),K=k[0],B=k[1],A=Object(d.useState)(!1),W=Object(n.a)(A,2),D=W[0],z=W[1],I=Object(d.useState)(""),L=Object(n.a)(I,2),M=L[0],G=L[1],V=Object(d.useState)(""),U=Object(n.a)(V,2),R=U[0],P=U[1],H=Object(p.a)(h.b.getAll(),[]),J=Object(d.useMemo)((function(){return H&&Object(f.a)(g,H)}),[g,H]),X=Object(d.useMemo)((function(){return H&&J?Object(a.a)(new Set(v.c)).filter((function(e){return j(g._getChar(e),H[e])})).filter((function(e){var t,c;return(!M||M===(null===H||void 0===H||null===(t=H[e])||void 0===t?void 0:t.elementKey))&&(!R||R===(null===H||void 0===H||null===(c=H[e])||void 0===c?void 0:c.weaponTypeKey))})).sort(Object(m.a)(K,D,J)):[]}),[g,H,j,M,R,K,D,J]);return H?Object(E.jsx)(C.a,{open:t,onClose:c,children:Object(E.jsxs)(y.a,{children:[Object(E.jsx)(i.a,{sx:{py:1},children:Object(E.jsxs)(r.a,{container:!0,spacing:1,children:[Object(E.jsx)(r.a,{item:!0,children:Object(E.jsx)(N.a,{sx:{height:"100%"},onChange:P,value:R,size:"small"})}),Object(E.jsx)(r.a,{item:!0,flexGrow:1,children:Object(E.jsx)(T.a,{sx:{height:"100%"},onChange:G,value:M,size:"small"})}),Object(E.jsx)(r.a,{item:!0,flexGrow:1}),Object(E.jsx)(r.a,{item:!0,children:Object(E.jsx)(_.a,{sx:{height:"100%"},sortKeys:x,value:K,onChange:B,ascending:D,onChangeAsc:z})}),Object(E.jsx)(r.a,{item:!0,children:Object(E.jsx)(S.a,{onClick:c})})]})}),Object(E.jsx)(s.a,{}),Object(E.jsx)(i.a,{children:Object(E.jsx)(r.a,{container:!0,spacing:1,children:X.map((function(e){return Object(E.jsx)(r.a,{item:!0,xs:6,md:4,lg:3,children:Object(E.jsx)(F,{characterKey:e,onClick:function(){c(),null===l||void 0===l||l(e)}},e)},e)}))})})]})}):null}function F(e){var t,c=e.onClick,a=e.characterKey,n=Object(d.useContext)(O.b),i=n._getChar(a),r=Object(p.a)(h.b.get(a),[a]),s=(null===i||void 0===i?void 0:i.equippedWeapon)?n._getWeapon(i.equippedWeapon):void 0,v=Object(p.a)(s?g.a.get(s.key):void 0,[null===s||void 0===s?void 0:s.key]),f=Object(p.a)(u.a.getAll(),[]),m=Object(d.useMemo)((function(){return i&&r&&v&&f&&x.a.calculateBuild(i,n,r,v,f)}),[i,r,v,f,n]);if(!r)return null;var y=r.star;return Object(E.jsx)(l.a,{onClick:c,children:Object(E.jsxs)(w.a,{sx:{display:"flex",alignItems:"center"},children:[Object(E.jsx)(o.a,{component:"img",src:r.thumbImg,sx:{width:130,height:"auto"},className:"grad-".concat(y,"star")}),Object(E.jsxs)(o.a,{sx:{pl:1},children:[Object(E.jsx)(j.a,{children:Object(E.jsx)("strong",{children:r.name})}),m&&i?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(j.a,{variant:"h6",children:[" ",r.elementKey&&A.a[r.elementKey]," ",Object(E.jsx)(k.a,{src:null===(t=b.a.weaponTypes)||void 0===t?void 0:t[r.weaponTypeKey]})," ",x.a.getLevelString(i)]}),Object(E.jsxs)(j.a,{children:[Object(E.jsx)(K.a,{color:"success",children:"C".concat(i.constellation)})," ",Object(E.jsx)(K.a,{color:"secondary",children:Object(E.jsx)("strong",{children:m.tlvl.auto+1})})," ",Object(E.jsx)(K.a,{color:m.skillBoost?"info":"secondary",children:Object(E.jsx)("strong",{children:m.tlvl.skill+1})})," ",Object(E.jsx)(K.a,{color:m.burstBoost?"info":"secondary",children:Object(E.jsx)("strong",{children:m.tlvl.burst+1})})]})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(j.a,{variant:"h6",children:Object(E.jsx)(K.a,{color:"primary",children:"NEW"})})}),Object(E.jsx)("small",{children:Object(E.jsx)(B.a,{stars:r.star,colored:!0})})]})]})})}},322:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return R}));var a=c(7),n=c(11),i=c(5),r=c(3),s=c(343),l=c(344),o=c(357),j=c(397),d=c(264),u=c(675),b=c(271),x=c(719),h=c(253),O=c(220),p=c(79),v=c(1),f=c(283),m=c(111),g=c(134),y=c(277),w=c(276),S=c(291),k=c(284),C=(c(32),c(290)),_=c(294),K=c(278),B=c(97),A=c(287),T=c(280),N=c(281),E=c(308),q=c(47),W=c(173),F=c(289),D=c(131),z=c(15),I=c(309),L=c(135),M=c(286),G=c(112),V=c(0);function U(e){var t=e.title,c=e.statsVals,a=void 0===c?{}:c,n=e.stats;if(0===Object.keys(a).filter((function(e){return"modifiers"!==e})).length)return null;var i=Object(G.a)(a,n);return Object(V.jsxs)(y.a,{sx:{mb:1},children:[Object(V.jsx)(j.a,{children:Object(V.jsx)(p.a,{children:t})}),Object(V.jsx)(M.a,{children:i.map((function(e,t){return Object(V.jsx)(M.b,{field:e},t)}))})]})}function R(e){var t,c,o=e.weaponId,f=e.charData,y=e.footer,B=void 0!==y&&y,A=e.onClose,I=Object(v.useContext)(W.b),M=Object(F.a)(),G=Object(r.a)(M,2),R=G[0],H=G[1],J=Object(v.useContext)(m.a),X=Object(v.useMemo)((function(){return R&&I._getWeapon(o)}),[o,R,I]),Q=X.key,Y=X.level,Z=X.refinement,$=X.ascension,ee=X.lock,te=X,ce=te.location,ae=void 0===ce?"":ce,ne=te.id,ie=Object(D.a)(L.a.get(Q),[Q]),re=null===ie||void 0===ie?void 0:ie.weaponType;Object(v.useEffect)((function(){return o?I.followWeapon(o,H):void 0}),[o,H,I]);var se=Object(v.useCallback)((function(e){I.updateWeapon(e,o)}),[o,I]),le=Object(v.useCallback)((function(e){e=Object(z.a)(e,1,90);var t=q.b.findIndex((function(t){return e<=t}));se({level:e,ascension:t})}),[se]),oe=Object(v.useCallback)((function(){var e=q.b.findIndex((function(e){return 90!==Y&&Y===e}));se($===e?{ascension:$+1}:{ascension:e})}),[se,$,Y]),je=Object(i.a)({},f?null!==(t=f.newBuild)&&void 0!==t?t:f.equippedBuild:{weapon:{refineIndex:Z-1,level:Y,ascension:$}}),de=Object(D.a)(ae?g.b.get(ae):void 0,[ae]),ue=de?function(e){return e.weaponType===de.weaponTypeKey}:void 0,be=de&&de.weaponTypeKey,xe=Object(v.useCallback)((function(e){return ne&&I.setWeaponLocation(ne,e)}),[I,ne]),he=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===ie||void 0===ie?void 0:ie.weaponType)}),[ie]),Oe=Object(v.useState)(!1),pe=Object(r.a)(Oe,2),ve=pe[0],fe=pe[1],me=$<2?null===ie||void 0===ie?void 0:ie.img:null===ie||void 0===ie?void 0:ie.imgAwaken;return Object(V.jsxs)(w.a,{children:[Object(V.jsx)(j.a,{sx:{py:1},children:Object(V.jsxs)(d.a,{container:!0,spacing:1,children:[Object(V.jsx)(d.a,{item:!0,flexGrow:1,children:Object(V.jsxs)(d.a,{container:!0,spacing:1,children:[Object(V.jsxs)(d.a,{item:!0,children:[Object(V.jsx)(E.a,{show:ve,onHide:function(){return fe(!1)},onSelect:function(e){return se({key:e})},filter:ue,weaponFilter:be}),Object(V.jsxs)(u.a,{children:[Object(V.jsx)(b.a,{onClick:function(){return fe(!0)},children:null!==(c=null===ie||void 0===ie?void 0:ie.name)&&void 0!==c?c:"Select a Weapon"}),Object(V.jsxs)(K.a,{title:"Refinement ".concat(Z),children:[Object(V.jsx)(x.a,{children:"Select Weapon Refinement"}),Object(V.jsx)(h.a,{}),Object(n.a)(Array(5).keys()).map((function(e){return Object(V.jsx)(x.a,{onClick:function(){return se({refinement:e+1})},selected:Z===e+1,disabled:Z===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(V.jsx)(d.a,{item:!0,children:Object(V.jsxs)(u.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(V.jsx)(C.a,{children:Object(V.jsx)(C.c,{onChange:le,value:Y,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(V.jsx)(b.a,{sx:{pl:1},disabled:!Object(q.a)(Y),onClick:oe,children:Object(V.jsxs)("strong",{children:["/ ",q.b[$]]})}),Object(V.jsx)(K.a,{title:"Select Level",children:q.c.map((function(e){var t=Object(r.a)(e,2),c=t[0],a=t[1],n=c===q.b[a]?"Lv. ".concat(c):"Lv. ".concat(c,"/").concat(q.b[a]),i=c===Y&&a===$;return Object(V.jsx)(x.a,{selected:i,disabled:i,onClick:function(){return se({level:c,ascension:a})},children:n},"".concat(c,"/").concat(a))}))})]})}),Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(b.a,{color:"error",onClick:function(){return ne&&I.updateWeapon({lock:!ee},ne)},startIcon:ee?Object(V.jsx)(s.a,{}):Object(V.jsx)(l.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!A&&Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(k.a,{onClick:A})}),!!f&&I===W.c&&Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(P,{weaponTypeKey:re,onChangeId:function(e){return I.setWeaponLocation(e,f.character.key)}})})]})}),Object(V.jsx)(h.a,{}),Object(V.jsx)(j.a,{children:function(){if(!ie)return null;var e=ie.getSubStatKey(),t=ie.getMainStatValue(Y,$),c=ie.getSubStatValue(Y,$),n=ie.passiveName,i=ie.stats(je),r=ie.document;return Object(V.jsxs)(O.a,{display:"flex",gap:{xs:1,md:1.5,lg:2},children:[Object(V.jsxs)(O.a,{sx:{maxWidth:256},flexShrink:1,minWidth:"25%",children:[Object(V.jsx)(O.a,{component:"img",src:me,className:"grad-".concat(ie.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}}),Object(V.jsx)(p.a,{children:Object(V.jsx)("small",{children:ie.description})})]}),Object(V.jsxs)(O.a,{sx:{mb:-1},flexGrow:1,children:[Object(V.jsxs)(p.a,{variant:"h6",children:[!1,ie.name," Lv. ",L.a.getLevelString(X)," ",n&&Object(V.jsxs)(T.a,{color:"info",children:["Refinement ",Z]})]}),Object(V.jsx)(p.a,{children:Object(V.jsx)(N.a,{stars:ie.rarity})}),Object(V.jsx)(p.a,{variant:"subtitle1",children:n}),Object(V.jsx)(p.a,{gutterBottom:!0,children:n&&ie.passiveDescription(je)}),je&&Object(V.jsxs)(m.a.Provider,{value:f?J:{equippedBuild:je,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:[Object(V.jsx)(U,{title:"Main Stats",statsVals:Object(a.a)({atk:t},e,e?c:void 0),stats:je}),Object(V.jsx)(U,{title:"Bonus Stats",statsVals:i,stats:je})]}),f&&r?function(){var e,t=f.equippedBuild,c=f.newBuild,a=null===(e=c||t)||void 0===e?void 0:e.characterKey;return!!a&&Object(V.jsx)(_.a,{sections:r,equippedBuild:t,newBuild:c,characterKey:a})}():null]})]})}()}),B&&ne&&Object(V.jsx)(j.a,{sx:{py:1},children:Object(V.jsxs)(d.a,{container:!0,children:[Object(V.jsx)(d.a,{item:!0,flexGrow:1,children:Object(V.jsx)(S.b,{noUnselect:!0,inventory:!0,value:ae,onChange:xe,filter:he})}),!!A&&Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(k.a,{large:!0,onClick:A})})]})})]})}function P(e){var t=e.onChangeId,c=e.weaponTypeKey,a=Object(v.useContext)(W.b),n=Object(v.useState)(!1),i=Object(r.a)(n,2),s=i[0],l=i[1],u=function(){return l(!1)},x=function(e){t(e),u()},O=Object(D.a)(L.a.getAll(),[]),m=a.weapons.keys.filter((function(e){var t,n=a._getWeapon(e);return!!n&&(!c||c===(null===O||void 0===O||null===(t=O[n.key])||void 0===t?void 0:t.weaponType))}));return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(b.a,{color:"info",onClick:function(){return l(!0)},startIcon:Object(V.jsx)(o.a,{}),children:"SWAP WEAPON"}),Object(V.jsx)(A.a,{open:s,onClose:u,children:Object(V.jsxs)(y.a,{children:[Object(V.jsx)(j.a,{sx:{py:1},children:Object(V.jsxs)(d.a,{container:!0,children:[Object(V.jsx)(d.a,{item:!0,flexGrow:1,children:Object(V.jsxs)(p.a,{variant:"h6",children:[c?Object(V.jsx)(B.a,{src:f.a.weaponTypes[c]}):null," Swap Weapon"]})}),Object(V.jsx)(d.a,{item:!0,children:Object(V.jsx)(k.a,{onClick:u})})]})}),Object(V.jsx)(h.a,{}),Object(V.jsx)(j.a,{children:Object(V.jsx)(d.a,{container:!0,spacing:1,children:m.map((function(e){return Object(V.jsx)(d.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(V.jsx)(I.a,{weaponId:e,onClick:x})},e)}))})})]})})]})}},323:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return He}));var a=c(3),n=c(5),i=c(130),r=c(169),s=c(397),l=c(264),o=c(396),j=c(79),d=c(261),u=c(268),b=c(253),x=c(675),h=c(271),O=c(719),p=c(1),v=c(132),f=c(111),m=c(277),g=c(276),y=c(317),w=c(296),S=c(284),k=c(290),C=c(278),_=c(319),K=c(327),B=c(340),A=c(455),T=c(456),N=c(457),E=c(220),q=c(282),W=c(293),F=c(82),D=c(131),z=c(40),I=c(300),L=c(32),M=c(295),G=c(0);function V(e){var t=e.sheets,c=Object(p.useState)(!1),n=Object(a.a)(c,2),i=n[0],r=n[1],o=Object(p.useCallback)((function(){return r(!i)}),[r,i]),d=Object(p.useContext)(f.a),u=d.newBuild,b=d.equippedBuild,x=u||b;return Object(G.jsxs)(g.a,{children:[Object(G.jsx)(s.a,{children:Object(G.jsxs)(l.a,{container:!0,children:[Object(G.jsxs)(l.a,{item:!0,flexGrow:1,children:[Object(G.jsxs)(j.a,{children:["Formulas ","&"," Calculations"]}),Object(G.jsx)(j.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(G.jsx)(l.a,{item:!0,children:Object(G.jsx)(M.a,{expand:i,onClick:o,"aria-expanded":i,"aria-label":"show more",children:Object(G.jsx)(K.a,{})})})]})}),Object(G.jsx)(B.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(G.jsx)(s.a,{sx:{pt:0},children:Object(G.jsx)(U,{sheets:t,build:x})})})]})}function U(e){var t=e.sheets,c=e.build,n=Object(p.useMemo)((function(){return c&&q.a.getDisplayStatKeys(c,t)}),[c,t]);return c?Object(G.jsx)(p.Suspense,{fallback:Object(G.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object.entries(n).map((function(e){var n=Object(a.a)(e,2),i=n[0],r=n[1],l=Object(W.a)(i,t,c.characterEle);return Object(G.jsxs)(m.a,{sx:{mb:1},children:[Object(G.jsx)(s.a,{sx:{pb:1},children:Object(G.jsx)(j.a,{variant:"h6",children:l})}),Object(G.jsx)(b.a,{}),Object(G.jsx)(s.a,{children:r.map((function(e,t){if(Array.isArray(e))return Object(G.jsx)(R,{fieldKeys:e,build:c},t);if("string"===typeof e){var a=z.b.getPrintableFormulaStatKeyList(Object(I.a)(c,null===c||void 0===c?void 0:c.modifiers,[e]),null===c||void 0===c?void 0:c.modifiers).reverse();return Boolean(a.length)&&Object(G.jsxs)(A.a,{sx:{bgcolor:"contentLight.main"},children:[Object(G.jsx)(T.a,{expandIcon:Object(G.jsx)(K.a,{}),children:Object(G.jsx)(j.a,{children:z.b.printStat(e,c)})}),Object(G.jsx)(N.a,{children:a.map((function(e){return Object(G.jsxs)(j.a,{children:[z.b.printStat(e,c)," = ",Object(G.jsx)("small",{children:Object(G.jsx)(z.a,{statKey:e,stats:c,modifiers:c.modifiers,expand:!1})})]},e)}))})]},t)}return null}))})]},i)}))}):null}function R(e){var t,c,n,i,r=e.fieldKeys,s=e.build,l=Object(D.a)(F.a.get(r),[r]);if(!l)return null;var o=l.field,d=q.a.getTalentFieldValue(o,"text",s),u=q.a.getTalentFieldValue(o,"variant",s),b=q.a.getTalentFieldValue(o,"formulaText",s),x=null!==(t=q.a.getTalentFieldValue(o,"fixed",s))&&void 0!==t?t:0,h=null!==(c=q.a.getTalentFieldValue(o,"unit",s))&&void 0!==c?c:"",O=q.a.getTalentFieldValue(o,"formula",s,[]),p=Object(a.a)(O,2),v=p[0],f=p[1];if(!v||!f)return null;var m=null===v||void 0===v||null===(n=v(s))||void 0===n||null===(i=n.toFixed)||void 0===i?void 0:i.call(n,x),g=z.b.getPrintableFormulaStatKeyList(Object(I.a)(s,null===s||void 0===s?void 0:s.modifiers,f),null===s||void 0===s?void 0:s.modifiers).reverse();return Object(G.jsxs)(A.a,{sx:{bgcolor:"contentLight.main"},children:[Object(G.jsx)(T.a,{expandIcon:Object(G.jsx)(K.a,{}),children:Object(G.jsxs)(j.a,{children:[Object(G.jsx)(E.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(G.jsxs)(L.a,{color:"info",children:[m,h]})]})}),Object(G.jsxs)(N.a,{children:[Object(G.jsxs)(j.a,{children:[Object(G.jsx)(E.a,{color:"".concat(u,".main"),component:"strong",children:d})," ",Object(G.jsx)(L.a,{color:"info",children:m})," = ",Object(G.jsx)("small",{children:b})]}),g.map((function(e){return Object(G.jsxs)(j.a,{children:[z.b.printStat(e,s)," = ",Object(G.jsx)("small",{children:Object(G.jsx)(z.a,{statKey:e,stats:s,modifiers:s.modifiers,expand:!1})})]},e)}))]})]})}var P=c(320),H=c(97),J=c(63),X=c(47),Q=c(173),Y=c(285),Z=c(289),$=c(15),ee=c(135),te=c(720),ce=c(24),ae=c(305),ne=c(311),ie=c(288),re=c(20),se=c(318);var le=function(e){var t,c=e.sheets,n=e.character,i=e.character.key,r=Object(p.useContext)(f.a),d=r.newBuild,u=r.equippedBuild,x=r.compareBuild,O=r.setCompareBuild,m=Object(p.useContext)(Q.b),y=Object(ce.g)(),w=d||u,S=null!==(t=null===w||void 0===w?void 0:w.mainStatAssumptionLevel)&&void 0!==t?t:0,k=Object(p.useMemo)((function(){return w&&q.a.getDisplayStatKeys(w,c)}),[w,c]),C=Object(p.useCallback)((function(e){return y.push({pathname:"/artifact",artToEditId:e})}),[y]),_=Object(D.a)(v.a.getAll(),[]),K=Object(Z.a)(),B=Object(a.a)(K,2)[1];Object(p.useEffect)((function(){return m.followAnyArt(B)}));var A=Object(p.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&d&&d.equippedArtifacts&&m.equipArtifacts(i,d.equippedArtifacts)}),[i,d,m]),T=Object(p.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&m.equipArtifacts(i,Object($.o)(re.h,(function(){return""})))}),[i,m]);return w?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(g.a,{sx:{mb:1},children:[Object(G.jsx)(s.a,{children:Object(G.jsx)(se.a,{sheets:c,character:n,equippedBuild:d&&!x?void 0:u,newBuild:d,statsDisplayKeys:k})}),Object(G.jsx)(b.a,{}),Object(G.jsx)(s.a,{sx:{py:1},children:Object(G.jsxs)(l.a,{container:!0,spacing:1,children:[Object(G.jsx)(l.a,{item:!0,children:d?Object(G.jsx)(h.a,{onClick:A,className:"mr-2",children:"Equip artifacts"}):m===Q.c&&Object(G.jsx)(h.a,{color:"error",onClick:T,children:"Unequip all artifacts"})}),Object(G.jsx)(l.a,{item:!0,children:!!d&&Object(G.jsxs)(ie.a,{exclusive:!0,value:x,onChange:function(e,t){return null===O||void 0===O?void 0:O(t)},size:"small",children:[Object(G.jsx)(te.a,{value:!1,children:Object(G.jsx)("small",{children:"Show New artifact Stats"})}),Object(G.jsx)(te.a,{value:!0,children:Object(G.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(G.jsx)(l.a,{item:!0,flexGrow:1}),Object(G.jsx)(l.a,{item:!0,children:!!S&&Object(G.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(G.jsx)(j.a,{children:Object(G.jsxs)("strong",{children:["Assume Main Stats are Level ",S]})})})})]})})]}),Object(G.jsxs)(l.a,{container:!0,spacing:1,children:[Object(G.jsx)(l.a,{item:!0,xs:12,sm:6,md:4,children:Object(G.jsx)(g.a,{sx:{height:"100%"},children:Object(G.jsx)(s.a,{sx:{height:"100%"},children:Object(G.jsx)(l.a,{container:!0,spacing:2,flexDirection:"column",height:"100%",children:_&&Object.entries(v.a.setEffects(_,w.setToSlots)).map((function(e){var t,c=Object(a.a)(e,2),n=c[0],r=c[1];return Object(G.jsxs)(l.a,{item:!0,children:[Object(G.jsx)(j.a,{variant:"subtitle1",gutterBottom:!0,children:null!==(t=null===_||void 0===_?void 0:_[n].name)&&void 0!==t?t:""}),r.map((function(e){return Object(G.jsx)(ne.a,{setKey:n,setNumKey:e,equippedBuild:u,newBuild:d,characterKey:i},n+e)}))]},n)}))})})})}),re.h.map((function(e){var t,c,a;return!!(null===w||void 0===w||null===(t=w.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(G.jsx)(l.a,{item:!0,xs:6,md:4,children:Object(G.jsx)(ae.a,{artifactId:null===w||void 0===w||null===(a=w.equippedArtifacts)||void 0===a?void 0:a[e],mainStatAssumptionLevel:S,onEdit:function(){var t;return C(null===w||void 0===w||null===(t=w.equippedArtifacts)||void 0===t?void 0:t[e])}})},null===w||void 0===w||null===(c=w.equippedArtifacts)||void 0===c?void 0:c[e])}))]})]}):null},oe=c(11),je=c(51),de=c(17),ue=c(352),be=c(454),xe=c(283),he=c(281),Oe=c(303),pe=c(133),ve=c(42),fe=c(322),me=c(304);function ge(e){var t,c=e.characterSheet,a=e.character,i=e.character,r=i.constellation,o=i.key,d=Object(p.useContext)(f.a),u=d.newBuild,b=d.equippedBuild,x=Object(Y.a)(o),h=u||b;if(!h)return null;var O=h.tlvl,v=h.characterEle,m=c.weaponTypeKey;return Object(G.jsxs)(l.a,{container:!0,spacing:1,children:[Object(G.jsx)(l.a,{item:!0,xs:12,md:3,children:Object(G.jsxs)(g.a,{children:[Object(G.jsx)(ue.a,{src:c.cardImg,component:"img",width:"100%",height:"auto"}),Object(G.jsxs)(s.a,{children:[Object(G.jsxs)(j.a,{variant:"h5",children:[c.name," ",Object(G.jsx)(H.a,{src:null===(t=xe.a.weaponTypes)||void 0===t?void 0:t[m]})," ",pe.a[v]," "]}),Object(G.jsx)(j.a,{children:Object(G.jsx)(he.a,{stars:c.star,colored:!0})}),Object(G.jsxs)(j.a,{variant:"subtitle1",children:["Lvl. ",q.a.getLevelString(a)]}),Object(G.jsx)(l.a,{container:!0,spacing:1,children:["auto","skill","burst"].map((function(e){var t;return Object(G.jsx)(l.a,{item:!0,xs:4,children:Object(G.jsx)(be.a,{badgeContent:O[e]+1,color:"skill"===e&&h.skillBoost||"burst"===e&&h.burstBoost?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(G.jsx)(E.a,{component:"img",src:null===(t=c.getTalentOfKey(e,h.characterEle))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(G.jsx)(j.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:c.constellationName}),Object(G.jsx)(l.a,{container:!0,spacing:1,children:Object(oe.a)(Array(6).keys()).map((function(e){var t;return Object(G.jsx)(l.a,{item:!0,xs:4,children:Object(G.jsx)(E.a,{component:"img",src:null===(t=c.getTalentOfKey("constellation".concat(e+1),h.characterEle))||void 0===t?void 0:t.img,sx:Object(n.a)({cursor:"pointer"},r>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return x({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(G.jsxs)(l.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(G.jsx)(fe.default,{charData:{character:a,characterSheet:c,equippedBuild:b,newBuild:u,characterDispatch:x},weaponId:a.equippedWeapon}),Object(G.jsx)(Be,{characterSheet:c,character:a,equippedBuild:b,newBuild:u})]})]})}var ye=["eleMas","critRate_","critDMG_","enerRech_","heal_"],we=["characterATK","finalATK","finalHP","finalDEF"];we.push.apply(we,ye);var Se=["hp","hp_","def","def_","atk","atk_"];Se.push.apply(Se,ye);var ke=[];["physical"].concat(Object(oe.a)(re.d)).forEach((function(e){ke.push("".concat(e,"_dmg_")),ke.push("".concat(e,"_res_"))})),ke.push("stamina","incHeal_","shield_","cdRed_");var Ce=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","moveSPD_","atkSPD_","weakspotDMG_"],_e={characterATK:"Override Base ATK",characterHP:"Override Base HP",characterDEF:"Override Base DEF"},Ke={xs:12,sm:6,md:6,lg:4};function Be(e){var t=e.characterSheet,c=e.character,a=e.character,i=a.key,r=a.level,s=a.ascension,o=e.equippedBuild,j=e.newBuild,d=Object(Y.a)(i),u=t.getSpecializedStat(c.ascension),b=t.getSpecializedStatVal(c.ascension),x=z.b.getStatUnit(u),h={character:c,equippedBuild:o,newBuild:j};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Ae,{title:"Main Stats",content:Object(G.jsxs)(l.a,{container:!0,columnSpacing:{xs:2,lg:3},rowSpacing:1,children:[we.map((function(e){return Object(G.jsx)(l.a,Object(n.a)(Object(n.a)({item:!0},Ke),{},{children:Object(G.jsx)(Oe.a,Object(n.a)({statKey:e},h))}),e)})),Object(G.jsxs)(l.a,Object(n.a)(Object(n.a)({item:!0},Ke),{},{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(G.jsxs)("span",{children:[Object(G.jsx)("b",{children:"Specialized:"})," ",Object(G.jsxs)("span",{children:[u&&pe.a[u]," ",z.b.getStatName(u)]})]}),Object(G.jsx)("span",{children:"".concat(b.toFixed(z.b.fixedUnit(u))).concat(x)})]}))]}),editContent:Object(G.jsxs)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:[ve.b.map((function(e){var a,n=Math.round(t.getBase(e,r,s));return Object(G.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(G.jsx)(me.a,{name:Object(G.jsxs)("span",{children:[pe.a[e]," ",_e[e]]}),placeholder:z.b.getStatNameRaw(e),value:null!==(a=c.bonusStats[e])&&void 0!==a?a:n,defaultValue:n,percent:"%"===z.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})},onReset:function(){return d({type:"resetStats",statKey:e})}})},e)})),Se.map((function(e){var t;return Object(G.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(G.jsx)(me.a,{name:Object(G.jsxs)("span",{children:[pe.a[e]," ",z.b.getStatNameWithPercent(e)]}),placeholder:z.b.getStatNameRaw(e),value:null!==(t=c.bonusStats[e])&&void 0!==t?t:0,percent:"%"===z.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))]})}),Object(G.jsx)(Ae,{title:"Other Stats",content:Object(G.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:ke.map((function(e){return Object(p.createElement)(l.a,Object(n.a)(Object(n.a)({item:!0},Ke),{},{key:e}),Object(G.jsx)(Oe.a,Object(n.a)({statKey:e},h)))}))}),editContent:Object(G.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:ke.map((function(e){var t;return Object(G.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(G.jsx)(me.a,{name:Object(G.jsxs)("span",{children:[pe.a[e]," ",z.b.getStatName(e)]}),placeholder:z.b.getStatNameRaw(e),value:null!==(t=c.bonusStats[e])&&void 0!==t?t:"stamina"===e?100:0,percent:"%"===z.b.getStatUnit(e),defaultValue:"stamina"===e?100:void 0,onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))})}),Object(G.jsx)(Ae,{title:"Misc Stats",content:Object(G.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ce.map((function(e){return Object(p.createElement)(l.a,Object(n.a)(Object(n.a)({item:!0},Ke),{},{key:e}),Object(G.jsx)(Oe.a,Object(n.a)({statKey:e},h)))}))}),editContent:Object(G.jsx)(l.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ce.map((function(e){var t;return Object(G.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(G.jsx)(me.a,{name:Object(G.jsxs)("span",{children:[pe.a[e]," ",z.b.getStatName(e)]}),placeholder:z.b.getStatNameRaw(e),value:null!==(t=c.bonusStats[e])&&void 0!==t?t:0,percent:"%"===z.b.getStatUnit(e),onValueChange:function(t){return d({type:"editStats",statKey:e,value:t})}})},e)}))})})]})}function Ae(e){var t=e.title,c=e.content,n=e.editContent,i=Object(p.useState)(!1),r=Object(a.a)(i,2),l=r[0],o=r[1];return Object(G.jsxs)(g.a,{children:[Object(G.jsx)(s.a,{sx:{py:1},children:Object(G.jsxs)(E.a,{display:"flex",justifyContent:"space-between",children:[Object(G.jsx)(j.a,{variant:"subtitle1",children:t}),Object(G.jsx)(h.a,{size:"small",color:l?"error":"info",onClick:function(){return o(!l)},children:Object(G.jsxs)("span",{children:[Object(G.jsx)(de.a,{icon:l?je.w:je.m})," ",l?"EXIT":"Edit Stats"]})})]})}),Object(G.jsx)(b.a,{}),Object(G.jsx)(s.a,{children:l?n:c})]})}var Te=c(353),Ne=c(292),Ee=c(299),qe=c(294),We=c(286),Fe=c(48),De=c(112);function ze(e){var t=e.characterSheet,c=e.character,n=e.character,i=n.ascension,r=n.constellation,s=n.key,o=Object(p.useContext)(f.a),d=o.newBuild,u=o.equippedBuild,b=Object(Y.a)(s),x=d||u;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Le,{characterSheet:t}),Object(G.jsxs)(l.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var n=Object(a.a)(e,2),i=n[0],r=n[1];return Object(G.jsx)(l.a,{item:!0,xs:12,md:6,lg:4,children:Object(G.jsx)(Ue,{characterSheet:t,character:c,characterDispatch:b,talentKey:i,subtitle:r})},i)})),!!t.getTalentOfKey("sprint",null===x||void 0===x?void 0:x.characterEle)&&Object(G.jsx)(l.a,{item:!0,xs:12,md:6,lg:4,children:Object(G.jsx)(Ue,{characterSheet:t,character:c,characterDispatch:b,talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!t.getTalentOfKey("passive",null===x||void 0===x?void 0:x.characterEle)&&Object(G.jsx)(l.a,{item:!0,xs:12,md:6,lg:4,children:Object(G.jsx)(Ue,{characterSheet:t,character:c,characterDispatch:b,talentKey:"passive",subtitle:"Passive"})})]}),Object(G.jsx)(l.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var n=Object(a.a)(e,3),r=n[0],s=n[1],o=n[2],j=i>=o;return t.getTalentOfKey(r,null===x||void 0===x?void 0:x.characterEle)?Object(G.jsx)(l.a,{item:!0,style:{opacity:j?1:.5},xs:12,md:4,children:Object(G.jsx)(Ue,{characterSheet:t,character:c,characterDispatch:b,talentKey:r,subtitle:s})},r):null}))}),Object(G.jsxs)(j.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",r]}),Object(G.jsx)(l.a,{container:!0,spacing:1,children:Object(oe.a)(Array(6).keys()).map((function(e){var a="constellation".concat(e+1);return Object(G.jsx)(l.a,{item:!0,xs:12,md:4,style:{opacity:r>e?1:.5},children:Object(G.jsx)(Ue,{characterSheet:t,character:c,characterDispatch:b,talentKey:a,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return b({constellation:e+1===r?e:e+1})}})},e)}))})]})}var Ie={superconduct_hit:function(e){var t,c=e.stats,a="superconduct_hit";return Object(G.jsx)(m.a,{children:Object(G.jsx)(s.a,{sx:{p:1},children:Object(G.jsxs)(j.a,{color:"superconduct.main",children:[z.b.getStatName(a)," ",pe.a.electro,"+",pe.a.cryo," ",Object(G.jsx)("strong",{children:null===(t=c[a])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(a))})]})})})},electrocharged_hit:function(e){var t,c=e.stats,a="electrocharged_hit";return Object(G.jsx)(m.a,{children:Object(G.jsx)(s.a,{sx:{p:1},children:Object(G.jsxs)(j.a,{color:"electrocharged.main",children:[z.b.getStatName(a)," ",pe.a.electro,"+",pe.a.hydro," ",Object(G.jsx)("strong",{children:null===(t=c[a])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(a))})]})})})},overloaded_hit:function(e){var t,c=e.stats,a="overloaded_hit";return Object(G.jsx)(m.a,{children:Object(G.jsx)(s.a,{sx:{p:1},children:Object(G.jsxs)(j.a,{color:"overloaded.main",children:[z.b.getStatName(a)," ",pe.a.electro,"+",pe.a.pyro," ",Object(G.jsx)("strong",{children:null===(t=c[a])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(a))})]})})})},pyro_swirl_hit:function(e){var t,c=e.stats,n=Object(p.useState)(Object.keys(Me)[0]),i=Object(a.a)(n,2),r=i[0],s=i[1],l="".concat(r,"_swirl_hit");return Object(G.jsxs)(m.a,{sx:{display:"flex"},children:[Object(G.jsx)(C.a,{size:"small",title:Me[r],color:"success",children:Object.entries(Me).map((function(e){var t=Object(a.a)(e,2),c=t[0],n=t[1];return Object(G.jsx)(O.a,{selected:r===c,disabled:r===c,onClick:function(){return s(c)},children:n},c)}))}),Object(G.jsx)(E.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(G.jsx)("strong",{children:null===(t=c[l])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(l))})})]})},shattered_hit:function(e){var t,c=e.stats,a="shattered_hit",n=Object(G.jsx)(Ne.a,{placement:"top",title:Object(G.jsxs)(j.a,{children:["Claymores, Plunging Attacks and ",Object(G.jsx)(L.a,{color:"geo",children:"Geo DMG"})]}),children:Object(G.jsx)(E.a,{component:"span",sx:{cursor:"help"},children:Object(G.jsx)(de.a,{icon:je.v})})});return Object(G.jsx)(m.a,{children:Object(G.jsx)(s.a,{sx:{p:1},children:Object(G.jsxs)(L.a,{color:"shattered",children:[z.b.getStatName(a)," ",pe.a.hydro,"+",pe.a.cryo,"+ ",Object(G.jsx)(L.a,{color:"physical",children:Object(G.jsxs)("small",{children:["Heavy Attack",n," "]})})," ",Object(G.jsx)("strong",{children:null===(t=c[a])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(a))})]})})})},crystalize_hit:function(e){var t,c=e.stats,n=Object(p.useState)(Object.keys(Ge)[0]),i=Object(a.a)(n,2),r=i[0],s=i[1],l="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(G.jsxs)(m.a,{sx:{display:"flex"},children:[Object(G.jsx)(C.a,{size:"small",title:Ge[r],color:"success",children:Object.entries(Ge).map((function(e){var t=Object(a.a)(e,2),c=t[0],n=t[1];return Object(G.jsx)(O.a,{selected:r===c,disabled:r===c,onClick:function(){return s(c)},children:n},c)}))}),Object(G.jsx)(E.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(G.jsx)("strong",{children:null===(t=c[l])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(l))})})]})}};function Le(e){var t=e.characterSheet,c=Object(p.useContext)(f.a),a=c.newBuild,n=c.equippedBuild,i=a||n;if(!i)return null;var r=i.characterEle,o=Object(oe.a)(Fe.a[r]||[]);return o.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||o.push("shattered_hit"),Object(G.jsx)(g.a,{sx:{mb:1},children:Object(G.jsx)(s.a,{children:Object(G.jsx)(l.a,{container:!0,spacing:1,children:o.map((function(e){var t=Ie[e];return t?Object(G.jsx)(l.a,{item:!0,children:Object(G.jsx)(t,{stats:i})},e):null}))})})})}var Me={pyro:Object(G.jsxs)("span",{children:[z.b.getStatName("pyro_swirl_hit")," ",pe.a.pyro," + ",pe.a.anemo]}),electro:Object(G.jsxs)("span",{children:[z.b.getStatName("electro_swirl_hit")," ",pe.a.electro,"+",pe.a.anemo]}),cryo:Object(G.jsxs)("span",{children:[z.b.getStatName("cryo_swirl_hit")," ",pe.a.cryo," + ",pe.a.anemo]}),hydro:Object(G.jsxs)("span",{children:[z.b.getStatName("hydro_swirl_hit")," ",pe.a.hydro," + ",pe.a.anemo]})};var Ge={default:Object(G.jsxs)(L.a,{color:"crystalize",children:[z.b.getStatName("crystalize_hit")," ",pe.a.electro,"/",pe.a.hydro,"/",pe.a.pyro,"/",pe.a.cryo,"+",pe.a.geo]}),pyro:Object(G.jsxs)("span",{children:[z.b.getStatName("pyro_crystalize_hit")," ",pe.a.pyro,"+",pe.a.geo]}),electro:Object(G.jsxs)("span",{children:[z.b.getStatName("electro_crystalize_hit")," ",pe.a.electro,"+",pe.a.geo]}),cryo:Object(G.jsxs)("span",{children:[z.b.getStatName("cryo_crystalize_hit")," ",pe.a.cryo,"+",pe.a.geo]}),hydro:Object(G.jsxs)("span",{children:[z.b.getStatName("hydro_crystalize_hit")," ",pe.a.hydro,"+",pe.a.geo]})};var Ve=[1,1,2,4,6,8,10];function Ue(e){var t=e.characterSheet,c=e.character,a=c.talent,n=c.ascension,i=c.key,r=e.characterDispatch,o=e.talentKey,d=e.subtitle,u=e.onClickTitle,x=Object(p.useContext)(f.a),h=x.newBuild,v=x.equippedBuild,m=h||v,y=Object(p.useCallback)((function(e){return Object(G.jsx)(Te.a,{onClick:u,children:e})}),[u]);if(!m)return null;var w=null;if(o in a){var S,k=null!==(S=m["".concat(o,"Boost")])&&void 0!==S?S:0,_=a[o]+k;w=Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(s.a,{sx:{py:1},children:Object(G.jsx)(C.a,{fullWidth:!0,title:"Talent Lv. ".concat(_),color:k?"info":"primary",children:Object(oe.a)(Array(Ve[n]+("auto"!==o||k?0:1)).keys()).map((function(e){return Object(G.jsxs)(O.a,{selected:a[o]===e+1,disabled:a[o]===e+1,onClick:function(){return t=e+1,a[o]=t,void r({talent:a});var t},children:["Talent Lv. ",e+k+1]},e)}))})}),Object(G.jsx)(b.a,{})]})}var K=t.getTalentStats(o,m),B=K&&Object(De.a)(K,m),A=B&&!!B.length&&Object(G.jsx)(We.a,{children:B.map((function(e,t){return Object(G.jsx)(We.b,{field:e},t)}))}),T=t.getTalentOfKey(o,m.characterEle),N=null===T||void 0===T?void 0:T.sections;return Object(G.jsxs)(g.a,{sx:{height:"100%"},children:[w,Object(G.jsxs)(s.a,{children:[Object(G.jsx)(Ee.a,{condition:!!u,wrapper:y,children:Object(G.jsxs)(l.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(G.jsx)(l.a,{item:!0,children:Object(G.jsx)(E.a,{component:"img",src:null===T||void 0===T?void 0:T.img,sx:{width:60,height:"auto"}})}),Object(G.jsxs)(l.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(G.jsx)(j.a,{variant:"h6",children:null===T||void 0===T?void 0:T.name}),Object(G.jsx)(j.a,{variant:"subtitle1",children:d})]})]})}),N?Object(G.jsx)(qe.a,{sections:N,characterKey:i,equippedBuild:v,newBuild:h}):null,A]})]})}var Re=c(134);function Pe(e){var t=e.children,c=e.current,a=e.value,s=Object(i.a)(e,["children","current","value"]);return a!==c?null:Object(G.jsx)(p.Suspense,{fallback:Object(G.jsx)(r.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(G.jsx)("div",Object(n.a)(Object(n.a)({role:"tabpanel",hidden:a!==c,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},s),{},{children:t}))})}function He(e){var t,c=e.characterKey,n=e.setCharacterKey,i=e.footer,r=e.newBuild,x=e.onClose,h=e.tabName,O=Object(p.useContext)(Q.b),y=Object(p.useState)(!1),w=Object(a.a)(y,2),k=w[0],C=w[1],K=Object(Z.a)(),B=Object(a.a)(K,2),A=B[0],T=B[1],N=Object(D.a)(ee.a.getAll(),[]),E=Object(D.a)(Re.b.getAll(),[]),F=Object(D.a)(v.a.getAll(),[]),z=Object(p.useMemo)((function(){var e;return A&&(null!==(e=O._getChar(c))&&void 0!==e?e:Object(W.b)(c))}),[c,A,O]),I=Object(p.useMemo)((function(){return A&&O._getWeapon(z.equippedWeapon)}),[z.equippedWeapon,A,O]),L=null===E||void 0===E?void 0:E[c],M=I?null===N||void 0===N?void 0:N[I.key]:void 0,U=L&&M&&F&&{characterSheet:L,weaponSheet:M,artifactSheets:F};Object(p.useEffect)((function(){return O.followChar(c,T)}),[c,T,O]),Object(p.useEffect)((function(){return O.followWeapon(z.equippedWeapon,T)}),[z.equippedWeapon,T,O]);var R=Object(p.useMemo)((function(){if(r)return Object($.d)(r)}),[r]),H=Object(p.useState)(h||(R?"newartifacts":"character")),J=Object(a.a)(H,2),X=J[0],Y=J[1],te=Object(p.useCallback)((function(e,t){return Y(t)}),[Y]),ce=null!==(t=null===R||void 0===R?void 0:R.mainStatAssumptionLevel)&&void 0!==t?t:0,ae=Object(p.useMemo)((function(){return A&&L&&M&&F&&q.a.calculateBuild(z,O,L,M,F,ce)}),[A,z,L,M,F,ce,O]);return Object(G.jsx)(m.a,{children:Object(G.jsxs)(f.a.Provider,{value:{newBuild:R,equippedBuild:ae,compareBuild:k,setCompareBuild:C},children:[Object(G.jsxs)(s.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(G.jsxs)(l.a,{container:!0,spacing:1,children:[Object(G.jsx)(l.a,{item:!0,flexGrow:1,children:Object(G.jsx)(Je,{characterSheet:L,character:z,setCharacterKey:n})}),!!ce&&Object(G.jsx)(l.a,{item:!0,children:Object(G.jsx)(o.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(G.jsx)(j.a,{children:Object(G.jsxs)("strong",{children:["Assume Main Stats are Level ",ce]})})})}),!!x&&Object(G.jsx)(l.a,{item:!0,children:Object(G.jsx)(S.a,{onClick:x})})]}),Object(G.jsx)(g.a,{children:Object(G.jsxs)(d.a,{onChange:te,value:X,variant:"fullWidth",children:[Object(G.jsx)(u.a,{value:"character",label:"Character"}),!!R&&Object(G.jsx)(u.a,{value:"newartifacts",label:"New Artifacts"}),Object(G.jsx)(u.a,{value:"artifacts",label:R?"Current Artifacts":"Artifacts"}),Object(G.jsx)(u.a,{value:"talent",label:"Talents"})]})}),Object(G.jsx)(P.a,{character:z}),!!U&&Object(G.jsx)(V,{sheets:U}),Object(G.jsx)(_.b,{character:z}),L&&Object(G.jsx)(Pe,{value:"character",current:X,children:Object(G.jsx)(ge,{characterSheet:L,character:z})}),U&&Object(G.jsx)(f.a.Provider,{value:{newBuild:void 0,equippedBuild:ae,compareBuild:k,setCompareBuild:C},children:Object(G.jsx)(Pe,{value:"artifacts",current:X,children:Object(G.jsx)(le,{sheets:U,character:z})})}),R&&U&&Object(G.jsx)(Pe,{value:"newartifacts",current:X,children:Object(G.jsx)(le,{sheets:U,character:z})}),L&&Object(G.jsx)(Pe,{value:"talent",current:X,children:Object(G.jsx)(ze,{characterSheet:L,character:z})})]}),!!i&&Object(G.jsx)(b.a,{}),i&&Object(G.jsx)(s.a,{sx:{py:1},children:i})]})})}function Je(e){var t,c=e.characterSheet,n=e.character,i=e.character,r=i.key,s=i.elementKey,l=void 0===s?"anemo":s,o=i.level,d=void 0===o?1:o,u=i.ascension,b=void 0===u?0:u,v=e.disabled,f=e.setCharacterKey,m=Object(p.useState)(!1),g=Object(a.a)(m,2),S=g[0],_=g[1],K=Object(Y.a)(r),B=c?Object(G.jsxs)("span",{children:[Object(G.jsx)(H.a,{src:c.thumbImg,sx:{mr:1}}),c.name]}):Object(G.jsx)("span",{children:"Select a Character"}),A=Object(p.useCallback)((function(e){e=Object($.a)(e,1,90);var t=X.b.findIndex((function(t){return e<=t}));K({level:e,ascension:t})}),[K]),T=Object(p.useCallback)((function(){var e=X.b.findIndex((function(e){return 90!==d&&d===e}));K(b===e?{ascension:b+1}:{ascension:e})}),[K,b,d]);return Object(G.jsx)(G.Fragment,{children:v?Object(G.jsxs)(j.a,{variant:"h6",children:[B," ",c&&q.a.getLevelString(n)]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(y.a,{show:S,onHide:function(){return _(!1)},onSelect:f}),Object(G.jsxs)(x.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[Object(G.jsx)(h.a,{disabled:!f,onClick:function(){return _(!0)},startIcon:Object(G.jsx)(w.a,{src:null===c||void 0===c?void 0:c.thumbImgSide}),children:null!==(t=null===c||void 0===c?void 0:c.name)&&void 0!==t?t:"Select a Character"}),(null===c||void 0===c?void 0:c.sheet)&&"talents"in(null===c||void 0===c?void 0:c.sheet)&&Object(G.jsx)(C.a,{title:J.a[l].name,children:Object.keys(c.sheet.talents).map((function(e){return Object(G.jsx)(O.a,{selected:l===e,disabled:l===e,onClick:function(){return K({elementKey:e})},children:Object(G.jsx)("strong",{children:J.a[e].name})},e)}))}),Object(G.jsx)(k.a,{children:Object(G.jsx)(k.c,{onChange:A,value:d,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!c})}),Object(G.jsx)(h.a,{sx:{pl:1},disabled:!Object(X.a)(d)||!c,onClick:T,children:Object(G.jsxs)("strong",{children:["/ ",X.b[b]]})}),Object(G.jsx)(C.a,{title:"Select Level",disabled:!c,children:X.c.map((function(e){var t=Object(a.a)(e,2),c=t[0],n=t[1],i=c===X.b[n]?"Lv. ".concat(c):"Lv. ".concat(c,"/").concat(X.b[n]),r=c===d&&n===b;return Object(G.jsx)(O.a,{selected:r,disabled:r,onClick:function(){return K({level:c,ascension:n})},children:i},"".concat(c,"/").concat(n))}))})]})]})})}}}]);
//# sourceMappingURL=7.6e47bb90.chunk.js.map