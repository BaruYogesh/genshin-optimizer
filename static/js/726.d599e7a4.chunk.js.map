{"version":3,"file":"static/js/726.d599e7a4.chunk.js","mappings":"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","sources":["Data/Characters/dataUtil.tsx","Data/Characters/Albedo/index.tsx","Data/Characters/Aloy/index.tsx","Data/Characters/Amber/index.tsx","Data/Characters/AratakiItto/index.tsx","Data/Characters/Barbara/index.tsx","Data/Characters/Beidou/index.tsx","Data/Characters/Bennett/index.tsx","Data/Characters/Chongyun/index.tsx","Data/Characters/Diluc/index.tsx","Data/Characters/Diona/index.tsx","Data/Characters/Eula/index.tsx","Data/Characters/Fischl/index.tsx","Data/Characters/Ganyu/index.tsx","Data/Characters/Gorou/index.tsx","Data/Characters/HuTao/index.tsx","Data/Characters/Jean/index.tsx","Data/Characters/KaedeharaKazuha/index.tsx","Data/Characters/Kaeya/index.tsx","Data/Characters/KamisatoAyaka/index.tsx","Data/Characters/KamisatoAyato/index.tsx","Data/Characters/Keqing/index.tsx","Data/Characters/Klee/index.tsx","Data/Characters/KujouSara/index.tsx","Data/Characters/Lisa/index.tsx","Data/Characters/Mona/index.tsx","Data/Characters/Ningguang/index.tsx","Data/Characters/Noelle/index.tsx","Data/Characters/Qiqi/index.tsx","Data/Characters/RaidenShogun/index.tsx","Data/Characters/Razor/index.tsx","Data/Characters/Rosaria/index.tsx","Data/Characters/SangonomiyaKokomi/index.tsx","Data/Characters/Sayu/index.tsx","Data/Characters/Shenhe/index.tsx","Data/Characters/Sucrose/index.tsx","Data/Characters/Tartaglia/index.tsx","Data/Characters/Thoma/index.tsx","Data/Characters/Traveler/anemo/index.tsx","Data/Characters/Traveler/geo/index.tsx","Data/Characters/Traveler/electro/index.tsx","Data/Characters/Traveler/index.tsx","Data/Characters/Venti/index.tsx","Data/Characters/Xiangling/index.tsx","Data/Characters/Xiao/index.tsx","Data/Characters/Xingqiu/index.tsx","Data/Characters/Xinyan/index.tsx","Data/Characters/YaeMiko/index.tsx","Data/Characters/Yanfei/index.tsx","Data/Characters/Yoimiya/index.tsx","Data/Characters/YunJin/index.tsx","Data/Characters/Zhongli/index.tsx","Data/Characters/index.ts","Data/SheetUtil.tsx","Formula/reaction.ts"],"sourcesContent":["import { SubstatKey } from \"pipeline\";\r\nimport { input } from \"../../Formula\";\r\nimport { inferInfoMut, mergeData } from \"../../Formula/api\";\r\nimport { reactions } from \"../../Formula/reaction\";\r\nimport { Data, DisplaySub, NumNode } from \"../../Formula/type\";\r\nimport { constant, data, infoMut, lookup, percent, prod, stringPrio, subscript, sum, unit } from \"../../Formula/utils\";\r\nimport { allMainStatKeys, MainStatKey } from \"../../Types/artifact\";\r\nimport { CharacterKey, ElementKey, Region } from \"../../Types/consts\";\r\nimport { layeredAssignment, objectKeyMap, objectMap } from \"../../Util/Util\";\r\nimport _charCurves from \"./expCurve_gen.json\";\r\n\r\n// TODO: Remove this conversion after changing the file format\r\nconst charCurves = objectMap(_charCurves, value => [0, ...Object.values(value)])\r\n\r\nconst commonBasic = objectKeyMap([\"hp\", \"atk\", \"def\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"heal_\"], key => input.total[key])\r\ncommonBasic.critRate_ = input.total.cappedCritRate\r\n\r\nexport const infusionNode = stringPrio(\r\n  input.infusion.nonOverridableSelf,\r\n  input.infusion.team,\r\n  input.infusion.overridableSelf)\r\nconst inferredHitEle = stringPrio(\r\n  lookup(input.hit.move, {\r\n    \"skill\": input.charEle, \"burst\": input.charEle,\r\n  }, undefined),\r\n  lookup(input.weaponType, {\r\n    sword: infusionNode, claymore: infusionNode, polearm: infusionNode,\r\n    catalyst: input.charEle,\r\n  }, undefined),\r\n  \"physical\"\r\n)\r\n\r\nfunction getTalentType(move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\") {\r\n  switch (move) {\r\n    case \"normal\": case \"charged\": case \"plunging\": return \"auto\";\r\n    case \"skill\": return \"skill\";\r\n    case \"burst\": return \"burst\";\r\n  }\r\n}\r\n\r\n/** Note: `additional` applies only to this formula */\r\nexport function customDmgNode(base: NumNode, move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\" | \"elemental\", additional: Data = {}): NumNode {\r\n  return data(input.hit.dmg, mergeData([{\r\n    hit: { base, move: constant(move), ele: additional?.hit?.ele ? undefined : inferredHitEle },\r\n  }, additional]))\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customShieldNode(base: NumNode, additional?: Data): NumNode {\r\n  const shieldNode = prod(base, sum(unit, input.total.shield_))\r\n  return additional ? data(shieldNode, additional) : shieldNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customHealNode(base: NumNode, additional?: Data): NumNode {\r\n  const healNode = prod(base, sum(unit, input.total.heal_, input.total.incHeal_))\r\n  return additional ? data(healNode, additional) : healNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function dmgNode(base: MainStatKey | SubstatKey, lvlMultiplier: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional: Data = {}): NumNode {\r\n  const talentType = getTalentType(move)\r\n  return customDmgNode(prod(subscript(input.total[`${talentType}Index`], lvlMultiplier, { key: '_' }), input.total[base]), move, additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customShieldNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customHealNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customShieldNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function shieldElement(element: \"electro\" | \"cryo\" | \"hydro\" | \"pyro\" | \"geo\", shieldNode: NumNode) {\r\n  return infoMut(prod(percent(element === \"geo\" ? 1.5 : 2.5), shieldNode), { variant: element })\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customHealNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function dataObjForCharacterSheet(\r\n  key: CharacterKey,\r\n  element: ElementKey | undefined,\r\n  region: Region | undefined,\r\n  gen: {\r\n    weaponTypeKey: string,\r\n    base: { hp: number, atk: number, def: number },\r\n    curves: { [key in string]?: string },\r\n    ascensions: { props: { [key in string]?: number } }[]\r\n  },\r\n  display: { [key: string]: DisplaySub },\r\n  additional: Data = {},\r\n): Data {\r\n  function curve(base: number, lvlCurve: string): NumNode {\r\n    return prod(base, subscript(input.lvl, charCurves[lvlCurve]))\r\n  }\r\n  display.basic = { ...commonBasic }\r\n  const data: Data = {\r\n    charKey: constant(key),\r\n    base: {},\r\n    weaponType: constant(gen.weaponTypeKey),\r\n    premod: {},\r\n    display,\r\n  }\r\n  if (element) {\r\n    data.charEle = constant(element)\r\n    data.teamBuff = { tally: { [element]: constant(1) } }\r\n    data.display!.basic[`${element}_dmg_`] = input.total[`${element}_dmg_`]\r\n    data.display!.reaction = reactions[element]\r\n  }\r\n  if (region)\r\n    layeredAssignment(data, [\"teamBuff\", \"tally\", region], constant(1))\r\n  if (gen.weaponTypeKey !== \"catalyst\") {\r\n    if (!data.display!.basic) data.display!.basic = {}\r\n    data.display!.basic!.physical_dmg_ = input.total.physical_dmg_\r\n  }\r\n\r\n  let foundSpecial: boolean | undefined\r\n  for (const stat of [...allMainStatKeys, \"def\" as const]) {\r\n    const list: NumNode[] = []\r\n    if (gen.curves[stat])\r\n      list.push(curve(gen.base[stat], gen.curves[stat]!))\r\n    const asc = gen.ascensions.some(x => x.props[stat])\r\n    if (asc)\r\n      list.push(subscript(input.asc, gen.ascensions.map(x => x.props[stat] ?? NaN)))\r\n\r\n    if (!list.length) continue\r\n\r\n    const result = infoMut(list.length === 1 ? list[0] : sum(...list), { key: stat, prefix: \"char\", asConst: true })\r\n    if (stat.endsWith(\"_dmg_\")) result.info!.variant = stat.slice(0, -5) as any\r\n    if (stat === \"atk\" || stat === \"def\" || stat === \"hp\")\r\n      data.base![stat] = result\r\n    else {\r\n      if (foundSpecial) throw new Error(\"Duplicated Char Special\")\r\n      foundSpecial = true\r\n      data.special = result\r\n      data.premod![stat] = input.special\r\n    }\r\n  }\r\n\r\n  return mergeData([data, inferInfoMut(additional)])\r\n}\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { infoMut, lookup, equal, prod, greaterEq, naught } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Albedo\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    blossomDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    blossomCd: 2,\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    blossomDmg: skillParam_gen.burst[b++],\r\n    blossomAmt: 7,\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    blossomDmgInc: 0.25,\r\n    hpThresh: 50,\r\n  },\r\n  passive2: {\r\n    eleMasInc: skillParam_gen.passive2[0][0],\r\n    duration: skillParam_gen.passive2[1][0]\r\n  },\r\n  constellation1: {\r\n    blossomEner: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    blossomDmgInc: 0.30,\r\n    maxStacks: 4,\r\n    stackDuration: 30\r\n  },\r\n  constellation4: {\r\n    plunging_dmg_: 0.3,\r\n  },\r\n  constellation6: {\r\n    bonus_dmg_: 0.17\r\n  }\r\n} as const\r\n\r\nconst [condBurstBlossomPath, condBurstBlossom] = cond(key, \"burstBlossom\")\r\nconst [condBurstUsedPath, condBurstUsed] = cond(key, \"burstUsed\")\r\nconst p2Burst_eleMas = equal(condBurstUsed, \"burstUsed\", greaterEq(input.asc, 4, datamine.passive2.eleMasInc))\r\n\r\nconst [condP1EnemyHpPath, condP1EnemyHp] = cond(key, \"p1EnemyHp\")\r\nconst p1_blossom_dmg_ = equal(condP1EnemyHp, \"belowHp\", greaterEq(input.asc, 1, datamine.passive1.blossomDmgInc))\r\n\r\nconst [condC2StacksPath, condC2Stacks] = cond(key, \"c2Stacks\")\r\nconst c2_burst_dmgInc = greaterEq(input.constellation, 2,\r\n  prod(\r\n    lookup(\r\n      condC2Stacks,\r\n      Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(i => \r\n        [i,\r\n        prod(i, datamine.constellation2.blossomDmgInc)]\r\n        )\r\n      ),\r\n      naught\r\n    ),\r\n    input.total.def\r\n  )\r\n)\r\n\r\nconst [condSkillInFieldPath, condSkillInField] = cond(key, \"skillInField\")\r\nconst c4_plunging_dmg_disp = greaterEq(input.constellation, 4,\r\n  equal(condSkillInField, \"skillInField\", datamine.constellation4.plunging_dmg_)\r\n)\r\nconst c4_plunging_dmg_ = equal(input.activeCharKey, target.charKey, c4_plunging_dmg_disp)\r\n\r\n// Maybe we should just have a single conditional for \"in field AND crystallize shield\"?\r\n// This is technically a nested conditional\r\nconst [condC6CrystallizePath, condC6Crystallize] = cond(key, \"c6Crystallize\")\r\nconst c6_Crystal_all_dmg_disp = greaterEq(input.constellation, 6,\r\n  equal(condSkillInField, \"skillInField\",\r\n    equal(condC6Crystallize, \"c6Crystallize\", datamine.constellation6.bonus_dmg_)\r\n  )\r\n)\r\nconst c6_Crystal_all_dmg_ = equal(input.activeCharKey, target.charKey, c6_Crystal_all_dmg_disp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.skillDmg, \"skill\"),\r\n    blossom: dmgNode(\"def\", datamine.skill.blossomDmg, \"skill\", { total: { skill_dmg_: p1_blossom_dmg_ } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    blossom: equal(\"isoOnField\", condBurstBlossom, dmgNode(\"atk\", datamine.burst.blossomDmg, \"burst\")),\r\n  },\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      eleMas: p2Burst_eleMas,\r\n      plunging_dmg_: c4_plunging_dmg_,\r\n      all_dmg_: c6_Crystal_all_dmg_,\r\n    }\r\n  },\r\n  premod: {\r\n    burst_dmgInc: c2_burst_dmgInc,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto, \r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.blossom, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        text: trm(\"blossomCD\"),\r\n        value: datamine.skill.blossomCd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], undefined, [\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          value: condP1EnemyHp,\r\n          path: condP1EnemyHpPath,\r\n          name: st(\"enemyLessPercentHP\", { percent: datamine.passive1.hpThresh }),\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          states: {\r\n            belowHp: {\r\n              fields: [{\r\n                node: infoMut(p1_blossom_dmg_, { key: `char_${key}:blossomDmg_` })\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: trm(\"enerPerBlossom\"),\r\n          value: datamine.constellation1.blossomEner,\r\n          fixed: 1,\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          value: condSkillInField,\r\n          path: condSkillInFieldPath,\r\n          name: st(\"activeCharField\"),\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          teamBuff: true,\r\n          states: {\r\n            skillInField: {\r\n              fields: [{\r\n                node: infoMut(c4_plunging_dmg_disp, { key: \"plunging_dmg_\" })\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          value: condC6Crystallize,\r\n          path: condC6CrystallizePath,\r\n          name: st(\"protectedByShieldCrystal\"),\r\n          canShow: greaterEq(input.constellation, 6, equal(condSkillInField, \"skillInField\", 1)),\r\n          teamBuff: true,\r\n          states: {\r\n            c6Crystallize: {\r\n              fields: [{\r\n                node: infoMut(c6_Crystal_all_dmg_disp, { key: \"all_dmg_\"}),\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condBurstBlossom,\r\n        path: condBurstBlossomPath,\r\n        name: trm(\"isotomaOnField\"),\r\n        states: {\r\n          isoOnField: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.blossom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n              textSuffix: st(\"brHits\", { count: datamine.burst.blossomAmt })\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          value: condBurstUsed,\r\n          path: condBurstUsedPath,\r\n          name: st(\"afterUse.burst\"),\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          teamBuff: true,\r\n          states: {\r\n            burstUsed: {\r\n              fields: [{\r\n                node: p2Burst_eleMas\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive2.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n          value: condC2Stacks,\r\n          path: condC2StacksPath,\r\n          name: trm(\"c2Stacks\"),\r\n          canShow: greaterEq(input.constellation, 2, 1),\r\n          states: Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(i => \r\n            [i, {\r\n              name: st(\"stack\", { count: i }),\r\n              fields: [{\r\n                node: c2_burst_dmgInc\r\n              }]\r\n            }]\r\n          ))\r\n        }),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: skillC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: burstC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, naught, percent, subscript, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Aloy\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1.1\r\n      skillParam_gen.auto[a++], // 1.2\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    freezeBombDmg: skillParam_gen.skill[s++],\r\n    chillWaterBomblets: skillParam_gen.skill[s++],\r\n    atkDecrease: skillParam_gen.skill[s++],\r\n    atkDecreaseDuration: skillParam_gen.skill[s++][0],\r\n    coilNormalDmgBonus1: skillParam_gen.skill[s++],\r\n    coilNormalDmgBonus2: skillParam_gen.skill[s++],\r\n    coilNormalDmgBonus3: skillParam_gen.skill[s++],\r\n    rushingNormalDmgBonus: skillParam_gen.skill[s++],\r\n    rushingDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    atkInc: 0.16,\r\n    teamAtkInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    cryoDmgBonus: skillParam_gen.passive2[p2++][0]\r\n  }\r\n} as const\r\n\r\nconst [condCoilPath, condCoil] = cond(key, \"coil\")\r\nconst normal_dmg_ = lookup(condCoil, {\r\n  \"coil1\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus1, { key: \"_\" }),\r\n  \"coil2\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus2, { key: \"_\" }),\r\n  \"coil3\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus3, { key: \"_\" }),\r\n  \"rush\": subscript(input.total.skillIndex, datamine.skill.rushingNormalDmgBonus, { key: \"_\" })\r\n}, naught)\r\nconst atk_ = greaterEq(input.asc, 1, unequal(condCoil, undefined, percent(datamine.passive1.atkInc)))\r\nconst afterRushingIce = equalStr(\"rush\", condCoil, elementKey)\r\n\r\nconst [condA1Path, condA1] = cond(key, \"A1\")\r\nconst teamAtk_ = greaterEq(input.asc, 1, equal(condA1, \"on\",\r\n  unequal(input.activeCharKey, key, percent(datamine.passive1.teamAtkInc))))\r\n\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst cryo_dmg_ = greaterEq(input.asc, 4,\r\n  lookup(condA4, Object.fromEntries(range(1, 10).map(i => [i, percent(datamine.passive2.cryoDmgBonus * i)])), naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    freezeBombDmg: dmgNode(\"atk\", datamine.skill.freezeBombDmg, \"skill\"),\r\n    chillWaterBomblets: dmgNode(\"atk\", datamine.skill.chillWaterBomblets, \"skill\"),\r\n    atkDecrease: subscript(input.total.skillIndex, datamine.skill.atkDecrease, { key: \"_\" })\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  premod: {\r\n    normal_dmg_,\r\n    atk_,\r\n    cryo_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: teamAtk_\r\n    }\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: afterRushingIce,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i === 0 ? 0 : -1)}` }),\r\n            textSuffix: i === 0 ? \"(1)\" : i === 1 ? \"(2)\" : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.freezeBombDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.chillWaterBomblets, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: (data) => (datamine.skill.atkDecrease[data.get(input.total.skillIndex).value] * 100).toFixed(1),\r\n        unit: \"%\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.atkDecreaseDuration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.7\"),\r\n        value: `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condCoil,\r\n        path: condCoilPath,\r\n        name: trm(\"skill.coil\"),\r\n        states: {\r\n          \"coil1\": {\r\n            name: trm(\"skill.coil1\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"coil2\": {\r\n            name: trm(\"skill.coil2\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"coil3\": {\r\n            name: trm(\"skill.coil3\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"rush\": {\r\n            name: trm(\"skill.rush\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }, {\r\n              text: <ColorText color=\"cryo\">{st(\"infusion.cryo\")}</ColorText>\r\n            }, {\r\n              text: tr(\"skill.skillParams.6\"),\r\n              value: datamine.skill.rushingDuration,\r\n              unit: \"s\"\r\n            }]\r\n          },\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        node: atk_\r\n      }, {\r\n        canShow: (data) => data.get(condCoil).value !== undefined && data.get(input.asc).value >= 1,\r\n        text: sgt(\"duration\"),\r\n        value: datamine.passive1.duration,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        canShow: greaterEq(input.asc, 1, unequal(input.activeCharKey, key, 1)),\r\n        teamBuff: true,\r\n        name: trm(\"a1CondName\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: infoMut(teamAtk_, { key: \"atk_\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        canShow: greaterEq(input.asc, 4, equal(\"rush\", condCoil, 1)),\r\n        name: trm(\"skill.rushState\"),\r\n        states: Object.fromEntries(range(1, 10).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{ node: cryo_dmg_ }]\r\n        }]))\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Amber\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    inheritedHp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    unknown: skillParam_gen.skill[s++], // what is this??\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgPerWave: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    rainDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    aoeInc: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    atkInc: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    secArrowDmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    manualDetionationDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    moveSpdInc: skillParam_gen.constellation6[0],\r\n    atkInc: skillParam_gen.constellation6[1],\r\n    duration: skillParam_gen.constellation6[2]\r\n  }\r\n} as const\r\n\r\nconst burst_critRate_ = greaterEq(input.asc, 1, percent(datamine.passive1.critRateInc))\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst atk_ = equal(\"on\", condA4, percent(datamine.passive2.atkInc))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst moveSPD_ = equal(\"on\", condC6, percent(datamine.constellation6.moveSpdInc))\r\nconst teamAtk_ = equal(\"on\", condC6, percent(datamine.constellation6.atkInc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('pyro') } }),\r\n    secondAimed: greaterEq(input.constellation, 1, prod(percent(datamine.constellation1.secArrowDmg), dmgNode(\"atk\", datamine.charged.aimed, \"charged\"))),\r\n    secondAimedCharged: greaterEq(input.constellation, 1, prod(dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\",\r\n      { hit: { ele: constant('pyro') } }), percent(datamine.constellation1.secArrowDmg))),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    inheritedHp: prod(subscript(input.total.skillIndex, datamine.skill.inheritedHp), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    rainDmg: dmgNode(\"atk\", datamine.burst.rainDmg, \"burst\"),\r\n    dmgPerWave: dmgNode(\"atk\", datamine.burst.dmgPerWave, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    manualDetonationDmg: customDmgNode(prod(sum(subscript(input.total.skillIndex, datamine.skill.dmg, { key: \"_\" }),\r\n      percent(datamine.constellation2.manualDetionationDmg)), input.total.atk), \"skill\")\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    atk_,\r\n    burst_critRate_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      moveSPD_,\r\n      atk_: teamAtk_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.secondAimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: trm(\"secondArrow\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.secondAimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          textSuffix: trm(\"secondArrow\")\r\n        },]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.inheritedHp, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.constellation2.manualDetonationDmg, { key: `char_${key}:manualDetonationDmg` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: (data) => data.get(input.constellation).value >= 4 ? datamine.skill.cd - datamine.skill.cd * 0.2 : datamine.skill.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 4,\r\n        text: st(\"charges\"),\r\n        value: 2,\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmgPerWave, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.rainDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], undefined, [sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"c6CondName\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: teamAtk_\r\n            }, {\r\n              node: moveSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: (data) => data.get(input.asc).value >= 1,\r\n        text: trm(\"critRateBonus\"),\r\n        value: datamine.passive1.critRateInc * 100,\r\n        unit: \"%\"\r\n      }, {\r\n        canShow: (data) => data.get(input.asc).value >= 1,\r\n        text: trm(\"aoeRangeBonus\"),\r\n        value: datamine.passive1.aoeInc * 100,\r\n        unit: \"%\"\r\n      }, {\r\n        node: burst_critRate_\r\n      },]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        name: trm(\"a4CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atk_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, min, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"AratakiItto\"\r\nconst elementKey: ElementKey = \"geo\"\r\n\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0],\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3],\r\n    ]\r\n  },\r\n  charged: {\r\n    sSlash: skillParam_gen.auto[4],\r\n    akSlash: skillParam_gen.auto[5],\r\n    akFinal: skillParam_gen.auto[6],\r\n    stam: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  ss: { //Superlative Superstrength\r\n    duration: skillParam_gen.auto[11][0],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[0],\r\n    hp: skillParam_gen.skill[1],\r\n    duration: skillParam_gen.skill[2][0],\r\n    ss_cd: skillParam_gen.skill[3][0],\r\n    cd: skillParam_gen.skill[4][0],\r\n  },\r\n  burst: {\r\n    atkSpd: skillParam_gen.burst[0][0],\r\n    defConv: skillParam_gen.burst[1],\r\n    resDec: skillParam_gen.burst[2][0],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0],\r\n  },\r\n  passive1: {\r\n    maxStacks: 3,\r\n    atkSPD_: 0.10\r\n  },\r\n  passive2: {\r\n    def_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    initialStacks: skillParam_gen.constellation1[0],\r\n    timedStacks: skillParam_gen.constellation1[1]\r\n  },\r\n  constellation2: {\r\n    burstCdRed: skillParam_gen.constellation2[0],\r\n    energyRegen: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    atk_: skillParam_gen.constellation4[1],\r\n    duration: skillParam_gen.constellation4[2],\r\n  },\r\n  constellation6: {\r\n    charged_critDMG_: skillParam_gen.constellation6[0],\r\n  }\r\n}\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condP1Path, condP1] = cond(key, \"passive1\")\r\nconst [condC4Path, condC4] = cond(key, \"constellation4\")\r\n\r\nconst nodeSkillHP = prod(subscript(input.total.skillIndex, datamine.skill.hp, { key: 'hp_' }), input.total.hp)\r\nconst nodeBurstAtk = equal(condBurst, \"on\", prod(subscript(input.total.burstIndex, datamine.burst.defConv, { key: 'def_' }), input.total.def))\r\nconst nodeBurstAtkSpd = equal(condBurst, \"on\", datamine.burst.atkSpd, { key: 'atkSPD_' })\r\nconst allNodeBurstRes = Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, equal(condBurst, \"on\", -datamine.burst.resDec)]))\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, prod(percent(datamine.passive2.def_), input.premod.def))\r\nconst nodeP1AtkSpd = greaterEq(input.asc, 4, lookup(condP1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(datamine.passive1.atkSPD_ * i)])), 0, { key: 'atkSPD_' }))\r\nconst nodeC2BurstRed = prod(min(tally.geo, 3), datamine.constellation2.burstCdRed)\r\nconst nodeC2EnergyRegen = prod(min(tally.geo, 3), datamine.constellation2.energyRegen)\r\nconst nodeC4Atk = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.atk_))\r\nconst nodeC4Def = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.def_))\r\nconst nodeC6CritDMG = greaterEq(input.constellation, 6, datamine.constellation6.charged_critDMG_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    sSlash: dmgNode(\"atk\", datamine.charged.sSlash, \"charged\"),\r\n    akSlash: dmgNode(\"atk\", datamine.charged.akSlash, \"charged\", { premod: { charged_dmgInc: nodeA4Bonus } }),\r\n    akFinal: dmgNode(\"atk\", datamine.charged.akFinal, \"charged\", { premod: { charged_dmgInc: nodeA4Bonus } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    hp: nodeSkillHP\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: nodeC4Atk,\r\n      def_: nodeC4Def,\r\n    }\r\n  },\r\n  premod: {\r\n    charged_critDMG_: nodeC6CritDMG,\r\n    atk: nodeBurstAtk,\r\n    atkSPD_: sum(nodeBurstAtkSpd, nodeP1AtkSpd),\r\n    ...allNodeBurstRes\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.akSlash, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.akFinal, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.ss.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.sSlash, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.8\"),\r\n          value: datamine.charged.stam,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n        name: trm(\"a1.name\"),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condP1,\r\n        path: condP1Path,\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: st(\"stack_one\", { count: i }),\r\n            fields: [{\r\n              node: nodeP1AtkSpd\r\n            }]\r\n          }]\r\n        ))\r\n      }), sectionTemplate(\"passive2\", tr, passive2, [{\r\n        node: infoMut(nodeA4Bonus, { key: `char_${key}:a4:dmgInc` })\r\n      }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n      sectionTemplate(\"constellation6\", tr, c6, [{\r\n        node: nodeC6CritDMG\r\n      }], undefined, data => data.get(input.constellation).value >= 6, false, true), {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hp, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"success\" }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cost,\r\n      }], {\r\n        name: st(\"afterUse.burst\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              node: nodeBurstAtkSpd,\r\n            },\r\n            ...Object.values(allNodeBurstRes).map(node => ({ node })),\r\n            {\r\n              node: infoMut(nodeBurstAtk, { key: `char_${key}_gen:burst.skillParams.0` })\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: trm(\"c1.initialGain\"),\r\n          value: datamine.constellation1.initialStacks\r\n        }, {\r\n          text: trm(\"c1.timedGain\"),\r\n          value: datamine.constellation1.timedStacks\r\n        }], undefined,\r\n          data => data.get(input.constellation).value >= 1 && data.get(condBurst).value === \"on\",\r\n          false, true),\r\n        sectionTemplate(\"constellation2\", tr, c2, [{\r\n          text: st(\"burstCDRed\"),\r\n          value: data => data.get(nodeC2BurstRed).value,\r\n          unit: \"s\",\r\n          fixed: 1\r\n        }, {\r\n          text: st(\"energyRegen\"),\r\n          value: data => data.get(nodeC2EnergyRegen).value,\r\n        }], undefined,\r\n          data => data.get(input.constellation).value >= 2 && data.get(condBurst).value === \"on\",\r\n          false, true),\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          name: trm(\"c4.name\"),\r\n          teamBuff: true,\r\n          value: condC4,\r\n          path: condC4Path,\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: nodeC4Atk\r\n              }, {\r\n                node: nodeC4Def\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation4.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, [{ node: nodeC6CritDMG }])\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Barbara\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ],\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    cregen_hp_: skillParam_gen.skill[s++],\r\n    cregen_hp: skillParam_gen.skill[s++],\r\n    regen_hp_: skillParam_gen.skill[s++],\r\n    regen_hp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    hp_: skillParam_gen.burst[b++],\r\n    hp: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    stam: -skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    ext: skillParam_gen.passive2[0][0],\r\n    maxExt: skillParam_gen.passive2[0][1],\r\n  },\r\n  constellation2: {\r\n    cdDec: 0.15,\r\n    hydro_dmg_: 0.15\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst nodeA1 = greaterEq(input.asc, 1, equal(condSkill, \"on\", equal(input.activeCharKey, target.charKey, datamine.passive1.stam)))\r\nconst nodeA1Display = greaterEq(input.asc, 1, equal(condSkill, \"on\", datamine.passive1.stam))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst nodeC2 = greaterEq(input.constellation, 2, equal(condC2, \"on\", equal(input.activeCharKey, target.charKey, datamine.constellation2.hydro_dmg_)))\r\nconst nodeC2Display = greaterEq(input.constellation, 2, equal(condC2, \"on\", datamine.constellation2.hydro_dmg_))\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    regen: healNodeTalent(\"hp\", datamine.skill.regen_hp_, datamine.skill.regen_hp, \"skill\"),\r\n    cregen: healNodeTalent(\"hp\", datamine.skill.cregen_hp_, datamine.skill.cregen_hp, \"skill\"),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    regen: healNodeTalent(\"hp\", datamine.burst.hp_, datamine.burst.hp, \"burst\"),\r\n  }\r\n}\r\n\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, teamBuff: {\r\n    premod: {\r\n      staminaDec_: nodeA1,\r\n      hydro_dmg_: nodeC2,\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.regen, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.cregen, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        text: tr(`skill.skillParams.3`),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: tr(`skill.skillParams.4`),\r\n        value: data => data.get(input.constellation).value >= 2 ? `${datamine.skill.cd}s - ${datamine.constellation2.cdDec * 100}%` : `${datamine.skill.cd}s`,\r\n      },]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.0`, variant: \"success\" })\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: datamine.burst.cd,\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"passive1.cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeA1Display, { key: \"staminaDec_\" }),\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"constellation2.cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeC2Display, { key: \"hydro_dmg_\" }),\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Beidou\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldHp_: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    dmgBase: skillParam_gen.skill[s++],\r\n    onHitDmgBonus: skillParam_gen.skill[s++], //DMG bonus on hit taken\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    lightningDmg: skillParam_gen.burst[b++],\r\n    damageReduction: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    energyCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  //pasive 1: 2, //additional targets for lightning arc\r\n  ascension4: {\r\n    normalDmg_: skillParam_gen.passive2[0][0], //Same value for all 3\r\n    chargeDmg_: skillParam_gen.passive2[0][0],\r\n    attackSpeed: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    shieldHp_: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    electroResShred_: -1 * skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\n//Toggable stuff:\r\n// A4: Unleashing <b>Tidecaller</b> with its maximum DMG Bonus\r\n// C6: During the duration of <b>Stormbreaker</b>\r\n\r\nconst [condC6Path, condC6] = cond(key, \"Constellation6\")\r\nconst [condA4Path, condA4] = cond(key, \"Ascension4\")\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst skillDmgOneHit = datamine.skill.dmgBase.map((dmg, i) => dmg + datamine.skill.onHitDmgBonus[i])\r\nconst skillDmgTwoHits = datamine.skill.dmgBase.map((dmg, i) => dmg + 2 * datamine.skill.onHitDmgBonus[i])\r\n\r\nconst nodeBurstElectroResRed_ = equal(condC6, \"on\", percent(datamine.constellation6.electroResShred_), { key: `char_${key}:baneOfEvil_` })\r\nconst nodeSkillNormalDmg_ = equal(condA4, \"on\", percent(datamine.ascension4.normalDmg_), { key: `char_${key}:a4normalDmg_` })\r\nconst nodeSkillChargeDmg_ = equal(condA4, \"on\", percent(datamine.ascension4.chargeDmg_), { key: `char_${key}:a4chargeDmg_` })\r\nconst nodeSkillAttackSpeed_ = equal(condA4, \"on\", percent(datamine.ascension4.attackSpeed), { key: `char_${key}:a4atkSpeed_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    electroShield: shieldElement(\"electro\", shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\")),\r\n    shield: shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\"),\r\n    baseDmg: dmgNode(\"atk\", datamine.skill.dmgBase, \"skill\"),\r\n    dmgOneHit: dmgNode(\"atk\", skillDmgOneHit, \"skill\"),\r\n    dmgTwoHits: dmgNode(\"atk\", skillDmgTwoHits, \"skill\"),\r\n  },\r\n  burst: {\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    lightningDmg: dmgNode(\"atk\", datamine.burst.lightningDmg, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    electroShield: greaterEq(input.constellation, 1, shieldElement(\"electro\", shieldNode(\"hp\", percent(datamine.constellation1.shieldHp_), 0))),\r\n    shield: greaterEq(input.constellation, 1, shieldNode(\"hp\", percent(datamine.constellation1.shieldHp_), 0)),\r\n  },\r\n  constellation4: {\r\n    skillDmg: greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }, customBonus: {\r\n    normal_dmg_: nodeSkillNormalDmg_,\r\n    charged_dmg_: nodeSkillChargeDmg_,\r\n    atkSPD_: nodeSkillAttackSpeed_,\r\n  }, teamBuff: {\r\n    premod: {\r\n      electro_enemyRes_: nodeBurstElectroResRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.stamina,\r\n            unit: '/s'\r\n          }, {\r\n            text: tr(\"auto.skillParams.8\"),\r\n            value: datamine.charged.duration,\r\n            unit: 's'\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        { node: infoMut(dmgFormulas.skill.electroShield, { key: `char_${key}_gen:skill.skillParams.0`, \"variant\": \"electro\" }), },\r\n        { node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.skill.baseDmg, { key: `char_${key}_gen:skill.skillParams.1` }), },\r\n        { node: infoMut(dmgFormulas.skill.dmgOneHit, { key: `char_${key}:skillOneHit` }), },\r\n        { node: infoMut(dmgFormulas.skill.dmgTwoHits, { key: `char_${key}:skillTwoHit` }), },\r\n        {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }\r\n      ], {\r\n        teamBuff: false,\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: trm(\"tidecallerMaxDmg\"),\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        header: conditionalHeader(\"passive2\", tr, passive2), description: tr(`constellation6.description`),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkillNormalDmg_,\r\n            }, {\r\n              node: nodeSkillChargeDmg_,\r\n            }, {\r\n              node: nodeSkillAttackSpeed_,\r\n            }, {\r\n              text: trm(\"a4duration\"),\r\n              value: 10,\r\n              unit: \"s\"\r\n            }, {\r\n              text: trm(\"a4charge\"),\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.burst.lightningDmg, { key: `char_${key}_gen:burst.skillParams.1` }), },\r\n        { node: infoMut(subscript(input.total.burstIndex, datamine.burst.damageReduction), { key: `char_${key}:burstDmgRed_` }) },\r\n        {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.energyCost,\r\n        },\r\n      ], {\r\n        teamBuff: true,\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"duringBurst\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        header: conditionalHeader(\"constellation6\", tr, c6), description: tr(`constellation6.description`),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeBurstElectroResRed_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, []),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, []),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, []),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [\r\n        { node: infoMut(dmgFormulas.constellation1.electroShield, { key: `char_${key}_gen:skill.skillParams.0`, \"variant\": \"electro\" }) },\r\n        { node: infoMut(dmgFormulas.constellation1.shield, { key: `char_${key}_gen:skill.skillParams.0` }) },\r\n      ]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, []),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        node: infoMut(dmgFormulas.constellation4.skillDmg, { key: `char_${key}:c4dmg` }),\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, []),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { UIData } from '../../../Formula/uiData'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Bennett\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold1_1: skillParam_gen.skill[s++],\r\n    hold1_2: skillParam_gen.skill[s++],\r\n    hold2_1: skillParam_gen.skill[s++],\r\n    hold2_2: skillParam_gen.skill[s++],\r\n    explosion: skillParam_gen.skill[s++],\r\n    cd_press: skillParam_gen.skill[s++][0],\r\n    cd_hold1: skillParam_gen.skill[s++][0],\r\n    cd_hold2: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    regen_: skillParam_gen.burst[b++],\r\n    regenFlat: skillParam_gen.burst[b++],\r\n    atkBonus: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cd_red: 0.2, // Not in the datamine for some reason\r\n  },\r\n  passive2: {\r\n    cd_red: 0.5, // Not in the datamine for some reason\r\n  },\r\n  constellation1: {\r\n    atk_inc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    hp_thresh: skillParam_gen.constellation2[0],\r\n    er_inc: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    pyro_dmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst a1SkillCd = greaterEq(input.asc, 1, datamine.passive1.cd_red)\r\n\r\nconst c1Atk = greaterEq(input.constellation, 1, datamine.constellation1.atk_inc, { key: `char_${key}:additionalATKRatio_` })\r\n\r\nconst atkIncRatio = sum(subscript(input.total.burstIndex, datamine.burst.atkBonus, { key: \"_\" }), c1Atk)\r\nconst [condInAreaPath, condInArea] = cond(key, \"activeInArea\")\r\nconst activeInArea = equal(\"activeInArea\", condInArea, equal(input.activeCharKey, target.charKey, 1))\r\nconst c1AddlAtk = greaterEq(input.constellation, 1, prod(c1Atk, input.base.atk))\r\nconst activeInAreaAtkDisp = prod(atkIncRatio, input.base.atk)\r\nconst activeInAreaAtk = equal(activeInArea, 1, activeInAreaAtkDisp)\r\n\r\nconst activeInAreaA4 = greaterEq(input.asc, 4,\r\n  equal(activeInArea, 1, datamine.passive2.cd_red)\r\n)\r\n\r\nconst c6AndCorrectWep = greaterEq(input.constellation, 6,\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(1), \"claymore\": constant(1), \"polearm\": constant(1) }, constant(0)))\r\nconst activeInAreaC6PyroDmg = equal(activeInArea, 1,\r\n  greaterEq(input.constellation, 6, datamine.constellation6.pyro_dmg)\r\n)\r\nconst activeInAreaC6Infusion = equalStr(c6AndCorrectWep, 1, equalStr(activeInArea, 1, elementKey))\r\n\r\nconst [condUnderHPPath, condUnderHP] = cond(key, \"underHP\")\r\nconst underHP = greaterEq(input.constellation, 2,\r\n  equal(\"underHP\", condUnderHP, datamine.constellation2.er_inc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold1_1: dmgNode(\"atk\", datamine.skill.hold1_1, \"skill\"),\r\n    hold1_2: dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"),\r\n    hold2_1: dmgNode(\"atk\", datamine.skill.hold2_1, \"skill\"),\r\n    hold2_2: dmgNode(\"atk\", datamine.skill.hold2_2, \"skill\"),\r\n    explosion: dmgNode(\"atk\", datamine.skill.explosion, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    regen: healNodeTalent(\"hp\", datamine.burst.regen_, datamine.burst.regenFlat, \"burst\"),\r\n    atkInc: activeInAreaAtk,\r\n  },\r\n  constellation4: {\r\n    dmg: greaterEq(input.constellation, 4, prod(dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"), datamine.constellation4.dmg))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_: activeInAreaC6PyroDmg,\r\n      atk: activeInAreaAtk,\r\n    },\r\n    infusion: {\r\n      team: activeInAreaC6Infusion,\r\n    },\r\n  },\r\n  premod: {\r\n    enerRech_: underHP,\r\n\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        // Press\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}:skill.pressDMG` }),\r\n      }, {\r\n        text: sgt(\"press.cd\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_press),\r\n      }, {\r\n        // Lvl 1\r\n        node: infoMut(dmgFormulas.skill.hold1_1, { key: `char_${key}:skill.lvl1_1DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold1_2, { key: `char_${key}:skill.lvl1_2DMG` }),\r\n      }, {\r\n        text: trm(\"skill.lvl1CD\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_hold1),\r\n      }, {\r\n        // Lvl 2\r\n        node: infoMut(dmgFormulas.skill.hold2_1, { key: `char_${key}:skill.lvl2_1DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold2_2, { key: `char_${key}:skill.lvl2_2DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.explosion, { key: `char_${key}:skill.explDMG` }),\r\n      }, {\r\n        text: trm(\"skill.lvl2CD\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_hold2),\r\n      }], undefined, [\r\n        sectionTemplate(\"passive1\", tr, passive1, [{\r\n          node: infoMut(a1SkillCd, { key: \"skillCDRed_\" })\r\n        }], undefined, data => data.get(input.asc).value >= 1, false, true),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" })\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condInArea,\r\n        path: condInAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          activeInArea: {\r\n            fields: [{\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: data => data.get(atkIncRatio).value * 100,\r\n              unit: \"%\",\r\n            }, {\r\n              node: infoMut(activeInAreaAtkDisp, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive2\", tr, passive2, [{\r\n          node: infoMut(activeInAreaA4, { key: \"skillCDRed_\" })\r\n        }], undefined,\r\n          data => data.get(input.asc).value >= 4 && data.get(condInArea).value === \"activeInArea\",\r\n          false, true),\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: trm(\"additionalATKRatio\"),\r\n          node: c1Atk\r\n        }, {\r\n          node: infoMut(c1AddlAtk, { key: `char_${key}:additionalATK` })\r\n        }], undefined, data => data.get(input.constellation).value >= 2, true, true),\r\n        sectionTemplate(\"constellation6\", tr, c6, [{\r\n          node: constant(datamine.constellation6.pyro_dmg, { key: \"pyro_dmg_\", variant: \"pyro\" })\r\n        }, {\r\n          text: trm(\"c6PyroInfusion\")\r\n        }], undefined,\r\n          data => data.get(input.constellation).value >= 6 && data.get(condInArea).value === \"activeInArea\",\r\n          true, true)\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condUnderHP,\r\n        path: condUnderHPPath,\r\n        name: st(\"lessPercentHP\", { percent: datamine.constellation2.hp_thresh * 100 }),\r\n        states: {\r\n          underHP: {\r\n            fields: [{\r\n              node: underHP\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        node: infoMut(dmgFormulas.constellation4.dmg, { key: `char_${key}:c4DMG` })\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined),\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n\r\nfunction calculateSkillCD(data: UIData, skillCD: number): string {\r\n  let cdFactor: number = 1.00;\r\n  let result: string = skillCD + \"s\"\r\n  if (data.get(input.asc).value >= 1) {\r\n    cdFactor = 0.80;\r\n  }\r\n  cdFactor *= (1 - data.get(activeInAreaA4).value);\r\n  if (cdFactor !== 1.00) {\r\n    result += \" - \" + (100 - cdFactor * 100) + \"% = \" + skillCD * cdFactor;\r\n  }\r\n  return result;\r\n}\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, WeaponTypeKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Chongyun\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin_dmg: skillParam_gen.auto[4],\r\n    final_dmg: skillParam_gen.auto[5],\r\n    stamina: skillParam_gen.auto[6][0],\r\n    duration: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    infusionDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    fieldDuration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    atk_spd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    dmg: skillParam_gen.passive2[p2++][0],\r\n    res: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    cdr: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    energy_regen: skillParam_gen.constellation4[0],\r\n    cd: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    burst_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\n\r\nconst skillDmg = dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spin_dmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.final_dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg,\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, skillDmg),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(percent(datamine.constellation1.dmg), input.total.atk), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeAsc1 = greaterEq(input.asc, 1, percent(0.08))\r\nconst nodeAsc4 = greaterEq(input.asc, 4,\r\n  equal(condAsc4, \"hit\",\r\n    -0.10\r\n  )\r\n)\r\nconst activeInArea = equal(\"activeInArea\", condSkill, equal(input.activeCharKey, target.charKey, 1))\r\n\r\nconst correctWep =\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(1), \"claymore\": constant(1), \"polearm\": constant(1) }, constant(0));\r\n\r\nconst activeInAreaInfusion = equalStr(correctWep, 1, equalStr(activeInArea, 1, elementKey))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(condC6, \"on\", datamine.constellation6.burst_dmg_))\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    burst_dmg_: nodeC6,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_enemyRes_: nodeAsc4,\r\n      atkSPD_: nodeAsc1\r\n    },\r\n    infusion: {\r\n      team: activeInAreaInfusion,\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"cryo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey as WeaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n            unit: '/s'\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.duration,\r\n            unit: 's'\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.fieldDuration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"activeCharField\"),\r\n        states: {\r\n          activeInArea: {\r\n            name: \"Frost Field\",\r\n            fields: [{\r\n              text: trm(\"infusion\"),\r\n              variant: elementKey\r\n            }, {\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: datamine.skill.infusionDuration,\r\n              unit: \"s\"\r\n            }, {\r\n              node: nodeAsc1\r\n            }]\r\n          },\r\n        }\r\n      }),\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.1\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: datamine.burst.enerCost,\r\n          }, {\r\n            text: \"Spirit Blades Summoned\",\r\n            value: data => data.get(input.constellation).value < 6 ? 3 : 4\r\n          }]\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:passive2` }),\r\n      }], {\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        value: condAsc4,\r\n        path: condAsc4Path,\r\n        header: conditionalHeader(\"passive2\", tr, passive2),\r\n        description: tr(\"passive2.description\"),\r\n        name: trm(\"asc4Cond\"),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: nodeAsc4\r\n            }]\r\n          },\r\n        }\r\n      }\r\n      ),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:constellation1` })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"constellation6\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC6\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Diluc\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0, c2i = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    firstHit: skillParam_gen.skill[s++],\r\n    secondHit: skillParam_gen.skill[s++],\r\n    thridHit: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    slashDmg: skillParam_gen.burst[b++],\r\n    dotDmg: skillParam_gen.burst[b++],\r\n    explosionDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    stamReduction: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    durationInc: skillParam_gen.passive2[p2++][0],\r\n    pyroInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    dmgInc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    atkInc: skillParam_gen.constellation2[c2i++],\r\n    atkSpdInc: skillParam_gen.constellation2[c2i++],\r\n    duration: skillParam_gen.constellation2[c2i++],\r\n    maxStack: skillParam_gen.constellation2[c2i++],\r\n    cd: skillParam_gen.constellation2[c2i++],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    duration: skillParam_gen.constellation6[c6i++],\r\n    dmgInc: skillParam_gen.constellation6[c6i++],\r\n    atkSpdInc: skillParam_gen.constellation6[c6i++],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"Burst\")\r\nconst [condC1Path, condC1] = cond(key, \"DilucC1\")\r\nconst [condC2Path, condC2] = cond(key, \"DilucC2\")\r\nconst [condC6Path, condC6] = cond(key, \"DilucC6\")\r\n\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"pyro\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, datamine.passive2.pyroInc)\r\n\r\nconst nodeC1Bonus = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.dmgInc))\r\nconst nodeC2AtkBonus = greaterEq(input.constellation, 2,\r\n  lookup(condC2, Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i => [i, constant(datamine.constellation2.atkInc * i)])), 0, { key: \"atk_\" }))\r\nconst nodeC2SpdBonus = greaterEq(input.constellation, 2,\r\n  lookup(condC2, Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i => [i, constant(datamine.constellation2.atkSpdInc * i)])), 0, { key: \"atkSPD_\" }))\r\nconst nodeC6DmgBonus = equal(condC6, \"on\", greaterEq(input.constellation, 6, datamine.constellation6.dmgInc))\r\nconst nodeC6SpdBonus = equal(condC6, \"on\", greaterEq(input.constellation, 6, datamine.constellation6.atkSpdInc), { key: \"atkSPD_\" })\r\n\r\nconst skillAdditional: Data = {\r\n  premod: { skill_dmg_: constant(datamine.constellation4.dmgInc) },\r\n  hit: { ele: constant(\"pyro\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    firstHit: dmgNode(\"atk\", datamine.skill.firstHit, \"skill\"),\r\n    secondHit: dmgNode(\"atk\", datamine.skill.secondHit, \"skill\"),\r\n    thirdHit: dmgNode(\"atk\", datamine.skill.thridHit, \"skill\"),\r\n  },\r\n  burst: {\r\n    slashDmg: dmgNode(\"atk\", datamine.burst.slashDmg, \"burst\"),\r\n    dotDmg: dmgNode(\"atk\", datamine.burst.dotDmg, \"burst\"),\r\n    explosionDmg: dmgNode(\"atk\", datamine.burst.explosionDmg, \"burst\"),\r\n  },\r\n  constellation4: {\r\n    secondHitBoost: greaterEq(input.constellation, 4, dmgNode(\"atk\", datamine.skill.secondHit, \"skill\", skillAdditional)),\r\n    thirdHitBoost: greaterEq(input.constellation, 4, dmgNode(\"atk\", datamine.skill.thridHit, \"skill\", skillAdditional)),\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_: nodeA4Bonus,\r\n    atk_: nodeC2AtkBonus,\r\n    atkSPD_: sum(nodeC6SpdBonus, nodeC2SpdBonus),\r\n    all_dmg_: nodeC1Bonus,\r\n    normal_dmg_: nodeC6DmgBonus,\r\n  },\r\n  infusion: {\r\n    // CAUTION: Technically, this infusion is non-overridable,\r\n    // but it should also be higher prio than `team`. So we put\r\n    // it here instead.\r\n    overridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: data => data.get(input.asc).value >= 1 ? `${datamine.charged.stamina}/s - ${datamine.passive1.stamReduction * 100}%` : `${datamine.charged.stamina}/s`,\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: data => data.get(input.asc).value >= 1 ? `${datamine.charged.duration}s + ${datamine.passive1.duration}` : datamine.charged.duration,\r\n            unit: 's'\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.firstHit, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          },\r\n          {\r\n            node: infoMut(dmgFormulas.skill.secondHit, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          },\r\n          {\r\n            node: infoMut(dmgFormulas.skill.thirdHit, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n          },\r\n          {\r\n            node: infoMut(dmgFormulas.constellation4.secondHitBoost, { key: `char_${key}:skillB.0` }),\r\n          },\r\n          {\r\n            node: infoMut(dmgFormulas.constellation4.thirdHitBoost, { key: `char_${key}:skillB.1` }),\r\n          },\r\n          {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.skill.cd,\r\n          },],\r\n          conditional: {\r\n            value: condC6,\r\n            path: condC6Path,\r\n            name: trm(\"c6C.name\"),\r\n            canShow: greaterEq(input.constellation, 6, 1),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  node: nodeC6DmgBonus,\r\n                }, {\r\n                  node: nodeC6SpdBonus\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }],\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.slashDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dotDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.explosionDmg, { key: `char_${key}_gen:burst.skillParams.2` })\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.cost,\r\n      }], {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.pyro\"),\r\n              variant: \"pyro\",\r\n            }, {\r\n              node: nodeA4Bonus\r\n            }, {\r\n              text: tr(\"burst.skillParams.4\"),\r\n              value: data => data.get(input.asc).value >= 4 ? `${datamine.burst.duration} + ${datamine.passive2.durationInc}` : datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"c1C.name\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1Bonus,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2C.name\"),\r\n        header: conditionalHeader(\"constellation2\", tr, c2),\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        states: Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i =>\r\n          [i, {\r\n            name: st(\"stack_one\", { count: i }),\r\n            fields: [{\r\n              node: nodeC2AtkBonus\r\n            }, {\r\n              node: nodeC2SpdBonus\r\n            }]\r\n          }\r\n          ]))\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Diona\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    icyPawDmg: skillParam_gen.skill[s++],\r\n    shieldHp_: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    cdPress: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    fieldDmg: skillParam_gen.burst[b++],\r\n    healHp_: skillParam_gen.burst[b++],\r\n    healBase: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    moveSpeed_: skillParam_gen.passive1[p1++][0], //+10% move speed\r\n    stamRed_: skillParam_gen.passive1[p1++][0], //Stamina consumption reduced by 10%\r\n  },\r\n  passive2: {\r\n    atkRed_: skillParam_gen.passive1[p2++][0], //Opponents inside burst -10% attack\r\n    duration: skillParam_gen.passive1[p2++][0],\r\n  },\r\n  constellation1: {\r\n    energyRegen: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    icyPawDmg_: skillParam_gen.constellation2[0], //Icy Paws +15% dmg\r\n    icyPawShield_: skillParam_gen.constellation2[1], //Icy paws +15% shield\r\n    coopShield_: skillParam_gen.constellation2[2], //Coop shield 50% of total shield\r\n    coopShieldDuration_: skillParam_gen.constellation2[3], //Coop shield lasts for 5s\r\n  },\r\n  constellation6: {\r\n    healingBonus_: skillParam_gen.constellation6[0],\r\n    emBonus: skillParam_gen.constellation6[1],\r\n  },\r\n} as const\r\n\r\nconst [condC6BelowPath, condC6Below] = cond(key, \"Constellation6Low\")\r\nconst [condC6AbovePath, condC6Above] = cond(key, \"Constellation6High\")\r\nconst [condA1Path, condA1] = cond(key, \"Ascension1\")\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst nodeC2skillDmg_ = greaterEq(input.constellation, 2, percent(datamine.constellation2.icyPawDmg_))\r\n\r\nconst holdSkillShieldStr_ = { \"customBonus\": { \"shield_\": percent(0.75) } }\r\n//C2 Shield bonus modifies everything at the very end, it's not a shield strength bonus\r\n//100% if not C2, 175% if C2 or higher\r\nconst nodeC2shieldStr_ = sum(percent(1), greaterEq(input.constellation, 2, percent(datamine.constellation2.icyPawShield_)))\r\nconst nodeSkillShieldPress = prod(nodeC2shieldStr_, shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\",))\r\nconst nodeSkillShieldHold = prod(nodeC2shieldStr_, shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\", holdSkillShieldStr_))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    pressCryoShield: shieldElement(elementKey, nodeSkillShieldPress),\r\n    pressShield: nodeSkillShieldPress,\r\n    holdCryoShield: shieldElement(elementKey, nodeSkillShieldHold),\r\n    holdShield: nodeSkillShieldHold,\r\n    skillDmg: dmgNode(\"atk\", datamine.skill.icyPawDmg, \"skill\", {}),\r\n  },\r\n  burst: {\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n    fieldDmg: dmgNode(\"atk\", datamine.burst.fieldDmg, \"burst\"),\r\n    healDot: healNodeTalent(\"hp\", datamine.burst.healHp_, datamine.burst.healBase, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeA1MoveSpeed = equal(condA1, \"on\", percent(datamine.passive1.moveSpeed_),)\r\nconst nodeA1Stamina = equal(condA1, \"on\", percent(datamine.passive1.stamRed_),)\r\n\r\nconst nodeC6healing_Disp = equal(condC6Below, \"on\", percent(datamine.constellation6.healingBonus_),)\r\nconst nodeC6healing_ = equal(input.activeCharKey, target.charKey, nodeC6healing_Disp)\r\nconst nodeC6emDisp = equal(condC6Above, \"on\", datamine.constellation6.emBonus,)\r\nconst nodeC6em = equal(input.activeCharKey, target.charKey, nodeC6emDisp)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, premod: {\r\n    skill_dmg_: nodeC2skillDmg_,\r\n  }, teamBuff: {\r\n    premod: {\r\n      staminaDec_: nodeA1Stamina,\r\n      moveSPD_: nodeA1MoveSpeed,\r\n      eleMas: nodeC6em,\r\n      incHeal_: nodeC6healing_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            },\r\n            ]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ]\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        //Shield DMG Absorption\r\n        { node: infoMut(dmgFormulas.skill.pressCryoShield, { key: `char_${key}:pressShield` }), },\r\n        { node: infoMut(dmgFormulas.skill.pressShield, { key: `char_${key}:pressShield` }), },\r\n        { node: infoMut(dmgFormulas.skill.holdCryoShield, { key: `char_${key}:holdShield` }), },\r\n        { node: infoMut(dmgFormulas.skill.holdShield, { key: `char_${key}:holdShield` }), },\r\n        //Icy Paw DMG\r\n        { node: infoMut(dmgFormulas.skill.skillDmg, { key: `char_${key}_gen:skill.skillParams.0` }), },\r\n        {\r\n          text: trm(\"skillDuration\"),\r\n          value: data => datamine.skill.duration[data.get(input.total.skillIndex).value],\r\n          unit: \"s\",\r\n          fixed: 1,\r\n        },\r\n        //Press CD\r\n        {\r\n          text: tr(`skill.skillParams.3`),\r\n          value: datamine.skill.cdPress,\r\n          unit: \"s\"\r\n        },\r\n        //Holding CD\r\n        {\r\n          text: tr(`skill.skillParams.4`),\r\n          value: datamine.skill.cdHold,\r\n          unit: \"s\",\r\n        },\r\n      ],\r\n        //Cat's Tail Secret Menu (A1)\r\n        {\r\n          teamBuff: true,\r\n          value: condA1,\r\n          path: condA1Path,\r\n          name: trm(`a1shielded`),\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          header: conditionalHeader(\"passive1\", tr, passive1), description: tr(`passive1.description`),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: nodeA1MoveSpeed,\r\n              }, {\r\n                node: nodeA1Stamina,\r\n              }]\r\n            }\r\n          }\r\n        }\r\n      ),\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.burst.fieldDmg, { key: `char_${key}_gen:burst.skillParams.1` }), },\r\n        { node: infoMut(dmgFormulas.burst.healDot, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" }), },\r\n        {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }\r\n      ], {\r\n        teamBuff: true,\r\n        value: condC6Below,\r\n        path: condC6BelowPath,\r\n        name: trm(`c6below`),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        header: conditionalHeader(\"constellation6\", tr, c6), description: tr(`constellation6.description`),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeC6healing_Disp, { key: \"incHeal_\" }),\r\n            }]\r\n          }\r\n        }\r\n      }, [{\r\n        conditional: {\r\n          teamBuff: true,\r\n          value: condC6Above,\r\n          path: condC6AbovePath,\r\n          name: trm(`c6above`),\r\n          canShow: greaterEq(input.constellation, 6, 1),\r\n          header: conditionalHeader(\"constellation6\", tr, c6), description: tr(`constellation6.description`),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: infoMut(nodeC6emDisp, { key: \"eleMas\" }),\r\n              }]\r\n            }\r\n          }\r\n        }\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, []),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, []),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, []),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, []),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{ node: nodeC2skillDmg_ }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, []),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Eula\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    icewhirl: skillParam_gen.skill[s++],\r\n    physResDec: skillParam_gen.skill[s++],\r\n    cryoResDec: skillParam_gen.skill[s++],\r\n    resDecDuration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0],\r\n    defBonus: skillParam_gen.skill[s++][0],\r\n    unknown: skillParam_gen.skill[s++][0], // combined cooldown?\r\n    physResDecNegative: skillParam_gen.skill[s++],\r\n    cryoResDecNegative: skillParam_gen.skill[s++],\r\n    grimheartDuration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lightfallDmg: skillParam_gen.burst[b++],\r\n    dmgPerStack: skillParam_gen.burst[b++],\r\n    maxStack: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    physInc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n} as const\r\n\r\nconst [condGrimheartPath, condGrimheart] = cond(key, \"Grimheart\")\r\nconst [condLightfallSwordPath, condLightfallSword] = cond(key, \"LightfallSword\")\r\nconst [condC4Path, condC4] = cond(key, \"LightfallSwordC4\")\r\nconst [condTidalIllusionPath, condTidalIllusion] = cond(key, \"TidalIllusion\")\r\n\r\nconst def_ = sum(equal(\"stack1\", condGrimheart, percent(datamine.skill.defBonus)), equal(\"stack2\", condGrimheart, percent(2 * datamine.skill.defBonus)))\r\nconst cryo_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.cryoResDecNegative))\r\nconst physical_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.physResDecNegative))\r\nconst physical_dmg_ = equal(\"on\", condTidalIllusion, percent(datamine.constellation1.physInc))\r\n\r\nconst lightSwordAdditional: Data = {\r\n  premod: { burst_dmg_: equal(condC4, \"on\", constant(datamine.constellation4.dmgInc)) },\r\n  hit: { ele: constant(\"physical\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    icewhirl: dmgNode(\"atk\", datamine.skill.icewhirl, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lightFallSwordNew: customDmgNode(\r\n      prod(\r\n        sum(\r\n          subscript(input.total.burstIndex, datamine.burst.lightfallDmg, { key: '_' }),\r\n          prod(\r\n            lookup(condLightfallSword, objectKeyMap(range(1, 30), i => constant(i)), constant(0)),\r\n            subscript(input.total.burstIndex, datamine.burst.dmgPerStack, { key: '_' })\r\n          ),\r\n        ),\r\n        input.total.atk\r\n      ), \"burst\", lightSwordAdditional),\r\n  },\r\n  passive1: {\r\n    shatteredLightfallSword: prod(\r\n      percent(datamine.passive1.percentage),\r\n      dmgNode(\"atk\", datamine.burst.lightfallDmg, \"burst\", lightSwordAdditional))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"cryo\", \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_,\r\n    cryo_enemyRes_,\r\n    physical_enemyRes_,\r\n    physical_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"cryo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n              textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.7\"),\r\n              value: datamine.charged.stamina,\r\n              unit: '/s'\r\n            }, {\r\n              text: tr(\"auto.skillParams.8\"),\r\n              value: datamine.charged.duration,\r\n              unit: 's'\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.8\"),\r\n            value: `${datamine.skill.pressCd}`,\r\n            unit: 's'\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: st(\"holdCD\"),\r\n            value: `${datamine.skill.holdCd}`,\r\n            unit: 's'\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: 2,\r\n          },],\r\n          conditional: { // Grimheart\r\n            value: condGrimheart,\r\n            path: condGrimheartPath,\r\n            name: trm(\"skillC.name\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: {\r\n              \"stack1\": {\r\n                name: st(\"stack\", { count: 1 }),\r\n                fields: [{\r\n                  node: def_,\r\n                }, {\r\n                  text: trm(\"skillC.grimheart.int\")\r\n                }, {\r\n                  text: tr(\"skill.skillParams.4\"),\r\n                  value: `${datamine.skill.grimheartDuration}`,\r\n                  unit: 's'\r\n                },]\r\n              },\r\n              \"stack2\": {\r\n                name: st(\"stack\", { count: 2 }),\r\n                fields: [{\r\n                  node: def_,\r\n                }, {\r\n                  text: trm(\"skillC.grimheart.int\")\r\n                }, {\r\n                  text: tr(\"skill.skillParams.4\"),\r\n                  value: `${datamine.skill.grimheartDuration}`,\r\n                  unit: 's'\r\n                },]\r\n              },\r\n              \"consumed\": {\r\n                name: \"Consumed\",\r\n                fields: [{\r\n                  node: cryo_enemyRes_,\r\n                }, {\r\n                  node: physical_enemyRes_,\r\n                }, {\r\n                  text: sgt('duration'),\r\n                  value: 7,\r\n                  unit: 's'\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.icewhirl, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n          }]\r\n        }]\r\n      },\r\n      burst: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.lightFallSwordNew, { key: `char_${key}:burstC.dmg` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: `${datamine.burst.cd}`,\r\n            unit: 's'\r\n          }, {\r\n            text: tr(\"burst.skillParams.5\"),\r\n            value: `${datamine.burst.enerCost}`,\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 7,\r\n            unit: 's'\r\n          }],\r\n          conditional: { // Lightfall Sword\r\n            value: condLightfallSword,\r\n            path: condLightfallSwordPath,\r\n            name: trm(\"burstC.name\"),\r\n            header: conditionalHeader(\"burst\", tr, burst),\r\n            states: {\r\n              ...objectKeyMap(range(1, 30), i => ({\r\n                name: st(\"stack\", { count: i }),\r\n                fields: [{\r\n                  canShow: data => data.get(input.constellation).value >= 6,\r\n                  text: trm(\"burstC.start5\"),\r\n                }, {\r\n                  canShow: data => data.get(input.constellation).value >= 6,\r\n                  text: trm(\"burstC.addStacks\"),\r\n                }]\r\n              })),\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // Lightfall Sword (C4)\r\n            value: condC4,\r\n            path: condC4Path,\r\n            name: trm(\"c4C.name\"),\r\n            header: conditionalHeader(\"constellation4\", tr, c4),\r\n            canShow: greaterEq(input.constellation, 4, 1),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  text: trm(\"c4C.desc\")\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        node: infoMut(dmgFormulas.passive1.shatteredLightfallSword, { key: `char_${key}:passive1` }),\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condTidalIllusion,\r\n        path: condTidalIllusionPath,\r\n        name: trm(\"c1C.name\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: physical_dmg_,\r\n            }, {\r\n              text: sgt('duration'),\r\n              value: trm('c1C.durationStack')\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, lessThan, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Fischl\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    ozDmg: skillParam_gen.skill[s++],\r\n    summonDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmg: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    dmg: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0]\r\n  },\r\n  constellation2: {\r\n    dmg: skillParam_gen.constellation2[0]\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n    regen: skillParam_gen.constellation4[1]\r\n  },\r\n  constellation6: {\r\n    dmg: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('electro') } }),\r\n    aimedChargedOz: greaterEq(input.asc, 1, prod(percent(datamine.passive1.dmg), dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('electro') } })))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    ozDmg: dmgNode(\"atk\", datamine.skill.ozDmg, \"skill\"),\r\n    summonDmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.summonDmg, \"skill\")),\r\n    summonDmgC2: greaterEq(input.constellation, 2, customDmgNode(prod(sum(subscript(input.total.skillIndex,\r\n      datamine.skill.summonDmg, { key: \"_\" }), percent(datamine.constellation2.dmg)), input.total.atk), \"skill\",\r\n      { hit: { ele: constant('electro') } })),\r\n    ozActiveCharDmg: greaterEq(input.constellation, 6, customDmgNode(prod(input.total.atk, percent(datamine.constellation6.dmg)), \"skill\", { hit: { ele: constant('electro') } }))\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    additionalDmg: greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.dmg)), \"burst\", { hit: { ele: constant('electro') } })),\r\n    regen: greaterEq(input.constellation, 4, customHealNode(prod(input.total.hp, percent(datamine.constellation4.regen))))\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, customDmgNode(prod(input.total.atk, percent(datamine.passive2.dmg)), \"skill\", { hit: { ele: constant('electro') } }))\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.atk, percent(datamine.constellation1.dmg)), \"elemental\", { hit: { ele: constant('physical') } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              canShow: (data) => data.get(input.asc).value >= 1,\r\n              node: infoMut(dmgFormulas.charged.aimedChargedOz, { key: `char_${key}:a1Name` }),\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.ozDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value < 2,\r\n        node: infoMut(dmgFormulas.skill.summonDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 2,\r\n        node: infoMut(dmgFormulas.skill.summonDmgC2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 6,\r\n        node: infoMut(dmgFormulas.skill.ozActiveCharDmg, { key: `char_${key}:c6OzDmg` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: (data) => data.get(input.constellation).value >= 6 ? datamine.skill.duration + datamine.constellation6.duration : datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 2,\r\n        text: trm(\"c2AoeIncrease\"),\r\n        value: 50,\r\n        unit: \"%\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 4,\r\n        node: infoMut(dmgFormulas.burst.additionalDmg, { key: `char_${key}:c4AoeDmg` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 4,\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: `${datamine.burst.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:a2Name` })\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:c1Name` })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Ganyu\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst region: Region = \"liyue\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n    frostflake: skillParam_gen.auto[a++],\r\n    frostflakeBloom: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    inheritedHp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    cryoDmgBonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    opCryoRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n    enerRegen: skillParam_gen.constellation1[2],\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"A1\")\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst [condC1Path, condC1] = cond(key, \"C1\")\r\nconst [condC4Path, condC4] = cond(key, \"C4\")\r\nconst cryo_enemyRes_ = greaterEq(input.constellation, 1, equal(\"on\", condC1, percent(datamine.constellation1.opCryoRes)))\r\nconst cryo_dmg_disp = greaterEq(input.asc, 4, equal(\"on\", condA4, percent(datamine.passive2.cryoDmgBonus)))\r\nconst cryo_dmg_ = equal(input.activeCharKey, target.charKey, cryo_dmg_disp)\r\nconst all_dmg_ = greaterEq(input.constellation, 4,\r\n  lookup(condC4, Object.fromEntries(range(1, 5).map(i => [i, percent(0.05 * i)])), naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n    frostflake: dmgNode(\"atk\", datamine.charged.frostflake, \"charged\",\r\n      { premod: { critRate_: greaterEq(input.asc, 1, equal(condA1, \"on\", percent(datamine.passive1.critRateInc))) }, hit: { ele: constant('cryo') } }),\r\n    frostflakeBloom: dmgNode(\"atk\", datamine.charged.frostflakeBloom, \"charged\",\r\n      { premod: { critRate_: greaterEq(input.asc, 1, equal(condA1, \"on\", percent(datamine.passive1.critRateInc))) }, hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    inheritedHp: prod(subscript(input.total.skillIndex, datamine.skill.inheritedHp), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmg_,\r\n      all_dmg_,\r\n      cryo_enemyRes_,\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.frostflake, { key: `char_${key}_gen:auto.skillParams.8` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.frostflakeBloom, { key: `char_${key}_gen:auto.skillParams.9` }),\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        name: trm(\"a1.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"a1.critRateInc\"),\r\n              value: datamine.passive1.critRateInc * 100,\r\n              unit: \"%\"\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: `${datamine.passive1.duration}s`,\r\n            }]\r\n          }\r\n        }\r\n      }), sectionTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: trm(\"c1.condName\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: cryo_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: `${datamine.constellation1.duration}s`,\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.inheritedHp, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.duration}s`,\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}s`,\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 2,\r\n        text: st(\"charges\"),\r\n        value: 2,\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: `${datamine.burst.duration}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.cd}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], undefined, [\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          value: condA4,\r\n          path: condA4Path,\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          teamBuff: true,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: infoMut(cryo_dmg_disp, { key: \"cryo_dmg_\", variant: \"cryo\" })\r\n              }]\r\n            }\r\n          }\r\n        }), sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          value: condC4,\r\n          path: condC4Path,\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          teamBuff: true,\r\n          name: st(\"opponentsField\"),\r\n          states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n          name: st(\"seconds\", { count: (i - 1) * 3 }),\r\n            fields: [{ node: all_dmg_ }, { text: trm(\"c4.lingerDuration\"), value: 3, unit: \"s\" }]\r\n          }]))\r\n        }),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Gorou\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++], // Aimed\r\n    fully: skillParam_gen.auto[a++], // Fully-charged\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    defInc: skillParam_gen.skill[s++],\r\n    geo_dmg_: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg_def: skillParam_gen.burst[b++],\r\n    crystalDmg_def: skillParam_gen.burst[b++],\r\n    crystalHits: 6,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    def_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n  },\r\n  passive2: {\r\n    skill_dmgInc: skillParam_gen.passive2[0][0],\r\n    burst_dmgInc: skillParam_gen.passive2[1][0],\r\n  },\r\n  constellation4: {\r\n    heal_def_: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    geo_critDMG_: [\r\n      skillParam_gen.constellation6[0],\r\n      skillParam_gen.constellation6[1],\r\n      skillParam_gen.constellation6[2],\r\n      skillParam_gen.constellation6[2],\r\n    ] as number[],\r\n    duration: skillParam_gen.constellation6[3]\r\n  }\r\n} as const\r\n\r\nconst [condInFieldPath, condInField] = cond(key, \"inField\")\r\nconst skill1_defDisp = equal(condInField, \"inField\", \r\n  greaterEq(tally[\"geo\"], 1, \r\n    subscript(input.total.skillIndex, datamine.skill.defInc)\r\n  )\r\n)\r\nconst skill1_def = equal(input.activeCharKey, target.charKey, skill1_defDisp)\r\nconst skill3_geo_dmg_Disp = equal(condInField, \"inField\", \r\n  greaterEq(tally[\"geo\"], 3, datamine.skill.geo_dmg_)\r\n)\r\nconst skill3_geo_dmg_ = equal(input.activeCharKey, target.charKey, skill3_geo_dmg_Disp)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst_def_ = greaterEq(input.asc, 1, equal(condAfterBurst, \"afterBurst\", datamine.passive1.def_))\r\n\r\nconst p2_skill_dmgInc = greaterEq(input.asc, 4, prod(input.total.def, datamine.passive2.skill_dmgInc))\r\nconst p2_burst_dmgInc = greaterEq(input.asc, 4, prod(input.total.def, datamine.passive2.burst_dmgInc))\r\n\r\nconst [condAfterSkillBurstPath, condAfterSkillBurst] = cond(key, \"afterSkillBurst\")\r\nconst c6_geo_critDMG_ = greaterEq(input.constellation, 6, \r\n  equal(condAfterSkillBurst, \"afterSkillBurst\", \r\n    subscript(sum(tally[\"geo\"], -1), datamine.constellation6.geo_critDMG_)\r\n  )\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n  [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fully: dmgNode(\"atk\", datamine.charged.fully, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"def\", datamine.burst.dmg_def, \"burst\"),\r\n    crystalCollapse: dmgNode(\"def\", datamine.burst.crystalDmg_def, \"burst\")\r\n  },\r\n  constellation4: {\r\n    heal: greaterEq(input.constellation, 4, greaterEq(tally[\"geo\"], 2, healNode(\"def\", datamine.constellation4.heal_def_, 0)))\r\n  }\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: burstC5,\r\n    skill: skillC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      def: skill1_def,\r\n      geo_dmg_: skill3_geo_dmg_,\r\n      def_: afterBurst_def_,\r\n      geo_critDMG_: c6_geo_critDMG_,\r\n    }\r\n  },\r\n  premod: {\r\n    skill_dmgInc: p2_skill_dmgInc,\r\n    burst_dmgInc: p2_burst_dmgInc,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n            node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.fully, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condInField,\r\n        path: condInFieldPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          inField: {\r\n            fields: [{\r\n              node: infoMut(skill1_defDisp, { key: \"def\" }),\r\n            }, {\r\n              canShow: data => data.get(tally[\"geo\"]).value >= 2,\r\n              text: st(\"incInterRes\")\r\n            }, {\r\n              node: infoMut(skill3_geo_dmg_Disp, { key: \"geo_dmg_\", variant: \"geo\" }),\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive2\", tr, passive2, [{\r\n          node: p2_skill_dmgInc\r\n        }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n        sectionTemplate(\"constellation4\", tr, c4, [{\r\n          node: infoMut(dmgFormulas.constellation4.heal, { key: \"sheet_gen:healing\", variant: \"success\" }),\r\n        }], undefined, data => data.get(input.constellation).value >=4 && data.get(tally[\"geo\"]).value >= 2, true, true)\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.crystalCollapse, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: st(\"brHits\", { count: datamine.burst.crystalHits })\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost\r\n      }], undefined, [\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          value: condAfterBurst,\r\n          path: condAfterBurstPath,\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          name: st(\"afterUse.burst\"),\r\n          teamBuff: true,\r\n          states: {\r\n            afterBurst: {\r\n              fields: [{\r\n                node: afterBurst_def_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive1.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          }\r\n        }), sectionTemplate(\"passive2\", tr, passive2, [{\r\n          node: p2_burst_dmgInc\r\n        }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: skillC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: burstC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condAfterSkillBurst,\r\n        path: condAfterSkillBurstPath,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: st(\"afterUse.skillOrBurst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterSkillBurst: {\r\n            fields: [{\r\n              node: c6_geo_critDMG_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lessThan, min, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, customHealNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"HuTao\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    activationCost: skillParam_gen.skill[s++][0],\r\n    atkInc: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    bloodBlossomDuration: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxAtkInc: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lowHpDmg: skillParam_gen.burst[b++],\r\n    regen: skillParam_gen.burst[b++],\r\n    lowHpRegen: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    minHp: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    minHp: skillParam_gen.passive2[p2++][0],\r\n    pyroDmgInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    bloodBlossomDmgInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    critRateInc: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    minHp: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n    elePhysResInc: skillParam_gen.constellation6[2],\r\n    critRateInc: skillParam_gen.constellation6[3],\r\n  },\r\n} as const\r\n\r\nconst [condAfterlifePath, condAfterlife] = cond(key, \"GuideToAfterlifeVoyage\")\r\nconst atk = equal(\"on\", condAfterlife, min(\r\n  prod(subscript(input.total.skillIndex, datamine.skill.atkInc), input.premod.hp),\r\n  prod(percent(datamine.skill.maxAtkInc), input.base.atk)))\r\nconst infusion = equalStr(\"on\", condAfterlife, elementKey)\r\n\r\nconst [condA1Path, condA1] = cond(key, \"FlutterBy\")\r\nconst critRateTeam_1 = equal(\"on\", condA1, unequal(input.activeCharKey, input.charKey, percent(datamine.passive1.critRateInc), { key: \"critRate_\" }))\r\nconst [condA2Path, condA2] = cond(key, \"SanguineRouge\")\r\nconst pyro_dmg_ = equal(\"on\", condA2, percent(datamine.passive2.pyroDmgInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"GardenOfEternalRest\")\r\nconst critRateTeam_2 = equal(\"on\", condC4, unequal(input.activeCharKey, input.charKey, percent(datamine.constellation4.critRateInc), { key: \"critRate_\" }))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"ButterflysEmbrace\")\r\nconst critRate_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.critRateInc)))\r\nconst ele_res_s = Object.fromEntries(allElementsWithPhy.map(ele => [ele, equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.elePhysResInc)))]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n    dmgC2: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\", { hit: { dmgInc: prod(input.total.hp, datamine.constellation2.bloodBlossomDmgInc) } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lowHpDmg: dmgNode(\"atk\", datamine.burst.lowHpDmg, \"burst\"),\r\n    regen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.regen, { key: \"_\" }))),\r\n    lowHpRegen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.lowHpRegen, { key: \"_\" }))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_,\r\n    ...Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, ele_res_s[ele]])),\r\n    critRate_\r\n  },\r\n  total: {\r\n    atk\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: sum(critRateTeam_1, critRateTeam_2)\r\n    }\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: infusion\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n              textSuffix: i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.7\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmgC2, { key: `char_${key}:constellation2.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.bloodBlossomDuration,\r\n        unit: 's'\r\n      }], {\r\n        value: condAfterlife,\r\n        path: condAfterlifePath,\r\n        name: trm(\"paramita.enter\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.0\"),\r\n              value: datamine.skill.activationCost * 100, // Convert to percentage\r\n              unit: '% Current HP'\r\n            }, {\r\n              node: atk,\r\n            }, {\r\n              text: <ColorText color=\"pyro\">Pyro Infusion</ColorText>\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }, {\r\n              text: tr(\"skill.skillParams.5\"),\r\n              value: datamine.skill.cd,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.lowHpDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.lowHpRegen, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" })\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: 's'\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value > 1,\r\n        text: trm(\"constellation2.applyBloodBlossom\"),\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.asc, 1, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"paramita.end\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_1,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA2,\r\n        path: condA2Path,\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        name: st(\"lessEqPercentHP\", { percent: datamine.passive2.minHp * 100 }),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"constellation4.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_2,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"constellation6.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [\r\n              ...allElementsWithPhy.map(ele => ({ node: ele_res_s[ele] })), {\r\n                node: critRate_,\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation6.duration,\r\n                unit: 's'\r\n              }, {\r\n                text: sgt(\"cd\"),\r\n                value: 60,\r\n                unit: 's'\r\n              }]\r\n          }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Jean\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    stamina: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    enterExitDmg: skillParam_gen.burst[b++],\r\n    burstActivationAtkModifier: skillParam_gen.burst[b++],\r\n    burstActionFlatModifier: skillParam_gen.burst[b++],\r\n    burstRegenAtkModifier: skillParam_gen.burst[b++],\r\n    burstRegenFlatModifier: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    chance: skillParam_gen.passive1[p1++][0],\r\n    atkPercentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    energyRegen: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    increaseDmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    moveSpd: skillParam_gen.constellation2[0],\r\n    atkSpd: skillParam_gen.constellation2[1],\r\n    duration: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation4: {\r\n    anemoRes: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    dmgReduction: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst regen = healNodeTalent(\"atk\", datamine.burst.burstActivationAtkModifier, datamine.burst.burstActionFlatModifier, \"burst\")\r\nconst contRegen = healNodeTalent(\"atk\", datamine.burst.burstRegenAtkModifier, datamine.burst.burstRegenFlatModifier, \"burst\")\r\nconst a1Regen = greaterEq(input.asc, 1, customHealNode(prod(percent(datamine.passive1.atkPercentage), input.total.atk)))\r\n\r\nconst [condC1Path, condC1] = cond(key, \"c1\")\r\nconst skill_dmg_ = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.increaseDmg))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst atkSPD_ = equal(condC2, \"on\", greaterEq(input.constellation, 2, percent(datamine.constellation2.atkSpd)))\r\nconst moveSPD_ = equal(condC2, \"on\", greaterEq(input.constellation, 2, percent(datamine.constellation2.moveSpd)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst anemo_enemyRes_ = equal(condC4, \"on\", greaterEq(input.constellation, 4, percent(-Math.abs(datamine.constellation4.anemoRes))))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst dmgRed_disp = equal(condC6, \"on\", greaterEq(input.constellation, 6, percent(datamine.constellation6.dmgReduction)))\r\nconst dmgRed_ = equal(input.activeCharKey, target.charKey, dmgRed_disp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    enterExitDmg: dmgNode(\"atk\", datamine.burst.enterExitDmg, \"burst\"),\r\n    regen,\r\n    contRegen\r\n  },\r\n  passive1: {\r\n    a1Regen\r\n  },\r\n  constellation2: {\r\n    atkSPD_,\r\n    moveSPD_\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    skill_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atkSPD_,\r\n      moveSPD_,\r\n      anemo_enemyRes_,\r\n      dmgRed_\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: `${datamine.skill.stamina}`,\r\n        unit: \"/s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.duration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }], undefined, [\r\n        sectionTemplate(\"constellation1\", tr, c1, undefined, {\r\n          canShow: greaterEq(input.constellation, 1, 1),\r\n          value: condC1,\r\n          path: condC1Path,\r\n          name: trm(\"c1CondName\"),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                text: trm(\"c1PullSpeed\")\r\n              }, {\r\n                node: skill_dmg_\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.enterExitDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.contRegen, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" }),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 11,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: `${datamine.burst.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], undefined, [\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          value: condC4,\r\n          path: condC4Path,\r\n          teamBuff: true,\r\n          name: st(\"opponentsField\"),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: anemo_enemyRes_\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          canShow: greaterEq(input.constellation, 6, 1),\r\n          value: condC6,\r\n          path: condC6Path,\r\n          teamBuff: true,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: infoMut(dmgRed_disp, {key: \"dmgRed_\" })\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: (data) => data.get(input.asc).value >= 1,\r\n        node: infoMut(dmgFormulas.passive1.a1Regen, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: (data) => data.get(input.asc).value >= 4,\r\n        text: st(\"energyRegen\"),\r\n        value: datamine.passive2.energyRegen\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atkSPD_\r\n            }, {\r\n              node: moveSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, percent, prod, unequal } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, condReadNode, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KaedeharaKazuha\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5x3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    hold: skillParam_gen.skill[s++],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    add: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    asorbAdd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    elemas_dmg_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    elemas: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst condSwirlPaths = Object.fromEntries(absorbableEle.map(e => [e, [key, `swirl${e}`]]))\r\nconst condSwirls = Object.fromEntries(absorbableEle.map(e => [e, condReadNode(condSwirlPaths[e])]))\r\nconst asc4 = Object.fromEntries(absorbableEle.map(ele =>\r\n  [`${ele}_dmg_`, greaterEq(input.asc, 4,\r\n    equal(\"swirl\", condSwirls[ele],\r\n      // TODO: this percent of 0.04% is displayed as 0.0%\r\n      prod(percent(datamine.passive2.elemas_dmg_), input.premod.eleMas)\r\n    ))]))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2EleMas = greaterEq(input.constellation, 2,\r\n  equal(\"c2\", condC2, datamine.constellation2.elemas))\r\n\r\nconst [condC2PPath, condC2P] = cond(key, \"c2p\")\r\nconst c2PEleMasDisp = greaterEq(input.constellation, 2,\r\n  equal(\"c2p\", condC2P, datamine.constellation2.elemas)\r\n)\r\nconst c2PEleMas = equal(input.activeCharKey, target.charKey, // Apply to active character\r\n  unequal(target.charKey, key, c2PEleMasDisp) // But not to Kazuha\r\n)\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6infusion = greaterEqStr(input.constellation, 6,\r\n  equalStr(\"c6\", condC6, \"anemo\"))\r\nconst c6Dmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, prod(percent(datamine.constellation6.auto_), input.premod.eleMas))\r\n)\r\n// Share `match` and `prod` between the three nodes\r\nconst c6NormDmg_ = { ...c6Dmg_ }\r\nconst c6ChargedDmg_ = { ...c6Dmg_ }\r\nconst c6PlungingDmg_ = { ...c6Dmg_ }\r\n\r\nconst passive = percent(0.2)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    pdmg: dmgNode(\"atk\", datamine.plunging.dmg, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    plow: dmgNode(\"atk\", datamine.plunging.low, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    phigh: dmgNode(\"atk\", datamine.plunging.high, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condBurstAbsorption, key, dmgNode(\"atk\", datamine.burst.add, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n  passive1: Object.fromEntries(absorbableEle.map(key =>\r\n    [key, equal(condSkillAbsorption, key, customDmgNode(prod(input.total.atk, datamine.passive1.asorbAdd), \"plunging\", { hit: { ele: constant(key) } }))])),\r\n  constellation6: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      ...asc4,\r\n      staminaSprintDec_: passive,\r\n    },\r\n    total: {\r\n      eleMas: c2PEleMas,\r\n    },\r\n  },\r\n  infusion: {\r\n    overridableSelf: c6infusion,\r\n  },\r\n  premod: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  },\r\n  total: {\r\n    eleMas: c2EleMas,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 3 ? 0 : -1)}` }),\r\n            textSuffix: i === 2 ? \"(1)\" : i === 3 ? \"(2)\" : i === 5 ? st(\"brHits\", { count: 3 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? `${datamine.skill.cd} - 10% = ${datamine.skill.cd * (1 - 0.10)}`\r\n          : `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        text: st(\"holdCD\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? `${datamine.skill.cdHold} - 10% = ${datamine.skill.cdHold * (1 - 0.10)}`\r\n          : `${datamine.skill.cdHold}`,\r\n        unit: \"s\"\r\n      }], undefined, [\r\n        {\r\n          ...sectionTemplate(\"skill\", tr, skill, [{\r\n            node: infoMut(dmgFormulas.skill.pdmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.plow, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.phigh, { key: \"sheet_gen:plunging.high\" }),\r\n          }]),\r\n          fieldsHeader: { ...conditionalHeader(\"skill\", tr, skill), title: trm(\"skillPlunge\") }\r\n        },\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          node: infoMut(greaterEq(input.constellation, 1, percent(0.1)), { key: \"skillCDRed_\" })\r\n        }, {\r\n          text: trm(\"c1\"),\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], { // Burst absorption\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        header: conditionalHeader(\"burst\", tr, burst),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.2` }),\r\n          }]\r\n        }]))\r\n      }, [\r\n        sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n          canShow: greaterEq(input.constellation, 2, 1),\r\n          value: condC2,\r\n          path: condC2Path,\r\n          name: trm(\"c2\"),\r\n          header: conditionalHeader(\"constellation2\", tr, c2),\r\n          states: {\r\n            c2: {\r\n              fields: [{\r\n                node: c2EleMas\r\n              }]\r\n            }\r\n          }\r\n        }), sectionTemplate(\"constellation2\", tr, c2, undefined, { // C2 Party\r\n          canShow: greaterEq(input.constellation, 2, unequal(input.activeCharKey, key, 1)),\r\n          value: condC2P,\r\n          path: condC2PPath,\r\n          teamBuff: true,\r\n          description: tr(\"constellation2.description\"),\r\n          name: st(\"activeCharField\"),\r\n          header: conditionalHeader(\"constellation2\", tr, c2),\r\n          states: {\r\n            c2p: {\r\n              fields: [{\r\n                node: infoMut(c2PEleMasDisp, { key: \"eleMas\" })\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        // Skill Absorption\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.passive1[eleKey], { key: `sheet_gen:addEleDMG` }),\r\n          }]\r\n        }]))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, undefined, absorbableEle.map(eleKey =>\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, { // Poetics of Fuubutsu\r\n          value: condSwirls[eleKey],\r\n          path: condSwirlPaths[eleKey],\r\n          teamBuff: true,\r\n          // Only show the description once. Can't be truly blank or it will be filled in with a default.\r\n          description: eleKey === \"hydro\" ? tr(\"passive2.description\") : \" \",\r\n          name: trm(`a4.name_${eleKey}`),\r\n          header: conditionalHeader(\"passive2\", tr, passive2),\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          states: {\r\n            swirl: {\r\n              fields: [{\r\n                node: asc4[`${eleKey}_dmg_`]\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive2.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      )),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, undefined, undefined, [\r\n        sectionTemplate(\"passive3\", tr, passive3, [{\r\n          node: passive\r\n        }], undefined, undefined, true, true),\r\n      ]),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        // Crimson Momiji\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6.after\"),\r\n        states: {\r\n          c6: {\r\n            fields: [\r\n              // { // TODO:\r\n              //   node: c6infusion\r\n              // },\r\n              {\r\n                canShow: data => data.get(c6infusion).value === elementKey,\r\n                text: <ColorText color={elementKey}>{st(\"infusion.anemo\")}</ColorText>\r\n              }, {\r\n                node: c6NormDmg_\r\n              }, {\r\n                node: c6ChargedDmg_\r\n              }, {\r\n                node: c6PlungingDmg_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation6.duration,\r\n                unit: \"s\",\r\n              }]\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNode, shieldElement, shieldNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Kaeya\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst region:Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: { \r\n    healAtk_: .15,\r\n  },\r\n  constellation1: {\r\n    critRate_: .15,\r\n  },\r\n  constellation4: {\r\n    shieldHp_: 0.30,\r\n    duration: 20,\r\n    cooldown: 60,\r\n  },\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    heal: healNode(\"atk\", percent(datamine.passive2.healAtk_), 0),\r\n  },\r\n  constellation4: {\r\n    cryoShield: shieldElement(\"cryo\", shieldNode(\"hp\", percent(datamine.constellation4.shieldHp_), 0)),\r\n    shield: shieldNode(\"hp\", percent(datamine.constellation4.shieldHp_), 0),\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\n//Conditional C1: Oppo affected by Cryo\r\nconst [condC1Path, condC1Cryo] = cond(key, \"CryoC1\")\r\nconst nodeC1NormalCritRate = equal(condC1Cryo, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.critRate_))\r\nconst nodeC1ChargeCritRate = equal(condC1Cryo, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.critRate_))\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }, premod: {\r\n    normal_critRate_: nodeC1NormalCritRate,\r\n    charged_critRate_: nodeC1ChargeCritRate,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        { node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }), }, \r\n        {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }, \r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 2,\r\n          text: trm(\"c2burstDuration\"),\r\n        }\r\n      ],\r\n      ),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [\r\n        { \r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          node: infoMut(dmgFormulas.passive1.heal, { key: `char_${key}:p1heal`, variant:\"success\" }), \r\n        },\r\n      ]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, []),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, []),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [], {\r\n        value: condC1Cryo,\r\n        path: condC1Path,\r\n        name: trm(\"c1cond\"),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        teamBuff: false,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1NormalCritRate\r\n            }, {\r\n              node: nodeC1ChargeCritRate\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, []),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        node: infoMut(dmgFormulas.constellation4.cryoShield, { key: `char_${key}:c4shield` }),\r\n      }, {\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        node: infoMut(dmgFormulas.constellation4.shield, { key: `char_${key}:c4shield` }),\r\n      }, {\r\n        //Duration\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.constellation4.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        //Cooldown\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: datamine.constellation4.cooldown,\r\n        unit: \"s\"\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, sprint, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KamisatoAyaka\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x3\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1x3\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    cutDmg: skillParam_gen.burst[b++],\r\n    bloomDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n    duration: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    dmg_bonus: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    stamina: skillParam_gen.passive2[p2++][0],\r\n    cryo: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    snowflake: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_red: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    cd: skillParam_gen.constellation6[0],\r\n    charged_bonus: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condAfterSprintPath, condAfterSprint] = cond(key, \"afterSprint\")\r\nconst afterSprintInfusion = equalStr(\"afterSprint\", condAfterSprint, elementKey)\r\n\r\nconst [condAfterSkillA1Path, condAfterSkillA1] = cond(key, \"afterSkillA1\")\r\nconst a1NormDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus))\r\nconst a1ChargedDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus), { key: \"charged_dmg_\" })\r\n\r\nconst [condAfterApplySprintPath, condAfterApplySprint] = cond(key, \"afterApplySprint\")\r\nconst afterApplySprintCryo = equal(\"afterApplySprint\", condAfterApplySprint, percent(datamine.passive2.cryo))\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condAfterBurst, datamine.constellation4.def_red))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst c6ChargedDmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, datamine.constellation6.charged_bonus), { key: `charged_dmg_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    cutting: dmgNode(\"atk\", datamine.burst.cutDmg, \"burst\"),\r\n    bloom: dmgNode(\"atk\", datamine.burst.bloomDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, customDmgNode(prod(\r\n      subscript(input.total.burstIndex, datamine.burst.cutDmg, { key: \"_\" }),\r\n      percent(datamine.constellation2.snowflake),\r\n      input.total.atk,\r\n    ), \"burst\", { hit: { ele: constant(elementKey) } })),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: afterBurst\r\n    }\r\n  },\r\n  infusion: {\r\n    overridableSelf: afterSprintInfusion,\r\n  },\r\n  premod: {\r\n    normal_dmg_: a1NormDmg_,\r\n    charged_dmg_: sum(a1ChargedDmg_, c6ChargedDmg_),\r\n    cryo_dmg_: afterApplySprintCryo,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 3 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: st(\"brHits\", { count: 3 })\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }], {\r\n        // A1 - After using Kamisato Art: Hyouka\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condAfterSkillA1,\r\n        path: condAfterSkillA1Path,\r\n        name: trm(\"afterSkill\"),\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        states: {\r\n          afterSkill: {\r\n            fields: [{\r\n              node: a1NormDmg_,\r\n            }, {\r\n              node: a1ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.cutting, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.bloom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        // C4 - Hit by burst\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: trm(\"dmgBySnowflake\"),\r\n        header: conditionalHeader(\"constellation4\", tr, c4),\r\n        description: st(\"constellation4.description\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: afterBurst\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: \"6s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sprint: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"sprint.name\"),\r\n        img: sprint,\r\n        sections: [{\r\n          text: tr(\"sprint.description\"),\r\n          fields: [{\r\n            text: \"Activation Stamina Consumption\",\r\n            value: datamine.sprint.active_stam,\r\n          }, {\r\n            text: \"Stamina Drain\",\r\n            value: datamine.sprint.drain_stam,\r\n            unit: \"/s\",\r\n          }],\r\n          conditional: { //sprint\r\n            value: condAfterSprint,\r\n            path: condAfterSprintPath,\r\n            name: trm(\"afterSprint\"),\r\n            header: conditionalHeader(\"sprint\", tr, sprint),\r\n            states: {\r\n              afterSprint: {\r\n                fields: [{\r\n                  canShow: data => data.get(afterSprintInfusion).value === elementKey,\r\n                  text: <ColorText color=\"cryo\">{st(\"infusion.cryo\")}</ColorText>\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.sprint.duration,\r\n                  unit: \"s\",\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          conditional: {\r\n            // A4 - After sprint hit\r\n            canShow: greaterEq(input.asc, 4, 1),\r\n            value: condAfterApplySprint,\r\n            path: condAfterApplySprintPath,\r\n            name: trm(\"afterSprintCryo\"),\r\n            header: conditionalHeader(\"passive2\", tr, passive2),\r\n            states: {\r\n              afterApplySprint: {\r\n                fields: [{\r\n                  text: trm(\"staminaRestore\"),\r\n                  value: datamine.passive2.stamina,\r\n                }, {\r\n                  node: afterApplySprintCryo\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.passive2.duration,\r\n                  unit: \"s\",\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:snowflakeDMG` }),\r\n      },]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6Active\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.constellation6.cd,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      }\r\n      ),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"KamisatoAyato\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmgArr:[\r\n      skillParam_gen.skill[s++],\r\n      skillParam_gen.skill[s++],\r\n      skillParam_gen.skill[s++],\r\n    ],\r\n    stateDuration: skillParam_gen.skill[s++][0],\r\n    stackHpDmgInc: skillParam_gen.skill[s++],\r\n    maxStacks: 4,\r\n    illusionDmg: skillParam_gen.skill[s++],\r\n    illusionDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    normal_dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    stacksGained: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    enerThres_: skillParam_gen.passive2[0][0],\r\n    cd: skillParam_gen.passive2[1][0],\r\n    energyRestore: skillParam_gen.passive2[2][0]\r\n  },\r\n  constellation1: {\r\n    oppHpThres_: skillParam_gen.constellation1[0],\r\n    shunDmg_: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    extraStacks: skillParam_gen.constellation2[0],\r\n    stackThresh: 3,\r\n    hp_: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    atkSPD: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    extraStrikes: 2,\r\n    dmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condInSkillPath, condInSkill] = cond(key, \"inSkill\")\r\n\r\nconst [condSkillStacksPath, condSkillStacks] = cond(key, \"skillStacks\")\r\nconst skillStacks_dmgInc = equal(condInSkill, \"on\",\r\n  lookup(condSkillStacks, Object.fromEntries(range(1, 5).map(stacks => [\r\n    stacks,\r\n    prod(\r\n      stacks,\r\n      subscript(input.total.skillIndex, datamine.skill.stackHpDmgInc, { key: \"_\" }),\r\n      input.total.hp,\r\n    )\r\n  ])), naught)\r\n)\r\n\r\nconst [condBurstInAreaPath, condBurstInArea] = cond(key, \"burstInArea\")\r\nconst burst_normal_dmg_Disp = equal(condBurstInArea, \"on\",\r\n  subscript(input.total.burstIndex, datamine.burst.normal_dmg_)\r\n)\r\nconst burst_normal_dmg_ = equal(input.activeCharKey, target.charKey, burst_normal_dmg_Disp)\r\n\r\nconst [condC1OppHpPath, condC1OppHp] = cond(key, \"c1OppHp\")\r\nconst c1Shun_dmg_ = greaterEq(input.constellation, 1, equal(condC1OppHp, \"on\", datamine.constellation1.shunDmg_))\r\n\r\n// Not sure what \"Max HP increased by 50%\" means\r\nconst c2_hp_ = greaterEq(input.constellation, 2, equal(condInSkill, \"on\",\r\n  lookup(condSkillStacks, Object.fromEntries(range(datamine.constellation2.stackThresh, 5).map(stacks => [\r\n    stacks,\r\n    percent(datamine.constellation2.hp_)\r\n  ])), naught)\r\n))\r\n\r\nconst [condC4AfterBurstPath, condC4AfterBurst] = cond(key, \"c4AfterBurst\")\r\nconst c4_atkSPD_ = greaterEq(input.constellation, 4, equal(condC4AfterBurst, \"on\", datamine.constellation4.atkSPD))\r\n\r\nconst shunAddl: Data = {\r\n  hit: {\r\n    ele: constant(elementKey)\r\n  },\r\n  premod: {\r\n    normal_dmgInc: skillStacks_dmgInc,\r\n    normal_dmg_: c1Shun_dmg_\r\n  }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    ...Object.fromEntries(datamine.skill.dmgArr.map((arr, i) =>\r\n      [`dmg${i}`, equal(condInSkill, \"on\", customDmgNode(prod(\r\n      subscript(input.total.skillIndex, arr, { key: \"_\" }),\r\n      input.total.atk,\r\n    ), \"normal\", shunAddl))])),\r\n    illusionDmg: dmgNode(\"atk\", datamine.skill.illusionDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  constellation6: {\r\n    // Not sure if this benefits from C1 or not\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(prod(percent(datamine.constellation6.dmg), input.total.atk), \"normal\", { hit: { ele: constant(elementKey) }, premod: { normal_dmg_: c1Shun_dmg_ } }))\r\n  }\r\n}\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmg_: burst_normal_dmg_,\r\n      atkSPD_: c4_atkSPD_,\r\n    }\r\n  },\r\n  premod: {\r\n    hp_: c2_hp_,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.illusionDmg, { key: `char_${key}_gen:skill.skillParams.5` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.6\"),\r\n        value: datamine.skill.illusionDuration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }], {\r\n        value: condInSkill,\r\n        path: condInSkillPath,\r\n        name: st(\"afterUse.skill\"),\r\n        states: {\r\n          on: {\r\n            fields: [\r\n            ...datamine.skill.dmgArr.map((_, i) => ({\r\n              node: infoMut(dmgFormulas.skill[`dmg${i}`], { key: `char_${key}_gen:skill.skillParams.${i}` })\r\n            })), {\r\n              text: st(\"incInterRes\"),\r\n            }, {\r\n              text: trm(\"skill.unableToAuto\"),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.skill.stateDuration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"skill\", tr, skill, undefined, {\r\n          value: condSkillStacks,\r\n          path: condSkillStacksPath,\r\n          name: trm(\"skill.namisenStacks\"),\r\n          canShow: equal(condInSkill, \"on\", 1),\r\n          states: Object.fromEntries(range(1, 5).map(stacks => [\r\n            stacks, {\r\n              name: st(\"stack\", { count: stacks }),\r\n              fields: [{\r\n                node: infoMut(skillStacks_dmgInc, { key: `char_${key}:skill.shun_dmgInc` })\r\n              }, {\r\n                text: st(\"maxStacks\"),\r\n                value: data => data.get(input.constellation).value >= 2\r\n                  ? datamine.skill.maxStacks + datamine.constellation2.extraStacks\r\n                  : datamine.skill.maxStacks\r\n              }]\r\n            }\r\n          ]))\r\n        }),\r\n        sectionTemplate(\"passive1\", tr, passive1, [{\r\n          text: trm(\"passive1.afterUse\"),\r\n          value: datamine.passive1.stacksGained,\r\n        }, {\r\n          text: trm(\"passive1.afterExplode\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? datamine.skill.maxStacks + datamine.constellation2.extraStacks\r\n            : datamine.skill.maxStacks\r\n        }], undefined, data => data.get(input.asc).value >= 1 && data.get(condInSkill).value === \"on\",\r\n        false, true),\r\n        sectionTemplate(\"constellation1\", tr, c1, undefined, {\r\n          value: condC1OppHp,\r\n          path: condC1OppHpPath,\r\n          name: st(\"enemyLessEqPercentHP\", { percent: datamine.constellation1.oppHpThres_ * 100 }),\r\n          canShow: greaterEq(input.constellation, 1, equal(condInSkill, \"on\", 1)),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: infoMut(c1Shun_dmg_, { key: `char_${key}:c1.shun_dmg_` }),\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation2\", tr, c2, [{\r\n          text: trm(\"c2.addlStacks\"),\r\n          value: datamine.constellation2.extraStacks,\r\n        }, {\r\n          canShow: data => data.get(c2_hp_).value !== 0,\r\n          node: c2_hp_,\r\n        }], undefined, data => data.get(input.constellation).value >= 2, false, true),\r\n        sectionTemplate(\"constellation6\", tr, c6, [{\r\n          node: infoMut(dmgFormulas.constellation6.dmg, { key: `char_${key}:c6.dmg` }),\r\n          textSuffix: st(\"brHits\", { count: datamine.constellation6.extraStrikes })\r\n        }], undefined, data => data.get(input.constellation).value >= 6 && data.get(condInSkill).value === \"on\",\r\n        false, true),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condBurstInArea,\r\n        path: condBurstInAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(burst_normal_dmg_Disp, { key: \"normal_dmg_\" })\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          value: condC4AfterBurst,\r\n          path: condC4AfterBurstPath,\r\n          name: st(\"afterUse.burst\"),\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          teamBuff: true,\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: c4_atkSPD_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation4.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: skillC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: burstC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, lookup, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Keqing\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stiletto: skillParam_gen.skill[s++],\r\n    slash: skillParam_gen.skill[s++],\r\n    thunderclap: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    initial: skillParam_gen.burst[b++],\r\n    slash: skillParam_gen.burst[b++],\r\n    final: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    critInc_: skillParam_gen.passive2[p2++][0],\r\n    enerRechInc_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    duration: skillParam_gen.constellation4[0],\r\n    atkInc: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    electroInc: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stiletto: dmgNode(\"atk\", datamine.skill.stiletto, \"skill\"),\r\n    slash: dmgNode(\"atk\", datamine.skill.slash, \"skill\"),\r\n    thunderclap: dmgNode(\"atk\", datamine.skill.thunderclap, \"skill\"),\r\n  },\r\n  burst: {\r\n    initial: dmgNode(\"atk\", datamine.burst.initial, \"burst\"),\r\n    slash: dmgNode(\"atk\", datamine.burst.slash, \"burst\"),\r\n    final: dmgNode(\"atk\", datamine.burst.final, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.atk, datamine.constellation1.dmg), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condAfterRecastPath, condAfterRecast] = cond(key, \"afterRecast\")\r\nconst afterRecastInfusion = equalStr(\"afterRecast\", condAfterRecast,\r\n  greaterEqStr(input.asc, 1, elementKey)\r\n)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurstCritRate_ = greaterEq(input.asc, 4, equal(\"afterBurst\", condAfterBurst, percent(datamine.passive2.critInc_)))\r\nconst afterBurstEnerRech_ = { ...afterBurstCritRate_ }\r\n\r\nconst [condAfterReactPath, condAfterReact] = cond(key, \"afterReact\")\r\nconst afterReactAtk_ = greaterEq(input.constellation, 4, equal(\"afterReact\", condAfterReact, percent(datamine.constellation4.atkInc)))\r\n\r\nconst [condC6StackPath, condC6Stack] = cond(key, \"c6Stack\")\r\nconst c6Electro_dmg_ = greaterEq(input.constellation, 6,\r\n  prod(\r\n    lookup(condC6Stack, objectKeyMap(range(1, 4), i => constant(i)), constant(0)),\r\n    datamine.constellation6.electroInc\r\n  )\r\n)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  infusion: {\r\n    overridableSelf: afterRecastInfusion,\r\n  },\r\n  premod: {\r\n    critRate_: afterBurstCritRate_,\r\n    enerRech_: afterBurstEnerRech_,\r\n    atk_: afterReactAtk_,\r\n    electro_dmg_: c6Electro_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i],\r\n              { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }\r\n            ),\r\n            textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.stiletto, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.slash, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.thunderclap, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }], { // Recast (A1)\r\n        value: condAfterRecast,\r\n        path: condAfterRecastPath,\r\n        name: trm(\"recast\"),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        states: {\r\n          afterRecast: {\r\n            fields: [{\r\n              canShow: data => data.get(afterRecastInfusion).value === elementKey,\r\n              text: <ColorText color=\"electro\">{st(\"infusion.electro\")}</ColorText>\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.initial, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.slash, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: st(\"brHits\", { count: 8 })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.final, { key: `char_${key}_gen:burst.skillParams.2` })\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.cost,\r\n      }], { // Cast (A4)\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        header: conditionalHeader(\"passive2\", tr, passive2),\r\n        states: {\r\n          afterBurst: {\r\n            fields: [{\r\n              node: afterBurstCritRate_\r\n            }, {\r\n              node: afterBurstEnerRech_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:c1DMG` })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condAfterReact,\r\n        path: condAfterReactPath,\r\n        name: trm(\"electroReact\"),\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        states: {\r\n          afterReact: {\r\n            fields: [{\r\n              node: afterReactAtk_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6Stack,\r\n        path: condC6StackPath,\r\n        name: trm(\"effectTriggers\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        states: objectKeyMap(range(1, 4), i => ({\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: c6Electro_dmg_\r\n          }]\r\n        }))\r\n      }),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Klee\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    jumptyDumptyDmg1: skillParam_gen.skill[s++],\r\n    jumptyDumptyDmg2: skillParam_gen.skill[s++],\r\n    jumptyDumptyDmg3: skillParam_gen.skill[s++],\r\n    mineDmg: skillParam_gen.skill[s++],\r\n    mineDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    unknown: skillParam_gen.burst[b++], // what is this??\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    charged_dmg_: 0.5\r\n  },\r\n  constellation1: {\r\n    dmg_: 1.2\r\n  },\r\n  constellation2: {\r\n    enemyDefRed_: 0.23\r\n  },\r\n  constellation4: {\r\n    dmg: 5.55\r\n  },\r\n  constellation6: {\r\n    pyro_dmg_: 0.1\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"PoundingSurprise\")\r\nconst charged_dmg_ = equal(\"on\", condA1, greaterEq(input.asc, 1, percent(datamine.passive1.charged_dmg_)))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"ExplosiveFrags\")\r\nconst enemyDefRed_ = equal(\"on\", condC2, greaterEq(input.constellation, 2, percent(datamine.constellation2.enemyDefRed_)))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"BlazingDelight\")\r\nconst pyro_dmg_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.pyro_dmg_)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    jumptyDumptyDmg: dmgNode(\"atk\", datamine.skill.jumptyDumptyDmg1, \"skill\"),\r\n    mineDmg: dmgNode(\"atk\", datamine.skill.mineDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    chainedReactionsDmg: greaterEq(input.constellation, 1, prod(percent(datamine.constellation1.dmg_), dmgNode(\"atk\", datamine.burst.dmg, \"burst\")))\r\n  },\r\n  constellation4: {\r\n    sparklyExplosionDmg: greaterEq(input.constellation, 4, customDmgNode(prod(percent(datamine.constellation4.dmg), input.total.atk), \"elemental\", { hit: { ele: constant('pyro') } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_,\r\n      enemyDefRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` })\r\n            }, {\r\n              text: tr(\"auto.skillParams.4\"),\r\n              value: datamine.charged.stamina\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" })\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" })\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" })\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.jumptyDumptyDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.mineDmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.mineDuration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: `${datamine.burst.duration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerCost}`\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        name: trm(\"a1CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: charged_dmg_\r\n            }, {\r\n              text: trm(\"a1CondName2\")\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.chainedReactionsDmg, { key: `sheet:dmg` }),\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        teamBuff: true,\r\n        name: trm(\"c2CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: enemyDefRed_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 10,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        node: infoMut(dmgFormulas.constellation4.sparklyExplosionDmg, { key: `sheet:dmg` })\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        teamBuff: true,\r\n        name: trm(\"c6CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 25,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"KujouSara\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    fullyAimed: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    atkBonus: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    titanBreakerDmg: skillParam_gen.burst[b++],\r\n    stormClusterDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    er: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation2: {\r\n    crowfeatherDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    atkInc: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condSkillTenguAmbushPath, condSkillTenguAmbush] = cond(key, \"TenguJuuraiAmbush\")\r\nconst atkIncRatio = subscript(input.total.skillIndex, datamine.skill.atkBonus.map(x => x), { key: '_' })\r\nconst skillTenguAmbush_disp = equal(\"TenguJuuraiAmbush\", condSkillTenguAmbush,\r\n  prod(input.base.atk, atkIncRatio)\r\n)\r\nconst skillTenguAmbush_ = equal(input.activeCharKey, target.charKey, skillTenguAmbush_disp)\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6ElectroCritDmg_ = equal(\"c6\", condC6, percent(datamine.constellation6.atkInc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fullyAimed: dmgNode(\"atk\", datamine.charged.fullyAimed, \"charged\", { hit: { ele: constant('electro') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    skillTenguAmbush_\r\n  },\r\n  burst: {\r\n    titanbreaker: dmgNode(\"atk\", datamine.burst.titanBreakerDmg, \"burst\"),\r\n    stormcluster: dmgNode(\"atk\", datamine.burst.stormClusterDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.constellation2.crowfeatherDmg))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_critDMG_: c6ElectroCritDmg_\r\n    },\r\n    total: {\r\n      atk: skillTenguAmbush_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.fullyAimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.duration}s`,\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}s`,\r\n      }], {\r\n        value: condSkillTenguAmbush,\r\n        path: condSkillTenguAmbushPath,\r\n        name: trm(\"skill.ambush\"),\r\n        teamBuff: true,\r\n        states: {\r\n          TenguJuuraiAmbush: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: data => data.get(atkIncRatio).value * 100,\r\n              unit: \"%\",\r\n            }, {\r\n              node: infoMut(skillTenguAmbush_disp, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.titanbreaker, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.stormcluster, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.cd}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: data => data.get(input.asc).value >= 4,\r\n        text: trm(\"a4.enerRest\"),\r\n        value: data => data.get(input.total.enerRech_).value * datamine.passive2.energyGen\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"c6.electroCritDmg\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ElectroCritDmg_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Lisa\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stack0: skillParam_gen.skill[s++],\r\n    stack1: skillParam_gen.skill[s++],\r\n    stack2: skillParam_gen.skill[s++],\r\n    stack3: skillParam_gen.skill[s++],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n    press: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    tick: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    unknown: skillParam_gen.passive1[0][0] // I have no idea what this is\r\n  },\r\n  passive2: {\r\n    defShred: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0]\r\n  }\r\n} as const\r\n\r\nconst [condA4Path, condA4] = cond(key, \"LisaA4\")\r\nconst [condC2Path, condC2] = cond(key, \"LisaC2\")\r\n\r\nconst nodeA4DefShred = equal(condA4, \"on\", greaterEq(input.asc, 1, datamine.passive2.defShred))\r\nconst nodeC2DefIncrease = equal(condC2, \"on\", greaterEq(input.constellation, 2, constant(0.25))) // Doesn't exist in skillParam_gen\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    stack0: dmgNode(\"atk\", datamine.skill.stack0, \"skill\"),\r\n    stack1: dmgNode(\"atk\", datamine.skill.stack1, \"skill\"),\r\n    stack2: dmgNode(\"atk\", datamine.skill.stack2, \"skill\"),\r\n    stack3: dmgNode(\"atk\", datamine.skill.stack3, \"skill\"),\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    tick: dmgNode(\"atk\", datamine.burst.tick, \"burst\")\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    def_: nodeC2DefIncrease,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: nodeA4DefShred\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.5\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        {\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        },\r\n        ...range(0, 3).map(i => ({\r\n          node: infoMut(dmgFormulas.skill[`stack${i}`], { key: `char_${key}_gen:skill.skillParams.${2 + i}` })\r\n        })), {\r\n          text: sgt(\"press.cd\"),\r\n          value: datamine.skill.pressCD,\r\n          unit: 's'\r\n        }, {\r\n          text: sgt(\"hold.cd\"),\r\n          value: datamine.skill.holdCD,\r\n          unit: 's'\r\n        }\r\n      ]),\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.tick, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.1\"),\r\n            value: datamine.burst.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.cost,\r\n          }]\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        name: trm(\"a4C\"),\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        header: conditionalHeader(\"passive2\", tr, passive2),\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA4DefShred\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2C\"),\r\n        header: conditionalHeader(\"constellation2\", tr, c2),\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2DefIncrease\r\n            }, {\r\n              text: st(\"incInterRes\")\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, sprint, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Mona\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dot: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    bubbleDuration: skillParam_gen.burst[b++][0],\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgBonusNeg: skillParam_gen.burst[b++],\r\n    omenDuration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    torrentDuration: skillParam_gen.passive1[p1++][0],\r\n    phantomDuration: skillParam_gen.passive1[p1++][0],\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    unknown: skillParam_gen.passive2[p2++][0], // what is this?\r\n    percentage: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    electroChargeDmgInc: skillParam_gen.constellation1[0],\r\n    vaporizeDmgInc: skillParam_gen.constellation1[1],\r\n    hydroSwirlDmgInc: skillParam_gen.constellation1[2],\r\n    frozenExtension: skillParam_gen.constellation1[3],\r\n    unknown: skillParam_gen.constellation1[4], // what is this?\r\n    duration: skillParam_gen.constellation1[5],\r\n  },\r\n  constellation4: {\r\n    critRateIncNeg: Math.abs(skillParam_gen.constellation4[0]), // why do they even keep this as a negative??\r\n  },\r\n  constellation6: {\r\n    unknown: skillParam_gen.constellation6[0], // what is this?\r\n    dmgBonus: skillParam_gen.constellation6[1],\r\n    maxDmgBonus: skillParam_gen.constellation6[2],\r\n    duration: skillParam_gen.constellation6[3],\r\n  }\r\n} as const\r\n\r\nconst hydro_dmg_ = greaterEq(input.asc, 4, prod(input.premod.enerRech_, percent(datamine.passive2.percentage)))\r\n\r\nconst [condOmenPath, condOmen] = cond(key, \"Omen\")\r\nconst all_dmg_ = equal(\"on\", condOmen, subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" }))\r\n\r\nconst [condPoSPath, condPoS] = cond(key, \"ProphecyOfSubmersion\")\r\nconst electrocharged_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.electroChargeDmgInc)))\r\nconst swirl_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.hydroSwirlDmgInc)))\r\nconst vaporize_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.vaporizeDmgInc)))\r\n\r\nconst [condPoOPath, condPoO] = cond(key, \"ProphecyOfOblivion\")\r\nconst critRate_ = greaterEq(input.constellation, 4, equal(\"on\", condPoO, percent(datamine.constellation4.critRateIncNeg)))\r\n\r\nconst [condRoCPath, condRoC] = cond(key, \"RhetoricsOfCalamitas\")\r\nconst charged_dmg_ = greaterEq(input.constellation, 6, lookup(condRoC, objectKeyMap(range(1, 3), i => percent(i * datamine.constellation6.dmgBonus)), 0))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dot: dmgNode(\"atk\", datamine.skill.dot, \"skill\"),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\")\r\n  },\r\n  passive1: {\r\n    dmg: prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.passive1.percentage))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    charged_dmg_,\r\n    hydro_dmg_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      all_dmg_,\r\n      electrocharged_dmg_,\r\n      swirl_dmg_,\r\n      vaporize_dmg_,\r\n      critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` })\r\n          }, {\r\n            text: tr(\"auto.skillParams.5\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dot, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: trm(\"bubbleDuration\"),\r\n        value: datamine.burst.bubbleDuration,\r\n        unit: \"s\",\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condOmen,\r\n        path: condOmenPath,\r\n        teamBuff: true,\r\n        name: trm(\"omen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: all_dmg_,\r\n            }, {\r\n              text: trm(\"omenDuration\"),\r\n              value: (data) => datamine.burst.omenDuration[data.get(input.total.burstIndex).value],\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sprint: talentTemplate(\"sprint\", tr, sprint, [{\r\n        text: \"Activation Stamina Consumption\",\r\n        value: datamine.sprint.active_stam,\r\n      }, {\r\n        text: \"Stamina Drain\",\r\n        value: datamine.sprint.drain_stam,\r\n        unit: \"/s\",\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        text: trm(\"phantomDuration\"),\r\n        value: datamine.passive1.phantomDuration,\r\n        unit: \"s\"\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: hydro_dmg_\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condPoS,\r\n        path: condPoSPath,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: electrocharged_dmg_,\r\n            }, {\r\n              node: swirl_dmg_,\r\n            }, {\r\n              node: vaporize_dmg_,\r\n            }, {\r\n              text: trm(\"frozenDuration\"),\r\n              value: datamine.constellation1.frozenExtension * 100, // Convert to percentage\r\n              unit: \"%\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condPoO,\r\n        path: condPoOPath,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRate_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condRoC,\r\n        path: condRoCPath,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"uponSprint\"),\r\n        states: Object.fromEntries(range(1, 3).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [\r\n            { node: charged_dmg_ },\r\n            {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }]\r\n        }]))\r\n      })\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Ningguang\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    jadeDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    screenHpMod: skillParam_gen.skill[s++], // 100% + skillParam_gen.skill[s++] * 100\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    screenHp: skillParam_gen.skill[s++], //screenHp * 100%\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgPerGem: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: { \r\n    //Nothing\r\n  },\r\n  passive2: {\r\n    geoDmgBonus_ : skillParam_gen.passive2[p1++][0],\r\n    duration: skillParam_gen.passive2[p1++][0],\r\n  },\r\n  passive3: {\r\n    //Nothing\r\n  },\r\n  constellation1: {\r\n    //Nothing\r\n  },\r\n  constellation2: {\r\n    //Nothing\r\n  },\r\n  constellation4: {\r\n    //Nothing\r\n  },\r\n  constellation6: {\r\n    //Nothing\r\n  },\r\n} as const\r\n\r\nconst [condA4Path, condA4] = cond(key, \"Ascension4\") //12% Geo DMG bonus after passing through the Jade Screen\r\nconst [condC4Path, condC4] = cond(key, \"Constellation4\")\r\n\r\nconst nodeA4GeoDmgBonus_ = equal(condA4, \"on\", percent(datamine.passive2.geoDmgBonus_), { key: `char_${key}:a4bonus_` })\r\n\r\nconst nodeC4CryoResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4GeoResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4PyroResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4AnemoResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4HydroResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4ElecResBonus_ = equal(condC4, \"on\", percent(0.10))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    baseDmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n    jadeDmg: dmgNode(\"atk\", datamine.charged.jadeDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    screenHp: prod(subscript(input.total.skillIndex, datamine.skill.screenHp, { key: '_' }), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.skillDmg, \"skill\"),    \r\n  },\r\n  burst: {\r\n    gemDmg: dmgNode(\"atk\", datamine.burst.dmgPerGem, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, teamBuff: {\r\n    premod: {\r\n      geo_dmg_  :nodeA4GeoDmgBonus_,\r\n      geo_res_  :nodeC4GeoResBonus_,\r\n      cryo_res_ :nodeC4CryoResBonus_,\r\n      pyro_res_ :nodeC4PyroResBonus_,\r\n      anemo_res_:nodeC4AnemoResBonus_,\r\n      hydro_res_:nodeC4HydroResBonus_,\r\n      electro_res_ :nodeC4ElecResBonus_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: [\r\n            { node: infoMut(dmgFormulas.normal[0], { key: `char_${key}_gen:auto.skillParams.0` }) } ,\r\n            {\r\n              canShow: data => data.get(input.constellation).value >= 1,\r\n              text: trm(\"aoeGems\"),\r\n            }]\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.baseDmg, { key: `char_${key}_gen:auto.skillParams.1` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.jadeDmg, { key: `char_${key}_gen:auto.skillParams.2` }),\r\n          }, {\r\n            canShow: data => data.get(input.asc).value < 1,\r\n            text: tr(\"auto.skillParams.3\"),\r\n            value: datamine.charged.stamina,\r\n          }, {\r\n            canShow: data => data.get(input.asc).value >= 1,\r\n            text: tr(\"auto.skillParams.3\"),\r\n            value: trm(\"starJadeStaminaCost\"),\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple conditionals.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [\r\n            { node: infoMut(dmgFormulas.skill.screenHp, { key: `char_${key}_gen:skill.skillParams.0` }), }, \r\n            { node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }), }, \r\n            {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: datamine.burst.cd,\r\n              unit: \"s\"\r\n            } ,\r\n            {\r\n              canShow: data => data.get(input.constellation).value >= 2,\r\n              text: trm(\"skillReset\"),\r\n            }\r\n          ],\r\n        }, {\r\n          conditional: {\r\n            teamBuff: true,\r\n            value: condA4,\r\n            path: condA4Path,\r\n            name: trm(\"a4toggle\"),\r\n            canShow: greaterEq(input.asc, 4, 1),\r\n            header: conditionalHeader(\"passive2\", tr, passive2), description: tr(`passive2.description`),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  node: nodeA4GeoDmgBonus_\r\n                }, {\r\n                  text: trm(\"a4duration\"),\r\n                  value: datamine.passive2.duration,\r\n                  unit: \"s\"\r\n                }]\r\n              }\r\n            }\r\n          } \r\n        }, {\r\n          conditional: {\r\n            teamBuff: true,\r\n            value: condC4,\r\n            path: condC4Path,\r\n            name: trm(\"c4toggle\"),\r\n            canShow: greaterEq(input.constellation, 4, 1),\r\n            header: conditionalHeader(\"constellation4\", tr, c4), description: tr(`constellation4.description`),\r\n            states: {\r\n              on: {\r\n                fields: [\r\n                  { node:nodeC4CryoResBonus_ },\r\n                  { node:nodeC4GeoResBonus_ } ,\r\n                  { node:nodeC4PyroResBonus_ } ,\r\n                  { node:nodeC4AnemoResBonus_ } ,\r\n                  { node:nodeC4HydroResBonus_ } ,\r\n                  { node:nodeC4ElecResBonus_ } ,\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.gemDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: trm(\"c6bonus\"),\r\n          value: 7,\r\n        }\r\n      ],\r\n      ),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Noelle\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldDef: skillParam_gen.skill[s++],\r\n    healDef: skillParam_gen.skill[s++],\r\n    healChance: skillParam_gen.skill[s++],\r\n    shieldDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    healFlat: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    defToAtk: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: { // Devotion Shield\r\n    hpThreshold: skillParam_gen.passive1[p1++][0],\r\n    shield: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    cooldown: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    healingChance: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    chargeStamina: skillParam_gen.constellation2[0],\r\n    chargeDmg_: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    burstAtkBonus: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"SweepingTime\")\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeBurstAtk = equal(\"on\", condBurst, prod(\r\n  input.total.def,\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.defToAtk, { key: \"_\" }),\r\n    greaterEq(input.constellation, 6, percent(datamine.constellation6.burstAtkBonus))\r\n  )\r\n))\r\n\r\nconst nodeSkillHealChanceBase = subscript(input.total.skillIndex, datamine.skill.healChance, { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOn = equal(\"on\", condBurst, percent(datamine.constellation1.healingChance), { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOff = unequal(\"on\", condBurst, nodeSkillHealChanceBase)\r\n\r\nconst nodeC2ChargeDMG = greaterEq(input.constellation, 2, percent(datamine.constellation2.chargeDmg_))\r\nconst nodeC4dmg = customDmgNode(prod(input.total.atk, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } })\r\n\r\nconst geoShieldStrength = { \"customBonus\": { \"shield_\": percent(0.5) } }\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"def\", datamine.skill.skillDmg, \"skill\"),\r\n    shield: shieldNodeTalent(\"def\", datamine.skill.shieldDef, datamine.skill.shieldFlat, \"skill\", geoShieldStrength),\r\n    heal: healNodeTalent(\"def\", datamine.skill.healDef, datamine.skill.healFlat, \"skill\"),\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    devotionShield: shieldNode(\"def\", percent(datamine.passive1.shield), 0, geoShieldStrength)\r\n  },\r\n  constellation4: {\r\n    dmg: nodeC4dmg\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_: nodeC2ChargeDMG,\r\n    atk: nodeBurstAtk,\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n            unit: '/s'\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.duration,\r\n            unit: 's'\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.2`, variant: \"success\" }),\r\n        }, { //Heal trigger chance\r\n          canShow: data => data.get(input.constellation).value === 0,\r\n          node: nodeSkillHealChanceBase,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOff,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOn,\r\n        }, { //Shield Duration\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.shieldDuration,\r\n          unit: \"s\"\r\n        }, { //Cooldown\r\n          canShow: data => data.get(input.asc).value < 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: trm(`p4cd`),\r\n        }\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.1` }), },\r\n        {\r\n          canShow: data => data.get(input.constellation).value < 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: trm(`c6duration`),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }\r\n      ], {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              text: trm(\"qlarger\")\r\n            }, {\r\n              node: nodeBurstAtk\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [\r\n        {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          node: infoMut(dmgFormulas.passive1.devotionShield, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.passive1.cooldown,\r\n          unit: \"s\"\r\n        }\r\n      ]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        node: nodeC2ChargeDMG\r\n      }, {\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        text: trm(\"c2Stam\"),\r\n        value: datamine.constellation2.chargeStamina * 100,\r\n        unit: \"%\"\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        node: infoMut(nodeC4dmg, { key: `char_${key}:c4dmg` })\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Qiqi\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    hitRegenPercent: skillParam_gen.skill[s++],\r\n    hitRegenFlat: skillParam_gen.skill[s++],\r\n    contRegenPercent: skillParam_gen.skill[s++],\r\n    contRegenFlat: skillParam_gen.skill[s++],\r\n    tickDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    castDmg: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    healPercent: skillParam_gen.burst[b++],\r\n    healFlat: skillParam_gen.burst[b++],\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"QiqiA1\")\r\nconst [condC2Path, condC2] = cond(key, \"QiqiC2\")\r\n\r\n// Values here doesn't exist in skillParam_gen\r\nconst nodeA1HealingBonus = equal(condA1, \"on\", greaterEq(input.asc, 1, constant(0.2)))\r\nconst nodeC2ChargedDmgInc = equal(condC2, \"on\", greaterEq(input.constellation, 2, constant(0.15)))\r\nconst nodeC2NormalDmgInc = equal(condC2, \"on\", greaterEq(input.constellation, 2, constant(0.15)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    castDmg: dmgNode(\"atk\", datamine.skill.castDmg, \"skill\"),\r\n    tickDmg: dmgNode(\"atk\", datamine.skill.tickDmg, \"skill\"),\r\n    hitRegen: healNodeTalent(\"atk\", datamine.skill.hitRegenPercent, datamine.skill.hitRegenFlat, \"skill\"),\r\n    contRegen: healNodeTalent(\"atk\", datamine.skill.contRegenPercent, datamine.skill.contRegenFlat, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    heal: healNodeTalent(\"atk\", datamine.burst.healPercent, datamine.burst.healFlat, \"burst\")\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    normal_dmg_: nodeC2NormalDmgInc,\r\n    charged_dmg_: nodeC2ChargedDmgInc,\r\n    incHeal_: nodeA1HealingBonus\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n              textSuffix: st(\"brHits\", { count: 2 })\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.castDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hitRegen, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.contRegen, { key: `char_${key}_gen:skill.skillParams.2`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.tickDmg, { key: `char_${key}_gen:skill.skillParams.3` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: datamine.skill.duration,\r\n        unit: 's'\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.cd,\r\n        unit: 's'\r\n      }]),\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          },\r\n          {\r\n            node: infoMut(dmgFormulas.burst.heal, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: datamine.skill.duration,\r\n            unit: 's'\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.skill.cd,\r\n            unit: 's'\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.cost,\r\n          }]\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        name: trm(\"a1C\"),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1HealingBonus\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 8,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2C\"),\r\n        header: conditionalHeader(\"constellation2\", tr, c2),\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2NormalDmgInc\r\n            }, {\r\n              node: nodeC2ChargedDmgInc\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"RaidenShogun\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    coorDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    burstDmg_bonus: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    resolveBonus1: skillParam_gen.burst[b++],\r\n    resolveBonus2: skillParam_gen.burst[b++],\r\n    resolveGained: skillParam_gen.burst[b++],\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    hit3: skillParam_gen.burst[b++],\r\n    hit41: skillParam_gen.burst[b++],\r\n    hit42: skillParam_gen.burst[b++],\r\n    hit5: skillParam_gen.burst[b++],\r\n    charged1: skillParam_gen.burst[b++],\r\n    charged2: skillParam_gen.burst[b++],\r\n    stam: skillParam_gen.burst[b++][0],\r\n    plunge: skillParam_gen.burst[b++],\r\n    plungeLow: skillParam_gen.burst[b++],\r\n    plungeHigh: skillParam_gen.burst[b++],\r\n    enerGen: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    er: skillParam_gen.passive2[p2++][0],\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    electroDmg_bonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    def_ignore: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    atk_bonus: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n} as const\r\n\r\nconst [condSkillEyePath, condSkillEye] = cond(key, \"skillEye\")\r\nconst skillEye_ = equal(\"skillEye\", condSkillEye,\r\n  prod(datamine.burst.enerCost, subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus.map(x => x), { key: '_' })))\r\n\r\nfunction skillDmg(atkType: number[]) {\r\n  // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n  return dmgNode('atk', atkType, 'skill', {\r\n    enemy: { defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore) }\r\n  })\r\n}\r\n\r\nconst energyCosts = [40, 50, 60, 70, 80, 90]\r\nconst [condSkillEyeTeamPath, condSkillEyeTeam] = cond(key, \"skillEyeTeam\")\r\nconst skillEyeTeamBurstDmgInc = unequal(input.activeCharKey, input.charKey,\r\n  prod(lookup(condSkillEyeTeam, objectKeyMap(energyCosts, i => constant(i)), 0),\r\n    subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus, { key: '_' })))\r\n\r\nconst resolveStacks = [10, 20, 30, 40, 50, 60]\r\nconst [condResolveStackPath, condResolveStack] = cond(key, \"burstResolve\")\r\n\r\nfunction burstResolve(atkType: number[], initial = false) {\r\n  let resolveBonus = initial ? datamine.burst.resolveBonus1 : datamine.burst.resolveBonus2\r\n\r\n  return customDmgNode(prod(sum(subscript(input.total.burstIndex, atkType, { key: '_' }),\r\n    prod(subscript(input.total.burstIndex, resolveBonus.map(x => x), { key: '_' }),\r\n      lookup(condResolveStack, objectKeyMap(resolveStacks, i => constant(i)), 0))), input.total.atk), 'burst', {\r\n    hit: {\r\n      ele: constant('electro')\r\n    }, enemy: {\r\n      // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n      defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore)\r\n    }\r\n  })\r\n}\r\n\r\nconst passive2ElecDmgBonus = greaterEq(input.asc, 4, prod(sum(input.premod.enerRech_, percent(-1)), (datamine.passive2.electroDmg_bonus * 100)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4AtkBonus_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condC4, unequal(input.activeCharKey, input.charKey, datamine.constellation4.atk_bonus))\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg(datamine.skill.skillDmg),\r\n    coorDmg: skillDmg(datamine.skill.coorDmg),\r\n    skillEye_\r\n  },\r\n  burst: {\r\n    dmg: burstResolve(datamine.burst.dmg, true),\r\n    hit1: burstResolve(datamine.burst.hit1),\r\n    hit2: burstResolve(datamine.burst.hit2),\r\n    hit3: burstResolve(datamine.burst.hit3),\r\n    hit41: burstResolve(datamine.burst.hit41),\r\n    hit42: burstResolve(datamine.burst.hit42),\r\n    hit5: burstResolve(datamine.burst.hit5),\r\n    charged1: burstResolve(datamine.burst.charged1),\r\n    charged2: burstResolve(datamine.burst.charged2),\r\n    plunge: burstResolve(datamine.burst.plunge),\r\n    plungeLow: burstResolve(datamine.burst.plungeLow),\r\n    plungeHigh: burstResolve(datamine.burst.plungeHigh),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    burst_dmg_: skillEye_,\r\n    electro_dmg_: passive2ElecDmgBonus,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: c4AtkBonus_,\r\n      burst_dmg_: skillEyeTeamBurstDmgInc\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }),\r\n              textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.coorDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.2\"),\r\n            value: `${datamine.skill.duration}s`,\r\n          }, {\r\n            text: tr(\"skill.skillParams.4\"),\r\n            value: `${datamine.skill.cd}s`,\r\n          }],\r\n          conditional: {\r\n            value: condSkillEye,\r\n            path: condSkillEyePath,\r\n            name: trm(\"skill.eye\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: {\r\n              skillEye: {\r\n                fields: [{\r\n                  node: skillEye_\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          conditional: {\r\n            value: condSkillEyeTeam,\r\n            path: condSkillEyeTeamPath,\r\n            description: tr(\"skill.description\"),\r\n            teamBuff: true,\r\n            canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n            name: trm(\"skill.partyCost\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: Object.fromEntries(energyCosts.map(c => [c, {\r\n              name: `${c}`,\r\n              fields: [{\r\n                node: skillEyeTeamBurstDmgInc,\r\n              }]\r\n            }]))\r\n          }\r\n        }]\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.3` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.4` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit3, { key: `char_${key}_gen:burst.skillParams.5` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit41, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit42, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit5, { key: `char_${key}_gen:burst.skillParams.7` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.charged1, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.charged2, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.9\"),\r\n        value: `${datamine.burst.stam}`,\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plunge, { key: `char_${key}_gen:burst.skillParams.10` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plungeLow, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plungeHigh, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.12\"),\r\n        value: (data) => `${datamine.burst.enerGen[data.get(input.total.burstIndex).value]}`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.13\"),\r\n        value: `${datamine.burst.duration}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.14\"),\r\n        value: `${datamine.burst.cd}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.15\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], {\r\n        value: condResolveStack,\r\n        path: condResolveStackPath,\r\n        name: trm(\"burst.resolves\"),\r\n        states: Object.fromEntries(resolveStacks.map(c => [c, {\r\n          name: `${c}`,\r\n          fields: []\r\n        }]))\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: data => data.get(input.asc).value >= 4,\r\n        text: trm(\"a4.enerRest\"),\r\n        value: (data) => {\r\n          return (data.get(input.total.enerRech_).value * 100 - 100) * (datamine.passive2.energyGen * 100)\r\n        },\r\n        unit: \"%\"\r\n      }, {\r\n          node: passive2ElecDmgBonus,\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"c4.expires\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: c4AtkBonus_,\r\n            }, {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: `${datamine.constellation4.duration}s`\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Razor\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++]\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    erBonus: skillParam_gen.skill[s++][0],\r\n    enerRegen: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    companionDmg: skillParam_gen.burst[b++],\r\n    atkSpdBonus: skillParam_gen.burst[b++],\r\n    electroResBonus: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: 0.18\r\n  },\r\n  passive2: {\r\n    enerThreshold: 0.5,\r\n    erInc: 0.3\r\n  },\r\n  passive3: {\r\n    sprintStaminaDec: 0.2\r\n  },\r\n  constellation1: {\r\n    allDmgInc: 0.1,\r\n    duration: 8\r\n  },\r\n  constellation2: {\r\n    hpThreshold: 0.3,\r\n    critRateInc: 0.1\r\n  },\r\n  constellation4: {\r\n    defDec: 0.15,\r\n    duration: 7\r\n  },\r\n  constellation6: {\r\n    dmg: 1,\r\n    electroSigilGenerated: 1,\r\n    cd: 10\r\n  }\r\n} as const\r\n\r\nconst [condElectroSigilPath, condElectroSigil] = cond(key, \"ElectroSigil\")\r\nconst [condTheWolfWithinPath, condTheWolfWithin] = cond(key, \"TheWolfWithin\")\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst [condC1Path, condC1] = cond(key, \"C1\")\r\nconst [condC2Path, condC2] = cond(key, \"C2\")\r\nconst [condC4Path, condC4] = cond(key, \"C4\")\r\n\r\nconst enerRechElectroSigil_ = lookup(condElectroSigil, objectKeyMap(range(1, 3), i => prod(i, percent(datamine.skill.erBonus))),\r\n  naught, { key: \"enerRech_\" })\r\nconst electro_res_ = equal(\"on\", condTheWolfWithin, percent(datamine.burst.electroResBonus))\r\nconst atkSPD_ = equal(\"on\", condTheWolfWithin, subscript(input.total.burstIndex, datamine.burst.atkSpdBonus, { key: \"_\" }))\r\nconst enerRechA4_ = greaterEq(input.asc, 4, equal(\"on\", condA4, percent(datamine.passive2.erInc, { key: \"enerRech_\" })))\r\nconst all_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condC1, percent(datamine.constellation1.allDmgInc)))\r\nconst critRate_ = greaterEq(input.constellation, 2, equal(\"on\", condC2, percent(datamine.constellation2.critRateInc)))\r\nconst enemyDefRed_ = greaterEq(input.constellation, 4, equal(\"on\", condC4, percent(datamine.constellation4.defDec)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    companionDmg1: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg2: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg3: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg4: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    // TODO: this is for the additional section to calculate the full burst dmg where the full burst dmg = sum of normal dmg and burst companion dmg\r\n    // However, the final dmg then defaults to Electro text color which is sort of incorrect?\r\n    // Is there a way to disable the electro text color and default it to just normal color instead?\r\n    fullBurstDmg1: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg2: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg3: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg4: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"))\r\n  },\r\n  constellation6: {\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(prod(percent(datamine.constellation6.dmg), input.total.atk), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    enerRech_: sum(enerRechElectroSigil_, enerRechA4_),\r\n    electro_res_,\r\n    atkSPD_,\r\n    all_dmg_,\r\n    critRate_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n              unit: '/s'\r\n            }, {\r\n              text: tr(\"auto.skillParams.7\"),\r\n              value: datamine.charged.duration,\r\n              unit: 's'\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: (data) => data.get(input.asc).value >= 1 ? datamine.skill.pressCd - (datamine.skill.pressCd * datamine.passive1.cdRed) :\r\n          datamine.skill.pressCd,\r\n        unit: 's'\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.6\"),\r\n        value: (data) => data.get(input.asc).value >= 1 ? datamine.skill.holdCd - (datamine.skill.holdCd * datamine.passive1.cdRed) :\r\n          datamine.skill.holdCd,\r\n        unit: 's'\r\n      }], { // Electro Sigil\r\n        value: condElectroSigil,\r\n        path: condElectroSigilPath,\r\n        name: trm(\"electroSigil\"),\r\n        header: conditionalHeader(\"skill\", tr, skill),\r\n        states: {\r\n          ...objectKeyMap(range(1, 3), i => ({\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              node: enerRechElectroSigil_\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: trm(\"electroSigilAbsorbed\"),\r\n              value: datamine.skill.enerRegen * i,\r\n            }]\r\n          })),\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.companionDmg1, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: tr(\"auto.skillParams.0\")\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.companionDmg2, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: tr(\"auto.skillParams.1\")\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.companionDmg3, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: tr(\"auto.skillParams.2\")\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.companionDmg4, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: tr(\"auto.skillParams.3\")\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.duration,\r\n        unit: 's'\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.cd,\r\n        unit: 's'\r\n      }, {\r\n        text: tr(\"burst.skillParams.6\"),\r\n        value: datamine.burst.enerCost,\r\n      }], { // The Wolf Within\r\n        value: condTheWolfWithin,\r\n        path: condTheWolfWithinPath,\r\n        name: tr(\"burst.description.3\"),\r\n        header: conditionalHeader(\"burst\", tr, burst),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: electro_res_\r\n            }, {\r\n              node: atkSPD_\r\n            }, {\r\n              text: st(\"incInterRes\")\r\n            }]\r\n          }\r\n        }\r\n      }, [{\r\n        ...sectionTemplate(\"burst\", tr, burst, [{\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg1, { key: `char_${key}:fullBurstDMG.dmg1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg2, { key: `char_${key}:fullBurstDMG.dmg2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg3, { key: `char_${key}:fullBurstDMG.dmg3` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg4, { key: `char_${key}:fullBurstDMG.dmg4` })\r\n        }], undefined, undefined, false, true),\r\n        text: trm(\"fullBurstDMG.description\"),\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        name: st(\"lessPercentEnergy\", { percent: datamine.passive2.enerThreshold * 100 }),\r\n        header: conditionalHeader(\"passive2\", tr, passive2),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: enerRechA4_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: trm(\"pickUpElementalOrbParticle\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: all_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        name: st(\"enemyLessPercentHP\", { percent: datamine.constellation2.hpThreshold * 100 }),\r\n        header: conditionalHeader(\"constellation2\", tr, c2),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: critRate_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        name: trm(\"opHitWithClawAndThunder\"),\r\n        header: conditionalHeader(\"constellation4\", tr, c4),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: enemyDefRed_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, [{\r\n        canShow: (data) => data.get(input.constellation).value >= 6,\r\n        node: infoMut(dmgFormulas.constellation6.dmg, { key: \"sheet:dmg\" })\r\n      }, {\r\n        text: trm(\"electroSigilPerProc\"),\r\n        canShow: (data) => data.get(input.constellation).value >= 6,\r\n        value: datamine.constellation6.electroSigilGenerated\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 6,\r\n        text: st(\"cooldown\"),\r\n        value: datamine.constellation6.cd,\r\n        unit: \"s\"\r\n      }]),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, prod, min, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Rosaria\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0, c1i = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    hit1: skillParam_gen.skill[s++],\r\n    hit2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    dotDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    crInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    crBonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n    maxBonus: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    atkSpdInc: skillParam_gen.constellation1[c1i++],\r\n    dmgInc: skillParam_gen.constellation1[c1i++],\r\n    duration: skillParam_gen.constellation1[c1i++],\r\n  },\r\n  constellation6: {\r\n    physShred: skillParam_gen.constellation6[c6i++],\r\n    duration: skillParam_gen.constellation6[c6i++],\r\n  },\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"RosariaA1\")\r\nconst [condA4Path, condA4] = cond(key, \"RosariaA4\")\r\nconst [condC1Path, condC1] = cond(key, \"RosariaC1\")\r\nconst [condC6Path, condC6] = cond(key, \"DilucC6\")\r\n\r\nconst nodeA1CritInc = equal(condA1, \"on\", greaterEq(input.asc, 1, datamine.passive1.crInc))\r\nconst nodeA4CritBonusDisp = equal(condA4, \"on\",\r\n  greaterEq(input.asc, 4, min(\r\n    prod(datamine.passive2.crBonus, input.premod.critRate_),\r\n    datamine.passive2.maxBonus\r\n  ))\r\n)\r\nconst nodeA4CritBonus = unequal(target.charKey, key, nodeA4CritBonusDisp)\r\n\r\nconst nodeC1AtkSpd = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.atkSpdInc))\r\nconst nodeC1NormalInc = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.dmgInc))\r\nconst nodeC6PhysShred = equal(condC6, \"on\", greaterEq(input.constellation, 6, -datamine.constellation6.physShred))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    hit1: dmgNode(\"atk\", datamine.skill.hit1, \"skill\"),\r\n    hit2: dmgNode(\"atk\", datamine.skill.hit2, \"skill\"),\r\n  },\r\n  burst: {\r\n    hit1: dmgNode(\"atk\", datamine.burst.hit1, \"burst\"),\r\n    hit2: dmgNode(\"atk\", datamine.burst.hit2, \"burst\"),\r\n    dotDmg: dmgNode(\"atk\", datamine.burst.dotDmg, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    critRate_: nodeA1CritInc,\r\n    atkSPD_: nodeC1AtkSpd,\r\n    normal_dmg_: nodeC1NormalInc,\r\n    physical_enemyRes_: nodeC6PhysShred\r\n  },\r\n  teamBuff: {\r\n    total: {\r\n      critRate_: nodeA4CritBonus\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n              textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.hit1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hit2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: 's'\r\n      }]),\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.dotDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.cost,\r\n          }],\r\n          conditional: {\r\n            name: tr(\"constellation6.name\"),\r\n            header: conditionalHeader(\"constellation6\", tr, c6),\r\n            value: condC6,\r\n            path: condC6Path,\r\n            canShow: greaterEq(input.constellation, 6, 1),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  node: nodeC6PhysShred\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.constellation6.duration,\r\n                  unit: 's'\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        name: trm(\"a1\"),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1CritInc\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        name: trm(\"a4.name\"),\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        // Hide for Rosaria\r\n        canShow: greaterEq(input.asc, 4, unequal(input.activeCharKey, key, 1)),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeA4CritBonusDisp, { key: \"critRate_\" }),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"c1\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1NormalInc\r\n            }, {\r\n              node: nodeC1AtkSpd,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"SangonomiyaKokomi\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    heal_: skillParam_gen.skill[s++],\r\n    heal: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    heal_: skillParam_gen.burst[b++],\r\n    heal: skillParam_gen.burst[b++],\r\n    nBonus_: skillParam_gen.burst[b++],\r\n    cBonus_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    sBonus_: skillParam_gen.burst[b++],\r\n  },\r\n  p: {\r\n    heal_: 0.25,\r\n    critRate_: -1\r\n  },\r\n  p2: {\r\n    heal_ratio_: skillParam_gen.passive2[0][0],\r\n  },\r\n  c1: {\r\n    hp_: skillParam_gen.constellation1[0],\r\n  },\r\n  c2: {\r\n    s_heal_: skillParam_gen.constellation2[1],\r\n    nc_heal_: skillParam_gen.constellation2[2],\r\n  },\r\n  c4: {\r\n    atkSPD_: skillParam_gen.constellation4[0],\r\n    energy: skillParam_gen.constellation4[1]\r\n  },\r\n  c6: {\r\n    hp_: skillParam_gen.constellation6[c6i++],\r\n    hydro_: skillParam_gen.constellation6[c6i++],\r\n    duration: skillParam_gen.constellation6[c6i++]\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\n\r\nconst burstNormalDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.nBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp))\r\nconst burstChargedDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.cBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp))\r\nconst burstSkillDmgInc = equal(condBurst, \"on\", prod(\r\n  subscript(input.total.burstIndex, datamine.burst.sBonus_, { key: '_' }),\r\n  input.premod.hp))\r\n\r\nconst passiveHeal_ = constant(datamine.p.heal_)\r\nconst passiveCritRate_ = constant(datamine.p.critRate_)\r\nconst c4AtkSpd_ = greaterEq(input.constellation, 4, constant(datamine.c4.atkSPD_))\r\nconst c6Hydro_ = greaterEq(input.constellation, 6, equal(condC6, \"on\", constant(datamine.c6.hydro_)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    heal: customHealNode(sum(\r\n      prod(sum(\r\n        subscript(input.total.skillIndex, datamine.skill.heal_, { key: '_' }),\r\n        greaterEq(input.constellation, 2, equal(condC2, \"on\", percent(datamine.c2.s_heal_))),\r\n      ), input.total.hp),\r\n      subscript(input.total.skillIndex, datamine.skill.heal)\r\n    )),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    heal: customHealNode(sum(\r\n      prod(sum(\r\n        subscript(input.total.burstIndex, datamine.burst.heal_, { key: '_' }),\r\n        greaterEq(input.constellation, 2, equal(condC2, \"on\", percent(datamine.c2.nc_heal_))),\r\n      ), input.total.hp),\r\n      subscript(input.total.burstIndex, datamine.burst.heal)\r\n    )),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.hp, percent(datamine.c1.hp_)), \"elemental\", {\r\n      hit: { ele: constant(elementKey) }\r\n    }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    heal_: passiveHeal_,\r\n    critRate_: passiveCritRate_,\r\n    atkSPD_: c4AtkSpd_,\r\n    hydro_dmg_: c6Hydro_,\r\n    // TODO: below should be for `total`\r\n    normal_dmgInc: burstNormalDmgInc,\r\n    charged_dmgInc: burstChargedDmgInc,\r\n    skill_dmgInc: burstSkillDmgInc,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` })\r\n          }, {\r\n            text: tr(\"auto.skillParams.5\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.6\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.7\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: burstNormalDmgInc,\r\n            }, {\r\n              node: burstChargedDmgInc,\r\n            }, {\r\n              node: burstSkillDmgInc,\r\n            }, {\r\n              node: infoMut(dmgFormulas.burst.heal, { key: `char_${key}_gen:burst.skillParams.4`, variant: \"success\" }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.5\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive: talentTemplate(\"passive\", tr, passive, [{\r\n        node: passiveHeal_\r\n      }, {\r\n        node: passiveCritRate_\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.dmg, { key: \"sheet:dmg\" })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        path: condC2Path,\r\n        value: condC2,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        name: trm(\"c2\"),\r\n        states: {\r\n          on: {}\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{ node: c4AtkSpd_ }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        path: condC6Path,\r\n        value: condC6,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"c6\"),\r\n        states: {\r\n          on: { fields: [{ node: c6Hydro_ }] }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, percent, prod, lookup, naught, sum, min, subscript } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Sayu\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3x2\r\n      skillParam_gen.auto[4], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin: skillParam_gen.auto[5],\r\n    final: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n    duration: skillParam_gen.auto[8][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[9],\r\n    low: skillParam_gen.auto[10],\r\n    high: skillParam_gen.auto[11],\r\n  },\r\n  skill: {\r\n    wheelDmg: skillParam_gen.skill[s++],\r\n    eleWheelDmg: skillParam_gen.skill[s++],\r\n    kickPressDmg: skillParam_gen.skill[s++],\r\n    kickHoldDmg: skillParam_gen.skill[s++],\r\n    eleKickDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cdMin: skillParam_gen.skill[s++][0],\r\n    cdMax: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    pressBaseHeal: skillParam_gen.burst[b++],\r\n    pressAtkHeal: skillParam_gen.burst[b++],\r\n    darumaDmg: skillParam_gen.burst[b++],\r\n    darumaBaseHeal: skillParam_gen.burst[b++],\r\n    darumaAtkHeal: skillParam_gen.burst[b++],\r\n    darumaHits: 7,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    baseHeal: skillParam_gen.passive1[0][0],\r\n    emHeal: skillParam_gen.passive1[1][0],\r\n    cd: skillParam_gen.passive1[2][0]\r\n  },\r\n  passive2: {\r\n    nearHeal: skillParam_gen.passive2[0][0]\r\n  },\r\n  constellation2: {\r\n    dmgInc: skillParam_gen.constellation2[0],\r\n    maxStacks: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    ener: skillParam_gen.constellation4[0],\r\n    cd: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    darumaDmgInc: skillParam_gen.constellation6[0],\r\n    maxStacks: skillParam_gen.constellation6[1] / skillParam_gen.constellation6[0],\r\n    darumaHealInc: skillParam_gen.constellation6[2]\r\n  }\r\n} as const\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst [condActiveSwirlPath, condActiveSwirl] = cond(key, \"activeSwirl\")\r\n\r\nconst [condC2SkillStackPath, condC2SkillStack] = cond(key, \"c2SkillStack\")\r\nconst c2_kickPressDmg_ = greaterEq(input.constellation, 2, percent(datamine.constellation2.dmgInc))\r\nconst c2_kickDmg_ = greaterEq(input.constellation, 2,\r\n  lookup(condC2SkillStack,\r\n    Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(stack => [\r\n      stack,\r\n      prod(stack, percent(datamine.constellation2.dmgInc))\r\n    ])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst c6_daruma_dmg_inc = greaterEq(input.constellation, 6,\r\n  prod(\r\n    min(input.total.eleMas, datamine.constellation6.maxStacks),\r\n    datamine.constellation6.darumaDmgInc,\r\n    input.total.atk\r\n  )\r\n)\r\nconst c6_daruma_heal_inc = greaterEq(input.constellation, 6,\r\n  prod(min(input.total.eleMas, datamine.constellation6.maxStacks), datamine.constellation6.darumaHealInc)\r\n)\r\n// Using customHealNode so I can have healInc\r\nconst darumaHeal = customHealNode(sum(\r\n  prod(\r\n    subscript(input.total.burstIndex, datamine.burst.darumaAtkHeal, { key: \"_\" }),\r\n    input.total.atk,\r\n  ),\r\n  subscript(input.total.burstIndex, datamine.burst.darumaBaseHeal),\r\n  c6_daruma_heal_inc,\r\n))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spin: dmgNode(\"atk\", datamine.charged.spin, \"charged\"),\r\n    final: dmgNode(\"atk\", datamine.charged.final, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    wheelDmg: dmgNode(\"atk\", datamine.skill.wheelDmg, \"skill\"),\r\n    kickPressDmg: dmgNode(\"atk\", datamine.skill.kickPressDmg, \"skill\",\r\n      { premod: { skill_dmg_: sum(c2_kickDmg_, c2_kickPressDmg_) } }),\r\n    kickHoldDmg: dmgNode(\"atk\", datamine.skill.kickHoldDmg, \"skill\",\r\n      { premod: { skill_dmg_: c2_kickDmg_ } }),\r\n    eleWheelDmg: lookup(condSkillAbsorption, Object.fromEntries(absorbableEle.map(eleKey => [\r\n      eleKey,\r\n      dmgNode(\"atk\", datamine.skill.eleWheelDmg, \"skill\", { hit: { ele: constant(eleKey) } })\r\n    ])), naught),\r\n    eleKickDmg: lookup(condSkillAbsorption, Object.fromEntries(absorbableEle.map(eleKey => [\r\n      eleKey,\r\n      dmgNode(\"atk\", datamine.skill.eleKickDmg, \"skill\",\r\n        { hit: { ele: constant(eleKey) }, premod: { skill_dmg_: c2_kickDmg_ } })\r\n    ])), naught)\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    pressHeal: healNodeTalent(\"atk\", datamine.burst.pressAtkHeal, datamine.burst.pressBaseHeal, \"burst\"),\r\n    darumaDmg: dmgNode(\"atk\", datamine.burst.darumaDmg, \"burst\",\r\n      { premod: { burst_dmgInc: c6_daruma_dmg_inc } }),\r\n    darumaHeal\r\n  },\r\n  passive1: {\r\n    heal: greaterEq(input.asc, 1, sum(datamine.passive1.baseHeal, prod(datamine.passive1.emHeal, input.total.eleMas)))\r\n  },\r\n  passive2: {\r\n    extraHeal: greaterEq(input.asc, 4, prod(darumaHeal, percent(datamine.passive2.nearHeal)))\r\n  }\r\n}\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.spin, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.final, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: `${datamine.charged.stamina}/s`,\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.wheelDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.kickPressDmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.kickHoldDmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: `${datamine.skill.cdMin}s ~ ${datamine.skill.cdMax}`,\r\n        unit: \"s\",\r\n      }], {\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.eleWheelDmg, { key: `char_${key}_gen:skill.skillParams.3` })\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.eleKickDmg, { key: `char_${key}_gen:skill.skillParams.4` })\r\n          }]\r\n        }]))\r\n      }, [\r\n        sectionTemplate(\"constellation2\", tr, c2, [{\r\n          node: infoMut(c2_kickPressDmg_, { key: `char_${key}:c2KickPressDmg_` })\r\n        }], {\r\n          value: condC2SkillStack,\r\n          path: condC2SkillStackPath,\r\n          name: trm(\"c2Cond\"),\r\n          states: Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(stack => [stack, {\r\n            name: st(\"seconds\", { count: stack * 0.5 }),\r\n            fields: [{\r\n              node: infoMut(c2_kickDmg_, { key: `char_${key}:c2KickDmg_` })\r\n            }]\r\n          }]))\r\n        }, data => data.get(input.constellation).value >= 2, false, true),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.pressDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.pressHeal, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.darumaDmg, { key: `char_${key}_gen:burst.skillParams.2` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.darumaHeal, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" })\r\n      }, {\r\n        text: trm(\"burstHits\"),\r\n        value: datamine.burst.darumaHits,\r\n      }], undefined, [\r\n        sectionTemplate(\"passive2\", tr, passive2, [{\r\n          node: infoMut(dmgFormulas.passive2.extraHeal, { key: `char_${key}:p2Heal`, variant: \"success\" })\r\n        }, {\r\n          text: trm(\"p2Aoe\")\r\n        }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: trm(\"c1Text\")\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n        sectionTemplate(\"constellation6\", tr, c6, [{\r\n          node: infoMut(c6_daruma_dmg_inc,\r\n            { key: `char_${key}:c6DarumaDmgInc`, variant: \"anemo\" })\r\n        }, {\r\n          node: infoMut(c6_daruma_heal_inc,\r\n            { key: `char_${key}:c6DarumaHealInc`, variant: \"success\" })\r\n        }], undefined, data => data.get(input.constellation).value >= 6, false, true),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condActiveSwirl,\r\n        path: condActiveSwirlPath,\r\n        name: trm(\"p1Swirl\"),\r\n        states: {\r\n          activeSwirl: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.passive1.heal, { key: `sheet_gen:healing`, variant: \"success\" })\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.passive1.cd,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: burstC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, undefined, [\r\n        sectionTemplate(\"constellation4\", tr, c4, [{\r\n          text: trm(\"c4Ener\"),\r\n          value: datamine.constellation4.ener,\r\n          fixed: 1\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.constellation4.cd,\r\n          unit: \"s\"\r\n        }], undefined, data => data.get(input.constellation).value >= 4)\r\n      ]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: skillC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6)\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { infoMut, lookup, equal, percent, prod, subscript, greaterEq } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Shenhe\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4x2\r\n      skillParam_gen.auto[5], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    dmgAtk_: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    durationHold: skillParam_gen.skill[s++][0],\r\n    trigger: skillParam_gen.skill[s++][0],\r\n    triggerHold: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    res_: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cryo_dmg_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    press_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationPress: skillParam_gen.passive2[p2++][0],\r\n    hold_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationHold: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    dmg_: skillParam_gen.constellation4[0],\r\n    maxStacks: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condQuillPath, condQuill] = cond(key, \"quill\")\r\nconst nodeSkill = equal(\"quill\", condQuill,\r\n  prod(input.premod.atk, subscript(input.total.skillIndex, datamine.skill.dmgAtk_, { key: '_' })))\r\n\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst enemyRes_ = equal(\"burst\", condBurst,\r\n  subscript(input.total.burstIndex, datamine.burst.res_.map(x => -x), { key: '_' }))\r\n\r\nconst nodeBurstCryo_enemyRes_ = { ...enemyRes_ }\r\nconst nodeBurstPhysical_enemyRes_ = { ...enemyRes_ }\r\n\r\nconst [condAsc1Path, condAsc1] = cond(key, \"asc1\")\r\nconst nodeAsc1Disp = greaterEq(input.asc, 1,\r\n  equal(condAsc1, \"field\",\r\n    datamine.passive1.cryo_dmg_\r\n  )\r\n)\r\nconst nodeAsc1 = equal(input.activeCharKey, target.charKey, nodeAsc1Disp)\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst nodeAsc4 = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"press\",\r\n    datamine.passive2.press_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Press_skill_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Press_burst_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Hold = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"hold\",\r\n    datamine.passive2.hold_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Hold_normal_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_charged_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_plunging_dmg_ = { ...nodeAsc4Hold }\r\n\r\nconst nodeC2Disp = greaterEq(input.constellation, 2,\r\n  equal(condAsc1, \"field\",\r\n    datamine.passive1.cryo_dmg_\r\n  )\r\n)\r\nconst nodeC2 = equal(input.activeCharKey, target.charKey, nodeC2Disp)\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4Inc = greaterEq(input.constellation, 4,\r\n  lookup(condC4,\r\n    objectKeyMap(range(1, datamine.constellation4.maxStacks), i => percent(i * datamine.constellation4.dmg_)),\r\n    0),\r\n  { key: \"char_Shenhe:c4Bonus_\" })\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    quillDmg: nodeSkill\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmgInc: nodeSkill,\r\n      cryo_enemyRes_: nodeBurstCryo_enemyRes_,\r\n      physical_enemyRes_: nodeBurstPhysical_enemyRes_,\r\n      cryo_dmg_: nodeAsc1,\r\n      skill_dmg_: nodeAsc4Press_skill_dmg_,\r\n      burst_dmg_: nodeAsc4Press_burst_dmg_,\r\n      normal_dmg_: nodeAsc4Hold_normal_dmg_,\r\n      charged_dmg_: nodeAsc4Hold_charged_dmg_,\r\n      plunging_dmg_: nodeAsc4Hold_plunging_dmg_,\r\n      cryo_critDMG_: nodeC2\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        ),\r\n        text: tr(`auto.fields.plunging`),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: trm(\"pressDuration\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: trm(\"pressQuota\"),\r\n        value: datamine.skill.trigger,\r\n      }, {\r\n        text: st(\"pressCD\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: trm(\"holdDuration\"),\r\n        value: datamine.skill.durationHold,\r\n        unit: \"s\"\r\n      }, {\r\n        text: trm(\"holdQuota\"),\r\n        value: datamine.skill.triggerHold,\r\n      }, {\r\n        text: st(\"holdCD\"),\r\n        value: datamine.skill.cdHold,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 1,\r\n        text: st(\"charges\"),\r\n        value: 2\r\n      }], {\r\n        teamBuff: true,\r\n        value: condQuill,\r\n        path: condQuillPath,\r\n        name: trm(\"quill\"),\r\n        states: {\r\n          quill: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          value: condAsc4,\r\n          path: condAsc4Path,\r\n          teamBuff: true,\r\n          name: trm(\"asc4Cond\"),\r\n          states: {\r\n            press: {\r\n              name: \"Press\",\r\n              fields: [{\r\n                node: nodeAsc4Press_skill_dmg_\r\n              }, {\r\n                node: nodeAsc4Press_burst_dmg_\r\n              }]\r\n            },\r\n            hold: {\r\n              name: \"Hold\",\r\n              fields: [{\r\n                node: nodeAsc4Hold_normal_dmg_\r\n              }, {\r\n                node: nodeAsc4Hold_charged_dmg_\r\n              }, {\r\n                node: nodeAsc4Hold_plunging_dmg_\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: st(\"addlCharges\"),\r\n          value: 1\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          value: condC4,\r\n          path: condC4Path,\r\n          name: trm(\"c4\"),\r\n          states: objectKeyMap(range(1, 50).map(i => i.toString()), i => ({\r\n            name: i.toString(),\r\n            fields: [{ node: c4Inc }]\r\n          }))\r\n        }), {\r\n        ...sectionTemplate(\"constellation6\", tr, c6, [{\r\n          text: tr(\"constellation6.description\")\r\n        }], undefined, data => data.get(input.constellation).value >= 6, true, true),\r\n        fieldsDescription: \"\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: (data) => data.get(input.constellation).value >= 2\r\n          ? `${datamine.burst.duration} + ${datamine.constellation2.durationInc} = ${datamine.burst.duration + datamine.constellation2.durationInc}`\r\n          : datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: tr(\"burst.name\"),\r\n        states: {\r\n          burst: {\r\n            fields: [{\r\n              node: nodeBurstCryo_enemyRes_\r\n            }, {\r\n              node: nodeBurstPhysical_enemyRes_\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          value: condAsc1,\r\n          path: condAsc1Path,\r\n          teamBuff: true,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            field: {\r\n              fields: [{\r\n                node: infoMut(nodeAsc1Disp, { key: \"cryo_dmg_\", variant: \"cryo\" }) // Jank\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation2\", tr, c2, [{\r\n          text: st(\"durationInc\"),\r\n          value: datamine.constellation2.durationInc,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(nodeC2Disp, { key: \"cryo_critDMG_\", variant: \"cryo\" })\r\n        }], undefined, data => data.get(input.constellation).value >= 2, true, true),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from \"../../../Formula/utils\"\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\nconst key: CharacterKey = \"Sucrose\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dot: skillParam_gen.burst[b++],\r\n    dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    eleMas: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    ele_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condAbsorptionPath, condAbsorption] = cond(key, \"absorption\")\r\n// A1 Swirl Reaction Element\r\nconst [condSwirlReactionPath, condSwirlReaction] = cond(key, \"swirl\")\r\n// Set to \"hit\" if skill hit opponents\r\nconst [condSkillHitOpponentPath, condSkillHitOpponent] = cond(key, \"skillHit\")\r\n\r\n// Conditional Output\r\nconst asc1Disp = greaterEq(input.asc, 1, datamine.passive1.eleMas)\r\nconst asc1 = unequal(target.charKey, key, // Not applying to Sucrose\r\n    equal(target.charEle, condSwirlReaction, asc1Disp)) // And element matches the swirl\r\nconst asc4Disp = equal(\"hit\", condSkillHitOpponent,\r\n    greaterEq(input.asc, 4,\r\n      prod(percent(datamine.passive2.eleMas_), input.premod.eleMas)))\r\nconst asc4 = unequal(target.charKey, key, asc4Disp)\r\nconst c6Base = greaterEq(input.constellation, 6, percent(0.2))\r\n\r\nconst c6Bonus = objectKeyMap(absorbableEle.map(ele => `${ele}_dmg_` as const), key =>\r\n  equal(condAbsorption, key.slice(0, -5), c6Base))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condAbsorption, key, dmgNode(\"atk\", datamine.burst.dmg_, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    total: { eleMas: asc4 },\r\n    premod: { ...c6Bonus, eleMas: asc1 },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 1,\r\n        text: st(\"charges\"),\r\n        value: 2\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: data => data.get(input.constellation).value >= 2 ? `${datamine.burst.duration}s + 2` : datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.enerCost,\r\n      }], { // Absorption\r\n        value: condAbsorption,\r\n        path: condAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          }]\r\n        }]))\r\n      }, [\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          value: condAbsorption,\r\n          path: condAbsorptionPath,\r\n          name: st(\"eleAbsor\"),\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.constellation, 6, 1),\r\n          states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n            name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n            fields: [{\r\n              node: c6Bonus[`${eleKey}_dmg_`],\r\n            }],\r\n          }]))\r\n        }),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        // Swirl Element\r\n        teamBuff: true,\r\n        value: condSwirlReaction,\r\n        path: condSwirlReactionPath,\r\n        name: st(\"eleSwirled\"),\r\n        // Hide for Sucrose\r\n        canShow: greaterEq(input.asc, 1, unequal(input.activeCharKey, key, 1)),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(asc1Disp, { key: \"eleMas\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.passive1.duration,\r\n            unit: \"s\",\r\n          }],\r\n        }]))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        // Swirl element\r\n        teamBuff: true,\r\n        value: condSkillHitOpponent,\r\n        path: condSkillHitOpponentPath,\r\n        name: trm(\"asc4\"),\r\n        canShow: greaterEq(input.asc, 4, unequal(input.activeCharKey, key, 1)),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: infoMut(asc4Disp, { key: \"eleMas\" }),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Tartaglia\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst region: Region = \"snezhnaya\"\r\nconst [tr] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  riptide: {\r\n    flashDmg: skillParam_gen.auto[a++],\r\n    burstDmg: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  riptideDuration: skillParam_gen.auto[a++][0],\r\n  skill: {\r\n    stanceDmg: skillParam_gen.skill[s++],\r\n    normal1: skillParam_gen.skill[s++],\r\n    normal2: skillParam_gen.skill[s++],\r\n    normal3: skillParam_gen.skill[s++],\r\n    normal4: skillParam_gen.skill[s++],\r\n    normal5: skillParam_gen.skill[s++],\r\n    normal61: skillParam_gen.skill[s++], // 6.1\r\n    normal62: skillParam_gen.skill[s++], // 6.2\r\n    charged1: skillParam_gen.skill[s++],\r\n    charged2: skillParam_gen.skill[s++],\r\n    riptideSlash: skillParam_gen.skill[s++],\r\n    chargedStamina: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    preemptiveCd1: skillParam_gen.skill[s++][0],\r\n    preemptiveCd2: skillParam_gen.skill[s++][0],\r\n    maxCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    meleeDmg: skillParam_gen.burst[b++],\r\n    riptideBlastDmg: skillParam_gen.burst[b++],\r\n    rangedDmg: skillParam_gen.burst[b++],\r\n    enerReturned: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    durationExt: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive: {\r\n    auto_boost: 1,\r\n  },\r\n  constellation1: {\r\n    cdRed: 0.2\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('hydro') } }),\r\n    flashDmg: dmgNode(\"atk\", datamine.riptide.flashDmg, \"normal\", { hit: { ele: constant('hydro') } }),\r\n    burstDmg: dmgNode(\"atk\", datamine.riptide.burstDmg, \"normal\", { hit: { ele: constant('hydro') } })\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stanceDmg: dmgNode(\"atk\", datamine.skill.stanceDmg, \"skill\"),\r\n    normal1: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal1), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal2: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal2), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal3: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal3), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal4: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal4), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal5: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal5), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal61: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal61), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal62: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal62), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    charged1: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.charged1), input.total.atk), \"charged\", { hit: { ele: constant('hydro') } }),\r\n    charged2: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.charged2), input.total.atk), \"charged\", { hit: { ele: constant('hydro') } }),\r\n    riptideSlash: dmgNode(\"atk\", datamine.skill.riptideSlash, \"skill\")\r\n  },\r\n  burst: {\r\n    meleeDmg: dmgNode(\"atk\", datamine.burst.meleeDmg, \"burst\"),\r\n    rangedDmg: dmgNode(\"atk\", datamine.burst.rangedDmg, \"burst\"),\r\n    riptideBlastDmg: dmgNode(\"atk\", datamine.burst.riptideBlastDmg, \"burst\")\r\n  }\r\n}\r\n\r\nconst nodePassive = constant(1)\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    bonus: {\r\n      auto: nodePassive,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.riptide\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.flashDmg, { key: `char_${key}_gen:auto.skillParams.8` }),\r\n              textSuffix: st(\"brHits\", { count: 3 })\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.burstDmg, { key: `char_${key}_gen:auto.skillParams.9` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.10\"),\r\n              value: (data) => data.get(input.asc).value >= 1 ? datamine.passive1.durationExt + datamine.riptideDuration : datamine.riptideDuration,\r\n              unit: \"s\"\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.stanceDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal3, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal4, { key: `char_${key}_gen:skill.skillParams.4` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal5, { key: `char_${key}_gen:skill.skillParams.5` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal61, { key: `char_${key}_gen:skill.skillParams.6` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal62, { key: `char_${key}_gen:skill.skillParams.6` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.charged1, { key: `char_${key}_gen:skill.skillParams.7` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.charged2, { key: `char_${key}_gen:skill.skillParams.7` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        node: infoMut(constant(datamine.skill.chargedStamina), { key: `char_${key}_gen:skill.skillParams.8` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.riptideSlash, { key: `char_${key}_gen:skill.skillParams.9` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.10\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.11\"),\r\n        value: (data) => data.get(input.constellation).value >= 1 ? `${datamine.skill.preemptiveCd1 -\r\n          (datamine.skill.preemptiveCd1 * datamine.constellation1.cdRed)} - ${datamine.skill.preemptiveCd2 -\r\n          (datamine.skill.preemptiveCd2 * datamine.constellation1.cdRed)}` : `${datamine.skill.preemptiveCd1} -\r\n          ${datamine.skill.preemptiveCd2}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.12\"),\r\n        value: (data) => data.get(input.constellation).value >= 1 ? `${datamine.skill.maxCd - (datamine.skill.maxCd *\r\n          datamine.constellation1.cdRed)}` : `${datamine.skill.maxCd}`,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.meleeDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.rangedDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.riptideBlastDmg, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: `${datamine.burst.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerReturned}`,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, undefined, undefined,\r\n        [sectionTemplate(\"passive3\", tr, passive3, [{ node: nodePassive }], undefined, undefined, true, true)]),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Thoma\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    hpShield_: skillParam_gen.skill[s++],\r\n    baseShield: skillParam_gen.skill[s++],\r\n    shieldDuration: skillParam_gen.skill[s++][0],\r\n    maxHpShield_: skillParam_gen.skill[s++],\r\n    maxBaseShield: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    collapseDmg: skillParam_gen.burst[b++],\r\n    hpShield_: skillParam_gen.burst[b++],\r\n    baseShield: skillParam_gen.burst[b++],\r\n    shieldDuration: skillParam_gen.burst[b++][0],\r\n    unknown: skillParam_gen.burst[b++][0],\r\n    scorchingDuration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    shield_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n    maxStacks: skillParam_gen.passive1[2][0],\r\n    cd: skillParam_gen.passive1[3][0]\r\n  },\r\n  passive2: {\r\n    collapse_dmgInc: skillParam_gen.passive2[0][0],\r\n  },\r\n  c2: {\r\n    burstDuration: skillParam_gen.constellation2[0],\r\n  },\r\n  c4: {\r\n    energyRestore: skillParam_gen.constellation4[0],\r\n  },\r\n  c6: {\r\n    auto_dmg: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condP1BarrierStacksPath, condP1BarrierStacks] = cond(key, \"p1BarrierStacks\")\r\n// This should technically only apply to the active character, but I am trying\r\n// to minimize the amount of jank active character fixes.\r\nconst p1_shield_ = greaterEq(input.asc, 1,\r\n  lookup(condP1BarrierStacks, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(stacks => [\r\n    stacks,\r\n    constant(stacks * datamine.passive1.shield_)\r\n  ])), naught)\r\n)\r\n\r\nconst p2Collapse_dmgInc = greaterEq(input.asc, 4, prod(input.total.hp, datamine.passive2.collapse_dmgInc))\r\n\r\nconst [condC4AfterBurstPath, condC4AfterBurst] = cond(key, \"c4AfterBurst\")\r\n\r\nconst [condC6AfterBarrierPath, condC6AfterBarrier] = cond(key, \"c6AfterBarrier\")\r\nconst c6_normal_dmg_ = greaterEq(input.constellation, 6,\r\n  equal(condC6AfterBarrier, \"on\", datamine.c6.auto_dmg)\r\n)\r\nconst c6_charged_dmg_ = { ...c6_normal_dmg_ }\r\nconst c6_plunging_dmg_ = { ...c6_normal_dmg_ }\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    minShield: shieldNodeTalent(\"hp\", datamine.skill.hpShield_, datamine.skill.baseShield, \"skill\"),\r\n    minPyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.skill.hpShield_, datamine.skill.baseShield, \"skill\")),\r\n    maxShield: shieldNodeTalent(\"hp\", datamine.skill.maxHpShield_, datamine.skill.maxBaseShield, \"skill\"),\r\n    maxPyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.skill.maxHpShield_, datamine.skill.maxBaseShield, \"skill\")),\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    collapseDmg: dmgNode(\"atk\", datamine.burst.collapseDmg, \"burst\",\r\n      { premod: { burst_dmgInc: p2Collapse_dmgInc } }\r\n    ),\r\n    shield: shieldNodeTalent(\"hp\", datamine.burst.hpShield_, datamine.burst.baseShield, \"burst\"),\r\n    pyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.burst.hpShield_, datamine.burst.baseShield, \"burst\")),\r\n  }\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      shield_: p1_shield_,\r\n      normal_dmg_: c6_normal_dmg_,\r\n      charged_dmg_: c6_charged_dmg_,\r\n      plunging_dmg_: c6_plunging_dmg_,\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.minShield, { key: \"sheet_gen:dmgAbsorption\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.minPyroShield,\r\n          { key: `sheet:dmgAbsorption.${elementKey}`, variant: elementKey }\r\n        ),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.maxShield, { key: `char_${key}:maxShield` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.maxPyroShield,\r\n          { key: `char_${key}:maxPyroShield`, variant: elementKey }\r\n        ),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.skill.shieldDuration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.pressDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.shield, { key: \"sheet_gen:dmgAbsorption\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.pyroShield,\r\n          { key: `sheet:dmgAbsorption.${elementKey}`, variant: elementKey }\r\n        ),\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.shieldDuration,\r\n        unit: \"s\",\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.collapseDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: data => data.get(input.constellation).value >= 2\r\n          ? `${datamine.burst.scorchingDuration}s + ${datamine.c2.burstDuration}s = ${datamine.burst.scorchingDuration + datamine.c2.burstDuration}`\r\n          : datamine.burst.scorchingDuration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], undefined, [\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          value: condP1BarrierStacks,\r\n          path: condP1BarrierStacksPath,\r\n          name: trm(\"a1\"),\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(stacks => [\r\n            stacks,\r\n            {\r\n              name: st(\"stack\", { count: stacks }),\r\n              fields: [{\r\n                node: p1_shield_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive1.duration,\r\n                unit: \"s\"\r\n              }, {\r\n                text: st(\"triggerCD\"),\r\n                value: datamine.passive1.cd,\r\n                unit: \"s\",\r\n                fixed: 1\r\n              }]\r\n            }\r\n          ]))\r\n        }),\r\n        sectionTemplate(\"passive2\", tr, passive2, [{\r\n          node: infoMut(p2Collapse_dmgInc, { key: `char_${key}:a2`, variant: elementKey }),\r\n        }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n        sectionTemplate(\"constellation2\", tr, c2, [{\r\n          text: trm(\"c2\"),\r\n          value: datamine.c2.burstDuration,\r\n          unit: \"s\"\r\n        }], undefined, data => data.get(input.constellation).value >= 2, false, true),\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          value: condC4AfterBurst,\r\n          path: condC4AfterBurstPath,\r\n          name: st(\"afterUse.burst\"),\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                text: st(\"energyRegen\"),\r\n                value: datamine.c4.energyRestore,\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          value: condC6AfterBarrier,\r\n          path: condC6AfterBarrierPath,\r\n          name: trm(\"c6\"),\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.constellation, 6, 1),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: c6_normal_dmg_,\r\n              }, {\r\n                node: c6_charged_dmg_,\r\n              }, {\r\n                node: c6_plunging_dmg_,\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: skillC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: burstC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { TalentSheet } from '../../../../Types/character'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport { burst, c1, c2, c3, c4, c5, c6, passive1, passive2, skill } from './assets'\r\nimport data_gen_src from '../data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from '../../../../Formula/utils'\r\nimport { input, target } from '../../../../Formula'\r\nimport { normalSrc, sectionTemplate, talentTemplate } from '../../CharacterSheet'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport ColorText from '../../../../Components/ColoredText'\r\nimport { objectKeyValueMap } from '../../../../Util/Util'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"anemo\"\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\nconst trm = (strKey: string) => <Translate ns=\"char_Traveler\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    initial_dmg: skillParam_gen.skill[s++],\r\n    initial_max: skillParam_gen.skill[s++],\r\n    storm_dmg: skillParam_gen.skill[s++],\r\n    storm_max: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    absorbDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmg: 0.6,\r\n  },\r\n  passive2: {\r\n    heal_: 0.02,\r\n  },\r\n  constellation2: {\r\n    enerRech_: 0.16,\r\n  },\r\n  constellation6: {\r\n    enemyRes_: -0.2\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, `${elementKey}BurstAbsorption`)\r\nconst nodeC2 = greaterEq(input.constellation, 2, datamine.constellation2.enerRech_)\r\nconst [condC6Path, condC6] = cond(key, `${elementKey}C6Hit`)\r\nconst nodeC6 = equal(condC6, \"on\", datamine.constellation6.enemyRes_)\r\nconst nodesC6 = objectKeyValueMap(absorbableEle, ele => [`${ele}_enemyRes_`, equal(condC6, \"on\", equal(condBurstAbsorption, ele, datamine.constellation6.enemyRes_))])\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    initial_dmg: dmgNode(\"atk\", datamine.skill.initial_dmg, \"skill\"),\r\n    initial_max: dmgNode(\"atk\", datamine.skill.initial_max, \"skill\"),\r\n    storm_dmg: dmgNode(\"atk\", datamine.skill.storm_dmg, \"skill\"),\r\n    storm_max: dmgNode(\"atk\", datamine.skill.storm_max, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    absorb: dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } }),\r\n  },\r\n  passive1: {\r\n    dmg: greaterEq(input.asc, 1, customDmgNode(prod(input.total.atk, datamine.passive1.dmg), \"elemental\", { hit: { ele: constant(elementKey) } })),\r\n  },\r\n  passive2: {\r\n    heal: greaterEq(input.asc, 2, customHealNode(prod(percent(datamine.passive2.heal_), input.total.hp))),\r\n  }\r\n} as const\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    enerRech_: nodeC2,\r\n    ...nodesC6,\r\n    anemo_enemyRes_: nodeC6,\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n      ...sectionTemplate(\"auto\", tr, auto,\r\n        datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n        }))\r\n      ),\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }]),\r\n    skill: talentTemplate(\"skill\", tr, skill, [{\r\n      node: infoMut(dmgFormulas.skill.initial_dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` }),\r\n    }, {\r\n      node: infoMut(dmgFormulas.skill.initial_max, { key: `char_${key}_gen:${elementKey}.skill.skillParams.1` }),\r\n    }, {\r\n      node: infoMut(dmgFormulas.skill.storm_dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.2` }),\r\n    }, {\r\n      node: infoMut(dmgFormulas.skill.storm_max, { key: `char_${key}_gen:${elementKey}.skill.skillParams.3` }),\r\n    }, {\r\n      text: tr(\"skill.skillParams.4\"),\r\n      value: datamine.skill.cd,\r\n      unit: \"s\"\r\n    }, {\r\n      text: tr(\"skill.skillParams.5\"),\r\n      value: datamine.skill.maxCd,\r\n      unit: \"s\"\r\n    }, {\r\n      canShow: data => data.get(input.constellation).value >= 4,\r\n      text: trm(\"c1\"),\r\n      value: 10,\r\n      unit: \"%\"\r\n    }]),\r\n    burst: talentTemplate(\"burst\", tr, burst, [{\r\n      node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }),\r\n    }, {\r\n      text: tr(\"burst.skillParams.2\"),\r\n      value: datamine.burst.duration,\r\n      unit: \"s\"\r\n    }, {\r\n      text: tr(\"burst.skillParams.3\"),\r\n      value: datamine.burst.cd,\r\n      unit: \"s\"\r\n    }, {\r\n      text: tr(\"burst.skillParams.4\"),\r\n      value: datamine.burst.enerCost,\r\n    }], {\r\n      value: condBurstAbsorption,\r\n      path: condBurstAbsorptionPath,\r\n      name: st(\"eleAbsor\"),\r\n      states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n        name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.absorb, { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }),\r\n        }]\r\n      }]))\r\n    }, [\r\n      // C6 anemo\r\n      sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        description: tr(\"constellation6.description.0\"),\r\n        teamBuff: true,\r\n        name: trm(\"c6\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeC6, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      // C6 elemental self-display\r\n      sectionTemplate(\"constellation6\", tr, c6, absorbableEle.map(eleKey => (\r\n          { node: nodesC6[`${eleKey}_enemyRes_`] }\r\n        )),\r\n        undefined,\r\n        data => data.get(input.constellation).value >= 6\r\n          && data.get(condBurstAbsorption).value !== undefined\r\n          && data.get(equal(target.charKey, key, 1)).value === 1,\r\n        false,\r\n        true\r\n      ),\r\n      // C6 elemental team-display\r\n      sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        description: tr(\"constellation6.description.1\"),\r\n        name: st(\"eleAbsor\"),\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 6, unequal(input.activeCharKey, key, 1)),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: nodesC6[`${eleKey}_enemyRes_`]\r\n          }]\r\n        }]))\r\n      })\r\n    ]),\r\n    passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n      node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}:${elementKey}.p1` })\r\n    }]),\r\n    passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n      node: infoMut(dmgFormulas.passive2.heal, { key: `sheet_gen:healing`, variant: \"success\" })\r\n    }]),\r\n    constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n    constellation2: talentTemplate(\"constellation2\", tr, c2, [{ node: nodeC2 }]),\r\n    constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n    constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n    constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n    constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n  },\r\n}\r\nexport default talentSheet\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { TalentSheet } from '../../../../Types/character'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport { burst, c1, c2, c3, c4, c5, c6, passive1, passive2, skill } from './assets'\r\nimport data_gen_src from '../data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../../Formula/utils'\r\nimport { input, target } from '../../../../Formula'\r\nimport { normalSrc, talentTemplate, sectionTemplate } from '../../CharacterSheet'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { range } from '../../../../Util/Util'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"geo\"\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    numShockwaves: 4,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    skill_cdRed: 2\r\n  },\r\n  passive2: {\r\n    geoDmg: percent(0.6),\r\n  },\r\n  constellation1: {\r\n    critRate_: percent(0.1),\r\n  },\r\n  constellation4: {\r\n    energyRestore: 5,\r\n    maxTriggers: 5\r\n  },\r\n  constellation6: {\r\n    burstDuration: 5,\r\n    skillDuration: 10\r\n  }\r\n} as const\r\n\r\nconst [condC1BurstAreaPath, condC1BurstArea] = cond(key, `${elementKey}C1BurstArea`)\r\nconst c1BurstArea_critRate_Disp = greaterEq(input.constellation, 1,\r\n  equal(condC1BurstArea, \"on\", datamine.constellation1.critRate_)\r\n)\r\nconst c1BurstArea_critRate_ = equal(input.activeCharKey, target.charKey, c1BurstArea_critRate_Disp)\r\n\r\nconst [condC4BurstHitPath, condC4BurstHit] = cond(key, `${elementKey}C4BurstHit`)\r\nconst c4Burst_energyRestore = lookup(condC4BurstHit,\r\n  Object.fromEntries(range(1, datamine.constellation4.maxTriggers).map(stack => [\r\n    stack,\r\n    constant(stack * datamine.constellation4.energyRestore)\r\n  ])),\r\n  naught\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    dmg: customDmgNode(\r\n      prod(input.total.atk, datamine.passive2.geoDmg), \"elemental\", { hit: { ele: constant(\"geo\") } }\r\n    )\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n  }\r\n} as const\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: c1BurstArea_critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n      ...sectionTemplate(\"auto\", tr, auto,\r\n        datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n        }))\r\n      ),\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }]),\r\n    skill: talentTemplate(\"skill\", tr, skill, [{\r\n      node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` }),\r\n    }, {\r\n      text: tr(\"skill.skillParams.1\"),\r\n      value: data => data.get(input.constellation).value >= 6\r\n        ? `${datamine.skill.duration}s + ${datamine.constellation6.skillDuration}s = ${datamine.skill.duration + datamine.constellation6.skillDuration}`\r\n        : datamine.skill.duration,\r\n      unit: \"s\",\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: data => data.get(input.asc).value >= 1\r\n        ? `${datamine.skill.cd}s - ${datamine.passive1.skill_cdRed}s = ${datamine.skill.cd - datamine.passive1.skill_cdRed}`\r\n        : datamine.skill.cd,\r\n      unit: \"s\",\r\n    }], undefined, [\r\n      sectionTemplate(\"passive1\", tr, passive1, [{\r\n        text: st(\"skillCDRed\"),\r\n        value: datamine.passive1.skill_cdRed,\r\n        unit: \"s\"\r\n      }], undefined, data => data.get(input.asc).value >= 1, false, true),\r\n      sectionTemplate(\"constellation2\", tr, c2, [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:${elementKey}.c2.key` }),\r\n      }], undefined, data => data.get(input.constellation).value >= 2, false, true),\r\n      sectionTemplate(\"constellation6\", tr, c6, [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation6.skillDuration,\r\n        unit: \"s\"\r\n      }], undefined, data => data.get(input.constellation).value >= 6, false, true),\r\n    ]),\r\n    burst: talentTemplate(\"burst\", tr, burst, [{\r\n      node: infoMut(dmgFormulas.burst.dmg,\r\n        { key: `sheet_gen:skillDMG` }\r\n      ),\r\n      textSuffix: st(\"brHits\", { count: datamine.burst.numShockwaves })\r\n    }, {\r\n      text: tr(\"burst.skillParams.1\"),\r\n      value: data => data.get(input.constellation).value >= 6\r\n        ? `${datamine.burst.duration}s + ${datamine.constellation6.burstDuration}s = ${datamine.burst.duration + datamine.constellation6.burstDuration}`\r\n        : datamine.burst.duration,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: datamine.burst.cd,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"energyCost\"),\r\n      value: datamine.burst.enerCost,\r\n    }], undefined, [\r\n      sectionTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1BurstArea,\r\n        path: condC1BurstAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c1BurstArea_critRate_Disp, { key: \"critRate_\" }),\r\n            }, {\r\n              text: st(\"incInterRes\"),\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4BurstHit,\r\n        path: condC4BurstHitPath,\r\n        name: st(\"hitOp.burst\"),\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        states: Object.fromEntries(range(1, datamine.constellation4.maxTriggers).map(stack => [\r\n          stack,\r\n          {\r\n            name: st(\"hits\", { count: stack }),\r\n            fields: [{\r\n              node: infoMut(c4Burst_energyRestore, { key: \"sheet:energyRegen\" }),\r\n            }]\r\n          }\r\n        ]))\r\n      }),\r\n      sectionTemplate(\"constellation6\", tr, c6, [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation6.burstDuration,\r\n        unit: \"s\"\r\n      }], undefined, data => data.get(input.constellation).value >= 6, false, true),\r\n    ]),\r\n    passive1: talentTemplate(\"passive1\", tr, passive1),\r\n    passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n      node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:${elementKey}.passive2.key` })\r\n    }]),\r\n    constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n    constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n    constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: burstC3 }]),\r\n    constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n    constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: skillC5 }]),\r\n    constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n  }\r\n}\r\nexport default talentSheet\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input, target } from '../../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { TalentSheet } from '../../../../Types/character'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { cond, sgt } from '../../../SheetUtil'\r\nimport { normalSrc, sectionTemplate, talentTemplate } from '../../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport data_gen_src from '../data_gen.json'\r\nimport { burst, c1, c2, c3, c4, c5, c6, passive1, passive2, skill } from './assets'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"electro\"\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\nconst trm = (strKey: string) => <Translate ns=\"char_Traveler\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    energyRestore: skillParam_gen.skill[s++],\r\n    amulets: 2,\r\n    amuletDuration: skillParam_gen.skill[s++][0],\r\n    enerRech_: skillParam_gen.skill[s++][0],\r\n    enerRech_duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    thunderDmg: skillParam_gen.burst[b++],\r\n    thunderCd: 0.5,\r\n    energyRestore: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    enerRech_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    addlAmulets: 1\r\n  },\r\n  constellation2: {\r\n    duration: skillParam_gen.constellation2[0],\r\n    electro_enemyRes: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation6: {\r\n    numAttacks: skillParam_gen.constellation6[0],\r\n    thunder_dmg_: skillParam_gen.constellation6[0],\r\n    energyRestore: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst [condSkillAmuletPath, condSkillAmulet] = cond(key, `${elementKey}SkillAmulet`)\r\nconst p2_enerRech_ = greaterEq(input.asc, 4,\r\n  prod(input.premod.enerRech_, percent(datamine.passive2.enerRech_))\r\n)\r\nconst skillAmulet_enerRech_Disp = equal(condSkillAmulet, \"on\",\r\n  sum(\r\n    percent(datamine.skill.enerRech_),\r\n    p2_enerRech_\r\n  )\r\n)\r\nconst skillAmulet_enerRech_ = equal(input.activeCharKey, target.charKey, skillAmulet_enerRech_Disp)\r\n\r\nconst burstEnergyRestore = subscript(input.total.burstIndex, datamine.burst.energyRestore,\r\n  { key: `char_${key}_gen:${elementKey}.burst.skillParmas.2` }\r\n)\r\n\r\nconst [condC2ThunderPath, condC2Thunder] = cond(key, `${elementKey}C2Thunder`)\r\nconst c2Thunder_electro_enemyRes_ = greaterEq(input.constellation, 2,\r\n  equal(condC2Thunder, \"on\", datamine.constellation2.electro_enemyRes)\r\n)\r\n\r\nconst [condC6After2ThunderPath, condC6After2Thunder] = cond(key, `${elementKey}C6After2Thunder`)\r\nconst c6_thunder_dmg_ = greaterEq(input.constellation, 6, equal(condC6After2Thunder, \"on\", datamine.constellation6.thunder_dmg_))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    thunderDmg: dmgNode(\"atk\", datamine.burst.thunderDmg, \"burst\",\r\n      { premod: { burst_dmg_: c6_thunder_dmg_ } })\r\n  }\r\n} as const\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_enemyRes_: c2Thunder_electro_enemyRes_,\r\n    },\r\n    total: {\r\n      enerRech_: skillAmulet_enerRech_ // In total to avoid loops\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n      ...sectionTemplate(\"auto\", tr, auto,\r\n        datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n        }))\r\n      ),\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }]),\r\n    skill: talentTemplate(\"skill\", tr, skill, [{\r\n      node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` })\r\n    }, {\r\n      text: trm(\"skill.amuletGenAmt\"),\r\n      value: data => data.get(input.constellation).value >= 1\r\n        ? datamine.skill.amulets + datamine.constellation1.addlAmulets\r\n        : datamine.skill.amulets\r\n    }, {\r\n      text: tr(\"skill.skillParams.4\"),\r\n      value: datamine.skill.amuletDuration,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: datamine.skill.cd,\r\n      unit: \"s\",\r\n      fixed: 1\r\n    }], {\r\n      value: condSkillAmulet,\r\n      path: condSkillAmuletPath,\r\n      name: trm(\"skill.absorb\"),\r\n      teamBuff: true,\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: subscript(input.total.skillIndex, datamine.skill.energyRestore,\r\n              { key: `char_${key}_gen:${elementKey}.skill.skillParams.1` }\r\n            )\r\n          }, {\r\n            node: infoMut(skillAmulet_enerRech_Disp, { key: \"enerRech_\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.skill.enerRech_duration,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }, [\r\n      sectionTemplate(\"passive1\", tr, passive1, [{\r\n        text: tr(\"passive1.description\")\r\n      }], undefined, data => data.get(input.asc).value >= 1, false, true),\r\n      sectionTemplate(\"passive2\", tr, passive2, [{\r\n        node: infoMut(p2_enerRech_, { key: `char_${key}:${elementKey}.passive2.enerRech_` })\r\n      }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n    ]),\r\n    burst: talentTemplate(\"burst\", tr, burst, [{\r\n      node: infoMut(dmgFormulas.burst.pressDmg,\r\n        { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }\r\n      )\r\n    }, {\r\n      node: infoMut(dmgFormulas.burst.thunderDmg,\r\n        { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }\r\n      )\r\n    }, {\r\n      text: trm(\"burst.thunderCd\"),\r\n      value: datamine.burst.thunderCd,\r\n      unit: \"s\",\r\n      fixed: 1\r\n    }, {\r\n      node: infoMut(burstEnergyRestore, { key: `char_${key}_gen:${elementKey}.burst.skillParams.2` })\r\n    }, {\r\n      text: sgt(\"duration\"),\r\n      value: datamine.burst.duration,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: datamine.burst.cd,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"energyCost\"),\r\n      value: datamine.burst.enerCost,\r\n    }], undefined, [\r\n      sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2Thunder,\r\n        path: condC2ThunderPath,\r\n        name: trm(\"c2.thunderHit\"),\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c2Thunder_electro_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6After2Thunder,\r\n        path: condC6After2ThunderPath,\r\n        name: trm(\"c6.fallingThunder3\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c6_thunder_dmg_,\r\n                { key: `char_${key}:${elementKey}.c6.fallingThunderBonus_`, variant: \"electro\" }\r\n              )\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.constellation6.energyRestore\r\n            }]\r\n          }\r\n        }\r\n      })\r\n    ]),\r\n    passive1: talentTemplate(\"passive1\", tr, passive1),\r\n    passive2: talentTemplate(\"passive2\", tr, passive2),\r\n    constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n    constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n    constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: burstC3 }]),\r\n    constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n    constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: skillC5 }]),\r\n    constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n  }\r\n}\r\nexport default talentSheet\r\n","import card from './Traveler_Female_Card.jpg'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport anemo, { data as anemoData } from './anemo'\r\nimport geo, { data as geoData } from './geo'\r\nimport electro, { data as electroData} from './electro'\r\nimport { CharacterKey, WeaponTypeKey } from '../../../Types/consts';\r\nimport CharacterSheet, { ICharacterSheet } from '../CharacterSheet'\r\nimport data_gen_src from './data_gen.json'\r\nimport { CharacterData } from 'pipeline'\r\nimport { trans } from '../../SheetUtil'\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Traveler\"\r\nconst [tr] = trans(\"char\", key)\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  rarity: data_gen.star,\r\n  weaponTypeKey: data_gen.weaponTypeKey as WeaponTypeKey,\r\n  gender: \"F/M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talents: {\r\n    anemo,\r\n    geo,\r\n    electro,\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, {\r\n  anemo: anemoData,\r\n  geo: geoData,\r\n  electro: electroData,\r\n});\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { reactions } from '../../../Formula/reaction'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport {  customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Venti\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1x2\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x2\r\n      skillParam_gen.auto[a++], // 5\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++], // Aimed\r\n    fully: skillParam_gen.auto[a++], // Fully-charged\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    pressDmg: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n    holdDmg: skillParam_gen.skill[s++],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    baseDmg: skillParam_gen.burst[b++],\r\n    baseTicks: 20,\r\n    absorbDmg: skillParam_gen.burst[b++],\r\n    absorbTicks: 15,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[0][0]\r\n  },\r\n  // No real p3/constellation datamine values :(\r\n  passive3: {\r\n    stam_: 0.20,\r\n  },\r\n  constellation1: {\r\n    dmgRatio: 0.33,\r\n  },\r\n  constellation2: {\r\n    res_: -0.12,\r\n    duration: 10,\r\n  },\r\n  constellation4: {\r\n    anemo_dmg_: 0.25,\r\n    duration: 10,\r\n  },\r\n  constellation6: {\r\n    res_: -0.20,\r\n    duration: 10, // From KQM\r\n  }\r\n} as const\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst p3_staminaGlidingDec_ = constant(datamine.passive3.stam_)\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2Hit_anemo_enemyRes_ = greaterEq(input.constellation, 2,\r\n  lookup(condC2, {\r\n    \"hit\": constant(datamine.constellation2.res_),\r\n    \"launched\": prod(datamine.constellation2.res_, 2) },\r\n    naught\r\n  )\r\n)\r\nconst c2Hit_phys_enemyRes__ = {...c2Hit_anemo_enemyRes_}\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4_anemo_dmg_ = greaterEq(input.constellation, 4, equal(condC4, \"pickup\",\r\n  datamine.constellation4.anemo_dmg_))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6_anemo_enemyRes_ = equal(condC6, \"takeDmg\", datamine.constellation6.res_)\r\nconst c6_ele_enemyRes_arr = Object.fromEntries(absorbableEle.map(ele => [\r\n  `${ele}_enemyRes_`,\r\n  greaterEq(input.constellation, 6, equal(ele, condBurstAbsorption, constant(datamine.constellation6.res_)))\r\n]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n  [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fully: dmgNode(\"atk\", datamine.charged.fully, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.pressDmg, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.holdDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    base: dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"),\r\n    absorb: unequal(condBurstAbsorption, undefined, dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption }})),\r\n    full7: unequal(condBurstAbsorption, undefined, sum(\r\n      prod(dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"), 20),\r\n      prod(dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption }}), 15),\r\n      prod(lookup(condBurstAbsorption, objectKeyMap(absorbableEle, ele => reactions.anemo[`${ele}Swirl`]), naught), 7)\r\n    )),\r\n    full14: unequal(condBurstAbsorption, \"hydro\", unequal(condBurstAbsorption, undefined, sum(\r\n      prod(dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"), 20),\r\n      prod(dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption }}), 15),\r\n      prod(lookup(condBurstAbsorption, objectKeyMap(absorbableEle, ele => reactions.anemo[`${ele}Swirl`]), naught), 14)\r\n    )))\r\n  },\r\n  constellation1: {\r\n    aimed: greaterEq(input.constellation, 1,\r\n      customDmgNode(\r\n        prod(\r\n          percent(datamine.constellation1.dmgRatio),\r\n          subscript(input.total.autoIndex, datamine.charged.aimed, { key: \"_\" }),\r\n          input.total.atk\r\n        ),\r\n        \"charged\"\r\n      )\r\n    ),\r\n    fully: greaterEq(input.constellation, 1,\r\n      customDmgNode(\r\n        prod(\r\n          percent(datamine.constellation1.dmgRatio),\r\n          subscript(input.total.autoIndex, datamine.charged.fully, { key: \"_\" }),\r\n          input.total.atk\r\n        ),\r\n        \"charged\", { hit: { ele: constant(elementKey) } }\r\n      )\r\n    ),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    anemo_dmg_: c4_anemo_dmg_,\r\n    staminaGlidingDec_: p3_staminaGlidingDec_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      anemo_enemyRes_: sum(c2Hit_anemo_enemyRes_, c6_anemo_enemyRes_),\r\n      physical_enemyRes_: c2Hit_phys_enemyRes__,\r\n      ...c6_ele_enemyRes_arr,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: (i === 0 || i === 3) ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n            node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.constellation1.aimed, { key: `char_${key}:addAimed` })\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.fully, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.constellation1.fully, { key: `char_${key}:addFullAimed` })\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.pressCD,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        text: st(\"holdCD\"),\r\n        value: datamine.skill.holdCD,\r\n        unit: \"s\"\r\n      }],\r\n      undefined, [\r\n        sectionTemplate(\"passive1\", tr, passive1, [{\r\n          text: trm(\"upcurrentDuration\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }], undefined, data => data.get(input.asc).value >= 1, false, true\r\n        ), sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n          value: condC2,\r\n          path: condC2Path,\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.constellation, 2, 1),\r\n          name: tr(\"constellation2.name\"),\r\n          states: {\r\n            hit: {\r\n              name: trm(\"c2.hit\"),\r\n              fields: [{\r\n                node: infoMut(c2Hit_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n              }, {\r\n                node: c2Hit_phys_enemyRes__\r\n              }]\r\n            },\r\n            launched: {\r\n              name: trm(\"c2.launched\"),\r\n              fields: [{\r\n                node: infoMut(c2Hit_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n              }, {\r\n                node: c2Hit_phys_enemyRes__\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.base, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        textSuffix: st(\"brHits\", { count: datamine.burst.baseTicks })\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.absorb, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n            textSuffix: st(\"brHits\", { count: datamine.burst.absorbTicks })\r\n          }]\r\n        }]))\r\n      }, [{\r\n        // Custom burst formula\r\n        ...sectionTemplate(\"burst\", tr, burst, [{\r\n          node: infoMut(dmgFormulas.burst.full7, { key: `char_${key}:fullBurstDMG.dmg7`, variant: \"physical\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.full14, { key: `char_${key}:fullBurstDMG.dmg14`, variant: \"physical\" }),\r\n        }], undefined, data => data.get(condBurstAbsorption).value !== undefined, undefined, true),\r\n        text: trm(\"fullBurstDMG.description\"),\r\n        }, sectionTemplate(\"passive2\", tr, passive2, [{\r\n            text: trm(\"regenEner\"),\r\n          }, {\r\n            text: trm(\"q\"),\r\n          }], undefined, data => data.get(input.asc).value >= 4, false, true\r\n        ), \r\n        // C6 anemo team-display\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          value: condC6,\r\n          path: condC6Path,\r\n          description: tr(\"constellation6.description.0\"),\r\n          teamBuff: true,\r\n          name: trm(\"c6\"),\r\n          canShow: greaterEq(input.constellation, 6, 1),\r\n          states: {\r\n            takeDmg: {\r\n              fields: [{\r\n                node: infoMut(c6_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n              }]\r\n            }\r\n          }\r\n        }), \r\n        // C6 elemental self-display\r\n        sectionTemplate(\"constellation6\", tr, c6, absorbableEle.map(eleKey => (\r\n            { node: c6_ele_enemyRes_arr[`${eleKey}_enemyRes_`] }\r\n          )),\r\n          undefined,\r\n          data => data.get(input.constellation).value >= 6\r\n            && data.get(condBurstAbsorption).value !== undefined\r\n            && data.get(equal(target.charKey, key, 1)).value === 1,\r\n          false,\r\n          true\r\n        ),\r\n        // C6 elemental team-display\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          value: condBurstAbsorption,\r\n          path: condBurstAbsorptionPath,\r\n          description: tr(\"constellation6.description.1\"),\r\n          name: st(\"eleAbsor\"),\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.constellation, 6, unequal(input.activeCharKey, key, 1)),\r\n          states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n            name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n            fields: [{\r\n              node: c6_ele_enemyRes_arr[`${eleKey}_enemyRes_`]\r\n            }]\r\n          }]))\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, [{ node: p3_staminaGlidingDec_ }]),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        states: {\r\n          pickup: {\r\n            fields: [{\r\n              node: c4_anemo_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiangling\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4x4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg1: skillParam_gen.burst[b++],\r\n    dmg2: skillParam_gen.burst[b++],\r\n    dmg3: skillParam_gen.burst[b++],\r\n    dmgNado: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    atk_bonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    pyroRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    duration1: skillParam_gen.constellation2[0],\r\n    duration2: skillParam_gen.constellation2[1],\r\n    dmg: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation6: {\r\n    pyroDmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\n// A4\r\nconst [condAfterChiliPath, condAfterChili] = cond(key, \"afterChili\")\r\nconst afterChili = greaterEq(input.asc, 4,\r\n  equal(\"afterChili\", condAfterChili, percent(datamine.passive2.atk_bonus)))\r\n\r\n// C1\r\nconst [condAfterGuobaHitPath, condAfterGuobaHit] = cond(key, \"afterGuobaHit\")\r\nconst afterGuobaHit = greaterEq(input.constellation, 1,\r\n  equal(\"afterGuobaHit\", condAfterGuobaHit, percent(-datamine.constellation1.pyroRes)))\r\n\r\n// C6\r\nconst [condDuringPyronadoPath, condDuringPyronado] = cond(key, \"afterPyronado\")\r\nconst duringPyronado = greaterEq(input.constellation, 6,\r\n  equal(\"duringPyronado\", condDuringPyronado, percent(datamine.constellation6.pyroDmg))\r\n)\r\nconst antiC6 = prod(duringPyronado, -1)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg1: dmgNode(\"atk\", datamine.burst.dmg1, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n    dmg2: dmgNode(\"atk\", datamine.burst.dmg2, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.burst.dmg3, \"burst\"),\r\n    dmgNado: dmgNode(\"atk\", datamine.burst.dmgNado, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n  },\r\n  constellation2: {\r\n    dmg: customDmgNode(prod(input.total.atk, percent(datamine.constellation2.dmg)), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } })\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: afterChili,\r\n      pyro_dmg_: duringPyronado,\r\n      pyro_enemyRes_: afterGuobaHit,\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 3 ? st(\"brHits\", { count: 4 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` },)\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }], {\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        value: condAfterGuobaHit,\r\n        path: condAfterGuobaHitPath,\r\n        name: trm(\"afterGuobaHit\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        description: tr(\"constellation1.description\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterGuobaHit: {\r\n            fields: [{\r\n              node: afterGuobaHit\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg1, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg2, { key: `char_${key}_gen:burst.skillParams.1` },)\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg3, { key: `char_${key}_gen:burst.skillParams.2` },)\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmgNado, { key: `char_${key}_gen:burst.skillParams.3` },)\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condDuringPyronado,\r\n        path: condDuringPyronadoPath,\r\n        name: trm(\"duringPyronado\"),\r\n        header: conditionalHeader(\"constellation6\", tr, c6),\r\n        description: tr(\"constellation6.description\"),\r\n        teamBuff: true,\r\n        states: {\r\n          duringPyronado: {\r\n            fields: [{\r\n              text: trm(\"c6Exception\"),\r\n              canShow: data => data.get(input.constellation).value >= 6\r\n                && data.get(condDuringPyronado).value === \"duringPyronado\"\r\n            }, {\r\n              node: duringPyronado\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        canShow: greaterEq(input.asc, 2, 1),\r\n        value: condAfterChili,\r\n        path: condAfterChiliPath,\r\n        name: trm(\"afterChili\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterChili: {\r\n            fields: [{\r\n              node: afterChili,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        value: datamine.constellation2.dmg,\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:explosionDMG` }),\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lookup, naught, prod, subscript, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiao\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[2], // 2\r\n      skillParam_gen.auto[3], // 3\r\n      skillParam_gen.auto[4], // 4\r\n      skillParam_gen.auto[6], // 5\r\n      skillParam_gen.auto[7], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[8], // 1\r\n    stamina: skillParam_gen.auto[9][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[10],\r\n    low: skillParam_gen.auto[11],\r\n    high: skillParam_gen.auto[12],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n    drain: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmgBonus: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    duration: skillParam_gen.passive2[0][0],\r\n    skillDmgBonus: skillParam_gen.passive2[1][0],\r\n    maxStacks: skillParam_gen.passive2[2][0],\r\n  },\r\n  passive3: {\r\n    staminaClimbingDec_: 0.20,\r\n  },\r\n  constellation2: {\r\n    enerRech_: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    hpThresh: skillParam_gen.constellation4[0],\r\n    def_: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    duration: skillParam_gen.constellation6[0]\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condInBurstPath, condInBurst] = cond(key, \"inBurst\")\r\nconst auto_dmg_ = subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" })\r\nconst normal_dmg_ = equal(\"inBurst\", condInBurst, auto_dmg_, { key: \"_\" })\r\nconst charged_dmg_ = { ...normal_dmg_ }\r\nconst plunging_dmg_ = { ...normal_dmg_ }\r\nconst lifeDrain = subscript(input.total.burstIndex, datamine.burst.drain)\r\nconst infusion = equalStr(\"inBurst\", condInBurst, elementKey)\r\n\r\nconst [condA1BurstStackPath, condA1BurstStack] = cond(key, \"a1BurstStack\")\r\nconst a1BurstStackArr = range(0, 4)\r\nconst all_dmg_ = equal(\"inBurst\", condInBurst,\r\n  lookup(condA1BurstStack,\r\n    Object.fromEntries(a1BurstStackArr.map(i => [i, prod(datamine.passive1.dmgBonus, i + 1)])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst [condA4SkillStackPath, condA4SkillStack] = cond(key, \"a4SkillStack\")\r\nconst a4SkillStackArr = range(1, datamine.passive2.maxStacks)\r\nconst skill_dmg_ = greaterEq(input.asc, 4,\r\n  lookup(condA4SkillStack,\r\n    Object.fromEntries(a4SkillStackArr.map(i => [i, prod(datamine.passive2.skillDmgBonus, i)])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst c2Inactive = greaterEq(input.constellation, 2,\r\n  unequal(input.activeCharKey, key, 1)\r\n)\r\nconst c2Inactive_enerRech_ = equal(c2Inactive, 1, datamine.constellation2.enerRech_)\r\n\r\nconst [condC4BelowHPPath, condC4BelowHP] = cond(key, \"c4BelowHP\")\r\nconst c4BelowHP_def_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4BelowHP\", condC4BelowHP, datamine.constellation4.def_))\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_,\r\n    plunging_dmg_,\r\n    all_dmg_,\r\n    skill_dmg_,\r\n    enerRech_: c2Inactive_enerRech_,\r\n    def_: c4BelowHP_def_,\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: infusion\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: st(\"charges\"),\r\n        value: data => data.get(input.constellation).value >= 1 ? 3 : 2,\r\n      }], undefined, [ // A4\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          path: condA4SkillStackPath,\r\n          value: condA4SkillStack,\r\n          header: conditionalHeader(\"passive2\", tr, passive2),\r\n          description: tr(\"passive2.description\"),\r\n          name: trm(\"skillStack\"),\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          states: Object.fromEntries(a4SkillStackArr.map(i => [i, {\r\n            name: st(\"uses\", { count: i }),\r\n            fields: [{ node: skill_dmg_ }]\r\n          }]))\r\n        })\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(auto_dmg_, { key: `char_${key}:burst.autoAtkDmgBonus_` }),\r\n      }, {\r\n        node: infoMut(lifeDrain, { key: `char_${key}:burst.lifeDrain_` }),\r\n        textSuffix: trm(\"burst.currentHPPerSec\"),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        path: condInBurstPath,\r\n        value: condInBurst,\r\n        name: trm(\"burst.inBurst\"),\r\n        states: {\r\n          inBurst: {\r\n            fields: [{\r\n              node: normal_dmg_,\r\n            }, {\r\n              node: charged_dmg_,\r\n            }, {\r\n              node: plunging_dmg_,\r\n            }, {\r\n              text: trm(\"burst.incJump\"),\r\n            }, {\r\n              text: trm(\"burst.incAtkAoe\"),\r\n            }, {\r\n              canShow: data => data.get(infusion).value === elementKey,\r\n              text: <ColorText color=\"anemo\">{st(\"infusion.anemo\")}</ColorText>\r\n            }]\r\n          }\r\n        }\r\n      }, [ // A1\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          path: condA1BurstStackPath,\r\n          value: condA1BurstStack,\r\n          name: trm(\"burst.stack\"),\r\n          canShow: greaterEq(input.asc, 1, equal(\"inBurst\", condInBurst, 1)),\r\n          states: Object.fromEntries(a1BurstStackArr.map(i => [i, {\r\n            name: st(\"seconds\", { count: i * 3 }),\r\n            fields: [{ node: all_dmg_ }]\r\n          }]))\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, undefined, [\r\n        sectionTemplate(\"constellation2\", tr, c2, [{ node: c2Inactive_enerRech_ }], undefined,\r\n          data => data.get(c2Inactive).value === 1,\r\n          true,\r\n          true\r\n        )\r\n      ]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        path: condC4BelowHPPath,\r\n        value: condC4BelowHP,\r\n        name: st(\"lessPercentHP\", { percent: datamine.constellation4.hpThresh * 100 }),\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        states: {\r\n          c4BelowHP: {\r\n            fields: [{ node: c4BelowHP_def_ }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, min, percent, prod, subscript, sum, unit } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Xingqiu\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0\r\nexport const datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      (skillParam_gen.auto[0]),//1\r\n      (skillParam_gen.auto[1]),//2\r\n      (skillParam_gen.auto[2]),//3\r\n      // (skillParam_gen.auto[3]),\r\n      (skillParam_gen.auto[4]),//4\r\n      (skillParam_gen.auto[5]),//5\r\n      // (skillParam_gen.auto[6]),\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: (skillParam_gen.auto[7]),\r\n    hit2: (skillParam_gen.auto[8]),\r\n    stamina: skillParam_gen.auto[9][0]\r\n  },\r\n  plunging: {\r\n    dmg: (skillParam_gen.auto[10]),\r\n    low: (skillParam_gen.auto[11]),\r\n    high: (skillParam_gen.auto[12]),\r\n  },\r\n  skill: {\r\n    hit1: (skillParam_gen.skill[s++]),\r\n    hit2: (skillParam_gen.skill[s++]),\r\n    dmgRed_: (skillParam_gen.skill[s++]),\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: (skillParam_gen.burst[b++]),\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    hydro_dmg_: 0.20\r\n  },\r\n  constellation2: {\r\n    hydro_enemyRes_: -0.15,\r\n    skill_duration: 3\r\n  },\r\n  constellation4: {\r\n    dmg_: 0.50\r\n  },\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4, datamine.passive2.hydro_dmg_)\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst nodeC2 = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\", datamine.constellation2.hydro_enemyRes_))\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst nodeC4 = greaterEq(input.constellation, 4,\r\n  equal(condBurst, \"on\", datamine.constellation4.dmg_), { key: `char_${key}:c4dmg_` })\r\n\r\nconst nodeSkillDmgRed_ = equal(condSkill, \"on\",\r\n  sum(subscript(input.total.skillIndex, datamine.skill.dmgRed_, { key: \"_\" }), min(percent(0.24), prod(percent(0.2), input.total.hydro_dmg_))))\r\n\r\nconst nodeA4Heal = customHealNode(greaterEq(input.asc, 1, prod(input.total.hp, percent(0.06))))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    // Multiplicative DMG increase requires customDmgNode\r\n    press1: customDmgNode(prod(\r\n      subscript(input.total.skillIndex, datamine.skill.hit1, { key: \"_\" }),\r\n      input.total.atk,\r\n      sum(unit, nodeC4)\r\n    ), \"skill\"),\r\n    press2: customDmgNode(prod(\r\n      subscript(input.total.skillIndex, datamine.skill.hit2, { key: \"_\" }),\r\n      input.total.atk,\r\n      sum(unit, nodeC4)\r\n    ), \"skill\"),\r\n    dmgRed_: nodeSkillDmgRed_,\r\n  },\r\n  passive1: {\r\n    healing: nodeA4Heal\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      hydro_enemyRes_: nodeC2,\r\n      dmgRed_: infoMut(nodeSkillDmgRed_, { key: \"dmgRed_\" }),\r\n    }\r\n  },\r\n  premod: {\r\n    hydro_dmg_: nodeA4,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.press2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: data => data.get(input.constellation).value >= 2\r\n          ? `${datamine.skill.duration}s + ${datamine.constellation2.skill_duration}`\r\n          : `${datamine.skill.duration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"skillCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: dmgFormulas.skill.dmgRed_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cost,\r\n      }], {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burstCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.1\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              node: nodeC4\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        node: infoMut(dmgFormulas.passive1.healing, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n      },]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: nodeA4\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2Cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, percent, prod, equal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Xinyan\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin: skillParam_gen.auto[a++],\r\n    final: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    shieldArr: [\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n    ],\r\n    lvl3Dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressPhysDmg: skillParam_gen.burst[b++],\r\n    dotPyroDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    physical_dmg_: skillParam_gen.passive2[0][0],\r\n  },\r\n  c1: {\r\n    atkSPD_: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n    cd: skillParam_gen.constellation1[1],\r\n  },\r\n  c2: {\r\n    burstphysical_critRate_: skillParam_gen.constellation2[0],\r\n  },\r\n  c4: {\r\n    physical_enemyRes_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  c6: {\r\n    staminaChargedDec_: -skillParam_gen.constellation6[0],\r\n    charged_atkBonus: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst [condSkillHitNumPath, condSkillHitNum] = cond(key, \"skillHitNum\")\r\n\r\nconst [condP2ShieldPath, condP2Shield] = cond(key, \"p2Shield\")\r\nconst p2Shield_physical_dmg_Disp = greaterEq(input.asc, 4, equal(condP2Shield, \"on\", datamine.passive2.physical_dmg_))\r\nconst p2Shield_physical_dmg_ = equal(input.activeCharKey, target.charKey, p2Shield_physical_dmg_Disp)\r\n\r\nconst [condC1CritPath, condC1Crit] = cond(key, \"c1Crit\")\r\nconst c1Crit_atkSPD_ = greaterEq(input.constellation, 1, equal(condC1Crit, \"on\", datamine.c1.atkSPD_))\r\n\r\nconst c2BurstPhysical_critRate_ = greaterEq(input.constellation, 2, datamine.c2.burstphysical_critRate_)\r\n\r\nconst [condC4SkillHitPath, condC4SkillHit] = cond(key, \"c4Burst\")\r\nconst c4SkillHit_physical_enemyRes_ = greaterEq(input.constellation, 4, equal(condC4SkillHit, \"on\", datamine.c4.physical_enemyRes_))\r\n\r\nconst c6_staminaChargedDec_ = greaterEq(input.constellation, 6, datamine.c6.staminaChargedDec_)\r\nconst [condC6ChargedPath, condC6Charged] = cond(key, \"c6Charged\")\r\nconst c6_chargedAtkBonus = greaterEq(input.constellation, 6,\r\n  equal(condC6Charged, \"on\",\r\n    prod(input.total.def, percent(datamine.c6.charged_atkBonus))\r\n  )\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spin: dmgNode(\"atk\", datamine.charged.spin, \"charged\"),\r\n    final: dmgNode(\"atk\", datamine.charged.final, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    ...Object.fromEntries(datamine.skill.shieldArr.map((data, i) => [\r\n      `normShield${i + 1}`,\r\n      shieldNodeTalent(\"def\", data.defShield_, data.baseShield, \"skill\"),\r\n    ])),\r\n    ...Object.fromEntries(datamine.skill.shieldArr.map((data, i) => [\r\n      `pyroShield${i + 1}`,\r\n      shieldElement(elementKey, shieldNodeTalent(\"def\", data.defShield_, data.baseShield, \"skill\"))\r\n    ])),\r\n    lvl3Dmg: dmgNode(\"atk\", datamine.skill.lvl3Dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    pressPhysDmg: dmgNode(\"atk\", datamine.burst.pressPhysDmg, \"burst\", {\r\n      hit: { ele: constant(\"physical\") },\r\n      premod: {\r\n        burst_critRate_: c2BurstPhysical_critRate_,\r\n      }\r\n    }),\r\n    dotPyroDmg: dmgNode(\"atk\", datamine.burst.dotPyroDmg, \"burst\"),\r\n  },\r\n} as const\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      physical_dmg_: p2Shield_physical_dmg_,\r\n      physical_enemyRes_: c4SkillHit_physical_enemyRes_,\r\n    }\r\n  },\r\n  premod: {\r\n    atkSPD_: c1Crit_atkSPD_,\r\n    staminaChargedDec_: c6_staminaChargedDec_,\r\n    atk: c6_chargedAtkBonus\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.spin, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.final, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: `${datamine.charged.stamina}/s`,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, sectionTemplate(\"constellation6\", tr, c6, [{\r\n        node: c6_staminaChargedDec_\r\n      }], {\r\n        value: condC6Charged,\r\n        path: condC6ChargedPath,\r\n        name: trm(\"c6.duringCharge\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c6_chargedAtkBonus\r\n            }]\r\n          }\r\n        }\r\n      }, data => data.get(input.constellation).value >= 6, false, true), {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condSkillHitNum,\r\n        path: condSkillHitNumPath,\r\n        name: trm(\"skill.shieldLevel\"),\r\n        states: Object.fromEntries(range(1, 3).map(lvl => [ // For each level\r\n          lvl, {\r\n            name: trm(`skill.shieldLevels.${lvl}`),\r\n            fields: [\r\n              ...([\"norm\", \"pyro\"] as const).flatMap(type => ([{ // For each type of shield\r\n              node: infoMut(dmgFormulas.skill[`${type}Shield${lvl}`], // Make the node\r\n                { key: type === \"norm\" // And change the key to match\r\n                  ? `char_${key}_gen:skill.skillParams.${lvl}`\r\n                  : `char_${key}:skill.pyroShield.${lvl}`\r\n                }\r\n              )},\r\n            ])), {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.skill.duration,\r\n              unit: \"s\",\r\n            },\r\n            // Level 3 damage\r\n            ...lvl === 3 ? [{node: infoMut(dmgFormulas.skill.lvl3Dmg, { key: `char_${key}_gen:skill.skillParams.4` })}] : [],\r\n          ]}\r\n        ]))\r\n      }, [\r\n        sectionTemplate(\"passive1\", tr, passive1, [{\r\n          text: trm(\"p1.desc\"),\r\n        }], undefined, data => data.get(input.asc).value >= 1, false, true),\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          value: condP2Shield,\r\n          path: condP2ShieldPath,\r\n          name: trm(\"p2.activeShield\"),\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: infoMut(p2Shield_physical_dmg_Disp, { key: \"physical_dmg_\" })\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          value: condC4SkillHit,\r\n          path: condC4SkillHitPath,\r\n          name: trm(\"c4.swingHit\"),\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: c4SkillHit_physical_enemyRes_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.c4.duration,\r\n                unit: \"s\",\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.pressPhysDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dotPyroDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], undefined, [\r\n        sectionTemplate(\"constellation2\", tr, c2, [{\r\n          node: infoMut(c2BurstPhysical_critRate_, { key: `char_${key}:c2.key_` }),\r\n        }, {\r\n          text: trm(\"c2.shield\"),\r\n        }], undefined, data => data.get(input.constellation).value >= 2, false, true),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1Crit,\r\n        path: condC1CritPath,\r\n        name: st(\"hitOp.crit\"),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c1Crit_atkSPD_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.c1.duration,\r\n              unit: \"s\",\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.c1.cd,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: skillC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: burstC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lessThan, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YaeMiko\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    dmg3: skillParam_gen.skill[s++],\r\n    dmg4: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    tenkoDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_dmg_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    ele_dmg_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    defIgn_: skillParam_gen.constellation6[0],\r\n  }\r\n\r\n} as const\r\n\r\nconst nodeAsc4 = greaterEq(input.asc, 4, prod(input.total.eleMas, percent(datamine.passive2.eleMas_dmg_)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"hit\", condC4, datamine.constellation4.ele_dmg_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, datamine.constellation6.defIgn_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg1: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg1, \"skill\")),\r\n    dmg2: dmgNode(\"atk\", datamine.skill.dmg2, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.skill.dmg3, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg4: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg4, \"skill\", { enemy: { defIgn: nodeC6 } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    tenkoDmg: dmgNode(\"atk\", datamine.burst.tenkoDmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  total: {\r\n    skill_dmg_: nodeAsc4,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_dmg_: nodeC4\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.4\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg3, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg4, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.cd,\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.tenkoDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{ node: nodeAsc4 }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: nodeC4,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, customShieldNode, dataObjForCharacterSheet, dmgNode, shieldElement } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Yanfei\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmgArr: [\r\n      skillParam_gen.auto[a++], // 0 seals\r\n      skillParam_gen.auto[a++], // 1 seal\r\n      skillParam_gen.auto[a++], // 2 seals\r\n      skillParam_gen.auto[a++], // 3 seals\r\n      skillParam_gen.auto[a++], // 4 seals\r\n    ],\r\n    unknown: {\r\n      arr: [\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n      ]\r\n    },\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    sealStaminaRed_: skillParam_gen.auto[a++][0],\r\n    maxSeals: 3,\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  sealDuration: skillParam_gen.auto[a++][0],\r\n  // There is another unknown here for auto\r\n  skill: {\r\n    dmg: skillParam_gen.skill[0],\r\n    cd: skillParam_gen.skill[1][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    charged_dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    sealInterval: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    seal_pyro_dmg_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n  },\r\n  passive2: {\r\n    dmg: percent(skillParam_gen.passive2[0][0])\r\n  },\r\n  c1: {\r\n    sealStaminaRed_: skillParam_gen.constellation1[0]\r\n  },\r\n  c2: {\r\n    hpThresh: skillParam_gen.constellation2[0],\r\n    charged_critRate_: skillParam_gen.constellation2[1]\r\n  },\r\n  c4: {\r\n    hpShield_: skillParam_gen.constellation4[0],\r\n    duration: 15,\r\n  },\r\n  c6: {\r\n    extraSeals: skillParam_gen.constellation6[0]\r\n  }\r\n} as const\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst_charged_dmg_ = equal(condAfterBurst, \"on\",\r\n  subscript(input.total.burstIndex, datamine.burst.charged_dmg_)\r\n)\r\n\r\nconst [condP1SealsPath, condP1Seals] = cond(key, \"p1Seals\")\r\nconst p1_pyro_dmg_ = greaterEq(input.asc, 1,\r\n  // TODO: Should be changing number of seals shown based on C6\r\n  lookup(condP1Seals, Object.fromEntries(range(1, 4).map(seals => [\r\n    seals,\r\n    prod(seals, datamine.passive1.seal_pyro_dmg_)\r\n  ])), naught)\r\n)\r\n\r\nconst [condP2ChargedCritPath, condP2ChargedCrit] = cond(key, \"p2ChargedCrit\")\r\n\r\nconst [condC2EnemyHpPath, condC2EnemyHp] = cond(key, \"c2EnemyHp\")\r\nconst c2EnemyHp_critRate_ = greaterEq(input.constellation, 2,\r\n  equal(condC2EnemyHp, \"on\", datamine.c2.charged_critRate_)\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: Object.fromEntries(datamine.charged.dmgArr.map((arr, i) =>\r\n    [i, i < 4\r\n      ? dmgNode(\"atk\", arr, \"charged\")\r\n      : greaterEq(input.constellation, 6, dmgNode(\"atk\", arr, \"charged\"))\r\n    ])),\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\")\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, equal(condP2ChargedCrit, \"on\",\r\n      customDmgNode(prod(input.total.atk, datamine.passive2.dmg), \"charged\")\r\n    ))\r\n  },\r\n  constellation4: {\r\n    pyro_shield: greaterEq(input.constellation, 4,\r\n      shieldElement(elementKey, customShieldNode(prod(input.total.hp, datamine.c4.hpShield_)))\r\n    ),\r\n    norm_shield: greaterEq(input.constellation, 4,\r\n      customShieldNode(prod(input.total.hp, datamine.c4.hpShield_))\r\n    ),\r\n  },\r\n} as const\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_: afterBurst_charged_dmg_,\r\n    charged_critRate_: c2EnemyHp_critRate_,\r\n    pyro_dmg_: p1_pyro_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [\r\n          // TODO: Would probably be better as a conditional,\r\n          // but can't make conditional states based on constellation value\r\n          ...datamine.charged.dmgArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.charged[i], { key: `char_${key}:charged.${i}` }),\r\n          })), {\r\n            text: tr(\"auto.skillParams.4\"),\r\n            // TODO: Should change this value based on how many seals, but can't do without conditional\r\n            // charged attack. And its a bit execssive.\r\n            value: datamine.charged.stamina,\r\n          }, {\r\n            text: st(\"staminaDec_\"),\r\n            value: datamine.charged.sealStaminaRed_ * 100,\r\n            textSuffix: trm(\"perSeal\"),\r\n            unit: \"%\",\r\n          }, {\r\n            text: trm(\"maxSeals\"),\r\n            value: data => data.get(input.constellation).value >= 6\r\n              ? datamine.charged.maxSeals + datamine.c6.extraSeals\r\n              : datamine.charged.maxSeals,\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.sealDuration,\r\n            unit: \"s\"\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      },\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          value: condP1Seals,\r\n          path: condP1SealsPath,\r\n          name: trm(\"passive1.sealsConsumed\"),\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          // TODO: Should be changing number of seals shown based on C6\r\n          states: Object.fromEntries(range(1, 4).map(seals => [\r\n            seals, {\r\n              name: trm(`seals.${seals}`),\r\n              fields: [{\r\n                node: p1_pyro_dmg_,\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive1.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          ]))\r\n        }),\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          value: condP2ChargedCrit,\r\n          path: condP2ChargedCritPath,\r\n          name: trm(\"passive2.chargedCrit\"),\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:passive2.key` })\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: trm(\"c1.sealChargedStam_\"),\r\n          value: datamine.c1.sealStaminaRed_ * -100,\r\n          textSuffix: trm(\"perSeal\"),\r\n          unit: \"%\"\r\n        }, {\r\n          text: st(\"incInterRes\")\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n        sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n          value: condC2EnemyHp,\r\n          path: condC2EnemyHpPath,\r\n          name: st(\"enemyLessPercentHP\", { percent: datamine.c2.hpThresh * 100 }),\r\n          canShow: greaterEq(input.constellation, 2, 1),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: c2EnemyHp_critRate_\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation6\", tr, c6, [{\r\n          text: trm(\"c6.maxSealInc\"),\r\n          value: datamine.c6.extraSeals\r\n        }], undefined, data => data.get(input.constellation).value >= 6, false, true), {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: trm(\"burst.grantMax\")\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.sealInterval,\r\n              unit: \"s\"\r\n            }, {\r\n              node: afterBurst_charged_dmg_\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"constellation4\", tr, c4, [{\r\n          node: infoMut(dmgFormulas.constellation4.norm_shield, { key: \"sheet_gen:dmgAbsorption\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.pyro_shield, { key: `sheet:dmgAbsorption.${elementKey}` })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.c4.duration,\r\n          unit: \"s\"\r\n        }], undefined, data => data.get(input.constellation).value >= 4, false, true)\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: skillC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: burstC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, matchFull, percent, prod, subscript, sum, unequal, unit } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { INodeFieldDisplay } from '../../../Types/IFieldDisplay'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst characterKey: CharacterKey = \"Yoimiya\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\nconst [tr, charTr] = trans(\"char\", characterKey)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], //x2\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3], //x2\r\n      skillParam_gen.auto[4],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit: skillParam_gen.auto[5],\r\n    full: skillParam_gen.auto[6],\r\n    kindling: skillParam_gen.auto[7],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    dmg_: skillParam_gen.skill[3],\r\n    duration: skillParam_gen.skill[1][0],\r\n    cd: skillParam_gen.skill[2][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[0],\r\n    exp: skillParam_gen.burst[1],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0]\r\n  },\r\n  passive1: {\r\n    pyro_dmg_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n    maxStacks: 10,\r\n  },\r\n  passive2: {\r\n    fixed_atk_: skillParam_gen.passive2[0][0],\r\n    var_atk_: skillParam_gen.passive2[1][0],\r\n    duration: skillParam_gen.passive2[2][0],\r\n  },\r\n  constellation1: {\r\n    burst_durationInc: skillParam_gen.constellation1[0],\r\n    atk_: skillParam_gen.constellation1[1],\r\n    duration: skillParam_gen.constellation1[2]\r\n  },\r\n  constellation2: {\r\n    pyro_dmg_: skillParam_gen.constellation2[0],\r\n    duration: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation3: {},\r\n  constellation4: {\r\n    cdRed: skillParam_gen.constellation4[0]\r\n  },\r\n  constellation5: {},\r\n  constellation6: {\r\n    chance: skillParam_gen.constellation6[0],\r\n    dmg_: skillParam_gen.constellation6[1],\r\n  },\r\n}\r\n\r\nconst [condSkillPath, condSkill] = cond(characterKey, \"skill\")\r\nconst [condBurstPath, condBurst] = cond(characterKey, \"burst\")\r\nconst [condA1Path, condA1] = cond(characterKey, \"a1\")\r\nconst [condC1Path, condC1] = cond(characterKey, \"c1\")\r\nconst [condC2Path, condC2] = cond(characterKey, \"c2\")\r\nconst const3TalentInc = greaterEq(input.constellation, 3, 3)\r\nconst const5TalentInc = greaterEq(input.constellation, 5, 3)\r\nconst normal_dmgMult = matchFull(condSkill, \"skill\", subscript(input.total.skillIndex, datamine.skill.dmg_, { key: \"_\" }), unit)\r\nconst a1Stacks = lookup(condA1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(i)])), 0)\r\nconst pyro_dmg_ = greaterEq(input.asc, 1, equal(condSkill, \"skill\", infoMut(prod(percent(datamine.passive1.pyro_dmg_), a1Stacks), { key: 'pyro_dmg_', variant: elementKey })))\r\nconst atk_ = greaterEq(input.asc, 4, equal(condBurst, \"on\", unequal(input.activeCharKey, characterKey,\r\n  sum(percent(datamine.passive2.fixed_atk_), prod(percent(datamine.passive2.var_atk_), a1Stacks)))))\r\nconst c1atk_ = equal(condC1, 'c1', percent(datamine.constellation1.atk_))\r\nconst c2pyro_dmg_ = equal(condC2, 'c2', percent(datamine.constellation2.pyro_dmg_), { key: 'pyro_dmg_', variant: elementKey })\r\n\r\nconst canShowC6 = data => data.get(input.constellation).value >= 6 && data.get(condSkill).value === 'skill'\r\n\r\nconst normalEntries = datamine.normal.hitArr.map((arr, i) => [\r\n  i,\r\n  customDmgNode(\r\n    prod(subscript(input.total.autoIndex, arr, { key: \"_\" }), input.total.atk, normal_dmgMult),\r\n    \"normal\", {\r\n      hit: {\r\n        ele: matchFull(condSkill, \"skill\", constant(elementKey), constant(\"physical\"))\r\n      }\r\n    }\r\n  )\r\n])\r\n\r\n// This might just need to be a single dmgNode of her kindling arrow, with proper scaling applied.\r\nconst kindlingEntries = normalEntries.map(([_, node], i) => [i, greaterEq(input.constellation, 6, equal(condSkill, \"skill\", prod(percent(datamine.constellation6.dmg_), node)))])\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(normalEntries),\r\n  charged: {\r\n    hit: dmgNode(\"atk\", datamine.charged.hit, \"charged\"),\r\n    full: dmgNode(\"atk\", datamine.charged.full, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n    kindling: unequal(condSkill, \"skill\", dmgNode(\"atk\", datamine.charged.kindling, \"charged\", { hit: { ele: constant(elementKey) } }))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {},\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n    exp: dmgNode(\"atk\", datamine.burst.exp, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  constellation6: Object.fromEntries(kindlingEntries)\r\n}\r\n\r\nexport const dataObj = dataObjForCharacterSheet(characterKey, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: const3TalentInc,\r\n    burst: const5TalentInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_,\r\n    }\r\n  },\r\n  premod: {\r\n    atk_: c1atk_,\r\n    pyro_dmg_: sum(pyro_dmg_, c2pyro_dmg_),\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.hit, { key: `char_${characterKey}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.full, { key: `char_${characterKey}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.kindling, { key: `char_${characterKey}_gen:auto.skillParams.7` }),\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto , [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(`auto.fields.plunging`),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.cd,\r\n        unit: 's'\r\n      }], {\r\n        name: st(\"afterUse.skill\"),\r\n        path: condSkillPath,\r\n        value: condSkill,\r\n        states: {\r\n          skill: {\r\n            fields: [{\r\n              text: charTr(\"normMult\"),\r\n              value: data => data.get(normal_dmgMult).value * 100,\r\n              fixed: 1,\r\n              unit: \"%\",\r\n            }, {\r\n              text: charTr(\"normPyroInfus\"),\r\n            }, {\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          // Conditional for self display\r\n          canShow: greaterEq(input.asc, 1, equal(condSkill, \"skill\", 1)),\r\n          value: condA1,\r\n          path: condA1Path,\r\n          name: tr(\"passive1.name\"),\r\n          states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n            [i, {\r\n              name: `${i} stack`,\r\n              fields: [{\r\n                node: pyro_dmg_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive1.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }]\r\n          ))\r\n        }),\r\n        sectionTemplate(\"constellation6\", tr, c6,\r\n        datamine.normal.hitArr.map((_, i): INodeFieldDisplay => ({\r\n          canShow: canShowC6,\r\n          node: infoMut(dmgFormulas.constellation6[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        })),\r\n        undefined, data => data.get(input.constellation).value >= 6 && data.get(condSkill).value === \"skill\",\r\n        false, true)\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${characterKey}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.exp, { key: `char_${characterKey}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: uiData => datamine.burst.duration + (uiData.get(input.constellation).value >= 1 ? datamine.constellation1.burst_durationInc : 0),\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: 60,\r\n      }], undefined, [\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: st(\"durationInc\"),\r\n          value: datamine.constellation1.burst_durationInc,\r\n          unit: \"s\"\r\n        }], {\r\n          canShow: greaterEq(input.constellation, 1, 1),\r\n          name: charTr(\"c1\"),\r\n          value: condC1,\r\n          path: condC1Path,\r\n          states: {\r\n            c1: {\r\n              fields: [{\r\n                node: constant(datamine.constellation1.atk_, { key: \"atk_\" })\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation1.duration,\r\n                unit: 's'\r\n              }]\r\n            }\r\n          }\r\n        }, data => data.get(input.constellation).value >= 1, false, true),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        teamBuff: true,\r\n        // Hide for Yoimiya\r\n        canShow: greaterEq(input.asc, 4, unequal(input.activeCharKey, characterKey, 1)),\r\n        path: condBurstPath,\r\n        value: condBurst,\r\n        name: tr(\"burst.name\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atk_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        // Conditional from P1 for team buff display when P2 is activated\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          canShow: unequal(input.activeCharKey, characterKey, greaterEq(input.asc, 4, equal(condBurst, \"on\", 1))),\r\n          teamBuff: true,\r\n          value: condA1,\r\n          path: condA1Path,\r\n          name: tr(\"passive1.name\"),\r\n          states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n            [i, {\r\n              name: `${i} stack`,\r\n              fields: [{\r\n                node: pyro_dmg_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive1.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }]\r\n          ))\r\n        })\r\n      ]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        name: charTr(\"c2\"),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        states: {\r\n          c2: {\r\n            fields: [{\r\n              node: c2pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: const3TalentInc }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: const5TalentInc }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6,\r\n      )\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, dataObj);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElements, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YunJin\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shield_: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgInc: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    triggerNum: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    dmgInc: skillParam_gen.passive2.map(a => a[0]),\r\n  },\r\n  constellation2: {\r\n    normalInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    atkSpd: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4,\r\n  subscript(sum(...allElements.map(ele => greaterEq(tally[ele], 1, 1))), [0, ...datamine.passive2.dmgInc], { key: '_' }))\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"skill\")\r\nconst nodeSkill = equal(\"on\", condBurst, sum(\r\n  prod(input.premod.def, sum(subscript(input.total.burstIndex, datamine.burst.dmgInc, { key: '_' }), nodeA4))))\r\n\r\nconst nodeC2 = greaterEq(input.constellation, 2, equal(\"on\", condBurst, datamine.constellation2.normalInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"on\", condC4, datamine.constellation4.def_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(\"on\", condBurst, datamine.constellation6.atkSpd))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"def\", datamine.skill.dmg, \"skill\"),\r\n    dmg1: dmgNode(\"def\", datamine.skill.dmg1, \"skill\"),\r\n    dmg2: dmgNode(\"def\", datamine.skill.dmg2, \"skill\"),\r\n    shield: shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dmgInc: nodeSkill\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_: nodeC4,\r\n    atkSPD_: nodeC6,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmgInc: nodeSkill,\r\n      normal_dmg_: nodeC2,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i > 2 ? -1 : 0) + (i > 4 ? -1 : 0)}` }),\r\n            textSuffix: (i === 2 || i === 4) ? \"(1)\" : (i === 3 || i === 5) ? \"(2)\" : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? `${datamine.skill.cd} - 18% = ${(datamine.skill.cd*(1-0.18)).toFixed(2)}`\r\n          : `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }, {\r\n              node: nodeC2\r\n            }, {\r\n              node: nodeC6\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: tr(\"burst.skillParams.3\"),\r\n              value: datamine.burst.triggerNum,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{ node: infoMut(nodeA4, { key: `char_${key}:a4Inc_` }) }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{ node: nodeC2 }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC4\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, objectKeyValueMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Zhongli\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stele: skillParam_gen.skill[s++],\r\n    resonance: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n    holdDMG: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    shield_: skillParam_gen.skill[s++],\r\n    shileDuration: skillParam_gen.skill[s++][0],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n    enemyRes_: -0.2,\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    shield_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    auto_: skillParam_gen.passive2[p2++][0],\r\n    skill_: skillParam_gen.passive2[p2++][0],\r\n    burst_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    durationInc: skillParam_gen.constellation4[1]\r\n  },\r\n  constellation6: {\r\n    hp_: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst nodesSkill = objectKeyValueMap(allElementsWithPhy, k => [`${k}_enemyRes_`,\r\nequal(\"on\", condSkill, percent(datamine.skill.enemyRes_))])\r\n\r\nconst [condP1Path, condP1] = cond(key, \"p1\")\r\nconst nodeP1 = greaterEq(\r\n  input.asc, 1,\r\n  lookup(condP1, objectKeyMap(range(1, 5), i => percent(datamine.passive1.shield_ * i)), naught)\r\n)\r\n\r\nconst p4AutoDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.auto_), input.premod.hp))\r\nconst p4normalDmgInc = { ...p4AutoDmgInc }\r\nconst p4ChargedDmgInc = { ...p4AutoDmgInc }\r\nconst p4PlungingDmgInc = { ...p4AutoDmgInc }\r\nconst p4SKillDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.skill_), input.premod.hp))\r\nconst p4BurstDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.burst_), input.premod.hp))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6,\r\n  customHealNode(prod(\r\n    percent(datamine.constellation6.hp_),\r\n    input.total.hp\r\n  )))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stele: dmgNode(\"atk\", datamine.skill.stele, \"skill\"),\r\n    resonance: dmgNode(\"atk\", datamine.skill.resonance, \"skill\"),\r\n    holdDMG: dmgNode(\"atk\", datamine.skill.holdDMG, \"skill\"),\r\n    shield: shieldElement(\"geo\", shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\"))\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    p4normalDmgInc,\r\n    p4ChargedDmgInc,\r\n    p4PlungingDmgInc,\r\n    p4SKillDmgInc,\r\n    p4BurstDmgInc,\r\n  },\r\n  constellation6: {\r\n    heal: nodeC6\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    // TODO: below should be for `total`\r\n    normal_dmgInc: p4normalDmgInc,\r\n    charged_dmgInc: p4ChargedDmgInc,\r\n    plunging_dmgInc: p4PlungingDmgInc,\r\n    skill_dmgInc: p4SKillDmgInc,\r\n    burst_dmgInc: p4BurstDmgInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      shield_: nodeP1,\r\n      ...nodesSkill,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 4 ? st(\"brHits\", { count: 4 }) : \"\"\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.stamina,\r\n          },]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.stele, { key: `char_${key}:skill.stele` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.resonance, { key: `char_${key}:skill.resonance` })\r\n      }, {\r\n        text: trm(\"skill.maxStele\"),\r\n        value: data => data.get(input.constellation).value >= 1 ? 2 : 1\r\n      }, {\r\n        text: st(\"pressCD\"),\r\n        value: datamine.skill.pressCD,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.holdDMG, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        text: st(\"holdCD\"),\r\n        value: datamine.skill.holdCD,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.shield, { key: `sheet_gen:dmgAbsorption` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.shileDuration,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        teamBuff: true,\r\n        name: trm(\"skill.nearShield\"),\r\n        states: {\r\n          on: {\r\n            fields: Object.values(nodesSkill).map(node => ({ node }))\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: data =>\r\n          data.get(input.constellation).value < 4 ?\r\n            datamine.burst.duration[data.get(input.total.burstIndex).value] :\r\n            `${datamine.burst.duration[data.get(input.total.burstIndex).value]}s +${datamine.constellation4.durationInc}`,\r\n        fixed: 1,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condP1,\r\n        path: condP1Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        name: trm(\"p1cond\"),\r\n        states: objectKeyMap(range(1, 5), i => ({ name: st(\"stack\", { count: i }), fields: [{ node: nodeP1 }] }))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: p4normalDmgInc\r\n      }, {\r\n        node: p4ChargedDmgInc\r\n      }, {\r\n        node: p4PlungingDmgInc\r\n      }, {\r\n        node: p4SKillDmgInc\r\n      }, {\r\n        node: p4BurstDmgInc\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, [{\r\n        node: infoMut(dmgFormulas.constellation6.heal, { key: `char_${key}:c6heal`, variant: \"success\" })\r\n      }]),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterKey } from '../../Types/consts'\r\nimport CharacterSheet from './CharacterSheet'\r\n\r\nimport Albedo from './Albedo'\r\nimport Aloy from './Aloy'\r\nimport Amber from './Amber'\r\nimport AratakiItto from './AratakiItto'\r\nimport Barbara from './Barbara'\r\nimport Beidou from './Beidou'\r\nimport Bennett from './Bennett'\r\nimport Chongyun from './Chongyun'\r\nimport Diluc from './Diluc'\r\nimport Diona from './Diona'\r\nimport Eula from './Eula'\r\nimport Fischl from './Fischl'\r\nimport Ganyu from './Ganyu'\r\nimport Gorou from './Gorou'\r\nimport HuTao from './HuTao'\r\nimport Jean from './Jean'\r\nimport KaedeharaKazuha from './KaedeharaKazuha'\r\nimport Kaeya from './Kaeya'\r\nimport KamisatoAyaka from './KamisatoAyaka'\r\nimport KamisatoAyato from './KamisatoAyato'\r\nimport Keqing from './Keqing'\r\nimport Klee from './Klee'\r\nimport KujouSara from './KujouSara'\r\nimport Lisa from './Lisa'\r\nimport Mona from './Mona'\r\nimport Ningguang from './Ningguang'\r\nimport Noelle from './Noelle'\r\nimport Qiqi from './Qiqi'\r\nimport RaidenShogun from './RaidenShogun'\r\nimport Razor from './Razor'\r\nimport Rosaria from './Rosaria'\r\nimport SangonomiyaKokomi from './SangonomiyaKokomi'\r\nimport Sayu from './Sayu'\r\nimport Shenhe from \"./Shenhe\"\r\nimport Sucrose from \"./Sucrose\"\r\nimport Tartaglia from './Tartaglia'\r\nimport Thoma from './Thoma'\r\nimport Traveler from './Traveler'\r\nimport Venti from './Venti'\r\nimport Xiangling from './Xiangling'\r\nimport Xiao from './Xiao'\r\nimport Xingqiu from './Xingqiu'\r\nimport Xinyan from './Xinyan'\r\nimport YaeMiko from './YaeMiko'\r\nimport Yanfei from './Yanfei'\r\nimport Yoimiya from './Yoimiya'\r\nimport YunJin from './YunJin'\r\nimport Zhongli from './Zhongli'\r\n\r\nconst characters: Record<CharacterKey, CharacterSheet> = {\r\n  Albedo,\r\n  Aloy,\r\n  Amber,\r\n  AratakiItto,\r\n  Barbara,\r\n  Beidou,\r\n  Bennett,\r\n  Chongyun,\r\n  Diluc,\r\n  Diona,\r\n  Eula,\r\n  Fischl,\r\n  Ganyu,\r\n  Gorou,\r\n  HuTao,\r\n  Jean,\r\n  KaedeharaKazuha,\r\n  Kaeya,\r\n  KamisatoAyaka,\r\n  KamisatoAyato,\r\n  Keqing,\r\n  Klee,\r\n  KujouSara,\r\n  Lisa,\r\n  Mona,\r\n  Ningguang,\r\n  Noelle,\r\n  Qiqi,\r\n  RaidenShogun,\r\n  Razor,\r\n  Rosaria,\r\n  SangonomiyaKokomi,\r\n  Sayu,\r\n  Shenhe,\r\n  Sucrose,\r\n  Tartaglia,\r\n  Thoma,\r\n  Traveler,\r\n  Venti,\r\n  Xiangling,\r\n  Xiao,\r\n  Xingqiu,\r\n  Xinyan,\r\n  YaeMiko,\r\n  Yanfei,\r\n  Yoimiya,\r\n  YunJin,\r\n  Zhongli\r\n} as const\r\nexport default characters\r\n","import { Translate } from \"../Components/Translate\"\r\nimport { ReadNode } from \"../Formula/type\"\r\nimport { customStringRead } from \"../Formula/utils\"\r\nimport { ArtifactSetKey, CharacterKey, WeaponKey } from \"../Types/consts\"\r\n\r\nexport const st = (strKey: string, values?: object) => <Translate ns=\"sheet\" key18={strKey} values={values} />\r\nexport const sgt = (strKey: string) => <Translate ns=\"sheet_gen\" key18={strKey} />\r\n\r\nexport const condReadNode = (path: string[]) => customStringRead([\"conditional\", ...path])\r\nexport function cond(key: CharacterKey | WeaponKey | ArtifactSetKey, subKey: string): [path: string[], node: ReadNode<string>] {\r\n  const path = [key, subKey]\r\n  const node = condReadNode(path)\r\n  return [path, node]\r\n}\r\n\r\ntype Translated = [tr: ((i18key: string) => Displayable), tran: ((i18key: string, values?: object) => Displayable)]\r\nexport function trans(typeKey: \"char\", key: CharacterKey): Translated\r\nexport function trans(typeKey: \"weapon\", key: WeaponKey): Translated\r\nexport function trans(typeKey: \"artifact\", key: ArtifactSetKey): Translated\r\nexport function trans(typeKey: \"char\" | \"weapon\" | \"artifact\", key: CharacterKey | WeaponKey | ArtifactSetKey): Translated {\r\n  return [\r\n    (strKey: string) => <Translate ns={`${typeKey}_${key}_gen`} key18={strKey} />,\r\n    (strKey: string, values?: object) => <Translate ns={`${typeKey}_${key}`} key18={strKey} values={values} />\r\n  ]\r\n}\r\n","import { transformativeReactions } from \"../KeyMap/StatConstants\";\r\nimport { absorbableEle } from \"../Types/consts\";\r\nimport { objectKeyMap } from \"../Util/Util\";\r\nimport { input } from \"./index\";\r\nimport { frac, infoMut, percent, prod, subscript, sum, unit } from \"./utils\";\r\n\r\n// https://github.com/Dimbreath/GenshinData/blob/72c9112a7c5e8e5014f61009a1a2764e266aeab7/ExcelBinOutput/ElementCoeffExcelConfigData.json\r\n//   or if the permalink is dead,\r\n// https://github.com/Dimbreath/GenshinData/blob/master/ExcelBinOutput/ElementCoeffExcelConfigData.json\r\n//\r\n// PlayerElementLevelCo\r\nexport const transformativeReactionLevelMultipliers = [-1.0, // lvl 0\r\n  17.165606, 18.535048, 19.904854, 21.274902, 22.6454, 24.649612, 26.640642, 28.868587, 31.36768, 34.143345, 37.201, 40.66, 44.446667, 48.56352, 53.74848, 59.081898, 64.420044, 69.72446, 75.12314, 80.58478, 86.11203, 91.70374, 97.24463, 102.812645, 108.40956, 113.20169, 118.102905, 122.97932, 129.72733, 136.29291, 142.67085, 149.02902, 155.41699, 161.8255, 169.10631, 176.51808, 184.07274, 191.70952, 199.55692, 207.38205, 215.3989, 224.16566, 233.50217, 243.35057, 256.06308, 268.5435, 281.52606, 295.01364, 309.0672, 323.6016, 336.75754, 350.5303, 364.4827, 378.61917, 398.6004, 416.39825, 434.387, 452.95105, 472.60623, 492.8849, 513.56854, 539.1032, 565.51056, 592.53876, 624.4434, 651.47015, 679.4968, 707.79407, 736.67145, 765.64026, 794.7734, 824.67737, 851.1578, 877.74207, 914.2291, 946.74677, 979.4114, 1011.223, 1044.7917, 1077.4437, 1109.9976, 1142.9766, 1176.3695, 1210.1844, 1253.8357, 1288.9528, 1325.4841, 1363.4569, 1405.0974, 1446.8535]\r\n// PlayerShieldLevelCo\r\nexport const crystallizeLevelMultipliers = [-1.0, // lvl 0\r\n  91.1791, 98.707664, 106.23622, 113.76477, 121.29332, 128.82188, 136.35042, 143.87898, 151.40752, 158.93608, 169.99149, 181.07625, 192.19037, 204.0482, 215.939, 227.86275, 247.68594, 267.5421, 287.4312, 303.82642, 320.22522, 336.62762, 352.31927, 368.01093, 383.70255, 394.43237, 405.18146, 415.94992, 426.73764, 437.5447, 450.6, 463.7003, 476.84558, 491.1275, 502.55457, 514.0121, 531.4096, 549.9796, 568.5849, 584.9965, 605.67035, 626.3862, 646.0523, 665.7556, 685.4961, 700.8394, 723.3331, 745.8653, 768.4357, 786.79193, 809.5388, 832.32904, 855.16266, 878.0396, 899.4848, 919.362, 946.0396, 974.7642, 1003.5786, 1030.077, 1056.635, 1085.2463, 1113.9244, 1149.2587, 1178.0648, 1200.2238, 1227.6603, 1257.243, 1284.9174, 1314.7529, 1342.6652, 1372.7524, 1396.321, 1427.3124, 1458.3745, 1482.3358, 1511.9109, 1541.5493, 1569.1537, 1596.8143, 1622.4197, 1648.074, 1666.3761, 1684.6782, 1702.9803, 1726.1047, 1754.6715, 1785.8666, 1817.1375, 1851.0603]\r\n\r\n\r\nconst asConst = true as const\r\n\r\nconst crystallizeMulti1 = subscript(input.lvl, crystallizeLevelMultipliers)\r\nconst crystallizeElemas = prod(40 / 9, frac(input.total.eleMas, 1400))\r\nconst crystallizeHit = infoMut(prod(sum(unit, /** + Crystallize bonus */ crystallizeElemas), crystallizeMulti1), { key: \"crystallize\", variant: \"geo\" })\r\n\r\nconst transMulti1 = subscript(input.lvl, transformativeReactionLevelMultipliers)\r\nconst transMulti2 = prod(16, frac(input.total.eleMas, 2000))\r\nconst trans = {\r\n  ...objectKeyMap([\"overloaded\", \"electrocharged\", \"superconduct\", \"shattered\"] as const, reaction => {\r\n    const { multi, variants: [ele] } = transformativeReactions[reaction]\r\n    return infoMut(prod(\r\n      infoMut(prod(multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total[`${reaction}_dmg_`]),\r\n      input.enemy[`${ele}_resMulti`]),\r\n      { key: `${reaction}_hit`, variant: reaction })\r\n  }),\r\n  swirl: objectKeyMap(transformativeReactions.swirl.variants, ele => infoMut(\r\n    prod(\r\n      infoMut(prod(transformativeReactions.swirl.multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total.swirl_dmg_),\r\n      input.enemy[`${ele}_resMulti`]),\r\n    { key: `${ele}_swirl_hit`, variant: ele }))\r\n}\r\nexport const reactions = {\r\n  anemo: {\r\n    electroSwirl: trans.swirl.electro,\r\n    pyroSwirl: trans.swirl.pyro,\r\n    cryoSwirl: trans.swirl.cryo,\r\n    hydroSwirl: trans.swirl.hydro,\r\n    shattered: trans.shattered,\r\n  },\r\n  geo: {\r\n    crystallize: crystallizeHit,\r\n    ...Object.fromEntries(absorbableEle.map(e => [`${e}Crystallize`,\r\n    infoMut(prod(percent(2.5), crystallizeHit), { key: `${e}_crystallize`, variant: e })])),\r\n    shattered: trans.shattered,\r\n  },\r\n  electro: {\r\n    overloaded: trans.overloaded,\r\n    electrocharged: trans.electrocharged,\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n  hydro: {\r\n    electrocharged: trans.electrocharged,\r\n    shattered: trans.shattered,\r\n  },\r\n  pyro: {\r\n    overloaded: trans.overloaded,\r\n    shattered: trans.shattered,\r\n  },\r\n  cryo: {\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n}\r\n"],"names":["charCurves","objectMap","_charCurves","value","Object","values","commonBasic","objectKeyMap","key","input","critRate_","infusionNode","stringPrio","inferredHitEle","lookup","undefined","sword","claymore","polearm","catalyst","getTalentType","move","customDmgNode","base","additional","data","mergeData","hit","constant","ele","customShieldNode","shieldNode","prod","sum","unit","customHealNode","healNode","dmgNode","lvlMultiplier","talentType","subscript","percent","flat","shieldNodeTalent","baseMultiplier","talentIndex","shieldElement","element","infoMut","variant","healNodeTalent","dataObjForCharacterSheet","region","gen","display","curve","lvlCurve","basic","foundSpecial","charKey","weaponType","weaponTypeKey","premod","charEle","teamBuff","tally","reaction","reactions","layeredAssignment","physical_dmg_","stat","list","curves","push","ascensions","some","x","props","map","NaN","length","result","prefix","asConst","endsWith","info","slice","Error","special","allMainStatKeys","inferInfoMut","data_gen","data_gen_src","trans","tr","trm","auto","normalSrc","a","s","b","datamine","normal","hitArr","skillParam_gen","charged","dmg1","dmg2","stamina","plunging","dmg","low","high","skill","skillDmg","blossomDmg","duration","cd","blossomCd","burst","burstDmg","blossomAmt","enerCost","passive1","blossomDmgInc","hpThresh","passive2","eleMasInc","constellation1","blossomEner","constellation2","maxStacks","stackDuration","constellation4","plunging_dmg_","constellation6","bonus_dmg_","cond","condBurstBlossomPath","condBurstBlossom","condBurstUsedPath","condBurstUsed","p2Burst_eleMas","equal","greaterEq","condP1EnemyHpPath","condP1EnemyHp","p1_blossom_dmg_","condC2StacksPath","condC2Stacks","c2_burst_dmgInc","fromEntries","range","i","naught","condSkillInFieldPath","condSkillInField","c4_plunging_dmg_disp","c4_plunging_dmg_","target","condC6CrystallizePath","condC6Crystallize","c6_Crystal_all_dmg_disp","c6_Crystal_all_dmg_","dmgFormulas","arr","entries","blossom","total","skill_dmg_","skillC3","burstC5","bonus","eleMas","all_dmg_","burst_dmgInc","sheet","name","cardImg","card","thumbImg","thumb","thumbImgSide","thumbSide","bannerImg","banner","rarity","star","elementKey","gender","constellationName","title","talent","sheets","talentTemplate","sectionTemplate","_","node","text","textSuffix","sgt","path","st","canShow","states","belowHp","fields","c1","fixed","get","c4","skillInField","c6","c6Crystallize","isoOnField","count","burstUsed","c2","passive3","constellation3","c3","constellation5","c5","CharacterSheet","p1","p2","aimed","aimedCharged","freezeBombDmg","chillWaterBomblets","atkDecrease","atkDecreaseDuration","coilNormalDmgBonus1","coilNormalDmgBonus2","coilNormalDmgBonus3","rushingNormalDmgBonus","rushingDuration","atkInc","teamAtkInc","cryoDmgBonus","condCoilPath","condCoil","normal_dmg_","atk_","unequal","afterRushingIce","equalStr","condA1Path","condA1","teamAtk_","condA4Path","condA4","cryo_dmg_","infusion","nonOverridableSelf","toFixed","color","inheritedHp","unknown","dmgPerWave","rainDmg","critRateInc","aoeInc","secArrowDmg","manualDetionationDmg","moveSpdInc","burst_critRate_","condC6Path","condC6","moveSPD_","secondAimed","secondAimedCharged","manualDetonationDmg","nodeC3","nodeC5","on","sSlash","akSlash","akFinal","stam","ss","hp","ss_cd","atkSpd","defConv","resDec","cost","atkSPD_","def_","initialStacks","timedStacks","burstCdRed","energyRegen","charged_critDMG_","condBurstPath","condBurst","condP1Path","condP1","condC4Path","condC4","nodeSkillHP","nodeBurstAtk","nodeBurstAtkSpd","allNodeBurstRes","allElementsWithPhy","nodeBurstInfusion","nodeA4Bonus","nodeP1AtkSpd","nodeC2BurstRed","min","nodeC2EnergyRegen","nodeC4Atk","nodeC4Def","nodeC6CritDMG","charged_dmgInc","atk","cregen_hp_","cregen_hp","regen_hp_","regen_hp","hp_","ext","maxExt","cdDec","hydro_dmg_","condSkillPath","condSkill","nodeA1","nodeA1Display","condC2Path","condC2","nodeC2","nodeC2Display","regen","cregen","staminaDec_","spinningDmg","finalDmg","shieldHp_","shieldFlat","dmgBase","onHitDmgBonus","lightningDmg","damageReduction","energyCost","ascension4","normalDmg_","chargeDmg_","attackSpeed","electroResShred_","skillDmgOneHit","skillDmgTwoHits","nodeBurstElectroResRed_","nodeSkillNormalDmg_","nodeSkillChargeDmg_","nodeSkillAttackSpeed_","electroShield","shield","baseDmg","dmgOneHit","dmgTwoHits","customBonus","charged_dmg_","electro_enemyRes_","img","sections","header","conditionalHeader","description","press","hold1_1","hold1_2","hold2_1","hold2_2","explosion","cd_press","cd_hold1","cd_hold2","regen_","regenFlat","atkBonus","cd_red","atk_inc","hp_thresh","er_inc","pyro_dmg","a1SkillCd","c1Atk","atkIncRatio","condInAreaPath","condInArea","activeInArea","c1AddlAtk","activeInAreaAtkDisp","activeInAreaAtk","activeInAreaA4","c6AndCorrectWep","activeInAreaC6PyroDmg","activeInAreaC6Infusion","condUnderHPPath","condUnderHP","underHP","pyro_dmg_","team","enerRech_","calculateSkillCD","skillCD","cdFactor","spin_dmg","final_dmg","infusionDuration","fieldDuration","atk_spd","res","cdr","energy_regen","burst_dmg_","condAsc4Path","condAsc4","nodeAsc1","nodeAsc4","correctWep","activeInAreaInfusion","nodeC6","cryo_enemyRes_","c2i","c6i","firstHit","secondHit","thridHit","slashDmg","dotDmg","explosionDmg","stamReduction","durationInc","pyroInc","dmgInc","atkSpdInc","maxStack","condC1Path","condC1","nodeC1Bonus","nodeC2AtkBonus","nodeC2SpdBonus","nodeC6DmgBonus","nodeC6SpdBonus","skillAdditional","thirdHit","secondHitBoost","thirdHitBoost","overridableSelf","conditional","icyPawDmg","cdPress","cdHold","fieldDmg","healHp_","healBase","moveSpeed_","stamRed_","atkRed_","icyPawDmg_","icyPawShield_","coopShield_","coopShieldDuration_","healingBonus_","emBonus","condC6BelowPath","condC6Below","condC6AbovePath","condC6Above","nodeC2skillDmg_","holdSkillShieldStr_","nodeC2shieldStr_","nodeSkillShieldPress","nodeSkillShieldHold","pressCryoShield","pressShield","holdCryoShield","holdShield","healDot","nodeA1MoveSpeed","nodeA1Stamina","nodeC6healing_Disp","nodeC6healing_","nodeC6emDisp","nodeC6em","incHeal_","hold","icewhirl","physResDec","cryoResDec","resDecDuration","pressCd","holdCd","defBonus","physResDecNegative","cryoResDecNegative","grimheartDuration","lightfallDmg","dmgPerStack","percentage","physInc","condGrimheartPath","condGrimheart","condLightfallSwordPath","condLightfallSword","condTidalIllusionPath","condTidalIllusion","physical_enemyRes_","lightSwordAdditional","lightFallSwordNew","shatteredLightfallSword","ozDmg","summonDmg","aimedChargedOz","lessThan","summonDmgC2","ozActiveCharDmg","additionalDmg","frostflake","frostflakeBloom","opCryoRes","enerRegen","cryo_dmg_disp","fully","defInc","geo_dmg_","dmg_def","crystalDmg_def","crystalHits","skill_dmgInc","heal_def_","geo_critDMG_","condInFieldPath","condInField","skill1_defDisp","skill1_def","skill3_geo_dmg_Disp","skill3_geo_dmg_","condAfterBurstPath","condAfterBurst","afterBurst_def_","p2_skill_dmgInc","p2_burst_dmgInc","condAfterSkillBurstPath","condAfterSkillBurst","c6_geo_critDMG_","crystalCollapse","heal","def","inField","afterBurst","afterSkillBurst","activationCost","bloodBlossomDuration","maxAtkInc","lowHpDmg","lowHpRegen","minHp","pyroDmgInc","bloodBlossomDmgInc","elePhysResInc","condAfterlifePath","condAfterlife","critRateTeam_1","condA2Path","condA2","critRateTeam_2","ele_res_s","dmgC2","enterExitDmg","burstActivationAtkModifier","burstActionFlatModifier","burstRegenAtkModifier","burstRegenFlatModifier","chance","atkPercentage","increaseDmg","moveSpd","anemoRes","dmgReduction","contRegen","a1Regen","anemo_enemyRes_","Math","abs","dmgRed_disp","dmgRed_","dot","add","asorbAdd","elemas_dmg_","elemas","auto_","condBurstAbsorptionPath","condBurstAbsorption","condSkillAbsorptionPath","condSkillAbsorption","condSwirlPaths","absorbableEle","e","condSwirls","condReadNode","asc4","c2EleMas","condC2PPath","condC2P","c2PEleMasDisp","c2PEleMas","c6infusion","greaterEqStr","c6Dmg_","c6NormDmg_","c6ChargedDmg_","c6PlungingDmg_","passive","pdmg","plow","phigh","staminaSprintDec_","fieldsHeader","eleKey","c2p","swirl","healAtk_","cooldown","cryoShield","condC1Cryo","nodeC1NormalCritRate","nodeC1ChargeCritRate","normal_critRate_","charged_critRate_","sp","cutDmg","bloomDmg","sprint","active_stam","drain_stam","dmg_bonus","cryo","snowflake","def_red","charged_bonus","condAfterSprintPath","condAfterSprint","afterSprintInfusion","condAfterSkillA1Path","condAfterSkillA1","a1NormDmg_","a1ChargedDmg_","condAfterApplySprintPath","condAfterApplySprint","afterApplySprintCryo","cutting","bloom","enemyDefRed_","afterSkill","afterSprint","afterApplySprint","dmgArr","stateDuration","stackHpDmgInc","illusionDmg","illusionDuration","stacksGained","enerThres_","energyRestore","oppHpThres_","shunDmg_","extraStacks","stackThresh","atkSPD","extraStrikes","condInSkillPath","condInSkill","condSkillStacksPath","condSkillStacks","skillStacks_dmgInc","stacks","condBurstInAreaPath","condBurstInArea","burst_normal_dmg_Disp","burst_normal_dmg_","condC1OppHpPath","condC1OppHp","c1Shun_dmg_","c2_hp_","condC4AfterBurstPath","condC4AfterBurst","c4_atkSPD_","shunAddl","normal_dmgInc","stiletto","slash","thunderclap","initial","final","critInc_","enerRechInc_","electroInc","condAfterRecastPath","condAfterRecast","afterRecastInfusion","afterBurstCritRate_","afterBurstEnerRech_","condAfterReactPath","condAfterReact","afterReactAtk_","condC6StackPath","condC6Stack","c6Electro_dmg_","electro_dmg_","afterRecast","afterReact","jumptyDumptyDmg1","jumptyDumptyDmg2","jumptyDumptyDmg3","mineDmg","mineDuration","dmg_","jumptyDumptyDmg","chainedReactionsDmg","sparklyExplosionDmg","fullyAimed","titanBreakerDmg","stormClusterDmg","energyGen","er","crowfeatherDmg","condSkillTenguAmbushPath","condSkillTenguAmbush","skillTenguAmbush_disp","skillTenguAmbush_","c6ElectroCritDmg_","titanbreaker","stormcluster","electro_critDMG_","TenguJuuraiAmbush","stack0","stack1","stack2","stack3","holdCD","pressCD","tick","defShred","nodeA4DefShred","nodeC2DefIncrease","bubbleDuration","dmgBonusNeg","omenDuration","dmgBonus","torrentDuration","phantomDuration","electroChargeDmgInc","vaporizeDmgInc","hydroSwirlDmgInc","frozenExtension","critRateIncNeg","maxDmgBonus","condOmenPath","condOmen","condPoSPath","condPoS","electrocharged_dmg_","swirl_dmg_","vaporize_dmg_","condPoOPath","condPoO","condRoCPath","condRoC","jadeDmg","screenHpMod","screenHp","dmgPerGem","geoDmgBonus_","nodeA4GeoDmgBonus_","nodeC4CryoResBonus_","nodeC4GeoResBonus_","nodeC4PyroResBonus_","nodeC4AnemoResBonus_","nodeC4HydroResBonus_","nodeC4ElecResBonus_","gemDmg","geo_res_","cryo_res_","pyro_res_","anemo_res_","hydro_res_","electro_res_","shieldDef","healDef","healChance","shieldDuration","healFlat","defToAtk","hpThreshold","healingChance","chargeStamina","burstAtkBonus","nodeSkillHealChanceBase","nodeSkillHealChanceC1BurstOn","nodeSkillHealChanceC1BurstOff","nodeC2ChargeDMG","nodeC4dmg","geoShieldStrength","devotionShield","hitRegenPercent","hitRegenFlat","contRegenPercent","contRegenFlat","tickDmg","castDmg","healPercent","nodeA1HealingBonus","nodeC2ChargedDmgInc","nodeC2NormalDmgInc","hitRegen","coorDmg","burstDmg_bonus","resolveBonus1","resolveBonus2","resolveGained","hit1","hit2","hit3","hit41","hit42","hit5","charged1","charged2","plunge","plungeLow","plungeHigh","enerGen","electroDmg_bonus","def_ignore","atk_bonus","condSkillEyePath","condSkillEye","skillEye_","atkType","enemy","defIgn","energyCosts","condSkillEyeTeamPath","condSkillEyeTeam","skillEyeTeamBurstDmgInc","resolveStacks","condResolveStackPath","condResolveStack","burstResolve","resolveBonus","passive2ElecDmgBonus","c4AtkBonus_","skillEye","c","erBonus","companionDmg","atkSpdBonus","electroResBonus","cdRed","enerThreshold","erInc","sprintStaminaDec","allDmgInc","defDec","electroSigilGenerated","condElectroSigilPath","condElectroSigil","condTheWolfWithinPath","condTheWolfWithin","enerRechElectroSigil_","enerRechA4_","companionDmg1","companionDmg2","companionDmg3","companionDmg4","fullBurstDmg1","fullBurstDmg2","fullBurstDmg3","fullBurstDmg4","c1i","crInc","crBonus","maxBonus","physShred","nodeA1CritInc","nodeA4CritBonusDisp","nodeA4CritBonus","nodeC1AtkSpd","nodeC1NormalInc","nodeC6PhysShred","heal_","nBonus_","cBonus_","sBonus_","p","heal_ratio_","s_heal_","nc_heal_","energy","hydro_","burstNormalDmgInc","burstChargedDmgInc","burstSkillDmgInc","passiveHeal_","passiveCritRate_","c4AtkSpd_","c6Hydro_","spin","wheelDmg","eleWheelDmg","kickPressDmg","kickHoldDmg","eleKickDmg","cdMin","cdMax","pressDmg","pressBaseHeal","pressAtkHeal","darumaDmg","darumaBaseHeal","darumaAtkHeal","darumaHits","baseHeal","emHeal","nearHeal","ener","darumaDmgInc","darumaHealInc","condActiveSwirlPath","condActiveSwirl","condC2SkillStackPath","condC2SkillStack","c2_kickPressDmg_","c2_kickDmg_","stack","c6_daruma_dmg_inc","c6_daruma_heal_inc","darumaHeal","pressHeal","extraHeal","burstC3","skillC5","activeSwirl","dmgAtk_","durationHold","trigger","triggerHold","res_","press_dmg_","durationPress","hold_dmg_","condQuillPath","condQuill","nodeSkill","enemyRes_","nodeBurstCryo_enemyRes_","nodeBurstPhysical_enemyRes_","condAsc1Path","condAsc1","nodeAsc1Disp","nodeAsc4Press_skill_dmg_","nodeAsc4Press_burst_dmg_","nodeAsc4Hold","nodeAsc4Hold_normal_dmg_","nodeAsc4Hold_charged_dmg_","nodeAsc4Hold_plunging_dmg_","nodeC2Disp","c4Inc","quillDmg","cryo_dmgInc","cryo_critDMG_","quill","toString","fieldsDescription","field","eleMas_","ele_dmg_","condAbsorptionPath","condAbsorption","condSwirlReactionPath","condSwirlReaction","condSkillHitOpponentPath","condSkillHitOpponent","asc1Disp","asc1","asc4Disp","c6Base","c6Bonus","riptide","flashDmg","riptideDuration","stanceDmg","normal1","normal2","normal3","normal4","normal5","normal61","normal62","riptideSlash","chargedStamina","preemptiveCd1","preemptiveCd2","maxCd","meleeDmg","riptideBlastDmg","rangedDmg","enerReturned","durationExt","auto_boost","nodePassive","hpShield_","baseShield","maxHpShield_","maxBaseShield","collapseDmg","scorchingDuration","shield_","collapse_dmgInc","burstDuration","auto_dmg","condP1BarrierStacksPath","condP1BarrierStacks","p1_shield_","p2Collapse_dmgInc","condC6AfterBarrierPath","condC6AfterBarrier","c6_normal_dmg_","c6_charged_dmg_","c6_plunging_dmg_","minShield","minPyroShield","maxShield","maxPyroShield","pyroShield","strKey","Translate","ns","key18","initial_dmg","initial_max","storm_dmg","storm_max","absorbDmg","nodesC6","objectKeyValueMap","absorb","talentSheet","numShockwaves","skill_cdRed","geoDmg","maxTriggers","skillDuration","condC1BurstAreaPath","condC1BurstArea","c1BurstArea_critRate_Disp","c1BurstArea_critRate_","condC4BurstHitPath","condC4BurstHit","c4Burst_energyRestore","amulets","amuletDuration","enerRech_duration","thunderDmg","thunderCd","addlAmulets","electro_enemyRes","numAttacks","thunder_dmg_","condSkillAmuletPath","condSkillAmulet","p2_enerRech_","skillAmulet_enerRech_Disp","skillAmulet_enerRech_","burstEnergyRestore","condC2ThunderPath","condC2Thunder","c2Thunder_electro_enemyRes_","condC6After2ThunderPath","condC6After2Thunder","c6_thunder_dmg_","talents","anemo","geo","electro","anemoData","geoData","electroData","holdDmg","baseTicks","absorbTicks","stam_","dmgRatio","anemo_dmg_","p3_staminaGlidingDec_","c2Hit_anemo_enemyRes_","c2Hit_phys_enemyRes__","c4_anemo_dmg_","c6_anemo_enemyRes_","c6_ele_enemyRes_arr","full7","full14","staminaGlidingDec_","launched","takeDmg","pickup","dmg3","dmgNado","pyroRes","duration1","duration2","pyroDmg","condAfterChiliPath","condAfterChili","afterChili","condAfterGuobaHitPath","condAfterGuobaHit","afterGuobaHit","condDuringPyronadoPath","condDuringPyronado","duringPyronado","antiC6","pyro_enemyRes_","drain","skillDmgBonus","staminaClimbingDec_","condInBurstPath","condInBurst","auto_dmg_","lifeDrain","condA1BurstStackPath","condA1BurstStack","a1BurstStackArr","condA4SkillStackPath","condA4SkillStack","a4SkillStackArr","c2Inactive","c2Inactive_enerRech_","condC4BelowHPPath","condC4BelowHP","c4BelowHP_def_","inBurst","c4BelowHP","hydro_enemyRes_","skill_duration","nodeA4","nodeC4","nodeSkillDmgRed_","nodeA4Heal","press1","press2","healing","shieldArr","defShield_","lvl3Dmg","pressPhysDmg","dotPyroDmg","burstphysical_critRate_","staminaChargedDec_","charged_atkBonus","condSkillHitNumPath","condSkillHitNum","condP2ShieldPath","condP2Shield","p2Shield_physical_dmg_Disp","p2Shield_physical_dmg_","condC1CritPath","condC1Crit","c1Crit_atkSPD_","c2BurstPhysical_critRate_","condC4SkillHitPath","condC4SkillHit","c4SkillHit_physical_enemyRes_","c6_staminaChargedDec_","condC6ChargedPath","condC6Charged","c6_chargedAtkBonus","lvl","flatMap","type","dmg4","tenkoDmg","eleMas_dmg_","defIgn_","sealStaminaRed_","maxSeals","sealDuration","sealInterval","seal_pyro_dmg_","extraSeals","afterBurst_charged_dmg_","condP1SealsPath","condP1Seals","p1_pyro_dmg_","seals","condP2ChargedCritPath","condP2ChargedCrit","condC2EnemyHpPath","condC2EnemyHp","c2EnemyHp_critRate_","pyro_shield","norm_shield","characterKey","charTr","full","kindling","exp","fixed_atk_","var_atk_","burst_durationInc","const3TalentInc","const5TalentInc","normal_dmgMult","matchFull","a1Stacks","c1atk_","c2pyro_dmg_","canShowC6","normalEntries","kindlingEntries","dataObj","includes","uiData","triggerNum","normalInc","allElements","stele","resonance","holdDMG","shileDuration","skill_","burst_","nodesSkill","k","nodeP1","p4AutoDmgInc","p4normalDmgInc","p4ChargedDmgInc","p4PlungingDmgInc","p4SKillDmgInc","p4BurstDmgInc","plunging_dmgInc","Albedo","Aloy","Amber","AratakiItto","Barbara","Beidou","Bennett","Chongyun","Diluc","Diona","Eula","Fischl","Ganyu","Gorou","HuTao","Jean","KaedeharaKazuha","Kaeya","KamisatoAyaka","KamisatoAyato","Keqing","Klee","KujouSara","Lisa","Mona","Ningguang","Noelle","Qiqi","RaidenShogun","Razor","Rosaria","SangonomiyaKokomi","Sayu","Shenhe","Sucrose","Tartaglia","Thoma","Traveler","Venti","Xiangling","Xiao","Xingqiu","Xinyan","YaeMiko","Yanfei","Yoimiya","YunJin","Zhongli","customStringRead","subKey","typeKey","crystallizeMulti1","crystallizeElemas","frac","crystallizeHit","transMulti1","transMulti2","transformativeReactions","multi","variants","electroSwirl","pyroSwirl","pyro","cryoSwirl","hydroSwirl","hydro","shattered","crystallize","overloaded","electrocharged","superconduct"],"sourceRoot":""}