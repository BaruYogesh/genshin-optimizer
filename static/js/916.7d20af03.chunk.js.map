{"version":3,"file":"static/js/916.7d20af03.chunk.js","mappings":"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","sources":["Components/Card/CardDark.tsx","Components/Card/CardLight.tsx","Components/DropdownMenu/DropdownButton.tsx","GlobalSettings.tsx","Database/exim.ts","Database/exports/good.ts","PageSettings/DownloadCard.tsx","PageSettings/LanguageCard.tsx","PageSettings/TCToggleCard.tsx","../node_modules/@mui/icons-material/esm/Upload.js","Database/imports/good.ts","Database/imports/merge.ts","Database/imports/mona.ts","PageSettings/UploadCard.tsx","PageSettings/index.tsx","ReactHooks/useDBState.tsx","../node_modules/@mui/icons-material/esm/CheckBox.js","../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","../node_modules/@mui/icons-material/esm/Download.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardDark = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentDark.main\r\n}));\r\n\r\nexport default CardDark","import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardLight = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentLight.main\r\n}));\r\n\r\nexport default CardLight","import { KeyboardArrowDown } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps, Menu, Skeleton } from \"@mui/material\";\r\nimport { Suspense, useCallback, useState } from \"react\";\r\n\r\nexport type DropdownButtonProps = Omit<ButtonProps, \"title\"> & {\r\n  title: React.ReactNode,\r\n  id?: string,\r\n  children: React.ReactNode\r\n}\r\nexport default function DropdownButton({ title, children, id = \"dropdownbtn\", ...props }: DropdownButtonProps) {\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLButtonElement>) => setAnchorEl(event.currentTarget),\r\n    [setAnchorEl],\r\n  )\r\n  const handleClose = useCallback(\r\n    () => setAnchorEl(null),\r\n    [setAnchorEl],\r\n  )\r\n\r\n  return <Suspense fallback={<Button endIcon={<KeyboardArrowDown />}{...props}><Skeleton width={50} /></Button>} >\r\n    <Button\r\n      {...props}\r\n      id={id}\r\n      aria-controls=\"basic-menu\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded={open ? 'true' : undefined}\r\n      onClick={handleClick}\r\n      endIcon={<KeyboardArrowDown />}\r\n    >\r\n      {title}\r\n    </Button>\r\n    <Menu\r\n      id=\"basic-menu\"\r\n      anchorEl={anchorEl}\r\n      open={open}\r\n      onClose={handleClose}\r\n      MenuListProps={{\r\n        'aria-labelledby': id,\r\n      }}\r\n      onClick={handleClose}\r\n    >\r\n      {/* set Skeleton to be really high so the taller dropdowns can still be placed properly... */}\r\n      <Suspense fallback={<Skeleton width=\"100%\" height=\"1000\" />}>\r\n        {children}\r\n      </Suspense>\r\n    </Menu>\r\n  </Suspense>\r\n}","\r\nexport function initGlobalSettings() {\r\n  return { tcMode: false }\r\n}\r\n","import type { IArtifact } from \"../Types/artifact\"\r\nimport type { ICharacter } from \"../Types/character\"\r\nimport type { IWeapon } from \"../Types/weapon\"\r\nimport type { DBStorage } from \"./DBStorage\"\r\n\r\nexport const GOSource = \"Genshin Optimizer\" as const\r\n\r\nexport function newCounter<T>(): ImportResultCounter<T> {\r\n  return { total: 0, invalid: [], new: [], updated: [], unchanged: [], removed: [], }\r\n}\r\n\r\nexport type IGOOD = {\r\n  format: \"GOOD\"\r\n  source: string\r\n  version: 1\r\n  characters?: any[]\r\n  artifacts?: any[]\r\n  weapons?: any[]\r\n}\r\nexport type IGO = {\r\n  dbVersion: number\r\n  source: typeof GOSource\r\n  states?: object[]\r\n  buildSettings?: object[]\r\n}\r\n\r\nexport type ImportResultCounter<T> = {\r\n  total: number, // total # in file\r\n  new: T[],\r\n  updated: T[], // Use new object\r\n  unchanged: T[], // Use new object\r\n  removed: T[],\r\n  invalid: T[],\r\n}\r\nexport type ImportResult = {\r\n  type: \"GOOD\",\r\n  storage: DBStorage,\r\n  source: string,\r\n  artifacts?: ImportResultCounter<IArtifact>,\r\n  weapons?: ImportResultCounter<IWeapon>,\r\n  characters?: ImportResultCounter<ICharacter>,\r\n}\r\n","import { BuildSetting } from \"../../PageCharacter/CharacterDisplay/Tabs/TabOptimize/BuildSetting\";\r\nimport { DBStorage } from \"../DBStorage\";\r\nimport { GOSource, IGO, IGOOD } from \"../exim\";\r\nimport { currentDBVersion } from \"../imports/migrate\";\r\n\r\nexport function exportGOOD(storage: DBStorage): IGOOD & IGO {\r\n  const artifactIDs = new Map<string, number>()\r\n  const artifacts = storage.entries\r\n    .filter(([key]) => key.startsWith(\"artifact_\"))\r\n    .map(([id, value], i) => {\r\n      artifactIDs.set(id, i)\r\n      return JSON.parse(value)\r\n    })\r\n  return {\r\n    format: \"GOOD\",\r\n    dbVersion: currentDBVersion,\r\n    source: GOSource,\r\n    version: 1,\r\n    characters: storage.entries\r\n      .filter(([key]) => key.startsWith(\"char_\"))\r\n      .map(([_, value]) => JSON.parse(value)),\r\n    artifacts,\r\n    weapons: storage.entries\r\n      .filter(([key]) => key.startsWith(\"weapon_\"))\r\n      .map(([_, value]) => JSON.parse(value)),\r\n    states: storage.entries\r\n      .filter(([key]) => key.startsWith(\"state_\"))\r\n      .map(([key, value]) => ({ ...JSON.parse(value), key: key.split(\"state_\")[1] })),\r\n    buildSettings: storage.entries\r\n      .filter(([key]) => key.startsWith(\"buildSetting_\"))\r\n      .map(([key, value]) => {\r\n        const result: BuildSetting = { ...JSON.parse(value), key: key.split(\"buildSetting_\")[1] }\r\n        // Make sure the artifact ids match the new ids after import\r\n        result.builds = result.builds.map(x => x.map(x => artifactIDs.has(x) ? `artifact_${artifactIDs.get(x)}` : \"\").filter(x => x))\r\n        return result\r\n      }),\r\n  }\r\n}\r\n","import { faClipboard, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Download } from '@mui/icons-material'\r\nimport { Button, CardContent, Divider, Grid, Typography } from '@mui/material'\r\nimport { useCallback, useContext } from \"react\"\r\nimport { Trans, useTranslation } from \"react-i18next\"\r\nimport CardLight from '../Components/Card/CardLight'\r\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\"\r\nimport { exportGOOD } from '../Database/exports/good'\r\n\r\nexport default function DownloadCard() {\r\n  const { database, setDatabase } = useContext(DatabaseContext)\r\n  const { t } = useTranslation([\"settings\"]);\r\n  const numChar = database._getCharKeys().length\r\n  const numArt = database._getArts().length\r\n  const numWeapon = database._getWeapons().length\r\n  const downloadValid = Boolean(numChar || numArt)\r\n  const deleteDB = useCallback(() => {\r\n    database.storage.clear()\r\n    setDatabase(new ArtCharDatabase(database.storage))\r\n  }, [database, setDatabase])\r\n  const copyToClipboard = useCallback(\r\n    () => navigator.clipboard.writeText(JSON.stringify(exportGOOD(database.storage)))\r\n      .then(() => alert(\"Copied database to clipboard.\"))\r\n      .catch(console.error),\r\n    [database],\r\n  )\r\n  const download = useCallback(\r\n    () => {\r\n      const date = new Date()\r\n      const dateStr = date.toISOString().split(\".\")[0].replace(\"T\", \"_\").replaceAll(\":\", \"-\")\r\n      const JSONStr = JSON.stringify(exportGOOD(database.storage))\r\n      const filename = `go-data_${dateStr}.json`\r\n      const contentType = \"application/json;charset=utf-8\"\r\n      const a = document.createElement('a');\r\n      a.download = filename\r\n      a.href = `data:${contentType},${encodeURIComponent(JSONStr)}`\r\n      a.target = \"_blank\"\r\n      document.body.appendChild(a)\r\n      a.click()\r\n      document.body.removeChild(a)\r\n    },\r\n    [database],\r\n  )\r\n\r\n\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography variant=\"subtitle1\">\r\n        <Trans t={t} i18nKey=\"downloadCard.databaseDownload\" />\r\n      </Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container mb={2} spacing={2}>\r\n        <Grid item xs={6} md={4}><Typography><Trans t={t} i18nKey=\"count.chars\" /> {numChar}</Typography></Grid>\r\n        <Grid item xs={6} md={4}><Typography><Trans t={t} i18nKey=\"count.arts\" /> {numArt}</Typography></Grid>\r\n        <Grid item xs={6} md={4}><Typography><Trans t={t} i18nKey=\"count.weapons\" /> {numWeapon}</Typography></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Grid container spacing={2}>\r\n        <Grid item><Button disabled={!downloadValid} onClick={download} startIcon={<Download />}><Trans t={t} i18nKey=\"downloadCard.button.download\" /></Button></Grid>\r\n        <Grid item flexGrow={1} ><Button disabled={!downloadValid} color=\"info\" onClick={copyToClipboard} startIcon={<FontAwesomeIcon icon={faClipboard} />}><Trans t={t} i18nKey=\"downloadCard.button.copy\" /></Button></Grid>\r\n        <Grid item><Button disabled={!downloadValid} color=\"error\" onClick={deleteDB} startIcon={<FontAwesomeIcon icon={faTrashAlt} />}><Trans t={t} i18nKey=\"downloadCard.button.delete\" /></Button></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n","import { CardContent, Divider, MenuItem } from '@mui/material'\r\nimport { Trans, useTranslation } from \"react-i18next\"\r\nimport CardLight from '../Components/Card/CardLight'\r\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton'\r\nimport SqBadge from '../Components/SqBadge'\r\nimport { languageCodeList } from \"../i18n\"\r\nexport default function LanguageCard() {\r\n  const { t } = useTranslation();\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      {t(\"settings:languageCard.selectLanguage\")} <SqBadge color=\"warning\">{t(\"ui:underConstruction\")}</SqBadge>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <LanguageDropdown />\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\nconst nativeLanguages = {\r\n  \"chs\": \"中文 正体字\",\r\n  \"cht\": \"中文 繁體字\",\r\n  \"de\": \"Deutsch\",\r\n  \"en\": \"English\",\r\n  \"es\": \"español\",\r\n  \"fr\": \"français\",\r\n  \"id\": \"Bahasa Indonesia\",\r\n  \"ja\": \"日本語\",\r\n  \"ko\": \"한국어\",\r\n  \"pt\": \"Português\",\r\n  \"ru\": \"Русский язык\",\r\n  \"th\": \"ภาษาไทย\",\r\n  \"vi\": \"Tiếng Việt\"\r\n}\r\nexport function LanguageDropdown() {\r\n  const { t, i18n } = useTranslation([\"ui\", \"settings\"]);\r\n  const onSetLanguage = (lang) => () => i18n.changeLanguage(lang);\r\n  const currentLang = i18n.languages[0];\r\n  return <DropdownButton fullWidth title={t('settings:languageCard.languageFormat', { language: t(`languages:${currentLang}`) })}>\r\n    {languageCodeList.map((lang) => <MenuItem key={lang} selected={currentLang === lang} disabled={currentLang === lang} onClick={onSetLanguage(lang)}>\r\n      <Trans i18nKey={`languages:${lang}`} />\r\n      {lang !== currentLang ? ` (${nativeLanguages[lang]})` : \"\"}\r\n    </MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n","import { CheckBox, CheckBoxOutlineBlank } from \"@mui/icons-material\";\r\nimport { Button, CardContent, Typography } from \"@mui/material\";\r\nimport CardLight from \"../Components/Card/CardLight\";\r\nimport { initGlobalSettings } from \"../GlobalSettings\";\r\nimport useDBState from \"../ReactHooks/useDBState\";\r\n\r\nexport default function TCToggleCard() {\r\n  const [{ tcMode }, setGlobalSettings] = useDBState(\"GlobalSettings\", initGlobalSettings)\r\n\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Typography gutterBottom color=\"warning.main\">Enabling this toggle will show some features that might be too complex for the average user.</Typography>\r\n      <Button fullWidth\r\n        onClick={() => setGlobalSettings({ tcMode: !tcMode })}\r\n        color={tcMode ? \"success\" : \"primary\"}\r\n        startIcon={tcMode ? <CheckBox /> : <CheckBoxOutlineBlank />}>\r\n        Theorycrafting Mode\r\n      </Button>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z\"\n}), 'Upload');","import { ArtCharDatabase } from \"../Database\";\r\nimport { SandboxStorage } from \"../DBStorage\";\r\nimport { GOSource, IGO, IGOOD, ImportResult, newCounter } from \"../exim\";\r\nimport { setDBVersion } from \"../utils\";\r\nimport { merge } from \"./merge\";\r\nimport { migrate } from \"./migrate\";\r\nimport { parseArtifact, parseCharacter, parseWeapon } from \"./parse\";\r\n\r\n// MIGRATION STEP: Always keep parsing in sync with GOODv1 format\r\n\r\nexport function importGOOD(data: IGOOD, oldDatabase: ArtCharDatabase): ImportResult | undefined {\r\n  switch (data.version) {\r\n    case 1: return importGOOD1(data, oldDatabase)\r\n  }\r\n}\r\n\r\n// TODO: Remove this function or move it somewhere else\r\nfunction importGOOD1(data: IGOOD, oldDatabase: ArtCharDatabase): ImportResult | undefined {\r\n  const result = parseImport(data)\r\n  if (!result) return\r\n  // TODO\r\n  // Handle the error thrown when the `storage` uses unsupported DB version.\r\n  migrate(result.storage)\r\n  // TODO\r\n  // The `merging` part can be separated into another step in DB migration.\r\n  // We can let the user select finer grain migration options, such as\r\n  // weapon-only migration.\r\n  merge(result, oldDatabase)\r\n  return result\r\n}\r\n\r\n/**\r\n * Parse GOODv1 data format into a parsed data of the version specified in `data`.\r\n * If the DB version is not specified, the default version is used.\r\n */\r\nfunction parseImport(data: IGOOD): ImportResult | undefined {\r\n  const source = data.source, storage = new SandboxStorage()\r\n  const result: ImportResult = { type: \"GOOD\", storage, source }\r\n\r\n  if (data.artifacts) {\r\n    result.artifacts = newCounter()\r\n    const counter = result.artifacts\r\n    counter.total = data.artifacts.length\r\n\r\n    data.artifacts.forEach((a, i) => {\r\n      const parsed = parseArtifact(a)\r\n      if (!parsed) counter.invalid.push(a)\r\n      else storage.set(`artifact_${i}`, a)\r\n    })\r\n  }\r\n  if (data.weapons) {\r\n    result.weapons = newCounter()\r\n    const counter = result.weapons\r\n    counter.total = data.weapons!.length\r\n\r\n    data.weapons.forEach((w, i) => {\r\n      const parsed = parseWeapon(w)\r\n      if (!parsed) counter.invalid.push(w)\r\n      else storage.set(`weapon_${i}`, w)\r\n      return parsed ? [parsed] : []\r\n    })\r\n\r\n    result.weapons = counter\r\n  }\r\n  if (data.characters) {\r\n    result.characters = newCounter()\r\n    const counter = result.characters\r\n    counter.total = data.characters.length\r\n\r\n    data.characters.forEach(c => {\r\n      const parsed = parseCharacter(c)\r\n      if (!parsed) counter.invalid.push(c)\r\n\r\n      // We invalidate build results here because we need to do\r\n      // it regardless of whether the file has character/art data.\r\n      if (c.buildSettings) {\r\n        c.buildSettings.builds = []\r\n        c.buildSettings.buildDate = 0\r\n      }\r\n\r\n      storage.set(`char_${c.key}`, c);\r\n    })\r\n  }\r\n  if (source === GOSource) {\r\n    const { dbVersion, states, buildSettings } = data as unknown as IGO\r\n    if (dbVersion < 8) return // Something doesn't look right here\r\n    setDBVersion(storage, dbVersion)\r\n    states && states.forEach(s => {\r\n      const { key, ...state } = s as any\r\n      if (!key) return\r\n      storage.set(`state_${key}`, state)\r\n    });\r\n    buildSettings && buildSettings.forEach(b => {\r\n      const { key, ...state } = b as any\r\n      if (!key) return\r\n      storage.set(`buildSetting_${key}`, state)\r\n    })\r\n  } else {\r\n    // DO NOT CHANGE THE DB VERSION\r\n    // Update this ONLY when it has been verified that base GOODv1 is a valid GO\r\n    // of that particular version. Any missing/extra keys could crash the system.\r\n    setDBVersion(storage, 8)\r\n  }\r\n  return result\r\n}\r\n","import { IArtifact, ICachedArtifact } from \"../../Types/artifact\";\r\nimport { ICharacter } from \"../../Types/character\";\r\nimport { ICachedWeapon, IWeapon } from \"../../Types/weapon\";\r\nimport { ArtCharDatabase } from \"../Database\";\r\nimport { ImportResult } from \"../exim\";\r\n\r\n/**\r\n * Merge the parsed storage (`result`) of the current DB version with existing\r\n * database (`base`) to create a new (parsed) storage. If the data for art/char/weapon\r\n * exists in `result`, it will be merged with `base` on best-effort basis. The\r\n * information in `result` takes precedence when the data exists in both locations.\r\n *\r\n * `result` must be using the latest DB format, i.e., it must already be `migrate`d.\r\n *\r\n * TODO:\r\n * This can be easily extended to include options whether to merge\r\n * each category (art/char/weapon) or to force the `result` data or `base` data.\r\n */\r\nexport function merge(result: ImportResult, base: ArtCharDatabase) {\r\n  const { artifacts: artCounter, weapons: weaponCounter, characters: charCounter, storage } = result\r\n\r\n  // Match artifacts for counter, metadata, and locations\r\n  if (artCounter) {\r\n    const arts = storage.entries.filter(([k]) => k.startsWith(\"artifact_\")).map(([key, v]) => [key, JSON.parse(v) as IArtifact] as const)\r\n    const idsToRemove = new Set(base._getArts().map(a => a.id))\r\n    const hasLocations = arts.some(a => a[1].location)\r\n\r\n    for (const [key, art] of arts) {\r\n      let { duplicated, upgraded } = base.findDuplicates(art)\r\n\r\n      // Don't reuse dups/upgrades\r\n      duplicated = duplicated.filter(a => idsToRemove.has(a.id))\r\n      upgraded = upgraded.filter(a => idsToRemove.has(a.id))\r\n\r\n      // Prefer dups over upgrades\r\n      const match: ICachedArtifact | undefined = duplicated[0] ?? upgraded[0]\r\n      if (match) {\r\n        idsToRemove.delete(match.id)\r\n        for (const key in match) {\r\n          if (!(key in art) && key !== \"location\")\r\n            art[key] = match[key]\r\n        }\r\n        if (!hasLocations)\r\n          art.location = match.location\r\n      }\r\n\r\n      if (duplicated.length) artCounter.unchanged.push(art)\r\n      else if (upgraded.length) artCounter.updated.push(art)\r\n      else artCounter.new.push(art)\r\n      storage.set(key, art)\r\n    }\r\n    artCounter.removed = [...idsToRemove].map(id => base._getArt(id)!)\r\n  } else\r\n    base._getArts().forEach((x, i) => storage.set(`artifact_${i}`, x))\r\n\r\n  // Match weapons for counter, metadata, and locations\r\n  if (weaponCounter) {\r\n    const weapons = storage.entries.filter(([k]) => k.startsWith(\"weapon_\")).map(([key, v]) => [key, JSON.parse(v) as IWeapon] as const)\r\n    const idsToRemove = new Set(base._getWeapons().map(w => w.id))\r\n    const hasLocations = weapons.some(weapon => weapon[1].location)\r\n\r\n    for (const [key, weapon] of weapons) {\r\n      let { duplicated, upgraded } = base.findDuplicateWeapons(weapon)\r\n\r\n      // Don't reuse dups/upgrades\r\n      duplicated = duplicated.filter(w => idsToRemove.has(w.id))\r\n      upgraded = upgraded.filter(w => idsToRemove.has(w.id))\r\n\r\n      // Prefer dups over upgrades\r\n      const match = (duplicated[0] ?? upgraded[0]) as ICachedWeapon | undefined\r\n      if (match) {\r\n        idsToRemove.delete(match.id)\r\n        for (const key in match) {\r\n          if (!(key in weapon) && key !== \"location\")\r\n            weapon[key] = match[key]\r\n        }\r\n        if (!hasLocations)\r\n          weapon.location = match.location\r\n      }\r\n\r\n      if (duplicated.length) weaponCounter.unchanged.push(weapon)\r\n      else if (upgraded.length) weaponCounter.updated.push(weapon)\r\n      else weaponCounter.new.push(weapon)\r\n      storage.set(key, weapon)\r\n    }\r\n    weaponCounter.removed = [...idsToRemove].map(id => base._getWeapon(id)!)\r\n  } else\r\n    base._getWeapons().forEach((x, i) => storage.set(`weapon_${i}`, x))\r\n\r\n  if (charCounter) {\r\n    const newCharEntries = storage.entries.filter(([k]) => k.startsWith(\"char_\")).map(([key, value]) => [key.slice(5), JSON.parse(value) as ICharacter] as const)\r\n    const newCharKeys = new Set(newCharEntries.map(([k]) => k))\r\n    const oldCharKeys = new Set(base._getCharKeys() as string[])\r\n\r\n    charCounter.updated = []\r\n    charCounter.new = []\r\n\r\n    const hasTeamData = newCharEntries.some(([_, char]) => char.team.some(x => x))\r\n\r\n    for (const [key, char] of newCharEntries) {\r\n      const match = base._getChar(key as any)\r\n      if (match) {\r\n        charCounter.updated.push(char)\r\n      } else {\r\n        charCounter.new.push(char)\r\n        continue\r\n      }\r\n\r\n      for (const key in match)\r\n        if (!(key in char))\r\n          char[key] = match[key]\r\n      if (!hasTeamData)\r\n        char.team = match.team\r\n\r\n      storage.set(`char_${key}`, char)\r\n    }\r\n\r\n    charCounter.removed = [...oldCharKeys].filter(([k]) => newCharKeys.has(k)).map(k => base._getChar(k as any)!)\r\n    charCounter.unchanged = []\r\n  } else\r\n    base._getCharKeys().forEach(k => storage.set(`char_${k}`, base._getChar(k)))\r\n\r\n  // Merge misc.\r\n  const newKeys = new Set(storage.keys)\r\n  for (const key of base.storage.keys)\r\n    if (!newKeys.has(key) && !key.startsWith(\"artifact_\") && !key.startsWith(\"weapon_\") && !key.startsWith(\"char_\"))\r\n      storage.setString(key, base.storage.getString(key)!)\r\n}\r\n","import { MainStatKey, SubstatKey } from '../../Types/artifact';\r\nimport { ArtifactSetKey, SlotKey } from \"../../Types/consts\";\r\nimport { ArtCharDatabase } from '../Database';\r\nimport { importGOOD } from './good';\r\n\r\nconst DefaultVersion = \"1\";\r\nconst GetConvertedArtifactsOfVersion: Dict<string, (data: any) => { artifacts: any[] }> = {\r\n  \"1\": importMona1\r\n};\r\n\r\nexport function importMona(dataObj: any, oldDatabase: ArtCharDatabase): ReturnType<typeof importGOOD> {\r\n  const version = dataObj.version ?? DefaultVersion\r\n  const converted = GetConvertedArtifactsOfVersion[version]?.(dataObj)\r\n\r\n  if (!converted)\r\n    return // TODO: Maybe add failure reason, or throws here\r\n\r\n  return importGOOD({\r\n    format: \"GOOD\",\r\n    source: \"mona-uranai\",\r\n    version: 1,\r\n    artifacts: converted.artifacts\r\n  }, oldDatabase)\r\n}\r\n\r\n// backup 0: https://github.com/wormtql/genshin_artifact/blob/main/src/assets/artifacts/data/*/index.js\r\n// backup 1: https://github.com/YuehaiTeam/cocogoat/blob/main/src/App/export/Mona.ts\r\n\r\nfunction importMona1(dataObj: any): { artifacts: any[] } {\r\n  const artifacts: any[] = []\r\n\r\n  for (const property in dataObj) {\r\n    if (!(property in ArtifactSlotKeyMap))\r\n      continue\r\n\r\n    for (const genshinArtArtifact of dataObj[property]) {\r\n      const { setName, star, level, position, mainTag } = genshinArtArtifact\r\n      const raw = {\r\n        setKey: ArtifactSetKeyMap[setName],\r\n        rarity: star,\r\n        level,\r\n        slotKey: ArtifactSlotKeyMap[position],\r\n        mainStatKey: ArtifactMainStatKeyMap[mainTag.name],\r\n        substats: genshinArtArtifact.normalTags.map(({ name, value }) => {\r\n          const key = ArtifactSubStatKeyMap[name]\r\n          return {\r\n            key,\r\n            value: key?.endsWith(\"_\") ?\r\n              Math.round(value * 1000) / 10 : // decimal to percentage\r\n              value,\r\n          }\r\n        }),\r\n      }\r\n      artifacts.push(raw)\r\n    }\r\n  }\r\n\r\n  return { artifacts }\r\n}\r\n\r\n// Referencing https://wormtql.gitbook.io/mona-uranai/ (they don't seem to update this anymore...)\r\n\r\nconst ArtifactSlotKeyMap: Dict<string, SlotKey> = {\r\n  \"flower\": \"flower\",\r\n  \"feather\": \"plume\",\r\n  \"sand\": \"sands\",\r\n  \"cup\": \"goblet\",\r\n  \"head\": \"circlet\",\r\n}\r\n\r\n// Referencing https://github.com/daydreaming666/Amenoma/blob/main/ArtScanner/ArtsInfo.py SetNamesGenshinArt\r\n\r\nconst ArtifactSetKeyMap: Dict<string, ArtifactSetKey> = {\r\n  \"adventurer\": \"Adventurer\",\r\n  \"archaicPetra\": \"ArchaicPetra\",\r\n  \"berserker\": \"Berserker\",\r\n  \"blizzardStrayer\": \"BlizzardStrayer\",\r\n  \"bloodstainedChivalry\": \"BloodstainedChivalry\",\r\n  \"braveHeart\": \"BraveHeart\",\r\n  \"crimsonWitch\": \"CrimsonWitchOfFlames\",\r\n  \"defenderWill\": \"DefendersWill\",\r\n  \"gambler\": \"Gambler\",\r\n  \"gladiatorFinale\": \"GladiatorsFinale\",\r\n  \"heartOfDepth\": \"HeartOfDepth\",\r\n  \"instructor\": \"Instructor\",\r\n  \"lavaWalker\": \"Lavawalker\",\r\n  \"luckyDog\": \"LuckyDog\",\r\n  \"maidenBeloved\": \"MaidenBeloved\",\r\n  \"martialArtist\": \"MartialArtist\",\r\n  \"noblesseOblige\": \"NoblesseOblige\",\r\n  \"prayersForDestiny\": \"PrayersForDestiny\",\r\n  \"prayersForIllumination\": \"PrayersForIllumination\",\r\n  \"prayersForWisdom\": \"PrayersForWisdom\",\r\n  \"prayersToSpringtime\": \"PrayersToSpringtime\",\r\n  \"resolutionOfSojourner\": \"ResolutionOfSojourner\",\r\n  \"retracingBolide\": \"RetracingBolide\",\r\n  \"scholar\": \"Scholar\",\r\n  \"exile\": \"TheExile\",\r\n  \"thunderingFury\": \"ThunderingFury\",\r\n  \"thunderSmoother\": \"Thundersoother\",\r\n  \"tinyMiracle\": \"TinyMiracle\",\r\n  \"travelingDoctor\": \"TravelingDoctor\",\r\n  \"viridescentVenerer\": \"ViridescentVenerer\",\r\n  \"wandererTroupe\": \"WanderersTroupe\",\r\n  \"tenacityOfTheMillelith\": \"TenacityOfTheMillelith\",\r\n  \"paleFlame\": \"PaleFlame\",\r\n  \"emblemOfSeveredFate\": \"EmblemOfSeveredFate\",\r\n  \"shimenawaReminiscence\": \"ShimenawasReminiscence\",\r\n  \"huskOfOpulentDreams\": \"HuskOfOpulentDreams\",\r\n  \"oceanHuedClam\": \"OceanHuedClam\",\r\n  \"EchoesOfAnOffering\": \"EchoesOfAnOffering\",\r\n  \"VermillionHereafter\": \"VermillionHereafter\",\r\n}\r\nconst ArtifactMainStatKeyMap: Dict<string, MainStatKey> = {\r\n  \"cureEffect\": \"heal_\",\r\n  \"lifeStatic\": \"hp\",\r\n  \"lifePercentage\": \"hp_\",\r\n  \"attackStatic\": \"atk\",\r\n  \"attackPercentage\": \"atk_\",\r\n  // \"defendStatic\": \"def\",\r\n  \"defendPercentage\": \"def_\",\r\n  \"critical\": \"critRate_\",\r\n  // // \"eCritical\": \"\",\r\n  \"criticalDamage\": \"critDMG_\",\r\n  \"elementalMastery\": \"eleMas\",\r\n  \"recharge\": \"enerRech_\",\r\n  \"thunderBonus\": \"electro_dmg_\",\r\n  \"fireBonus\": \"pyro_dmg_\",\r\n  \"waterBonus\": \"hydro_dmg_\",\r\n  \"iceBonus\": \"cryo_dmg_\",\r\n  \"windBonus\": \"anemo_dmg_\",\r\n  \"rockBonus\": \"geo_dmg_\",\r\n  // \"grassBonus\": \"dendro_dmg_\",  // the day will come...\r\n  \"physicalBonus\": \"physical_dmg_\",\r\n  // \"bonus\": \"\",\r\n  // \"aBonus\": \"\",\r\n  // \"bBonus\": \"\",\r\n  // \"eBonus\": \"\",\r\n  // \"qBonus\": \"\",\r\n}\r\nconst ArtifactSubStatKeyMap: Dict<string, SubstatKey> = {\r\n  \"lifeStatic\": \"hp\",\r\n  \"lifePercentage\": \"hp_\",\r\n  \"attackStatic\": \"atk\",\r\n  \"attackPercentage\": \"atk_\",\r\n  \"defendStatic\": \"def\",\r\n  \"defendPercentage\": \"def_\",\r\n  \"critical\": \"critRate_\",\r\n  \"criticalDamage\": \"critDMG_\",\r\n  \"elementalMastery\": \"eleMas\",\r\n  \"recharge\": \"enerRech_\",\r\n}\r\n","import { faArrowLeft, faFileCode, faFileUpload } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Upload } from '@mui/icons-material'\r\nimport { Box, Button, CardContent, Divider, Grid, styled, Typography } from '@mui/material'\r\nimport { useContext, useMemo, useState } from \"react\"\r\nimport { Trans, useTranslation } from \"react-i18next\"\r\nimport CardDark from '../Components/Card/CardDark'\r\nimport CardLight from '../Components/Card/CardLight'\r\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\"\r\nimport { ImportResult, ImportResultCounter } from '../Database/exim'\r\nimport { importGOOD } from '../Database/imports/good'\r\nimport { importMona } from '../Database/imports/mona'\r\n\r\nconst InvisInput = styled('input')({\r\n  display: 'none',\r\n});\r\n\r\nexport default function UploadCard() {\r\n  const { database } = useContext(DatabaseContext)\r\n  const { t } = useTranslation(\"settings\");\r\n  const [data, setdata] = useState(\"\")\r\n  const [filename, setfilename] = useState(\"\")\r\n  const [errorMsg, setErrorMsg] = useState(\"\") // TODO localize error msg\r\n  const dataObj: UploadData | undefined = useMemo(() => {\r\n    if (!data) return\r\n    let parsed: any\r\n    try {\r\n      parsed = JSON.parse(data)\r\n      if (typeof parsed !== \"object\") {\r\n        setErrorMsg(\"uploadCard.error.jsonParse\")\r\n        return\r\n      }\r\n    } catch (e) {\r\n      setErrorMsg(\"uploadCard.error.jsonParse\")\r\n      return\r\n    }\r\n    // Figure out the file format\r\n    if (parsed.version === \"1\" && [\"flower\", \"feather\", \"sand\", \"cup\", \"head\"].some(k => Object.keys(parsed).includes(k))) {\r\n      // Parse as mona format\r\n      const imported = importMona(parsed, database)\r\n      if (!imported) {\r\n        setErrorMsg(\"uploadCard.error.monaInvalid\")\r\n        return\r\n      }\r\n      return imported\r\n    } else if (parsed.format === \"GOOD\") {\r\n      // Parse as GOOD format\r\n      const imported = importGOOD(parsed, database)\r\n      if (!imported) {\r\n        setErrorMsg(\"uploadCard.error.goInvalid\")\r\n        return\r\n      }\r\n      return imported\r\n    }\r\n    setErrorMsg(\"uploadCard.error.unknown\")\r\n    return\r\n  }, [data, database])\r\n\r\n  const reset = () => {\r\n    setdata(\"\")\r\n    setfilename(\"\")\r\n  }\r\n  const onUpload = async e => {\r\n    const file = e.target.files[0]\r\n    e.target.value = null // reset the value so the same file can be uploaded again...\r\n    if (file) setfilename(file.name)\r\n    const reader = new FileReader()\r\n    reader.onload = () => setdata(reader.result as string)\r\n    reader.readAsText(file)\r\n  }\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}><Trans t={t} i18nKey=\"settings:uploadCard.title\" /></CardContent>\r\n    <CardContent>\r\n      <Grid container spacing={2} sx={{ mb: 1 }}>\r\n        <Grid item>\r\n          <label htmlFor=\"icon-button-file\">\r\n            <InvisInput accept=\".json\" id=\"icon-button-file\" type=\"file\" onChange={onUpload} />\r\n            <Button component=\"span\" startIcon={<Upload />}>Upload</Button>\r\n          </label>\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <CardDark sx={{ px: 2, py: 1 }}>\r\n            <Typography>{filename ? <span><FontAwesomeIcon icon={faFileCode} /> {filename}</span> : <span><FontAwesomeIcon icon={faArrowLeft} /> <Trans t={t} i18nKey=\"settings:uploadCard.hint\" /></span>}</Typography>\r\n          </CardDark>\r\n        </Grid>\r\n      </Grid>\r\n      <Typography gutterBottom variant=\"caption\"><Trans t={t} i18nKey=\"settings:uploadCard.hintPaste\" /></Typography>\r\n      <Box component=\"textarea\" sx={{ width: \"100%\", fontFamily: \"monospace\", minHeight: \"10em\", mb: 2, resize: \"vertical\" }} value={data} onChange={e => setdata(e.target.value)} />\r\n      {UploadInfo(dataObj) ?? errorMsg}\r\n    </CardContent>\r\n    {UploadAction(dataObj, reset)}\r\n  </CardLight>\r\n}\r\n\r\nfunction UploadInfo(data: UploadData | undefined) {\r\n  switch (data?.type) {\r\n    case \"GOOD\": return <GOODUploadInfo data={data} />\r\n  }\r\n}\r\nfunction UploadAction(data: UploadData | undefined, reset: () => void) {\r\n  switch (data?.type) {\r\n    case \"GOOD\": return <GOUploadAction data={data} reset={reset} />\r\n  }\r\n}\r\n\r\nfunction GOODUploadInfo({ data: { source, artifacts, characters, weapons }, data }: { data: ImportResult }) {\r\n  const { t } = useTranslation(\"settings\")\r\n  return <CardDark>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography>\r\n        <Trans t={t} i18nKey=\"uploadCard.dbSource\" /><strong> {source}</strong>\r\n      </Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent >\r\n      <Grid container spacing={2}>\r\n        <Grid item flexGrow={1}>\r\n          <MergeResult result={artifacts} type=\"arts\" />\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <MergeResult result={weapons} type=\"weapons\" />\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <MergeResult result={characters} type=\"chars\" />\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  </CardDark>\r\n}\r\nfunction MergeResult({ result, type }: { result?: ImportResultCounter<any>, type: string }) {\r\n  const { t } = useTranslation(\"settings\")\r\n  if (!result) return null\r\n  return <CardLight >\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography>\r\n        <Trans t={t} i18nKey={`count.${type}`} /> {result.total ?? 0}\r\n      </Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Typography><Trans t={t} i18nKey=\"count.new\" /> <strong>{result.new.length}</strong> / {result.total}</Typography>\r\n      <Typography><Trans t={t} i18nKey=\"count.updated\" /> <strong>{result.updated.length}</strong> / {result.total}</Typography>\r\n      <Typography><Trans t={t} i18nKey=\"count.unchanged\" /> <strong>{result.unchanged.length}</strong> / {result.total}</Typography>\r\n      <Typography color=\"warning.main\"><Trans t={t} i18nKey=\"count.removed\" /> <strong>{result.removed.length}</strong></Typography>\r\n      {!!result.invalid?.length && <div>\r\n        <Typography color=\"error.main\"><Trans t={t} i18nKey=\"count.invalid\" /> <strong>{result.invalid.length}</strong> / {result.total}</Typography>\r\n        <Box component=\"textarea\" sx={{ width: \"100%\", fontFamily: \"monospace\", minHeight: \"10em\", resize: \"vertical\" }} value={JSON.stringify(result.invalid, undefined, 2)} disabled />\r\n      </div>}\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\nfunction GOUploadAction({ data: { storage }, data, reset }: { data: ImportResult, reset: () => void }) {\r\n  const { database, setDatabase } = useContext(DatabaseContext)\r\n  const { t } = useTranslation(\"settings\")\r\n  const dataValid = data.characters?.total || data.artifacts?.total || data.weapons?.total\r\n  const replaceDB = () => {\r\n    database.storage.clear()\r\n    database.storage.copyFrom(storage)\r\n    setDatabase(new ArtCharDatabase(database.storage, true))\r\n    reset()\r\n  }\r\n\r\n  return <><Divider /><CardContent sx={{ py: 1 }}>\r\n    <Button color={dataValid ? \"success\" : \"error\"} disabled={!dataValid} onClick={replaceDB} startIcon={<FontAwesomeIcon icon={faFileUpload} />}><Trans t={t} i18nKey=\"settings:uploadCard.replaceDatabase\" /></Button>\r\n  </CardContent></>\r\n}\r\n\r\ntype UploadData = ImportResult\r\n","import { CardContent, Divider, Typography } from '@mui/material'\r\nimport ReactGA from 'react-ga4'\r\nimport { Trans, useTranslation } from \"react-i18next\"\r\nimport CardDark from '../Components/Card/CardDark'\r\nimport DownloadCard from './DownloadCard'\r\nimport LanguageCard from './LanguageCard'\r\nimport TCToggleCard from './TCToggleCard'\r\nimport UploadCard from './UploadCard'\r\n\r\nexport default function PageSettings() {\r\n  const { t } = useTranslation([\"settings\"]);\r\n  ReactGA.send({ hitType: \"pageview\", page: '/setting' })\r\n\r\n  return <CardDark sx={{ my: 1 }}>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography variant=\"subtitle1\">\r\n        <Trans t={t} i18nKey=\"title\" />\r\n      </Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\r\n      <LanguageCard />\r\n      <DownloadCard />\r\n      <UploadCard />\r\n      <TCToggleCard />\r\n    </CardContent>\r\n  </CardDark>\r\n}\r\n","import { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\n\r\nexport default function useDBState<O extends object>(key: string, init: () => O): [O, (value: Partial<O>) => void] {\r\n  const { database } = useContext(DatabaseContext)\r\n  const [state, setState] = useState(database._getState<O>(key, init))\r\n\r\n  useEffect(() =>\r\n    key ? database.followState(key, setState) : undefined,\r\n    [key, setState, database])\r\n  const updateState = useCallback(\r\n    value => database.updateState(key, value),\r\n    [database, key],\r\n  )\r\n\r\n  return [state, updateState]\r\n}\r\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n}), 'Download');","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["CardDark","styled","Card","backgroundColor","theme","palette","contentDark","main","CardLight","contentLight","DropdownButton","title","children","id","props","useState","anchorEl","setAnchorEl","open","Boolean","handleClick","useCallback","event","currentTarget","handleClose","Suspense","fallback","endIcon","width","undefined","onClick","onClose","MenuListProps","height","initGlobalSettings","tcMode","GOSource","exportGOOD","storage","artifactIDs","Map","artifacts","entries","filter","startsWith","map","i","value","set","JSON","parse","format","dbVersion","currentDBVersion","source","version","characters","weapons","states","key","split","buildSettings","result","builds","x","has","get","DownloadCard","useContext","DatabaseContext","database","setDatabase","t","useTranslation","numChar","_getCharKeys","length","numArt","_getArts","numWeapon","_getWeapons","downloadValid","deleteDB","clear","ArtCharDatabase","copyToClipboard","navigator","clipboard","writeText","stringify","then","alert","catch","console","error","download","dateStr","Date","toISOString","replace","replaceAll","JSONStr","filename","a","document","createElement","href","encodeURIComponent","target","body","appendChild","click","removeChild","CardContent","sx","py","Typography","variant","Trans","i18nKey","Divider","Grid","container","mb","spacing","item","xs","md","Button","disabled","startIcon","Download","flexGrow","color","icon","faClipboard","faTrashAlt","LanguageCard","SqBadge","LanguageDropdown","nativeLanguages","i18n","onSetLanguage","lang","changeLanguage","currentLang","languages","fullWidth","language","languageCodeList","MenuItem","selected","TCToggleCard","useDBState","setGlobalSettings","gutterBottom","CheckBox","CheckBoxOutlineBlank","createSvgIcon","_jsx","d","importGOOD","data","oldDatabase","SandboxStorage","type","total","invalid","new","updated","unchanged","removed","counter","forEach","parseArtifact","push","w","parsed","parseWeapon","c","parseCharacter","buildDate","setDBVersion","s","state","b","parseImport","migrate","base","artCounter","weaponCounter","charCounter","arts","v","idsToRemove","Set","hasLocations","some","location","art","findDuplicates","duplicated","upgraded","match","delete","_getArt","weapon","findDuplicateWeapons","_getWeapon","newCharEntries","slice","newCharKeys","oldCharKeys","hasTeamData","team","char","_getChar","k","newKeys","keys","setString","getString","merge","importGOOD1","GetConvertedArtifactsOfVersion","dataObj","property","ArtifactSlotKeyMap","genshinArtArtifact","setName","star","level","position","mainTag","raw","setKey","ArtifactSetKeyMap","rarity","slotKey","mainStatKey","ArtifactMainStatKeyMap","name","substats","normalTags","ArtifactSubStatKeyMap","endsWith","Math","round","InvisInput","display","UploadCard","setdata","setfilename","errorMsg","setErrorMsg","useMemo","e","Object","includes","imported","converted","importMona","onUpload","file","files","reader","FileReader","onload","readAsText","htmlFor","accept","onChange","component","Upload","px","faFileCode","faArrowLeft","Box","fontFamily","minHeight","resize","UploadInfo","UploadAction","GOODUploadInfo","reset","GOUploadAction","MergeResult","dataValid","copyFrom","faFileUpload","PageSettings","ReactGA","hitType","page","my","flexDirection","gap","init","_getState","setState","useEffect","followState","updateState","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err"],"sourceRoot":""}